/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DOMRectReadOnly: function() { return /* binding */ DOMRectReadOnly; }\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvRE9NUmVjdFJlYWRPbmx5LmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxxREFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9ET01SZWN0UmVhZE9ubHkuanM/OTZkMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmcmVlemUgfSBmcm9tICcuL3V0aWxzL2ZyZWV6ZSc7XG52YXIgRE9NUmVjdFJlYWRPbmx5ID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBET01SZWN0UmVhZE9ubHkoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLnggPSB4O1xuICAgICAgICB0aGlzLnkgPSB5O1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB0aGlzLnRvcCA9IHRoaXMueTtcbiAgICAgICAgdGhpcy5sZWZ0ID0gdGhpcy54O1xuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wICsgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucmlnaHQgPSB0aGlzLmxlZnQgKyB0aGlzLndpZHRoO1xuICAgICAgICByZXR1cm4gZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICBET01SZWN0UmVhZE9ubHkucHJvdG90eXBlLnRvSlNPTiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIF9hID0gdGhpcywgeCA9IF9hLngsIHkgPSBfYS55LCB0b3AgPSBfYS50b3AsIHJpZ2h0ID0gX2EucmlnaHQsIGJvdHRvbSA9IF9hLmJvdHRvbSwgbGVmdCA9IF9hLmxlZnQsIHdpZHRoID0gX2Eud2lkdGgsIGhlaWdodCA9IF9hLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIHsgeDogeCwgeTogeSwgdG9wOiB0b3AsIHJpZ2h0OiByaWdodCwgYm90dG9tOiBib3R0b20sIGxlZnQ6IGxlZnQsIHdpZHRoOiB3aWR0aCwgaGVpZ2h0OiBoZWlnaHQgfTtcbiAgICB9O1xuICAgIERPTVJlY3RSZWFkT25seS5mcm9tUmVjdCA9IGZ1bmN0aW9uIChyZWN0YW5nbGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBET01SZWN0UmVhZE9ubHkocmVjdGFuZ2xlLngsIHJlY3RhbmdsZS55LCByZWN0YW5nbGUud2lkdGgsIHJlY3RhbmdsZS5oZWlnaHQpO1xuICAgIH07XG4gICAgcmV0dXJuIERPTVJlY3RSZWFkT25seTtcbn0oKSk7XG5leHBvcnQgeyBET01SZWN0UmVhZE9ubHkgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObservation.js":
/*!***********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObservation.js ***!
  \***********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObservation: function() { return /* binding */ ResizeObservation; }\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverBoxOptions */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/element */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\n\nvar skipNotifyOnElement = function (target) {\n    return !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isSVG)(target)\n        && !(0,_utils_element__WEBPACK_IMPORTED_MODULE_2__.isReplacedElement)(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_1__.calculateBoxSize)(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFzRTtBQUNMO0FBQ047QUFDM0Q7QUFDQSxZQUFZLHFEQUFLO0FBQ2pCLFlBQVksaUVBQWlCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsK0VBQXdCO0FBQ2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQiw4RUFBZ0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQzRCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2YXRpb24uanM/M2M4YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgaXNTVkcsIGlzUmVwbGFjZWRFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBza2lwTm90aWZ5T25FbGVtZW50ID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgIHJldHVybiAhaXNTVkcodGFyZ2V0KVxuICAgICAgICAmJiAhaXNSZXBsYWNlZEVsZW1lbnQodGFyZ2V0KVxuICAgICAgICAmJiBnZXRDb21wdXRlZFN0eWxlKHRhcmdldCkuZGlzcGxheSA9PT0gJ2lubGluZSc7XG59O1xudmFyIFJlc2l6ZU9ic2VydmF0aW9uID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZhdGlvbih0YXJnZXQsIG9ic2VydmVkQm94KSB7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLm9ic2VydmVkQm94ID0gb2JzZXJ2ZWRCb3ggfHwgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLkNPTlRFTlRfQk9YO1xuICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSB7XG4gICAgICAgICAgICBpbmxpbmVTaXplOiAwLFxuICAgICAgICAgICAgYmxvY2tTaXplOiAwXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmF0aW9uLnByb3RvdHlwZS5pc0FjdGl2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNpemUgPSBjYWxjdWxhdGVCb3hTaXplKHRoaXMudGFyZ2V0LCB0aGlzLm9ic2VydmVkQm94LCB0cnVlKTtcbiAgICAgICAgaWYgKHNraXBOb3RpZnlPbkVsZW1lbnQodGhpcy50YXJnZXQpKSB7XG4gICAgICAgICAgICB0aGlzLmxhc3RSZXBvcnRlZFNpemUgPSBzaXplO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmxhc3RSZXBvcnRlZFNpemUuaW5saW5lU2l6ZSAhPT0gc2l6ZS5pbmxpbmVTaXplXG4gICAgICAgICAgICB8fCB0aGlzLmxhc3RSZXBvcnRlZFNpemUuYmxvY2tTaXplICE9PSBzaXplLmJsb2NrU2l6ZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmF0aW9uO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmF0aW9uIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserver.js":
/*!********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserver.js ***!
  \********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserver: function() { return /* binding */ ResizeObserver; }\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ResizeObserverController */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/element */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\n\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!(0,_utils_element__WEBPACK_IMPORTED_MODULE_1__.isElement)(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        _ResizeObserverController__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXNFO0FBQzFCO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLCtFQUF3QjtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSx5REFBUztBQUN0QjtBQUNBO0FBQ0EsUUFBUSwrRUFBd0I7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEseURBQVM7QUFDdEI7QUFDQTtBQUNBLFFBQVEsK0VBQXdCO0FBQ2hDO0FBQ0E7QUFDQSxRQUFRLCtFQUF3QjtBQUNoQztBQUNBO0FBQ0EsNkNBQTZDLGlCQUFpQjtBQUM5RDtBQUNBO0FBQ0EsQ0FBQztBQUN5QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyLmpzPzIxZWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH0gZnJvbSAnLi9SZXNpemVPYnNlcnZlckNvbnRyb2xsZXInO1xuaW1wb3J0IHsgaXNFbGVtZW50IH0gZnJvbSAnLi91dGlscy9lbGVtZW50JztcbnZhciBSZXNpemVPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gY29uc3RydWN0ICdSZXNpemVPYnNlcnZlcic6IDEgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IDAgcHJlc2VudC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjYWxsYmFjayAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBjb25zdHJ1Y3QgJ1Jlc2l6ZU9ic2VydmVyJzogVGhlIGNhbGxiYWNrIHByb3ZpZGVkIGFzIHBhcmFtZXRlciAxIGlzIG5vdCBhIGZ1bmN0aW9uLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuY29ubmVjdCh0aGlzLCBjYWxsYmFjayk7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKHRhcmdldCwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkZhaWxlZCB0byBleGVjdXRlICdvYnNlcnZlJyBvbiAnUmVzaXplT2JzZXJ2ZXInOiAxIGFyZ3VtZW50IHJlcXVpcmVkLCBidXQgb25seSAwIHByZXNlbnQuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNFbGVtZW50KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJGYWlsZWQgdG8gZXhlY3V0ZSAnb2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLm9ic2VydmUodGhpcywgdGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyLnByb3RvdHlwZS51bm9ic2VydmUgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogMSBhcmd1bWVudCByZXF1aXJlZCwgYnV0IG9ubHkgMCBwcmVzZW50LlwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWlzRWxlbWVudCh0YXJnZXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiRmFpbGVkIHRvIGV4ZWN1dGUgJ3Vub2JzZXJ2ZScgb24gJ1Jlc2l6ZU9ic2VydmVyJzogcGFyYW1ldGVyIDEgaXMgbm90IG9mIHR5cGUgJ0VsZW1lbnRcIik7XG4gICAgICAgIH1cbiAgICAgICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSh0aGlzLCB0YXJnZXQpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIucHJvdG90eXBlLmRpc2Nvbm5lY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5kaXNjb25uZWN0KHRoaXMpO1xuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAnZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIgKCkgeyBbcG9seWZpbGwgY29kZV0gfSc7XG4gICAgfTtcbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserverBoxOptions: function() { return /* binding */ ResizeObserverBoxOptions; }\n/* harmony export */ });\nvar ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0REFBNEQ7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckJveE9wdGlvbnMuanM/ODg1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zO1xuKGZ1bmN0aW9uIChSZXNpemVPYnNlcnZlckJveE9wdGlvbnMpIHtcbiAgICBSZXNpemVPYnNlcnZlckJveE9wdGlvbnNbXCJCT1JERVJfQk9YXCJdID0gXCJib3JkZXItYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiQ09OVEVOVF9CT1hcIl0gPSBcImNvbnRlbnQtYm94XCI7XG4gICAgUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zW1wiREVWSUNFX1BJWEVMX0NPTlRFTlRfQk9YXCJdID0gXCJkZXZpY2UtcGl4ZWwtY29udGVudC1ib3hcIjtcbn0pKFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB8fCAoUmVzaXplT2JzZXJ2ZXJCb3hPcHRpb25zID0ge30pKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js":
/*!******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js ***!
  \******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserverController: function() { return /* binding */ ResizeObserverController; }\n/* harmony export */ });\n/* harmony import */ var _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/scheduler */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\");\n/* harmony import */ var _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ResizeObservation */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObservation.js\");\n/* harmony import */ var _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ResizeObserverDetail */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\");\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/resizeObservers */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\n\n\n\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new _ResizeObserverDetail__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.push(detail);\n            detail.observationTargets.push(new _ResizeObservation__WEBPACK_IMPORTED_MODULE_1__.ResizeObservation(target, options && options.box));\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(1);\n            _utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.splice(_utils_resizeObservers__WEBPACK_IMPORTED_MODULE_3__.resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            (0,_utils_scheduler__WEBPACK_IMPORTED_MODULE_0__.updateCount)(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQTJEO0FBQ0g7QUFDTTtBQUNKO0FBQzFEO0FBQ0E7QUFDQSxvQkFBb0IsK0JBQStCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVFQUFvQjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsbUVBQWU7QUFDL0MsK0NBQStDLGlFQUFpQjtBQUNoRSxZQUFZLDZEQUFXO0FBQ3ZCLFlBQVksdURBQVM7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsbUVBQWUsUUFBUSxtRUFBZTtBQUNyRTtBQUNBLFlBQVksNkRBQVc7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtFQUFrRSxvREFBb0Q7QUFDdEg7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL1Jlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5qcz8zNDQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNjaGVkdWxlciwgdXBkYXRlQ291bnQgfSBmcm9tICcuL3V0aWxzL3NjaGVkdWxlcic7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZhdGlvbiB9IGZyb20gJy4vUmVzaXplT2JzZXJ2YXRpb24nO1xuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyRGV0YWlsJztcbmltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBvYnNlcnZlck1hcCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgZ2V0T2JzZXJ2YXRpb25JbmRleCA9IGZ1bmN0aW9uIChvYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChvYnNlcnZhdGlvblRhcmdldHNbaV0udGFyZ2V0ID09PSB0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAtMTtcbn07XG52YXIgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyID0gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIoKSB7XG4gICAgfVxuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5jb25uZWN0ID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZGV0YWlsID0gbmV3IFJlc2l6ZU9ic2VydmVyRGV0YWlsKHJlc2l6ZU9ic2VydmVyLCBjYWxsYmFjayk7XG4gICAgICAgIG9ic2VydmVyTWFwLnNldChyZXNpemVPYnNlcnZlciwgZGV0YWlsKTtcbiAgICB9O1xuICAgIFJlc2l6ZU9ic2VydmVyQ29udHJvbGxlci5vYnNlcnZlID0gZnVuY3Rpb24gKHJlc2l6ZU9ic2VydmVyLCB0YXJnZXQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRldGFpbCA9IG9ic2VydmVyTWFwLmdldChyZXNpemVPYnNlcnZlcik7XG4gICAgICAgIHZhciBmaXJzdE9ic2VydmF0aW9uID0gZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5sZW5ndGggPT09IDA7XG4gICAgICAgIGlmIChnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCkgPCAwKSB7XG4gICAgICAgICAgICBmaXJzdE9ic2VydmF0aW9uICYmIHJlc2l6ZU9ic2VydmVycy5wdXNoKGRldGFpbCk7XG4gICAgICAgICAgICBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLnB1c2gobmV3IFJlc2l6ZU9ic2VydmF0aW9uKHRhcmdldCwgb3B0aW9ucyAmJiBvcHRpb25zLmJveCkpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoMSk7XG4gICAgICAgICAgICBzY2hlZHVsZXIuc2NoZWR1bGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyLnVub2JzZXJ2ZSA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlciwgdGFyZ2V0KSB7XG4gICAgICAgIHZhciBkZXRhaWwgPSBvYnNlcnZlck1hcC5nZXQocmVzaXplT2JzZXJ2ZXIpO1xuICAgICAgICB2YXIgaW5kZXggPSBnZXRPYnNlcnZhdGlvbkluZGV4KGRldGFpbC5vYnNlcnZhdGlvblRhcmdldHMsIHRhcmdldCk7XG4gICAgICAgIHZhciBsYXN0T2JzZXJ2YXRpb24gPSBkZXRhaWwub2JzZXJ2YXRpb25UYXJnZXRzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGxhc3RPYnNlcnZhdGlvbiAmJiByZXNpemVPYnNlcnZlcnMuc3BsaWNlKHJlc2l6ZU9ic2VydmVycy5pbmRleE9mKGRldGFpbCksIDEpO1xuICAgICAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgdXBkYXRlQ291bnQoLTEpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXIuZGlzY29ubmVjdCA9IGZ1bmN0aW9uIChyZXNpemVPYnNlcnZlcikge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgZGV0YWlsID0gb2JzZXJ2ZXJNYXAuZ2V0KHJlc2l6ZU9ic2VydmVyKTtcbiAgICAgICAgZGV0YWlsLm9ic2VydmF0aW9uVGFyZ2V0cy5zbGljZSgpLmZvckVhY2goZnVuY3Rpb24gKG90KSB7IHJldHVybiBfdGhpcy51bm9ic2VydmUocmVzaXplT2JzZXJ2ZXIsIG90LnRhcmdldCk7IH0pO1xuICAgICAgICBkZXRhaWwuYWN0aXZlVGFyZ2V0cy5zcGxpY2UoMCwgZGV0YWlsLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9O1xuICAgIHJldHVybiBSZXNpemVPYnNlcnZlckNvbnRyb2xsZXI7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJDb250cm9sbGVyIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverController.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserverDetail: function() { return /* binding */ ResizeObserverDetail; }\n/* harmony export */ });\nvar ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJEZXRhaWwuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9SZXNpemVPYnNlcnZlckRldGFpbC5qcz9mZDM0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBSZXNpemVPYnNlcnZlckRldGFpbCA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJEZXRhaWwocmVzaXplT2JzZXJ2ZXIsIGNhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlVGFyZ2V0cyA9IFtdO1xuICAgICAgICB0aGlzLnNraXBwZWRUYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2YXRpb25UYXJnZXRzID0gW107XG4gICAgICAgIHRoaXMub2JzZXJ2ZXIgPSByZXNpemVPYnNlcnZlcjtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJEZXRhaWw7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJEZXRhaWwgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js":
/*!*************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js ***!
  \*************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserverEntry: function() { return /* binding */ ResizeObserverEntry; }\n/* harmony export */ });\n/* harmony import */ var _algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./algorithms/calculateBoxSize */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/freeze */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\n\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = (0,_algorithms_calculateBoxSize__WEBPACK_IMPORTED_MODULE_0__.calculateBoxSizes)(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.borderBoxSize]);\n        this.contentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_1__.freeze)([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0U7QUFDMUI7QUFDeEM7QUFDQTtBQUNBLG9CQUFvQiwrRUFBaUI7QUFDckM7QUFDQTtBQUNBLDZCQUE2QixxREFBTTtBQUNuQyw4QkFBOEIscURBQU07QUFDcEMseUNBQXlDLHFEQUFNO0FBQy9DO0FBQ0E7QUFDQSxDQUFDO0FBQzhCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJFbnRyeS5qcz81OTBhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGNhbGN1bGF0ZUJveFNpemVzIH0gZnJvbSAnLi9hbGdvcml0aG1zL2NhbGN1bGF0ZUJveFNpemUnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyRW50cnkgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc2l6ZU9ic2VydmVyRW50cnkodGFyZ2V0KSB7XG4gICAgICAgIHZhciBib3hlcyA9IGNhbGN1bGF0ZUJveFNpemVzKHRhcmdldCk7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmNvbnRlbnRSZWN0ID0gYm94ZXMuY29udGVudFJlY3Q7XG4gICAgICAgIHRoaXMuYm9yZGVyQm94U2l6ZSA9IGZyZWV6ZShbYm94ZXMuYm9yZGVyQm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmNvbnRlbnRCb3hTaXplID0gZnJlZXplKFtib3hlcy5jb250ZW50Qm94U2l6ZV0pO1xuICAgICAgICB0aGlzLmRldmljZVBpeGVsQ29udGVudEJveFNpemUgPSBmcmVlemUoW2JveGVzLmRldmljZVBpeGVsQ29udGVudEJveFNpemVdKTtcbiAgICB9XG4gICAgcmV0dXJuIFJlc2l6ZU9ic2VydmVyRW50cnk7XG59KCkpO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJFbnRyeSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js":
/*!************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js ***!
  \************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserverSize: function() { return /* binding */ ResizeObserverSize; }\n/* harmony export */ });\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/freeze */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_0__.freeze)(this);\n    }\n    return ResizeObserverSize;\n}());\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJTaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQXdDO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUSxxREFBTTtBQUNkO0FBQ0E7QUFDQSxDQUFDO0FBQzZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvUmVzaXplT2JzZXJ2ZXJTaXplLmpzPzcyMmUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi91dGlscy9mcmVlemUnO1xudmFyIFJlc2l6ZU9ic2VydmVyU2l6ZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXJTaXplKGlubGluZVNpemUsIGJsb2NrU2l6ZSkge1xuICAgICAgICB0aGlzLmlubGluZVNpemUgPSBpbmxpbmVTaXplO1xuICAgICAgICB0aGlzLmJsb2NrU2l6ZSA9IGJsb2NrU2l6ZTtcbiAgICAgICAgZnJlZXplKHRoaXMpO1xuICAgIH1cbiAgICByZXR1cm4gUmVzaXplT2JzZXJ2ZXJTaXplO1xufSgpKTtcbmV4cG9ydCB7IFJlc2l6ZU9ic2VydmVyU2l6ZSB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js":
/*!********************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js ***!
  \********************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   broadcastActiveObservations: function() { return /* binding */ broadcastActiveObservations; }\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./calculateDepthForNode */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n/* harmony import */ var _calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./calculateBoxSize */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\");\n\n\n\n\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry(ot.target);\n            var targetDepth = (0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_2__.calculateDepthForNode)(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = (0,_calculateBoxSize__WEBPACK_IMPORTED_MODULE_3__.calculateBoxSize)(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBMkQ7QUFDRTtBQUNHO0FBQ1Y7QUFDdEQ7QUFDQTtBQUNBO0FBQ0EsSUFBSSxtRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLHFFQUFtQjtBQUMvQyw4QkFBOEIsNkVBQXFCO0FBQ25EO0FBQ0Esa0NBQWtDLG1FQUFnQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTCw4Q0FBOEMseUJBQXlCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDdUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2Jyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucy5qcz84NDAzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG5pbXBvcnQgeyBjYWxjdWxhdGVCb3hTaXplIH0gZnJvbSAnLi9jYWxjdWxhdGVCb3hTaXplJztcbnZhciBicm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNoYWxsb3dlc3REZXB0aCA9IEluZmluaXR5O1xuICAgIHZhciBjYWxsYmFja3MgPSBbXTtcbiAgICByZXNpemVPYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzT2JzZXJ2ZXIocm8pIHtcbiAgICAgICAgaWYgKHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgcm8uYWN0aXZlVGFyZ2V0cy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NUYXJnZXQob3QpIHtcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IG5ldyBSZXNpemVPYnNlcnZlckVudHJ5KG90LnRhcmdldCk7XG4gICAgICAgICAgICB2YXIgdGFyZ2V0RGVwdGggPSBjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KTtcbiAgICAgICAgICAgIGVudHJpZXMucHVzaChlbnRyeSk7XG4gICAgICAgICAgICBvdC5sYXN0UmVwb3J0ZWRTaXplID0gY2FsY3VsYXRlQm94U2l6ZShvdC50YXJnZXQsIG90Lm9ic2VydmVkQm94KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXREZXB0aCA8IHNoYWxsb3dlc3REZXB0aCkge1xuICAgICAgICAgICAgICAgIHNoYWxsb3dlc3REZXB0aCA9IHRhcmdldERlcHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2tzLnB1c2goZnVuY3Rpb24gcmVzaXplT2JzZXJ2ZXJDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIHJvLmNhbGxiYWNrLmNhbGwocm8ub2JzZXJ2ZXIsIGVudHJpZXMsIHJvLm9ic2VydmVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJvLmFjdGl2ZVRhcmdldHMuc3BsaWNlKDAsIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoKTtcbiAgICB9KTtcbiAgICBmb3IgKHZhciBfaSA9IDAsIGNhbGxiYWNrc18xID0gY2FsbGJhY2tzOyBfaSA8IGNhbGxiYWNrc18xLmxlbmd0aDsgX2krKykge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBjYWxsYmFja3NfMVtfaV07XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJldHVybiBzaGFsbG93ZXN0RGVwdGg7XG59O1xuZXhwb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js":
/*!*********************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateBoxSize: function() { return /* binding */ calculateBoxSize; },\n/* harmony export */   calculateBoxSizes: function() { return /* binding */ calculateBoxSizes; }\n/* harmony export */ });\n/* harmony import */ var _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserverBoxOptions */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverSize */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n/* harmony import */ var _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../DOMRectReadOnly */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js\");\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/element */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n/* harmony import */ var _utils_freeze__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/freeze */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js\");\n/* harmony import */ var _utils_global__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/global */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n\n\n\n\n\n\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(_utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator && _utils_global__WEBPACK_IMPORTED_MODULE_5__.global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isHidden)(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = (0,_utils_element__WEBPACK_IMPORTED_MODULE_3__.isSVG)(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = (0,_utils_freeze__WEBPACK_IMPORTED_MODULE_4__.freeze)({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new _DOMRectReadOnly__WEBPACK_IMPORTED_MODULE_2__.DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case _ResizeObserverBoxOptions__WEBPACK_IMPORTED_MODULE_0__.ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVCb3hTaXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXVFO0FBQ1o7QUFDTjtBQUNGO0FBQ1Y7QUFDQTtBQUN6QztBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsaURBQU0sY0FBYyxpREFBTTtBQUMxRCx3Q0FBd0M7QUFDeEM7QUFDQSxpQ0FBaUM7QUFDakMsZ0NBQWdDO0FBQ2hDLGtDQUFrQztBQUNsQyxlQUFlLG1FQUFrQjtBQUNqQztBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsNkRBQWU7QUFDcEMsQ0FBQztBQUNEO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFFBQVEsd0RBQVE7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFLO0FBQ25CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixxREFBTTtBQUN0QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsNkRBQWU7QUFDeEMsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsK0VBQXdCO0FBQ3JDO0FBQ0EsYUFBYSwrRUFBd0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUMrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvY2FsY3VsYXRlQm94U2l6ZS5qcz8zNGY2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyB9IGZyb20gJy4uL1Jlc2l6ZU9ic2VydmVyQm94T3B0aW9ucyc7XG5pbXBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuaW1wb3J0IHsgRE9NUmVjdFJlYWRPbmx5IH0gZnJvbSAnLi4vRE9NUmVjdFJlYWRPbmx5JztcbmltcG9ydCB7IGlzU1ZHLCBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xuaW1wb3J0IHsgZnJlZXplIH0gZnJvbSAnLi4vdXRpbHMvZnJlZXplJztcbmltcG9ydCB7IGdsb2JhbCB9IGZyb20gJy4uL3V0aWxzL2dsb2JhbCc7XG52YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpO1xudmFyIHNjcm9sbFJlZ2V4cCA9IC9hdXRvfHNjcm9sbC87XG52YXIgdmVydGljYWxSZWdleHAgPSAvXnRifHZlcnRpY2FsLztcbnZhciBJRSA9ICgvbXNpZXx0cmlkZW50L2kpLnRlc3QoZ2xvYmFsLm5hdmlnYXRvciAmJiBnbG9iYWwubmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgcGFyc2VEaW1lbnNpb24gPSBmdW5jdGlvbiAocGl4ZWwpIHsgcmV0dXJuIHBhcnNlRmxvYXQocGl4ZWwgfHwgJzAnKTsgfTtcbnZhciBzaXplID0gZnVuY3Rpb24gKGlubGluZVNpemUsIGJsb2NrU2l6ZSwgc3dpdGNoU2l6ZXMpIHtcbiAgICBpZiAoaW5saW5lU2l6ZSA9PT0gdm9pZCAwKSB7IGlubGluZVNpemUgPSAwOyB9XG4gICAgaWYgKGJsb2NrU2l6ZSA9PT0gdm9pZCAwKSB7IGJsb2NrU2l6ZSA9IDA7IH1cbiAgICBpZiAoc3dpdGNoU2l6ZXMgPT09IHZvaWQgMCkgeyBzd2l0Y2hTaXplcyA9IGZhbHNlOyB9XG4gICAgcmV0dXJuIG5ldyBSZXNpemVPYnNlcnZlclNpemUoKHN3aXRjaFNpemVzID8gYmxvY2tTaXplIDogaW5saW5lU2l6ZSkgfHwgMCwgKHN3aXRjaFNpemVzID8gaW5saW5lU2l6ZSA6IGJsb2NrU2l6ZSkgfHwgMCk7XG59O1xudmFyIHplcm9Cb3hlcyA9IGZyZWV6ZSh7XG4gICAgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGJvcmRlckJveFNpemU6IHNpemUoKSxcbiAgICBjb250ZW50Qm94U2l6ZTogc2l6ZSgpLFxuICAgIGNvbnRlbnRSZWN0OiBuZXcgRE9NUmVjdFJlYWRPbmx5KDAsIDAsIDAsIDApXG59KTtcbnZhciBjYWxjdWxhdGVCb3hTaXplcyA9IGZ1bmN0aW9uICh0YXJnZXQsIGZvcmNlUmVjYWxjdWxhdGlvbikge1xuICAgIGlmIChmb3JjZVJlY2FsY3VsYXRpb24gPT09IHZvaWQgMCkgeyBmb3JjZVJlY2FsY3VsYXRpb24gPSBmYWxzZTsgfVxuICAgIGlmIChjYWNoZS5oYXModGFyZ2V0KSAmJiAhZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgICAgIHJldHVybiBjYWNoZS5nZXQodGFyZ2V0KTtcbiAgICB9XG4gICAgaWYgKGlzSGlkZGVuKHRhcmdldCkpIHtcbiAgICAgICAgY2FjaGUuc2V0KHRhcmdldCwgemVyb0JveGVzKTtcbiAgICAgICAgcmV0dXJuIHplcm9Cb3hlcztcbiAgICB9XG4gICAgdmFyIGNzID0gZ2V0Q29tcHV0ZWRTdHlsZSh0YXJnZXQpO1xuICAgIHZhciBzdmcgPSBpc1NWRyh0YXJnZXQpICYmIHRhcmdldC5vd25lclNWR0VsZW1lbnQgJiYgdGFyZ2V0LmdldEJCb3goKTtcbiAgICB2YXIgcmVtb3ZlUGFkZGluZyA9ICFJRSAmJiBjcy5ib3hTaXppbmcgPT09ICdib3JkZXItYm94JztcbiAgICB2YXIgc3dpdGNoU2l6ZXMgPSB2ZXJ0aWNhbFJlZ2V4cC50ZXN0KGNzLndyaXRpbmdNb2RlIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsVmVydGljYWxseSA9ICFzdmcgJiYgc2Nyb2xsUmVnZXhwLnRlc3QoY3Mub3ZlcmZsb3dZIHx8ICcnKTtcbiAgICB2YXIgY2FuU2Nyb2xsSG9yaXpvbnRhbGx5ID0gIXN2ZyAmJiBzY3JvbGxSZWdleHAudGVzdChjcy5vdmVyZmxvd1ggfHwgJycpO1xuICAgIHZhciBwYWRkaW5nVG9wID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLnBhZGRpbmdUb3ApO1xuICAgIHZhciBwYWRkaW5nUmlnaHQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ1JpZ2h0KTtcbiAgICB2YXIgcGFkZGluZ0JvdHRvbSA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5wYWRkaW5nQm90dG9tKTtcbiAgICB2YXIgcGFkZGluZ0xlZnQgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MucGFkZGluZ0xlZnQpO1xuICAgIHZhciBib3JkZXJUb3AgPSBzdmcgPyAwIDogcGFyc2VEaW1lbnNpb24oY3MuYm9yZGVyVG9wV2lkdGgpO1xuICAgIHZhciBib3JkZXJSaWdodCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJSaWdodFdpZHRoKTtcbiAgICB2YXIgYm9yZGVyQm90dG9tID0gc3ZnID8gMCA6IHBhcnNlRGltZW5zaW9uKGNzLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICB2YXIgYm9yZGVyTGVmdCA9IHN2ZyA/IDAgOiBwYXJzZURpbWVuc2lvbihjcy5ib3JkZXJMZWZ0V2lkdGgpO1xuICAgIHZhciBob3Jpem9udGFsUGFkZGluZyA9IHBhZGRpbmdMZWZ0ICsgcGFkZGluZ1JpZ2h0O1xuICAgIHZhciB2ZXJ0aWNhbFBhZGRpbmcgPSBwYWRkaW5nVG9wICsgcGFkZGluZ0JvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbEJvcmRlckFyZWEgPSBib3JkZXJMZWZ0ICsgYm9yZGVyUmlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsQm9yZGVyQXJlYSA9IGJvcmRlclRvcCArIGJvcmRlckJvdHRvbTtcbiAgICB2YXIgaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcyA9ICFjYW5TY3JvbGxIb3Jpem9udGFsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldEhlaWdodCAtIHZlcnRpY2FsQm9yZGVyQXJlYSAtIHRhcmdldC5jbGllbnRIZWlnaHQ7XG4gICAgdmFyIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzID0gIWNhblNjcm9sbFZlcnRpY2FsbHkgPyAwIDogdGFyZ2V0Lm9mZnNldFdpZHRoIC0gaG9yaXpvbnRhbEJvcmRlckFyZWEgLSB0YXJnZXQuY2xpZW50V2lkdGg7XG4gICAgdmFyIHdpZHRoUmVkdWN0aW9uID0gcmVtb3ZlUGFkZGluZyA/IGhvcml6b250YWxQYWRkaW5nICsgaG9yaXpvbnRhbEJvcmRlckFyZWEgOiAwO1xuICAgIHZhciBoZWlnaHRSZWR1Y3Rpb24gPSByZW1vdmVQYWRkaW5nID8gdmVydGljYWxQYWRkaW5nICsgdmVydGljYWxCb3JkZXJBcmVhIDogMDtcbiAgICB2YXIgY29udGVudFdpZHRoID0gc3ZnID8gc3ZnLndpZHRoIDogcGFyc2VEaW1lbnNpb24oY3Mud2lkdGgpIC0gd2lkdGhSZWR1Y3Rpb24gLSB2ZXJ0aWNhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgY29udGVudEhlaWdodCA9IHN2ZyA/IHN2Zy5oZWlnaHQgOiBwYXJzZURpbWVuc2lvbihjcy5oZWlnaHQpIC0gaGVpZ2h0UmVkdWN0aW9uIC0gaG9yaXpvbnRhbFNjcm9sbGJhclRoaWNrbmVzcztcbiAgICB2YXIgYm9yZGVyQm94V2lkdGggPSBjb250ZW50V2lkdGggKyBob3Jpem9udGFsUGFkZGluZyArIHZlcnRpY2FsU2Nyb2xsYmFyVGhpY2tuZXNzICsgaG9yaXpvbnRhbEJvcmRlckFyZWE7XG4gICAgdmFyIGJvcmRlckJveEhlaWdodCA9IGNvbnRlbnRIZWlnaHQgKyB2ZXJ0aWNhbFBhZGRpbmcgKyBob3Jpem9udGFsU2Nyb2xsYmFyVGhpY2tuZXNzICsgdmVydGljYWxCb3JkZXJBcmVhO1xuICAgIHZhciBib3hlcyA9IGZyZWV6ZSh7XG4gICAgICAgIGRldmljZVBpeGVsQ29udGVudEJveFNpemU6IHNpemUoTWF0aC5yb3VuZChjb250ZW50V2lkdGggKiBkZXZpY2VQaXhlbFJhdGlvKSwgTWF0aC5yb3VuZChjb250ZW50SGVpZ2h0ICogZGV2aWNlUGl4ZWxSYXRpbyksIHN3aXRjaFNpemVzKSxcbiAgICAgICAgYm9yZGVyQm94U2l6ZTogc2l6ZShib3JkZXJCb3hXaWR0aCwgYm9yZGVyQm94SGVpZ2h0LCBzd2l0Y2hTaXplcyksXG4gICAgICAgIGNvbnRlbnRCb3hTaXplOiBzaXplKGNvbnRlbnRXaWR0aCwgY29udGVudEhlaWdodCwgc3dpdGNoU2l6ZXMpLFxuICAgICAgICBjb250ZW50UmVjdDogbmV3IERPTVJlY3RSZWFkT25seShwYWRkaW5nTGVmdCwgcGFkZGluZ1RvcCwgY29udGVudFdpZHRoLCBjb250ZW50SGVpZ2h0KVxuICAgIH0pO1xuICAgIGNhY2hlLnNldCh0YXJnZXQsIGJveGVzKTtcbiAgICByZXR1cm4gYm94ZXM7XG59O1xudmFyIGNhbGN1bGF0ZUJveFNpemUgPSBmdW5jdGlvbiAodGFyZ2V0LCBvYnNlcnZlZEJveCwgZm9yY2VSZWNhbGN1bGF0aW9uKSB7XG4gICAgdmFyIF9hID0gY2FsY3VsYXRlQm94U2l6ZXModGFyZ2V0LCBmb3JjZVJlY2FsY3VsYXRpb24pLCBib3JkZXJCb3hTaXplID0gX2EuYm9yZGVyQm94U2l6ZSwgY29udGVudEJveFNpemUgPSBfYS5jb250ZW50Qm94U2l6ZSwgZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZSA9IF9hLmRldmljZVBpeGVsQ29udGVudEJveFNpemU7XG4gICAgc3dpdGNoIChvYnNlcnZlZEJveCkge1xuICAgICAgICBjYXNlIFJlc2l6ZU9ic2VydmVyQm94T3B0aW9ucy5ERVZJQ0VfUElYRUxfQ09OVEVOVF9CT1g6XG4gICAgICAgICAgICByZXR1cm4gZGV2aWNlUGl4ZWxDb250ZW50Qm94U2l6ZTtcbiAgICAgICAgY2FzZSBSZXNpemVPYnNlcnZlckJveE9wdGlvbnMuQk9SREVSX0JPWDpcbiAgICAgICAgICAgIHJldHVybiBib3JkZXJCb3hTaXplO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGNvbnRlbnRCb3hTaXplO1xuICAgIH1cbn07XG5leHBvcnQgeyBjYWxjdWxhdGVCb3hTaXplLCBjYWxjdWxhdGVCb3hTaXplcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateDepthForNode: function() { return /* binding */ calculateDepthForNode; }\n/* harmony export */ });\n/* harmony import */ var _utils_element__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/element */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js\");\n\nvar calculateDepthForNode = function (node) {\n    if ((0,_utils_element__WEBPACK_IMPORTED_MODULE_0__.isHidden)(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7QUFDNUM7QUFDQSxRQUFRLHdEQUFRO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ2lDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9jYWxjdWxhdGVEZXB0aEZvck5vZGUuanM/MzJiZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc0hpZGRlbiB9IGZyb20gJy4uL3V0aWxzL2VsZW1lbnQnO1xudmFyIGNhbGN1bGF0ZURlcHRoRm9yTm9kZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgaWYgKGlzSGlkZGVuKG5vZGUpKSB7XG4gICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICB9XG4gICAgdmFyIGRlcHRoID0gMDtcbiAgICB2YXIgcGFyZW50ID0gbm9kZS5wYXJlbnROb2RlO1xuICAgIHdoaWxlIChwYXJlbnQpIHtcbiAgICAgICAgZGVwdGggKz0gMTtcbiAgICAgICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aDtcbn07XG5leHBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deliverResizeLoopError: function() { return /* binding */ deliverResizeLoopError; }\n/* harmony export */ });\nvar msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9kZWxpdmVyUmVzaXplTG9vcEVycm9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZGVsaXZlclJlc2l6ZUxvb3BFcnJvci5qcz82OGE0Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBtc2cgPSAnUmVzaXplT2JzZXJ2ZXIgbG9vcCBjb21wbGV0ZWQgd2l0aCB1bmRlbGl2ZXJlZCBub3RpZmljYXRpb25zLic7XG52YXIgZGVsaXZlclJlc2l6ZUxvb3BFcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZXZlbnQ7XG4gICAgaWYgKHR5cGVvZiBFcnJvckV2ZW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGV2ZW50ID0gbmV3IEVycm9yRXZlbnQoJ2Vycm9yJywge1xuICAgICAgICAgICAgbWVzc2FnZTogbXNnXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZXZlbnQgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdlcnJvcicsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIGV2ZW50Lm1lc3NhZ2UgPSBtc2c7XG4gICAgfVxuICAgIHdpbmRvdy5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn07XG5leHBvcnQgeyBkZWxpdmVyUmVzaXplTG9vcEVycm9yIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js":
/*!************************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js ***!
  \************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   gatherActiveObservationsAtDepth: function() { return /* binding */ gatherActiveObservationsAtDepth; }\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n/* harmony import */ var _calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./calculateDepthForNode */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js\");\n\n\nvar gatherActiveObservationsAtDepth = function (depth) {\n    _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if ((0,_calculateDepthForNode__WEBPACK_IMPORTED_MODULE_1__.calculateDepthForNode)(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9nYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyRDtBQUNLO0FBQ2hFO0FBQ0EsSUFBSSxtRUFBZTtBQUNuQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQiw2RUFBcUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUMyQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aC5qcz8yZDg3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG5pbXBvcnQgeyBjYWxjdWxhdGVEZXB0aEZvck5vZGUgfSBmcm9tICcuL2NhbGN1bGF0ZURlcHRoRm9yTm9kZSc7XG52YXIgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCA9IGZ1bmN0aW9uIChkZXB0aCkge1xuICAgIHJlc2l6ZU9ic2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uIHByb2Nlc3NPYnNlcnZlcihybykge1xuICAgICAgICByby5hY3RpdmVUYXJnZXRzLnNwbGljZSgwLCByby5hY3RpdmVUYXJnZXRzLmxlbmd0aCk7XG4gICAgICAgIHJvLnNraXBwZWRUYXJnZXRzLnNwbGljZSgwLCByby5za2lwcGVkVGFyZ2V0cy5sZW5ndGgpO1xuICAgICAgICByby5vYnNlcnZhdGlvblRhcmdldHMuZm9yRWFjaChmdW5jdGlvbiBwcm9jZXNzVGFyZ2V0KG90KSB7XG4gICAgICAgICAgICBpZiAob3QuaXNBY3RpdmUoKSkge1xuICAgICAgICAgICAgICAgIGlmIChjYWxjdWxhdGVEZXB0aEZvck5vZGUob3QudGFyZ2V0KSA+IGRlcHRoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJvLmFjdGl2ZVRhcmdldHMucHVzaChvdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByby5za2lwcGVkVGFyZ2V0cy5wdXNoKG90KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcbmV4cG9ydCB7IGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGggfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js":
/*!**************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasActiveObservations: function() { return /* binding */ hasActiveObservations; }\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasActiveObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNBY3RpdmVPYnNlcnZhdGlvbnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMkQ7QUFDM0Q7QUFDQSxXQUFXLG1FQUFlLHNCQUFzQixxQ0FBcUM7QUFDckY7QUFDaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucy5qcz85YjEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9IGZyb20gJy4uL3V0aWxzL3Jlc2l6ZU9ic2VydmVycyc7XG52YXIgaGFzQWN0aXZlT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLmFjdGl2ZVRhcmdldHMubGVuZ3RoID4gMDsgfSk7XG59O1xuZXhwb3J0IHsgaGFzQWN0aXZlT2JzZXJ2YXRpb25zIH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js":
/*!***************************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   hasSkippedObservations: function() { return /* binding */ hasSkippedObservations; }\n/* harmony export */ });\n/* harmony import */ var _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/resizeObservers */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\");\n\nvar hasSkippedObservations = function () {\n    return _utils_resizeObservers__WEBPACK_IMPORTED_MODULE_0__.resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTJEO0FBQzNEO0FBQ0EsV0FBVyxtRUFBZSxzQkFBc0Isc0NBQXNDO0FBQ3RGO0FBQ2tDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zLmpzPzU3NGIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcmVzaXplT2JzZXJ2ZXJzIH0gZnJvbSAnLi4vdXRpbHMvcmVzaXplT2JzZXJ2ZXJzJztcbnZhciBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiByZXNpemVPYnNlcnZlcnMuc29tZShmdW5jdGlvbiAocm8pIHsgcmV0dXJuIHJvLnNraXBwZWRUYXJnZXRzLmxlbmd0aCA+IDA7IH0pO1xufTtcbmV4cG9ydCB7IGhhc1NraXBwZWRPYnNlcnZhdGlvbnMgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js":
/*!*****************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResizeObserver: function() { return /* reexport safe */ _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__.ResizeObserver; },\n/* harmony export */   ResizeObserverEntry: function() { return /* reexport safe */ _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__.ResizeObserverEntry; },\n/* harmony export */   ResizeObserverSize: function() { return /* reexport safe */ _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__.ResizeObserverSize; }\n/* harmony export */ });\n/* harmony import */ var _ResizeObserver__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ResizeObserver */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserver.js\");\n/* harmony import */ var _ResizeObserverEntry__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ResizeObserverEntry */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js\");\n/* harmony import */ var _ResizeObserverSize__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ResizeObserverSize */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js\");\n\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvZXhwb3J0cy9yZXNpemUtb2JzZXJ2ZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW1EO0FBQ1U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL2V4cG9ydHMvcmVzaXplLW9ic2VydmVyLmpzPzY0MzIiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXIgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlcic7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlckVudHJ5IH0gZnJvbSAnLi4vUmVzaXplT2JzZXJ2ZXJFbnRyeSc7XG5leHBvcnQgeyBSZXNpemVPYnNlcnZlclNpemUgfSBmcm9tICcuLi9SZXNpemVPYnNlcnZlclNpemUnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/element.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isElement: function() { return /* binding */ isElement; },\n/* harmony export */   isHidden: function() { return /* binding */ isHidden; },\n/* harmony export */   isReplacedElement: function() { return /* binding */ isReplacedElement; },\n/* harmony export */   isSVG: function() { return /* binding */ isSVG; }\n/* harmony export */ });\nvar isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZWxlbWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUN5RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2VsZW1lbnQuanM/MDg4NyJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgaXNTVkcgPSBmdW5jdGlvbiAodGFyZ2V0KSB7IHJldHVybiB0YXJnZXQgaW5zdGFuY2VvZiBTVkdFbGVtZW50ICYmICdnZXRCQm94JyBpbiB0YXJnZXQ7IH07XG52YXIgaXNIaWRkZW4gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgaWYgKGlzU1ZHKHRhcmdldCkpIHtcbiAgICAgICAgdmFyIF9hID0gdGFyZ2V0LmdldEJCb3goKSwgd2lkdGggPSBfYS53aWR0aCwgaGVpZ2h0ID0gX2EuaGVpZ2h0O1xuICAgICAgICByZXR1cm4gIXdpZHRoICYmICFoZWlnaHQ7XG4gICAgfVxuICAgIHZhciBfYiA9IHRhcmdldCwgb2Zmc2V0V2lkdGggPSBfYi5vZmZzZXRXaWR0aCwgb2Zmc2V0SGVpZ2h0ID0gX2Iub2Zmc2V0SGVpZ2h0O1xuICAgIHJldHVybiAhKG9mZnNldFdpZHRoIHx8IG9mZnNldEhlaWdodCB8fCB0YXJnZXQuZ2V0Q2xpZW50UmVjdHMoKS5sZW5ndGgpO1xufTtcbnZhciBpc0VsZW1lbnQgPSBmdW5jdGlvbiAob2JqKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmIChvYmogaW5zdGFuY2VvZiBFbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgc2NvcGUgPSAoX2EgPSBvYmogPT09IG51bGwgfHwgb2JqID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvYmoub3duZXJEb2N1bWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlZmF1bHRWaWV3O1xuICAgIHJldHVybiAhIShzY29wZSAmJiBvYmogaW5zdGFuY2VvZiBzY29wZS5FbGVtZW50KTtcbn07XG52YXIgaXNSZXBsYWNlZEVsZW1lbnQgPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgc3dpdGNoICh0YXJnZXQudGFnTmFtZSkge1xuICAgICAgICBjYXNlICdJTlBVVCc6XG4gICAgICAgICAgICBpZiAodGFyZ2V0LnR5cGUgIT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgY2FzZSAnVklERU8nOlxuICAgICAgICBjYXNlICdBVURJTyc6XG4gICAgICAgIGNhc2UgJ0VNQkVEJzpcbiAgICAgICAgY2FzZSAnT0JKRUNUJzpcbiAgICAgICAgY2FzZSAnQ0FOVkFTJzpcbiAgICAgICAgY2FzZSAnSUZSQU1FJzpcbiAgICAgICAgY2FzZSAnSU1HJzpcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59O1xuZXhwb3J0IHsgaXNTVkcsIGlzSGlkZGVuLCBpc0VsZW1lbnQsIGlzUmVwbGFjZWRFbGVtZW50IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/element.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/freeze.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   freeze: function() { return /* binding */ freeze; }\n/* harmony export */ });\nvar freeze = function (obj) { return Object.freeze(obj); };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZnJlZXplLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyw4QkFBOEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9mcmVlemUuanM/OThjNyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIGZyZWV6ZSA9IGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIE9iamVjdC5mcmVlemUob2JqKTsgfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/freeze.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/global.js":
/*!******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/global.js ***!
  \******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   global: function() { return /* binding */ global; }\n/* harmony export */ });\nvar global = typeof window !== 'undefined' ? window : {};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvZ2xvYmFsLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL2dsb2JhbC5qcz85MjdiIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgZ2xvYmFsID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/global.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/process.js":
/*!*******************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/process.js ***!
  \*******************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   process: function() { return /* binding */ process; }\n/* harmony export */ });\n/* harmony import */ var _algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../algorithms/hasActiveObservations */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js\");\n/* harmony import */ var _algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../algorithms/hasSkippedObservations */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js\");\n/* harmony import */ var _algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../algorithms/deliverResizeLoopError */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js\");\n/* harmony import */ var _algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../algorithms/broadcastActiveObservations */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js\");\n/* harmony import */ var _algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../algorithms/gatherActiveObservationsAtDepth */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js\");\n\n\n\n\n\nvar process = function () {\n    var depth = 0;\n    (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    while ((0,_algorithms_hasActiveObservations__WEBPACK_IMPORTED_MODULE_0__.hasActiveObservations)()) {\n        depth = (0,_algorithms_broadcastActiveObservations__WEBPACK_IMPORTED_MODULE_3__.broadcastActiveObservations)();\n        (0,_algorithms_gatherActiveObservationsAtDepth__WEBPACK_IMPORTED_MODULE_4__.gatherActiveObservationsAtDepth)(depth);\n    }\n    if ((0,_algorithms_hasSkippedObservations__WEBPACK_IMPORTED_MODULE_1__.hasSkippedObservations)()) {\n        (0,_algorithms_deliverResizeLoopError__WEBPACK_IMPORTED_MODULE_2__.deliverResizeLoopError)();\n    }\n    return depth > 0;\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcHJvY2Vzcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEU7QUFDRTtBQUNBO0FBQ1U7QUFDUTtBQUNoRztBQUNBO0FBQ0EsSUFBSSw0R0FBK0I7QUFDbkMsV0FBVyx3RkFBcUI7QUFDaEMsZ0JBQWdCLG9HQUEyQjtBQUMzQyxRQUFRLDRHQUErQjtBQUN2QztBQUNBLFFBQVEsMEZBQXNCO0FBQzlCLFFBQVEsMEZBQXNCO0FBQzlCO0FBQ0E7QUFDQTtBQUNtQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Byb2Nlc3MuanM/ODI5OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBoYXNBY3RpdmVPYnNlcnZhdGlvbnMgfSBmcm9tICcuLi9hbGdvcml0aG1zL2hhc0FjdGl2ZU9ic2VydmF0aW9ucyc7XG5pbXBvcnQgeyBoYXNTa2lwcGVkT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9oYXNTa2lwcGVkT2JzZXJ2YXRpb25zJztcbmltcG9ydCB7IGRlbGl2ZXJSZXNpemVMb29wRXJyb3IgfSBmcm9tICcuLi9hbGdvcml0aG1zL2RlbGl2ZXJSZXNpemVMb29wRXJyb3InO1xuaW1wb3J0IHsgYnJvYWRjYXN0QWN0aXZlT2JzZXJ2YXRpb25zIH0gZnJvbSAnLi4vYWxnb3JpdGhtcy9icm9hZGNhc3RBY3RpdmVPYnNlcnZhdGlvbnMnO1xuaW1wb3J0IHsgZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCB9IGZyb20gJy4uL2FsZ29yaXRobXMvZ2F0aGVyQWN0aXZlT2JzZXJ2YXRpb25zQXREZXB0aCc7XG52YXIgcHJvY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGVwdGggPSAwO1xuICAgIGdhdGhlckFjdGl2ZU9ic2VydmF0aW9uc0F0RGVwdGgoZGVwdGgpO1xuICAgIHdoaWxlIChoYXNBY3RpdmVPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZXB0aCA9IGJyb2FkY2FzdEFjdGl2ZU9ic2VydmF0aW9ucygpO1xuICAgICAgICBnYXRoZXJBY3RpdmVPYnNlcnZhdGlvbnNBdERlcHRoKGRlcHRoKTtcbiAgICB9XG4gICAgaWYgKGhhc1NraXBwZWRPYnNlcnZhdGlvbnMoKSkge1xuICAgICAgICBkZWxpdmVyUmVzaXplTG9vcEVycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiBkZXB0aCA+IDA7XG59O1xuZXhwb3J0IHsgcHJvY2VzcyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/process.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js":
/*!**************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js ***!
  \**************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queueMicroTask: function() { return /* binding */ queueMicroTask; }\n/* harmony export */ });\nvar trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVNaWNyb1Rhc2suanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQSwyQkFBMkIsbURBQW1ELGNBQWM7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUI7QUFDdkIsMkNBQTJDLGtCQUFrQjtBQUM3RCxnQ0FBZ0M7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9xdWV1ZU1pY3JvVGFzay5qcz8xMTFlIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB0cmlnZ2VyO1xudmFyIGNhbGxiYWNrcyA9IFtdO1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNhbGxiYWNrcy5zcGxpY2UoMCkuZm9yRWFjaChmdW5jdGlvbiAoY2IpIHsgcmV0dXJuIGNiKCk7IH0pOyB9O1xudmFyIHF1ZXVlTWljcm9UYXNrID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgaWYgKCF0cmlnZ2VyKSB7XG4gICAgICAgIHZhciB0b2dnbGVfMSA9IDA7XG4gICAgICAgIHZhciBlbF8xID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICAgICAgICB2YXIgY29uZmlnID0geyBjaGFyYWN0ZXJEYXRhOiB0cnVlIH07XG4gICAgICAgIG5ldyBNdXRhdGlvbk9ic2VydmVyKGZ1bmN0aW9uICgpIHsgcmV0dXJuIG5vdGlmeSgpOyB9KS5vYnNlcnZlKGVsXzEsIGNvbmZpZyk7XG4gICAgICAgIHRyaWdnZXIgPSBmdW5jdGlvbiAoKSB7IGVsXzEudGV4dENvbnRlbnQgPSBcIlwiLmNvbmNhdCh0b2dnbGVfMSA/IHRvZ2dsZV8xLS0gOiB0b2dnbGVfMSsrKTsgfTtcbiAgICB9XG4gICAgY2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuICAgIHRyaWdnZXIoKTtcbn07XG5leHBvcnQgeyBxdWV1ZU1pY3JvVGFzayB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js":
/*!*******************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   queueResizeObserver: function() { return /* binding */ queueResizeObserver; }\n/* harmony export */ });\n/* harmony import */ var _queueMicroTask__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./queueMicroTask */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js\");\n\nvar queueResizeObserver = function (cb) {\n    (0,_queueMicroTask__WEBPACK_IMPORTED_MODULE_0__.queueMicroTask)(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcXVldWVSZXNpemVPYnNlcnZlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFrRDtBQUNsRDtBQUNBLElBQUksK0RBQWM7QUFDbEI7QUFDQSxLQUFLO0FBQ0w7QUFDK0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BqdWdnbGUvcmVzaXplLW9ic2VydmVyL2xpYi91dGlscy9xdWV1ZVJlc2l6ZU9ic2VydmVyLmpzPzdjY2UiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgcXVldWVNaWNyb1Rhc2sgfSBmcm9tICcuL3F1ZXVlTWljcm9UYXNrJztcbnZhciBxdWV1ZVJlc2l6ZU9ic2VydmVyID0gZnVuY3Rpb24gKGNiKSB7XG4gICAgcXVldWVNaWNyb1Rhc2soZnVuY3Rpb24gUmVzaXplT2JzZXJ2ZXIoKSB7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfSk7XG59O1xuZXhwb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js":
/*!***************************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js ***!
  \***************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   resizeObservers: function() { return /* binding */ resizeObservers; }\n/* harmony export */ });\nvar resizeObservers = [];\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvcmVzaXplT2JzZXJ2ZXJzLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUMyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3Jlc2l6ZU9ic2VydmVycy5qcz9jMTVhIl0sInNvdXJjZXNDb250ZW50IjpbInZhciByZXNpemVPYnNlcnZlcnMgPSBbXTtcbmV4cG9ydCB7IHJlc2l6ZU9ic2VydmVycyB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/scheduler.js":
/*!*********************************************************************!*\
  !*** ./node_modules/@juggle/resize-observer/lib/utils/scheduler.js ***!
  \*********************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   scheduler: function() { return /* binding */ scheduler; },\n/* harmony export */   updateCount: function() { return /* binding */ updateCount; }\n/* harmony export */ });\n/* harmony import */ var _process__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./process */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/process.js\");\n/* harmony import */ var _global__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/global.js\");\n/* harmony import */ var _queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./queueResizeObserver */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js\");\n\n\n\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        (0,_queueResizeObserver__WEBPACK_IMPORTED_MODULE_2__.queueResizeObserver)(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = (0,_process__WEBPACK_IMPORTED_MODULE_0__.process)();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return _global__WEBPACK_IMPORTED_MODULE_1__.global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AanVnZ2xlL3Jlc2l6ZS1vYnNlcnZlci9saWIvdXRpbHMvc2NoZWR1bGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQW9DO0FBQ0Y7QUFDMEI7QUFDNUQ7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQSx1QkFBdUI7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQztBQUN0QztBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEseUVBQW1CO0FBQzNCO0FBQ0E7QUFDQSxzQ0FBc0MsaURBQU87QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtCQUErQjtBQUMvQiwrQkFBK0IsMkNBQU07QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsT0FBTywyQ0FBTSxnREFBZ0Q7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLE9BQU8sMkNBQU0sbURBQW1EO0FBQzdHO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNrQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXIvbGliL3V0aWxzL3NjaGVkdWxlci5qcz80ZDAxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHByb2Nlc3MgfSBmcm9tICcuL3Byb2Nlc3MnO1xuaW1wb3J0IHsgZ2xvYmFsIH0gZnJvbSAnLi9nbG9iYWwnO1xuaW1wb3J0IHsgcXVldWVSZXNpemVPYnNlcnZlciB9IGZyb20gJy4vcXVldWVSZXNpemVPYnNlcnZlcic7XG52YXIgd2F0Y2hpbmcgPSAwO1xudmFyIGlzV2F0Y2hpbmcgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAhIXdhdGNoaW5nOyB9O1xudmFyIENBVENIX1BFUklPRCA9IDI1MDtcbnZhciBvYnNlcnZlckNvbmZpZyA9IHsgYXR0cmlidXRlczogdHJ1ZSwgY2hhcmFjdGVyRGF0YTogdHJ1ZSwgY2hpbGRMaXN0OiB0cnVlLCBzdWJ0cmVlOiB0cnVlIH07XG52YXIgZXZlbnRzID0gW1xuICAgICdyZXNpemUnLFxuICAgICdsb2FkJyxcbiAgICAndHJhbnNpdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbmVuZCcsXG4gICAgJ2FuaW1hdGlvbnN0YXJ0JyxcbiAgICAnYW5pbWF0aW9uaXRlcmF0aW9uJyxcbiAgICAna2V5dXAnLFxuICAgICdrZXlkb3duJyxcbiAgICAnbW91c2V1cCcsXG4gICAgJ21vdXNlZG93bicsXG4gICAgJ21vdXNlb3ZlcicsXG4gICAgJ21vdXNlb3V0JyxcbiAgICAnYmx1cicsXG4gICAgJ2ZvY3VzJ1xuXTtcbnZhciB0aW1lID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICBpZiAodGltZW91dCA9PT0gdm9pZCAwKSB7IHRpbWVvdXQgPSAwOyB9XG4gICAgcmV0dXJuIERhdGUubm93KCkgKyB0aW1lb3V0O1xufTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFNjaGVkdWxlcigpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnNjaGVkdWxlKCk7IH07XG4gICAgfVxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRpbWVvdXQgPT09IHZvaWQgMCkgeyB0aW1lb3V0ID0gQ0FUQ0hfUEVSSU9EOyB9XG4gICAgICAgIGlmIChzY2hlZHVsZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICB2YXIgdW50aWwgPSB0aW1lKHRpbWVvdXQpO1xuICAgICAgICBxdWV1ZVJlc2l6ZU9ic2VydmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBlbGVtZW50c0hhdmVSZXNpemVkID0gZmFsc2U7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzSGF2ZVJlc2l6ZWQgPSBwcm9jZXNzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgICAgICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aW1lb3V0ID0gdW50aWwgLSB0aW1lKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1dhdGNoaW5nKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudHNIYXZlUmVzaXplZCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpcy5ydW4oMTAwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRpbWVvdXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnJ1bih0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIF90aGlzLnN0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuc3RvcCgpO1xuICAgICAgICB0aGlzLnJ1bigpO1xuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5vYnNlcnZlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICB2YXIgY2IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5vYnNlcnZlciAmJiBfdGhpcy5vYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIG9ic2VydmVyQ29uZmlnKTsgfTtcbiAgICAgICAgZG9jdW1lbnQuYm9keSA/IGNiKCkgOiBnbG9iYWwuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGNiKTtcbiAgICB9O1xuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLnN0b3BwZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcHBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciA9IG5ldyBNdXRhdGlvbk9ic2VydmVyKHRoaXMubGlzdGVuZXIpO1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlKCk7XG4gICAgICAgICAgICBldmVudHMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgX3RoaXMubGlzdGVuZXIsIHRydWUpOyB9KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgU2NoZWR1bGVyLnByb3RvdHlwZS5zdG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBpZiAoIXRoaXMuc3RvcHBlZCkge1xuICAgICAgICAgICAgdGhpcy5vYnNlcnZlciAmJiB0aGlzLm9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgICAgIGV2ZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBnbG9iYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCBfdGhpcy5saXN0ZW5lciwgdHJ1ZSk7IH0pO1xuICAgICAgICAgICAgdGhpcy5zdG9wcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgcmV0dXJuIFNjaGVkdWxlcjtcbn0oKSk7XG52YXIgc2NoZWR1bGVyID0gbmV3IFNjaGVkdWxlcigpO1xudmFyIHVwZGF0ZUNvdW50ID0gZnVuY3Rpb24gKG4pIHtcbiAgICAhd2F0Y2hpbmcgJiYgbiA+IDAgJiYgc2NoZWR1bGVyLnN0YXJ0KCk7XG4gICAgd2F0Y2hpbmcgKz0gbjtcbiAgICAhd2F0Y2hpbmcgJiYgc2NoZWR1bGVyLnN0b3AoKTtcbn07XG5leHBvcnQgeyBzY2hlZHVsZXIsIHVwZGF0ZUNvdW50IH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/utils/scheduler.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/direction/index.js":
/*!*****************************************!*\
  !*** ./node_modules/direction/index.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nmodule.exports = direction\n\nvar RTL = '\\u0591-\\u07FF\\uFB1D-\\uFDFD\\uFE70-\\uFEFC'\nvar LTR =\n  'A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6' +\n  '\\u00F8-\\u02B8\\u0300-\\u0590\\u0800-\\u1FFF\\u200E\\u2C00-\\uFB1C' +\n  '\\uFE00-\\uFE6F\\uFEFD-\\uFFFF'\n\nvar rtl = new RegExp('^[^' + LTR + ']*[' + RTL + ']')\nvar ltr = new RegExp('^[^' + RTL + ']*[' + LTR + ']')\n\nfunction direction(value) {\n  value = String(value || '')\n\n  if (rtl.test(value)) {\n    return 'rtl'\n  }\n\n  if (ltr.test(value)) {\n    return 'ltr'\n  }\n\n  return 'neutral'\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9kaXJlY3Rpb24vaW5kZXguanMiLCJtYXBwaW5ncyI6IkFBQVk7O0FBRVo7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9kaXJlY3Rpb24vaW5kZXguanM/NjljZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxubW9kdWxlLmV4cG9ydHMgPSBkaXJlY3Rpb25cblxudmFyIFJUTCA9ICdcXHUwNTkxLVxcdTA3RkZcXHVGQjFELVxcdUZERkRcXHVGRTcwLVxcdUZFRkMnXG52YXIgTFRSID1cbiAgJ0EtWmEtelxcdTAwQzAtXFx1MDBENlxcdTAwRDgtXFx1MDBGNicgK1xuICAnXFx1MDBGOC1cXHUwMkI4XFx1MDMwMC1cXHUwNTkwXFx1MDgwMC1cXHUxRkZGXFx1MjAwRVxcdTJDMDAtXFx1RkIxQycgK1xuICAnXFx1RkUwMC1cXHVGRTZGXFx1RkVGRC1cXHVGRkZGJ1xuXG52YXIgcnRsID0gbmV3IFJlZ0V4cCgnXlteJyArIExUUiArICddKlsnICsgUlRMICsgJ10nKVxudmFyIGx0ciA9IG5ldyBSZWdFeHAoJ15bXicgKyBSVEwgKyAnXSpbJyArIExUUiArICddJylcblxuZnVuY3Rpb24gZGlyZWN0aW9uKHZhbHVlKSB7XG4gIHZhbHVlID0gU3RyaW5nKHZhbHVlIHx8ICcnKVxuXG4gIGlmIChydGwudGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ3J0bCdcbiAgfVxuXG4gIGlmIChsdHIudGVzdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gJ2x0cidcbiAgfVxuXG4gIHJldHVybiAnbmV1dHJhbCdcbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/direction/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/is-hotkey/lib/index.js":
/*!*********************************************!*\
  !*** ./node_modules/is-hotkey/lib/index.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("\n\nObject.defineProperty(exports, \"__esModule\", ({\n  value: true\n}));\n\n/**\n * Constants.\n */\n\nvar IS_MAC = typeof window != 'undefined' && /Mac|iPod|iPhone|iPad/.test(window.navigator.platform);\n\nvar MODIFIERS = {\n  alt: 'altKey',\n  control: 'ctrlKey',\n  meta: 'metaKey',\n  shift: 'shiftKey'\n};\n\nvar ALIASES = {\n  add: '+',\n  break: 'pause',\n  cmd: 'meta',\n  command: 'meta',\n  ctl: 'control',\n  ctrl: 'control',\n  del: 'delete',\n  down: 'arrowdown',\n  esc: 'escape',\n  ins: 'insert',\n  left: 'arrowleft',\n  mod: IS_MAC ? 'meta' : 'control',\n  opt: 'alt',\n  option: 'alt',\n  return: 'enter',\n  right: 'arrowright',\n  space: ' ',\n  spacebar: ' ',\n  up: 'arrowup',\n  win: 'meta',\n  windows: 'meta'\n};\n\nvar CODES = {\n  backspace: 8,\n  tab: 9,\n  enter: 13,\n  shift: 16,\n  control: 17,\n  alt: 18,\n  pause: 19,\n  capslock: 20,\n  escape: 27,\n  ' ': 32,\n  pageup: 33,\n  pagedown: 34,\n  end: 35,\n  home: 36,\n  arrowleft: 37,\n  arrowup: 38,\n  arrowright: 39,\n  arrowdown: 40,\n  insert: 45,\n  delete: 46,\n  meta: 91,\n  numlock: 144,\n  scrolllock: 145,\n  ';': 186,\n  '=': 187,\n  ',': 188,\n  '-': 189,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '[': 219,\n  '\\\\': 220,\n  ']': 221,\n  '\\'': 222\n};\n\nfor (var f = 1; f < 20; f++) {\n  CODES['f' + f] = 111 + f;\n}\n\n/**\n * Is hotkey?\n */\n\nfunction isHotkey(hotkey, options, event) {\n  if (options && !('byKey' in options)) {\n    event = options;\n    options = null;\n  }\n\n  if (!Array.isArray(hotkey)) {\n    hotkey = [hotkey];\n  }\n\n  var array = hotkey.map(function (string) {\n    return parseHotkey(string, options);\n  });\n  var check = function check(e) {\n    return array.some(function (object) {\n      return compareHotkey(object, e);\n    });\n  };\n  var ret = event == null ? check : check(event);\n  return ret;\n}\n\nfunction isCodeHotkey(hotkey, event) {\n  return isHotkey(hotkey, event);\n}\n\nfunction isKeyHotkey(hotkey, event) {\n  return isHotkey(hotkey, { byKey: true }, event);\n}\n\n/**\n * Parse.\n */\n\nfunction parseHotkey(hotkey, options) {\n  var byKey = options && options.byKey;\n  var ret = {};\n\n  // Special case to handle the `+` key since we use it as a separator.\n  hotkey = hotkey.replace('++', '+add');\n  var values = hotkey.split('+');\n  var length = values.length;\n\n  // Ensure that all the modifiers are set to false unless the hotkey has them.\n\n  for (var k in MODIFIERS) {\n    ret[MODIFIERS[k]] = false;\n  }\n\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = values[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var value = _step.value;\n\n      var optional = value.endsWith('?') && value.length > 1;\n\n      if (optional) {\n        value = value.slice(0, -1);\n      }\n\n      var name = toKeyName(value);\n      var modifier = MODIFIERS[name];\n\n      if (length === 1 || !modifier) {\n        if (byKey) {\n          ret.key = name;\n        } else {\n          ret.which = toKeyCode(value);\n        }\n      }\n\n      if (modifier) {\n        ret[modifier] = optional ? null : true;\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator.return) {\n        _iterator.return();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n\n  return ret;\n}\n\n/**\n * Compare.\n */\n\nfunction compareHotkey(object, event) {\n  for (var key in object) {\n    var expected = object[key];\n    var actual = void 0;\n\n    if (expected == null) {\n      continue;\n    }\n\n    if (key === 'key' && event.key != null) {\n      actual = event.key.toLowerCase();\n    } else if (key === 'which') {\n      actual = expected === 91 && event.which === 93 ? 91 : event.which;\n    } else {\n      actual = event[key];\n    }\n\n    if (actual == null && expected === false) {\n      continue;\n    }\n\n    if (actual !== expected) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Utils.\n */\n\nfunction toKeyCode(name) {\n  name = toKeyName(name);\n  var code = CODES[name] || name.toUpperCase().charCodeAt(0);\n  return code;\n}\n\nfunction toKeyName(name) {\n  name = name.toLowerCase();\n  name = ALIASES[name] || name;\n  return name;\n}\n\n/**\n * Export.\n */\n\nexports[\"default\"] = isHotkey;\nexports.isHotkey = isHotkey;\nexports.isCodeHotkey = isCodeHotkey;\nexports.isKeyHotkey = isKeyHotkey;\nexports.parseHotkey = parseHotkey;\nexports.compareHotkey = compareHotkey;\nexports.toKeyCode = toKeyCode;\nexports.toKeyName = toKeyName;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pcy1ob3RrZXkvbGliL2luZGV4LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLDhDQUE2QztBQUM3QztBQUNBLENBQUMsRUFBQzs7QUFFRjtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsZ0JBQWdCLFFBQVE7QUFDeEI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLGFBQWE7QUFDekM7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsMkRBQTJELGdFQUFnRTtBQUMzSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGtCQUFlO0FBQ2YsZ0JBQWdCO0FBQ2hCLG9CQUFvQjtBQUNwQixtQkFBbUI7QUFDbkIsbUJBQW1CO0FBQ25CLHFCQUFxQjtBQUNyQixpQkFBaUI7QUFDakIsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9pcy1ob3RrZXkvbGliL2luZGV4LmpzP2ExNmUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgdmFsdWU6IHRydWVcbn0pO1xuXG4vKipcbiAqIENvbnN0YW50cy5cbiAqL1xuXG52YXIgSVNfTUFDID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiAvTWFjfGlQb2R8aVBob25lfGlQYWQvLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSk7XG5cbnZhciBNT0RJRklFUlMgPSB7XG4gIGFsdDogJ2FsdEtleScsXG4gIGNvbnRyb2w6ICdjdHJsS2V5JyxcbiAgbWV0YTogJ21ldGFLZXknLFxuICBzaGlmdDogJ3NoaWZ0S2V5J1xufTtcblxudmFyIEFMSUFTRVMgPSB7XG4gIGFkZDogJysnLFxuICBicmVhazogJ3BhdXNlJyxcbiAgY21kOiAnbWV0YScsXG4gIGNvbW1hbmQ6ICdtZXRhJyxcbiAgY3RsOiAnY29udHJvbCcsXG4gIGN0cmw6ICdjb250cm9sJyxcbiAgZGVsOiAnZGVsZXRlJyxcbiAgZG93bjogJ2Fycm93ZG93bicsXG4gIGVzYzogJ2VzY2FwZScsXG4gIGluczogJ2luc2VydCcsXG4gIGxlZnQ6ICdhcnJvd2xlZnQnLFxuICBtb2Q6IElTX01BQyA/ICdtZXRhJyA6ICdjb250cm9sJyxcbiAgb3B0OiAnYWx0JyxcbiAgb3B0aW9uOiAnYWx0JyxcbiAgcmV0dXJuOiAnZW50ZXInLFxuICByaWdodDogJ2Fycm93cmlnaHQnLFxuICBzcGFjZTogJyAnLFxuICBzcGFjZWJhcjogJyAnLFxuICB1cDogJ2Fycm93dXAnLFxuICB3aW46ICdtZXRhJyxcbiAgd2luZG93czogJ21ldGEnXG59O1xuXG52YXIgQ09ERVMgPSB7XG4gIGJhY2tzcGFjZTogOCxcbiAgdGFiOiA5LFxuICBlbnRlcjogMTMsXG4gIHNoaWZ0OiAxNixcbiAgY29udHJvbDogMTcsXG4gIGFsdDogMTgsXG4gIHBhdXNlOiAxOSxcbiAgY2Fwc2xvY2s6IDIwLFxuICBlc2NhcGU6IDI3LFxuICAnICc6IDMyLFxuICBwYWdldXA6IDMzLFxuICBwYWdlZG93bjogMzQsXG4gIGVuZDogMzUsXG4gIGhvbWU6IDM2LFxuICBhcnJvd2xlZnQ6IDM3LFxuICBhcnJvd3VwOiAzOCxcbiAgYXJyb3dyaWdodDogMzksXG4gIGFycm93ZG93bjogNDAsXG4gIGluc2VydDogNDUsXG4gIGRlbGV0ZTogNDYsXG4gIG1ldGE6IDkxLFxuICBudW1sb2NrOiAxNDQsXG4gIHNjcm9sbGxvY2s6IDE0NSxcbiAgJzsnOiAxODYsXG4gICc9JzogMTg3LFxuICAnLCc6IDE4OCxcbiAgJy0nOiAxODksXG4gICcuJzogMTkwLFxuICAnLyc6IDE5MSxcbiAgJ2AnOiAxOTIsXG4gICdbJzogMjE5LFxuICAnXFxcXCc6IDIyMCxcbiAgJ10nOiAyMjEsXG4gICdcXCcnOiAyMjJcbn07XG5cbmZvciAodmFyIGYgPSAxOyBmIDwgMjA7IGYrKykge1xuICBDT0RFU1snZicgKyBmXSA9IDExMSArIGY7XG59XG5cbi8qKlxuICogSXMgaG90a2V5P1xuICovXG5cbmZ1bmN0aW9uIGlzSG90a2V5KGhvdGtleSwgb3B0aW9ucywgZXZlbnQpIHtcbiAgaWYgKG9wdGlvbnMgJiYgISgnYnlLZXknIGluIG9wdGlvbnMpKSB7XG4gICAgZXZlbnQgPSBvcHRpb25zO1xuICAgIG9wdGlvbnMgPSBudWxsO1xuICB9XG5cbiAgaWYgKCFBcnJheS5pc0FycmF5KGhvdGtleSkpIHtcbiAgICBob3RrZXkgPSBbaG90a2V5XTtcbiAgfVxuXG4gIHZhciBhcnJheSA9IGhvdGtleS5tYXAoZnVuY3Rpb24gKHN0cmluZykge1xuICAgIHJldHVybiBwYXJzZUhvdGtleShzdHJpbmcsIG9wdGlvbnMpO1xuICB9KTtcbiAgdmFyIGNoZWNrID0gZnVuY3Rpb24gY2hlY2soZSkge1xuICAgIHJldHVybiBhcnJheS5zb21lKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgIHJldHVybiBjb21wYXJlSG90a2V5KG9iamVjdCwgZSk7XG4gICAgfSk7XG4gIH07XG4gIHZhciByZXQgPSBldmVudCA9PSBudWxsID8gY2hlY2sgOiBjaGVjayhldmVudCk7XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGlzQ29kZUhvdGtleShob3RrZXksIGV2ZW50KSB7XG4gIHJldHVybiBpc0hvdGtleShob3RrZXksIGV2ZW50KTtcbn1cblxuZnVuY3Rpb24gaXNLZXlIb3RrZXkoaG90a2V5LCBldmVudCkge1xuICByZXR1cm4gaXNIb3RrZXkoaG90a2V5LCB7IGJ5S2V5OiB0cnVlIH0sIGV2ZW50KTtcbn1cblxuLyoqXG4gKiBQYXJzZS5cbiAqL1xuXG5mdW5jdGlvbiBwYXJzZUhvdGtleShob3RrZXksIG9wdGlvbnMpIHtcbiAgdmFyIGJ5S2V5ID0gb3B0aW9ucyAmJiBvcHRpb25zLmJ5S2V5O1xuICB2YXIgcmV0ID0ge307XG5cbiAgLy8gU3BlY2lhbCBjYXNlIHRvIGhhbmRsZSB0aGUgYCtgIGtleSBzaW5jZSB3ZSB1c2UgaXQgYXMgYSBzZXBhcmF0b3IuXG4gIGhvdGtleSA9IGhvdGtleS5yZXBsYWNlKCcrKycsICcrYWRkJyk7XG4gIHZhciB2YWx1ZXMgPSBob3RrZXkuc3BsaXQoJysnKTtcbiAgdmFyIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGg7XG5cbiAgLy8gRW5zdXJlIHRoYXQgYWxsIHRoZSBtb2RpZmllcnMgYXJlIHNldCB0byBmYWxzZSB1bmxlc3MgdGhlIGhvdGtleSBoYXMgdGhlbS5cblxuICBmb3IgKHZhciBrIGluIE1PRElGSUVSUykge1xuICAgIHJldFtNT0RJRklFUlNba11dID0gZmFsc2U7XG4gIH1cblxuICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgdHJ5IHtcbiAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB2YWx1ZXNbU3ltYm9sLml0ZXJhdG9yXSgpLCBfc3RlcDsgIShfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gKF9zdGVwID0gX2l0ZXJhdG9yLm5leHQoKSkuZG9uZSk7IF9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gPSB0cnVlKSB7XG4gICAgICB2YXIgdmFsdWUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgdmFyIG9wdGlvbmFsID0gdmFsdWUuZW5kc1dpdGgoJz8nKSAmJiB2YWx1ZS5sZW5ndGggPiAxO1xuXG4gICAgICBpZiAob3B0aW9uYWwpIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgwLCAtMSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBuYW1lID0gdG9LZXlOYW1lKHZhbHVlKTtcbiAgICAgIHZhciBtb2RpZmllciA9IE1PRElGSUVSU1tuYW1lXTtcblxuICAgICAgaWYgKGxlbmd0aCA9PT0gMSB8fCAhbW9kaWZpZXIpIHtcbiAgICAgICAgaWYgKGJ5S2V5KSB7XG4gICAgICAgICAgcmV0LmtleSA9IG5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0LndoaWNoID0gdG9LZXlDb2RlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobW9kaWZpZXIpIHtcbiAgICAgICAgcmV0W21vZGlmaWVyXSA9IG9wdGlvbmFsID8gbnVsbCA6IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBfZGlkSXRlcmF0b3JFcnJvciA9IHRydWU7XG4gICAgX2l0ZXJhdG9yRXJyb3IgPSBlcnI7XG4gIH0gZmluYWxseSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiAmJiBfaXRlcmF0b3IucmV0dXJuKSB7XG4gICAgICAgIF9pdGVyYXRvci5yZXR1cm4oKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgaWYgKF9kaWRJdGVyYXRvckVycm9yKSB7XG4gICAgICAgIHRocm93IF9pdGVyYXRvckVycm9yO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXQ7XG59XG5cbi8qKlxuICogQ29tcGFyZS5cbiAqL1xuXG5mdW5jdGlvbiBjb21wYXJlSG90a2V5KG9iamVjdCwgZXZlbnQpIHtcbiAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgIHZhciBleHBlY3RlZCA9IG9iamVjdFtrZXldO1xuICAgIHZhciBhY3R1YWwgPSB2b2lkIDA7XG5cbiAgICBpZiAoZXhwZWN0ZWQgPT0gbnVsbCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGtleSA9PT0gJ2tleScgJiYgZXZlbnQua2V5ICE9IG51bGwpIHtcbiAgICAgIGFjdHVhbCA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgIH0gZWxzZSBpZiAoa2V5ID09PSAnd2hpY2gnKSB7XG4gICAgICBhY3R1YWwgPSBleHBlY3RlZCA9PT0gOTEgJiYgZXZlbnQud2hpY2ggPT09IDkzID8gOTEgOiBldmVudC53aGljaDtcbiAgICB9IGVsc2Uge1xuICAgICAgYWN0dWFsID0gZXZlbnRba2V5XTtcbiAgICB9XG5cbiAgICBpZiAoYWN0dWFsID09IG51bGwgJiYgZXhwZWN0ZWQgPT09IGZhbHNlKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBpZiAoYWN0dWFsICE9PSBleHBlY3RlZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFV0aWxzLlxuICovXG5cbmZ1bmN0aW9uIHRvS2V5Q29kZShuYW1lKSB7XG4gIG5hbWUgPSB0b0tleU5hbWUobmFtZSk7XG4gIHZhciBjb2RlID0gQ09ERVNbbmFtZV0gfHwgbmFtZS50b1VwcGVyQ2FzZSgpLmNoYXJDb2RlQXQoMCk7XG4gIHJldHVybiBjb2RlO1xufVxuXG5mdW5jdGlvbiB0b0tleU5hbWUobmFtZSkge1xuICBuYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICBuYW1lID0gQUxJQVNFU1tuYW1lXSB8fCBuYW1lO1xuICByZXR1cm4gbmFtZTtcbn1cblxuLyoqXG4gKiBFeHBvcnQuXG4gKi9cblxuZXhwb3J0cy5kZWZhdWx0ID0gaXNIb3RrZXk7XG5leHBvcnRzLmlzSG90a2V5ID0gaXNIb3RrZXk7XG5leHBvcnRzLmlzQ29kZUhvdGtleSA9IGlzQ29kZUhvdGtleTtcbmV4cG9ydHMuaXNLZXlIb3RrZXkgPSBpc0tleUhvdGtleTtcbmV4cG9ydHMucGFyc2VIb3RrZXkgPSBwYXJzZUhvdGtleTtcbmV4cG9ydHMuY29tcGFyZUhvdGtleSA9IGNvbXBhcmVIb3RrZXk7XG5leHBvcnRzLnRvS2V5Q29kZSA9IHRvS2V5Q29kZTtcbmV4cG9ydHMudG9LZXlOYW1lID0gdG9LZXlOYW1lOyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/is-hotkey/lib/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_Symbol.js":
/*!****************************************!*\
  !*** ./node_modules/lodash/_Symbol.js ***!
  \****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var root = __webpack_require__(/*! ./_root */ \"(app-pages-browser)/./node_modules/lodash/_root.js\");\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX1N5bWJvbC5qcyIsIm1hcHBpbmdzIjoiQUFBQSxXQUFXLG1CQUFPLENBQUMsbUVBQVM7O0FBRTVCO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fU3ltYm9sLmpzPzE1OTUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIFN5bWJvbCA9IHJvb3QuU3ltYm9sO1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bWJvbDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_Symbol.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_baseGetTag.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_baseGetTag.js ***!
  \********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var Symbol = __webpack_require__(/*! ./_Symbol */ \"(app-pages-browser)/./node_modules/lodash/_Symbol.js\"),\n    getRawTag = __webpack_require__(/*! ./_getRawTag */ \"(app-pages-browser)/./node_modules/lodash/_getRawTag.js\"),\n    objectToString = __webpack_require__(/*! ./_objectToString */ \"(app-pages-browser)/./node_modules/lodash/_objectToString.js\");\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanMiLCJtYXBwaW5ncyI6IkFBQUEsYUFBYSxtQkFBTyxDQUFDLHVFQUFXO0FBQ2hDLGdCQUFnQixtQkFBTyxDQUFDLDZFQUFjO0FBQ3RDLHFCQUFxQixtQkFBTyxDQUFDLHVGQUFtQjs7QUFFaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXRUYWcuanM/YWI1NiJdLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgZ2V0UmF3VGFnID0gcmVxdWlyZSgnLi9fZ2V0UmF3VGFnJyksXG4gICAgb2JqZWN0VG9TdHJpbmcgPSByZXF1aXJlKCcuL19vYmplY3RUb1N0cmluZycpO1xuXG4vKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG52YXIgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICB1bmRlZmluZWRUYWcgPSAnW29iamVjdCBVbmRlZmluZWRdJztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYGdldFRhZ2Agd2l0aG91dCBmYWxsYmFja3MgZm9yIGJ1Z2d5IGVudmlyb25tZW50cy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBgdG9TdHJpbmdUYWdgLlxuICovXG5mdW5jdGlvbiBiYXNlR2V0VGFnKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICB9XG4gIHJldHVybiAoc3ltVG9TdHJpbmdUYWcgJiYgc3ltVG9TdHJpbmdUYWcgaW4gT2JqZWN0KHZhbHVlKSlcbiAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICA6IG9iamVjdFRvU3RyaW5nKHZhbHVlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0VGFnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_baseGetTag.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_baseTrim.js":
/*!******************************************!*\
  !*** ./node_modules/lodash/_baseTrim.js ***!
  \******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var trimmedEndIndex = __webpack_require__(/*! ./_trimmedEndIndex */ \"(app-pages-browser)/./node_modules/lodash/_trimmedEndIndex.js\");\n\n/** Used to match leading whitespace. */\nvar reTrimStart = /^\\s+/;\n\n/**\n * The base implementation of `_.trim`.\n *\n * @private\n * @param {string} string The string to trim.\n * @returns {string} Returns the trimmed string.\n */\nfunction baseTrim(string) {\n  return string\n    ? string.slice(0, trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n    : string;\n}\n\nmodule.exports = baseTrim;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUcmltLmpzIiwibWFwcGluZ3MiOiJBQUFBLHNCQUFzQixtQkFBTyxDQUFDLHlGQUFvQjs7QUFFbEQ7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsUUFBUTtBQUNuQixhQUFhLFFBQVE7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUcmltLmpzPzRiYzMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHRyaW1tZWRFbmRJbmRleCA9IHJlcXVpcmUoJy4vX3RyaW1tZWRFbmRJbmRleCcpO1xuXG4vKiogVXNlZCB0byBtYXRjaCBsZWFkaW5nIHdoaXRlc3BhY2UuICovXG52YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRyaW1gLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHRyaW1tZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVHJpbShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZ1xuICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgOiBzdHJpbmc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZVRyaW07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_baseTrim.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_freeGlobal.js":
/*!********************************************!*\
  !*** ./node_modules/lodash/_freeGlobal.js ***!
  \********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof __webpack_require__.g == 'object' && __webpack_require__.g && __webpack_require__.g.Object === Object && __webpack_require__.g;\n\nmodule.exports = freeGlobal;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQSx3QkFBd0IscUJBQU0sZ0JBQWdCLHFCQUFNLElBQUkscUJBQU0sc0JBQXNCLHFCQUFNOztBQUUxRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19mcmVlR2xvYmFsLmpzPzI5ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbnZhciBmcmVlR2xvYmFsID0gdHlwZW9mIGdsb2JhbCA9PSAnb2JqZWN0JyAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcblxubW9kdWxlLmV4cG9ydHMgPSBmcmVlR2xvYmFsO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_freeGlobal.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_getRawTag.js":
/*!*******************************************!*\
  !*** ./node_modules/lodash/_getRawTag.js ***!
  \*******************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var Symbol = __webpack_require__(/*! ./_Symbol */ \"(app-pages-browser)/./node_modules/lodash/_Symbol.js\");\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2dldFJhd1RhZy5qcyIsIm1hcHBpbmdzIjoiQUFBQSxhQUFhLG1CQUFPLENBQUMsdUVBQVc7O0FBRWhDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzP2UzZGMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgb2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xuXG4vKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbnZhciBoYXNPd25Qcm9wZXJ0eSA9IG9iamVjdFByb3RvLmhhc093blByb3BlcnR5O1xuXG4vKipcbiAqIFVzZWQgdG8gcmVzb2x2ZSB0aGVcbiAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICogb2YgdmFsdWVzLlxuICovXG52YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3ltVG9TdHJpbmdUYWcgPSBTeW1ib2wgPyBTeW1ib2wudG9TdHJpbmdUYWcgOiB1bmRlZmluZWQ7XG5cbi8qKlxuICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByYXcgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gIHZhciBpc093biA9IGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsIHN5bVRvU3RyaW5nVGFnKSxcbiAgICAgIHRhZyA9IHZhbHVlW3N5bVRvU3RyaW5nVGFnXTtcblxuICB0cnkge1xuICAgIHZhbHVlW3N5bVRvU3RyaW5nVGFnXSA9IHVuZGVmaW5lZDtcbiAgICB2YXIgdW5tYXNrZWQgPSB0cnVlO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHZhciByZXN1bHQgPSBuYXRpdmVPYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKTtcbiAgaWYgKHVubWFza2VkKSB7XG4gICAgaWYgKGlzT3duKSB7XG4gICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB0YWc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0UmF3VGFnO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_getRawTag.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_objectToString.js":
/*!************************************************!*\
  !*** ./node_modules/lodash/_objectToString.js ***!
  \************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzP2U4MTciXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYHZhbHVlYCB0byBhIHN0cmluZyB1c2luZyBgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZ2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyh2YWx1ZSkge1xuICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gb2JqZWN0VG9TdHJpbmc7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_objectToString.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_root.js":
/*!**************************************!*\
  !*** ./node_modules/lodash/_root.js ***!
  \**************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var freeGlobal = __webpack_require__(/*! ./_freeGlobal */ \"(app-pages-browser)/./node_modules/lodash/_freeGlobal.js\");\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3Jvb3QuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsK0VBQWU7O0FBRXhDO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoL19yb290LmpzP2UyYmUiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGZyZWVHbG9iYWwgPSByZXF1aXJlKCcuL19mcmVlR2xvYmFsJyk7XG5cbi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG52YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSAnb2JqZWN0JyAmJiBzZWxmICYmIHNlbGYuT2JqZWN0ID09PSBPYmplY3QgJiYgc2VsZjtcblxuLyoqIFVzZWQgYXMgYSByZWZlcmVuY2UgdG8gdGhlIGdsb2JhbCBvYmplY3QuICovXG52YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxubW9kdWxlLmV4cG9ydHMgPSByb290O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_root.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/_trimmedEndIndex.js":
/*!*************************************************!*\
  !*** ./node_modules/lodash/_trimmedEndIndex.js ***!
  \*************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/** Used to match a single whitespace character. */\nvar reWhitespace = /\\s/;\n\n/**\n * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n * character of `string`.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {number} Returns the index of the last non-whitespace character.\n */\nfunction trimmedEndIndex(string) {\n  var index = string.length;\n\n  while (index-- && reWhitespace.test(string.charAt(index))) {}\n  return index;\n}\n\nmodule.exports = trimmedEndIndex;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3RyaW1tZWRFbmRJbmRleC5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFFBQVE7QUFDbkIsYUFBYSxRQUFRO0FBQ3JCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fdHJpbW1lZEVuZEluZGV4LmpzP2IzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqIFVzZWQgdG8gbWF0Y2ggYSBzaW5nbGUgd2hpdGVzcGFjZSBjaGFyYWN0ZXIuICovXG52YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbi8qKlxuICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICogY2hhcmFjdGVyIG9mIGBzdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IG5vbi13aGl0ZXNwYWNlIGNoYXJhY3Rlci5cbiAqL1xuZnVuY3Rpb24gdHJpbW1lZEVuZEluZGV4KHN0cmluZykge1xuICB2YXIgaW5kZXggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgcmV0dXJuIGluZGV4O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRyaW1tZWRFbmRJbmRleDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/_trimmedEndIndex.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/debounce.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/debounce.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var isObject = __webpack_require__(/*! ./isObject */ \"(app-pages-browser)/./node_modules/lodash/isObject.js\"),\n    now = __webpack_require__(/*! ./now */ \"(app-pages-browser)/./node_modules/lodash/now.js\"),\n    toNumber = __webpack_require__(/*! ./toNumber */ \"(app-pages-browser)/./node_modules/lodash/toNumber.js\");\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max,\n    nativeMin = Math.min;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide `options` to indicate whether `func` should be invoked on the\n * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent\n * calls to the debounced function return the result of the last `func`\n * invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the debounced function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=false]\n *  Specify invoking on the leading edge of the timeout.\n * @param {number} [options.maxWait]\n *  The maximum time `func` is allowed to be delayed before it's invoked.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var lastArgs,\n      lastThis,\n      maxWait,\n      result,\n      timerId,\n      lastCallTime,\n      lastInvokeTime = 0,\n      leading = false,\n      maxing = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxing = 'maxWait' in options;\n    maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function invokeFunc(time) {\n    var args = lastArgs,\n        thisArg = lastThis;\n\n    lastArgs = lastThis = undefined;\n    lastInvokeTime = time;\n    result = func.apply(thisArg, args);\n    return result;\n  }\n\n  function leadingEdge(time) {\n    // Reset any `maxWait` timer.\n    lastInvokeTime = time;\n    // Start the timer for the trailing edge.\n    timerId = setTimeout(timerExpired, wait);\n    // Invoke the leading edge.\n    return leading ? invokeFunc(time) : result;\n  }\n\n  function remainingWait(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime,\n        timeWaiting = wait - timeSinceLastCall;\n\n    return maxing\n      ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n      : timeWaiting;\n  }\n\n  function shouldInvoke(time) {\n    var timeSinceLastCall = time - lastCallTime,\n        timeSinceLastInvoke = time - lastInvokeTime;\n\n    // Either this is the first call, activity has stopped and we're at the\n    // trailing edge, the system time has gone backwards and we're treating\n    // it as the trailing edge, or we've hit the `maxWait` limit.\n    return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n      (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n  }\n\n  function timerExpired() {\n    var time = now();\n    if (shouldInvoke(time)) {\n      return trailingEdge(time);\n    }\n    // Restart the timer.\n    timerId = setTimeout(timerExpired, remainingWait(time));\n  }\n\n  function trailingEdge(time) {\n    timerId = undefined;\n\n    // Only invoke if we have `lastArgs` which means `func` has been\n    // debounced at least once.\n    if (trailing && lastArgs) {\n      return invokeFunc(time);\n    }\n    lastArgs = lastThis = undefined;\n    return result;\n  }\n\n  function cancel() {\n    if (timerId !== undefined) {\n      clearTimeout(timerId);\n    }\n    lastInvokeTime = 0;\n    lastArgs = lastCallTime = lastThis = timerId = undefined;\n  }\n\n  function flush() {\n    return timerId === undefined ? result : trailingEdge(now());\n  }\n\n  function debounced() {\n    var time = now(),\n        isInvoking = shouldInvoke(time);\n\n    lastArgs = arguments;\n    lastThis = this;\n    lastCallTime = time;\n\n    if (isInvoking) {\n      if (timerId === undefined) {\n        return leadingEdge(lastCallTime);\n      }\n      if (maxing) {\n        // Handle invocations in a tight loop.\n        clearTimeout(timerId);\n        timerId = setTimeout(timerExpired, wait);\n        return invokeFunc(lastCallTime);\n      }\n    }\n    if (timerId === undefined) {\n      timerId = setTimeout(timerExpired, wait);\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\nmodule.exports = debounce;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZGVib3VuY2UuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHlFQUFZO0FBQ25DLFVBQVUsbUJBQU8sQ0FBQywrREFBTztBQUN6QixlQUFlLG1CQUFPLENBQUMseUVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxVQUFVO0FBQ3JCLFdBQVcsUUFBUTtBQUNuQixXQUFXLFFBQVEsV0FBVztBQUM5QixXQUFXLFNBQVM7QUFDcEI7QUFDQSxXQUFXLFFBQVE7QUFDbkI7QUFDQSxXQUFXLFNBQVM7QUFDcEI7QUFDQSxhQUFhLFVBQVU7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSwrQ0FBK0MsaUJBQWlCO0FBQ2hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9kZWJvdW5jZS5qcz9jYmY3Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBub3cgPSByZXF1aXJlKCcuL25vdycpLFxuICAgIHRvTnVtYmVyID0gcmVxdWlyZSgnLi90b051bWJlcicpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyBmb3IgdGhvc2Ugd2l0aCB0aGUgc2FtZSBuYW1lIGFzIG90aGVyIGBsb2Rhc2hgIG1ldGhvZHMuICovXG52YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXgsXG4gICAgbmF0aXZlTWluID0gTWF0aC5taW47XG5cbi8qKlxuICogQ3JlYXRlcyBhIGRlYm91bmNlZCBmdW5jdGlvbiB0aGF0IGRlbGF5cyBpbnZva2luZyBgZnVuY2AgdW50aWwgYWZ0ZXIgYHdhaXRgXG4gKiBtaWxsaXNlY29uZHMgaGF2ZSBlbGFwc2VkIHNpbmNlIHRoZSBsYXN0IHRpbWUgdGhlIGRlYm91bmNlZCBmdW5jdGlvbiB3YXNcbiAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAqIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvIGltbWVkaWF0ZWx5IGludm9rZSB0aGVtLlxuICogUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2Agc2hvdWxkIGJlIGludm9rZWQgb24gdGhlXG4gKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gKiB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uLiBTdWJzZXF1ZW50XG4gKiBjYWxscyB0byB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHJldHVybiB0aGUgcmVzdWx0IG9mIHRoZSBsYXN0IGBmdW5jYFxuICogaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy5kZWJvdW5jZWAgYW5kIGBfLnRocm90dGxlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlYm91bmNlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIGRlbGF5LlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9ZmFsc2VdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgbGVhZGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gKiAgVGhlIG1heGltdW0gdGltZSBgZnVuY2AgaXMgYWxsb3dlZCB0byBiZSBkZWxheWVkIGJlZm9yZSBpdCdzIGludm9rZWQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGRlYm91bmNlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgY29zdGx5IGNhbGN1bGF0aW9ucyB3aGlsZSB0aGUgd2luZG93IHNpemUgaXMgaW4gZmx1eC5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdyZXNpemUnLCBfLmRlYm91bmNlKGNhbGN1bGF0ZUxheW91dCwgMTUwKSk7XG4gKlxuICogLy8gSW52b2tlIGBzZW5kTWFpbGAgd2hlbiBjbGlja2VkLCBkZWJvdW5jaW5nIHN1YnNlcXVlbnQgY2FsbHMuXG4gKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5kZWJvdW5jZShzZW5kTWFpbCwgMzAwLCB7XG4gKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAqICAgJ3RyYWlsaW5nJzogZmFsc2VcbiAqIH0pKTtcbiAqXG4gKiAvLyBFbnN1cmUgYGJhdGNoTG9nYCBpcyBpbnZva2VkIG9uY2UgYWZ0ZXIgMSBzZWNvbmQgb2YgZGVib3VuY2VkIGNhbGxzLlxuICogdmFyIGRlYm91bmNlZCA9IF8uZGVib3VuY2UoYmF0Y2hMb2csIDI1MCwgeyAnbWF4V2FpdCc6IDEwMDAgfSk7XG4gKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gKiBqUXVlcnkoc291cmNlKS5vbignbWVzc2FnZScsIGRlYm91bmNlZCk7XG4gKlxuICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIGRlYm91bmNlZC5jYW5jZWwpO1xuICovXG5mdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gIHZhciBsYXN0QXJncyxcbiAgICAgIGxhc3RUaGlzLFxuICAgICAgbWF4V2FpdCxcbiAgICAgIHJlc3VsdCxcbiAgICAgIHRpbWVySWQsXG4gICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICBsYXN0SW52b2tlVGltZSA9IDAsXG4gICAgICBsZWFkaW5nID0gZmFsc2UsXG4gICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgIHRyYWlsaW5nID0gdHJ1ZTtcblxuICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB3YWl0ID0gdG9OdW1iZXIod2FpdCkgfHwgMDtcbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICEhb3B0aW9ucy5sZWFkaW5nO1xuICAgIG1heGluZyA9ICdtYXhXYWl0JyBpbiBvcHRpb25zO1xuICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgdHJhaWxpbmcgPSAndHJhaWxpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMudHJhaWxpbmcgOiB0cmFpbGluZztcbiAgfVxuXG4gIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsXG4gICAgICAgIHRoaXNBcmcgPSBsYXN0VGhpcztcblxuICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlYWRpbmdFZGdlKHRpbWUpIHtcbiAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAvLyBTdGFydCB0aGUgdGltZXIgZm9yIHRoZSB0cmFpbGluZyBlZGdlLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgLy8gSW52b2tlIHRoZSBsZWFkaW5nIGVkZ2UuXG4gICAgcmV0dXJuIGxlYWRpbmcgPyBpbnZva2VGdW5jKHRpbWUpIDogcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gcmVtYWluaW5nV2FpdCh0aW1lKSB7XG4gICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgdGltZVdhaXRpbmcgPSB3YWl0IC0gdGltZVNpbmNlTGFzdENhbGw7XG5cbiAgICByZXR1cm4gbWF4aW5nXG4gICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICA6IHRpbWVXYWl0aW5nO1xuICB9XG5cbiAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuXG4gICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAvLyB0cmFpbGluZyBlZGdlLCB0aGUgc3lzdGVtIHRpbWUgaGFzIGdvbmUgYmFja3dhcmRzIGFuZCB3ZSdyZSB0cmVhdGluZ1xuICAgIC8vIGl0IGFzIHRoZSB0cmFpbGluZyBlZGdlLCBvciB3ZSd2ZSBoaXQgdGhlIGBtYXhXYWl0YCBsaW1pdC5cbiAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgKHRpbWVTaW5jZUxhc3RDYWxsIDwgMCkgfHwgKG1heGluZyAmJiB0aW1lU2luY2VMYXN0SW52b2tlID49IG1heFdhaXQpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICB2YXIgdGltZSA9IG5vdygpO1xuICAgIGlmIChzaG91bGRJbnZva2UodGltZSkpIHtcbiAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgfVxuICAgIC8vIFJlc3RhcnQgdGhlIHRpbWVyLlxuICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFpbGluZ0VkZ2UodGltZSkge1xuICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAvLyBPbmx5IGludm9rZSBpZiB3ZSBoYXZlIGBsYXN0QXJnc2Agd2hpY2ggbWVhbnMgYGZ1bmNgIGhhcyBiZWVuXG4gICAgLy8gZGVib3VuY2VkIGF0IGxlYXN0IG9uY2UuXG4gICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICByZXR1cm4gaW52b2tlRnVuYyh0aW1lKTtcbiAgICB9XG4gICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgIGlmICh0aW1lcklkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICB9XG4gICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgIGxhc3RBcmdzID0gbGFzdENhbGxUaW1lID0gbGFzdFRoaXMgPSB0aW1lcklkID0gdW5kZWZpbmVkO1xuICB9XG5cbiAgZnVuY3Rpb24gZmx1c2goKSB7XG4gICAgcmV0dXJuIHRpbWVySWQgPT09IHVuZGVmaW5lZCA/IHJlc3VsdCA6IHRyYWlsaW5nRWRnZShub3coKSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWJvdW5jZWQoKSB7XG4gICAgdmFyIHRpbWUgPSBub3coKSxcbiAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgIGxhc3RBcmdzID0gYXJndW1lbnRzO1xuICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgIGlmICh0aW1lcklkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICB9XG4gICAgICBpZiAobWF4aW5nKSB7XG4gICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lcklkKTtcbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgcmV0dXJuIGRlYm91bmNlZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkZWJvdW5jZTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/debounce.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/isObject.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isObject.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanMiLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3QuanM/NmY0OCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHRoZVxuICogW2xhbmd1YWdlIHR5cGVdKGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWxhbmd1YWdlLXR5cGVzKVxuICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0KHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KFsxLCAyLCAzXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChfLm5vb3ApO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QobnVsbCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBpc09iamVjdCh2YWx1ZSkge1xuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdDtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/isObject.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/isObjectLike.js":
/*!*********************************************!*\
  !*** ./node_modules/lodash/isObjectLike.js ***!
  \*********************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLEdBQUc7QUFDZCxhQUFhLFNBQVM7QUFDdEI7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNPYmplY3RMaWtlLmpzP2YzNmEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAqIGFuZCBoYXMgYSBgdHlwZW9mYCByZXN1bHQgb2YgXCJvYmplY3RcIi5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZSwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZSh7fSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdExpa2UoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShfLm5vb3ApO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNPYmplY3RMaWtlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/isObjectLike.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/isSymbol.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/isSymbol.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var baseGetTag = __webpack_require__(/*! ./_baseGetTag */ \"(app-pages-browser)/./node_modules/lodash/_baseGetTag.js\"),\n    isObjectLike = __webpack_require__(/*! ./isObjectLike */ \"(app-pages-browser)/./node_modules/lodash/isObjectLike.js\");\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCJtYXBwaW5ncyI6IkFBQUEsaUJBQWlCLG1CQUFPLENBQUMsK0VBQWU7QUFDeEMsbUJBQW1CLG1CQUFPLENBQUMsaUZBQWdCOztBQUUzQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxHQUFHO0FBQ2QsYUFBYSxTQUFTO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzU3ltYm9sLmpzPzc2OTYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/isSymbol.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/now.js":
/*!************************************!*\
  !*** ./node_modules/lodash/now.js ***!
  \************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var root = __webpack_require__(/*! ./_root */ \"(app-pages-browser)/./node_modules/lodash/_root.js\");\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => Logs the number of milliseconds it took for the deferred invocation.\n */\nvar now = function() {\n  return root.Date.now();\n};\n\nmodule.exports = now;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbm93LmpzIiwibWFwcGluZ3MiOiJBQUFBLFdBQVcsbUJBQU8sQ0FBQyxtRUFBUzs7QUFFNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbm93LmpzPzg1NzMiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gKiB0aGUgVW5peCBlcG9jaCAoMSBKYW51YXJ5IDE5NzAgMDA6MDA6MDAgVVRDKS5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDIuNC4wXG4gKiBAY2F0ZWdvcnkgRGF0ZVxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdGltZXN0YW1wLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmRlZmVyKGZ1bmN0aW9uKHN0YW1wKSB7XG4gKiAgIGNvbnNvbGUubG9nKF8ubm93KCkgLSBzdGFtcCk7XG4gKiB9LCBfLm5vdygpKTtcbiAqIC8vID0+IExvZ3MgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgaXQgdG9vayBmb3IgdGhlIGRlZmVycmVkIGludm9jYXRpb24uXG4gKi9cbnZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIHJvb3QuRGF0ZS5ub3coKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gbm93O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/now.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/throttle.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/throttle.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var debounce = __webpack_require__(/*! ./debounce */ \"(app-pages-browser)/./node_modules/lodash/debounce.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"(app-pages-browser)/./node_modules/lodash/isObject.js\");\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a throttled function that only invokes `func` at most once per\n * every `wait` milliseconds. The throttled function comes with a `cancel`\n * method to cancel delayed `func` invocations and a `flush` method to\n * immediately invoke them. Provide `options` to indicate whether `func`\n * should be invoked on the leading and/or trailing edge of the `wait`\n * timeout. The `func` is invoked with the last arguments provided to the\n * throttled function. Subsequent calls to the throttled function return the\n * result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is\n * invoked on the trailing edge of the timeout only if the throttled function\n * is invoked more than once during the `wait` timeout.\n *\n * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n *\n * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n * for details over the differences between `_.throttle` and `_.debounce`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to throttle.\n * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\n * @param {Object} [options={}] The options object.\n * @param {boolean} [options.leading=true]\n *  Specify invoking on the leading edge of the timeout.\n * @param {boolean} [options.trailing=true]\n *  Specify invoking on the trailing edge of the timeout.\n * @returns {Function} Returns the new throttled function.\n * @example\n *\n * // Avoid excessively updating the position while scrolling.\n * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\n *\n * // Invoke `renewToken` when the click event is fired, but not more than once every 5 minutes.\n * var throttled = _.throttle(renewToken, 300000, { 'trailing': false });\n * jQuery(element).on('click', throttled);\n *\n * // Cancel the trailing throttled invocation.\n * jQuery(window).on('popstate', throttled.cancel);\n */\nfunction throttle(func, wait, options) {\n  var leading = true,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  if (isObject(options)) {\n    leading = 'leading' in options ? !!options.leading : leading;\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n  return debounce(func, wait, {\n    'leading': leading,\n    'maxWait': wait,\n    'trailing': trailing\n  });\n}\n\nmodule.exports = throttle;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdGhyb3R0bGUuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLHlFQUFZO0FBQ25DLGVBQWUsbUJBQU8sQ0FBQyx5RUFBWTs7QUFFbkM7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckIsV0FBVyxRQUFRO0FBQ25CLFdBQVcsUUFBUSxXQUFXO0FBQzlCLFdBQVcsU0FBUztBQUNwQjtBQUNBLFdBQVcsU0FBUztBQUNwQjtBQUNBLGFBQWEsVUFBVTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsbUJBQW1CO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoL3Rocm90dGxlLmpzP2NlNGYiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGRlYm91bmNlID0gcmVxdWlyZSgnLi9kZWJvdW5jZScpLFxuICAgIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9pc09iamVjdCcpO1xuXG4vKiogRXJyb3IgbWVzc2FnZSBjb25zdGFudHMuICovXG52YXIgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nO1xuXG4vKipcbiAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAqIGV2ZXJ5IGB3YWl0YCBtaWxsaXNlY29uZHMuIFRoZSB0aHJvdHRsZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgXG4gKiBtZXRob2QgdG8gY2FuY2VsIGRlbGF5ZWQgYGZ1bmNgIGludm9jYXRpb25zIGFuZCBhIGBmbHVzaGAgbWV0aG9kIHRvXG4gKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAqIHNob3VsZCBiZSBpbnZva2VkIG9uIHRoZSBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGBcbiAqIHRpbWVvdXQuIFRoZSBgZnVuY2AgaXMgaW52b2tlZCB3aXRoIHRoZSBsYXN0IGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGVcbiAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAqIHJlc3VsdCBvZiB0aGUgbGFzdCBgZnVuY2AgaW52b2NhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIHRocm90dGxlZCBmdW5jdGlvblxuICogaXMgaW52b2tlZCBtb3JlIHRoYW4gb25jZSBkdXJpbmcgdGhlIGB3YWl0YCB0aW1lb3V0LlxuICpcbiAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICogdW50aWwgdG8gdGhlIG5leHQgdGljaywgc2ltaWxhciB0byBgc2V0VGltZW91dGAgd2l0aCBhIHRpbWVvdXQgb2YgYDBgLlxuICpcbiAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICogZm9yIGRldGFpbHMgb3ZlciB0aGUgZGlmZmVyZW5jZXMgYmV0d2VlbiBgXy50aHJvdHRsZWAgYW5kIGBfLmRlYm91bmNlYC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHRocm90dGxlLlxuICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLmxlYWRpbmc9dHJ1ZV1cbiAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtvcHRpb25zLnRyYWlsaW5nPXRydWVdXG4gKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAqIEBleGFtcGxlXG4gKlxuICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAqIGpRdWVyeSh3aW5kb3cpLm9uKCdzY3JvbGwnLCBfLnRocm90dGxlKHVwZGF0ZVBvc2l0aW9uLCAxMDApKTtcbiAqXG4gKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAqIHZhciB0aHJvdHRsZWQgPSBfLnRocm90dGxlKHJlbmV3VG9rZW4sIDMwMDAwMCwgeyAndHJhaWxpbmcnOiBmYWxzZSB9KTtcbiAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCB0aHJvdHRsZWQpO1xuICpcbiAqIC8vIENhbmNlbCB0aGUgdHJhaWxpbmcgdGhyb3R0bGVkIGludm9jYXRpb24uXG4gKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCB0aHJvdHRsZWQuY2FuY2VsKTtcbiAqL1xuZnVuY3Rpb24gdGhyb3R0bGUoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICB2YXIgbGVhZGluZyA9IHRydWUsXG4gICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gIH1cbiAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgbGVhZGluZyA9ICdsZWFkaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLmxlYWRpbmcgOiBsZWFkaW5nO1xuICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gIH1cbiAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgJ21heFdhaXQnOiB3YWl0LFxuICAgICd0cmFpbGluZyc6IHRyYWlsaW5nXG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHRocm90dGxlO1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/throttle.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/lodash/toNumber.js":
/*!*****************************************!*\
  !*** ./node_modules/lodash/toNumber.js ***!
  \*****************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("var baseTrim = __webpack_require__(/*! ./_baseTrim */ \"(app-pages-browser)/./node_modules/lodash/_baseTrim.js\"),\n    isObject = __webpack_require__(/*! ./isObject */ \"(app-pages-browser)/./node_modules/lodash/isObject.js\"),\n    isSymbol = __webpack_require__(/*! ./isSymbol */ \"(app-pages-browser)/./node_modules/lodash/isSymbol.js\");\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3.2);\n * // => 3.2\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3.2');\n * // => 3.2\n */\nfunction toNumber(value) {\n  if (typeof value == 'number') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return NAN;\n  }\n  if (isObject(value)) {\n    var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = baseTrim(value);\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = toNumber;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvdG9OdW1iZXIuanMiLCJtYXBwaW5ncyI6IkFBQUEsZUFBZSxtQkFBTyxDQUFDLDJFQUFhO0FBQ3BDLGVBQWUsbUJBQU8sQ0FBQyx5RUFBWTtBQUNuQyxlQUFlLG1CQUFPLENBQUMseUVBQVk7O0FBRW5DO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsR0FBRztBQUNkLGFBQWEsUUFBUTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvTnVtYmVyLmpzPzI3NzkiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGJhc2VUcmltID0gcmVxdWlyZSgnLi9fYmFzZVRyaW0nKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTkFOID0gMCAvIDA7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBiYWQgc2lnbmVkIGhleGFkZWNpbWFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc0JpbmFyeSA9IC9eMGJbMDFdKyQvaTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG52YXIgcmVJc09jdGFsID0gL14wb1swLTddKyQvaTtcblxuLyoqIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHdpdGhvdXQgYSBkZXBlbmRlbmN5IG9uIGByb290YC4gKi9cbnZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcblxuLyoqXG4gKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgbnVtYmVyLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLnRvTnVtYmVyKDMuMik7XG4gKiAvLyA9PiAzLjJcbiAqXG4gKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICogLy8gPT4gNWUtMzI0XG4gKlxuICogXy50b051bWJlcihJbmZpbml0eSk7XG4gKiAvLyA9PiBJbmZpbml0eVxuICpcbiAqIF8udG9OdW1iZXIoJzMuMicpO1xuICogLy8gPT4gMy4yXG4gKi9cbmZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgIHJldHVybiBOQU47XG4gIH1cbiAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgIHZhciBvdGhlciA9IHR5cGVvZiB2YWx1ZS52YWx1ZU9mID09ICdmdW5jdGlvbicgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgfVxuICB2YWx1ZSA9IGJhc2VUcmltKHZhbHVlKTtcbiAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgcmV0dXJuIChpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkpXG4gICAgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpXG4gICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9OdW1iZXI7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/lodash/toNumber.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/scroll-into-view-if-needed/es/index.js":
/*!*************************************************************!*\
  !*** ./node_modules/scroll-into-view-if-needed/es/index.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! compute-scroll-into-view */ \"(app-pages-browser)/./node_modules/compute-scroll-into-view/dist/index.mjs\");\n\nfunction isOptionsObject(options) {\n  return options === Object(options) && Object.keys(options).length !== 0;\n}\nfunction defaultBehavior(actions, behavior) {\n  if (behavior === void 0) {\n    behavior = 'auto';\n  }\n  var canSmoothScroll = ('scrollBehavior' in document.body.style);\n  actions.forEach(function (_ref) {\n    var el = _ref.el,\n      top = _ref.top,\n      left = _ref.left;\n    if (el.scroll && canSmoothScroll) {\n      el.scroll({\n        top: top,\n        left: left,\n        behavior: behavior\n      });\n    } else {\n      el.scrollTop = top;\n      el.scrollLeft = left;\n    }\n  });\n}\nfunction getOptions(options) {\n  if (options === false) {\n    return {\n      block: 'end',\n      inline: 'nearest'\n    };\n  }\n  if (isOptionsObject(options)) {\n    return options;\n  }\n  return {\n    block: 'start',\n    inline: 'nearest'\n  };\n}\nfunction scrollIntoView(target, options) {\n  var isTargetAttached = target.isConnected || target.ownerDocument.documentElement.contains(target);\n  if (isOptionsObject(options) && typeof options.behavior === 'function') {\n    return options.behavior(isTargetAttached ? (0,compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, options) : []);\n  }\n  if (!isTargetAttached) {\n    return;\n  }\n  var computeOptions = getOptions(options);\n  return defaultBehavior((0,compute_scroll_into_view__WEBPACK_IMPORTED_MODULE_0__[\"default\"])(target, computeOptions), computeOptions.behavior);\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (scrollIntoView);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZC9lcy9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOztBQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQ0FBK0Msb0VBQU87QUFDdEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvRUFBTztBQUNoQztBQUNBLCtEQUFlLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL3Njcm9sbC1pbnRvLXZpZXctaWYtbmVlZGVkL2VzL2luZGV4LmpzPzMwNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbXB1dGUgZnJvbSAnY29tcHV0ZS1zY3JvbGwtaW50by12aWV3JztcbmZ1bmN0aW9uIGlzT3B0aW9uc09iamVjdChvcHRpb25zKSB7XG4gIHJldHVybiBvcHRpb25zID09PSBPYmplY3Qob3B0aW9ucykgJiYgT2JqZWN0LmtleXMob3B0aW9ucykubGVuZ3RoICE9PSAwO1xufVxuZnVuY3Rpb24gZGVmYXVsdEJlaGF2aW9yKGFjdGlvbnMsIGJlaGF2aW9yKSB7XG4gIGlmIChiZWhhdmlvciA9PT0gdm9pZCAwKSB7XG4gICAgYmVoYXZpb3IgPSAnYXV0byc7XG4gIH1cbiAgdmFyIGNhblNtb290aFNjcm9sbCA9ICgnc2Nyb2xsQmVoYXZpb3InIGluIGRvY3VtZW50LmJvZHkuc3R5bGUpO1xuICBhY3Rpb25zLmZvckVhY2goZnVuY3Rpb24gKF9yZWYpIHtcbiAgICB2YXIgZWwgPSBfcmVmLmVsLFxuICAgICAgdG9wID0gX3JlZi50b3AsXG4gICAgICBsZWZ0ID0gX3JlZi5sZWZ0O1xuICAgIGlmIChlbC5zY3JvbGwgJiYgY2FuU21vb3RoU2Nyb2xsKSB7XG4gICAgICBlbC5zY3JvbGwoe1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgYmVoYXZpb3I6IGJlaGF2aW9yXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZWwuc2Nyb2xsVG9wID0gdG9wO1xuICAgICAgZWwuc2Nyb2xsTGVmdCA9IGxlZnQ7XG4gICAgfVxuICB9KTtcbn1cbmZ1bmN0aW9uIGdldE9wdGlvbnMob3B0aW9ucykge1xuICBpZiAob3B0aW9ucyA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4ge1xuICAgICAgYmxvY2s6ICdlbmQnLFxuICAgICAgaW5saW5lOiAnbmVhcmVzdCdcbiAgICB9O1xuICB9XG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykpIHtcbiAgICByZXR1cm4gb3B0aW9ucztcbiAgfVxuICByZXR1cm4ge1xuICAgIGJsb2NrOiAnc3RhcnQnLFxuICAgIGlubGluZTogJ25lYXJlc3QnXG4gIH07XG59XG5mdW5jdGlvbiBzY3JvbGxJbnRvVmlldyh0YXJnZXQsIG9wdGlvbnMpIHtcbiAgdmFyIGlzVGFyZ2V0QXR0YWNoZWQgPSB0YXJnZXQuaXNDb25uZWN0ZWQgfHwgdGFyZ2V0Lm93bmVyRG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNvbnRhaW5zKHRhcmdldCk7XG4gIGlmIChpc09wdGlvbnNPYmplY3Qob3B0aW9ucykgJiYgdHlwZW9mIG9wdGlvbnMuYmVoYXZpb3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0aW9ucy5iZWhhdmlvcihpc1RhcmdldEF0dGFjaGVkID8gY29tcHV0ZSh0YXJnZXQsIG9wdGlvbnMpIDogW10pO1xuICB9XG4gIGlmICghaXNUYXJnZXRBdHRhY2hlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY29tcHV0ZU9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbnMpO1xuICByZXR1cm4gZGVmYXVsdEJlaGF2aW9yKGNvbXB1dGUodGFyZ2V0LCBjb21wdXRlT3B0aW9ucyksIGNvbXB1dGVPcHRpb25zLmJlaGF2aW9yKTtcbn1cbmV4cG9ydCBkZWZhdWx0IHNjcm9sbEludG9WaWV3OyJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/scroll-into-view-if-needed/es/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/slate-history/dist/index.es.js":
/*!*****************************************************!*\
  !*** ./node_modules/slate-history/dist/index.es.js ***!
  \*****************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   HISTORY: function() { return /* binding */ HISTORY; },\n/* harmony export */   History: function() { return /* binding */ History; },\n/* harmony export */   HistoryEditor: function() { return /* binding */ HistoryEditor; },\n/* harmony export */   MERGING: function() { return /* binding */ MERGING; },\n/* harmony export */   SAVING: function() { return /* binding */ SAVING; },\n/* harmony export */   withHistory: function() { return /* binding */ withHistory; }\n/* harmony export */ });\n/* harmony import */ var is_plain_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is-plain-object */ \"(app-pages-browser)/./node_modules/is-plain-object/dist/is-plain-object.mjs\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\n\nvar History = {\n  /**\r\n   * Check if a value is a `History` object.\r\n   */\n  isHistory(value) {\n    return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && Array.isArray(value.redos) && Array.isArray(value.undos) && (value.redos.length === 0 || slate__WEBPACK_IMPORTED_MODULE_1__.Operation.isOperationList(value.redos[0].operations)) && (value.undos.length === 0 || slate__WEBPACK_IMPORTED_MODULE_1__.Operation.isOperationList(value.undos[0].operations));\n  }\n\n};\n\n/**\r\n * Weakmaps for attaching state to the editor.\r\n */\n\nvar HISTORY = new WeakMap();\nvar SAVING = new WeakMap();\nvar MERGING = new WeakMap(); // eslint-disable-next-line no-redeclare\n\nvar HistoryEditor = {\n  /**\r\n   * Check if a value is a `HistoryEditor` object.\r\n   */\n  isHistoryEditor(value) {\n    return History.isHistory(value.history) && slate__WEBPACK_IMPORTED_MODULE_1__.Editor.isEditor(value);\n  },\n\n  /**\r\n   * Get the merge flag's current value.\r\n   */\n  isMerging(editor) {\n    return MERGING.get(editor);\n  },\n\n  /**\r\n   * Get the saving flag's current value.\r\n   */\n  isSaving(editor) {\n    return SAVING.get(editor);\n  },\n\n  /**\r\n   * Redo to the previous saved state.\r\n   */\n  redo(editor) {\n    editor.redo();\n  },\n\n  /**\r\n   * Undo to the previous saved state.\r\n   */\n  undo(editor) {\n    editor.undo();\n  },\n\n  /**\r\n   * Apply a series of changes inside a synchronous `fn`, without merging any of\r\n   * the new operations into previous save point in the history.\r\n   */\n  withoutMerging(editor, fn) {\n    var prev = HistoryEditor.isMerging(editor);\n    MERGING.set(editor, false);\n    fn();\n    MERGING.set(editor, prev);\n  },\n\n  /**\r\n   * Apply a series of changes inside a synchronous `fn`, without saving any of\r\n   * their operations into the history.\r\n   */\n  withoutSaving(editor, fn) {\n    var prev = HistoryEditor.isSaving(editor);\n    SAVING.set(editor, false);\n    fn();\n    SAVING.set(editor, prev);\n  }\n\n};\n\n/**\r\n * The `withHistory` plugin keeps track of the operation history of a Slate\r\n * editor as operations are applied to it, using undo and redo stacks.\r\n *\r\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\r\n * this plugin.\r\n *\r\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\r\n */\n\nvar withHistory = editor => {\n  var e = editor;\n  var {\n    apply\n  } = e;\n  e.history = {\n    undos: [],\n    redos: []\n  };\n\n  e.redo = () => {\n    var {\n      history\n    } = e;\n    var {\n      redos\n    } = history;\n\n    if (redos.length > 0) {\n      var batch = redos[redos.length - 1];\n\n      if (batch.selectionBefore) {\n        slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.setSelection(e, batch.selectionBefore);\n      }\n\n      HistoryEditor.withoutSaving(e, () => {\n        slate__WEBPACK_IMPORTED_MODULE_1__.Editor.withoutNormalizing(e, () => {\n          for (var op of batch.operations) {\n            e.apply(op);\n          }\n        });\n      });\n      history.redos.pop();\n      e.writeHistory('undos', batch);\n    }\n  };\n\n  e.undo = () => {\n    var {\n      history\n    } = e;\n    var {\n      undos\n    } = history;\n\n    if (undos.length > 0) {\n      var batch = undos[undos.length - 1];\n      HistoryEditor.withoutSaving(e, () => {\n        slate__WEBPACK_IMPORTED_MODULE_1__.Editor.withoutNormalizing(e, () => {\n          var inverseOps = batch.operations.map(slate__WEBPACK_IMPORTED_MODULE_1__.Operation.inverse).reverse();\n\n          for (var op of inverseOps) {\n            e.apply(op);\n          }\n\n          if (batch.selectionBefore) {\n            slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.setSelection(e, batch.selectionBefore);\n          }\n        });\n      });\n      e.writeHistory('redos', batch);\n      history.undos.pop();\n    }\n  };\n\n  e.apply = op => {\n    var {\n      operations,\n      history\n    } = e;\n    var {\n      undos\n    } = history;\n    var lastBatch = undos[undos.length - 1];\n    var lastOp = lastBatch && lastBatch.operations[lastBatch.operations.length - 1];\n    var save = HistoryEditor.isSaving(e);\n    var merge = HistoryEditor.isMerging(e);\n\n    if (save == null) {\n      save = shouldSave(op);\n    }\n\n    if (save) {\n      if (merge == null) {\n        if (lastBatch == null) {\n          merge = false;\n        } else if (operations.length !== 0) {\n          merge = true;\n        } else {\n          merge = shouldMerge(op, lastOp);\n        }\n      }\n\n      if (lastBatch && merge) {\n        lastBatch.operations.push(op);\n      } else {\n        var batch = {\n          operations: [op],\n          selectionBefore: e.selection\n        };\n        e.writeHistory('undos', batch);\n      }\n\n      while (undos.length > 100) {\n        undos.shift();\n      }\n\n      history.redos = [];\n    }\n\n    apply(op);\n  };\n\n  e.writeHistory = (stack, batch) => {\n    e.history[stack].push(batch);\n  };\n\n  return e;\n};\n/**\r\n * Check whether to merge an operation into the previous operation.\r\n */\n\nvar shouldMerge = (op, prev) => {\n  if (prev && op.type === 'insert_text' && prev.type === 'insert_text' && op.offset === prev.offset + prev.text.length && slate__WEBPACK_IMPORTED_MODULE_1__.Path.equals(op.path, prev.path)) {\n    return true;\n  }\n\n  if (prev && op.type === 'remove_text' && prev.type === 'remove_text' && op.offset + op.text.length === prev.offset && slate__WEBPACK_IMPORTED_MODULE_1__.Path.equals(op.path, prev.path)) {\n    return true;\n  }\n\n  return false;\n};\n/**\r\n * Check whether an operation needs to be saved to the history.\r\n */\n\n\nvar shouldSave = (op, prev) => {\n  if (op.type === 'set_selection') {\n    return false;\n  }\n\n  return true;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zbGF0ZS1oaXN0b3J5L2Rpc3QvaW5kZXguZXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDWTs7QUFFNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsOERBQWEsb0dBQW9HLDRDQUFTLDZFQUE2RSw0Q0FBUztBQUMzTjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLDZCQUE2Qjs7QUFFN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyx5Q0FBTTtBQUNyRCxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBOztBQUVBO0FBQ0EsUUFBUSw2Q0FBVTtBQUNsQjs7QUFFQTtBQUNBLFFBQVEseUNBQU07QUFDZDtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7QUFDQSxRQUFRLHlDQUFNO0FBQ2QsZ0RBQWdELDRDQUFTOztBQUV6RDtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxZQUFZLDZDQUFVO0FBQ3RCO0FBQ0EsU0FBUztBQUNULE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDBIQUEwSCx1Q0FBSTtBQUM5SDtBQUNBOztBQUVBLHdIQUF3SCx1Q0FBSTtBQUM1SDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRXlFO0FBQ3pFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zbGF0ZS1oaXN0b3J5L2Rpc3QvaW5kZXguZXMuanM/MTMzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpc1BsYWluT2JqZWN0IH0gZnJvbSAnaXMtcGxhaW4tb2JqZWN0JztcbmltcG9ydCB7IE9wZXJhdGlvbiwgRWRpdG9yLCBUcmFuc2Zvcm1zLCBQYXRoIH0gZnJvbSAnc2xhdGUnO1xuXG52YXIgSGlzdG9yeSA9IHtcbiAgLyoqXHJcbiAgICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIGBIaXN0b3J5YCBvYmplY3QuXHJcbiAgICovXG4gIGlzSGlzdG9yeSh2YWx1ZSkge1xuICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlLnJlZG9zKSAmJiBBcnJheS5pc0FycmF5KHZhbHVlLnVuZG9zKSAmJiAodmFsdWUucmVkb3MubGVuZ3RoID09PSAwIHx8IE9wZXJhdGlvbi5pc09wZXJhdGlvbkxpc3QodmFsdWUucmVkb3NbMF0ub3BlcmF0aW9ucykpICYmICh2YWx1ZS51bmRvcy5sZW5ndGggPT09IDAgfHwgT3BlcmF0aW9uLmlzT3BlcmF0aW9uTGlzdCh2YWx1ZS51bmRvc1swXS5vcGVyYXRpb25zKSk7XG4gIH1cblxufTtcblxuLyoqXHJcbiAqIFdlYWttYXBzIGZvciBhdHRhY2hpbmcgc3RhdGUgdG8gdGhlIGVkaXRvci5cclxuICovXG5cbnZhciBISVNUT1JZID0gbmV3IFdlYWtNYXAoKTtcbnZhciBTQVZJTkcgPSBuZXcgV2Vha01hcCgpO1xudmFyIE1FUkdJTkcgPSBuZXcgV2Vha01hcCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbnZhciBIaXN0b3J5RWRpdG9yID0ge1xuICAvKipcclxuICAgKiBDaGVjayBpZiBhIHZhbHVlIGlzIGEgYEhpc3RvcnlFZGl0b3JgIG9iamVjdC5cclxuICAgKi9cbiAgaXNIaXN0b3J5RWRpdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIEhpc3RvcnkuaXNIaXN0b3J5KHZhbHVlLmhpc3RvcnkpICYmIEVkaXRvci5pc0VkaXRvcih2YWx1ZSk7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICogR2V0IHRoZSBtZXJnZSBmbGFnJ3MgY3VycmVudCB2YWx1ZS5cclxuICAgKi9cbiAgaXNNZXJnaW5nKGVkaXRvcikge1xuICAgIHJldHVybiBNRVJHSU5HLmdldChlZGl0b3IpO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIEdldCB0aGUgc2F2aW5nIGZsYWcncyBjdXJyZW50IHZhbHVlLlxyXG4gICAqL1xuICBpc1NhdmluZyhlZGl0b3IpIHtcbiAgICByZXR1cm4gU0FWSU5HLmdldChlZGl0b3IpO1xuICB9LFxuXG4gIC8qKlxyXG4gICAqIFJlZG8gdG8gdGhlIHByZXZpb3VzIHNhdmVkIHN0YXRlLlxyXG4gICAqL1xuICByZWRvKGVkaXRvcikge1xuICAgIGVkaXRvci5yZWRvKCk7XG4gIH0sXG5cbiAgLyoqXHJcbiAgICogVW5kbyB0byB0aGUgcHJldmlvdXMgc2F2ZWQgc3RhdGUuXHJcbiAgICovXG4gIHVuZG8oZWRpdG9yKSB7XG4gICAgZWRpdG9yLnVuZG8oKTtcbiAgfSxcblxuICAvKipcclxuICAgKiBBcHBseSBhIHNlcmllcyBvZiBjaGFuZ2VzIGluc2lkZSBhIHN5bmNocm9ub3VzIGBmbmAsIHdpdGhvdXQgbWVyZ2luZyBhbnkgb2ZcclxuICAgKiB0aGUgbmV3IG9wZXJhdGlvbnMgaW50byBwcmV2aW91cyBzYXZlIHBvaW50IGluIHRoZSBoaXN0b3J5LlxyXG4gICAqL1xuICB3aXRob3V0TWVyZ2luZyhlZGl0b3IsIGZuKSB7XG4gICAgdmFyIHByZXYgPSBIaXN0b3J5RWRpdG9yLmlzTWVyZ2luZyhlZGl0b3IpO1xuICAgIE1FUkdJTkcuc2V0KGVkaXRvciwgZmFsc2UpO1xuICAgIGZuKCk7XG4gICAgTUVSR0lORy5zZXQoZWRpdG9yLCBwcmV2KTtcbiAgfSxcblxuICAvKipcclxuICAgKiBBcHBseSBhIHNlcmllcyBvZiBjaGFuZ2VzIGluc2lkZSBhIHN5bmNocm9ub3VzIGBmbmAsIHdpdGhvdXQgc2F2aW5nIGFueSBvZlxyXG4gICAqIHRoZWlyIG9wZXJhdGlvbnMgaW50byB0aGUgaGlzdG9yeS5cclxuICAgKi9cbiAgd2l0aG91dFNhdmluZyhlZGl0b3IsIGZuKSB7XG4gICAgdmFyIHByZXYgPSBIaXN0b3J5RWRpdG9yLmlzU2F2aW5nKGVkaXRvcik7XG4gICAgU0FWSU5HLnNldChlZGl0b3IsIGZhbHNlKTtcbiAgICBmbigpO1xuICAgIFNBVklORy5zZXQoZWRpdG9yLCBwcmV2KTtcbiAgfVxuXG59O1xuXG4vKipcclxuICogVGhlIGB3aXRoSGlzdG9yeWAgcGx1Z2luIGtlZXBzIHRyYWNrIG9mIHRoZSBvcGVyYXRpb24gaGlzdG9yeSBvZiBhIFNsYXRlXHJcbiAqIGVkaXRvciBhcyBvcGVyYXRpb25zIGFyZSBhcHBsaWVkIHRvIGl0LCB1c2luZyB1bmRvIGFuZCByZWRvIHN0YWNrcy5cclxuICpcclxuICogSWYgeW91IGFyZSB1c2luZyBUeXBlU2NyaXB0LCB5b3UgbXVzdCBleHRlbmQgU2xhdGUncyBDdXN0b21UeXBlcyB0byB1c2VcclxuICogdGhpcyBwbHVnaW4uXHJcbiAqXHJcbiAqIFNlZSBodHRwczovL2RvY3Muc2xhdGVqcy5vcmcvY29uY2VwdHMvMTEtdHlwZXNjcmlwdCB0byBsZWFybiBob3cuXHJcbiAqL1xuXG52YXIgd2l0aEhpc3RvcnkgPSBlZGl0b3IgPT4ge1xuICB2YXIgZSA9IGVkaXRvcjtcbiAgdmFyIHtcbiAgICBhcHBseVxuICB9ID0gZTtcbiAgZS5oaXN0b3J5ID0ge1xuICAgIHVuZG9zOiBbXSxcbiAgICByZWRvczogW11cbiAgfTtcblxuICBlLnJlZG8gPSAoKSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIGhpc3RvcnlcbiAgICB9ID0gZTtcbiAgICB2YXIge1xuICAgICAgcmVkb3NcbiAgICB9ID0gaGlzdG9yeTtcblxuICAgIGlmIChyZWRvcy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgYmF0Y2ggPSByZWRvc1tyZWRvcy5sZW5ndGggLSAxXTtcblxuICAgICAgaWYgKGJhdGNoLnNlbGVjdGlvbkJlZm9yZSkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlLCBiYXRjaC5zZWxlY3Rpb25CZWZvcmUpO1xuICAgICAgfVxuXG4gICAgICBIaXN0b3J5RWRpdG9yLndpdGhvdXRTYXZpbmcoZSwgKCkgPT4ge1xuICAgICAgICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGUsICgpID0+IHtcbiAgICAgICAgICBmb3IgKHZhciBvcCBvZiBiYXRjaC5vcGVyYXRpb25zKSB7XG4gICAgICAgICAgICBlLmFwcGx5KG9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBoaXN0b3J5LnJlZG9zLnBvcCgpO1xuICAgICAgZS53cml0ZUhpc3RvcnkoJ3VuZG9zJywgYmF0Y2gpO1xuICAgIH1cbiAgfTtcblxuICBlLnVuZG8gPSAoKSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIGhpc3RvcnlcbiAgICB9ID0gZTtcbiAgICB2YXIge1xuICAgICAgdW5kb3NcbiAgICB9ID0gaGlzdG9yeTtcblxuICAgIGlmICh1bmRvcy5sZW5ndGggPiAwKSB7XG4gICAgICB2YXIgYmF0Y2ggPSB1bmRvc1t1bmRvcy5sZW5ndGggLSAxXTtcbiAgICAgIEhpc3RvcnlFZGl0b3Iud2l0aG91dFNhdmluZyhlLCAoKSA9PiB7XG4gICAgICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZSwgKCkgPT4ge1xuICAgICAgICAgIHZhciBpbnZlcnNlT3BzID0gYmF0Y2gub3BlcmF0aW9ucy5tYXAoT3BlcmF0aW9uLmludmVyc2UpLnJldmVyc2UoKTtcblxuICAgICAgICAgIGZvciAodmFyIG9wIG9mIGludmVyc2VPcHMpIHtcbiAgICAgICAgICAgIGUuYXBwbHkob3ApO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChiYXRjaC5zZWxlY3Rpb25CZWZvcmUpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGUsIGJhdGNoLnNlbGVjdGlvbkJlZm9yZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgZS53cml0ZUhpc3RvcnkoJ3JlZG9zJywgYmF0Y2gpO1xuICAgICAgaGlzdG9yeS51bmRvcy5wb3AoKTtcbiAgICB9XG4gIH07XG5cbiAgZS5hcHBseSA9IG9wID0+IHtcbiAgICB2YXIge1xuICAgICAgb3BlcmF0aW9ucyxcbiAgICAgIGhpc3RvcnlcbiAgICB9ID0gZTtcbiAgICB2YXIge1xuICAgICAgdW5kb3NcbiAgICB9ID0gaGlzdG9yeTtcbiAgICB2YXIgbGFzdEJhdGNoID0gdW5kb3NbdW5kb3MubGVuZ3RoIC0gMV07XG4gICAgdmFyIGxhc3RPcCA9IGxhc3RCYXRjaCAmJiBsYXN0QmF0Y2gub3BlcmF0aW9uc1tsYXN0QmF0Y2gub3BlcmF0aW9ucy5sZW5ndGggLSAxXTtcbiAgICB2YXIgc2F2ZSA9IEhpc3RvcnlFZGl0b3IuaXNTYXZpbmcoZSk7XG4gICAgdmFyIG1lcmdlID0gSGlzdG9yeUVkaXRvci5pc01lcmdpbmcoZSk7XG5cbiAgICBpZiAoc2F2ZSA9PSBudWxsKSB7XG4gICAgICBzYXZlID0gc2hvdWxkU2F2ZShvcCk7XG4gICAgfVxuXG4gICAgaWYgKHNhdmUpIHtcbiAgICAgIGlmIChtZXJnZSA9PSBudWxsKSB7XG4gICAgICAgIGlmIChsYXN0QmF0Y2ggPT0gbnVsbCkge1xuICAgICAgICAgIG1lcmdlID0gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAob3BlcmF0aW9ucy5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICBtZXJnZSA9IHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWVyZ2UgPSBzaG91bGRNZXJnZShvcCwgbGFzdE9wKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAobGFzdEJhdGNoICYmIG1lcmdlKSB7XG4gICAgICAgIGxhc3RCYXRjaC5vcGVyYXRpb25zLnB1c2gob3ApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGJhdGNoID0ge1xuICAgICAgICAgIG9wZXJhdGlvbnM6IFtvcF0sXG4gICAgICAgICAgc2VsZWN0aW9uQmVmb3JlOiBlLnNlbGVjdGlvblxuICAgICAgICB9O1xuICAgICAgICBlLndyaXRlSGlzdG9yeSgndW5kb3MnLCBiYXRjaCk7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICh1bmRvcy5sZW5ndGggPiAxMDApIHtcbiAgICAgICAgdW5kb3Muc2hpZnQoKTtcbiAgICAgIH1cblxuICAgICAgaGlzdG9yeS5yZWRvcyA9IFtdO1xuICAgIH1cblxuICAgIGFwcGx5KG9wKTtcbiAgfTtcblxuICBlLndyaXRlSGlzdG9yeSA9IChzdGFjaywgYmF0Y2gpID0+IHtcbiAgICBlLmhpc3Rvcnlbc3RhY2tdLnB1c2goYmF0Y2gpO1xuICB9O1xuXG4gIHJldHVybiBlO1xufTtcbi8qKlxyXG4gKiBDaGVjayB3aGV0aGVyIHRvIG1lcmdlIGFuIG9wZXJhdGlvbiBpbnRvIHRoZSBwcmV2aW91cyBvcGVyYXRpb24uXHJcbiAqL1xuXG52YXIgc2hvdWxkTWVyZ2UgPSAob3AsIHByZXYpID0+IHtcbiAgaWYgKHByZXYgJiYgb3AudHlwZSA9PT0gJ2luc2VydF90ZXh0JyAmJiBwcmV2LnR5cGUgPT09ICdpbnNlcnRfdGV4dCcgJiYgb3Aub2Zmc2V0ID09PSBwcmV2Lm9mZnNldCArIHByZXYudGV4dC5sZW5ndGggJiYgUGF0aC5lcXVhbHMob3AucGF0aCwgcHJldi5wYXRoKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgaWYgKHByZXYgJiYgb3AudHlwZSA9PT0gJ3JlbW92ZV90ZXh0JyAmJiBwcmV2LnR5cGUgPT09ICdyZW1vdmVfdGV4dCcgJiYgb3Aub2Zmc2V0ICsgb3AudGV4dC5sZW5ndGggPT09IHByZXYub2Zmc2V0ICYmIFBhdGguZXF1YWxzKG9wLnBhdGgsIHByZXYucGF0aCkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn07XG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhbiBvcGVyYXRpb24gbmVlZHMgdG8gYmUgc2F2ZWQgdG8gdGhlIGhpc3RvcnkuXHJcbiAqL1xuXG5cbnZhciBzaG91bGRTYXZlID0gKG9wLCBwcmV2KSA9PiB7XG4gIGlmIChvcC50eXBlID09PSAnc2V0X3NlbGVjdGlvbicpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydCB7IEhJU1RPUlksIEhpc3RvcnksIEhpc3RvcnlFZGl0b3IsIE1FUkdJTkcsIFNBVklORywgd2l0aEhpc3RvcnkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/slate-history/dist/index.es.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/slate-react/dist/index.es.js":
/*!***************************************************!*\
  !*** ./node_modules/slate-react/dist/index.es.js ***!
  \***************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DefaultElement: function() { return /* binding */ DefaultElement; },\n/* harmony export */   DefaultLeaf: function() { return /* binding */ DefaultLeaf; },\n/* harmony export */   DefaultPlaceholder: function() { return /* binding */ DefaultPlaceholder; },\n/* harmony export */   Editable: function() { return /* binding */ Editable; },\n/* harmony export */   ReactEditor: function() { return /* binding */ ReactEditor; },\n/* harmony export */   Slate: function() { return /* binding */ Slate; },\n/* harmony export */   useEditor: function() { return /* binding */ useEditor; },\n/* harmony export */   useFocused: function() { return /* binding */ useFocused; },\n/* harmony export */   useReadOnly: function() { return /* binding */ useReadOnly; },\n/* harmony export */   useSelected: function() { return /* binding */ useSelected; },\n/* harmony export */   useSlate: function() { return /* binding */ useSlate; },\n/* harmony export */   useSlateSelection: function() { return /* binding */ useSlateSelection; },\n/* harmony export */   useSlateSelector: function() { return /* binding */ useSlateSelector; },\n/* harmony export */   useSlateStatic: function() { return /* binding */ useSlateStatic; },\n/* harmony export */   useSlateWithV: function() { return /* binding */ useSlateWithV; },\n/* harmony export */   withReact: function() { return /* binding */ withReact; }\n/* harmony export */ });\n/* harmony import */ var direction__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! direction */ \"(app-pages-browser)/./node_modules/direction/index.js\");\n/* harmony import */ var direction__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(direction__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! lodash/debounce */ \"(app-pages-browser)/./node_modules/lodash/debounce.js\");\n/* harmony import */ var lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(lodash_debounce__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! lodash/throttle */ \"(app-pages-browser)/./node_modules/lodash/throttle.js\");\n/* harmony import */ var lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(lodash_throttle__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! scroll-into-view-if-needed */ \"(app-pages-browser)/./node_modules/scroll-into-view-if-needed/es/index.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var _juggle_resize_observer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @juggle/resize-observer */ \"(app-pages-browser)/./node_modules/@juggle/resize-observer/lib/exports/resize-observer.js\");\n/* harmony import */ var is_hotkey__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! is-hotkey */ \"(app-pages-browser)/./node_modules/is-hotkey/lib/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n\n\n\n\n\n\n\n\n\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\n/**\r\n * A React context for sharing the editor object.\r\n */\n\nvar EditorContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\r\n * Get the current editor object from the React context.\r\n */\n\nvar useSlateStatic = () => {\n  var editor = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(EditorContext);\n\n  if (!editor) {\n    throw new Error(\"The `useSlateStatic` hook must be used inside the <Slate> component's context.\");\n  }\n\n  return editor;\n};\n\nvar REACT_MAJOR_VERSION = parseInt(react__WEBPACK_IMPORTED_MODULE_3___default().version.split('.')[0], 10);\nvar IS_IOS = typeof navigator !== 'undefined' && typeof window !== 'undefined' && /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\nvar IS_APPLE = typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent);\nvar IS_ANDROID = typeof navigator !== 'undefined' && /Android/.test(navigator.userAgent);\nvar IS_FIREFOX = typeof navigator !== 'undefined' && /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent);\nvar IS_WEBKIT = typeof navigator !== 'undefined' && /AppleWebKit(?!.*Chrome)/i.test(navigator.userAgent); // \"modern\" Edge was released at 79.x\n\nvar IS_EDGE_LEGACY = typeof navigator !== 'undefined' && /Edge?\\/(?:[0-6][0-9]|[0-7][0-8])(?:\\.)/i.test(navigator.userAgent);\nvar IS_CHROME = typeof navigator !== 'undefined' && /Chrome/i.test(navigator.userAgent); // Native `beforeInput` events don't work well with react on Chrome 75\n// and older, Chrome 76+ can use `beforeInput` though.\n\nvar IS_CHROME_LEGACY = typeof navigator !== 'undefined' && /Chrome?\\/(?:[0-7][0-5]|[0-6][0-9])(?:\\.)/i.test(navigator.userAgent);\nvar IS_ANDROID_CHROME_LEGACY = IS_ANDROID && typeof navigator !== 'undefined' && /Chrome?\\/(?:[0-5]?\\d)(?:\\.)/i.test(navigator.userAgent); // Firefox did not support `beforeInput` until `v87`.\n\nvar IS_FIREFOX_LEGACY = typeof navigator !== 'undefined' && /^(?!.*Seamonkey)(?=.*Firefox\\/(?:[0-7][0-9]|[0-8][0-6])(?:\\.)).*/i.test(navigator.userAgent); // UC mobile browser\n\nvar IS_UC_MOBILE = typeof navigator !== 'undefined' && /.*UCBrowser/.test(navigator.userAgent); // Wechat browser (not including mac wechat)\n\nvar IS_WECHATBROWSER = typeof navigator !== 'undefined' && /.*Wechat/.test(navigator.userAgent) && !/.*MacWechat/.test(navigator.userAgent); // avoid lookbehind (buggy in safari < 16.4)\n// Check if DOM is available as React does internally.\n// https://github.com/facebook/react/blob/master/packages/shared/ExecutionEnvironment.js\n\nvar CAN_USE_DOM = !!(typeof window !== 'undefined' && typeof window.document !== 'undefined' && typeof window.document.createElement !== 'undefined'); // COMPAT: Firefox/Edge Legacy don't support the `beforeinput` event\n// Chrome Legacy doesn't support `beforeinput` correctly\n\nvar HAS_BEFORE_INPUT_SUPPORT = (!IS_CHROME_LEGACY || !IS_ANDROID_CHROME_LEGACY) && !IS_EDGE_LEGACY && // globalThis is undefined in older browsers\ntypeof globalThis !== 'undefined' && globalThis.InputEvent && // @ts-ignore The `getTargetRanges` property isn't recognized.\ntypeof globalThis.InputEvent.prototype.getTargetRanges === 'function';\n\n/**\r\n * Two weak maps that allow us rebuild a path given a node. They are populated\r\n * at render time such that after a render occurs we can always backtrack.\r\n */\nvar NODE_TO_INDEX = new WeakMap();\nvar NODE_TO_PARENT = new WeakMap();\n/**\r\n * Weak maps that allow us to go between Slate nodes and DOM nodes. These\r\n * are used to resolve DOM event-related logic into Slate actions.\r\n */\n\nvar EDITOR_TO_WINDOW = new WeakMap();\nvar EDITOR_TO_ELEMENT = new WeakMap();\nvar EDITOR_TO_PLACEHOLDER_ELEMENT = new WeakMap();\nvar ELEMENT_TO_NODE = new WeakMap();\nvar NODE_TO_ELEMENT = new WeakMap();\nvar NODE_TO_KEY = new WeakMap();\nvar EDITOR_TO_KEY_TO_ELEMENT = new WeakMap();\n/**\r\n * Weak maps for storing editor-related state.\r\n */\n\nvar IS_READ_ONLY = new WeakMap();\nvar IS_FOCUSED = new WeakMap();\nvar IS_COMPOSING = new WeakMap();\nvar EDITOR_TO_USER_SELECTION = new WeakMap();\n/**\r\n * Weak map for associating the context `onChange` context with the plugin.\r\n */\n\nvar EDITOR_TO_ON_CHANGE = new WeakMap();\n/**\r\n * Weak maps for saving pending state on composition stage.\r\n */\n\nvar EDITOR_TO_SCHEDULE_FLUSH = new WeakMap();\nvar EDITOR_TO_PENDING_INSERTION_MARKS = new WeakMap();\nvar EDITOR_TO_USER_MARKS = new WeakMap();\n/**\r\n * Android input handling specific weak-maps\r\n */\n\nvar EDITOR_TO_PENDING_DIFFS = new WeakMap();\nvar EDITOR_TO_PENDING_ACTION = new WeakMap();\nvar EDITOR_TO_PENDING_SELECTION = new WeakMap();\nvar EDITOR_TO_FORCE_RENDER = new WeakMap();\n/**\r\n * Symbols.\r\n */\n\nvar PLACEHOLDER_SYMBOL = Symbol('placeholder');\nvar MARK_PLACEHOLDER_SYMBOL = Symbol('mark-placeholder');\n\n/**\r\n * Types.\r\n */\nvar DOMText = globalThis.Text;\n/**\r\n * Returns the host window of a DOM node\r\n */\n\nvar getDefaultView = value => {\n  return value && value.ownerDocument && value.ownerDocument.defaultView || null;\n};\n/**\r\n * Check if a DOM node is a comment node.\r\n */\n\nvar isDOMComment = value => {\n  return isDOMNode(value) && value.nodeType === 8;\n};\n/**\r\n * Check if a DOM node is an element node.\r\n */\n\nvar isDOMElement = value => {\n  return isDOMNode(value) && value.nodeType === 1;\n};\n/**\r\n * Check if a value is a DOM node.\r\n */\n\nvar isDOMNode = value => {\n  var window = getDefaultView(value);\n  return !!window && value instanceof window.Node;\n};\n/**\r\n * Check if a value is a DOM selection.\r\n */\n\nvar isDOMSelection = value => {\n  var window = value && value.anchorNode && getDefaultView(value.anchorNode);\n  return !!window && value instanceof window.Selection;\n};\n/**\r\n * Check if a DOM node is an element node.\r\n */\n\nvar isDOMText = value => {\n  return isDOMNode(value) && value.nodeType === 3;\n};\n/**\r\n * Checks whether a paste event is a plaintext-only event.\r\n */\n\nvar isPlainTextOnlyPaste = event => {\n  return event.clipboardData && event.clipboardData.getData('text/plain') !== '' && event.clipboardData.types.length === 1;\n};\n/**\r\n * Normalize a DOM point so that it always refers to a text node.\r\n */\n\nvar normalizeDOMPoint = domPoint => {\n  var [node, offset] = domPoint; // If it's an element node, its offset refers to the index of its children\n  // including comment nodes, so try to find the right text child node.\n\n  if (isDOMElement(node) && node.childNodes.length) {\n    var isLast = offset === node.childNodes.length;\n    var index = isLast ? offset - 1 : offset;\n    [node, index] = getEditableChildAndIndex(node, index, isLast ? 'backward' : 'forward'); // If the editable child found is in front of input offset, we instead seek to its end\n\n    isLast = index < offset; // If the node has children, traverse until we have a leaf node. Leaf nodes\n    // can be either text nodes, or other void DOM nodes.\n\n    while (isDOMElement(node) && node.childNodes.length) {\n      var i = isLast ? node.childNodes.length - 1 : 0;\n      node = getEditableChild(node, i, isLast ? 'backward' : 'forward');\n    } // Determine the new offset inside the text node.\n\n\n    offset = isLast && node.textContent != null ? node.textContent.length : 0;\n  } // Return the node and offset.\n\n\n  return [node, offset];\n};\n/**\r\n * Determines whether the active element is nested within a shadowRoot\r\n */\n\nvar hasShadowRoot = node => {\n  var parent = node && node.parentNode;\n\n  while (parent) {\n    if (parent.toString() === '[object ShadowRoot]') {\n      return true;\n    }\n\n    parent = parent.parentNode;\n  }\n\n  return false;\n};\n/**\r\n * Get the nearest editable child and index at `index` in a `parent`, preferring\r\n * `direction`.\r\n */\n\nvar getEditableChildAndIndex = (parent, index, direction) => {\n  var {\n    childNodes\n  } = parent;\n  var child = childNodes[index];\n  var i = index;\n  var triedForward = false;\n  var triedBackward = false; // While the child is a comment node, or an element node with no children,\n  // keep iterating to find a sibling non-void, non-comment node.\n\n  while (isDOMComment(child) || isDOMElement(child) && child.childNodes.length === 0 || isDOMElement(child) && child.getAttribute('contenteditable') === 'false') {\n    if (triedForward && triedBackward) {\n      break;\n    }\n\n    if (i >= childNodes.length) {\n      triedForward = true;\n      i = index - 1;\n      direction = 'backward';\n      continue;\n    }\n\n    if (i < 0) {\n      triedBackward = true;\n      i = index + 1;\n      direction = 'forward';\n      continue;\n    }\n\n    child = childNodes[i];\n    index = i;\n    i += direction === 'forward' ? 1 : -1;\n  }\n\n  return [child, index];\n};\n/**\r\n * Get the nearest editable child at `index` in a `parent`, preferring\r\n * `direction`.\r\n */\n\nvar getEditableChild = (parent, index, direction) => {\n  var [child] = getEditableChildAndIndex(parent, index, direction);\n  return child;\n};\n/**\r\n * Get a plaintext representation of the content of a node, accounting for block\r\n * elements which get a newline appended.\r\n *\r\n * The domNode must be attached to the DOM.\r\n */\n\nvar getPlainText = domNode => {\n  var text = '';\n\n  if (isDOMText(domNode) && domNode.nodeValue) {\n    return domNode.nodeValue;\n  }\n\n  if (isDOMElement(domNode)) {\n    for (var childNode of Array.from(domNode.childNodes)) {\n      text += getPlainText(childNode);\n    }\n\n    var display = getComputedStyle(domNode).getPropertyValue('display');\n\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\n      text += '\\n';\n    }\n  }\n\n  return text;\n};\n/**\r\n * Get x-slate-fragment attribute from data-slate-fragment\r\n */\n\nvar catchSlateFragment = /data-slate-fragment=\"(.+?)\"/m;\nvar getSlateFragmentAttribute = dataTransfer => {\n  var htmlData = dataTransfer.getData('text/html');\n  var [, fragment] = htmlData.match(catchSlateFragment) || [];\n  return fragment;\n};\n/**\r\n * Check whether a mutation originates from a editable element inside the editor.\r\n */\n\nvar isTrackedMutation = (editor, mutation, batch) => {\n  var {\n    target\n  } = mutation;\n\n  if (isDOMElement(target) && target.matches('[contentEditable=\"false\"]')) {\n    return false;\n  }\n\n  var {\n    document\n  } = ReactEditor.getWindow(editor);\n\n  if (document.contains(target)) {\n    return ReactEditor.hasDOMNode(editor, target, {\n      editable: true\n    });\n  }\n\n  var parentMutation = batch.find(_ref => {\n    var {\n      addedNodes,\n      removedNodes\n    } = _ref;\n\n    for (var node of addedNodes) {\n      if (node === target || node.contains(target)) {\n        return true;\n      }\n    }\n\n    for (var _node of removedNodes) {\n      if (_node === target || _node.contains(target)) {\n        return true;\n      }\n    }\n  });\n\n  if (!parentMutation || parentMutation === mutation) {\n    return false;\n  } // Target add/remove is tracked. Track the mutation if we track the parent mutation.\n\n\n  return isTrackedMutation(editor, parentMutation, batch);\n};\n\n/**\r\n * An auto-incrementing identifier for keys.\r\n */\nvar n = 0;\n/**\r\n * A class that keeps track of a key string. We use a full class here because we\r\n * want to be able to use them as keys in `WeakMap` objects.\r\n */\n\nclass Key {\n  constructor() {\n    this.id = \"\".concat(n++);\n  }\n\n}\n\nvar ReactEditor = {\n  androidPendingDiffs: editor => EDITOR_TO_PENDING_DIFFS.get(editor),\n  androidScheduleFlush: editor => {\n    var _EDITOR_TO_SCHEDULE_F;\n\n    (_EDITOR_TO_SCHEDULE_F = EDITOR_TO_SCHEDULE_FLUSH.get(editor)) === null || _EDITOR_TO_SCHEDULE_F === void 0 ? void 0 : _EDITOR_TO_SCHEDULE_F();\n  },\n  blur: editor => {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, false);\n\n    if (root.activeElement === el) {\n      el.blur();\n    }\n  },\n  deselect: editor => {\n    var {\n      selection\n    } = editor;\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    var domSelection = root.getSelection();\n\n    if (domSelection && domSelection.rangeCount > 0) {\n      domSelection.removeAllRanges();\n    }\n\n    if (selection) {\n      slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.deselect(editor);\n    }\n  },\n  findDocumentOrShadowRoot: editor => {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = el.getRootNode();\n\n    if ((root instanceof Document || root instanceof ShadowRoot) && root.getSelection != null) {\n      return root;\n    }\n\n    return el.ownerDocument;\n  },\n  findEventRange: (editor, event) => {\n    if ('nativeEvent' in event) {\n      event = event.nativeEvent;\n    }\n\n    var {\n      clientX: x,\n      clientY: y,\n      target\n    } = event;\n\n    if (x == null || y == null) {\n      throw new Error(\"Cannot resolve a Slate range from a DOM event: \".concat(event));\n    }\n\n    var node = ReactEditor.toSlateNode(editor, event.target);\n    var path = ReactEditor.findPath(editor, node); // If the drop target is inside a void node, move it into either the\n    // next or previous node, depending on which side the `x` and `y`\n    // coordinates are closest to.\n\n    if (slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, node)) {\n      var rect = target.getBoundingClientRect();\n      var isPrev = editor.isInline(node) ? x - rect.left < rect.left + rect.width - x : y - rect.top < rect.top + rect.height - y;\n      var edge = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.point(editor, path, {\n        edge: isPrev ? 'start' : 'end'\n      });\n      var point = isPrev ? slate__WEBPACK_IMPORTED_MODULE_7__.Editor.before(editor, edge) : slate__WEBPACK_IMPORTED_MODULE_7__.Editor.after(editor, edge);\n\n      if (point) {\n        var _range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, point);\n\n        return _range;\n      }\n    } // Else resolve a range from the caret position where the drop occured.\n\n\n    var domRange;\n    var {\n      document\n    } = ReactEditor.getWindow(editor); // COMPAT: In Firefox, `caretRangeFromPoint` doesn't exist. (2016/07/25)\n\n    if (document.caretRangeFromPoint) {\n      domRange = document.caretRangeFromPoint(x, y);\n    } else {\n      var position = document.caretPositionFromPoint(x, y);\n\n      if (position) {\n        domRange = document.createRange();\n        domRange.setStart(position.offsetNode, position.offset);\n        domRange.setEnd(position.offsetNode, position.offset);\n      }\n    }\n\n    if (!domRange) {\n      throw new Error(\"Cannot resolve a Slate range from a DOM event: \".concat(event));\n    } // Resolve a Slate range from the DOM range.\n\n\n    var range = ReactEditor.toSlateRange(editor, domRange, {\n      exactMatch: false,\n      suppressThrow: false\n    });\n    return range;\n  },\n  findKey: (editor, node) => {\n    var key = NODE_TO_KEY.get(node);\n\n    if (!key) {\n      key = new Key();\n      NODE_TO_KEY.set(node, key);\n    }\n\n    return key;\n  },\n  findPath: (editor, node) => {\n    var path = [];\n    var child = node;\n\n    while (true) {\n      var parent = NODE_TO_PARENT.get(child);\n\n      if (parent == null) {\n        if (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isEditor(child)) {\n          return path;\n        } else {\n          break;\n        }\n      }\n\n      var i = NODE_TO_INDEX.get(child);\n\n      if (i == null) {\n        break;\n      }\n\n      path.unshift(i);\n      child = parent;\n    }\n\n    throw new Error(\"Unable to find the path for Slate node: \".concat(slate__WEBPACK_IMPORTED_MODULE_7__.Scrubber.stringify(node)));\n  },\n  focus: editor => {\n    var el = ReactEditor.toDOMNode(editor, editor);\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    IS_FOCUSED.set(editor, true);\n\n    if (root.activeElement !== el) {\n      el.focus({\n        preventScroll: true\n      });\n    }\n  },\n  getWindow: editor => {\n    var window = EDITOR_TO_WINDOW.get(editor);\n\n    if (!window) {\n      throw new Error('Unable to find a host window element for this editor');\n    }\n\n    return window;\n  },\n  hasDOMNode: function hasDOMNode(editor, target) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      editable = false\n    } = options;\n    var editorEl = ReactEditor.toDOMNode(editor, editor);\n    var targetEl; // COMPAT: In Firefox, reading `target.nodeType` will throw an error if\n    // target is originating from an internal \"restricted\" element (e.g. a\n    // stepper arrow on a number input). (2018/05/04)\n    // https://github.com/ianstormtaylor/slate/issues/1819\n\n    try {\n      targetEl = isDOMElement(target) ? target : target.parentElement;\n    } catch (err) {\n      if (!err.message.includes('Permission denied to access property \"nodeType\"')) {\n        throw err;\n      }\n    }\n\n    if (!targetEl) {\n      return false;\n    }\n\n    return targetEl.closest(\"[data-slate-editor]\") === editorEl && (!editable || targetEl.isContentEditable ? true : typeof targetEl.isContentEditable === 'boolean' && // isContentEditable exists only on HTMLElement, and on other nodes it will be undefined\n    // this is the core logic that lets you know you got the right editor.selection instead of null when editor is contenteditable=\"false\"(readOnly)\n    targetEl.closest('[contenteditable=\"false\"]') === editorEl || !!targetEl.getAttribute('data-slate-zero-width'));\n  },\n  hasEditableTarget: (editor, target) => isDOMNode(target) && ReactEditor.hasDOMNode(editor, target, {\n    editable: true\n  }),\n  hasRange: (editor, range) => {\n    var {\n      anchor,\n      focus\n    } = range;\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, anchor.path) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, focus.path);\n  },\n  hasSelectableTarget: (editor, target) => ReactEditor.hasEditableTarget(editor, target) || ReactEditor.isTargetInsideNonReadonlyVoid(editor, target),\n  hasTarget: (editor, target) => isDOMNode(target) && ReactEditor.hasDOMNode(editor, target),\n  insertData: (editor, data) => {\n    editor.insertData(data);\n  },\n  insertFragmentData: (editor, data) => editor.insertFragmentData(data),\n  insertTextData: (editor, data) => editor.insertTextData(data),\n  isComposing: editor => {\n    return !!IS_COMPOSING.get(editor);\n  },\n  isFocused: editor => !!IS_FOCUSED.get(editor),\n  isReadOnly: editor => !!IS_READ_ONLY.get(editor),\n  isTargetInsideNonReadonlyVoid: (editor, target) => {\n    if (IS_READ_ONLY.get(editor)) return false;\n    var slateNode = ReactEditor.hasTarget(editor, target) && ReactEditor.toSlateNode(editor, target);\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(slateNode) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, slateNode);\n  },\n  setFragmentData: (editor, data, originEvent) => editor.setFragmentData(data, originEvent),\n  toDOMNode: (editor, node) => {\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n    var domNode = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isEditor(node) ? EDITOR_TO_ELEMENT.get(editor) : KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.get(ReactEditor.findKey(editor, node));\n\n    if (!domNode) {\n      throw new Error(\"Cannot resolve a DOM node from Slate node: \".concat(slate__WEBPACK_IMPORTED_MODULE_7__.Scrubber.stringify(node)));\n    }\n\n    return domNode;\n  },\n  toDOMPoint: (editor, point) => {\n    var [node] = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.node(editor, point.path);\n    var el = ReactEditor.toDOMNode(editor, node);\n    var domPoint; // If we're inside a void node, force the offset to 0, otherwise the zero\n    // width spacing character will result in an incorrect offset of 1\n\n    if (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n      at: point\n    })) {\n      point = {\n        path: point.path,\n        offset: 0\n      };\n    } // For each leaf, we need to isolate its content, which means filtering\n    // to its direct text and zero-width spans. (We have to filter out any\n    // other siblings that may have been rendered alongside them.)\n\n\n    var selector = \"[data-slate-string], [data-slate-zero-width]\";\n    var texts = Array.from(el.querySelectorAll(selector));\n    var start = 0;\n\n    for (var i = 0; i < texts.length; i++) {\n      var text = texts[i];\n      var domNode = text.childNodes[0];\n\n      if (domNode == null || domNode.textContent == null) {\n        continue;\n      }\n\n      var {\n        length\n      } = domNode.textContent;\n      var attr = text.getAttribute('data-slate-length');\n      var trueLength = attr == null ? length : parseInt(attr, 10);\n      var end = start + trueLength; // Prefer putting the selection inside the mark placeholder to ensure\n      // composed text is displayed with the correct marks.\n\n      var nextText = texts[i + 1];\n\n      if (point.offset === end && nextText !== null && nextText !== void 0 && nextText.hasAttribute('data-slate-mark-placeholder')) {\n        var _nextText$textContent;\n\n        var domText = nextText.childNodes[0];\n        domPoint = [// COMPAT: If we don't explicity set the dom point to be on the actual\n        // dom text element, chrome will put the selection behind the actual dom\n        // text element, causing domRange.getBoundingClientRect() calls on a collapsed\n        // selection to return incorrect zero values (https://bugs.chromium.org/p/chromium/issues/detail?id=435438)\n        // which will cause issues when scrolling to it.\n        domText instanceof DOMText ? domText : nextText, (_nextText$textContent = nextText.textContent) !== null && _nextText$textContent !== void 0 && _nextText$textContent.startsWith('\\uFEFF') ? 1 : 0];\n        break;\n      }\n\n      if (point.offset <= end) {\n        var offset = Math.min(length, Math.max(0, point.offset - start));\n        domPoint = [domNode, offset];\n        break;\n      }\n\n      start = end;\n    }\n\n    if (!domPoint) {\n      throw new Error(\"Cannot resolve a DOM point from Slate point: \".concat(slate__WEBPACK_IMPORTED_MODULE_7__.Scrubber.stringify(point)));\n    }\n\n    return domPoint;\n  },\n  toDOMRange: (editor, range) => {\n    var {\n      anchor,\n      focus\n    } = range;\n    var isBackward = slate__WEBPACK_IMPORTED_MODULE_7__.Range.isBackward(range);\n    var domAnchor = ReactEditor.toDOMPoint(editor, anchor);\n    var domFocus = slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(range) ? domAnchor : ReactEditor.toDOMPoint(editor, focus);\n    var window = ReactEditor.getWindow(editor);\n    var domRange = window.document.createRange();\n    var [startNode, startOffset] = isBackward ? domFocus : domAnchor;\n    var [endNode, endOffset] = isBackward ? domAnchor : domFocus; // A slate Point at zero-width Leaf always has an offset of 0 but a native DOM selection at\n    // zero-width node has an offset of 1 so we have to check if we are in a zero-width node and\n    // adjust the offset accordingly.\n\n    var startEl = isDOMElement(startNode) ? startNode : startNode.parentElement;\n    var isStartAtZeroWidth = !!startEl.getAttribute('data-slate-zero-width');\n    var endEl = isDOMElement(endNode) ? endNode : endNode.parentElement;\n    var isEndAtZeroWidth = !!endEl.getAttribute('data-slate-zero-width');\n    domRange.setStart(startNode, isStartAtZeroWidth ? 1 : startOffset);\n    domRange.setEnd(endNode, isEndAtZeroWidth ? 1 : endOffset);\n    return domRange;\n  },\n  toSlateNode: (editor, domNode) => {\n    var domEl = isDOMElement(domNode) ? domNode : domNode.parentElement;\n\n    if (domEl && !domEl.hasAttribute('data-slate-node')) {\n      domEl = domEl.closest(\"[data-slate-node]\");\n    }\n\n    var node = domEl ? ELEMENT_TO_NODE.get(domEl) : null;\n\n    if (!node) {\n      throw new Error(\"Cannot resolve a Slate node from DOM node: \".concat(domEl));\n    }\n\n    return node;\n  },\n  toSlatePoint: (editor, domPoint, options) => {\n    var {\n      exactMatch,\n      suppressThrow\n    } = options;\n    var [nearestNode, nearestOffset] = exactMatch ? domPoint : normalizeDOMPoint(domPoint);\n    var parentNode = nearestNode.parentNode;\n    var textNode = null;\n    var offset = 0;\n\n    if (parentNode) {\n      var _domNode$textContent, _domNode$textContent2;\n\n      var editorEl = ReactEditor.toDOMNode(editor, editor);\n      var potentialVoidNode = parentNode.closest('[data-slate-void=\"true\"]'); // Need to ensure that the closest void node is actually a void node\n      // within this editor, and not a void node within some parent editor. This can happen\n      // if this editor is within a void node of another editor (\"nested editors\", like in\n      // the \"Editable Voids\" example on the docs site).\n\n      var voidNode = potentialVoidNode && editorEl.contains(potentialVoidNode) ? potentialVoidNode : null;\n      var leafNode = parentNode.closest('[data-slate-leaf]');\n      var domNode = null; // Calculate how far into the text node the `nearestNode` is, so that we\n      // can determine what the offset relative to the text node is.\n\n      if (leafNode) {\n        textNode = leafNode.closest('[data-slate-node=\"text\"]');\n\n        if (textNode) {\n          var window = ReactEditor.getWindow(editor);\n          var range = window.document.createRange();\n          range.setStart(textNode, 0);\n          range.setEnd(nearestNode, nearestOffset);\n          var contents = range.cloneContents();\n          var removals = [...Array.prototype.slice.call(contents.querySelectorAll('[data-slate-zero-width]')), ...Array.prototype.slice.call(contents.querySelectorAll('[contenteditable=false]'))];\n          removals.forEach(el => {\n            // COMPAT: While composing at the start of a text node, some keyboards put\n            // the text content inside the zero width space.\n            if (IS_ANDROID && !exactMatch && el.hasAttribute('data-slate-zero-width') && el.textContent.length > 0 && el.textContext !== '\\uFEFF') {\n              if (el.textContent.startsWith('\\uFEFF')) {\n                el.textContent = el.textContent.slice(1);\n              }\n\n              return;\n            }\n\n            el.parentNode.removeChild(el);\n          }); // COMPAT: Edge has a bug where Range.prototype.toString() will\n          // convert \\n into \\r\\n. The bug causes a loop when slate-react\n          // attempts to reposition its cursor to match the native position. Use\n          // textContent.length instead.\n          // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\n\n          offset = contents.textContent.length;\n          domNode = textNode;\n        }\n      } else if (voidNode) {\n        // For void nodes, the element with the offset key will be a cousin, not an\n        // ancestor, so find it by going down from the nearest void parent and taking the\n        // first one that isn't inside a nested editor.\n        var leafNodes = voidNode.querySelectorAll('[data-slate-leaf]');\n\n        for (var index = 0; index < leafNodes.length; index++) {\n          var current = leafNodes[index];\n\n          if (ReactEditor.hasDOMNode(editor, current)) {\n            leafNode = current;\n            break;\n          }\n        } // COMPAT: In read-only editors the leaf is not rendered.\n\n\n        if (!leafNode) {\n          offset = 1;\n        } else {\n          textNode = leafNode.closest('[data-slate-node=\"text\"]');\n          domNode = leafNode;\n          offset = domNode.textContent.length;\n          domNode.querySelectorAll('[data-slate-zero-width]').forEach(el => {\n            offset -= el.textContent.length;\n          });\n        }\n      }\n\n      if (domNode && offset === domNode.textContent.length && // COMPAT: Android IMEs might remove the zero width space while composing,\n      // and we don't add it for line-breaks.\n      IS_ANDROID && domNode.getAttribute('data-slate-zero-width') === 'z' && (_domNode$textContent = domNode.textContent) !== null && _domNode$textContent !== void 0 && _domNode$textContent.startsWith('\\uFEFF') && (parentNode.hasAttribute('data-slate-zero-width') || IS_FIREFOX && (_domNode$textContent2 = domNode.textContent) !== null && _domNode$textContent2 !== void 0 && _domNode$textContent2.endsWith('\\n\\n'))) {\n        offset--;\n      }\n    }\n\n    if (IS_ANDROID && !textNode && !exactMatch) {\n      var node = parentNode.hasAttribute('data-slate-node') ? parentNode : parentNode.closest('[data-slate-node]');\n\n      if (node && ReactEditor.hasDOMNode(editor, node, {\n        editable: true\n      })) {\n        var _slateNode = ReactEditor.toSlateNode(editor, node);\n\n        var {\n          path: _path,\n          offset: _offset\n        } = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.start(editor, ReactEditor.findPath(editor, _slateNode));\n\n        if (!node.querySelector('[data-slate-leaf]')) {\n          _offset = nearestOffset;\n        }\n\n        return {\n          path: _path,\n          offset: _offset\n        };\n      }\n    }\n\n    if (!textNode) {\n      if (suppressThrow) {\n        return null;\n      }\n\n      throw new Error(\"Cannot resolve a Slate point from DOM point: \".concat(domPoint));\n    } // COMPAT: If someone is clicking from one Slate editor into another,\n    // the select event fires twice, once for the old editor's `element`\n    // first, and then afterwards for the correct `element`. (2017/03/03)\n\n\n    var slateNode = ReactEditor.toSlateNode(editor, textNode);\n    var path = ReactEditor.findPath(editor, slateNode);\n    return {\n      path,\n      offset\n    };\n  },\n  toSlateRange: (editor, domRange, options) => {\n    var {\n      exactMatch,\n      suppressThrow\n    } = options;\n    var el = isDOMSelection(domRange) ? domRange.anchorNode : domRange.startContainer;\n    var anchorNode;\n    var anchorOffset;\n    var focusNode;\n    var focusOffset;\n    var isCollapsed;\n\n    if (el) {\n      if (isDOMSelection(domRange)) {\n        // COMPAT: In firefox the normal seletion way does not work\n        // (https://github.com/ianstormtaylor/slate/pull/5486#issue-1820720223)\n        if (IS_FIREFOX && domRange.rangeCount > 1) {\n          focusNode = domRange.focusNode; // Focus node works fine\n\n          var firstRange = domRange.getRangeAt(0);\n          var lastRange = domRange.getRangeAt(domRange.rangeCount - 1); // Here we are in the contenteditable mode of a table in firefox\n\n          if (focusNode instanceof HTMLTableRowElement && firstRange.startContainer instanceof HTMLTableRowElement && lastRange.startContainer instanceof HTMLTableRowElement) {\n            // HTMLElement, becouse Element is a slate element\n            function getLastChildren(element) {\n              if (element.childElementCount > 0) {\n                return getLastChildren(element.children[0]);\n              } else {\n                return element;\n              }\n            }\n\n            var firstNodeRow = firstRange.startContainer;\n            var lastNodeRow = lastRange.startContainer; // This should never fail as \"The HTMLElement interface represents any HTML element.\"\n\n            var firstNode = getLastChildren(firstNodeRow.children[firstRange.startOffset]);\n            var lastNode = getLastChildren(lastNodeRow.children[lastRange.startOffset]); // Zero, as we allways take the right one as the anchor point\n\n            focusOffset = 0;\n\n            if (lastNode.childNodes.length > 0) {\n              anchorNode = lastNode.childNodes[0];\n            } else {\n              anchorNode = lastNode;\n            }\n\n            if (firstNode.childNodes.length > 0) {\n              focusNode = firstNode.childNodes[0];\n            } else {\n              focusNode = firstNode;\n            }\n\n            if (lastNode instanceof HTMLElement) {\n              anchorOffset = lastNode.innerHTML.length;\n            } else {\n              // Fallback option\n              anchorOffset = 0;\n            }\n          } else {\n            // This is the read only mode of a firefox table\n            // Right to left\n            if (firstRange.startContainer === focusNode) {\n              anchorNode = lastRange.endContainer;\n              anchorOffset = lastRange.endOffset;\n              focusOffset = firstRange.startOffset;\n            } else {\n              // Left to right\n              anchorNode = firstRange.startContainer;\n              anchorOffset = firstRange.endOffset;\n              focusOffset = lastRange.startOffset;\n            }\n          }\n        } else {\n          anchorNode = domRange.anchorNode;\n          anchorOffset = domRange.anchorOffset;\n          focusNode = domRange.focusNode;\n          focusOffset = domRange.focusOffset;\n        } // COMPAT: There's a bug in chrome that always returns `true` for\n        // `isCollapsed` for a Selection that comes from a ShadowRoot.\n        // (2020/08/08)\n        // https://bugs.chromium.org/p/chromium/issues/detail?id=447523\n        // IsCollapsed might not work in firefox, but this will\n\n\n        if (IS_CHROME && hasShadowRoot(anchorNode) || IS_FIREFOX) {\n          isCollapsed = domRange.anchorNode === domRange.focusNode && domRange.anchorOffset === domRange.focusOffset;\n        } else {\n          isCollapsed = domRange.isCollapsed;\n        }\n      } else {\n        anchorNode = domRange.startContainer;\n        anchorOffset = domRange.startOffset;\n        focusNode = domRange.endContainer;\n        focusOffset = domRange.endOffset;\n        isCollapsed = domRange.collapsed;\n      }\n    }\n\n    if (anchorNode == null || focusNode == null || anchorOffset == null || focusOffset == null) {\n      throw new Error(\"Cannot resolve a Slate range from DOM range: \".concat(domRange));\n    } // COMPAT: Triple-clicking a word in chrome will sometimes place the focus\n    // inside a `contenteditable=\"false\"` DOM node following the word, which\n    // will cause `toSlatePoint` to throw an error. (2023/03/07)\n\n\n    if ('getAttribute' in focusNode && focusNode.getAttribute('contenteditable') === 'false' && focusNode.getAttribute('data-slate-void') !== 'true') {\n      var _anchorNode$textConte;\n\n      focusNode = anchorNode;\n      focusOffset = ((_anchorNode$textConte = anchorNode.textContent) === null || _anchorNode$textConte === void 0 ? void 0 : _anchorNode$textConte.length) || 0;\n    }\n\n    var anchor = ReactEditor.toSlatePoint(editor, [anchorNode, anchorOffset], {\n      exactMatch,\n      suppressThrow\n    });\n\n    if (!anchor) {\n      return null;\n    }\n\n    var focus = isCollapsed ? anchor : ReactEditor.toSlatePoint(editor, [focusNode, focusOffset], {\n      exactMatch,\n      suppressThrow\n    });\n\n    if (!focus) {\n      return null;\n    }\n\n    var range = {\n      anchor: anchor,\n      focus: focus\n    }; // if the selection is a hanging range that ends in a void\n    // and the DOM focus is an Element\n    // (meaning that the selection ends before the element)\n    // unhang the range to avoid mistakenly including the void\n\n    if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(range) && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isForward(range) && isDOMElement(focusNode) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n      at: range.focus,\n      mode: 'highest'\n    })) {\n      range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.unhangRange(editor, range, {\n        voids: true\n      });\n    }\n\n    return range;\n  }\n};\n\n/**\r\n * Check whether a text diff was applied in a way we can perform the pending action on /\r\n * recover the pending selection.\r\n */\n\nfunction verifyDiffState(editor, textDiff) {\n  var {\n    path,\n    diff\n  } = textDiff;\n\n  if (!slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, path)) {\n    return false;\n  }\n\n  var node = slate__WEBPACK_IMPORTED_MODULE_7__.Node.get(editor, path);\n\n  if (!slate__WEBPACK_IMPORTED_MODULE_7__.Text.isText(node)) {\n    return false;\n  }\n\n  if (diff.start !== node.text.length || diff.text.length === 0) {\n    return node.text.slice(diff.start, diff.start + diff.text.length) === diff.text;\n  }\n\n  var nextPath = slate__WEBPACK_IMPORTED_MODULE_7__.Path.next(path);\n\n  if (!slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, nextPath)) {\n    return false;\n  }\n\n  var nextNode = slate__WEBPACK_IMPORTED_MODULE_7__.Node.get(editor, nextPath);\n  return slate__WEBPACK_IMPORTED_MODULE_7__.Text.isText(nextNode) && nextNode.text.startsWith(diff.text);\n}\nfunction applyStringDiff(text) {\n  for (var _len = arguments.length, diffs = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    diffs[_key - 1] = arguments[_key];\n  }\n\n  return diffs.reduce((text, diff) => text.slice(0, diff.start) + diff.text + text.slice(diff.end), text);\n}\n\nfunction longestCommonPrefixLength(str, another) {\n  var length = Math.min(str.length, another.length);\n\n  for (var i = 0; i < length; i++) {\n    if (str.charAt(i) !== another.charAt(i)) {\n      return i;\n    }\n  }\n\n  return length;\n}\n\nfunction longestCommonSuffixLength(str, another, max) {\n  var length = Math.min(str.length, another.length, max);\n\n  for (var i = 0; i < length; i++) {\n    if (str.charAt(str.length - i - 1) !== another.charAt(another.length - i - 1)) {\n      return i;\n    }\n  }\n\n  return length;\n}\n/**\r\n * Remove redundant changes from the diff so that it spans the minimal possible range\r\n */\n\n\nfunction normalizeStringDiff(targetText, diff) {\n  var {\n    start,\n    end,\n    text\n  } = diff;\n  var removedText = targetText.slice(start, end);\n  var prefixLength = longestCommonPrefixLength(removedText, text);\n  var max = Math.min(removedText.length - prefixLength, text.length - prefixLength);\n  var suffixLength = longestCommonSuffixLength(removedText, text, max);\n  var normalized = {\n    start: start + prefixLength,\n    end: end - suffixLength,\n    text: text.slice(prefixLength, text.length - suffixLength)\n  };\n\n  if (normalized.start === normalized.end && normalized.text.length === 0) {\n    return null;\n  }\n\n  return normalized;\n}\n/**\r\n * Return a string diff that is equivalent to applying b after a spanning the range of\r\n * both changes\r\n */\n\nfunction mergeStringDiffs(targetText, a, b) {\n  var start = Math.min(a.start, b.start);\n  var overlap = Math.max(0, Math.min(a.start + a.text.length, b.end) - b.start);\n  var applied = applyStringDiff(targetText, a, b);\n  var sliceEnd = Math.max(b.start + b.text.length, a.start + a.text.length + (a.start + a.text.length > b.start ? b.text.length : 0) - overlap);\n  var text = applied.slice(start, sliceEnd);\n  var end = Math.max(a.end, b.end - a.text.length + (a.end - a.start));\n  return normalizeStringDiff(targetText, {\n    start,\n    end,\n    text\n  });\n}\n/**\r\n * Get the slate range the text diff spans.\r\n */\n\nfunction targetRange(textDiff) {\n  var {\n    path,\n    diff\n  } = textDiff;\n  return {\n    anchor: {\n      path,\n      offset: diff.start\n    },\n    focus: {\n      path,\n      offset: diff.end\n    }\n  };\n}\n/**\r\n * Normalize a 'pending point' a.k.a a point based on the dom state before applying\r\n * the pending diffs. Since the pending diffs might have been inserted with different\r\n * marks we have to 'walk' the offset from the starting position to ensure we still\r\n * have a valid point inside the document\r\n */\n\nfunction normalizePoint(editor, point) {\n  var {\n    path,\n    offset\n  } = point;\n\n  if (!slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, path)) {\n    return null;\n  }\n\n  var leaf = slate__WEBPACK_IMPORTED_MODULE_7__.Node.get(editor, path);\n\n  if (!slate__WEBPACK_IMPORTED_MODULE_7__.Text.isText(leaf)) {\n    return null;\n  }\n\n  var parentBlock = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.above(editor, {\n    match: n => slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(editor, n),\n    at: path\n  });\n\n  if (!parentBlock) {\n    return null;\n  }\n\n  while (offset > leaf.text.length) {\n    var entry = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.next(editor, {\n      at: path,\n      match: slate__WEBPACK_IMPORTED_MODULE_7__.Text.isText\n    });\n\n    if (!entry || !slate__WEBPACK_IMPORTED_MODULE_7__.Path.isDescendant(entry[1], parentBlock[1])) {\n      return null;\n    }\n\n    offset -= leaf.text.length;\n    leaf = entry[0];\n    path = entry[1];\n  }\n\n  return {\n    path,\n    offset\n  };\n}\n/**\r\n * Normalize a 'pending selection' to ensure it's valid in the current document state.\r\n */\n\nfunction normalizeRange(editor, range) {\n  var anchor = normalizePoint(editor, range.anchor);\n\n  if (!anchor) {\n    return null;\n  }\n\n  if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(range)) {\n    return {\n      anchor,\n      focus: anchor\n    };\n  }\n\n  var focus = normalizePoint(editor, range.focus);\n\n  if (!focus) {\n    return null;\n  }\n\n  return {\n    anchor,\n    focus\n  };\n}\nfunction transformPendingPoint(editor, point, op) {\n  var pendingDiffs = EDITOR_TO_PENDING_DIFFS.get(editor);\n  var textDiff = pendingDiffs === null || pendingDiffs === void 0 ? void 0 : pendingDiffs.find(_ref => {\n    var {\n      path\n    } = _ref;\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(path, point.path);\n  });\n\n  if (!textDiff || point.offset <= textDiff.diff.start) {\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Point.transform(point, op, {\n      affinity: 'backward'\n    });\n  }\n\n  var {\n    diff\n  } = textDiff; // Point references location inside the diff => transform the point based on the location\n  // the diff will be applied to and add the offset inside the diff.\n\n  if (point.offset <= diff.start + diff.text.length) {\n    var _anchor = {\n      path: point.path,\n      offset: diff.start\n    };\n\n    var _transformed = slate__WEBPACK_IMPORTED_MODULE_7__.Point.transform(_anchor, op, {\n      affinity: 'backward'\n    });\n\n    if (!_transformed) {\n      return null;\n    }\n\n    return {\n      path: _transformed.path,\n      offset: _transformed.offset + point.offset - diff.start\n    };\n  } // Point references location after the diff\n\n\n  var anchor = {\n    path: point.path,\n    offset: point.offset - diff.text.length + diff.end - diff.start\n  };\n  var transformed = slate__WEBPACK_IMPORTED_MODULE_7__.Point.transform(anchor, op, {\n    affinity: 'backward'\n  });\n\n  if (!transformed) {\n    return null;\n  }\n\n  if (op.type === 'split_node' && slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(op.path, point.path) && anchor.offset < op.position && diff.start < op.position) {\n    return transformed;\n  }\n\n  return {\n    path: transformed.path,\n    offset: transformed.offset + diff.text.length - diff.end + diff.start\n  };\n}\nfunction transformPendingRange(editor, range, op) {\n  var anchor = transformPendingPoint(editor, range.anchor, op);\n\n  if (!anchor) {\n    return null;\n  }\n\n  if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(range)) {\n    return {\n      anchor,\n      focus: anchor\n    };\n  }\n\n  var focus = transformPendingPoint(editor, range.focus, op);\n\n  if (!focus) {\n    return null;\n  }\n\n  return {\n    anchor,\n    focus\n  };\n}\nfunction transformTextDiff(textDiff, op) {\n  var {\n    path,\n    diff,\n    id\n  } = textDiff;\n\n  switch (op.type) {\n    case 'insert_text':\n      {\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(op.path, path) || op.offset >= diff.end) {\n          return textDiff;\n        }\n\n        if (op.offset <= diff.start) {\n          return {\n            diff: {\n              start: op.text.length + diff.start,\n              end: op.text.length + diff.end,\n              text: diff.text\n            },\n            id,\n            path\n          };\n        }\n\n        return {\n          diff: {\n            start: diff.start,\n            end: diff.end + op.text.length,\n            text: diff.text\n          },\n          id,\n          path\n        };\n      }\n\n    case 'remove_text':\n      {\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(op.path, path) || op.offset >= diff.end) {\n          return textDiff;\n        }\n\n        if (op.offset + op.text.length <= diff.start) {\n          return {\n            diff: {\n              start: diff.start - op.text.length,\n              end: diff.end - op.text.length,\n              text: diff.text\n            },\n            id,\n            path\n          };\n        }\n\n        return {\n          diff: {\n            start: diff.start,\n            end: diff.end - op.text.length,\n            text: diff.text\n          },\n          id,\n          path\n        };\n      }\n\n    case 'split_node':\n      {\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(op.path, path) || op.position >= diff.end) {\n          return {\n            diff,\n            id,\n            path: slate__WEBPACK_IMPORTED_MODULE_7__.Path.transform(path, op, {\n              affinity: 'backward'\n            })\n          };\n        }\n\n        if (op.position > diff.start) {\n          return {\n            diff: {\n              start: diff.start,\n              end: Math.min(op.position, diff.end),\n              text: diff.text\n            },\n            id,\n            path\n          };\n        }\n\n        return {\n          diff: {\n            start: diff.start - op.position,\n            end: diff.end - op.position,\n            text: diff.text\n          },\n          id,\n          path: slate__WEBPACK_IMPORTED_MODULE_7__.Path.transform(path, op, {\n            affinity: 'forward'\n          })\n        };\n      }\n\n    case 'merge_node':\n      {\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(op.path, path)) {\n          return {\n            diff,\n            id,\n            path: slate__WEBPACK_IMPORTED_MODULE_7__.Path.transform(path, op)\n          };\n        }\n\n        return {\n          diff: {\n            start: diff.start + op.position,\n            end: diff.end + op.position,\n            text: diff.text\n          },\n          id,\n          path: slate__WEBPACK_IMPORTED_MODULE_7__.Path.transform(path, op)\n        };\n      }\n  }\n\n  var newPath = slate__WEBPACK_IMPORTED_MODULE_7__.Path.transform(path, op);\n\n  if (!newPath) {\n    return null;\n  }\n\n  return {\n    diff,\n    path: newPath,\n    id\n  };\n}\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n// When using keyboard English association function, conpositionEnd triggered too fast, resulting in after `insertText` still maintain association state.\n\nvar RESOLVE_DELAY = 25; // Time with no user interaction before the current user action is considered as done.\n\nvar FLUSH_DELAY = 200; // Replace with `const debug = console.log` to debug\n\nvar debug = function debug() {}; // Type guard to check if a value is a DataTransfer\n\n\nvar isDataTransfer = value => (value === null || value === void 0 ? void 0 : value.constructor.name) === 'DataTransfer';\n\nfunction createAndroidInputManager(_ref) {\n  var {\n    editor,\n    scheduleOnDOMSelectionChange,\n    onDOMSelectionChange\n  } = _ref;\n  var flushing = false;\n  var compositionEndTimeoutId = null;\n  var flushTimeoutId = null;\n  var actionTimeoutId = null;\n  var idCounter = 0;\n  var insertPositionHint = false;\n\n  var applyPendingSelection = () => {\n    var pendingSelection = EDITOR_TO_PENDING_SELECTION.get(editor);\n    EDITOR_TO_PENDING_SELECTION.delete(editor);\n\n    if (pendingSelection) {\n      var {\n        selection\n      } = editor;\n      var normalized = normalizeRange(editor, pendingSelection);\n\n      if (normalized && (!selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(normalized, selection))) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, normalized);\n      }\n    }\n  };\n\n  var performAction = () => {\n    var action = EDITOR_TO_PENDING_ACTION.get(editor);\n    EDITOR_TO_PENDING_ACTION.delete(editor);\n\n    if (!action) {\n      return;\n    }\n\n    if (action.at) {\n      var target = slate__WEBPACK_IMPORTED_MODULE_7__.Point.isPoint(action.at) ? normalizePoint(editor, action.at) : normalizeRange(editor, action.at);\n\n      if (!target) {\n        return;\n      }\n\n      var _targetRange = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, target);\n\n      if (!editor.selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(editor.selection, _targetRange)) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, target);\n      }\n    }\n\n    action.run();\n  };\n\n  var flush = () => {\n    if (flushTimeoutId) {\n      clearTimeout(flushTimeoutId);\n      flushTimeoutId = null;\n    }\n\n    if (actionTimeoutId) {\n      clearTimeout(actionTimeoutId);\n      actionTimeoutId = null;\n    }\n\n    if (!hasPendingDiffs() && !hasPendingAction()) {\n      applyPendingSelection();\n      return;\n    }\n\n    if (!flushing) {\n      flushing = true;\n      setTimeout(() => flushing = false);\n    }\n\n    if (hasPendingAction()) {\n      flushing = 'action';\n    }\n\n    var selectionRef = editor.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.rangeRef(editor, editor.selection, {\n      affinity: 'forward'\n    });\n    EDITOR_TO_USER_MARKS.set(editor, editor.marks);\n    debug('flush', EDITOR_TO_PENDING_ACTION.get(editor), EDITOR_TO_PENDING_DIFFS.get(editor));\n    var scheduleSelectionChange = hasPendingDiffs();\n    var diff;\n\n    while (diff = (_EDITOR_TO_PENDING_DI = EDITOR_TO_PENDING_DIFFS.get(editor)) === null || _EDITOR_TO_PENDING_DI === void 0 ? void 0 : _EDITOR_TO_PENDING_DI[0]) {\n      var _EDITOR_TO_PENDING_DI, _EDITOR_TO_PENDING_DI2;\n\n      var pendingMarks = EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);\n\n      if (pendingMarks !== undefined) {\n        EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor);\n        editor.marks = pendingMarks;\n      }\n\n      if (pendingMarks && insertPositionHint === false) {\n        insertPositionHint = null;\n      }\n\n      var range = targetRange(diff);\n\n      if (!editor.selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(editor.selection, range)) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n      }\n\n      if (diff.diff.text) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, diff.diff.text);\n      } else {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor);\n      } // Remove diff only after we have applied it to account for it when transforming\n      // pending ranges.\n\n\n      EDITOR_TO_PENDING_DIFFS.set(editor, (_EDITOR_TO_PENDING_DI2 = EDITOR_TO_PENDING_DIFFS.get(editor)) === null || _EDITOR_TO_PENDING_DI2 === void 0 ? void 0 : _EDITOR_TO_PENDING_DI2.filter(_ref2 => {\n        var {\n          id\n        } = _ref2;\n        return id !== diff.id;\n      }));\n\n      if (!verifyDiffState(editor, diff)) {\n        scheduleSelectionChange = false;\n        EDITOR_TO_PENDING_ACTION.delete(editor);\n        EDITOR_TO_USER_MARKS.delete(editor);\n        flushing = 'action'; // Ensure we don't restore the pending user (dom) selection\n        // since the document and dom state do not match.\n\n        EDITOR_TO_PENDING_SELECTION.delete(editor);\n        scheduleOnDOMSelectionChange.cancel();\n        onDOMSelectionChange.cancel();\n        selectionRef === null || selectionRef === void 0 ? void 0 : selectionRef.unref();\n      }\n    }\n\n    var selection = selectionRef === null || selectionRef === void 0 ? void 0 : selectionRef.unref();\n\n    if (selection && !EDITOR_TO_PENDING_SELECTION.get(editor) && (!editor.selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(selection, editor.selection))) {\n      slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, selection);\n    }\n\n    if (hasPendingAction()) {\n      performAction();\n      return;\n    } // COMPAT: The selectionChange event is fired after the action is performed,\n    // so we have to manually schedule it to ensure we don't 'throw away' the selection\n    // while rendering if we have pending changes.\n\n\n    if (scheduleSelectionChange) {\n      scheduleOnDOMSelectionChange();\n    }\n\n    scheduleOnDOMSelectionChange.flush();\n    onDOMSelectionChange.flush();\n    applyPendingSelection();\n    var userMarks = EDITOR_TO_USER_MARKS.get(editor);\n    EDITOR_TO_USER_MARKS.delete(editor);\n\n    if (userMarks !== undefined) {\n      editor.marks = userMarks;\n      editor.onChange();\n    }\n  };\n\n  var handleCompositionEnd = _event => {\n    if (compositionEndTimeoutId) {\n      clearTimeout(compositionEndTimeoutId);\n    }\n\n    compositionEndTimeoutId = setTimeout(() => {\n      IS_COMPOSING.set(editor, false);\n      flush();\n    }, RESOLVE_DELAY);\n  };\n\n  var handleCompositionStart = _event => {\n    IS_COMPOSING.set(editor, true);\n\n    if (compositionEndTimeoutId) {\n      clearTimeout(compositionEndTimeoutId);\n      compositionEndTimeoutId = null;\n    }\n  };\n\n  var updatePlaceholderVisibility = function updatePlaceholderVisibility() {\n    var forceHide = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var placeholderElement = EDITOR_TO_PLACEHOLDER_ELEMENT.get(editor);\n\n    if (!placeholderElement) {\n      return;\n    }\n\n    if (hasPendingDiffs() || forceHide) {\n      placeholderElement.style.display = 'none';\n      return;\n    }\n\n    placeholderElement.style.removeProperty('display');\n  };\n\n  var storeDiff = (path, diff) => {\n    var _EDITOR_TO_PENDING_DI3;\n    var pendingDiffs = (_EDITOR_TO_PENDING_DI3 = EDITOR_TO_PENDING_DIFFS.get(editor)) !== null && _EDITOR_TO_PENDING_DI3 !== void 0 ? _EDITOR_TO_PENDING_DI3 : [];\n    EDITOR_TO_PENDING_DIFFS.set(editor, pendingDiffs);\n    var target = slate__WEBPACK_IMPORTED_MODULE_7__.Node.leaf(editor, path);\n    var idx = pendingDiffs.findIndex(change => slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(change.path, path));\n\n    if (idx < 0) {\n      var normalized = normalizeStringDiff(target.text, diff);\n\n      if (normalized) {\n        pendingDiffs.push({\n          path,\n          diff,\n          id: idCounter++\n        });\n      }\n\n      updatePlaceholderVisibility();\n      return;\n    }\n\n    var merged = mergeStringDiffs(target.text, pendingDiffs[idx].diff, diff);\n\n    if (!merged) {\n      pendingDiffs.splice(idx, 1);\n      updatePlaceholderVisibility();\n      return;\n    }\n\n    pendingDiffs[idx] = _objectSpread$3(_objectSpread$3({}, pendingDiffs[idx]), {}, {\n      diff: merged\n    });\n  };\n\n  var scheduleAction = function scheduleAction(run) {\n    var {\n      at\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    insertPositionHint = false;\n    EDITOR_TO_PENDING_SELECTION.delete(editor);\n    scheduleOnDOMSelectionChange.cancel();\n    onDOMSelectionChange.cancel();\n\n    if (hasPendingAction()) {\n      flush();\n    }\n\n    EDITOR_TO_PENDING_ACTION.set(editor, {\n      at,\n      run\n    }); // COMPAT: When deleting before a non-contenteditable element chrome only fires a beforeinput,\n    // (no input) and doesn't perform any dom mutations. Without a flush timeout we would never flush\n    // in this case and thus never actually perform the action.\n\n    actionTimeoutId = setTimeout(flush);\n  };\n\n  var handleDOMBeforeInput = event => {\n    var _targetRange2;\n\n    if (flushTimeoutId) {\n      clearTimeout(flushTimeoutId);\n      flushTimeoutId = null;\n    }\n\n    var {\n      inputType: type\n    } = event;\n    var targetRange = null;\n    var data = event.dataTransfer || event.data || undefined;\n\n    if (insertPositionHint !== false && type !== 'insertText' && type !== 'insertCompositionText') {\n      insertPositionHint = false;\n    }\n\n    var [nativeTargetRange] = event.getTargetRanges();\n\n    if (nativeTargetRange) {\n      targetRange = ReactEditor.toSlateRange(editor, nativeTargetRange, {\n        exactMatch: false,\n        suppressThrow: true\n      });\n    } // COMPAT: SelectionChange event is fired after the action is performed, so we\n    // have to manually get the selection here to ensure it's up-to-date.\n\n\n    var window = ReactEditor.getWindow(editor);\n    var domSelection = window.getSelection();\n\n    if (!targetRange && domSelection) {\n      nativeTargetRange = domSelection;\n      targetRange = ReactEditor.toSlateRange(editor, domSelection, {\n        exactMatch: false,\n        suppressThrow: true\n      });\n    }\n\n    targetRange = (_targetRange2 = targetRange) !== null && _targetRange2 !== void 0 ? _targetRange2 : editor.selection;\n\n    if (!targetRange) {\n      return;\n    } // By default, the input manager tries to store text diffs so that we can\n    // defer flushing them at a later point in time. We don't want to flush\n    // for every input event as this can be expensive. However, there are some\n    // scenarios where we cannot safely store the text diff and must instead\n    // schedule an action to let Slate normalize the editor state.\n\n\n    var canStoreDiff = true;\n\n    if (type.startsWith('delete')) {\n      if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(targetRange)) {\n        var [_start, _end] = slate__WEBPACK_IMPORTED_MODULE_7__.Range.edges(targetRange);\n\n        var _leaf = slate__WEBPACK_IMPORTED_MODULE_7__.Node.leaf(editor, _start.path);\n\n        if (_leaf.text.length === _start.offset && _end.offset === 0) {\n          var next = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.next(editor, {\n            at: _start.path,\n            match: slate__WEBPACK_IMPORTED_MODULE_7__.Text.isText\n          });\n\n          if (next && slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(next[1], _end.path)) {\n            targetRange = {\n              anchor: _end,\n              focus: _end\n            };\n          }\n        }\n      }\n\n      var direction = type.endsWith('Backward') ? 'backward' : 'forward';\n      var [start, end] = slate__WEBPACK_IMPORTED_MODULE_7__.Range.edges(targetRange);\n      var [leaf, path] = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.leaf(editor, start.path);\n      var diff = {\n        text: '',\n        start: start.offset,\n        end: end.offset\n      };\n      var pendingDiffs = EDITOR_TO_PENDING_DIFFS.get(editor);\n      var relevantPendingDiffs = pendingDiffs === null || pendingDiffs === void 0 ? void 0 : pendingDiffs.find(change => slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(change.path, path));\n      var diffs = relevantPendingDiffs ? [relevantPendingDiffs.diff, diff] : [diff];\n      var text = applyStringDiff(leaf.text, ...diffs);\n\n      if (text.length === 0) {\n        // Text leaf will be removed, so we need to schedule an\n        // action to remove it so that Slate can normalize instead\n        // of storing as a diff\n        canStoreDiff = false;\n      }\n\n      if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(targetRange)) {\n        if (canStoreDiff && slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(targetRange.anchor.path, targetRange.focus.path)) {\n          var point = {\n            path: targetRange.anchor.path,\n            offset: start.offset\n          };\n          var range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, point, point);\n          handleUserSelect(range);\n          return storeDiff(targetRange.anchor.path, {\n            text: '',\n            end: end.offset,\n            start: start.offset\n          });\n        }\n\n        return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n          direction\n        }), {\n          at: targetRange\n        });\n      }\n    }\n\n    switch (type) {\n      case 'deleteByComposition':\n      case 'deleteByCut':\n      case 'deleteByDrag':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteContent':\n      case 'deleteContentForward':\n        {\n          var {\n            anchor\n          } = targetRange;\n\n          if (canStoreDiff && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(targetRange)) {\n            var targetNode = slate__WEBPACK_IMPORTED_MODULE_7__.Node.leaf(editor, anchor.path);\n\n            if (anchor.offset < targetNode.text.length) {\n              return storeDiff(anchor.path, {\n                text: '',\n                start: anchor.offset,\n                end: anchor.offset + 1\n              });\n            }\n          }\n\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteContentBackward':\n        {\n          var _nativeTargetRange;\n\n          var {\n            anchor: _anchor\n          } = targetRange; // If we have a mismatch between the native and slate selection being collapsed\n          // we are most likely deleting a zero-width placeholder and thus should perform it\n          // as an action to ensure correct behavior (mostly happens with mark placeholders)\n\n          var nativeCollapsed = isDOMSelection(nativeTargetRange) ? nativeTargetRange.isCollapsed : !!((_nativeTargetRange = nativeTargetRange) !== null && _nativeTargetRange !== void 0 && _nativeTargetRange.collapsed);\n\n          if (canStoreDiff && nativeCollapsed && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(targetRange) && _anchor.offset > 0) {\n            return storeDiff(_anchor.path, {\n              text: '',\n              start: _anchor.offset - 1,\n              end: _anchor.offset\n            });\n          }\n\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteEntireSoftLine':\n        {\n          return scheduleAction(() => {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n              unit: 'line'\n            });\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n              unit: 'line'\n            });\n          }, {\n            at: targetRange\n          });\n        }\n\n      case 'deleteHardLineBackward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n            unit: 'block'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteSoftLineBackward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n            unit: 'line'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteHardLineForward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n            unit: 'block'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteSoftLineForward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n            unit: 'line'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteWordBackward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n            unit: 'word'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'deleteWordForward':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n            unit: 'word'\n          }), {\n            at: targetRange\n          });\n        }\n\n      case 'insertLineBreak':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertSoftBreak(editor), {\n            at: targetRange\n          });\n        }\n\n      case 'insertParagraph':\n        {\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertBreak(editor), {\n            at: targetRange\n          });\n        }\n\n      case 'insertCompositionText':\n      case 'deleteCompositionText':\n      case 'insertFromComposition':\n      case 'insertFromDrop':\n      case 'insertFromPaste':\n      case 'insertFromYank':\n      case 'insertReplacementText':\n      case 'insertText':\n        {\n          if (isDataTransfer(data)) {\n            return scheduleAction(() => ReactEditor.insertData(editor, data), {\n              at: targetRange\n            });\n          }\n\n          var _text = data !== null && data !== void 0 ? data : ''; // COMPAT: If we are writing inside a placeholder, the ime inserts the text inside\n          // the placeholder itself and thus includes the zero-width space inside edit events.\n\n\n          if (EDITOR_TO_PENDING_INSERTION_MARKS.get(editor)) {\n            _text = _text.replace('\\uFEFF', '');\n          } // Pastes from the Android clipboard will generate `insertText` events.\n          // If the copied text contains any newlines, Android will append an\n          // extra newline to the end of the copied text.\n\n\n          if (type === 'insertText' && /.*\\n.*\\n$/.test(_text)) {\n            _text = _text.slice(0, -1);\n          } // If the text includes a newline, split it at newlines and paste each component\n          // string, with soft breaks in between each.\n\n\n          if (_text.includes('\\n')) {\n            return scheduleAction(() => {\n              var parts = _text.split('\\n');\n\n              parts.forEach((line, i) => {\n                if (line) {\n                  slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, line);\n                }\n\n                if (i !== parts.length - 1) {\n                  slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertSoftBreak(editor);\n                }\n              });\n            }, {\n              at: targetRange\n            });\n          }\n\n          if (slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(targetRange.anchor.path, targetRange.focus.path)) {\n            var [_start2, _end2] = slate__WEBPACK_IMPORTED_MODULE_7__.Range.edges(targetRange);\n            var _diff = {\n              start: _start2.offset,\n              end: _end2.offset,\n              text: _text\n            }; // COMPAT: Swiftkey has a weird bug where the target range of the 2nd word\n            // inserted after a mark placeholder is inserted with an anchor offset off by 1.\n            // So writing 'some text' will result in 'some ttext'. Luckily all 'normal' insert\n            // text events are fired with the correct target ranges, only the final 'insertComposition'\n            // isn't, so we can adjust the target range start offset if we are confident this is the\n            // swiftkey insert causing the issue.\n\n            if (_text && insertPositionHint && type === 'insertCompositionText') {\n              var hintPosition = insertPositionHint.start + insertPositionHint.text.search(/\\S|$/);\n\n              var diffPosition = _diff.start + _diff.text.search(/\\S|$/);\n\n              if (diffPosition === hintPosition + 1 && _diff.end === insertPositionHint.start + insertPositionHint.text.length) {\n                _diff.start -= 1;\n                insertPositionHint = null;\n                scheduleFlush();\n              } else {\n                insertPositionHint = false;\n              }\n            } else if (type === 'insertText') {\n              if (insertPositionHint === null) {\n                insertPositionHint = _diff;\n              } else if (insertPositionHint && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(targetRange) && insertPositionHint.end + insertPositionHint.text.length === _start2.offset) {\n                insertPositionHint = _objectSpread$3(_objectSpread$3({}, insertPositionHint), {}, {\n                  text: insertPositionHint.text + _text\n                });\n              } else {\n                insertPositionHint = false;\n              }\n            } else {\n              insertPositionHint = false;\n            }\n\n            if (canStoreDiff) {\n              storeDiff(_start2.path, _diff);\n              return;\n            }\n          }\n\n          return scheduleAction(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, _text), {\n            at: targetRange\n          });\n        }\n    }\n  };\n\n  var hasPendingAction = () => {\n    return !!EDITOR_TO_PENDING_ACTION.get(editor);\n  };\n\n  var hasPendingDiffs = () => {\n    var _EDITOR_TO_PENDING_DI4;\n\n    return !!((_EDITOR_TO_PENDING_DI4 = EDITOR_TO_PENDING_DIFFS.get(editor)) !== null && _EDITOR_TO_PENDING_DI4 !== void 0 && _EDITOR_TO_PENDING_DI4.length);\n  };\n\n  var hasPendingChanges = () => {\n    return hasPendingAction() || hasPendingDiffs();\n  };\n\n  var isFlushing = () => {\n    return flushing;\n  };\n\n  var handleUserSelect = range => {\n    EDITOR_TO_PENDING_SELECTION.set(editor, range);\n\n    if (flushTimeoutId) {\n      clearTimeout(flushTimeoutId);\n      flushTimeoutId = null;\n    }\n\n    var {\n      selection\n    } = editor;\n\n    if (!range) {\n      return;\n    }\n\n    var pathChanged = !selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(selection.anchor.path, range.anchor.path);\n    var parentPathChanged = !selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(selection.anchor.path.slice(0, -1), range.anchor.path.slice(0, -1));\n\n    if (pathChanged && insertPositionHint || parentPathChanged) {\n      insertPositionHint = false;\n    }\n\n    if (pathChanged || hasPendingDiffs()) {\n      flushTimeoutId = setTimeout(flush, FLUSH_DELAY);\n    }\n  };\n\n  var handleInput = () => {\n    if (hasPendingAction() || !hasPendingDiffs()) {\n      flush();\n    }\n  };\n\n  var handleKeyDown = _ => {\n    // COMPAT: Swiftkey closes the keyboard when typing inside a empty node\n    // directly next to a non-contenteditable element (= the placeholder).\n    // The only event fired soon enough for us to allow hiding the placeholder\n    // without swiftkey picking it up is the keydown event, so we have to hide it\n    // here. See https://github.com/ianstormtaylor/slate/pull/4988#issuecomment-1201050535\n    if (!hasPendingDiffs()) {\n      updatePlaceholderVisibility(true);\n      setTimeout(updatePlaceholderVisibility);\n    }\n  };\n\n  var scheduleFlush = () => {\n    if (!hasPendingAction()) {\n      actionTimeoutId = setTimeout(flush);\n    }\n  };\n\n  var handleDomMutations = mutations => {\n    if (hasPendingDiffs() || hasPendingAction()) {\n      return;\n    }\n\n    if (mutations.some(mutation => isTrackedMutation(editor, mutation, mutations))) {\n      var _EDITOR_TO_FORCE_REND;\n\n      // Cause a re-render to restore the dom state if we encounter tracked mutations without\n      // a corresponding pending action.\n      (_EDITOR_TO_FORCE_REND = EDITOR_TO_FORCE_RENDER.get(editor)) === null || _EDITOR_TO_FORCE_REND === void 0 ? void 0 : _EDITOR_TO_FORCE_REND();\n    }\n  };\n\n  return {\n    flush,\n    scheduleFlush,\n    hasPendingDiffs,\n    hasPendingAction,\n    hasPendingChanges,\n    isFlushing,\n    handleUserSelect,\n    handleCompositionEnd,\n    handleCompositionStart,\n    handleDOMBeforeInput,\n    handleKeyDown,\n    handleDomMutations,\n    handleInput\n  };\n}\n\nfunction useIsMounted() {\n  var isMountedRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    isMountedRef.current = true;\n    return () => {\n      isMountedRef.current = false;\n    };\n  }, []);\n  return isMountedRef.current;\n}\n\n/**\r\n * Prevent warning on SSR by falling back to useEffect when DOM isn't available\r\n */\n\nvar useIsomorphicLayoutEffect = CAN_USE_DOM ? react__WEBPACK_IMPORTED_MODULE_3__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_3__.useEffect;\n\nfunction useMutationObserver(node, callback, options) {\n  var [mutationObserver] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => new MutationObserver(callback));\n  useIsomorphicLayoutEffect(() => {\n    // Discard mutations caused during render phase. This works due to react calling\n    // useLayoutEffect synchronously after the render phase before the next tick.\n    mutationObserver.takeRecords();\n  });\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (!node.current) {\n      throw new Error('Failed to attach MutationObserver, `node` is undefined');\n    }\n\n    mutationObserver.observe(node.current, options);\n    return () => mutationObserver.disconnect();\n  }, [mutationObserver, node, options]);\n}\n\nvar _excluded$3 = [\"node\"];\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar MUTATION_OBSERVER_CONFIG$1 = {\n  subtree: true,\n  childList: true,\n  characterData: true\n};\nvar useAndroidInputManager = !IS_ANDROID ? () => null : _ref => {\n  var {\n    node\n  } = _ref,\n      options = _objectWithoutProperties(_ref, _excluded$3);\n\n  if (!IS_ANDROID) {\n    return null;\n  }\n\n  var editor = useSlateStatic();\n  var isMounted = useIsMounted();\n  var [inputManager] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(() => createAndroidInputManager(_objectSpread$2({\n    editor\n  }, options)));\n  useMutationObserver(node, inputManager.handleDomMutations, MUTATION_OBSERVER_CONFIG$1);\n  EDITOR_TO_SCHEDULE_FLUSH.set(editor, inputManager.scheduleFlush);\n\n  if (isMounted) {\n    inputManager.flush();\n  }\n\n  return inputManager;\n};\n\nvar _excluded$2 = [\"anchor\", \"focus\"],\n    _excluded2$1 = [\"anchor\", \"focus\"];\nvar shallowCompare = (obj1, obj2) => Object.keys(obj1).length === Object.keys(obj2).length && Object.keys(obj1).every(key => obj2.hasOwnProperty(key) && obj1[key] === obj2[key]);\n\nvar isDecorationFlagsEqual = (range, other) => {\n  var rangeOwnProps = _objectWithoutProperties(range, _excluded$2);\n\n  var otherOwnProps = _objectWithoutProperties(other, _excluded2$1);\n\n  return range[PLACEHOLDER_SYMBOL] === other[PLACEHOLDER_SYMBOL] && shallowCompare(rangeOwnProps, otherOwnProps);\n};\n/**\r\n * Check if a list of decorator ranges are equal to another.\r\n *\r\n * PERF: this requires the two lists to also have the ranges inside them in the\r\n * same order, but this is an okay constraint for us since decorations are\r\n * kept in order, and the odd case where they aren't is okay to re-render for.\r\n */\n\n\nvar isElementDecorationsEqual = (list, another) => {\n  if (list.length !== another.length) {\n    return false;\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var range = list[i];\n    var other = another[i];\n\n    if (!slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(range, other) || !isDecorationFlagsEqual(range, other)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\r\n * Check if a list of decorator ranges are equal to another.\r\n *\r\n * PERF: this requires the two lists to also have the ranges inside them in the\r\n * same order, but this is an okay constraint for us since decorations are\r\n * kept in order, and the odd case where they aren't is okay to re-render for.\r\n */\n\nvar isTextDecorationsEqual = (list, another) => {\n  if (list.length !== another.length) {\n    return false;\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var range = list[i];\n    var other = another[i]; // compare only offsets because paths doesn't matter for text\n\n    if (range.anchor.offset !== other.anchor.offset || range.focus.offset !== other.focus.offset || !isDecorationFlagsEqual(range, other)) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\n/**\r\n * Leaf content strings.\r\n */\n\nvar String = props => {\n  var {\n    isLast,\n    leaf,\n    parent,\n    text\n  } = props;\n  var editor = useSlateStatic();\n  var path = ReactEditor.findPath(editor, text);\n  var parentPath = slate__WEBPACK_IMPORTED_MODULE_7__.Path.parent(path);\n  var isMarkPlaceholder = leaf[MARK_PLACEHOLDER_SYMBOL] === true; // COMPAT: Render text inside void nodes with a zero-width space.\n  // So the node can contain selection but the text is not visible.\n\n  if (editor.isVoid(parent)) {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ZeroWidthString, {\n      length: slate__WEBPACK_IMPORTED_MODULE_7__.Node.string(parent).length\n    });\n  } // COMPAT: If this is the last text node in an empty block, render a zero-\n  // width space that will convert into a line break when copying and pasting\n  // to support expected plain text.\n\n\n  if (leaf.text === '' && parent.children[parent.children.length - 1] === text && !editor.isInline(parent) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.string(editor, parentPath) === '') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ZeroWidthString, {\n      isLineBreak: true,\n      isMarkPlaceholder: isMarkPlaceholder\n    });\n  } // COMPAT: If the text is empty, it's because it's on the edge of an inline\n  // node, so we render a zero-width space so that the selection can be\n  // inserted next to it still.\n\n\n  if (leaf.text === '') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ZeroWidthString, {\n      isMarkPlaceholder: isMarkPlaceholder\n    });\n  } // COMPAT: Browsers will collapse trailing new lines at the end of blocks,\n  // so we need to add an extra trailing new lines to prevent that.\n\n\n  if (isLast && leaf.text.slice(-1) === '\\n') {\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(TextString, {\n      isTrailing: true,\n      text: leaf.text\n    });\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(TextString, {\n    text: leaf.text\n  });\n};\n/**\r\n * Leaf strings with text in them.\r\n */\n\n\nvar TextString = props => {\n  var {\n    text,\n    isTrailing = false\n  } = props;\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n\n  var getTextContent = () => {\n    return \"\".concat(text !== null && text !== void 0 ? text : '').concat(isTrailing ? '\\n' : '');\n  };\n\n  var [initialText] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(getTextContent); // This is the actual text rendering boundary where we interface with the DOM\n  // The text is not rendered as part of the virtual DOM, as since we handle basic character insertions natively,\n  // updating the DOM is not a one way dataflow anymore. What we need here is not reconciliation and diffing\n  // with previous version of the virtual DOM, but rather diffing with the actual DOM element, and replace the DOM <span> content\n  // exactly if and only if its current content does not match our current virtual DOM.\n  // Otherwise the DOM TextNode would always be replaced by React as the user types, which interferes with native text features,\n  // eg makes native spellcheck opt out from checking the text node.\n  // useLayoutEffect: updating our span before browser paint\n\n  useIsomorphicLayoutEffect(() => {\n    // null coalescing text to make sure we're not outputing \"null\" as a string in the extreme case it is nullish at runtime\n    var textWithTrailing = getTextContent();\n\n    if (ref.current && ref.current.textContent !== textWithTrailing) {\n      ref.current.textContent = textWithTrailing;\n    } // intentionally not specifying dependencies, so that this effect runs on every render\n    // as this effectively replaces \"specifying the text in the virtual DOM under the <span> below\" on each render\n\n  }); // We intentionally render a memoized <span> that only receives the initial text content when the component is mounted.\n  // We defer to the layout effect above to update the `textContent` of the span element when needed.\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(MemoizedText$1, {\n    ref: ref\n  }, initialText);\n};\n\nvar MemoizedText$1 = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.memo)( /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.forwardRef)((props, ref) => {\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n    \"data-slate-string\": true,\n    ref: ref\n  }, props.children);\n}));\n/**\r\n * Leaf strings without text, render as zero-width strings.\r\n */\n\nvar ZeroWidthString = props => {\n  var {\n    length = 0,\n    isLineBreak = false,\n    isMarkPlaceholder = false\n  } = props;\n  var attributes = {\n    'data-slate-zero-width': isLineBreak ? 'n' : 'z',\n    'data-slate-length': length\n  };\n\n  if (isMarkPlaceholder) {\n    attributes['data-slate-mark-placeholder'] = true;\n  }\n\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", Object.assign({}, attributes), !IS_ANDROID || !isLineBreak ? '\\uFEFF' : null, isLineBreak ? /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"br\", null) : null);\n};\n\nfunction disconnectPlaceholderResizeObserver(placeholderResizeObserver, releaseObserver) {\n  if (placeholderResizeObserver.current) {\n    placeholderResizeObserver.current.disconnect();\n\n    if (releaseObserver) {\n      placeholderResizeObserver.current = null;\n    }\n  }\n}\n\nfunction clearTimeoutRef(timeoutRef) {\n  if (timeoutRef.current) {\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = null;\n  }\n}\n/**\r\n * Individual leaves in a text node with unique formatting.\r\n */\n\n\nvar Leaf = props => {\n  var {\n    leaf,\n    isLast,\n    text,\n    parent,\n    renderPlaceholder,\n    renderLeaf = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(DefaultLeaf, Object.assign({}, props))\n  } = props;\n  var editor = useSlateStatic();\n  var placeholderResizeObserver = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var placeholderRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var [showPlaceholder, setShowPlaceholder] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n  var showPlaceholderTimeoutRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var callbackPlaceholderRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(placeholderEl => {\n    disconnectPlaceholderResizeObserver(placeholderResizeObserver, placeholderEl == null);\n\n    if (placeholderEl == null) {\n      var _leaf$onPlaceholderRe;\n\n      EDITOR_TO_PLACEHOLDER_ELEMENT.delete(editor);\n      (_leaf$onPlaceholderRe = leaf.onPlaceholderResize) === null || _leaf$onPlaceholderRe === void 0 ? void 0 : _leaf$onPlaceholderRe.call(leaf, null);\n    } else {\n      EDITOR_TO_PLACEHOLDER_ELEMENT.set(editor, placeholderEl);\n\n      if (!placeholderResizeObserver.current) {\n        // Create a new observer and observe the placeholder element.\n        var ResizeObserver$1 = window.ResizeObserver || _juggle_resize_observer__WEBPACK_IMPORTED_MODULE_4__.ResizeObserver;\n        placeholderResizeObserver.current = new ResizeObserver$1(() => {\n          var _leaf$onPlaceholderRe2;\n\n          (_leaf$onPlaceholderRe2 = leaf.onPlaceholderResize) === null || _leaf$onPlaceholderRe2 === void 0 ? void 0 : _leaf$onPlaceholderRe2.call(leaf, placeholderEl);\n        });\n      }\n\n      placeholderResizeObserver.current.observe(placeholderEl);\n      placeholderRef.current = placeholderEl;\n    }\n  }, [placeholderRef, leaf, editor]);\n  var children = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(String, {\n    isLast: isLast,\n    leaf: leaf,\n    parent: parent,\n    text: text\n  });\n  var leafIsPlaceholder = leaf[PLACEHOLDER_SYMBOL];\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (leafIsPlaceholder) {\n      if (!showPlaceholderTimeoutRef.current) {\n        // Delay the placeholder so it will not render in a selection\n        showPlaceholderTimeoutRef.current = setTimeout(() => {\n          setShowPlaceholder(true);\n          showPlaceholderTimeoutRef.current = null;\n        }, 300);\n      }\n    } else {\n      clearTimeoutRef(showPlaceholderTimeoutRef);\n      setShowPlaceholder(false);\n    }\n\n    return () => clearTimeoutRef(showPlaceholderTimeoutRef);\n  }, [leafIsPlaceholder, setShowPlaceholder]);\n\n  if (leafIsPlaceholder && showPlaceholder) {\n    var placeholderProps = {\n      children: leaf.placeholder,\n      attributes: {\n        'data-slate-placeholder': true,\n        style: {\n          position: 'absolute',\n          top: 0,\n          pointerEvents: 'none',\n          width: '100%',\n          maxWidth: '100%',\n          display: 'block',\n          opacity: '0.333',\n          userSelect: 'none',\n          textDecoration: 'none',\n          // Fixes https://github.com/udecode/plate/issues/2315\n          WebkitUserModify: IS_WEBKIT ? 'inherit' : undefined\n        },\n        contentEditable: false,\n        ref: callbackPlaceholderRef\n      }\n    };\n    children = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, renderPlaceholder(placeholderProps), children);\n  } // COMPAT: Having the `data-` attributes on these leaf elements ensures that\n  // in certain misbehaving browsers they aren't weirdly cloned/destroyed by\n  // contenteditable behaviors. (2019/05/08)\n\n\n  var attributes = {\n    'data-slate-leaf': true\n  };\n  return renderLeaf({\n    attributes,\n    children,\n    leaf,\n    text\n  });\n};\n\nvar MemoizedLeaf = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().memo(Leaf, (prev, next) => {\n  return next.parent === prev.parent && next.isLast === prev.isLast && next.renderLeaf === prev.renderLeaf && next.renderPlaceholder === prev.renderPlaceholder && next.text === prev.text && slate__WEBPACK_IMPORTED_MODULE_7__.Text.equals(next.leaf, prev.leaf) && next.leaf[PLACEHOLDER_SYMBOL] === prev.leaf[PLACEHOLDER_SYMBOL];\n});\nvar DefaultLeaf = props => {\n  var {\n    attributes,\n    children\n  } = props;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", Object.assign({}, attributes), children);\n};\n\n/**\r\n * Text.\r\n */\n\nvar Text = props => {\n  var {\n    decorations,\n    isLast,\n    parent,\n    renderPlaceholder,\n    renderLeaf,\n    text\n  } = props;\n  var editor = useSlateStatic();\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var leaves = slate__WEBPACK_IMPORTED_MODULE_7__.Text.decorations(text, decorations);\n  var key = ReactEditor.findKey(editor, text);\n  var children = [];\n\n  for (var i = 0; i < leaves.length; i++) {\n    var leaf = leaves[i];\n    children.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(MemoizedLeaf, {\n      isLast: isLast && i === leaves.length - 1,\n      key: \"\".concat(key.id, \"-\").concat(i),\n      renderPlaceholder: renderPlaceholder,\n      leaf: leaf,\n      text: text,\n      parent: parent,\n      renderLeaf: renderLeaf\n    }));\n  } // Update element-related weak maps with the DOM element ref.\n\n\n  var callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(span => {\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n\n    if (span) {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.set(key, span);\n      NODE_TO_ELEMENT.set(text, span);\n      ELEMENT_TO_NODE.set(span, text);\n    } else {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.delete(key);\n      NODE_TO_ELEMENT.delete(text);\n\n      if (ref.current) {\n        ELEMENT_TO_NODE.delete(ref.current);\n      }\n    }\n\n    ref.current = span;\n  }, [ref, editor, key, text]);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", {\n    \"data-slate-node\": \"text\",\n    ref: callbackRef\n  }, children);\n};\n\nvar MemoizedText = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().memo(Text, (prev, next) => {\n  return next.parent === prev.parent && next.isLast === prev.isLast && next.renderLeaf === prev.renderLeaf && next.renderPlaceholder === prev.renderPlaceholder && next.text === prev.text && isTextDecorationsEqual(next.decorations, prev.decorations);\n});\n\n/**\r\n * Element.\r\n */\n\nvar Element = props => {\n  var {\n    decorations,\n    element,\n    renderElement = p => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(DefaultElement, Object.assign({}, p)),\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  } = props;\n  var editor = useSlateStatic();\n  var readOnly = useReadOnly();\n  var isInline = editor.isInline(element);\n  var key = ReactEditor.findKey(editor, element);\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(ref => {\n    // Update element-related weak maps with the DOM element ref.\n    var KEY_TO_ELEMENT = EDITOR_TO_KEY_TO_ELEMENT.get(editor);\n\n    if (ref) {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.set(key, ref);\n      NODE_TO_ELEMENT.set(element, ref);\n      ELEMENT_TO_NODE.set(ref, element);\n    } else {\n      KEY_TO_ELEMENT === null || KEY_TO_ELEMENT === void 0 ? void 0 : KEY_TO_ELEMENT.delete(key);\n      NODE_TO_ELEMENT.delete(element);\n    }\n  }, [editor, key, element]);\n  var children = useChildren({\n    decorations,\n    node: element,\n    renderElement,\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  }); // Attributes that the developer must mix into the element in their\n  // custom node renderer component.\n\n  var attributes = {\n    'data-slate-node': 'element',\n    ref\n  };\n\n  if (isInline) {\n    attributes['data-slate-inline'] = true;\n  } // If it's a block node with inline children, add the proper `dir` attribute\n  // for text direction.\n\n\n  if (!isInline && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasInlines(editor, element)) {\n    var text = slate__WEBPACK_IMPORTED_MODULE_7__.Node.string(element);\n    var dir = direction__WEBPACK_IMPORTED_MODULE_0___default()(text);\n\n    if (dir === 'rtl') {\n      attributes.dir = dir;\n    }\n  } // If it's a void node, wrap the children in extra void-specific elements.\n\n\n  if (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, element)) {\n    attributes['data-slate-void'] = true;\n\n    if (!readOnly && isInline) {\n      attributes.contentEditable = false;\n    }\n\n    var Tag = isInline ? 'span' : 'div';\n    var [[_text]] = slate__WEBPACK_IMPORTED_MODULE_7__.Node.texts(element);\n    children = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(Tag, {\n      \"data-slate-spacer\": true,\n      style: {\n        height: '0',\n        color: 'transparent',\n        outline: 'none',\n        position: 'absolute'\n      }\n    }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(MemoizedText, {\n      renderPlaceholder: renderPlaceholder,\n      decorations: [],\n      isLast: false,\n      parent: element,\n      text: _text\n    }));\n    NODE_TO_INDEX.set(_text, 0);\n    NODE_TO_PARENT.set(_text, element);\n  }\n\n  return renderElement({\n    attributes,\n    children,\n    element\n  });\n};\n\nvar MemoizedElement = /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().memo(Element, (prev, next) => {\n  return prev.element === next.element && prev.renderElement === next.renderElement && prev.renderLeaf === next.renderLeaf && prev.renderPlaceholder === next.renderPlaceholder && isElementDecorationsEqual(prev.decorations, next.decorations) && (prev.selection === next.selection || !!prev.selection && !!next.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(prev.selection, next.selection));\n});\n/**\r\n * The default element renderer.\r\n */\n\nvar DefaultElement = props => {\n  var {\n    attributes,\n    children,\n    element\n  } = props;\n  var editor = useSlateStatic();\n  var Tag = editor.isInline(element) ? 'span' : 'div';\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(Tag, Object.assign({}, attributes, {\n    style: {\n      position: 'relative'\n    }\n  }), children);\n};\n\n/**\r\n * A React context for sharing the `decorate` prop of the editable.\r\n */\n\nvar DecorateContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(() => []);\n/**\r\n * Get the current `decorate` prop of the editable.\r\n */\n\nvar useDecorate = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(DecorateContext);\n};\n\n/**\r\n * A React context for sharing the `selected` state of an element.\r\n */\n\nvar SelectedContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(false);\n/**\r\n * Get the current `selected` state of an element.\r\n */\n\nvar useSelected = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SelectedContext);\n};\n\n/**\r\n * Children.\r\n */\n\nvar useChildren = props => {\n  var {\n    decorations,\n    node,\n    renderElement,\n    renderPlaceholder,\n    renderLeaf,\n    selection\n  } = props;\n  var decorate = useDecorate();\n  var editor = useSlateStatic();\n  var path = ReactEditor.findPath(editor, node);\n  var children = [];\n  var isLeafBlock = slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && !editor.isInline(node) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasInlines(editor, node);\n\n  for (var i = 0; i < node.children.length; i++) {\n    var p = path.concat(i);\n    var n = node.children[i];\n    var key = ReactEditor.findKey(editor, n);\n    var range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, p);\n    var sel = selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.intersection(range, selection);\n    var ds = decorate([n, p]);\n\n    for (var dec of decorations) {\n      var d = slate__WEBPACK_IMPORTED_MODULE_7__.Range.intersection(dec, range);\n\n      if (d) {\n        ds.push(d);\n      }\n    }\n\n    if (slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n)) {\n      children.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(SelectedContext.Provider, {\n        key: \"provider-\".concat(key.id),\n        value: !!sel\n      }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(MemoizedElement, {\n        decorations: ds,\n        element: n,\n        key: key.id,\n        renderElement: renderElement,\n        renderPlaceholder: renderPlaceholder,\n        renderLeaf: renderLeaf,\n        selection: sel\n      })));\n    } else {\n      children.push( /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(MemoizedText, {\n        decorations: ds,\n        key: key.id,\n        isLast: isLeafBlock && i === node.children.length - 1,\n        parent: node,\n        renderPlaceholder: renderPlaceholder,\n        renderLeaf: renderLeaf,\n        text: n\n      }));\n    }\n\n    NODE_TO_INDEX.set(n, i);\n    NODE_TO_PARENT.set(n, node);\n  }\n\n  return children;\n};\n\n/**\r\n * A React context for sharing the `readOnly` state of the editor.\r\n */\n\nvar ReadOnlyContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(false);\n/**\r\n * Get the current `readOnly` state of the editor.\r\n */\n\nvar useReadOnly = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(ReadOnlyContext);\n};\n\nvar SlateContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(null);\n/**\r\n * Get the current editor object from the React context.\r\n */\n\nvar useSlate = () => {\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SlateContext);\n\n  if (!context) {\n    throw new Error(\"The `useSlate` hook must be used inside the <Slate> component's context.\");\n  }\n\n  var {\n    editor\n  } = context;\n  return editor;\n};\nvar useSlateWithV = () => {\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SlateContext);\n\n  if (!context) {\n    throw new Error(\"The `useSlate` hook must be used inside the <Slate> component's context.\");\n  }\n\n  return context;\n};\n\nfunction useTrackUserInput() {\n  var editor = useSlateStatic();\n  var receivedUserInput = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(false);\n  var animationFrameIdRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(0);\n  var onUserInput = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (receivedUserInput.current) {\n      return;\n    }\n\n    receivedUserInput.current = true;\n    var window = ReactEditor.getWindow(editor);\n    window.cancelAnimationFrame(animationFrameIdRef.current);\n    animationFrameIdRef.current = window.requestAnimationFrame(() => {\n      receivedUserInput.current = false;\n    });\n  }, [editor]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => () => cancelAnimationFrame(animationFrameIdRef.current), []);\n  return {\n    receivedUserInput,\n    onUserInput\n  };\n}\n\nvar TRIPLE_CLICK = 3;\n\n/**\r\n * Hotkey mappings for each platform.\r\n */\n\nvar HOTKEYS = {\n  bold: 'mod+b',\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\n  moveBackward: 'left',\n  moveForward: 'right',\n  moveWordBackward: 'ctrl+left',\n  moveWordForward: 'ctrl+right',\n  deleteBackward: 'shift?+backspace',\n  deleteForward: 'shift?+delete',\n  extendBackward: 'shift+left',\n  extendForward: 'shift+right',\n  italic: 'mod+i',\n  insertSoftBreak: 'shift+enter',\n  splitBlock: 'enter',\n  undo: 'mod+z'\n};\nvar APPLE_HOTKEYS = {\n  moveLineBackward: 'opt+up',\n  moveLineForward: 'opt+down',\n  moveWordBackward: 'opt+left',\n  moveWordForward: 'opt+right',\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\n  deleteLineBackward: 'cmd+shift?+backspace',\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\n  deleteWordBackward: 'opt+shift?+backspace',\n  deleteWordForward: 'opt+shift?+delete',\n  extendLineBackward: 'opt+shift+up',\n  extendLineForward: 'opt+shift+down',\n  redo: 'cmd+shift+z',\n  transposeCharacter: 'ctrl+t'\n};\nvar WINDOWS_HOTKEYS = {\n  deleteWordBackward: 'ctrl+shift?+backspace',\n  deleteWordForward: 'ctrl+shift?+delete',\n  redo: ['ctrl+y', 'ctrl+shift+z']\n};\n/**\r\n * Create a platform-aware hotkey checker.\r\n */\n\nvar create = key => {\n  var generic = HOTKEYS[key];\n  var apple = APPLE_HOTKEYS[key];\n  var windows = WINDOWS_HOTKEYS[key];\n  var isGeneric = generic && (0,is_hotkey__WEBPACK_IMPORTED_MODULE_5__.isHotkey)(generic);\n  var isApple = apple && (0,is_hotkey__WEBPACK_IMPORTED_MODULE_5__.isHotkey)(apple);\n  var isWindows = windows && (0,is_hotkey__WEBPACK_IMPORTED_MODULE_5__.isHotkey)(windows);\n  return event => {\n    if (isGeneric && isGeneric(event)) return true;\n    if (IS_APPLE && isApple && isApple(event)) return true;\n    if (!IS_APPLE && isWindows && isWindows(event)) return true;\n    return false;\n  };\n};\n/**\r\n * Hotkeys.\r\n */\n\n\nvar Hotkeys = {\n  isBold: create('bold'),\n  isCompose: create('compose'),\n  isMoveBackward: create('moveBackward'),\n  isMoveForward: create('moveForward'),\n  isDeleteBackward: create('deleteBackward'),\n  isDeleteForward: create('deleteForward'),\n  isDeleteLineBackward: create('deleteLineBackward'),\n  isDeleteLineForward: create('deleteLineForward'),\n  isDeleteWordBackward: create('deleteWordBackward'),\n  isDeleteWordForward: create('deleteWordForward'),\n  isExtendBackward: create('extendBackward'),\n  isExtendForward: create('extendForward'),\n  isExtendLineBackward: create('extendLineBackward'),\n  isExtendLineForward: create('extendLineForward'),\n  isItalic: create('italic'),\n  isMoveLineBackward: create('moveLineBackward'),\n  isMoveLineForward: create('moveLineForward'),\n  isMoveWordBackward: create('moveWordBackward'),\n  isMoveWordForward: create('moveWordForward'),\n  isRedo: create('redo'),\n  isSoftBreak: create('insertSoftBreak'),\n  isSplitBlock: create('splitBlock'),\n  isTransposeCharacter: create('transposeCharacter'),\n  isUndo: create('undo')\n};\n\nvar createRestoreDomManager = (editor, receivedUserInput) => {\n  var bufferedMutations = [];\n\n  var clear = () => {\n    bufferedMutations = [];\n  };\n\n  var registerMutations = mutations => {\n    if (!receivedUserInput.current) {\n      return;\n    }\n\n    var trackedMutations = mutations.filter(mutation => isTrackedMutation(editor, mutation, mutations));\n    bufferedMutations.push(...trackedMutations);\n  };\n\n  function restoreDOM() {\n    if (bufferedMutations.length > 0) {\n      bufferedMutations.reverse().forEach(mutation => {\n        if (mutation.type === 'characterData') {\n          // We don't want to restore the DOM for characterData mutations\n          // because this interrupts the composition.\n          return;\n        }\n\n        mutation.removedNodes.forEach(node => {\n          mutation.target.insertBefore(node, mutation.nextSibling);\n        });\n        mutation.addedNodes.forEach(node => {\n          mutation.target.removeChild(node);\n        });\n      }); // Clear buffered mutations to ensure we don't undo them twice\n\n      clear();\n    }\n  }\n\n  return {\n    registerMutations,\n    restoreDOM,\n    clear\n  };\n};\n\nvar MUTATION_OBSERVER_CONFIG = {\n  subtree: true,\n  childList: true,\n  characterData: true,\n  characterDataOldValue: true\n}; // We have to use a class component here since we rely on `getSnapshotBeforeUpdate` which has no FC equivalent\n// to run code synchronously immediately before react commits the component update to the DOM.\n\nclass RestoreDOMComponent extends react__WEBPACK_IMPORTED_MODULE_3__.Component {\n  constructor() {\n    super(...arguments);\n    this.context = null;\n    this.manager = null;\n    this.mutationObserver = null;\n  }\n\n  observe() {\n    var _this$mutationObserve;\n\n    var {\n      node\n    } = this.props;\n\n    if (!node.current) {\n      throw new Error('Failed to attach MutationObserver, `node` is undefined');\n    }\n\n    (_this$mutationObserve = this.mutationObserver) === null || _this$mutationObserve === void 0 ? void 0 : _this$mutationObserve.observe(node.current, MUTATION_OBSERVER_CONFIG);\n  }\n\n  componentDidMount() {\n    var {\n      receivedUserInput\n    } = this.props;\n    var editor = this.context;\n    this.manager = createRestoreDomManager(editor, receivedUserInput);\n    this.mutationObserver = new MutationObserver(this.manager.registerMutations);\n    this.observe();\n  }\n\n  getSnapshotBeforeUpdate() {\n    var _this$mutationObserve2, _this$mutationObserve3, _this$manager2;\n\n    var pendingMutations = (_this$mutationObserve2 = this.mutationObserver) === null || _this$mutationObserve2 === void 0 ? void 0 : _this$mutationObserve2.takeRecords();\n\n    if (pendingMutations !== null && pendingMutations !== void 0 && pendingMutations.length) {\n      var _this$manager;\n\n      (_this$manager = this.manager) === null || _this$manager === void 0 ? void 0 : _this$manager.registerMutations(pendingMutations);\n    }\n\n    (_this$mutationObserve3 = this.mutationObserver) === null || _this$mutationObserve3 === void 0 ? void 0 : _this$mutationObserve3.disconnect();\n    (_this$manager2 = this.manager) === null || _this$manager2 === void 0 ? void 0 : _this$manager2.restoreDOM();\n    return null;\n  }\n\n  componentDidUpdate() {\n    var _this$manager3;\n\n    (_this$manager3 = this.manager) === null || _this$manager3 === void 0 ? void 0 : _this$manager3.clear();\n    this.observe();\n  }\n\n  componentWillUnmount() {\n    var _this$mutationObserve4;\n\n    (_this$mutationObserve4 = this.mutationObserver) === null || _this$mutationObserve4 === void 0 ? void 0 : _this$mutationObserve4.disconnect();\n  }\n\n  render() {\n    return this.props.children;\n  }\n\n}\n\nRestoreDOMComponent.contextType = EditorContext;\nvar RestoreDOM = IS_ANDROID ? RestoreDOMComponent : _ref => {\n  var {\n    children\n  } = _ref;\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, children);\n};\n\nvar _excluded$1 = [\"autoFocus\", \"decorate\", \"onDOMBeforeInput\", \"placeholder\", \"readOnly\", \"renderElement\", \"renderLeaf\", \"renderPlaceholder\", \"scrollSelectionIntoView\", \"style\", \"as\", \"disableDefaultStyles\"],\n    _excluded2 = [\"text\"];\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Children = props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement((react__WEBPACK_IMPORTED_MODULE_3___default().Fragment), null, useChildren(props));\n/**\r\n * Editable.\r\n */\n\n\nvar Editable = props => {\n  var defaultRenderPlaceholder = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(props => /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(DefaultPlaceholder, Object.assign({}, props)), []);\n\n  var {\n    autoFocus,\n    decorate = defaultDecorate,\n    onDOMBeforeInput: propsOnDOMBeforeInput,\n    placeholder,\n    readOnly = false,\n    renderElement,\n    renderLeaf,\n    renderPlaceholder = defaultRenderPlaceholder,\n    scrollSelectionIntoView = defaultScrollSelectionIntoView,\n    style: userStyle = {},\n    as: Component = 'div',\n    disableDefaultStyles = false\n  } = props,\n      attributes = _objectWithoutProperties(props, _excluded$1);\n\n  var editor = useSlate(); // Rerender editor when composition status changed\n\n  var [isComposing, setIsComposing] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(false);\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var deferredOperations = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]);\n  var [placeholderHeight, setPlaceholderHeight] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)();\n  var {\n    onUserInput,\n    receivedUserInput\n  } = useTrackUserInput();\n  var [, forceRender] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useReducer)(s => s + 1, 0);\n  EDITOR_TO_FORCE_RENDER.set(editor, forceRender); // Update internal state on each render.\n\n  IS_READ_ONLY.set(editor, readOnly); // Keep track of some state for the event handler logic.\n\n  var state = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => ({\n    isDraggingInternally: false,\n    isUpdatingSelection: false,\n    latestElement: null,\n    hasMarkPlaceholder: false\n  }), []); // The autoFocus TextareaHTMLAttribute doesn't do anything on a div, so it\n  // needs to be manually focused.\n\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    if (ref.current && autoFocus) {\n      ref.current.focus();\n    }\n  }, [autoFocus]);\n  /**\r\n   * The AndroidInputManager object has a cyclical dependency on onDOMSelectionChange\r\n   *\r\n   * It is defined as a reference to simplify hook dependencies and clarify that\r\n   * it needs to be initialized.\r\n   */\n\n  var androidInputManagerRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(); // Listen on the native `selectionchange` event to be able to update any time\n  // the selection changes. This is required because React's `onSelect` is leaky\n  // and non-standard so it doesn't fire until after a selection has been\n  // released. This causes issues in situations where another change happens\n  // while a selection is being dragged.\n\n  var onDOMSelectionChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => lodash_throttle__WEBPACK_IMPORTED_MODULE_2___default()(() => {\n    var androidInputManager = androidInputManagerRef.current;\n\n    if ((IS_ANDROID || !ReactEditor.isComposing(editor)) && (!state.isUpdatingSelection || androidInputManager !== null && androidInputManager !== void 0 && androidInputManager.isFlushing()) && !state.isDraggingInternally) {\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n      var {\n        activeElement\n      } = root;\n      var el = ReactEditor.toDOMNode(editor, editor);\n      var domSelection = root.getSelection();\n\n      if (activeElement === el) {\n        state.latestElement = activeElement;\n        IS_FOCUSED.set(editor, true);\n      } else {\n        IS_FOCUSED.delete(editor);\n      }\n\n      if (!domSelection) {\n        return slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.deselect(editor);\n      }\n\n      var {\n        anchorNode,\n        focusNode\n      } = domSelection;\n      var anchorNodeSelectable = ReactEditor.hasEditableTarget(editor, anchorNode) || ReactEditor.isTargetInsideNonReadonlyVoid(editor, anchorNode);\n      var focusNodeSelectable = ReactEditor.hasEditableTarget(editor, focusNode) || ReactEditor.isTargetInsideNonReadonlyVoid(editor, focusNode);\n\n      if (anchorNodeSelectable && focusNodeSelectable) {\n        var range = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: false,\n          suppressThrow: true\n        });\n\n        if (range) {\n          if (!ReactEditor.isComposing(editor) && !(androidInputManager !== null && androidInputManager !== void 0 && androidInputManager.hasPendingChanges()) && !(androidInputManager !== null && androidInputManager !== void 0 && androidInputManager.isFlushing())) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n          } else {\n            androidInputManager === null || androidInputManager === void 0 ? void 0 : androidInputManager.handleUserSelect(range);\n          }\n        }\n      } // Deselect the editor if the dom selection is not selectable in readonly mode\n\n\n      if (readOnly && (!anchorNodeSelectable || !focusNodeSelectable)) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.deselect(editor);\n      }\n    }\n  }, 100), [editor, readOnly, state]);\n  var scheduleOnDOMSelectionChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => lodash_debounce__WEBPACK_IMPORTED_MODULE_1___default()(onDOMSelectionChange, 0), [onDOMSelectionChange]);\n  androidInputManagerRef.current = useAndroidInputManager({\n    node: ref,\n    onDOMSelectionChange,\n    scheduleOnDOMSelectionChange\n  });\n  useIsomorphicLayoutEffect(() => {\n    var _androidInputManagerR, _androidInputManagerR2;\n\n    // Update element-related weak maps with the DOM element ref.\n    var window;\n\n    if (ref.current && (window = getDefaultView(ref.current))) {\n      EDITOR_TO_WINDOW.set(editor, window);\n      EDITOR_TO_ELEMENT.set(editor, ref.current);\n      NODE_TO_ELEMENT.set(editor, ref.current);\n      ELEMENT_TO_NODE.set(ref.current, editor);\n    } else {\n      NODE_TO_ELEMENT.delete(editor);\n    } // Make sure the DOM selection state is in sync.\n\n\n    var {\n      selection\n    } = editor;\n    var root = ReactEditor.findDocumentOrShadowRoot(editor);\n    var domSelection = root.getSelection();\n\n    if (!domSelection || !ReactEditor.isFocused(editor) || (_androidInputManagerR = androidInputManagerRef.current) !== null && _androidInputManagerR !== void 0 && _androidInputManagerR.hasPendingAction()) {\n      return;\n    }\n\n    var setDomSelection = forceChange => {\n      var hasDomSelection = domSelection.type !== 'None'; // If the DOM selection is properly unset, we're done.\n\n      if (!selection && !hasDomSelection) {\n        return;\n      } // Get anchorNode and focusNode\n\n\n      var focusNode = domSelection.focusNode;\n      var anchorNode; // COMPAT: In firefox the normal seletion way does not work\n      // (https://github.com/ianstormtaylor/slate/pull/5486#issue-1820720223)\n\n      if (IS_FIREFOX && domSelection.rangeCount > 1) {\n        var firstRange = domSelection.getRangeAt(0);\n        var lastRange = domSelection.getRangeAt(domSelection.rangeCount - 1); // Right to left\n\n        if (firstRange.startContainer === focusNode) {\n          anchorNode = lastRange.endContainer;\n        } else {\n          // Left to right\n          anchorNode = firstRange.startContainer;\n        }\n      } else {\n        anchorNode = domSelection.anchorNode;\n      } // verify that the dom selection is in the editor\n\n\n      var editorElement = EDITOR_TO_ELEMENT.get(editor);\n      var hasDomSelectionInEditor = false;\n\n      if (editorElement.contains(anchorNode) && editorElement.contains(focusNode)) {\n        hasDomSelectionInEditor = true;\n      } // If the DOM selection is in the editor and the editor selection is already correct, we're done.\n\n\n      if (hasDomSelection && hasDomSelectionInEditor && selection && !forceChange) {\n        var slateRange = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: true,\n          // domSelection is not necessarily a valid Slate range\n          // (e.g. when clicking on contentEditable:false element)\n          suppressThrow: true\n        });\n\n        if (slateRange && slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(slateRange, selection)) {\n          var _anchorNode, _anchorNode$parentEle;\n\n          if (!state.hasMarkPlaceholder) {\n            return;\n          } // Ensure selection is inside the mark placeholder\n\n\n          if ((_anchorNode = anchorNode) !== null && _anchorNode !== void 0 && (_anchorNode$parentEle = _anchorNode.parentElement) !== null && _anchorNode$parentEle !== void 0 && _anchorNode$parentEle.hasAttribute('data-slate-mark-placeholder')) {\n            return;\n          }\n        }\n      } // when <Editable/> is being controlled through external value\n      // then its children might just change - DOM responds to it on its own\n      // but Slate's value is not being updated through any operation\n      // and thus it doesn't transform selection on its own\n\n\n      if (selection && !ReactEditor.hasRange(editor, selection)) {\n        editor.selection = ReactEditor.toSlateRange(editor, domSelection, {\n          exactMatch: false,\n          suppressThrow: true\n        });\n        return;\n      } // Otherwise the DOM selection is out of sync, so update it.\n\n\n      state.isUpdatingSelection = true;\n      var newDomRange = selection && ReactEditor.toDOMRange(editor, selection);\n\n      if (newDomRange) {\n        if (ReactEditor.isComposing(editor) && !IS_ANDROID) {\n          domSelection.collapseToEnd();\n        } else if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isBackward(selection)) {\n          domSelection.setBaseAndExtent(newDomRange.endContainer, newDomRange.endOffset, newDomRange.startContainer, newDomRange.startOffset);\n        } else {\n          domSelection.setBaseAndExtent(newDomRange.startContainer, newDomRange.startOffset, newDomRange.endContainer, newDomRange.endOffset);\n        }\n\n        scrollSelectionIntoView(editor, newDomRange);\n      } else {\n        domSelection.removeAllRanges();\n      }\n\n      return newDomRange;\n    }; // In firefox if there is more then 1 range and we call setDomSelection we remove the ability to select more cells in a table\n\n\n    if (domSelection.rangeCount <= 1) {\n      setDomSelection();\n    }\n\n    var ensureSelection = ((_androidInputManagerR2 = androidInputManagerRef.current) === null || _androidInputManagerR2 === void 0 ? void 0 : _androidInputManagerR2.isFlushing()) === 'action';\n\n    if (!IS_ANDROID || !ensureSelection) {\n      setTimeout(() => {\n        state.isUpdatingSelection = false;\n      });\n      return;\n    }\n\n    var timeoutId = null;\n    var animationFrameId = requestAnimationFrame(() => {\n      if (ensureSelection) {\n        var ensureDomSelection = forceChange => {\n          try {\n            var el = ReactEditor.toDOMNode(editor, editor);\n            el.focus();\n            setDomSelection(forceChange);\n          } catch (e) {// Ignore, dom and state might be out of sync\n          }\n        }; // Compat: Android IMEs try to force their selection by manually re-applying it even after we set it.\n        // This essentially would make setting the slate selection during an update meaningless, so we force it\n        // again here. We can't only do it in the setTimeout after the animation frame since that would cause a\n        // visible flicker.\n\n\n        ensureDomSelection();\n        timeoutId = setTimeout(() => {\n          // COMPAT: While setting the selection in an animation frame visually correctly sets the selection,\n          // it doesn't update GBoards spellchecker state. We have to manually trigger a selection change after\n          // the animation frame to ensure it displays the correct state.\n          ensureDomSelection(true);\n          state.isUpdatingSelection = false;\n        });\n      }\n    });\n    return () => {\n      cancelAnimationFrame(animationFrameId);\n\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }); // Listen on the native `beforeinput` event to get real \"Level 2\" events. This\n  // is required because React's `beforeinput` is fake and never really attaches\n  // to the real event sadly. (2019/11/01)\n  // https://github.com/facebook/react/issues/11211\n\n  var onDOMBeforeInput = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n    onUserInput();\n\n    if (!readOnly && ReactEditor.hasEditableTarget(editor, event.target) && !isDOMEventHandled(event, propsOnDOMBeforeInput)) {\n      var _EDITOR_TO_USER_SELEC;\n\n      // COMPAT: BeforeInput events aren't cancelable on android, so we have to handle them differently using the android input manager.\n      if (androidInputManagerRef.current) {\n        return androidInputManagerRef.current.handleDOMBeforeInput(event);\n      } // Some IMEs/Chrome extensions like e.g. Grammarly set the selection immediately before\n      // triggering a `beforeinput` expecting the change to be applied to the immediately before\n      // set selection.\n\n\n      scheduleOnDOMSelectionChange.flush();\n      onDOMSelectionChange.flush();\n      var {\n        selection\n      } = editor;\n      var {\n        inputType: type\n      } = event;\n      var data = event.dataTransfer || event.data || undefined;\n      var isCompositionChange = type === 'insertCompositionText' || type === 'deleteCompositionText'; // COMPAT: use composition change events as a hint to where we should insert\n      // composition text if we aren't composing to work around https://github.com/ianstormtaylor/slate/issues/5038\n\n      if (isCompositionChange && ReactEditor.isComposing(editor)) {\n        return;\n      }\n\n      var native = false;\n\n      if (type === 'insertText' && selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(selection) && // Only use native character insertion for single characters a-z or space for now.\n      // Long-press events (hold a + press 4 = ) to choose a special character otherwise\n      // causes duplicate inserts.\n      event.data && event.data.length === 1 && /[a-z ]/i.test(event.data) && // Chrome has issues correctly editing the start of nodes: https://bugs.chromium.org/p/chromium/issues/detail?id=1249405\n      // When there is an inline element, e.g. a link, and you select\n      // right after it (the start of the next node).\n      selection.anchor.offset !== 0) {\n        var _node$parentElement, _window$getComputedSt;\n\n        native = true; // Skip native if there are marks, as\n        // `insertText` will insert a node, not just text.\n\n        if (editor.marks) {\n          native = false;\n        } // Chrome also has issues correctly editing the end of anchor elements: https://bugs.chromium.org/p/chromium/issues/detail?id=1259100\n        // Therefore we don't allow native events to insert text at the end of anchor nodes.\n\n\n        var {\n          anchor\n        } = selection;\n        var [node, offset] = ReactEditor.toDOMPoint(editor, anchor);\n        var anchorNode = (_node$parentElement = node.parentElement) === null || _node$parentElement === void 0 ? void 0 : _node$parentElement.closest('a');\n        var window = ReactEditor.getWindow(editor);\n\n        if (native && anchorNode && ReactEditor.hasDOMNode(editor, anchorNode)) {\n          var _lastText$textContent;\n\n          // Find the last text node inside the anchor.\n          var lastText = window === null || window === void 0 ? void 0 : window.document.createTreeWalker(anchorNode, NodeFilter.SHOW_TEXT).lastChild();\n\n          if (lastText === node && ((_lastText$textContent = lastText.textContent) === null || _lastText$textContent === void 0 ? void 0 : _lastText$textContent.length) === offset) {\n            native = false;\n          }\n        } // Chrome has issues with the presence of tab characters inside elements with whiteSpace = 'pre'\n        // causing abnormal insert behavior: https://bugs.chromium.org/p/chromium/issues/detail?id=1219139\n\n\n        if (native && node.parentElement && (window === null || window === void 0 ? void 0 : (_window$getComputedSt = window.getComputedStyle(node.parentElement)) === null || _window$getComputedSt === void 0 ? void 0 : _window$getComputedSt.whiteSpace) === 'pre') {\n          var block = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.above(editor, {\n            at: anchor.path,\n            match: n => slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(editor, n)\n          });\n\n          if (block && slate__WEBPACK_IMPORTED_MODULE_7__.Node.string(block[0]).includes('\\t')) {\n            native = false;\n          }\n        }\n      } // COMPAT: For the deleting forward/backward input types we don't want\n      // to change the selection because it is the range that will be deleted,\n      // and those commands determine that for themselves.\n\n\n      if (!type.startsWith('delete') || type.startsWith('deleteBy')) {\n        var [targetRange] = event.getTargetRanges();\n\n        if (targetRange) {\n          var range = ReactEditor.toSlateRange(editor, targetRange, {\n            exactMatch: false,\n            suppressThrow: false\n          });\n\n          if (!selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(selection, range)) {\n            native = false;\n            var selectionRef = !isCompositionChange && editor.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.rangeRef(editor, editor.selection);\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n\n            if (selectionRef) {\n              EDITOR_TO_USER_SELECTION.set(editor, selectionRef);\n            }\n          }\n        }\n      } // Composition change types occur while a user is composing text and can't be\n      // cancelled. Let them through and wait for the composition to end.\n\n\n      if (isCompositionChange) {\n        return;\n      }\n\n      if (!native) {\n        event.preventDefault();\n      } // COMPAT: If the selection is expanded, even if the command seems like\n      // a delete forward/backward command it should delete the selection.\n\n\n      if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection) && type.startsWith('delete')) {\n        var direction = type.endsWith('Backward') ? 'backward' : 'forward';\n        slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n          direction\n        });\n        return;\n      }\n\n      switch (type) {\n        case 'deleteByComposition':\n        case 'deleteByCut':\n        case 'deleteByDrag':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor);\n            break;\n          }\n\n        case 'deleteContent':\n        case 'deleteContentForward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor);\n            break;\n          }\n\n        case 'deleteContentBackward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor);\n            break;\n          }\n\n        case 'deleteEntireSoftLine':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n              unit: 'line'\n            });\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteHardLineBackward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n              unit: 'block'\n            });\n            break;\n          }\n\n        case 'deleteSoftLineBackward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteHardLineForward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n              unit: 'block'\n            });\n            break;\n          }\n\n        case 'deleteSoftLineForward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n              unit: 'line'\n            });\n            break;\n          }\n\n        case 'deleteWordBackward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n              unit: 'word'\n            });\n            break;\n          }\n\n        case 'deleteWordForward':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n              unit: 'word'\n            });\n            break;\n          }\n\n        case 'insertLineBreak':\n          slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertSoftBreak(editor);\n          break;\n\n        case 'insertParagraph':\n          {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertBreak(editor);\n            break;\n          }\n\n        case 'insertFromComposition':\n        case 'insertFromDrop':\n        case 'insertFromPaste':\n        case 'insertFromYank':\n        case 'insertReplacementText':\n        case 'insertText':\n          {\n            if (type === 'insertFromComposition') {\n              // COMPAT: in Safari, `compositionend` is dispatched after the\n              // `beforeinput` for \"insertFromComposition\". But if we wait for it\n              // then we will abort because we're still composing and the selection\n              // won't be updated properly.\n              // https://www.w3.org/TR/input-events-2/\n              if (ReactEditor.isComposing(editor)) {\n                setIsComposing(false);\n                IS_COMPOSING.set(editor, false);\n              }\n            } // use a weak comparison instead of 'instanceof' to allow\n            // programmatic access of paste events coming from external windows\n            // like cypress where cy.window does not work realibly\n\n\n            if ((data === null || data === void 0 ? void 0 : data.constructor.name) === 'DataTransfer') {\n              ReactEditor.insertData(editor, data);\n            } else if (typeof data === 'string') {\n              // Only insertText operations use the native functionality, for now.\n              // Potentially expand to single character deletes, as well.\n              if (native) {\n                deferredOperations.current.push(() => slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, data));\n              } else {\n                slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, data);\n              }\n            }\n\n            break;\n          }\n      } // Restore the actual user section if nothing manually set it.\n\n\n      var toRestore = (_EDITOR_TO_USER_SELEC = EDITOR_TO_USER_SELECTION.get(editor)) === null || _EDITOR_TO_USER_SELEC === void 0 ? void 0 : _EDITOR_TO_USER_SELEC.unref();\n      EDITOR_TO_USER_SELECTION.delete(editor);\n\n      if (toRestore && (!editor.selection || !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(editor.selection, toRestore))) {\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, toRestore);\n      }\n    }\n  }, [editor, onDOMSelectionChange, onUserInput, propsOnDOMBeforeInput, readOnly, scheduleOnDOMSelectionChange]);\n  var callbackRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(node => {\n    if (node == null) {\n      onDOMSelectionChange.cancel();\n      scheduleOnDOMSelectionChange.cancel();\n      EDITOR_TO_ELEMENT.delete(editor);\n      NODE_TO_ELEMENT.delete(editor);\n\n      if (ref.current && HAS_BEFORE_INPUT_SUPPORT) {\n        // @ts-ignore The `beforeinput` event isn't recognized.\n        ref.current.removeEventListener('beforeinput', onDOMBeforeInput);\n      }\n    } else {\n      // Attach a native DOM event handler for `beforeinput` events, because React's\n      // built-in `onBeforeInput` is actually a leaky polyfill that doesn't expose\n      // real `beforeinput` events sadly... (2019/11/04)\n      // https://github.com/facebook/react/issues/11211\n      if (HAS_BEFORE_INPUT_SUPPORT) {\n        // @ts-ignore The `beforeinput` event isn't recognized.\n        node.addEventListener('beforeinput', onDOMBeforeInput);\n      }\n    }\n\n    ref.current = node;\n  }, [onDOMSelectionChange, scheduleOnDOMSelectionChange, editor, onDOMBeforeInput]); // Attach a native DOM event handler for `selectionchange`, because React's\n  // built-in `onSelect` handler doesn't fire for all selection changes. It's a\n  // leaky polyfill that only fires on keypresses or clicks. Instead, we want to\n  // fire for any change to the selection inside the editor. (2019/11/04)\n  // https://github.com/facebook/react/issues/5785\n\n  useIsomorphicLayoutEffect(() => {\n    var window = ReactEditor.getWindow(editor);\n    window.document.addEventListener('selectionchange', scheduleOnDOMSelectionChange);\n    return () => {\n      window.document.removeEventListener('selectionchange', scheduleOnDOMSelectionChange);\n    };\n  }, [scheduleOnDOMSelectionChange]);\n  var decorations = decorate([editor, []]);\n  var showPlaceholder = placeholder && editor.children.length === 1 && Array.from(slate__WEBPACK_IMPORTED_MODULE_7__.Node.texts(editor)).length === 1 && slate__WEBPACK_IMPORTED_MODULE_7__.Node.string(editor) === '' && !isComposing;\n  var placeHolderResizeHandler = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(placeholderEl => {\n    if (placeholderEl && showPlaceholder) {\n      var _placeholderEl$getBou;\n\n      setPlaceholderHeight((_placeholderEl$getBou = placeholderEl.getBoundingClientRect()) === null || _placeholderEl$getBou === void 0 ? void 0 : _placeholderEl$getBou.height);\n    } else {\n      setPlaceholderHeight(undefined);\n    }\n  }, [showPlaceholder]);\n\n  if (showPlaceholder) {\n    var start = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.start(editor, []);\n    decorations.push({\n      [PLACEHOLDER_SYMBOL]: true,\n      placeholder,\n      onPlaceholderResize: placeHolderResizeHandler,\n      anchor: start,\n      focus: start\n    });\n  }\n\n  var {\n    marks\n  } = editor;\n  state.hasMarkPlaceholder = false;\n\n  if (editor.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(editor.selection) && marks) {\n    var {\n      anchor\n    } = editor.selection;\n    var leaf = slate__WEBPACK_IMPORTED_MODULE_7__.Node.leaf(editor, anchor.path);\n\n    var rest = _objectWithoutProperties(leaf, _excluded2); // While marks isn't a 'complete' text, we can still use loose Text.equals\n    // here which only compares marks anyway.\n\n\n    if (!slate__WEBPACK_IMPORTED_MODULE_7__.Text.equals(leaf, marks, {\n      loose: true\n    })) {\n      state.hasMarkPlaceholder = true;\n      var unset = Object.fromEntries(Object.keys(rest).map(mark => [mark, null]));\n      decorations.push(_objectSpread$1(_objectSpread$1(_objectSpread$1({\n        [MARK_PLACEHOLDER_SYMBOL]: true\n      }, unset), marks), {}, {\n        anchor,\n        focus: anchor\n      }));\n    }\n  } // Update EDITOR_TO_MARK_PLACEHOLDER_MARKS in setTimeout useEffect to ensure we don't set it\n  // before we receive the composition end event.\n\n\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    setTimeout(() => {\n      var {\n        selection\n      } = editor;\n\n      if (selection) {\n        var {\n          anchor: _anchor\n        } = selection;\n\n        var _text = slate__WEBPACK_IMPORTED_MODULE_7__.Node.leaf(editor, _anchor.path); // While marks isn't a 'complete' text, we can still use loose Text.equals\n        // here which only compares marks anyway.\n\n\n        if (marks && !slate__WEBPACK_IMPORTED_MODULE_7__.Text.equals(_text, marks, {\n          loose: true\n        })) {\n          EDITOR_TO_PENDING_INSERTION_MARKS.set(editor, marks);\n          return;\n        }\n      }\n\n      EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor);\n    });\n  });\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(ReadOnlyContext.Provider, {\n    value: readOnly\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(DecorateContext.Provider, {\n    value: decorate\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(RestoreDOM, {\n    node: ref,\n    receivedUserInput: receivedUserInput\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(Component, Object.assign({\n    role: readOnly ? undefined : 'textbox',\n    \"aria-multiline\": readOnly ? undefined : true\n  }, attributes, {\n    // COMPAT: Certain browsers don't support the `beforeinput` event, so we'd\n    // have to use hacks to make these replacement-based features work.\n    // For SSR situations HAS_BEFORE_INPUT_SUPPORT is false and results in prop\n    // mismatch warning app moves to browser. Pass-through consumer props when\n    // not CAN_USE_DOM (SSR) and default to falsy value\n    spellCheck: HAS_BEFORE_INPUT_SUPPORT || !CAN_USE_DOM ? attributes.spellCheck : false,\n    autoCorrect: HAS_BEFORE_INPUT_SUPPORT || !CAN_USE_DOM ? attributes.autoCorrect : 'false',\n    autoCapitalize: HAS_BEFORE_INPUT_SUPPORT || !CAN_USE_DOM ? attributes.autoCapitalize : 'false',\n    \"data-slate-editor\": true,\n    \"data-slate-node\": \"value\",\n    // explicitly set this\n    contentEditable: !readOnly,\n    // in some cases, a decoration needs access to the range / selection to decorate a text node,\n    // then you will select the whole text node when you select part the of text\n    // this magic zIndex=\"-1\" will fix it\n    zindex: -1,\n    suppressContentEditableWarning: true,\n    ref: callbackRef,\n    style: _objectSpread$1(_objectSpread$1({}, disableDefaultStyles ? {} : _objectSpread$1({\n      // Allow positioning relative to the editable element.\n      position: 'relative',\n      // Preserve adjacent whitespace and new lines.\n      whiteSpace: 'pre-wrap',\n      // Allow words to break if they are too long.\n      wordWrap: 'break-word'\n    }, placeholderHeight ? {\n      minHeight: placeholderHeight\n    } : {})), userStyle),\n    onBeforeInput: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n      // fall back to React's leaky polyfill instead just for it. It\n      // only works for the `insertText` input type.\n      if (!HAS_BEFORE_INPUT_SUPPORT && !readOnly && !isEventHandled(event, attributes.onBeforeInput) && ReactEditor.hasSelectableTarget(editor, event.target)) {\n        event.preventDefault();\n\n        if (!ReactEditor.isComposing(editor)) {\n          var _text2 = event.data;\n          slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, _text2);\n        }\n      }\n    }, [attributes.onBeforeInput, editor, readOnly]),\n    onInput: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (isEventHandled(event, attributes.onInput)) {\n        return;\n      }\n\n      if (androidInputManagerRef.current) {\n        androidInputManagerRef.current.handleInput();\n        return;\n      } // Flush native operations, as native events will have propogated\n      // and we can correctly compare DOM text values in components\n      // to stop rendering, so that browser functions like autocorrect\n      // and spellcheck work as expected.\n\n\n      for (var op of deferredOperations.current) {\n        op();\n      }\n\n      deferredOperations.current = [];\n    }, [attributes.onInput]),\n    onBlur: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (readOnly || state.isUpdatingSelection || !ReactEditor.hasSelectableTarget(editor, event.target) || isEventHandled(event, attributes.onBlur)) {\n        return;\n      } // COMPAT: If the current `activeElement` is still the previous\n      // one, this is due to the window being blurred when the tab\n      // itself becomes unfocused, so we want to abort early to allow to\n      // editor to stay focused when the tab becomes focused again.\n\n\n      var root = ReactEditor.findDocumentOrShadowRoot(editor);\n\n      if (state.latestElement === root.activeElement) {\n        return;\n      }\n\n      var {\n        relatedTarget\n      } = event;\n      var el = ReactEditor.toDOMNode(editor, editor); // COMPAT: The event should be ignored if the focus is returning\n      // to the editor from an embedded editable element (eg. an <input>\n      // element inside a void node).\n\n      if (relatedTarget === el) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving from\n      // the editor to inside a void node's spacer element.\n\n\n      if (isDOMElement(relatedTarget) && relatedTarget.hasAttribute('data-slate-spacer')) {\n        return;\n      } // COMPAT: The event should be ignored if the focus is moving to a\n      // non- editable section of an element that isn't a void node (eg.\n      // a list item of the check list example).\n\n\n      if (relatedTarget != null && isDOMNode(relatedTarget) && ReactEditor.hasDOMNode(editor, relatedTarget)) {\n        var node = ReactEditor.toSlateNode(editor, relatedTarget);\n\n        if (slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && !editor.isVoid(node)) {\n          return;\n        }\n      } // COMPAT: Safari doesn't always remove the selection even if the content-\n      // editable element no longer has focus. Refer to:\n      // https://stackoverflow.com/questions/12353247/force-contenteditable-div-to-stop-accepting-input-after-it-loses-focus-under-web\n\n\n      if (IS_WEBKIT) {\n        var domSelection = root.getSelection();\n        domSelection === null || domSelection === void 0 ? void 0 : domSelection.removeAllRanges();\n      }\n\n      IS_FOCUSED.delete(editor);\n    }, [readOnly, state.isUpdatingSelection, state.latestElement, editor, attributes.onBlur]),\n    onClick: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasTarget(editor, event.target) && !isEventHandled(event, attributes.onClick) && isDOMNode(event.target)) {\n        var node = ReactEditor.toSlateNode(editor, event.target);\n        var path = ReactEditor.findPath(editor, node); // At this time, the Slate document may be arbitrarily different,\n        // because onClick handlers can change the document before we get here.\n        // Therefore we must check that this path actually exists,\n        // and that it still refers to the same node.\n\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Editor.hasPath(editor, path) || slate__WEBPACK_IMPORTED_MODULE_7__.Node.get(editor, path) !== node) {\n          return;\n        }\n\n        if (event.detail === TRIPLE_CLICK && path.length >= 1) {\n          var blockPath = path;\n\n          if (!(slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(editor, node))) {\n            var _block$;\n\n            var block = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.above(editor, {\n              match: n => slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(editor, n),\n              at: path\n            });\n            blockPath = (_block$ = block === null || block === void 0 ? void 0 : block[1]) !== null && _block$ !== void 0 ? _block$ : path.slice(0, 1);\n          }\n\n          var range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, blockPath);\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n          return;\n        }\n\n        if (readOnly) {\n          return;\n        }\n\n        var _start = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.start(editor, path);\n\n        var end = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.end(editor, path);\n        var startVoid = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n          at: _start\n        });\n        var endVoid = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n          at: end\n        });\n\n        if (startVoid && endVoid && slate__WEBPACK_IMPORTED_MODULE_7__.Path.equals(startVoid[1], endVoid[1])) {\n          var _range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, _start);\n\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, _range);\n        }\n      }\n    }, [editor, attributes.onClick, readOnly]),\n    onCompositionEnd: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasSelectableTarget(editor, event.target)) {\n        var _androidInputManagerR3;\n\n        if (ReactEditor.isComposing(editor)) {\n          setIsComposing(false);\n          IS_COMPOSING.set(editor, false);\n        }\n\n        (_androidInputManagerR3 = androidInputManagerRef.current) === null || _androidInputManagerR3 === void 0 ? void 0 : _androidInputManagerR3.handleCompositionEnd(event);\n\n        if (isEventHandled(event, attributes.onCompositionEnd) || IS_ANDROID) {\n          return;\n        } // COMPAT: In Chrome, `beforeinput` events for compositions\n        // aren't correct and never fire the \"insertFromComposition\"\n        // type that we need. So instead, insert whenever a composition\n        // ends since it will already have been committed to the DOM.\n\n\n        if (!IS_WEBKIT && !IS_FIREFOX_LEGACY && !IS_IOS && !IS_WECHATBROWSER && !IS_UC_MOBILE && event.data) {\n          var placeholderMarks = EDITOR_TO_PENDING_INSERTION_MARKS.get(editor);\n          EDITOR_TO_PENDING_INSERTION_MARKS.delete(editor); // Ensure we insert text with the marks the user was actually seeing\n\n          if (placeholderMarks !== undefined) {\n            EDITOR_TO_USER_MARKS.set(editor, editor.marks);\n            editor.marks = placeholderMarks;\n          }\n\n          slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertText(editor, event.data);\n          var userMarks = EDITOR_TO_USER_MARKS.get(editor);\n          EDITOR_TO_USER_MARKS.delete(editor);\n\n          if (userMarks !== undefined) {\n            editor.marks = userMarks;\n          }\n        }\n      }\n    }, [attributes.onCompositionEnd, editor]),\n    onCompositionUpdate: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasSelectableTarget(editor, event.target) && !isEventHandled(event, attributes.onCompositionUpdate)) {\n        if (!ReactEditor.isComposing(editor)) {\n          setIsComposing(true);\n          IS_COMPOSING.set(editor, true);\n        }\n      }\n    }, [attributes.onCompositionUpdate, editor]),\n    onCompositionStart: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasSelectableTarget(editor, event.target)) {\n        var _androidInputManagerR4;\n\n        (_androidInputManagerR4 = androidInputManagerRef.current) === null || _androidInputManagerR4 === void 0 ? void 0 : _androidInputManagerR4.handleCompositionStart(event);\n\n        if (isEventHandled(event, attributes.onCompositionStart) || IS_ANDROID) {\n          return;\n        }\n\n        setIsComposing(true);\n        var {\n          selection\n        } = editor;\n\n        if (selection) {\n          if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor);\n            return;\n          }\n\n          var inline = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.above(editor, {\n            match: n => slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isInline(editor, n),\n            mode: 'highest'\n          });\n\n          if (inline) {\n            var [, inlinePath] = inline;\n\n            if (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isEnd(editor, selection.anchor, inlinePath)) {\n              var point = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.after(editor, inlinePath);\n              slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.setSelection(editor, {\n                anchor: point,\n                focus: point\n              });\n            }\n          }\n        }\n      }\n    }, [attributes.onCompositionStart, editor]),\n    onCopy: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasSelectableTarget(editor, event.target) && !isEventHandled(event, attributes.onCopy) && !isDOMEventTargetInput(event)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData, 'copy');\n      }\n    }, [attributes.onCopy, editor]),\n    onCut: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && ReactEditor.hasSelectableTarget(editor, event.target) && !isEventHandled(event, attributes.onCut) && !isDOMEventTargetInput(event)) {\n        event.preventDefault();\n        ReactEditor.setFragmentData(editor, event.clipboardData, 'cut');\n        var {\n          selection\n        } = editor;\n\n        if (selection) {\n          if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor);\n          } else {\n            var node = slate__WEBPACK_IMPORTED_MODULE_7__.Node.parent(editor, selection.anchor.path);\n\n            if (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, node)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.delete(editor);\n            }\n          }\n        }\n      }\n    }, [readOnly, editor, attributes.onCut]),\n    onDragOver: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (ReactEditor.hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDragOver)) {\n        // Only when the target is void, call `preventDefault` to signal\n        // that drops are allowed. Editable content is droppable by\n        // default, and calling `preventDefault` hides the cursor.\n        var node = ReactEditor.toSlateNode(editor, event.target);\n\n        if (slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, node)) {\n          event.preventDefault();\n        }\n      }\n    }, [attributes.onDragOver, editor]),\n    onDragStart: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && ReactEditor.hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDragStart)) {\n        var node = ReactEditor.toSlateNode(editor, event.target);\n        var path = ReactEditor.findPath(editor, node);\n        var voidMatch = slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(node) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, node) || slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n          at: path,\n          voids: true\n        }); // If starting a drag on a void node, make sure it is selected\n        // so that it shows up in the selection's fragment.\n\n        if (voidMatch) {\n          var range = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, path);\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n        }\n\n        state.isDraggingInternally = true;\n        ReactEditor.setFragmentData(editor, event.dataTransfer, 'drag');\n      }\n    }, [readOnly, editor, attributes.onDragStart, state]),\n    onDrop: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && ReactEditor.hasTarget(editor, event.target) && !isEventHandled(event, attributes.onDrop)) {\n        event.preventDefault(); // Keep a reference to the dragged range before updating selection\n\n        var draggedRange = editor.selection; // Find the range where the drop happened\n\n        var range = ReactEditor.findEventRange(editor, event);\n        var data = event.dataTransfer;\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, range);\n\n        if (state.isDraggingInternally) {\n          if (draggedRange && !slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(draggedRange, range) && !slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(editor, {\n            at: range,\n            voids: true\n          })) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.delete(editor, {\n              at: draggedRange\n            });\n          }\n        }\n\n        ReactEditor.insertData(editor, data); // When dragging from another source into the editor, it's possible\n        // that the current editor does not have focus.\n\n        if (!ReactEditor.isFocused(editor)) {\n          ReactEditor.focus(editor);\n        }\n      }\n\n      state.isDraggingInternally = false;\n    }, [readOnly, editor, attributes.onDrop, state]),\n    onDragEnd: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && state.isDraggingInternally && attributes.onDragEnd && ReactEditor.hasTarget(editor, event.target)) {\n        attributes.onDragEnd(event);\n      } // When dropping on a different droppable element than the current editor,\n      // `onDrop` is not called. So we need to clean up in `onDragEnd` instead.\n      // Note: `onDragEnd` is only called when `onDrop` is not called\n\n\n      state.isDraggingInternally = false;\n    }, [readOnly, state, attributes, editor]),\n    onFocus: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && !state.isUpdatingSelection && ReactEditor.hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onFocus)) {\n        var el = ReactEditor.toDOMNode(editor, editor);\n        var root = ReactEditor.findDocumentOrShadowRoot(editor);\n        state.latestElement = root.activeElement; // COMPAT: If the editor has nested editable elements, the focus\n        // can go to them. In Firefox, this must be prevented because it\n        // results in issues with keyboard navigation. (2017/03/30)\n\n        if (IS_FIREFOX && event.target !== el) {\n          el.focus();\n          return;\n        }\n\n        IS_FOCUSED.set(editor, true);\n      }\n    }, [readOnly, state, editor, attributes.onFocus]),\n    onKeyDown: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && ReactEditor.hasEditableTarget(editor, event.target)) {\n        var _androidInputManagerR5;\n\n        (_androidInputManagerR5 = androidInputManagerRef.current) === null || _androidInputManagerR5 === void 0 ? void 0 : _androidInputManagerR5.handleKeyDown(event);\n        var {\n          nativeEvent\n        } = event; // COMPAT: The composition end event isn't fired reliably in all browsers,\n        // so we sometimes might end up stuck in a composition state even though we\n        // aren't composing any more.\n\n        if (ReactEditor.isComposing(editor) && nativeEvent.isComposing === false) {\n          IS_COMPOSING.set(editor, false);\n          setIsComposing(false);\n        }\n\n        if (isEventHandled(event, attributes.onKeyDown) || ReactEditor.isComposing(editor)) {\n          return;\n        }\n\n        var {\n          selection\n        } = editor;\n        var element = editor.children[selection !== null ? selection.focus.path[0] : 0];\n        var isRTL = direction__WEBPACK_IMPORTED_MODULE_0___default()(slate__WEBPACK_IMPORTED_MODULE_7__.Node.string(element)) === 'rtl'; // COMPAT: Since we prevent the default behavior on\n        // `beforeinput` events, the browser doesn't think there's ever\n        // any history stack to undo or redo, so we have to manage these\n        // hotkeys ourselves. (2019/11/06)\n\n        if (Hotkeys.isRedo(nativeEvent)) {\n          event.preventDefault();\n          var maybeHistoryEditor = editor;\n\n          if (typeof maybeHistoryEditor.redo === 'function') {\n            maybeHistoryEditor.redo();\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isUndo(nativeEvent)) {\n          event.preventDefault();\n          var _maybeHistoryEditor = editor;\n\n          if (typeof _maybeHistoryEditor.undo === 'function') {\n            _maybeHistoryEditor.undo();\n          }\n\n          return;\n        } // COMPAT: Certain browsers don't handle the selection updates\n        // properly. In Chrome, the selection isn't properly extended.\n        // And in Firefox, the selection isn't properly collapsed.\n        // (2017/10/17)\n\n\n        if (Hotkeys.isMoveLineBackward(nativeEvent)) {\n          event.preventDefault();\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'line',\n            reverse: true\n          });\n          return;\n        }\n\n        if (Hotkeys.isMoveLineForward(nativeEvent)) {\n          event.preventDefault();\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'line'\n          });\n          return;\n        }\n\n        if (Hotkeys.isExtendLineBackward(nativeEvent)) {\n          event.preventDefault();\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'line',\n            edge: 'focus',\n            reverse: true\n          });\n          return;\n        }\n\n        if (Hotkeys.isExtendLineForward(nativeEvent)) {\n          event.preventDefault();\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'line',\n            edge: 'focus'\n          });\n          return;\n        } // COMPAT: If a void node is selected, or a zero-width text node\n        // adjacent to an inline is selected, we need to handle these\n        // hotkeys manually because browsers won't be able to skip over\n        // the void node with the zero-width space not being an empty\n        // string.\n\n\n        if (Hotkeys.isMoveBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n              reverse: !isRTL\n            });\n          } else {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.collapse(editor, {\n              edge: 'start'\n            });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isMoveForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n              reverse: isRTL\n            });\n          } else {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.collapse(editor, {\n              edge: 'end'\n            });\n          }\n\n          return;\n        }\n\n        if (Hotkeys.isMoveWordBackward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.collapse(editor, {\n              edge: 'focus'\n            });\n          }\n\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'word',\n            reverse: !isRTL\n          });\n          return;\n        }\n\n        if (Hotkeys.isMoveWordForward(nativeEvent)) {\n          event.preventDefault();\n\n          if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.collapse(editor, {\n              edge: 'focus'\n            });\n          }\n\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.move(editor, {\n            unit: 'word',\n            reverse: isRTL\n          });\n          return;\n        } // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n        // fall back to guessing at the input intention for hotkeys.\n        // COMPAT: In iOS, some of these hotkeys are handled in the\n\n\n        if (!HAS_BEFORE_INPUT_SUPPORT) {\n          // We don't have a core behavior for these, but they change the\n          // DOM if we don't prevent them, so we have to.\n          if (Hotkeys.isBold(nativeEvent) || Hotkeys.isItalic(nativeEvent) || Hotkeys.isTransposeCharacter(nativeEvent)) {\n            event.preventDefault();\n            return;\n          }\n\n          if (Hotkeys.isSoftBreak(nativeEvent)) {\n            event.preventDefault();\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertSoftBreak(editor);\n            return;\n          }\n\n          if (Hotkeys.isSplitBlock(nativeEvent)) {\n            event.preventDefault();\n            slate__WEBPACK_IMPORTED_MODULE_7__.Editor.insertBreak(editor);\n            return;\n          }\n\n          if (Hotkeys.isDeleteBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor);\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor);\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteLineBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n                unit: 'line'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteLineForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n                unit: 'line'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteWordBackward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'backward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n                unit: 'word'\n              });\n            }\n\n            return;\n          }\n\n          if (Hotkeys.isDeleteWordForward(nativeEvent)) {\n            event.preventDefault();\n\n            if (selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isExpanded(selection)) {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteFragment(editor, {\n                direction: 'forward'\n              });\n            } else {\n              slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteForward(editor, {\n                unit: 'word'\n              });\n            }\n\n            return;\n          }\n        } else {\n          if (IS_CHROME || IS_WEBKIT) {\n            // COMPAT: Chrome and Safari support `beforeinput` event but do not fire\n            // an event when deleting backwards in a selected void inline node\n            if (selection && (Hotkeys.isDeleteBackward(nativeEvent) || Hotkeys.isDeleteForward(nativeEvent)) && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(selection)) {\n              var currentNode = slate__WEBPACK_IMPORTED_MODULE_7__.Node.parent(editor, selection.anchor.path);\n\n              if (slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(currentNode) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isVoid(editor, currentNode) && (slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isInline(editor, currentNode) || slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(editor, currentNode))) {\n                event.preventDefault();\n                slate__WEBPACK_IMPORTED_MODULE_7__.Editor.deleteBackward(editor, {\n                  unit: 'block'\n                });\n                return;\n              }\n            }\n          }\n        }\n      }\n    }, [readOnly, editor, attributes.onKeyDown]),\n    onPaste: (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(event => {\n      if (!readOnly && ReactEditor.hasEditableTarget(editor, event.target) && !isEventHandled(event, attributes.onPaste)) {\n        // COMPAT: Certain browsers don't support the `beforeinput` event, so we\n        // fall back to React's `onPaste` here instead.\n        // COMPAT: Firefox, Chrome and Safari don't emit `beforeinput` events\n        // when \"paste without formatting\" is used, so fallback. (2020/02/20)\n        // COMPAT: Safari InputEvents generated by pasting won't include\n        // application/x-slate-fragment items, so use the\n        // ClipboardEvent here. (2023/03/15)\n        if (!HAS_BEFORE_INPUT_SUPPORT || isPlainTextOnlyPaste(event.nativeEvent) || IS_WEBKIT) {\n          event.preventDefault();\n          ReactEditor.insertData(editor, event.clipboardData);\n        }\n      }\n    }, [readOnly, editor, attributes.onPaste])\n  }), /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(Children, {\n    decorations: decorations,\n    node: editor,\n    renderElement: renderElement,\n    renderPlaceholder: renderPlaceholder,\n    renderLeaf: renderLeaf,\n    selection: editor.selection\n  })))));\n};\n/**\r\n * The default placeholder element\r\n */\n\nvar DefaultPlaceholder = _ref => {\n  var {\n    attributes,\n    children\n  } = _ref;\n  return (\n    /*#__PURE__*/\n    // COMPAT: Artificially add a line-break to the end on the placeholder element\n    // to prevent Android IMEs to pick up its content in autocorrect and to auto-capitalize the first letter\n    react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"span\", Object.assign({}, attributes), children, IS_ANDROID && /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(\"br\", null))\n  );\n};\n/**\r\n * A default memoized decorate function.\r\n */\n\nvar defaultDecorate = () => [];\n/**\r\n * A default implement to scroll dom range into view.\r\n */\n\nvar defaultScrollSelectionIntoView = (editor, domRange) => {\n  // This was affecting the selection of multiple blocks and dragging behavior,\n  // so enabled only if the selection has been collapsed.\n  if (domRange.getBoundingClientRect && (!editor.selection || editor.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(editor.selection))) {\n    var leafEl = domRange.startContainer.parentElement;\n    leafEl.getBoundingClientRect = domRange.getBoundingClientRect.bind(domRange);\n    (0,scroll_into_view_if_needed__WEBPACK_IMPORTED_MODULE_8__[\"default\"])(leafEl, {\n      scrollMode: 'if-needed'\n    }); // @ts-expect-error an unorthodox delete D:\n\n    delete leafEl.getBoundingClientRect;\n  }\n};\n/**\r\n * Check if an event is overrided by a handler.\r\n */\n\n\nvar isEventHandled = (event, handler) => {\n  if (!handler) {\n    return false;\n  } // The custom event handler may return a boolean to specify whether the event\n  // shall be treated as being handled or not.\n\n\n  var shouldTreatEventAsHandled = handler(event);\n\n  if (shouldTreatEventAsHandled != null) {\n    return shouldTreatEventAsHandled;\n  }\n\n  return event.isDefaultPrevented() || event.isPropagationStopped();\n};\n/**\r\n * Check if the event's target is an input element\r\n */\n\nvar isDOMEventTargetInput = event => {\n  return isDOMNode(event.target) && (event.target instanceof HTMLInputElement || event.target instanceof HTMLTextAreaElement);\n};\n/**\r\n * Check if a DOM event is overrided by a handler.\r\n */\n\nvar isDOMEventHandled = (event, handler) => {\n  if (!handler) {\n    return false;\n  } // The custom event handler may return a boolean to specify whether the event\n  // shall be treated as being handled or not.\n\n\n  var shouldTreatEventAsHandled = handler(event);\n\n  if (shouldTreatEventAsHandled != null) {\n    return shouldTreatEventAsHandled;\n  }\n\n  return event.defaultPrevented;\n};\n\n/**\r\n * A React context for sharing the `focused` state of the editor.\r\n */\n\nvar FocusedContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)(false);\n/**\r\n * Get the current `focused` state of the editor.\r\n */\n\nvar useFocused = () => {\n  return (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(FocusedContext);\n};\n\nfunction isError(error) {\n  return error instanceof Error;\n}\n/**\r\n * A React context for sharing the editor selector context in a way to control rerenders\r\n */\n\n\nvar SlateSelectorContext = /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_3__.createContext)({});\n\nvar refEquality = (a, b) => a === b;\n/**\r\n * use redux style selectors to prevent rerendering on every keystroke.\r\n * Bear in mind rerendering can only prevented if the returned value is a value type or for reference types (e.g. objects and arrays) add a custom equality function.\r\n *\r\n * Example:\r\n * ```\r\n *  const isSelectionActive = useSlateSelector(editor => Boolean(editor.selection));\r\n * ```\r\n */\n\n\nfunction useSlateSelector(selector) {\n  var equalityFn = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : refEquality;\n  var [, forceRender] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useReducer)(s => s + 1, 0);\n  var context = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(SlateSelectorContext);\n\n  if (!context) {\n    throw new Error(\"The `useSlateSelector` hook must be used inside the <Slate> component's context.\");\n  }\n\n  var {\n    getSlate,\n    addEventListener\n  } = context;\n  var latestSubscriptionCallbackError = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)();\n  var latestSelector = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(() => null);\n  var latestSelectedState = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)(null);\n  var selectedState;\n\n  try {\n    if (selector !== latestSelector.current || latestSubscriptionCallbackError.current) {\n      selectedState = selector(getSlate());\n    } else {\n      selectedState = latestSelectedState.current;\n    }\n  } catch (err) {\n    if (latestSubscriptionCallbackError.current && isError(err)) {\n      err.message += \"\\nThe error may be correlated with this previous error:\\n\".concat(latestSubscriptionCallbackError.current.stack, \"\\n\\n\");\n    }\n\n    throw err;\n  }\n\n  useIsomorphicLayoutEffect(() => {\n    latestSelector.current = selector;\n    latestSelectedState.current = selectedState;\n    latestSubscriptionCallbackError.current = undefined;\n  });\n  useIsomorphicLayoutEffect(() => {\n    function checkForUpdates() {\n      try {\n        var newSelectedState = latestSelector.current(getSlate());\n\n        if (equalityFn(newSelectedState, latestSelectedState.current)) {\n          return;\n        }\n\n        latestSelectedState.current = newSelectedState;\n      } catch (err) {\n        // we ignore all errors here, since when the component\n        // is re-rendered, the selectors are called again, and\n        // will throw again, if neither props nor store state\n        // changed\n        latestSubscriptionCallbackError.current = err;\n      }\n\n      forceRender();\n    }\n\n    var unsubscribe = addEventListener(checkForUpdates);\n    checkForUpdates();\n    return () => unsubscribe();\n  }, // don't rerender on equalityFn change since we want to be able to define it inline\n  [addEventListener, getSlate]);\n  return selectedState;\n}\n/**\r\n * Create selector context with editor updating on every editor change\r\n */\n\nfunction useSelectorContext(editor) {\n  var eventListeners = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)([]).current;\n  var slateRef = (0,react__WEBPACK_IMPORTED_MODULE_3__.useRef)({\n    editor\n  }).current;\n  var onChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(editor => {\n    slateRef.editor = editor;\n    eventListeners.forEach(listener => listener(editor));\n  }, [eventListeners, slateRef]);\n  var selectorContext = (0,react__WEBPACK_IMPORTED_MODULE_3__.useMemo)(() => {\n    return {\n      getSlate: () => slateRef.editor,\n      addEventListener: callback => {\n        eventListeners.push(callback);\n        return () => {\n          eventListeners.splice(eventListeners.indexOf(callback), 1);\n        };\n      }\n    };\n  }, [eventListeners, slateRef]);\n  return {\n    selectorContext,\n    onChange\n  };\n}\n\nvar _excluded = [\"editor\", \"children\", \"onChange\", \"initialValue\"];\n/**\r\n * A wrapper around the provider to handle `onChange` events, because the editor\r\n * is a mutable singleton so it won't ever register as \"changed\" otherwise.\r\n */\n\nvar Slate = props => {\n  var {\n    editor,\n    children,\n    onChange,\n    initialValue\n  } = props,\n      rest = _objectWithoutProperties(props, _excluded);\n\n  var [context, setContext] = react__WEBPACK_IMPORTED_MODULE_3___default().useState(() => {\n    if (!slate__WEBPACK_IMPORTED_MODULE_7__.Node.isNodeList(initialValue)) {\n      throw new Error(\"[Slate] initialValue is invalid! Expected a list of elements but got: \".concat(slate__WEBPACK_IMPORTED_MODULE_7__.Scrubber.stringify(initialValue)));\n    }\n\n    if (!slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isEditor(editor)) {\n      throw new Error(\"[Slate] editor is invalid! You passed: \".concat(slate__WEBPACK_IMPORTED_MODULE_7__.Scrubber.stringify(editor)));\n    }\n\n    editor.children = initialValue;\n    Object.assign(editor, rest);\n    return {\n      v: 0,\n      editor\n    };\n  });\n  var {\n    selectorContext,\n    onChange: handleSelectorChange\n  } = useSelectorContext(editor);\n  var onContextChange = (0,react__WEBPACK_IMPORTED_MODULE_3__.useCallback)(() => {\n    if (onChange) {\n      onChange(editor.children);\n    }\n\n    setContext(prevContext => ({\n      v: prevContext.v + 1,\n      editor\n    }));\n    handleSelectorChange(editor);\n  }, [editor, handleSelectorChange, onChange]);\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    EDITOR_TO_ON_CHANGE.set(editor, onContextChange);\n    return () => {\n      EDITOR_TO_ON_CHANGE.set(editor, () => {});\n    };\n  }, [editor, onContextChange]);\n  var [isFocused, setIsFocused] = (0,react__WEBPACK_IMPORTED_MODULE_3__.useState)(ReactEditor.isFocused(editor));\n  (0,react__WEBPACK_IMPORTED_MODULE_3__.useEffect)(() => {\n    setIsFocused(ReactEditor.isFocused(editor));\n  }, [editor]);\n  useIsomorphicLayoutEffect(() => {\n    var fn = () => setIsFocused(ReactEditor.isFocused(editor));\n\n    if (REACT_MAJOR_VERSION >= 17) {\n      // In React >= 17 onFocus and onBlur listen to the focusin and focusout events during the bubbling phase.\n      // Therefore in order for <Editable />'s handlers to run first, which is necessary for ReactEditor.isFocused(editor)\n      // to return the correct value, we have to listen to the focusin and focusout events without useCapture here.\n      document.addEventListener('focusin', fn);\n      document.addEventListener('focusout', fn);\n      return () => {\n        document.removeEventListener('focusin', fn);\n        document.removeEventListener('focusout', fn);\n      };\n    } else {\n      document.addEventListener('focus', fn, true);\n      document.addEventListener('blur', fn, true);\n      return () => {\n        document.removeEventListener('focus', fn, true);\n        document.removeEventListener('blur', fn, true);\n      };\n    }\n  }, []);\n  return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(SlateSelectorContext.Provider, {\n    value: selectorContext\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(SlateContext.Provider, {\n    value: context\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(EditorContext.Provider, {\n    value: context.editor\n  }, /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_3___default().createElement(FocusedContext.Provider, {\n    value: isFocused\n  }, children))));\n};\n\n/**\r\n * Get the current editor object from the React context.\r\n * @deprecated Use useSlateStatic instead.\r\n */\n\nvar useEditor = () => {\n  var editor = (0,react__WEBPACK_IMPORTED_MODULE_3__.useContext)(EditorContext);\n\n  if (!editor) {\n    throw new Error(\"The `useEditor` hook must be used inside the <Slate> component's context.\");\n  }\n\n  return editor;\n};\n\n/**\r\n * Get the current slate selection.\r\n * Only triggers a rerender when the selection actually changes\r\n */\n\nvar useSlateSelection = () => {\n  return useSlateSelector(editor => editor.selection, isSelectionEqual);\n};\n\nvar isSelectionEqual = (a, b) => {\n  if (!a && !b) return true;\n  if (!a || !b) return false;\n  return slate__WEBPACK_IMPORTED_MODULE_7__.Range.equals(a, b);\n};\n\n/**\r\n * Utilities for single-line deletion\r\n */\n\nvar doRectsIntersect = (rect, compareRect) => {\n  var middle = (compareRect.top + compareRect.bottom) / 2;\n  return rect.top <= middle && rect.bottom >= middle;\n};\n\nvar areRangesSameLine = (editor, range1, range2) => {\n  var rect1 = ReactEditor.toDOMRange(editor, range1).getBoundingClientRect();\n  var rect2 = ReactEditor.toDOMRange(editor, range2).getBoundingClientRect();\n  return doRectsIntersect(rect1, rect2) && doRectsIntersect(rect2, rect1);\n};\n/**\r\n * A helper utility that returns the end portion of a `Range`\r\n * which is located on a single line.\r\n *\r\n * @param {Editor} editor The editor object to compare against\r\n * @param {Range} parentRange The parent range to compare against\r\n * @returns {Range} A valid portion of the parentRange which is one a single line\r\n */\n\n\nvar findCurrentLineRange = (editor, parentRange) => {\n  var parentRangeBoundary = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, slate__WEBPACK_IMPORTED_MODULE_7__.Range.end(parentRange));\n  var positions = Array.from(slate__WEBPACK_IMPORTED_MODULE_7__.Editor.positions(editor, {\n    at: parentRange\n  }));\n  var left = 0;\n  var right = positions.length;\n  var middle = Math.floor(right / 2);\n\n  if (areRangesSameLine(editor, slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, positions[left]), parentRangeBoundary)) {\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, positions[left], parentRangeBoundary);\n  }\n\n  if (positions.length < 2) {\n    return slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, positions[positions.length - 1], parentRangeBoundary);\n  }\n\n  while (middle !== positions.length && middle !== left) {\n    if (areRangesSameLine(editor, slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, positions[middle]), parentRangeBoundary)) {\n      right = middle;\n    } else {\n      left = middle;\n    }\n\n    middle = Math.floor((left + right) / 2);\n  }\n\n  return slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(editor, positions[right], parentRangeBoundary);\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n/**\r\n * `withReact` adds React and DOM specific behaviors to the editor.\r\n *\r\n * If you are using TypeScript, you must extend Slate's CustomTypes to use\r\n * this plugin.\r\n *\r\n * See https://docs.slatejs.org/concepts/11-typescript to learn how.\r\n */\n\nvar withReact = function withReact(editor) {\n  var clipboardFormatKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'x-slate-fragment';\n  var e = editor;\n  var {\n    apply,\n    onChange,\n    deleteBackward,\n    addMark,\n    removeMark\n  } = e; // The WeakMap which maps a key to a specific HTMLElement must be scoped to the editor instance to\n  // avoid collisions between editors in the DOM that share the same value.\n\n  EDITOR_TO_KEY_TO_ELEMENT.set(e, new WeakMap());\n\n  e.addMark = (key, value) => {\n    var _EDITOR_TO_SCHEDULE_F, _EDITOR_TO_PENDING_DI;\n\n    (_EDITOR_TO_SCHEDULE_F = EDITOR_TO_SCHEDULE_FLUSH.get(e)) === null || _EDITOR_TO_SCHEDULE_F === void 0 ? void 0 : _EDITOR_TO_SCHEDULE_F();\n\n    if (!EDITOR_TO_PENDING_INSERTION_MARKS.get(e) && (_EDITOR_TO_PENDING_DI = EDITOR_TO_PENDING_DIFFS.get(e)) !== null && _EDITOR_TO_PENDING_DI !== void 0 && _EDITOR_TO_PENDING_DI.length) {\n      // Ensure the current pending diffs originating from changes before the addMark\n      // are applied with the current formatting\n      EDITOR_TO_PENDING_INSERTION_MARKS.set(e, null);\n    }\n\n    EDITOR_TO_USER_MARKS.delete(e);\n    addMark(key, value);\n  };\n\n  e.removeMark = key => {\n    var _EDITOR_TO_PENDING_DI2;\n\n    if (!EDITOR_TO_PENDING_INSERTION_MARKS.get(e) && (_EDITOR_TO_PENDING_DI2 = EDITOR_TO_PENDING_DIFFS.get(e)) !== null && _EDITOR_TO_PENDING_DI2 !== void 0 && _EDITOR_TO_PENDING_DI2.length) {\n      // Ensure the current pending diffs originating from changes before the addMark\n      // are applied with the current formatting\n      EDITOR_TO_PENDING_INSERTION_MARKS.set(e, null);\n    }\n\n    EDITOR_TO_USER_MARKS.delete(e);\n    removeMark(key);\n  };\n\n  e.deleteBackward = unit => {\n    if (unit !== 'line') {\n      return deleteBackward(unit);\n    }\n\n    if (e.selection && slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(e.selection)) {\n      var parentBlockEntry = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.above(e, {\n        match: n => slate__WEBPACK_IMPORTED_MODULE_7__.Element.isElement(n) && slate__WEBPACK_IMPORTED_MODULE_7__.Editor.isBlock(e, n),\n        at: e.selection\n      });\n\n      if (parentBlockEntry) {\n        var [, parentBlockPath] = parentBlockEntry;\n        var parentElementRange = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.range(e, parentBlockPath, e.selection.anchor);\n        var currentLineRange = findCurrentLineRange(e, parentElementRange);\n\n        if (!slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(currentLineRange)) {\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.delete(e, {\n            at: currentLineRange\n          });\n        }\n      }\n    }\n  }; // This attempts to reset the NODE_TO_KEY entry to the correct value\n  // as apply() changes the object reference and hence invalidates the NODE_TO_KEY entry\n\n\n  e.apply = op => {\n    var matches = [];\n    var pendingDiffs = EDITOR_TO_PENDING_DIFFS.get(e);\n\n    if (pendingDiffs !== null && pendingDiffs !== void 0 && pendingDiffs.length) {\n      var transformed = pendingDiffs.map(textDiff => transformTextDiff(textDiff, op)).filter(Boolean);\n      EDITOR_TO_PENDING_DIFFS.set(e, transformed);\n    }\n\n    var pendingSelection = EDITOR_TO_PENDING_SELECTION.get(e);\n\n    if (pendingSelection) {\n      EDITOR_TO_PENDING_SELECTION.set(e, transformPendingRange(e, pendingSelection, op));\n    }\n\n    var pendingAction = EDITOR_TO_PENDING_ACTION.get(e);\n\n    if (pendingAction !== null && pendingAction !== void 0 && pendingAction.at) {\n      var at = slate__WEBPACK_IMPORTED_MODULE_7__.Point.isPoint(pendingAction === null || pendingAction === void 0 ? void 0 : pendingAction.at) ? transformPendingPoint(e, pendingAction.at, op) : transformPendingRange(e, pendingAction.at, op);\n      EDITOR_TO_PENDING_ACTION.set(e, at ? _objectSpread(_objectSpread({}, pendingAction), {}, {\n        at\n      }) : null);\n    }\n\n    switch (op.type) {\n      case 'insert_text':\n      case 'remove_text':\n      case 'set_node':\n      case 'split_node':\n        {\n          matches.push(...getMatches(e, op.path));\n          break;\n        }\n\n      case 'set_selection':\n        {\n          var _EDITOR_TO_USER_SELEC;\n\n          // Selection was manually set, don't restore the user selection after the change.\n          (_EDITOR_TO_USER_SELEC = EDITOR_TO_USER_SELECTION.get(e)) === null || _EDITOR_TO_USER_SELEC === void 0 ? void 0 : _EDITOR_TO_USER_SELEC.unref();\n          EDITOR_TO_USER_SELECTION.delete(e);\n          break;\n        }\n\n      case 'insert_node':\n      case 'remove_node':\n        {\n          matches.push(...getMatches(e, slate__WEBPACK_IMPORTED_MODULE_7__.Path.parent(op.path)));\n          break;\n        }\n\n      case 'merge_node':\n        {\n          var prevPath = slate__WEBPACK_IMPORTED_MODULE_7__.Path.previous(op.path);\n          matches.push(...getMatches(e, prevPath));\n          break;\n        }\n\n      case 'move_node':\n        {\n          var commonPath = slate__WEBPACK_IMPORTED_MODULE_7__.Path.common(slate__WEBPACK_IMPORTED_MODULE_7__.Path.parent(op.path), slate__WEBPACK_IMPORTED_MODULE_7__.Path.parent(op.newPath));\n          matches.push(...getMatches(e, commonPath));\n          break;\n        }\n    }\n\n    apply(op);\n\n    for (var [path, key] of matches) {\n      var [node] = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.node(e, path);\n      NODE_TO_KEY.set(node, key);\n    }\n  };\n\n  e.setFragmentData = data => {\n    var {\n      selection\n    } = e;\n\n    if (!selection) {\n      return;\n    }\n\n    var [start, end] = slate__WEBPACK_IMPORTED_MODULE_7__.Range.edges(selection);\n    var startVoid = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(e, {\n      at: start.path\n    });\n    var endVoid = slate__WEBPACK_IMPORTED_MODULE_7__.Editor.void(e, {\n      at: end.path\n    });\n\n    if (slate__WEBPACK_IMPORTED_MODULE_7__.Range.isCollapsed(selection) && !startVoid) {\n      return;\n    } // Create a fake selection so that we can add a Base64-encoded copy of the\n    // fragment to the HTML, to decode on future pastes.\n\n\n    var domRange = ReactEditor.toDOMRange(e, selection);\n    var contents = domRange.cloneContents();\n    var attach = contents.childNodes[0]; // Make sure attach is non-empty, since empty nodes will not get copied.\n\n    contents.childNodes.forEach(node => {\n      if (node.textContent && node.textContent.trim() !== '') {\n        attach = node;\n      }\n    }); // COMPAT: If the end node is a void node, we need to move the end of the\n    // range from the void node's spacer span, to the end of the void node's\n    // content, since the spacer is before void's content in the DOM.\n\n    if (endVoid) {\n      var [voidNode] = endVoid;\n      var r = domRange.cloneRange();\n      var domNode = ReactEditor.toDOMNode(e, voidNode);\n      r.setEndAfter(domNode);\n      contents = r.cloneContents();\n    } // COMPAT: If the start node is a void node, we need to attach the encoded\n    // fragment to the void node's content node instead of the spacer, because\n    // attaching it to empty `<div>/<span>` nodes will end up having it erased by\n    // most browsers. (2018/04/27)\n\n\n    if (startVoid) {\n      attach = contents.querySelector('[data-slate-spacer]');\n    } // Remove any zero-width space spans from the cloned DOM so that they don't\n    // show up elsewhere when pasted.\n\n\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(zw => {\n      var isNewline = zw.getAttribute('data-slate-zero-width') === 'n';\n      zw.textContent = isNewline ? '\\n' : '';\n    }); // Set a `data-slate-fragment` attribute on a non-empty node, so it shows up\n    // in the HTML, and can be used for intra-Slate pasting. If it's a text\n    // node, wrap it in a `<span>` so we have something to set an attribute on.\n\n    if (isDOMText(attach)) {\n      var span = attach.ownerDocument.createElement('span'); // COMPAT: In Chrome and Safari, if we don't add the `white-space` style\n      // then leading and trailing spaces will be ignored. (2017/09/21)\n\n      span.style.whiteSpace = 'pre';\n      span.appendChild(attach);\n      contents.appendChild(span);\n      attach = span;\n    }\n\n    var fragment = e.getFragment();\n    var string = JSON.stringify(fragment);\n    var encoded = window.btoa(encodeURIComponent(string));\n    attach.setAttribute('data-slate-fragment', encoded);\n    data.setData(\"application/\".concat(clipboardFormatKey), encoded); // Add the content to a <div> so that we can get its inner HTML.\n\n    var div = contents.ownerDocument.createElement('div');\n    div.appendChild(contents);\n    div.setAttribute('hidden', 'true');\n    contents.ownerDocument.body.appendChild(div);\n    data.setData('text/html', div.innerHTML);\n    data.setData('text/plain', getPlainText(div));\n    contents.ownerDocument.body.removeChild(div);\n    return data;\n  };\n\n  e.insertData = data => {\n    if (!e.insertFragmentData(data)) {\n      e.insertTextData(data);\n    }\n  };\n\n  e.insertFragmentData = data => {\n    /**\r\n     * Checking copied fragment from application/x-slate-fragment or data-slate-fragment\r\n     */\n    var fragment = data.getData(\"application/\".concat(clipboardFormatKey)) || getSlateFragmentAttribute(data);\n\n    if (fragment) {\n      var decoded = decodeURIComponent(window.atob(fragment));\n      var parsed = JSON.parse(decoded);\n      e.insertFragment(parsed);\n      return true;\n    }\n\n    return false;\n  };\n\n  e.insertTextData = data => {\n    var text = data.getData('text/plain');\n\n    if (text) {\n      var lines = text.split(/\\r\\n|\\r|\\n/);\n      var split = false;\n\n      for (var line of lines) {\n        if (split) {\n          slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.splitNodes(e, {\n            always: true\n          });\n        }\n\n        e.insertText(line);\n        split = true;\n      }\n\n      return true;\n    }\n\n    return false;\n  };\n\n  e.onChange = options => {\n    // COMPAT: React < 18 doesn't batch `setState` hook calls, which means\n    // that the children and selection can get out of sync for one render\n    // pass. So we have to use this unstable API to ensure it batches them.\n    // (2019/12/03)\n    // https://github.com/facebook/react/issues/14259#issuecomment-439702367\n    var maybeBatchUpdates = REACT_MAJOR_VERSION < 18 ? react_dom__WEBPACK_IMPORTED_MODULE_6__.unstable_batchedUpdates : callback => callback();\n    maybeBatchUpdates(() => {\n      var onContextChange = EDITOR_TO_ON_CHANGE.get(e);\n\n      if (onContextChange) {\n        onContextChange();\n      }\n\n      onChange(options);\n    });\n  };\n\n  return e;\n};\n\nvar getMatches = (e, path) => {\n  var matches = [];\n\n  for (var [n, p] of slate__WEBPACK_IMPORTED_MODULE_7__.Editor.levels(e, {\n    at: path\n  })) {\n    var key = ReactEditor.findKey(e, n);\n    matches.push([p, key]);\n  }\n\n  return matches;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zbGF0ZS1yZWFjdC9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQXFDO0FBQ0U7QUFDQTtBQUMrSDtBQUM5RztBQUM2RDtBQUM1RDtBQUNwQjtBQUNKOztBQUVqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsY0FBYyx1QkFBdUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBLGdCQUFnQiw2QkFBNkI7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBLGlDQUFpQyxvREFBYTtBQUM5QztBQUNBO0FBQ0E7O0FBRUE7QUFDQSxlQUFlLGlEQUFVOztBQUV6QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxtQ0FBbUMsb0RBQWE7QUFDaEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwR0FBMEc7O0FBRTFHO0FBQ0EseUZBQXlGO0FBQ3pGOztBQUVBO0FBQ0EsMklBQTJJOztBQUUzSSwySkFBMko7O0FBRTNKLGdHQUFnRzs7QUFFaEcsNklBQTZJO0FBQzdJO0FBQ0E7O0FBRUEsdUpBQXVKO0FBQ3ZKOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsaUNBQWlDO0FBQ2pDOztBQUVBO0FBQ0E7QUFDQTtBQUNBLDRGQUE0Rjs7QUFFNUYsNkJBQTZCO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07OztBQUdOO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNB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QUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0U7O0FBRXRFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFVBQVUsNkNBQVU7QUFDcEI7QUFDQSxXQUFXO0FBQ1g7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1REFBdUQsOERBQWdDO0FBQ3ZGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsS0FBSztBQUNMOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQSxxQkFBcUIseUNBQU07QUFDM0I7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRW1PO0FBQ25PIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9zbGF0ZS1yZWFjdC9kaXN0L2luZGV4LmVzLmpzPzAzZWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGdldERpcmVjdGlvbiBmcm9tICdkaXJlY3Rpb24nO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7XG5pbXBvcnQgdGhyb3R0bGUgZnJvbSAnbG9kYXNoL3Rocm90dGxlJztcbmltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlTGF5b3V0RWZmZWN0LCB1c2VTdGF0ZSwgbWVtbywgZm9yd2FyZFJlZiwgdXNlQ2FsbGJhY2ssIENvbXBvbmVudCwgdXNlUmVkdWNlciwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBzY3JvbGxJbnRvVmlldyBmcm9tICdzY3JvbGwtaW50by12aWV3LWlmLW5lZWRlZCc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1zLCBFbGVtZW50IGFzIEVsZW1lbnQkMSwgRWRpdG9yLCBTY3J1YmJlciwgUmFuZ2UsIFBhdGgsIFBvaW50LCBOb2RlLCBUZXh0IGFzIFRleHQkMSB9IGZyb20gJ3NsYXRlJztcbmltcG9ydCB7IFJlc2l6ZU9ic2VydmVyIH0gZnJvbSAnQGp1Z2dsZS9yZXNpemUtb2JzZXJ2ZXInO1xuaW1wb3J0IHsgaXNIb3RrZXkgfSBmcm9tICdpcy1ob3RrZXknO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7XG4gIGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9O1xuICB2YXIgdGFyZ2V0ID0ge307XG4gIHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcbiAgdmFyIGtleSwgaTtcblxuICBmb3IgKGkgPSAwOyBpIDwgc291cmNlS2V5cy5sZW5ndGg7IGkrKykge1xuICAgIGtleSA9IHNvdXJjZUtleXNbaV07XG4gICAgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTtcbiAgICB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTtcbiAgdmFyIGtleSwgaTtcblxuICBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICAgIHZhciBzb3VyY2VTeW1ib2xLZXlzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzb3VyY2UpO1xuXG4gICAgZm9yIChpID0gMDsgaSA8IHNvdXJjZVN5bWJvbEtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07XG4gICAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgICAgaWYgKCFPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwoc291cmNlLCBrZXkpKSBjb250aW51ZTtcbiAgICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuLyoqXHJcbiAqIEEgUmVhY3QgY29udGV4dCBmb3Igc2hhcmluZyB0aGUgZWRpdG9yIG9iamVjdC5cclxuICovXG5cbnZhciBFZGl0b3JDb250ZXh0ID0gLyojX19QVVJFX18qL2NyZWF0ZUNvbnRleHQobnVsbCk7XG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IGVkaXRvciBvYmplY3QgZnJvbSB0aGUgUmVhY3QgY29udGV4dC5cclxuICovXG5cbnZhciB1c2VTbGF0ZVN0YXRpYyA9ICgpID0+IHtcbiAgdmFyIGVkaXRvciA9IHVzZUNvbnRleHQoRWRpdG9yQ29udGV4dCk7XG5cbiAgaWYgKCFlZGl0b3IpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYHVzZVNsYXRlU3RhdGljYCBob29rIG11c3QgYmUgdXNlZCBpbnNpZGUgdGhlIDxTbGF0ZT4gY29tcG9uZW50J3MgY29udGV4dC5cIik7XG4gIH1cblxuICByZXR1cm4gZWRpdG9yO1xufTtcblxudmFyIFJFQUNUX01BSk9SX1ZFUlNJT04gPSBwYXJzZUludChSZWFjdC52ZXJzaW9uLnNwbGl0KCcuJylbMF0sIDEwKTtcbnZhciBJU19JT1MgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAvaVBhZHxpUGhvbmV8aVBvZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhd2luZG93Lk1TU3RyZWFtO1xudmFyIElTX0FQUExFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL01hYyBPUyBYLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIElTX0FORFJPSUQgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvQW5kcm9pZC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbnZhciBJU19GSVJFRk9YID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL14oPyEuKlNlYW1vbmtleSkoPz0uKkZpcmVmb3gpLiovaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIElTX1dFQktJVCA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9BcHBsZVdlYktpdCg/IS4qQ2hyb21lKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7IC8vIFwibW9kZXJuXCIgRWRnZSB3YXMgcmVsZWFzZWQgYXQgNzkueFxuXG52YXIgSVNfRURHRV9MRUdBQ1kgPSB0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiAvRWRnZT9cXC8oPzpbMC02XVswLTldfFswLTddWzAtOF0pKD86XFwuKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG52YXIgSVNfQ0hST01FID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL0Nocm9tZS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7IC8vIE5hdGl2ZSBgYmVmb3JlSW5wdXRgIGV2ZW50cyBkb24ndCB3b3JrIHdlbGwgd2l0aCByZWFjdCBvbiBDaHJvbWUgNzVcbi8vIGFuZCBvbGRlciwgQ2hyb21lIDc2KyBjYW4gdXNlIGBiZWZvcmVJbnB1dGAgdGhvdWdoLlxuXG52YXIgSVNfQ0hST01FX0xFR0FDWSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9DaHJvbWU/XFwvKD86WzAtN11bMC01XXxbMC02XVswLTldKSg/OlxcLikvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xudmFyIElTX0FORFJPSURfQ0hST01FX0xFR0FDWSA9IElTX0FORFJPSUQgJiYgdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgL0Nocm9tZT9cXC8oPzpbMC01XT9cXGQpKD86XFwuKS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7IC8vIEZpcmVmb3ggZGlkIG5vdCBzdXBwb3J0IGBiZWZvcmVJbnB1dGAgdW50aWwgYHY4N2AuXG5cbnZhciBJU19GSVJFRk9YX0xFR0FDWSA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC9eKD8hLipTZWFtb25rZXkpKD89LipGaXJlZm94XFwvKD86WzAtN11bMC05XXxbMC04XVswLTZdKSg/OlxcLikpLiovaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOyAvLyBVQyBtb2JpbGUgYnJvd3NlclxuXG52YXIgSVNfVUNfTU9CSUxFID0gdHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgLy4qVUNCcm93c2VyLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOyAvLyBXZWNoYXQgYnJvd3NlciAobm90IGluY2x1ZGluZyBtYWMgd2VjaGF0KVxuXG52YXIgSVNfV0VDSEFUQlJPV1NFUiA9IHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIC8uKldlY2hhdC8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSAmJiAhLy4qTWFjV2VjaGF0Ly50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOyAvLyBhdm9pZCBsb29rYmVoaW5kIChidWdneSBpbiBzYWZhcmkgPCAxNi40KVxuLy8gQ2hlY2sgaWYgRE9NIGlzIGF2YWlsYWJsZSBhcyBSZWFjdCBkb2VzIGludGVybmFsbHkuXG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmFjZWJvb2svcmVhY3QvYmxvYi9tYXN0ZXIvcGFja2FnZXMvc2hhcmVkL0V4ZWN1dGlvbkVudmlyb25tZW50LmpzXG5cbnZhciBDQU5fVVNFX0RPTSA9ICEhKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCAhPT0gJ3VuZGVmaW5lZCcpOyAvLyBDT01QQVQ6IEZpcmVmb3gvRWRnZSBMZWdhY3kgZG9uJ3Qgc3VwcG9ydCB0aGUgYGJlZm9yZWlucHV0YCBldmVudFxuLy8gQ2hyb21lIExlZ2FjeSBkb2Vzbid0IHN1cHBvcnQgYGJlZm9yZWlucHV0YCBjb3JyZWN0bHlcblxudmFyIEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCA9ICghSVNfQ0hST01FX0xFR0FDWSB8fCAhSVNfQU5EUk9JRF9DSFJPTUVfTEVHQUNZKSAmJiAhSVNfRURHRV9MRUdBQ1kgJiYgLy8gZ2xvYmFsVGhpcyBpcyB1bmRlZmluZWQgaW4gb2xkZXIgYnJvd3NlcnNcbnR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyAmJiBnbG9iYWxUaGlzLklucHV0RXZlbnQgJiYgLy8gQHRzLWlnbm9yZSBUaGUgYGdldFRhcmdldFJhbmdlc2AgcHJvcGVydHkgaXNuJ3QgcmVjb2duaXplZC5cbnR5cGVvZiBnbG9iYWxUaGlzLklucHV0RXZlbnQucHJvdG90eXBlLmdldFRhcmdldFJhbmdlcyA9PT0gJ2Z1bmN0aW9uJztcblxuLyoqXHJcbiAqIFR3byB3ZWFrIG1hcHMgdGhhdCBhbGxvdyB1cyByZWJ1aWxkIGEgcGF0aCBnaXZlbiBhIG5vZGUuIFRoZXkgYXJlIHBvcHVsYXRlZFxyXG4gKiBhdCByZW5kZXIgdGltZSBzdWNoIHRoYXQgYWZ0ZXIgYSByZW5kZXIgb2NjdXJzIHdlIGNhbiBhbHdheXMgYmFja3RyYWNrLlxyXG4gKi9cbnZhciBOT0RFX1RPX0lOREVYID0gbmV3IFdlYWtNYXAoKTtcbnZhciBOT0RFX1RPX1BBUkVOVCA9IG5ldyBXZWFrTWFwKCk7XG4vKipcclxuICogV2VhayBtYXBzIHRoYXQgYWxsb3cgdXMgdG8gZ28gYmV0d2VlbiBTbGF0ZSBub2RlcyBhbmQgRE9NIG5vZGVzLiBUaGVzZVxyXG4gKiBhcmUgdXNlZCB0byByZXNvbHZlIERPTSBldmVudC1yZWxhdGVkIGxvZ2ljIGludG8gU2xhdGUgYWN0aW9ucy5cclxuICovXG5cbnZhciBFRElUT1JfVE9fV0lORE9XID0gbmV3IFdlYWtNYXAoKTtcbnZhciBFRElUT1JfVE9fRUxFTUVOVCA9IG5ldyBXZWFrTWFwKCk7XG52YXIgRURJVE9SX1RPX1BMQUNFSE9MREVSX0VMRU1FTlQgPSBuZXcgV2Vha01hcCgpO1xudmFyIEVMRU1FTlRfVE9fTk9ERSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgTk9ERV9UT19FTEVNRU5UID0gbmV3IFdlYWtNYXAoKTtcbnZhciBOT0RFX1RPX0tFWSA9IG5ldyBXZWFrTWFwKCk7XG52YXIgRURJVE9SX1RPX0tFWV9UT19FTEVNRU5UID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxyXG4gKiBXZWFrIG1hcHMgZm9yIHN0b3JpbmcgZWRpdG9yLXJlbGF0ZWQgc3RhdGUuXHJcbiAqL1xuXG52YXIgSVNfUkVBRF9PTkxZID0gbmV3IFdlYWtNYXAoKTtcbnZhciBJU19GT0NVU0VEID0gbmV3IFdlYWtNYXAoKTtcbnZhciBJU19DT01QT1NJTkcgPSBuZXcgV2Vha01hcCgpO1xudmFyIEVESVRPUl9UT19VU0VSX1NFTEVDVElPTiA9IG5ldyBXZWFrTWFwKCk7XG4vKipcclxuICogV2VhayBtYXAgZm9yIGFzc29jaWF0aW5nIHRoZSBjb250ZXh0IGBvbkNoYW5nZWAgY29udGV4dCB3aXRoIHRoZSBwbHVnaW4uXHJcbiAqL1xuXG52YXIgRURJVE9SX1RPX09OX0NIQU5HRSA9IG5ldyBXZWFrTWFwKCk7XG4vKipcclxuICogV2VhayBtYXBzIGZvciBzYXZpbmcgcGVuZGluZyBzdGF0ZSBvbiBjb21wb3NpdGlvbiBzdGFnZS5cclxuICovXG5cbnZhciBFRElUT1JfVE9fU0NIRURVTEVfRkxVU0ggPSBuZXcgV2Vha01hcCgpO1xudmFyIEVESVRPUl9UT19QRU5ESU5HX0lOU0VSVElPTl9NQVJLUyA9IG5ldyBXZWFrTWFwKCk7XG52YXIgRURJVE9SX1RPX1VTRVJfTUFSS1MgPSBuZXcgV2Vha01hcCgpO1xuLyoqXHJcbiAqIEFuZHJvaWQgaW5wdXQgaGFuZGxpbmcgc3BlY2lmaWMgd2Vhay1tYXBzXHJcbiAqL1xuXG52YXIgRURJVE9SX1RPX1BFTkRJTkdfRElGRlMgPSBuZXcgV2Vha01hcCgpO1xudmFyIEVESVRPUl9UT19QRU5ESU5HX0FDVElPTiA9IG5ldyBXZWFrTWFwKCk7XG52YXIgRURJVE9SX1RPX1BFTkRJTkdfU0VMRUNUSU9OID0gbmV3IFdlYWtNYXAoKTtcbnZhciBFRElUT1JfVE9fRk9SQ0VfUkVOREVSID0gbmV3IFdlYWtNYXAoKTtcbi8qKlxyXG4gKiBTeW1ib2xzLlxyXG4gKi9cblxudmFyIFBMQUNFSE9MREVSX1NZTUJPTCA9IFN5bWJvbCgncGxhY2Vob2xkZXInKTtcbnZhciBNQVJLX1BMQUNFSE9MREVSX1NZTUJPTCA9IFN5bWJvbCgnbWFyay1wbGFjZWhvbGRlcicpO1xuXG4vKipcclxuICogVHlwZXMuXHJcbiAqL1xudmFyIERPTVRleHQgPSBnbG9iYWxUaGlzLlRleHQ7XG4vKipcclxuICogUmV0dXJucyB0aGUgaG9zdCB3aW5kb3cgb2YgYSBET00gbm9kZVxyXG4gKi9cblxudmFyIGdldERlZmF1bHRWaWV3ID0gdmFsdWUgPT4ge1xuICByZXR1cm4gdmFsdWUgJiYgdmFsdWUub3duZXJEb2N1bWVudCAmJiB2YWx1ZS5vd25lckRvY3VtZW50LmRlZmF1bHRWaWV3IHx8IG51bGw7XG59O1xuLyoqXHJcbiAqIENoZWNrIGlmIGEgRE9NIG5vZGUgaXMgYSBjb21tZW50IG5vZGUuXHJcbiAqL1xuXG52YXIgaXNET01Db21tZW50ID0gdmFsdWUgPT4ge1xuICByZXR1cm4gaXNET01Ob2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gODtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSBET00gbm9kZSBpcyBhbiBlbGVtZW50IG5vZGUuXHJcbiAqL1xuXG52YXIgaXNET01FbGVtZW50ID0gdmFsdWUgPT4ge1xuICByZXR1cm4gaXNET01Ob2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSB2YWx1ZSBpcyBhIERPTSBub2RlLlxyXG4gKi9cblxudmFyIGlzRE9NTm9kZSA9IHZhbHVlID0+IHtcbiAgdmFyIHdpbmRvdyA9IGdldERlZmF1bHRWaWV3KHZhbHVlKTtcbiAgcmV0dXJuICEhd2luZG93ICYmIHZhbHVlIGluc3RhbmNlb2Ygd2luZG93Lk5vZGU7XG59O1xuLyoqXHJcbiAqIENoZWNrIGlmIGEgdmFsdWUgaXMgYSBET00gc2VsZWN0aW9uLlxyXG4gKi9cblxudmFyIGlzRE9NU2VsZWN0aW9uID0gdmFsdWUgPT4ge1xuICB2YXIgd2luZG93ID0gdmFsdWUgJiYgdmFsdWUuYW5jaG9yTm9kZSAmJiBnZXREZWZhdWx0Vmlldyh2YWx1ZS5hbmNob3JOb2RlKTtcbiAgcmV0dXJuICEhd2luZG93ICYmIHZhbHVlIGluc3RhbmNlb2Ygd2luZG93LlNlbGVjdGlvbjtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSBET00gbm9kZSBpcyBhbiBlbGVtZW50IG5vZGUuXHJcbiAqL1xuXG52YXIgaXNET01UZXh0ID0gdmFsdWUgPT4ge1xuICByZXR1cm4gaXNET01Ob2RlKHZhbHVlKSAmJiB2YWx1ZS5ub2RlVHlwZSA9PT0gMztcbn07XG4vKipcclxuICogQ2hlY2tzIHdoZXRoZXIgYSBwYXN0ZSBldmVudCBpcyBhIHBsYWludGV4dC1vbmx5IGV2ZW50LlxyXG4gKi9cblxudmFyIGlzUGxhaW5UZXh0T25seVBhc3RlID0gZXZlbnQgPT4ge1xuICByZXR1cm4gZXZlbnQuY2xpcGJvYXJkRGF0YSAmJiBldmVudC5jbGlwYm9hcmREYXRhLmdldERhdGEoJ3RleHQvcGxhaW4nKSAhPT0gJycgJiYgZXZlbnQuY2xpcGJvYXJkRGF0YS50eXBlcy5sZW5ndGggPT09IDE7XG59O1xuLyoqXHJcbiAqIE5vcm1hbGl6ZSBhIERPTSBwb2ludCBzbyB0aGF0IGl0IGFsd2F5cyByZWZlcnMgdG8gYSB0ZXh0IG5vZGUuXHJcbiAqL1xuXG52YXIgbm9ybWFsaXplRE9NUG9pbnQgPSBkb21Qb2ludCA9PiB7XG4gIHZhciBbbm9kZSwgb2Zmc2V0XSA9IGRvbVBvaW50OyAvLyBJZiBpdCdzIGFuIGVsZW1lbnQgbm9kZSwgaXRzIG9mZnNldCByZWZlcnMgdG8gdGhlIGluZGV4IG9mIGl0cyBjaGlsZHJlblxuICAvLyBpbmNsdWRpbmcgY29tbWVudCBub2Rlcywgc28gdHJ5IHRvIGZpbmQgdGhlIHJpZ2h0IHRleHQgY2hpbGQgbm9kZS5cblxuICBpZiAoaXNET01FbGVtZW50KG5vZGUpICYmIG5vZGUuY2hpbGROb2Rlcy5sZW5ndGgpIHtcbiAgICB2YXIgaXNMYXN0ID0gb2Zmc2V0ID09PSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgIHZhciBpbmRleCA9IGlzTGFzdCA/IG9mZnNldCAtIDEgOiBvZmZzZXQ7XG4gICAgW25vZGUsIGluZGV4XSA9IGdldEVkaXRhYmxlQ2hpbGRBbmRJbmRleChub2RlLCBpbmRleCwgaXNMYXN0ID8gJ2JhY2t3YXJkJyA6ICdmb3J3YXJkJyk7IC8vIElmIHRoZSBlZGl0YWJsZSBjaGlsZCBmb3VuZCBpcyBpbiBmcm9udCBvZiBpbnB1dCBvZmZzZXQsIHdlIGluc3RlYWQgc2VlayB0byBpdHMgZW5kXG5cbiAgICBpc0xhc3QgPSBpbmRleCA8IG9mZnNldDsgLy8gSWYgdGhlIG5vZGUgaGFzIGNoaWxkcmVuLCB0cmF2ZXJzZSB1bnRpbCB3ZSBoYXZlIGEgbGVhZiBub2RlLiBMZWFmIG5vZGVzXG4gICAgLy8gY2FuIGJlIGVpdGhlciB0ZXh0IG5vZGVzLCBvciBvdGhlciB2b2lkIERPTSBub2Rlcy5cblxuICAgIHdoaWxlIChpc0RPTUVsZW1lbnQobm9kZSkgJiYgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgdmFyIGkgPSBpc0xhc3QgPyBub2RlLmNoaWxkTm9kZXMubGVuZ3RoIC0gMSA6IDA7XG4gICAgICBub2RlID0gZ2V0RWRpdGFibGVDaGlsZChub2RlLCBpLCBpc0xhc3QgPyAnYmFja3dhcmQnIDogJ2ZvcndhcmQnKTtcbiAgICB9IC8vIERldGVybWluZSB0aGUgbmV3IG9mZnNldCBpbnNpZGUgdGhlIHRleHQgbm9kZS5cblxuXG4gICAgb2Zmc2V0ID0gaXNMYXN0ICYmIG5vZGUudGV4dENvbnRlbnQgIT0gbnVsbCA/IG5vZGUudGV4dENvbnRlbnQubGVuZ3RoIDogMDtcbiAgfSAvLyBSZXR1cm4gdGhlIG5vZGUgYW5kIG9mZnNldC5cblxuXG4gIHJldHVybiBbbm9kZSwgb2Zmc2V0XTtcbn07XG4vKipcclxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBhY3RpdmUgZWxlbWVudCBpcyBuZXN0ZWQgd2l0aGluIGEgc2hhZG93Um9vdFxyXG4gKi9cblxudmFyIGhhc1NoYWRvd1Jvb3QgPSBub2RlID0+IHtcbiAgdmFyIHBhcmVudCA9IG5vZGUgJiYgbm9kZS5wYXJlbnROb2RlO1xuXG4gIHdoaWxlIChwYXJlbnQpIHtcbiAgICBpZiAocGFyZW50LnRvU3RyaW5nKCkgPT09ICdbb2JqZWN0IFNoYWRvd1Jvb3RdJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcGFyZW50ID0gcGFyZW50LnBhcmVudE5vZGU7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59O1xuLyoqXHJcbiAqIEdldCB0aGUgbmVhcmVzdCBlZGl0YWJsZSBjaGlsZCBhbmQgaW5kZXggYXQgYGluZGV4YCBpbiBhIGBwYXJlbnRgLCBwcmVmZXJyaW5nXHJcbiAqIGBkaXJlY3Rpb25gLlxyXG4gKi9cblxudmFyIGdldEVkaXRhYmxlQ2hpbGRBbmRJbmRleCA9IChwYXJlbnQsIGluZGV4LCBkaXJlY3Rpb24pID0+IHtcbiAgdmFyIHtcbiAgICBjaGlsZE5vZGVzXG4gIH0gPSBwYXJlbnQ7XG4gIHZhciBjaGlsZCA9IGNoaWxkTm9kZXNbaW5kZXhdO1xuICB2YXIgaSA9IGluZGV4O1xuICB2YXIgdHJpZWRGb3J3YXJkID0gZmFsc2U7XG4gIHZhciB0cmllZEJhY2t3YXJkID0gZmFsc2U7IC8vIFdoaWxlIHRoZSBjaGlsZCBpcyBhIGNvbW1lbnQgbm9kZSwgb3IgYW4gZWxlbWVudCBub2RlIHdpdGggbm8gY2hpbGRyZW4sXG4gIC8vIGtlZXAgaXRlcmF0aW5nIHRvIGZpbmQgYSBzaWJsaW5nIG5vbi12b2lkLCBub24tY29tbWVudCBub2RlLlxuXG4gIHdoaWxlIChpc0RPTUNvbW1lbnQoY2hpbGQpIHx8IGlzRE9NRWxlbWVudChjaGlsZCkgJiYgY2hpbGQuY2hpbGROb2Rlcy5sZW5ndGggPT09IDAgfHwgaXNET01FbGVtZW50KGNoaWxkKSAmJiBjaGlsZC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpID09PSAnZmFsc2UnKSB7XG4gICAgaWYgKHRyaWVkRm9yd2FyZCAmJiB0cmllZEJhY2t3YXJkKSB7XG4gICAgICBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoaSA+PSBjaGlsZE5vZGVzLmxlbmd0aCkge1xuICAgICAgdHJpZWRGb3J3YXJkID0gdHJ1ZTtcbiAgICAgIGkgPSBpbmRleCAtIDE7XG4gICAgICBkaXJlY3Rpb24gPSAnYmFja3dhcmQnO1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKGkgPCAwKSB7XG4gICAgICB0cmllZEJhY2t3YXJkID0gdHJ1ZTtcbiAgICAgIGkgPSBpbmRleCArIDE7XG4gICAgICBkaXJlY3Rpb24gPSAnZm9yd2FyZCc7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjaGlsZCA9IGNoaWxkTm9kZXNbaV07XG4gICAgaW5kZXggPSBpO1xuICAgIGkgKz0gZGlyZWN0aW9uID09PSAnZm9yd2FyZCcgPyAxIDogLTE7XG4gIH1cblxuICByZXR1cm4gW2NoaWxkLCBpbmRleF07XG59O1xuLyoqXHJcbiAqIEdldCB0aGUgbmVhcmVzdCBlZGl0YWJsZSBjaGlsZCBhdCBgaW5kZXhgIGluIGEgYHBhcmVudGAsIHByZWZlcnJpbmdcclxuICogYGRpcmVjdGlvbmAuXHJcbiAqL1xuXG52YXIgZ2V0RWRpdGFibGVDaGlsZCA9IChwYXJlbnQsIGluZGV4LCBkaXJlY3Rpb24pID0+IHtcbiAgdmFyIFtjaGlsZF0gPSBnZXRFZGl0YWJsZUNoaWxkQW5kSW5kZXgocGFyZW50LCBpbmRleCwgZGlyZWN0aW9uKTtcbiAgcmV0dXJuIGNoaWxkO1xufTtcbi8qKlxyXG4gKiBHZXQgYSBwbGFpbnRleHQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbnRlbnQgb2YgYSBub2RlLCBhY2NvdW50aW5nIGZvciBibG9ja1xyXG4gKiBlbGVtZW50cyB3aGljaCBnZXQgYSBuZXdsaW5lIGFwcGVuZGVkLlxyXG4gKlxyXG4gKiBUaGUgZG9tTm9kZSBtdXN0IGJlIGF0dGFjaGVkIHRvIHRoZSBET00uXHJcbiAqL1xuXG52YXIgZ2V0UGxhaW5UZXh0ID0gZG9tTm9kZSA9PiB7XG4gIHZhciB0ZXh0ID0gJyc7XG5cbiAgaWYgKGlzRE9NVGV4dChkb21Ob2RlKSAmJiBkb21Ob2RlLm5vZGVWYWx1ZSkge1xuICAgIHJldHVybiBkb21Ob2RlLm5vZGVWYWx1ZTtcbiAgfVxuXG4gIGlmIChpc0RPTUVsZW1lbnQoZG9tTm9kZSkpIHtcbiAgICBmb3IgKHZhciBjaGlsZE5vZGUgb2YgQXJyYXkuZnJvbShkb21Ob2RlLmNoaWxkTm9kZXMpKSB7XG4gICAgICB0ZXh0ICs9IGdldFBsYWluVGV4dChjaGlsZE5vZGUpO1xuICAgIH1cblxuICAgIHZhciBkaXNwbGF5ID0gZ2V0Q29tcHV0ZWRTdHlsZShkb21Ob2RlKS5nZXRQcm9wZXJ0eVZhbHVlKCdkaXNwbGF5Jyk7XG5cbiAgICBpZiAoZGlzcGxheSA9PT0gJ2Jsb2NrJyB8fCBkaXNwbGF5ID09PSAnbGlzdCcgfHwgZG9tTm9kZS50YWdOYW1lID09PSAnQlInKSB7XG4gICAgICB0ZXh0ICs9ICdcXG4nO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0ZXh0O1xufTtcbi8qKlxyXG4gKiBHZXQgeC1zbGF0ZS1mcmFnbWVudCBhdHRyaWJ1dGUgZnJvbSBkYXRhLXNsYXRlLWZyYWdtZW50XHJcbiAqL1xuXG52YXIgY2F0Y2hTbGF0ZUZyYWdtZW50ID0gL2RhdGEtc2xhdGUtZnJhZ21lbnQ9XCIoLis/KVwiL207XG52YXIgZ2V0U2xhdGVGcmFnbWVudEF0dHJpYnV0ZSA9IGRhdGFUcmFuc2ZlciA9PiB7XG4gIHZhciBodG1sRGF0YSA9IGRhdGFUcmFuc2Zlci5nZXREYXRhKCd0ZXh0L2h0bWwnKTtcbiAgdmFyIFssIGZyYWdtZW50XSA9IGh0bWxEYXRhLm1hdGNoKGNhdGNoU2xhdGVGcmFnbWVudCkgfHwgW107XG4gIHJldHVybiBmcmFnbWVudDtcbn07XG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhIG11dGF0aW9uIG9yaWdpbmF0ZXMgZnJvbSBhIGVkaXRhYmxlIGVsZW1lbnQgaW5zaWRlIHRoZSBlZGl0b3IuXHJcbiAqL1xuXG52YXIgaXNUcmFja2VkTXV0YXRpb24gPSAoZWRpdG9yLCBtdXRhdGlvbiwgYmF0Y2gpID0+IHtcbiAgdmFyIHtcbiAgICB0YXJnZXRcbiAgfSA9IG11dGF0aW9uO1xuXG4gIGlmIChpc0RPTUVsZW1lbnQodGFyZ2V0KSAmJiB0YXJnZXQubWF0Y2hlcygnW2NvbnRlbnRFZGl0YWJsZT1cImZhbHNlXCJdJykpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIge1xuICAgIGRvY3VtZW50XG4gIH0gPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKTtcblxuICBpZiAoZG9jdW1lbnQuY29udGFpbnModGFyZ2V0KSkge1xuICAgIHJldHVybiBSZWFjdEVkaXRvci5oYXNET01Ob2RlKGVkaXRvciwgdGFyZ2V0LCB7XG4gICAgICBlZGl0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHBhcmVudE11dGF0aW9uID0gYmF0Y2guZmluZChfcmVmID0+IHtcbiAgICB2YXIge1xuICAgICAgYWRkZWROb2RlcyxcbiAgICAgIHJlbW92ZWROb2Rlc1xuICAgIH0gPSBfcmVmO1xuXG4gICAgZm9yICh2YXIgbm9kZSBvZiBhZGRlZE5vZGVzKSB7XG4gICAgICBpZiAobm9kZSA9PT0gdGFyZ2V0IHx8IG5vZGUuY29udGFpbnModGFyZ2V0KSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBfbm9kZSBvZiByZW1vdmVkTm9kZXMpIHtcbiAgICAgIGlmIChfbm9kZSA9PT0gdGFyZ2V0IHx8IF9ub2RlLmNvbnRhaW5zKHRhcmdldCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBpZiAoIXBhcmVudE11dGF0aW9uIHx8IHBhcmVudE11dGF0aW9uID09PSBtdXRhdGlvbikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUYXJnZXQgYWRkL3JlbW92ZSBpcyB0cmFja2VkLiBUcmFjayB0aGUgbXV0YXRpb24gaWYgd2UgdHJhY2sgdGhlIHBhcmVudCBtdXRhdGlvbi5cblxuXG4gIHJldHVybiBpc1RyYWNrZWRNdXRhdGlvbihlZGl0b3IsIHBhcmVudE11dGF0aW9uLCBiYXRjaCk7XG59O1xuXG4vKipcclxuICogQW4gYXV0by1pbmNyZW1lbnRpbmcgaWRlbnRpZmllciBmb3Iga2V5cy5cclxuICovXG52YXIgbiA9IDA7XG4vKipcclxuICogQSBjbGFzcyB0aGF0IGtlZXBzIHRyYWNrIG9mIGEga2V5IHN0cmluZy4gV2UgdXNlIGEgZnVsbCBjbGFzcyBoZXJlIGJlY2F1c2Ugd2VcclxuICogd2FudCB0byBiZSBhYmxlIHRvIHVzZSB0aGVtIGFzIGtleXMgaW4gYFdlYWtNYXBgIG9iamVjdHMuXHJcbiAqL1xuXG5jbGFzcyBLZXkge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLmlkID0gXCJcIi5jb25jYXQobisrKTtcbiAgfVxuXG59XG5cbnZhciBSZWFjdEVkaXRvciA9IHtcbiAgYW5kcm9pZFBlbmRpbmdEaWZmczogZWRpdG9yID0+IEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLmdldChlZGl0b3IpLFxuICBhbmRyb2lkU2NoZWR1bGVGbHVzaDogZWRpdG9yID0+IHtcbiAgICB2YXIgX0VESVRPUl9UT19TQ0hFRFVMRV9GO1xuXG4gICAgKF9FRElUT1JfVE9fU0NIRURVTEVfRiA9IEVESVRPUl9UT19TQ0hFRFVMRV9GTFVTSC5nZXQoZWRpdG9yKSkgPT09IG51bGwgfHwgX0VESVRPUl9UT19TQ0hFRFVMRV9GID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfRURJVE9SX1RPX1NDSEVEVUxFX0YoKTtcbiAgfSxcbiAgYmx1cjogZWRpdG9yID0+IHtcbiAgICB2YXIgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpO1xuICAgIHZhciByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcik7XG4gICAgSVNfRk9DVVNFRC5zZXQoZWRpdG9yLCBmYWxzZSk7XG5cbiAgICBpZiAocm9vdC5hY3RpdmVFbGVtZW50ID09PSBlbCkge1xuICAgICAgZWwuYmx1cigpO1xuICAgIH1cbiAgfSxcbiAgZGVzZWxlY3Q6IGVkaXRvciA9PiB7XG4gICAgdmFyIHtcbiAgICAgIHNlbGVjdGlvblxuICAgIH0gPSBlZGl0b3I7XG4gICAgdmFyIHJvb3QgPSBSZWFjdEVkaXRvci5maW5kRG9jdW1lbnRPclNoYWRvd1Jvb3QoZWRpdG9yKTtcbiAgICB2YXIgZG9tU2VsZWN0aW9uID0gcm9vdC5nZXRTZWxlY3Rpb24oKTtcblxuICAgIGlmIChkb21TZWxlY3Rpb24gJiYgZG9tU2VsZWN0aW9uLnJhbmdlQ291bnQgPiAwKSB7XG4gICAgICBkb21TZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgVHJhbnNmb3Jtcy5kZXNlbGVjdChlZGl0b3IpO1xuICAgIH1cbiAgfSxcbiAgZmluZERvY3VtZW50T3JTaGFkb3dSb290OiBlZGl0b3IgPT4ge1xuICAgIHZhciBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcik7XG4gICAgdmFyIHJvb3QgPSBlbC5nZXRSb290Tm9kZSgpO1xuXG4gICAgaWYgKChyb290IGluc3RhbmNlb2YgRG9jdW1lbnQgfHwgcm9vdCBpbnN0YW5jZW9mIFNoYWRvd1Jvb3QpICYmIHJvb3QuZ2V0U2VsZWN0aW9uICE9IG51bGwpIHtcbiAgICAgIHJldHVybiByb290O1xuICAgIH1cblxuICAgIHJldHVybiBlbC5vd25lckRvY3VtZW50O1xuICB9LFxuICBmaW5kRXZlbnRSYW5nZTogKGVkaXRvciwgZXZlbnQpID0+IHtcbiAgICBpZiAoJ25hdGl2ZUV2ZW50JyBpbiBldmVudCkge1xuICAgICAgZXZlbnQgPSBldmVudC5uYXRpdmVFdmVudDtcbiAgICB9XG5cbiAgICB2YXIge1xuICAgICAgY2xpZW50WDogeCxcbiAgICAgIGNsaWVudFk6IHksXG4gICAgICB0YXJnZXRcbiAgICB9ID0gZXZlbnQ7XG5cbiAgICBpZiAoeCA9PSBudWxsIHx8IHkgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSByYW5nZSBmcm9tIGEgRE9NIGV2ZW50OiBcIi5jb25jYXQoZXZlbnQpKTtcbiAgICB9XG5cbiAgICB2YXIgbm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgZXZlbnQudGFyZ2V0KTtcbiAgICB2YXIgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbm9kZSk7IC8vIElmIHRoZSBkcm9wIHRhcmdldCBpcyBpbnNpZGUgYSB2b2lkIG5vZGUsIG1vdmUgaXQgaW50byBlaXRoZXIgdGhlXG4gICAgLy8gbmV4dCBvciBwcmV2aW91cyBub2RlLCBkZXBlbmRpbmcgb24gd2hpY2ggc2lkZSB0aGUgYHhgIGFuZCBgeWBcbiAgICAvLyBjb29yZGluYXRlcyBhcmUgY2xvc2VzdCB0by5cblxuICAgIGlmIChFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgdmFyIHJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgaXNQcmV2ID0gZWRpdG9yLmlzSW5saW5lKG5vZGUpID8geCAtIHJlY3QubGVmdCA8IHJlY3QubGVmdCArIHJlY3Qud2lkdGggLSB4IDogeSAtIHJlY3QudG9wIDwgcmVjdC50b3AgKyByZWN0LmhlaWdodCAtIHk7XG4gICAgICB2YXIgZWRnZSA9IEVkaXRvci5wb2ludChlZGl0b3IsIHBhdGgsIHtcbiAgICAgICAgZWRnZTogaXNQcmV2ID8gJ3N0YXJ0JyA6ICdlbmQnXG4gICAgICB9KTtcbiAgICAgIHZhciBwb2ludCA9IGlzUHJldiA/IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBlZGdlKSA6IEVkaXRvci5hZnRlcihlZGl0b3IsIGVkZ2UpO1xuXG4gICAgICBpZiAocG9pbnQpIHtcbiAgICAgICAgdmFyIF9yYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHBvaW50KTtcblxuICAgICAgICByZXR1cm4gX3JhbmdlO1xuICAgICAgfVxuICAgIH0gLy8gRWxzZSByZXNvbHZlIGEgcmFuZ2UgZnJvbSB0aGUgY2FyZXQgcG9zaXRpb24gd2hlcmUgdGhlIGRyb3Agb2NjdXJlZC5cblxuXG4gICAgdmFyIGRvbVJhbmdlO1xuICAgIHZhciB7XG4gICAgICBkb2N1bWVudFxuICAgIH0gPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKTsgLy8gQ09NUEFUOiBJbiBGaXJlZm94LCBgY2FyZXRSYW5nZUZyb21Qb2ludGAgZG9lc24ndCBleGlzdC4gKDIwMTYvMDcvMjUpXG5cbiAgICBpZiAoZG9jdW1lbnQuY2FyZXRSYW5nZUZyb21Qb2ludCkge1xuICAgICAgZG9tUmFuZ2UgPSBkb2N1bWVudC5jYXJldFJhbmdlRnJvbVBvaW50KHgsIHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcG9zaXRpb24gPSBkb2N1bWVudC5jYXJldFBvc2l0aW9uRnJvbVBvaW50KHgsIHkpO1xuXG4gICAgICBpZiAocG9zaXRpb24pIHtcbiAgICAgICAgZG9tUmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICBkb21SYW5nZS5zZXRTdGFydChwb3NpdGlvbi5vZmZzZXROb2RlLCBwb3NpdGlvbi5vZmZzZXQpO1xuICAgICAgICBkb21SYW5nZS5zZXRFbmQocG9zaXRpb24ub2Zmc2V0Tm9kZSwgcG9zaXRpb24ub2Zmc2V0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWRvbVJhbmdlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gYSBET00gZXZlbnQ6IFwiLmNvbmNhdChldmVudCkpO1xuICAgIH0gLy8gUmVzb2x2ZSBhIFNsYXRlIHJhbmdlIGZyb20gdGhlIERPTSByYW5nZS5cblxuXG4gICAgdmFyIHJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgZG9tUmFuZ2UsIHtcbiAgICAgIGV4YWN0TWF0Y2g6IGZhbHNlLFxuICAgICAgc3VwcHJlc3NUaHJvdzogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4gcmFuZ2U7XG4gIH0sXG4gIGZpbmRLZXk6IChlZGl0b3IsIG5vZGUpID0+IHtcbiAgICB2YXIga2V5ID0gTk9ERV9UT19LRVkuZ2V0KG5vZGUpO1xuXG4gICAgaWYgKCFrZXkpIHtcbiAgICAgIGtleSA9IG5ldyBLZXkoKTtcbiAgICAgIE5PREVfVE9fS0VZLnNldChub2RlLCBrZXkpO1xuICAgIH1cblxuICAgIHJldHVybiBrZXk7XG4gIH0sXG4gIGZpbmRQYXRoOiAoZWRpdG9yLCBub2RlKSA9PiB7XG4gICAgdmFyIHBhdGggPSBbXTtcbiAgICB2YXIgY2hpbGQgPSBub2RlO1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBwYXJlbnQgPSBOT0RFX1RPX1BBUkVOVC5nZXQoY2hpbGQpO1xuXG4gICAgICBpZiAocGFyZW50ID09IG51bGwpIHtcbiAgICAgICAgaWYgKEVkaXRvci5pc0VkaXRvcihjaGlsZCkpIHtcbiAgICAgICAgICByZXR1cm4gcGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgaSA9IE5PREVfVE9fSU5ERVguZ2V0KGNoaWxkKTtcblxuICAgICAgaWYgKGkgPT0gbnVsbCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgcGF0aC51bnNoaWZ0KGkpO1xuICAgICAgY2hpbGQgPSBwYXJlbnQ7XG4gICAgfVxuXG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hYmxlIHRvIGZpbmQgdGhlIHBhdGggZm9yIFNsYXRlIG5vZGU6IFwiLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkobm9kZSkpKTtcbiAgfSxcbiAgZm9jdXM6IGVkaXRvciA9PiB7XG4gICAgdmFyIGVsID0gUmVhY3RFZGl0b3IudG9ET01Ob2RlKGVkaXRvciwgZWRpdG9yKTtcbiAgICB2YXIgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpO1xuICAgIElTX0ZPQ1VTRUQuc2V0KGVkaXRvciwgdHJ1ZSk7XG5cbiAgICBpZiAocm9vdC5hY3RpdmVFbGVtZW50ICE9PSBlbCkge1xuICAgICAgZWwuZm9jdXMoe1xuICAgICAgICBwcmV2ZW50U2Nyb2xsOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIGdldFdpbmRvdzogZWRpdG9yID0+IHtcbiAgICB2YXIgd2luZG93ID0gRURJVE9SX1RPX1dJTkRPVy5nZXQoZWRpdG9yKTtcblxuICAgIGlmICghd2luZG93KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byBmaW5kIGEgaG9zdCB3aW5kb3cgZWxlbWVudCBmb3IgdGhpcyBlZGl0b3InKTtcbiAgICB9XG5cbiAgICByZXR1cm4gd2luZG93O1xuICB9LFxuICBoYXNET01Ob2RlOiBmdW5jdGlvbiBoYXNET01Ob2RlKGVkaXRvciwgdGFyZ2V0KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciB7XG4gICAgICBlZGl0YWJsZSA9IGZhbHNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIGVkaXRvckVsID0gUmVhY3RFZGl0b3IudG9ET01Ob2RlKGVkaXRvciwgZWRpdG9yKTtcbiAgICB2YXIgdGFyZ2V0RWw7IC8vIENPTVBBVDogSW4gRmlyZWZveCwgcmVhZGluZyBgdGFyZ2V0Lm5vZGVUeXBlYCB3aWxsIHRocm93IGFuIGVycm9yIGlmXG4gICAgLy8gdGFyZ2V0IGlzIG9yaWdpbmF0aW5nIGZyb20gYW4gaW50ZXJuYWwgXCJyZXN0cmljdGVkXCIgZWxlbWVudCAoZS5nLiBhXG4gICAgLy8gc3RlcHBlciBhcnJvdyBvbiBhIG51bWJlciBpbnB1dCkuICgyMDE4LzA1LzA0KVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9pYW5zdG9ybXRheWxvci9zbGF0ZS9pc3N1ZXMvMTgxOVxuXG4gICAgdHJ5IHtcbiAgICAgIHRhcmdldEVsID0gaXNET01FbGVtZW50KHRhcmdldCkgPyB0YXJnZXQgOiB0YXJnZXQucGFyZW50RWxlbWVudDtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGlmICghZXJyLm1lc3NhZ2UuaW5jbHVkZXMoJ1Blcm1pc3Npb24gZGVuaWVkIHRvIGFjY2VzcyBwcm9wZXJ0eSBcIm5vZGVUeXBlXCInKSkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXRFbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHJldHVybiB0YXJnZXRFbC5jbG9zZXN0KFwiW2RhdGEtc2xhdGUtZWRpdG9yXVwiKSA9PT0gZWRpdG9yRWwgJiYgKCFlZGl0YWJsZSB8fCB0YXJnZXRFbC5pc0NvbnRlbnRFZGl0YWJsZSA/IHRydWUgOiB0eXBlb2YgdGFyZ2V0RWwuaXNDb250ZW50RWRpdGFibGUgPT09ICdib29sZWFuJyAmJiAvLyBpc0NvbnRlbnRFZGl0YWJsZSBleGlzdHMgb25seSBvbiBIVE1MRWxlbWVudCwgYW5kIG9uIG90aGVyIG5vZGVzIGl0IHdpbGwgYmUgdW5kZWZpbmVkXG4gICAgLy8gdGhpcyBpcyB0aGUgY29yZSBsb2dpYyB0aGF0IGxldHMgeW91IGtub3cgeW91IGdvdCB0aGUgcmlnaHQgZWRpdG9yLnNlbGVjdGlvbiBpbnN0ZWFkIG9mIG51bGwgd2hlbiBlZGl0b3IgaXMgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIihyZWFkT25seSlcbiAgICB0YXJnZXRFbC5jbG9zZXN0KCdbY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIl0nKSA9PT0gZWRpdG9yRWwgfHwgISF0YXJnZXRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtemVyby13aWR0aCcpKTtcbiAgfSxcbiAgaGFzRWRpdGFibGVUYXJnZXQ6IChlZGl0b3IsIHRhcmdldCkgPT4gaXNET01Ob2RlKHRhcmdldCkgJiYgUmVhY3RFZGl0b3IuaGFzRE9NTm9kZShlZGl0b3IsIHRhcmdldCwge1xuICAgIGVkaXRhYmxlOiB0cnVlXG4gIH0pLFxuICBoYXNSYW5nZTogKGVkaXRvciwgcmFuZ2UpID0+IHtcbiAgICB2YXIge1xuICAgICAgYW5jaG9yLFxuICAgICAgZm9jdXNcbiAgICB9ID0gcmFuZ2U7XG4gICAgcmV0dXJuIEVkaXRvci5oYXNQYXRoKGVkaXRvciwgYW5jaG9yLnBhdGgpICYmIEVkaXRvci5oYXNQYXRoKGVkaXRvciwgZm9jdXMucGF0aCk7XG4gIH0sXG4gIGhhc1NlbGVjdGFibGVUYXJnZXQ6IChlZGl0b3IsIHRhcmdldCkgPT4gUmVhY3RFZGl0b3IuaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCB0YXJnZXQpIHx8IFJlYWN0RWRpdG9yLmlzVGFyZ2V0SW5zaWRlTm9uUmVhZG9ubHlWb2lkKGVkaXRvciwgdGFyZ2V0KSxcbiAgaGFzVGFyZ2V0OiAoZWRpdG9yLCB0YXJnZXQpID0+IGlzRE9NTm9kZSh0YXJnZXQpICYmIFJlYWN0RWRpdG9yLmhhc0RPTU5vZGUoZWRpdG9yLCB0YXJnZXQpLFxuICBpbnNlcnREYXRhOiAoZWRpdG9yLCBkYXRhKSA9PiB7XG4gICAgZWRpdG9yLmluc2VydERhdGEoZGF0YSk7XG4gIH0sXG4gIGluc2VydEZyYWdtZW50RGF0YTogKGVkaXRvciwgZGF0YSkgPT4gZWRpdG9yLmluc2VydEZyYWdtZW50RGF0YShkYXRhKSxcbiAgaW5zZXJ0VGV4dERhdGE6IChlZGl0b3IsIGRhdGEpID0+IGVkaXRvci5pbnNlcnRUZXh0RGF0YShkYXRhKSxcbiAgaXNDb21wb3Npbmc6IGVkaXRvciA9PiB7XG4gICAgcmV0dXJuICEhSVNfQ09NUE9TSU5HLmdldChlZGl0b3IpO1xuICB9LFxuICBpc0ZvY3VzZWQ6IGVkaXRvciA9PiAhIUlTX0ZPQ1VTRUQuZ2V0KGVkaXRvciksXG4gIGlzUmVhZE9ubHk6IGVkaXRvciA9PiAhIUlTX1JFQURfT05MWS5nZXQoZWRpdG9yKSxcbiAgaXNUYXJnZXRJbnNpZGVOb25SZWFkb25seVZvaWQ6IChlZGl0b3IsIHRhcmdldCkgPT4ge1xuICAgIGlmIChJU19SRUFEX09OTFkuZ2V0KGVkaXRvcikpIHJldHVybiBmYWxzZTtcbiAgICB2YXIgc2xhdGVOb2RlID0gUmVhY3RFZGl0b3IuaGFzVGFyZ2V0KGVkaXRvciwgdGFyZ2V0KSAmJiBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIHRhcmdldCk7XG4gICAgcmV0dXJuIEVsZW1lbnQkMS5pc0VsZW1lbnQoc2xhdGVOb2RlKSAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgc2xhdGVOb2RlKTtcbiAgfSxcbiAgc2V0RnJhZ21lbnREYXRhOiAoZWRpdG9yLCBkYXRhLCBvcmlnaW5FdmVudCkgPT4gZWRpdG9yLnNldEZyYWdtZW50RGF0YShkYXRhLCBvcmlnaW5FdmVudCksXG4gIHRvRE9NTm9kZTogKGVkaXRvciwgbm9kZSkgPT4ge1xuICAgIHZhciBLRVlfVE9fRUxFTUVOVCA9IEVESVRPUl9UT19LRVlfVE9fRUxFTUVOVC5nZXQoZWRpdG9yKTtcbiAgICB2YXIgZG9tTm9kZSA9IEVkaXRvci5pc0VkaXRvcihub2RlKSA/IEVESVRPUl9UT19FTEVNRU5ULmdldChlZGl0b3IpIDogS0VZX1RPX0VMRU1FTlQgPT09IG51bGwgfHwgS0VZX1RPX0VMRU1FTlQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IEtFWV9UT19FTEVNRU5ULmdldChSZWFjdEVkaXRvci5maW5kS2V5KGVkaXRvciwgbm9kZSkpO1xuXG4gICAgaWYgKCFkb21Ob2RlKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBhIERPTSBub2RlIGZyb20gU2xhdGUgbm9kZTogXCIuY29uY2F0KFNjcnViYmVyLnN0cmluZ2lmeShub2RlKSkpO1xuICAgIH1cblxuICAgIHJldHVybiBkb21Ob2RlO1xuICB9LFxuICB0b0RPTVBvaW50OiAoZWRpdG9yLCBwb2ludCkgPT4ge1xuICAgIHZhciBbbm9kZV0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBvaW50LnBhdGgpO1xuICAgIHZhciBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIG5vZGUpO1xuICAgIHZhciBkb21Qb2ludDsgLy8gSWYgd2UncmUgaW5zaWRlIGEgdm9pZCBub2RlLCBmb3JjZSB0aGUgb2Zmc2V0IHRvIDAsIG90aGVyd2lzZSB0aGUgemVyb1xuICAgIC8vIHdpZHRoIHNwYWNpbmcgY2hhcmFjdGVyIHdpbGwgcmVzdWx0IGluIGFuIGluY29ycmVjdCBvZmZzZXQgb2YgMVxuXG4gICAgaWYgKEVkaXRvci52b2lkKGVkaXRvciwge1xuICAgICAgYXQ6IHBvaW50XG4gICAgfSkpIHtcbiAgICAgIHBvaW50ID0ge1xuICAgICAgICBwYXRoOiBwb2ludC5wYXRoLFxuICAgICAgICBvZmZzZXQ6IDBcbiAgICAgIH07XG4gICAgfSAvLyBGb3IgZWFjaCBsZWFmLCB3ZSBuZWVkIHRvIGlzb2xhdGUgaXRzIGNvbnRlbnQsIHdoaWNoIG1lYW5zIGZpbHRlcmluZ1xuICAgIC8vIHRvIGl0cyBkaXJlY3QgdGV4dCBhbmQgemVyby13aWR0aCBzcGFucy4gKFdlIGhhdmUgdG8gZmlsdGVyIG91dCBhbnlcbiAgICAvLyBvdGhlciBzaWJsaW5ncyB0aGF0IG1heSBoYXZlIGJlZW4gcmVuZGVyZWQgYWxvbmdzaWRlIHRoZW0uKVxuXG5cbiAgICB2YXIgc2VsZWN0b3IgPSBcIltkYXRhLXNsYXRlLXN0cmluZ10sIFtkYXRhLXNsYXRlLXplcm8td2lkdGhdXCI7XG4gICAgdmFyIHRleHRzID0gQXJyYXkuZnJvbShlbC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgdmFyIHN0YXJ0ID0gMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGV4dHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciB0ZXh0ID0gdGV4dHNbaV07XG4gICAgICB2YXIgZG9tTm9kZSA9IHRleHQuY2hpbGROb2Rlc1swXTtcblxuICAgICAgaWYgKGRvbU5vZGUgPT0gbnVsbCB8fCBkb21Ob2RlLnRleHRDb250ZW50ID09IG51bGwpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciB7XG4gICAgICAgIGxlbmd0aFxuICAgICAgfSA9IGRvbU5vZGUudGV4dENvbnRlbnQ7XG4gICAgICB2YXIgYXR0ciA9IHRleHQuZ2V0QXR0cmlidXRlKCdkYXRhLXNsYXRlLWxlbmd0aCcpO1xuICAgICAgdmFyIHRydWVMZW5ndGggPSBhdHRyID09IG51bGwgPyBsZW5ndGggOiBwYXJzZUludChhdHRyLCAxMCk7XG4gICAgICB2YXIgZW5kID0gc3RhcnQgKyB0cnVlTGVuZ3RoOyAvLyBQcmVmZXIgcHV0dGluZyB0aGUgc2VsZWN0aW9uIGluc2lkZSB0aGUgbWFyayBwbGFjZWhvbGRlciB0byBlbnN1cmVcbiAgICAgIC8vIGNvbXBvc2VkIHRleHQgaXMgZGlzcGxheWVkIHdpdGggdGhlIGNvcnJlY3QgbWFya3MuXG5cbiAgICAgIHZhciBuZXh0VGV4dCA9IHRleHRzW2kgKyAxXTtcblxuICAgICAgaWYgKHBvaW50Lm9mZnNldCA9PT0gZW5kICYmIG5leHRUZXh0ICE9PSBudWxsICYmIG5leHRUZXh0ICE9PSB2b2lkIDAgJiYgbmV4dFRleHQuaGFzQXR0cmlidXRlKCdkYXRhLXNsYXRlLW1hcmstcGxhY2Vob2xkZXInKSkge1xuICAgICAgICB2YXIgX25leHRUZXh0JHRleHRDb250ZW50O1xuXG4gICAgICAgIHZhciBkb21UZXh0ID0gbmV4dFRleHQuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgZG9tUG9pbnQgPSBbLy8gQ09NUEFUOiBJZiB3ZSBkb24ndCBleHBsaWNpdHkgc2V0IHRoZSBkb20gcG9pbnQgdG8gYmUgb24gdGhlIGFjdHVhbFxuICAgICAgICAvLyBkb20gdGV4dCBlbGVtZW50LCBjaHJvbWUgd2lsbCBwdXQgdGhlIHNlbGVjdGlvbiBiZWhpbmQgdGhlIGFjdHVhbCBkb21cbiAgICAgICAgLy8gdGV4dCBlbGVtZW50LCBjYXVzaW5nIGRvbVJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpIGNhbGxzIG9uIGEgY29sbGFwc2VkXG4gICAgICAgIC8vIHNlbGVjdGlvbiB0byByZXR1cm4gaW5jb3JyZWN0IHplcm8gdmFsdWVzIChodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MzU0MzgpXG4gICAgICAgIC8vIHdoaWNoIHdpbGwgY2F1c2UgaXNzdWVzIHdoZW4gc2Nyb2xsaW5nIHRvIGl0LlxuICAgICAgICBkb21UZXh0IGluc3RhbmNlb2YgRE9NVGV4dCA/IGRvbVRleHQgOiBuZXh0VGV4dCwgKF9uZXh0VGV4dCR0ZXh0Q29udGVudCA9IG5leHRUZXh0LnRleHRDb250ZW50KSAhPT0gbnVsbCAmJiBfbmV4dFRleHQkdGV4dENvbnRlbnQgIT09IHZvaWQgMCAmJiBfbmV4dFRleHQkdGV4dENvbnRlbnQuc3RhcnRzV2l0aCgnXFx1RkVGRicpID8gMSA6IDBdO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKHBvaW50Lm9mZnNldCA8PSBlbmQpIHtcbiAgICAgICAgdmFyIG9mZnNldCA9IE1hdGgubWluKGxlbmd0aCwgTWF0aC5tYXgoMCwgcG9pbnQub2Zmc2V0IC0gc3RhcnQpKTtcbiAgICAgICAgZG9tUG9pbnQgPSBbZG9tTm9kZSwgb2Zmc2V0XTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIHN0YXJ0ID0gZW5kO1xuICAgIH1cblxuICAgIGlmICghZG9tUG9pbnQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGEgRE9NIHBvaW50IGZyb20gU2xhdGUgcG9pbnQ6IFwiLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkocG9pbnQpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvbVBvaW50O1xuICB9LFxuICB0b0RPTVJhbmdlOiAoZWRpdG9yLCByYW5nZSkgPT4ge1xuICAgIHZhciB7XG4gICAgICBhbmNob3IsXG4gICAgICBmb2N1c1xuICAgIH0gPSByYW5nZTtcbiAgICB2YXIgaXNCYWNrd2FyZCA9IFJhbmdlLmlzQmFja3dhcmQocmFuZ2UpO1xuICAgIHZhciBkb21BbmNob3IgPSBSZWFjdEVkaXRvci50b0RPTVBvaW50KGVkaXRvciwgYW5jaG9yKTtcbiAgICB2YXIgZG9tRm9jdXMgPSBSYW5nZS5pc0NvbGxhcHNlZChyYW5nZSkgPyBkb21BbmNob3IgOiBSZWFjdEVkaXRvci50b0RPTVBvaW50KGVkaXRvciwgZm9jdXMpO1xuICAgIHZhciB3aW5kb3cgPSBSZWFjdEVkaXRvci5nZXRXaW5kb3coZWRpdG9yKTtcbiAgICB2YXIgZG9tUmFuZ2UgPSB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICB2YXIgW3N0YXJ0Tm9kZSwgc3RhcnRPZmZzZXRdID0gaXNCYWNrd2FyZCA/IGRvbUZvY3VzIDogZG9tQW5jaG9yO1xuICAgIHZhciBbZW5kTm9kZSwgZW5kT2Zmc2V0XSA9IGlzQmFja3dhcmQgPyBkb21BbmNob3IgOiBkb21Gb2N1czsgLy8gQSBzbGF0ZSBQb2ludCBhdCB6ZXJvLXdpZHRoIExlYWYgYWx3YXlzIGhhcyBhbiBvZmZzZXQgb2YgMCBidXQgYSBuYXRpdmUgRE9NIHNlbGVjdGlvbiBhdFxuICAgIC8vIHplcm8td2lkdGggbm9kZSBoYXMgYW4gb2Zmc2V0IG9mIDEgc28gd2UgaGF2ZSB0byBjaGVjayBpZiB3ZSBhcmUgaW4gYSB6ZXJvLXdpZHRoIG5vZGUgYW5kXG4gICAgLy8gYWRqdXN0IHRoZSBvZmZzZXQgYWNjb3JkaW5nbHkuXG5cbiAgICB2YXIgc3RhcnRFbCA9IGlzRE9NRWxlbWVudChzdGFydE5vZGUpID8gc3RhcnROb2RlIDogc3RhcnROb2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgdmFyIGlzU3RhcnRBdFplcm9XaWR0aCA9ICEhc3RhcnRFbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtemVyby13aWR0aCcpO1xuICAgIHZhciBlbmRFbCA9IGlzRE9NRWxlbWVudChlbmROb2RlKSA/IGVuZE5vZGUgOiBlbmROb2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgdmFyIGlzRW5kQXRaZXJvV2lkdGggPSAhIWVuZEVsLmdldEF0dHJpYnV0ZSgnZGF0YS1zbGF0ZS16ZXJvLXdpZHRoJyk7XG4gICAgZG9tUmFuZ2Uuc2V0U3RhcnQoc3RhcnROb2RlLCBpc1N0YXJ0QXRaZXJvV2lkdGggPyAxIDogc3RhcnRPZmZzZXQpO1xuICAgIGRvbVJhbmdlLnNldEVuZChlbmROb2RlLCBpc0VuZEF0WmVyb1dpZHRoID8gMSA6IGVuZE9mZnNldCk7XG4gICAgcmV0dXJuIGRvbVJhbmdlO1xuICB9LFxuICB0b1NsYXRlTm9kZTogKGVkaXRvciwgZG9tTm9kZSkgPT4ge1xuICAgIHZhciBkb21FbCA9IGlzRE9NRWxlbWVudChkb21Ob2RlKSA/IGRvbU5vZGUgOiBkb21Ob2RlLnBhcmVudEVsZW1lbnQ7XG5cbiAgICBpZiAoZG9tRWwgJiYgIWRvbUVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zbGF0ZS1ub2RlJykpIHtcbiAgICAgIGRvbUVsID0gZG9tRWwuY2xvc2VzdChcIltkYXRhLXNsYXRlLW5vZGVdXCIpO1xuICAgIH1cblxuICAgIHZhciBub2RlID0gZG9tRWwgPyBFTEVNRU5UX1RPX05PREUuZ2V0KGRvbUVsKSA6IG51bGw7XG5cbiAgICBpZiAoIW5vZGUpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGEgU2xhdGUgbm9kZSBmcm9tIERPTSBub2RlOiBcIi5jb25jYXQoZG9tRWwpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfSxcbiAgdG9TbGF0ZVBvaW50OiAoZWRpdG9yLCBkb21Qb2ludCwgb3B0aW9ucykgPT4ge1xuICAgIHZhciB7XG4gICAgICBleGFjdE1hdGNoLFxuICAgICAgc3VwcHJlc3NUaHJvd1xuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciBbbmVhcmVzdE5vZGUsIG5lYXJlc3RPZmZzZXRdID0gZXhhY3RNYXRjaCA/IGRvbVBvaW50IDogbm9ybWFsaXplRE9NUG9pbnQoZG9tUG9pbnQpO1xuICAgIHZhciBwYXJlbnROb2RlID0gbmVhcmVzdE5vZGUucGFyZW50Tm9kZTtcbiAgICB2YXIgdGV4dE5vZGUgPSBudWxsO1xuICAgIHZhciBvZmZzZXQgPSAwO1xuXG4gICAgaWYgKHBhcmVudE5vZGUpIHtcbiAgICAgIHZhciBfZG9tTm9kZSR0ZXh0Q29udGVudCwgX2RvbU5vZGUkdGV4dENvbnRlbnQyO1xuXG4gICAgICB2YXIgZWRpdG9yRWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpO1xuICAgICAgdmFyIHBvdGVudGlhbFZvaWROb2RlID0gcGFyZW50Tm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS12b2lkPVwidHJ1ZVwiXScpOyAvLyBOZWVkIHRvIGVuc3VyZSB0aGF0IHRoZSBjbG9zZXN0IHZvaWQgbm9kZSBpcyBhY3R1YWxseSBhIHZvaWQgbm9kZVxuICAgICAgLy8gd2l0aGluIHRoaXMgZWRpdG9yLCBhbmQgbm90IGEgdm9pZCBub2RlIHdpdGhpbiBzb21lIHBhcmVudCBlZGl0b3IuIFRoaXMgY2FuIGhhcHBlblxuICAgICAgLy8gaWYgdGhpcyBlZGl0b3IgaXMgd2l0aGluIGEgdm9pZCBub2RlIG9mIGFub3RoZXIgZWRpdG9yIChcIm5lc3RlZCBlZGl0b3JzXCIsIGxpa2UgaW5cbiAgICAgIC8vIHRoZSBcIkVkaXRhYmxlIFZvaWRzXCIgZXhhbXBsZSBvbiB0aGUgZG9jcyBzaXRlKS5cblxuICAgICAgdmFyIHZvaWROb2RlID0gcG90ZW50aWFsVm9pZE5vZGUgJiYgZWRpdG9yRWwuY29udGFpbnMocG90ZW50aWFsVm9pZE5vZGUpID8gcG90ZW50aWFsVm9pZE5vZGUgOiBudWxsO1xuICAgICAgdmFyIGxlYWZOb2RlID0gcGFyZW50Tm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1sZWFmXScpO1xuICAgICAgdmFyIGRvbU5vZGUgPSBudWxsOyAvLyBDYWxjdWxhdGUgaG93IGZhciBpbnRvIHRoZSB0ZXh0IG5vZGUgdGhlIGBuZWFyZXN0Tm9kZWAgaXMsIHNvIHRoYXQgd2VcbiAgICAgIC8vIGNhbiBkZXRlcm1pbmUgd2hhdCB0aGUgb2Zmc2V0IHJlbGF0aXZlIHRvIHRoZSB0ZXh0IG5vZGUgaXMuXG5cbiAgICAgIGlmIChsZWFmTm9kZSkge1xuICAgICAgICB0ZXh0Tm9kZSA9IGxlYWZOb2RlLmNsb3Nlc3QoJ1tkYXRhLXNsYXRlLW5vZGU9XCJ0ZXh0XCJdJyk7XG5cbiAgICAgICAgaWYgKHRleHROb2RlKSB7XG4gICAgICAgICAgdmFyIHdpbmRvdyA9IFJlYWN0RWRpdG9yLmdldFdpbmRvdyhlZGl0b3IpO1xuICAgICAgICAgIHZhciByYW5nZSA9IHdpbmRvdy5kb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KHRleHROb2RlLCAwKTtcbiAgICAgICAgICByYW5nZS5zZXRFbmQobmVhcmVzdE5vZGUsIG5lYXJlc3RPZmZzZXQpO1xuICAgICAgICAgIHZhciBjb250ZW50cyA9IHJhbmdlLmNsb25lQ29udGVudHMoKTtcbiAgICAgICAgICB2YXIgcmVtb3ZhbHMgPSBbLi4uQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoY29udGVudHMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2xhdGUtemVyby13aWR0aF0nKSksIC4uLkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGNvbnRlbnRzLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tjb250ZW50ZWRpdGFibGU9ZmFsc2VdJykpXTtcbiAgICAgICAgICByZW1vdmFscy5mb3JFYWNoKGVsID0+IHtcbiAgICAgICAgICAgIC8vIENPTVBBVDogV2hpbGUgY29tcG9zaW5nIGF0IHRoZSBzdGFydCBvZiBhIHRleHQgbm9kZSwgc29tZSBrZXlib2FyZHMgcHV0XG4gICAgICAgICAgICAvLyB0aGUgdGV4dCBjb250ZW50IGluc2lkZSB0aGUgemVybyB3aWR0aCBzcGFjZS5cbiAgICAgICAgICAgIGlmIChJU19BTkRST0lEICYmICFleGFjdE1hdGNoICYmIGVsLmhhc0F0dHJpYnV0ZSgnZGF0YS1zbGF0ZS16ZXJvLXdpZHRoJykgJiYgZWwudGV4dENvbnRlbnQubGVuZ3RoID4gMCAmJiBlbC50ZXh0Q29udGV4dCAhPT0gJ1xcdUZFRkYnKSB7XG4gICAgICAgICAgICAgIGlmIChlbC50ZXh0Q29udGVudC5zdGFydHNXaXRoKCdcXHVGRUZGJykpIHtcbiAgICAgICAgICAgICAgICBlbC50ZXh0Q29udGVudCA9IGVsLnRleHRDb250ZW50LnNsaWNlKDEpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBlbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsKTtcbiAgICAgICAgICB9KTsgLy8gQ09NUEFUOiBFZGdlIGhhcyBhIGJ1ZyB3aGVyZSBSYW5nZS5wcm90b3R5cGUudG9TdHJpbmcoKSB3aWxsXG4gICAgICAgICAgLy8gY29udmVydCBcXG4gaW50byBcXHJcXG4uIFRoZSBidWcgY2F1c2VzIGEgbG9vcCB3aGVuIHNsYXRlLXJlYWN0XG4gICAgICAgICAgLy8gYXR0ZW1wdHMgdG8gcmVwb3NpdGlvbiBpdHMgY3Vyc29yIHRvIG1hdGNoIHRoZSBuYXRpdmUgcG9zaXRpb24uIFVzZVxuICAgICAgICAgIC8vIHRleHRDb250ZW50Lmxlbmd0aCBpbnN0ZWFkLlxuICAgICAgICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1pY3Jvc29mdC5jb20vZW4tdXMvbWljcm9zb2Z0LWVkZ2UvcGxhdGZvcm0vaXNzdWVzLzEwMjkxMTE2L1xuXG4gICAgICAgICAgb2Zmc2V0ID0gY29udGVudHMudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgIGRvbU5vZGUgPSB0ZXh0Tm9kZTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2b2lkTm9kZSkge1xuICAgICAgICAvLyBGb3Igdm9pZCBub2RlcywgdGhlIGVsZW1lbnQgd2l0aCB0aGUgb2Zmc2V0IGtleSB3aWxsIGJlIGEgY291c2luLCBub3QgYW5cbiAgICAgICAgLy8gYW5jZXN0b3IsIHNvIGZpbmQgaXQgYnkgZ29pbmcgZG93biBmcm9tIHRoZSBuZWFyZXN0IHZvaWQgcGFyZW50IGFuZCB0YWtpbmcgdGhlXG4gICAgICAgIC8vIGZpcnN0IG9uZSB0aGF0IGlzbid0IGluc2lkZSBhIG5lc3RlZCBlZGl0b3IuXG4gICAgICAgIHZhciBsZWFmTm9kZXMgPSB2b2lkTm9kZS5xdWVyeVNlbGVjdG9yQWxsKCdbZGF0YS1zbGF0ZS1sZWFmXScpO1xuXG4gICAgICAgIGZvciAodmFyIGluZGV4ID0gMDsgaW5kZXggPCBsZWFmTm9kZXMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnQgPSBsZWFmTm9kZXNbaW5kZXhdO1xuXG4gICAgICAgICAgaWYgKFJlYWN0RWRpdG9yLmhhc0RPTU5vZGUoZWRpdG9yLCBjdXJyZW50KSkge1xuICAgICAgICAgICAgbGVhZk5vZGUgPSBjdXJyZW50O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIENPTVBBVDogSW4gcmVhZC1vbmx5IGVkaXRvcnMgdGhlIGxlYWYgaXMgbm90IHJlbmRlcmVkLlxuXG5cbiAgICAgICAgaWYgKCFsZWFmTm9kZSkge1xuICAgICAgICAgIG9mZnNldCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGV4dE5vZGUgPSBsZWFmTm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1ub2RlPVwidGV4dFwiXScpO1xuICAgICAgICAgIGRvbU5vZGUgPSBsZWFmTm9kZTtcbiAgICAgICAgICBvZmZzZXQgPSBkb21Ob2RlLnRleHRDb250ZW50Lmxlbmd0aDtcbiAgICAgICAgICBkb21Ob2RlLnF1ZXJ5U2VsZWN0b3JBbGwoJ1tkYXRhLXNsYXRlLXplcm8td2lkdGhdJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICBvZmZzZXQgLT0gZWwudGV4dENvbnRlbnQubGVuZ3RoO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChkb21Ob2RlICYmIG9mZnNldCA9PT0gZG9tTm9kZS50ZXh0Q29udGVudC5sZW5ndGggJiYgLy8gQ09NUEFUOiBBbmRyb2lkIElNRXMgbWlnaHQgcmVtb3ZlIHRoZSB6ZXJvIHdpZHRoIHNwYWNlIHdoaWxlIGNvbXBvc2luZyxcbiAgICAgIC8vIGFuZCB3ZSBkb24ndCBhZGQgaXQgZm9yIGxpbmUtYnJlYWtzLlxuICAgICAgSVNfQU5EUk9JRCAmJiBkb21Ob2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1zbGF0ZS16ZXJvLXdpZHRoJykgPT09ICd6JyAmJiAoX2RvbU5vZGUkdGV4dENvbnRlbnQgPSBkb21Ob2RlLnRleHRDb250ZW50KSAhPT0gbnVsbCAmJiBfZG9tTm9kZSR0ZXh0Q29udGVudCAhPT0gdm9pZCAwICYmIF9kb21Ob2RlJHRleHRDb250ZW50LnN0YXJ0c1dpdGgoJ1xcdUZFRkYnKSAmJiAocGFyZW50Tm9kZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtemVyby13aWR0aCcpIHx8IElTX0ZJUkVGT1ggJiYgKF9kb21Ob2RlJHRleHRDb250ZW50MiA9IGRvbU5vZGUudGV4dENvbnRlbnQpICE9PSBudWxsICYmIF9kb21Ob2RlJHRleHRDb250ZW50MiAhPT0gdm9pZCAwICYmIF9kb21Ob2RlJHRleHRDb250ZW50Mi5lbmRzV2l0aCgnXFxuXFxuJykpKSB7XG4gICAgICAgIG9mZnNldC0tO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChJU19BTkRST0lEICYmICF0ZXh0Tm9kZSAmJiAhZXhhY3RNYXRjaCkge1xuICAgICAgdmFyIG5vZGUgPSBwYXJlbnROb2RlLmhhc0F0dHJpYnV0ZSgnZGF0YS1zbGF0ZS1ub2RlJykgPyBwYXJlbnROb2RlIDogcGFyZW50Tm9kZS5jbG9zZXN0KCdbZGF0YS1zbGF0ZS1ub2RlXScpO1xuXG4gICAgICBpZiAobm9kZSAmJiBSZWFjdEVkaXRvci5oYXNET01Ob2RlKGVkaXRvciwgbm9kZSwge1xuICAgICAgICBlZGl0YWJsZTogdHJ1ZVxuICAgICAgfSkpIHtcbiAgICAgICAgdmFyIF9zbGF0ZU5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIG5vZGUpO1xuXG4gICAgICAgIHZhciB7XG4gICAgICAgICAgcGF0aDogX3BhdGgsXG4gICAgICAgICAgb2Zmc2V0OiBfb2Zmc2V0XG4gICAgICAgIH0gPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIF9zbGF0ZU5vZGUpKTtcblxuICAgICAgICBpZiAoIW5vZGUucXVlcnlTZWxlY3RvcignW2RhdGEtc2xhdGUtbGVhZl0nKSkge1xuICAgICAgICAgIF9vZmZzZXQgPSBuZWFyZXN0T2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBwYXRoOiBfcGF0aCxcbiAgICAgICAgICBvZmZzZXQ6IF9vZmZzZXRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXRleHROb2RlKSB7XG4gICAgICBpZiAoc3VwcHJlc3NUaHJvdykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHJlc29sdmUgYSBTbGF0ZSBwb2ludCBmcm9tIERPTSBwb2ludDogXCIuY29uY2F0KGRvbVBvaW50KSk7XG4gICAgfSAvLyBDT01QQVQ6IElmIHNvbWVvbmUgaXMgY2xpY2tpbmcgZnJvbSBvbmUgU2xhdGUgZWRpdG9yIGludG8gYW5vdGhlcixcbiAgICAvLyB0aGUgc2VsZWN0IGV2ZW50IGZpcmVzIHR3aWNlLCBvbmNlIGZvciB0aGUgb2xkIGVkaXRvcidzIGBlbGVtZW50YFxuICAgIC8vIGZpcnN0LCBhbmQgdGhlbiBhZnRlcndhcmRzIGZvciB0aGUgY29ycmVjdCBgZWxlbWVudGAuICgyMDE3LzAzLzAzKVxuXG5cbiAgICB2YXIgc2xhdGVOb2RlID0gUmVhY3RFZGl0b3IudG9TbGF0ZU5vZGUoZWRpdG9yLCB0ZXh0Tm9kZSk7XG4gICAgdmFyIHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIHNsYXRlTm9kZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHBhdGgsXG4gICAgICBvZmZzZXRcbiAgICB9O1xuICB9LFxuICB0b1NsYXRlUmFuZ2U6IChlZGl0b3IsIGRvbVJhbmdlLCBvcHRpb25zKSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIGV4YWN0TWF0Y2gsXG4gICAgICBzdXBwcmVzc1Rocm93XG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIGVsID0gaXNET01TZWxlY3Rpb24oZG9tUmFuZ2UpID8gZG9tUmFuZ2UuYW5jaG9yTm9kZSA6IGRvbVJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgIHZhciBhbmNob3JOb2RlO1xuICAgIHZhciBhbmNob3JPZmZzZXQ7XG4gICAgdmFyIGZvY3VzTm9kZTtcbiAgICB2YXIgZm9jdXNPZmZzZXQ7XG4gICAgdmFyIGlzQ29sbGFwc2VkO1xuXG4gICAgaWYgKGVsKSB7XG4gICAgICBpZiAoaXNET01TZWxlY3Rpb24oZG9tUmFuZ2UpKSB7XG4gICAgICAgIC8vIENPTVBBVDogSW4gZmlyZWZveCB0aGUgbm9ybWFsIHNlbGV0aW9uIHdheSBkb2VzIG5vdCB3b3JrXG4gICAgICAgIC8vIChodHRwczovL2dpdGh1Yi5jb20vaWFuc3Rvcm10YXlsb3Ivc2xhdGUvcHVsbC81NDg2I2lzc3VlLTE4MjA3MjAyMjMpXG4gICAgICAgIGlmIChJU19GSVJFRk9YICYmIGRvbVJhbmdlLnJhbmdlQ291bnQgPiAxKSB7XG4gICAgICAgICAgZm9jdXNOb2RlID0gZG9tUmFuZ2UuZm9jdXNOb2RlOyAvLyBGb2N1cyBub2RlIHdvcmtzIGZpbmVcblxuICAgICAgICAgIHZhciBmaXJzdFJhbmdlID0gZG9tUmFuZ2UuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICB2YXIgbGFzdFJhbmdlID0gZG9tUmFuZ2UuZ2V0UmFuZ2VBdChkb21SYW5nZS5yYW5nZUNvdW50IC0gMSk7IC8vIEhlcmUgd2UgYXJlIGluIHRoZSBjb250ZW50ZWRpdGFibGUgbW9kZSBvZiBhIHRhYmxlIGluIGZpcmVmb3hcblxuICAgICAgICAgIGlmIChmb2N1c05vZGUgaW5zdGFuY2VvZiBIVE1MVGFibGVSb3dFbGVtZW50ICYmIGZpcnN0UmFuZ2Uuc3RhcnRDb250YWluZXIgaW5zdGFuY2VvZiBIVE1MVGFibGVSb3dFbGVtZW50ICYmIGxhc3RSYW5nZS5zdGFydENvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxUYWJsZVJvd0VsZW1lbnQpIHtcbiAgICAgICAgICAgIC8vIEhUTUxFbGVtZW50LCBiZWNvdXNlIEVsZW1lbnQgaXMgYSBzbGF0ZSBlbGVtZW50XG4gICAgICAgICAgICBmdW5jdGlvbiBnZXRMYXN0Q2hpbGRyZW4oZWxlbWVudCkge1xuICAgICAgICAgICAgICBpZiAoZWxlbWVudC5jaGlsZEVsZW1lbnRDb3VudCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0TGFzdENoaWxkcmVuKGVsZW1lbnQuY2hpbGRyZW5bMF0pO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBmaXJzdE5vZGVSb3cgPSBmaXJzdFJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgdmFyIGxhc3ROb2RlUm93ID0gbGFzdFJhbmdlLnN0YXJ0Q29udGFpbmVyOyAvLyBUaGlzIHNob3VsZCBuZXZlciBmYWlsIGFzIFwiVGhlIEhUTUxFbGVtZW50IGludGVyZmFjZSByZXByZXNlbnRzIGFueSBIVE1MIGVsZW1lbnQuXCJcblxuICAgICAgICAgICAgdmFyIGZpcnN0Tm9kZSA9IGdldExhc3RDaGlsZHJlbihmaXJzdE5vZGVSb3cuY2hpbGRyZW5bZmlyc3RSYW5nZS5zdGFydE9mZnNldF0pO1xuICAgICAgICAgICAgdmFyIGxhc3ROb2RlID0gZ2V0TGFzdENoaWxkcmVuKGxhc3ROb2RlUm93LmNoaWxkcmVuW2xhc3RSYW5nZS5zdGFydE9mZnNldF0pOyAvLyBaZXJvLCBhcyB3ZSBhbGx3YXlzIHRha2UgdGhlIHJpZ2h0IG9uZSBhcyB0aGUgYW5jaG9yIHBvaW50XG5cbiAgICAgICAgICAgIGZvY3VzT2Zmc2V0ID0gMDtcblxuICAgICAgICAgICAgaWYgKGxhc3ROb2RlLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBhbmNob3JOb2RlID0gbGFzdE5vZGUuY2hpbGROb2Rlc1swXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGFuY2hvck5vZGUgPSBsYXN0Tm9kZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpcnN0Tm9kZS5jaGlsZE5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgZm9jdXNOb2RlID0gZmlyc3ROb2RlLmNoaWxkTm9kZXNbMF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBmb2N1c05vZGUgPSBmaXJzdE5vZGU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsYXN0Tm9kZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGFuY2hvck9mZnNldCA9IGxhc3ROb2RlLmlubmVySFRNTC5sZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBGYWxsYmFjayBvcHRpb25cbiAgICAgICAgICAgICAgYW5jaG9yT2Zmc2V0ID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyB0aGUgcmVhZCBvbmx5IG1vZGUgb2YgYSBmaXJlZm94IHRhYmxlXG4gICAgICAgICAgICAvLyBSaWdodCB0byBsZWZ0XG4gICAgICAgICAgICBpZiAoZmlyc3RSYW5nZS5zdGFydENvbnRhaW5lciA9PT0gZm9jdXNOb2RlKSB7XG4gICAgICAgICAgICAgIGFuY2hvck5vZGUgPSBsYXN0UmFuZ2UuZW5kQ29udGFpbmVyO1xuICAgICAgICAgICAgICBhbmNob3JPZmZzZXQgPSBsYXN0UmFuZ2UuZW5kT2Zmc2V0O1xuICAgICAgICAgICAgICBmb2N1c09mZnNldCA9IGZpcnN0UmFuZ2Uuc3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAvLyBMZWZ0IHRvIHJpZ2h0XG4gICAgICAgICAgICAgIGFuY2hvck5vZGUgPSBmaXJzdFJhbmdlLnN0YXJ0Q29udGFpbmVyO1xuICAgICAgICAgICAgICBhbmNob3JPZmZzZXQgPSBmaXJzdFJhbmdlLmVuZE9mZnNldDtcbiAgICAgICAgICAgICAgZm9jdXNPZmZzZXQgPSBsYXN0UmFuZ2Uuc3RhcnRPZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFuY2hvck5vZGUgPSBkb21SYW5nZS5hbmNob3JOb2RlO1xuICAgICAgICAgIGFuY2hvck9mZnNldCA9IGRvbVJhbmdlLmFuY2hvck9mZnNldDtcbiAgICAgICAgICBmb2N1c05vZGUgPSBkb21SYW5nZS5mb2N1c05vZGU7XG4gICAgICAgICAgZm9jdXNPZmZzZXQgPSBkb21SYW5nZS5mb2N1c09mZnNldDtcbiAgICAgICAgfSAvLyBDT01QQVQ6IFRoZXJlJ3MgYSBidWcgaW4gY2hyb21lIHRoYXQgYWx3YXlzIHJldHVybnMgYHRydWVgIGZvclxuICAgICAgICAvLyBgaXNDb2xsYXBzZWRgIGZvciBhIFNlbGVjdGlvbiB0aGF0IGNvbWVzIGZyb20gYSBTaGFkb3dSb290LlxuICAgICAgICAvLyAoMjAyMC8wOC8wOClcbiAgICAgICAgLy8gaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3NTIzXG4gICAgICAgIC8vIElzQ29sbGFwc2VkIG1pZ2h0IG5vdCB3b3JrIGluIGZpcmVmb3gsIGJ1dCB0aGlzIHdpbGxcblxuXG4gICAgICAgIGlmIChJU19DSFJPTUUgJiYgaGFzU2hhZG93Um9vdChhbmNob3JOb2RlKSB8fCBJU19GSVJFRk9YKSB7XG4gICAgICAgICAgaXNDb2xsYXBzZWQgPSBkb21SYW5nZS5hbmNob3JOb2RlID09PSBkb21SYW5nZS5mb2N1c05vZGUgJiYgZG9tUmFuZ2UuYW5jaG9yT2Zmc2V0ID09PSBkb21SYW5nZS5mb2N1c09mZnNldDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpc0NvbGxhcHNlZCA9IGRvbVJhbmdlLmlzQ29sbGFwc2VkO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhbmNob3JOb2RlID0gZG9tUmFuZ2Uuc3RhcnRDb250YWluZXI7XG4gICAgICAgIGFuY2hvck9mZnNldCA9IGRvbVJhbmdlLnN0YXJ0T2Zmc2V0O1xuICAgICAgICBmb2N1c05vZGUgPSBkb21SYW5nZS5lbmRDb250YWluZXI7XG4gICAgICAgIGZvY3VzT2Zmc2V0ID0gZG9tUmFuZ2UuZW5kT2Zmc2V0O1xuICAgICAgICBpc0NvbGxhcHNlZCA9IGRvbVJhbmdlLmNvbGxhcHNlZDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoYW5jaG9yTm9kZSA9PSBudWxsIHx8IGZvY3VzTm9kZSA9PSBudWxsIHx8IGFuY2hvck9mZnNldCA9PSBudWxsIHx8IGZvY3VzT2Zmc2V0ID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXNvbHZlIGEgU2xhdGUgcmFuZ2UgZnJvbSBET00gcmFuZ2U6IFwiLmNvbmNhdChkb21SYW5nZSkpO1xuICAgIH0gLy8gQ09NUEFUOiBUcmlwbGUtY2xpY2tpbmcgYSB3b3JkIGluIGNocm9tZSB3aWxsIHNvbWV0aW1lcyBwbGFjZSB0aGUgZm9jdXNcbiAgICAvLyBpbnNpZGUgYSBgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcImAgRE9NIG5vZGUgZm9sbG93aW5nIHRoZSB3b3JkLCB3aGljaFxuICAgIC8vIHdpbGwgY2F1c2UgYHRvU2xhdGVQb2ludGAgdG8gdGhyb3cgYW4gZXJyb3IuICgyMDIzLzAzLzA3KVxuXG5cbiAgICBpZiAoJ2dldEF0dHJpYnV0ZScgaW4gZm9jdXNOb2RlICYmIGZvY3VzTm9kZS5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpID09PSAnZmFsc2UnICYmIGZvY3VzTm9kZS5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtdm9pZCcpICE9PSAndHJ1ZScpIHtcbiAgICAgIHZhciBfYW5jaG9yTm9kZSR0ZXh0Q29udGU7XG5cbiAgICAgIGZvY3VzTm9kZSA9IGFuY2hvck5vZGU7XG4gICAgICBmb2N1c09mZnNldCA9ICgoX2FuY2hvck5vZGUkdGV4dENvbnRlID0gYW5jaG9yTm9kZS50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2FuY2hvck5vZGUkdGV4dENvbnRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYW5jaG9yTm9kZSR0ZXh0Q29udGUubGVuZ3RoKSB8fCAwO1xuICAgIH1cblxuICAgIHZhciBhbmNob3IgPSBSZWFjdEVkaXRvci50b1NsYXRlUG9pbnQoZWRpdG9yLCBbYW5jaG9yTm9kZSwgYW5jaG9yT2Zmc2V0XSwge1xuICAgICAgZXhhY3RNYXRjaCxcbiAgICAgIHN1cHByZXNzVGhyb3dcbiAgICB9KTtcblxuICAgIGlmICghYW5jaG9yKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgZm9jdXMgPSBpc0NvbGxhcHNlZCA/IGFuY2hvciA6IFJlYWN0RWRpdG9yLnRvU2xhdGVQb2ludChlZGl0b3IsIFtmb2N1c05vZGUsIGZvY3VzT2Zmc2V0XSwge1xuICAgICAgZXhhY3RNYXRjaCxcbiAgICAgIHN1cHByZXNzVGhyb3dcbiAgICB9KTtcblxuICAgIGlmICghZm9jdXMpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHZhciByYW5nZSA9IHtcbiAgICAgIGFuY2hvcjogYW5jaG9yLFxuICAgICAgZm9jdXM6IGZvY3VzXG4gICAgfTsgLy8gaWYgdGhlIHNlbGVjdGlvbiBpcyBhIGhhbmdpbmcgcmFuZ2UgdGhhdCBlbmRzIGluIGEgdm9pZFxuICAgIC8vIGFuZCB0aGUgRE9NIGZvY3VzIGlzIGFuIEVsZW1lbnRcbiAgICAvLyAobWVhbmluZyB0aGF0IHRoZSBzZWxlY3Rpb24gZW5kcyBiZWZvcmUgdGhlIGVsZW1lbnQpXG4gICAgLy8gdW5oYW5nIHRoZSByYW5nZSB0byBhdm9pZCBtaXN0YWtlbmx5IGluY2x1ZGluZyB0aGUgdm9pZFxuXG4gICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQocmFuZ2UpICYmIFJhbmdlLmlzRm9yd2FyZChyYW5nZSkgJiYgaXNET01FbGVtZW50KGZvY3VzTm9kZSkgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICBhdDogcmFuZ2UuZm9jdXMsXG4gICAgICBtb2RlOiAnaGlnaGVzdCdcbiAgICB9KSkge1xuICAgICAgcmFuZ2UgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCByYW5nZSwge1xuICAgICAgICB2b2lkczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG59O1xuXG4vKipcclxuICogQ2hlY2sgd2hldGhlciBhIHRleHQgZGlmZiB3YXMgYXBwbGllZCBpbiBhIHdheSB3ZSBjYW4gcGVyZm9ybSB0aGUgcGVuZGluZyBhY3Rpb24gb24gL1xyXG4gKiByZWNvdmVyIHRoZSBwZW5kaW5nIHNlbGVjdGlvbi5cclxuICovXG5cbmZ1bmN0aW9uIHZlcmlmeURpZmZTdGF0ZShlZGl0b3IsIHRleHREaWZmKSB7XG4gIHZhciB7XG4gICAgcGF0aCxcbiAgICBkaWZmXG4gIH0gPSB0ZXh0RGlmZjtcblxuICBpZiAoIUVkaXRvci5oYXNQYXRoKGVkaXRvciwgcGF0aCkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgbm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aCk7XG5cbiAgaWYgKCFUZXh0JDEuaXNUZXh0KG5vZGUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKGRpZmYuc3RhcnQgIT09IG5vZGUudGV4dC5sZW5ndGggfHwgZGlmZi50ZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBub2RlLnRleHQuc2xpY2UoZGlmZi5zdGFydCwgZGlmZi5zdGFydCArIGRpZmYudGV4dC5sZW5ndGgpID09PSBkaWZmLnRleHQ7XG4gIH1cblxuICB2YXIgbmV4dFBhdGggPSBQYXRoLm5leHQocGF0aCk7XG5cbiAgaWYgKCFFZGl0b3IuaGFzUGF0aChlZGl0b3IsIG5leHRQYXRoKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBuZXh0Tm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgbmV4dFBhdGgpO1xuICByZXR1cm4gVGV4dCQxLmlzVGV4dChuZXh0Tm9kZSkgJiYgbmV4dE5vZGUudGV4dC5zdGFydHNXaXRoKGRpZmYudGV4dCk7XG59XG5mdW5jdGlvbiBhcHBseVN0cmluZ0RpZmYodGV4dCkge1xuICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGlmZnMgPSBuZXcgQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLCBfa2V5ID0gMTsgX2tleSA8IF9sZW47IF9rZXkrKykge1xuICAgIGRpZmZzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHJldHVybiBkaWZmcy5yZWR1Y2UoKHRleHQsIGRpZmYpID0+IHRleHQuc2xpY2UoMCwgZGlmZi5zdGFydCkgKyBkaWZmLnRleHQgKyB0ZXh0LnNsaWNlKGRpZmYuZW5kKSwgdGV4dCk7XG59XG5cbmZ1bmN0aW9uIGxvbmdlc3RDb21tb25QcmVmaXhMZW5ndGgoc3RyLCBhbm90aGVyKSB7XG4gIHZhciBsZW5ndGggPSBNYXRoLm1pbihzdHIubGVuZ3RoLCBhbm90aGVyLmxlbmd0aCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHIuY2hhckF0KGkpICE9PSBhbm90aGVyLmNoYXJBdChpKSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGxlbmd0aDtcbn1cblxuZnVuY3Rpb24gbG9uZ2VzdENvbW1vblN1ZmZpeExlbmd0aChzdHIsIGFub3RoZXIsIG1heCkge1xuICB2YXIgbGVuZ3RoID0gTWF0aC5taW4oc3RyLmxlbmd0aCwgYW5vdGhlci5sZW5ndGgsIG1heCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHIuY2hhckF0KHN0ci5sZW5ndGggLSBpIC0gMSkgIT09IGFub3RoZXIuY2hhckF0KGFub3RoZXIubGVuZ3RoIC0gaSAtIDEpKSB7XG4gICAgICByZXR1cm4gaTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbGVuZ3RoO1xufVxuLyoqXHJcbiAqIFJlbW92ZSByZWR1bmRhbnQgY2hhbmdlcyBmcm9tIHRoZSBkaWZmIHNvIHRoYXQgaXQgc3BhbnMgdGhlIG1pbmltYWwgcG9zc2libGUgcmFuZ2VcclxuICovXG5cblxuZnVuY3Rpb24gbm9ybWFsaXplU3RyaW5nRGlmZih0YXJnZXRUZXh0LCBkaWZmKSB7XG4gIHZhciB7XG4gICAgc3RhcnQsXG4gICAgZW5kLFxuICAgIHRleHRcbiAgfSA9IGRpZmY7XG4gIHZhciByZW1vdmVkVGV4dCA9IHRhcmdldFRleHQuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gIHZhciBwcmVmaXhMZW5ndGggPSBsb25nZXN0Q29tbW9uUHJlZml4TGVuZ3RoKHJlbW92ZWRUZXh0LCB0ZXh0KTtcbiAgdmFyIG1heCA9IE1hdGgubWluKHJlbW92ZWRUZXh0Lmxlbmd0aCAtIHByZWZpeExlbmd0aCwgdGV4dC5sZW5ndGggLSBwcmVmaXhMZW5ndGgpO1xuICB2YXIgc3VmZml4TGVuZ3RoID0gbG9uZ2VzdENvbW1vblN1ZmZpeExlbmd0aChyZW1vdmVkVGV4dCwgdGV4dCwgbWF4KTtcbiAgdmFyIG5vcm1hbGl6ZWQgPSB7XG4gICAgc3RhcnQ6IHN0YXJ0ICsgcHJlZml4TGVuZ3RoLFxuICAgIGVuZDogZW5kIC0gc3VmZml4TGVuZ3RoLFxuICAgIHRleHQ6IHRleHQuc2xpY2UocHJlZml4TGVuZ3RoLCB0ZXh0Lmxlbmd0aCAtIHN1ZmZpeExlbmd0aClcbiAgfTtcblxuICBpZiAobm9ybWFsaXplZC5zdGFydCA9PT0gbm9ybWFsaXplZC5lbmQgJiYgbm9ybWFsaXplZC50ZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIG5vcm1hbGl6ZWQ7XG59XG4vKipcclxuICogUmV0dXJuIGEgc3RyaW5nIGRpZmYgdGhhdCBpcyBlcXVpdmFsZW50IHRvIGFwcGx5aW5nIGIgYWZ0ZXIgYSBzcGFubmluZyB0aGUgcmFuZ2Ugb2ZcclxuICogYm90aCBjaGFuZ2VzXHJcbiAqL1xuXG5mdW5jdGlvbiBtZXJnZVN0cmluZ0RpZmZzKHRhcmdldFRleHQsIGEsIGIpIHtcbiAgdmFyIHN0YXJ0ID0gTWF0aC5taW4oYS5zdGFydCwgYi5zdGFydCk7XG4gIHZhciBvdmVybGFwID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oYS5zdGFydCArIGEudGV4dC5sZW5ndGgsIGIuZW5kKSAtIGIuc3RhcnQpO1xuICB2YXIgYXBwbGllZCA9IGFwcGx5U3RyaW5nRGlmZih0YXJnZXRUZXh0LCBhLCBiKTtcbiAgdmFyIHNsaWNlRW5kID0gTWF0aC5tYXgoYi5zdGFydCArIGIudGV4dC5sZW5ndGgsIGEuc3RhcnQgKyBhLnRleHQubGVuZ3RoICsgKGEuc3RhcnQgKyBhLnRleHQubGVuZ3RoID4gYi5zdGFydCA/IGIudGV4dC5sZW5ndGggOiAwKSAtIG92ZXJsYXApO1xuICB2YXIgdGV4dCA9IGFwcGxpZWQuc2xpY2Uoc3RhcnQsIHNsaWNlRW5kKTtcbiAgdmFyIGVuZCA9IE1hdGgubWF4KGEuZW5kLCBiLmVuZCAtIGEudGV4dC5sZW5ndGggKyAoYS5lbmQgLSBhLnN0YXJ0KSk7XG4gIHJldHVybiBub3JtYWxpemVTdHJpbmdEaWZmKHRhcmdldFRleHQsIHtcbiAgICBzdGFydCxcbiAgICBlbmQsXG4gICAgdGV4dFxuICB9KTtcbn1cbi8qKlxyXG4gKiBHZXQgdGhlIHNsYXRlIHJhbmdlIHRoZSB0ZXh0IGRpZmYgc3BhbnMuXHJcbiAqL1xuXG5mdW5jdGlvbiB0YXJnZXRSYW5nZSh0ZXh0RGlmZikge1xuICB2YXIge1xuICAgIHBhdGgsXG4gICAgZGlmZlxuICB9ID0gdGV4dERpZmY7XG4gIHJldHVybiB7XG4gICAgYW5jaG9yOiB7XG4gICAgICBwYXRoLFxuICAgICAgb2Zmc2V0OiBkaWZmLnN0YXJ0XG4gICAgfSxcbiAgICBmb2N1czoge1xuICAgICAgcGF0aCxcbiAgICAgIG9mZnNldDogZGlmZi5lbmRcbiAgICB9XG4gIH07XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgJ3BlbmRpbmcgcG9pbnQnIGEuay5hIGEgcG9pbnQgYmFzZWQgb24gdGhlIGRvbSBzdGF0ZSBiZWZvcmUgYXBwbHlpbmdcclxuICogdGhlIHBlbmRpbmcgZGlmZnMuIFNpbmNlIHRoZSBwZW5kaW5nIGRpZmZzIG1pZ2h0IGhhdmUgYmVlbiBpbnNlcnRlZCB3aXRoIGRpZmZlcmVudFxyXG4gKiBtYXJrcyB3ZSBoYXZlIHRvICd3YWxrJyB0aGUgb2Zmc2V0IGZyb20gdGhlIHN0YXJ0aW5nIHBvc2l0aW9uIHRvIGVuc3VyZSB3ZSBzdGlsbFxyXG4gKiBoYXZlIGEgdmFsaWQgcG9pbnQgaW5zaWRlIHRoZSBkb2N1bWVudFxyXG4gKi9cblxuZnVuY3Rpb24gbm9ybWFsaXplUG9pbnQoZWRpdG9yLCBwb2ludCkge1xuICB2YXIge1xuICAgIHBhdGgsXG4gICAgb2Zmc2V0XG4gIH0gPSBwb2ludDtcblxuICBpZiAoIUVkaXRvci5oYXNQYXRoKGVkaXRvciwgcGF0aCkpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBsZWFmID0gTm9kZS5nZXQoZWRpdG9yLCBwYXRoKTtcblxuICBpZiAoIVRleHQkMS5pc1RleHQobGVhZikpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBwYXJlbnRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICBtYXRjaDogbiA9PiBFbGVtZW50JDEuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgYXQ6IHBhdGhcbiAgfSk7XG5cbiAgaWYgKCFwYXJlbnRCbG9jaykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgd2hpbGUgKG9mZnNldCA+IGxlYWYudGV4dC5sZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBFZGl0b3IubmV4dChlZGl0b3IsIHtcbiAgICAgIGF0OiBwYXRoLFxuICAgICAgbWF0Y2g6IFRleHQkMS5pc1RleHRcbiAgICB9KTtcblxuICAgIGlmICghZW50cnkgfHwgIVBhdGguaXNEZXNjZW5kYW50KGVudHJ5WzFdLCBwYXJlbnRCbG9ja1sxXSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIG9mZnNldCAtPSBsZWFmLnRleHQubGVuZ3RoO1xuICAgIGxlYWYgPSBlbnRyeVswXTtcbiAgICBwYXRoID0gZW50cnlbMV07XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGgsXG4gICAgb2Zmc2V0XG4gIH07XG59XG4vKipcclxuICogTm9ybWFsaXplIGEgJ3BlbmRpbmcgc2VsZWN0aW9uJyB0byBlbnN1cmUgaXQncyB2YWxpZCBpbiB0aGUgY3VycmVudCBkb2N1bWVudCBzdGF0ZS5cclxuICovXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJhbmdlKGVkaXRvciwgcmFuZ2UpIHtcbiAgdmFyIGFuY2hvciA9IG5vcm1hbGl6ZVBvaW50KGVkaXRvciwgcmFuZ2UuYW5jaG9yKTtcblxuICBpZiAoIWFuY2hvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKSkge1xuICAgIHJldHVybiB7XG4gICAgICBhbmNob3IsXG4gICAgICBmb2N1czogYW5jaG9yXG4gICAgfTtcbiAgfVxuXG4gIHZhciBmb2N1cyA9IG5vcm1hbGl6ZVBvaW50KGVkaXRvciwgcmFuZ2UuZm9jdXMpO1xuXG4gIGlmICghZm9jdXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgYW5jaG9yLFxuICAgIGZvY3VzXG4gIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1QZW5kaW5nUG9pbnQoZWRpdG9yLCBwb2ludCwgb3ApIHtcbiAgdmFyIHBlbmRpbmdEaWZmcyA9IEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLmdldChlZGl0b3IpO1xuICB2YXIgdGV4dERpZmYgPSBwZW5kaW5nRGlmZnMgPT09IG51bGwgfHwgcGVuZGluZ0RpZmZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwZW5kaW5nRGlmZnMuZmluZChfcmVmID0+IHtcbiAgICB2YXIge1xuICAgICAgcGF0aFxuICAgIH0gPSBfcmVmO1xuICAgIHJldHVybiBQYXRoLmVxdWFscyhwYXRoLCBwb2ludC5wYXRoKTtcbiAgfSk7XG5cbiAgaWYgKCF0ZXh0RGlmZiB8fCBwb2ludC5vZmZzZXQgPD0gdGV4dERpZmYuZGlmZi5zdGFydCkge1xuICAgIHJldHVybiBQb2ludC50cmFuc2Zvcm0ocG9pbnQsIG9wLCB7XG4gICAgICBhZmZpbml0eTogJ2JhY2t3YXJkJ1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHtcbiAgICBkaWZmXG4gIH0gPSB0ZXh0RGlmZjsgLy8gUG9pbnQgcmVmZXJlbmNlcyBsb2NhdGlvbiBpbnNpZGUgdGhlIGRpZmYgPT4gdHJhbnNmb3JtIHRoZSBwb2ludCBiYXNlZCBvbiB0aGUgbG9jYXRpb25cbiAgLy8gdGhlIGRpZmYgd2lsbCBiZSBhcHBsaWVkIHRvIGFuZCBhZGQgdGhlIG9mZnNldCBpbnNpZGUgdGhlIGRpZmYuXG5cbiAgaWYgKHBvaW50Lm9mZnNldCA8PSBkaWZmLnN0YXJ0ICsgZGlmZi50ZXh0Lmxlbmd0aCkge1xuICAgIHZhciBfYW5jaG9yID0ge1xuICAgICAgcGF0aDogcG9pbnQucGF0aCxcbiAgICAgIG9mZnNldDogZGlmZi5zdGFydFxuICAgIH07XG5cbiAgICB2YXIgX3RyYW5zZm9ybWVkID0gUG9pbnQudHJhbnNmb3JtKF9hbmNob3IsIG9wLCB7XG4gICAgICBhZmZpbml0eTogJ2JhY2t3YXJkJ1xuICAgIH0pO1xuXG4gICAgaWYgKCFfdHJhbnNmb3JtZWQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwYXRoOiBfdHJhbnNmb3JtZWQucGF0aCxcbiAgICAgIG9mZnNldDogX3RyYW5zZm9ybWVkLm9mZnNldCArIHBvaW50Lm9mZnNldCAtIGRpZmYuc3RhcnRcbiAgICB9O1xuICB9IC8vIFBvaW50IHJlZmVyZW5jZXMgbG9jYXRpb24gYWZ0ZXIgdGhlIGRpZmZcblxuXG4gIHZhciBhbmNob3IgPSB7XG4gICAgcGF0aDogcG9pbnQucGF0aCxcbiAgICBvZmZzZXQ6IHBvaW50Lm9mZnNldCAtIGRpZmYudGV4dC5sZW5ndGggKyBkaWZmLmVuZCAtIGRpZmYuc3RhcnRcbiAgfTtcbiAgdmFyIHRyYW5zZm9ybWVkID0gUG9pbnQudHJhbnNmb3JtKGFuY2hvciwgb3AsIHtcbiAgICBhZmZpbml0eTogJ2JhY2t3YXJkJ1xuICB9KTtcblxuICBpZiAoIXRyYW5zZm9ybWVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAob3AudHlwZSA9PT0gJ3NwbGl0X25vZGUnICYmIFBhdGguZXF1YWxzKG9wLnBhdGgsIHBvaW50LnBhdGgpICYmIGFuY2hvci5vZmZzZXQgPCBvcC5wb3NpdGlvbiAmJiBkaWZmLnN0YXJ0IDwgb3AucG9zaXRpb24pIHtcbiAgICByZXR1cm4gdHJhbnNmb3JtZWQ7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHBhdGg6IHRyYW5zZm9ybWVkLnBhdGgsXG4gICAgb2Zmc2V0OiB0cmFuc2Zvcm1lZC5vZmZzZXQgKyBkaWZmLnRleHQubGVuZ3RoIC0gZGlmZi5lbmQgKyBkaWZmLnN0YXJ0XG4gIH07XG59XG5mdW5jdGlvbiB0cmFuc2Zvcm1QZW5kaW5nUmFuZ2UoZWRpdG9yLCByYW5nZSwgb3ApIHtcbiAgdmFyIGFuY2hvciA9IHRyYW5zZm9ybVBlbmRpbmdQb2ludChlZGl0b3IsIHJhbmdlLmFuY2hvciwgb3ApO1xuXG4gIGlmICghYW5jaG9yKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBpZiAoUmFuZ2UuaXNDb2xsYXBzZWQocmFuZ2UpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuY2hvcixcbiAgICAgIGZvY3VzOiBhbmNob3JcbiAgICB9O1xuICB9XG5cbiAgdmFyIGZvY3VzID0gdHJhbnNmb3JtUGVuZGluZ1BvaW50KGVkaXRvciwgcmFuZ2UuZm9jdXMsIG9wKTtcblxuICBpZiAoIWZvY3VzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFuY2hvcixcbiAgICBmb2N1c1xuICB9O1xufVxuZnVuY3Rpb24gdHJhbnNmb3JtVGV4dERpZmYodGV4dERpZmYsIG9wKSB7XG4gIHZhciB7XG4gICAgcGF0aCxcbiAgICBkaWZmLFxuICAgIGlkXG4gIH0gPSB0ZXh0RGlmZjtcblxuICBzd2l0Y2ggKG9wLnR5cGUpIHtcbiAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICB7XG4gICAgICAgIGlmICghUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgfHwgb3Aub2Zmc2V0ID49IGRpZmYuZW5kKSB7XG4gICAgICAgICAgcmV0dXJuIHRleHREaWZmO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wLm9mZnNldCA8PSBkaWZmLnN0YXJ0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpZmY6IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IG9wLnRleHQubGVuZ3RoICsgZGlmZi5zdGFydCxcbiAgICAgICAgICAgICAgZW5kOiBvcC50ZXh0Lmxlbmd0aCArIGRpZmYuZW5kLFxuICAgICAgICAgICAgICB0ZXh0OiBkaWZmLnRleHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgICBzdGFydDogZGlmZi5zdGFydCxcbiAgICAgICAgICAgIGVuZDogZGlmZi5lbmQgKyBvcC50ZXh0Lmxlbmd0aCxcbiAgICAgICAgICAgIHRleHQ6IGRpZmYudGV4dFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgcGF0aFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAge1xuICAgICAgICBpZiAoIVBhdGguZXF1YWxzKG9wLnBhdGgsIHBhdGgpIHx8IG9wLm9mZnNldCA+PSBkaWZmLmVuZCkge1xuICAgICAgICAgIHJldHVybiB0ZXh0RGlmZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcC5vZmZzZXQgKyBvcC50ZXh0Lmxlbmd0aCA8PSBkaWZmLnN0YXJ0KSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGRpZmY6IHtcbiAgICAgICAgICAgICAgc3RhcnQ6IGRpZmYuc3RhcnQgLSBvcC50ZXh0Lmxlbmd0aCxcbiAgICAgICAgICAgICAgZW5kOiBkaWZmLmVuZCAtIG9wLnRleHQubGVuZ3RoLFxuICAgICAgICAgICAgICB0ZXh0OiBkaWZmLnRleHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgICBzdGFydDogZGlmZi5zdGFydCxcbiAgICAgICAgICAgIGVuZDogZGlmZi5lbmQgLSBvcC50ZXh0Lmxlbmd0aCxcbiAgICAgICAgICAgIHRleHQ6IGRpZmYudGV4dFxuICAgICAgICAgIH0sXG4gICAgICAgICAgaWQsXG4gICAgICAgICAgcGF0aFxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICB7XG4gICAgICAgIGlmICghUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgfHwgb3AucG9zaXRpb24gPj0gZGlmZi5lbmQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlmZixcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgcGF0aDogUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIHtcbiAgICAgICAgICAgICAgYWZmaW5pdHk6ICdiYWNrd2FyZCdcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcC5wb3NpdGlvbiA+IGRpZmYuc3RhcnQpIHtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGlmZjoge1xuICAgICAgICAgICAgICBzdGFydDogZGlmZi5zdGFydCxcbiAgICAgICAgICAgICAgZW5kOiBNYXRoLm1pbihvcC5wb3NpdGlvbiwgZGlmZi5lbmQpLFxuICAgICAgICAgICAgICB0ZXh0OiBkaWZmLnRleHRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpZCxcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgICBzdGFydDogZGlmZi5zdGFydCAtIG9wLnBvc2l0aW9uLFxuICAgICAgICAgICAgZW5kOiBkaWZmLmVuZCAtIG9wLnBvc2l0aW9uLFxuICAgICAgICAgICAgdGV4dDogZGlmZi50ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBwYXRoOiBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwge1xuICAgICAgICAgICAgYWZmaW5pdHk6ICdmb3J3YXJkJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgIHtcbiAgICAgICAgaWYgKCFQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSkge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBkaWZmLFxuICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICBwYXRoOiBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcClcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBkaWZmOiB7XG4gICAgICAgICAgICBzdGFydDogZGlmZi5zdGFydCArIG9wLnBvc2l0aW9uLFxuICAgICAgICAgICAgZW5kOiBkaWZmLmVuZCArIG9wLnBvc2l0aW9uLFxuICAgICAgICAgICAgdGV4dDogZGlmZi50ZXh0XG4gICAgICAgICAgfSxcbiAgICAgICAgICBpZCxcbiAgICAgICAgICBwYXRoOiBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgfVxuXG4gIHZhciBuZXdQYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3ApO1xuXG4gIGlmICghbmV3UGF0aCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBkaWZmLFxuICAgIHBhdGg6IG5ld1BhdGgsXG4gICAgaWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyQzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQzKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG4vLyBXaGVuIHVzaW5nIGtleWJvYXJkIEVuZ2xpc2ggYXNzb2NpYXRpb24gZnVuY3Rpb24sIGNvbnBvc2l0aW9uRW5kIHRyaWdnZXJlZCB0b28gZmFzdCwgcmVzdWx0aW5nIGluIGFmdGVyIGBpbnNlcnRUZXh0YCBzdGlsbCBtYWludGFpbiBhc3NvY2lhdGlvbiBzdGF0ZS5cblxudmFyIFJFU09MVkVfREVMQVkgPSAyNTsgLy8gVGltZSB3aXRoIG5vIHVzZXIgaW50ZXJhY3Rpb24gYmVmb3JlIHRoZSBjdXJyZW50IHVzZXIgYWN0aW9uIGlzIGNvbnNpZGVyZWQgYXMgZG9uZS5cblxudmFyIEZMVVNIX0RFTEFZID0gMjAwOyAvLyBSZXBsYWNlIHdpdGggYGNvbnN0IGRlYnVnID0gY29uc29sZS5sb2dgIHRvIGRlYnVnXG5cbnZhciBkZWJ1ZyA9IGZ1bmN0aW9uIGRlYnVnKCkge307IC8vIFR5cGUgZ3VhcmQgdG8gY2hlY2sgaWYgYSB2YWx1ZSBpcyBhIERhdGFUcmFuc2ZlclxuXG5cbnZhciBpc0RhdGFUcmFuc2ZlciA9IHZhbHVlID0+ICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogdmFsdWUuY29uc3RydWN0b3IubmFtZSkgPT09ICdEYXRhVHJhbnNmZXInO1xuXG5mdW5jdGlvbiBjcmVhdGVBbmRyb2lkSW5wdXRNYW5hZ2VyKF9yZWYpIHtcbiAgdmFyIHtcbiAgICBlZGl0b3IsXG4gICAgc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZSxcbiAgICBvbkRPTVNlbGVjdGlvbkNoYW5nZVxuICB9ID0gX3JlZjtcbiAgdmFyIGZsdXNoaW5nID0gZmFsc2U7XG4gIHZhciBjb21wb3NpdGlvbkVuZFRpbWVvdXRJZCA9IG51bGw7XG4gIHZhciBmbHVzaFRpbWVvdXRJZCA9IG51bGw7XG4gIHZhciBhY3Rpb25UaW1lb3V0SWQgPSBudWxsO1xuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgdmFyIGluc2VydFBvc2l0aW9uSGludCA9IGZhbHNlO1xuXG4gIHZhciBhcHBseVBlbmRpbmdTZWxlY3Rpb24gPSAoKSA9PiB7XG4gICAgdmFyIHBlbmRpbmdTZWxlY3Rpb24gPSBFRElUT1JfVE9fUEVORElOR19TRUxFQ1RJT04uZ2V0KGVkaXRvcik7XG4gICAgRURJVE9SX1RPX1BFTkRJTkdfU0VMRUNUSU9OLmRlbGV0ZShlZGl0b3IpO1xuXG4gICAgaWYgKHBlbmRpbmdTZWxlY3Rpb24pIHtcbiAgICAgIHZhciB7XG4gICAgICAgIHNlbGVjdGlvblxuICAgICAgfSA9IGVkaXRvcjtcbiAgICAgIHZhciBub3JtYWxpemVkID0gbm9ybWFsaXplUmFuZ2UoZWRpdG9yLCBwZW5kaW5nU2VsZWN0aW9uKTtcblxuICAgICAgaWYgKG5vcm1hbGl6ZWQgJiYgKCFzZWxlY3Rpb24gfHwgIVJhbmdlLmVxdWFscyhub3JtYWxpemVkLCBzZWxlY3Rpb24pKSkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIG5vcm1hbGl6ZWQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICB2YXIgcGVyZm9ybUFjdGlvbiA9ICgpID0+IHtcbiAgICB2YXIgYWN0aW9uID0gRURJVE9SX1RPX1BFTkRJTkdfQUNUSU9OLmdldChlZGl0b3IpO1xuICAgIEVESVRPUl9UT19QRU5ESU5HX0FDVElPTi5kZWxldGUoZWRpdG9yKTtcblxuICAgIGlmICghYWN0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvbi5hdCkge1xuICAgICAgdmFyIHRhcmdldCA9IFBvaW50LmlzUG9pbnQoYWN0aW9uLmF0KSA/IG5vcm1hbGl6ZVBvaW50KGVkaXRvciwgYWN0aW9uLmF0KSA6IG5vcm1hbGl6ZVJhbmdlKGVkaXRvciwgYWN0aW9uLmF0KTtcblxuICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgX3RhcmdldFJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgdGFyZ2V0KTtcblxuICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uIHx8ICFSYW5nZS5lcXVhbHMoZWRpdG9yLnNlbGVjdGlvbiwgX3RhcmdldFJhbmdlKSkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHRhcmdldCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgYWN0aW9uLnJ1bigpO1xuICB9O1xuXG4gIHZhciBmbHVzaCA9ICgpID0+IHtcbiAgICBpZiAoZmx1c2hUaW1lb3V0SWQpIHtcbiAgICAgIGNsZWFyVGltZW91dChmbHVzaFRpbWVvdXRJZCk7XG4gICAgICBmbHVzaFRpbWVvdXRJZCA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKGFjdGlvblRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGFjdGlvblRpbWVvdXRJZCk7XG4gICAgICBhY3Rpb25UaW1lb3V0SWQgPSBudWxsO1xuICAgIH1cblxuICAgIGlmICghaGFzUGVuZGluZ0RpZmZzKCkgJiYgIWhhc1BlbmRpbmdBY3Rpb24oKSkge1xuICAgICAgYXBwbHlQZW5kaW5nU2VsZWN0aW9uKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCFmbHVzaGluZykge1xuICAgICAgZmx1c2hpbmcgPSB0cnVlO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiBmbHVzaGluZyA9IGZhbHNlKTtcbiAgICB9XG5cbiAgICBpZiAoaGFzUGVuZGluZ0FjdGlvbigpKSB7XG4gICAgICBmbHVzaGluZyA9ICdhY3Rpb24nO1xuICAgIH1cblxuICAgIHZhciBzZWxlY3Rpb25SZWYgPSBlZGl0b3Iuc2VsZWN0aW9uICYmIEVkaXRvci5yYW5nZVJlZihlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24sIHtcbiAgICAgIGFmZmluaXR5OiAnZm9yd2FyZCdcbiAgICB9KTtcbiAgICBFRElUT1JfVE9fVVNFUl9NQVJLUy5zZXQoZWRpdG9yLCBlZGl0b3IubWFya3MpO1xuICAgIGRlYnVnKCdmbHVzaCcsIEVESVRPUl9UT19QRU5ESU5HX0FDVElPTi5nZXQoZWRpdG9yKSwgRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuZ2V0KGVkaXRvcikpO1xuICAgIHZhciBzY2hlZHVsZVNlbGVjdGlvbkNoYW5nZSA9IGhhc1BlbmRpbmdEaWZmcygpO1xuICAgIHZhciBkaWZmO1xuXG4gICAgd2hpbGUgKGRpZmYgPSAoX0VESVRPUl9UT19QRU5ESU5HX0RJID0gRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuZ2V0KGVkaXRvcikpID09PSBudWxsIHx8IF9FRElUT1JfVE9fUEVORElOR19ESSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0VESVRPUl9UT19QRU5ESU5HX0RJWzBdKSB7XG4gICAgICB2YXIgX0VESVRPUl9UT19QRU5ESU5HX0RJLCBfRURJVE9SX1RPX1BFTkRJTkdfREkyO1xuXG4gICAgICB2YXIgcGVuZGluZ01hcmtzID0gRURJVE9SX1RPX1BFTkRJTkdfSU5TRVJUSU9OX01BUktTLmdldChlZGl0b3IpO1xuXG4gICAgICBpZiAocGVuZGluZ01hcmtzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgRURJVE9SX1RPX1BFTkRJTkdfSU5TRVJUSU9OX01BUktTLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICBlZGl0b3IubWFya3MgPSBwZW5kaW5nTWFya3M7XG4gICAgICB9XG5cbiAgICAgIGlmIChwZW5kaW5nTWFya3MgJiYgaW5zZXJ0UG9zaXRpb25IaW50ID09PSBmYWxzZSkge1xuICAgICAgICBpbnNlcnRQb3NpdGlvbkhpbnQgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmFuZ2UgPSB0YXJnZXRSYW5nZShkaWZmKTtcblxuICAgICAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uIHx8ICFSYW5nZS5lcXVhbHMoZWRpdG9yLnNlbGVjdGlvbiwgcmFuZ2UpKSB7XG4gICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAoZGlmZi5kaWZmLnRleHQpIHtcbiAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBkaWZmLmRpZmYudGV4dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yKTtcbiAgICAgIH0gLy8gUmVtb3ZlIGRpZmYgb25seSBhZnRlciB3ZSBoYXZlIGFwcGxpZWQgaXQgdG8gYWNjb3VudCBmb3IgaXQgd2hlbiB0cmFuc2Zvcm1pbmdcbiAgICAgIC8vIHBlbmRpbmcgcmFuZ2VzLlxuXG5cbiAgICAgIEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLnNldChlZGl0b3IsIChfRURJVE9SX1RPX1BFTkRJTkdfREkyID0gRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuZ2V0KGVkaXRvcikpID09PSBudWxsIHx8IF9FRElUT1JfVE9fUEVORElOR19ESTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9FRElUT1JfVE9fUEVORElOR19ESTIuZmlsdGVyKF9yZWYyID0+IHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBpZFxuICAgICAgICB9ID0gX3JlZjI7XG4gICAgICAgIHJldHVybiBpZCAhPT0gZGlmZi5pZDtcbiAgICAgIH0pKTtcblxuICAgICAgaWYgKCF2ZXJpZnlEaWZmU3RhdGUoZWRpdG9yLCBkaWZmKSkge1xuICAgICAgICBzY2hlZHVsZVNlbGVjdGlvbkNoYW5nZSA9IGZhbHNlO1xuICAgICAgICBFRElUT1JfVE9fUEVORElOR19BQ1RJT04uZGVsZXRlKGVkaXRvcik7XG4gICAgICAgIEVESVRPUl9UT19VU0VSX01BUktTLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICBmbHVzaGluZyA9ICdhY3Rpb24nOyAvLyBFbnN1cmUgd2UgZG9uJ3QgcmVzdG9yZSB0aGUgcGVuZGluZyB1c2VyIChkb20pIHNlbGVjdGlvblxuICAgICAgICAvLyBzaW5jZSB0aGUgZG9jdW1lbnQgYW5kIGRvbSBzdGF0ZSBkbyBub3QgbWF0Y2guXG5cbiAgICAgICAgRURJVE9SX1RPX1BFTkRJTkdfU0VMRUNUSU9OLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlLmNhbmNlbCgpO1xuICAgICAgICBvbkRPTVNlbGVjdGlvbkNoYW5nZS5jYW5jZWwoKTtcbiAgICAgICAgc2VsZWN0aW9uUmVmID09PSBudWxsIHx8IHNlbGVjdGlvblJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2VsZWN0aW9uUmVmLnVucmVmKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHNlbGVjdGlvbiA9IHNlbGVjdGlvblJlZiA9PT0gbnVsbCB8fCBzZWxlY3Rpb25SZWYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNlbGVjdGlvblJlZi51bnJlZigpO1xuXG4gICAgaWYgKHNlbGVjdGlvbiAmJiAhRURJVE9SX1RPX1BFTkRJTkdfU0VMRUNUSU9OLmdldChlZGl0b3IpICYmICghZWRpdG9yLnNlbGVjdGlvbiB8fCAhUmFuZ2UuZXF1YWxzKHNlbGVjdGlvbiwgZWRpdG9yLnNlbGVjdGlvbikpKSB7XG4gICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHNlbGVjdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGhhc1BlbmRpbmdBY3Rpb24oKSkge1xuICAgICAgcGVyZm9ybUFjdGlvbigpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ09NUEFUOiBUaGUgc2VsZWN0aW9uQ2hhbmdlIGV2ZW50IGlzIGZpcmVkIGFmdGVyIHRoZSBhY3Rpb24gaXMgcGVyZm9ybWVkLFxuICAgIC8vIHNvIHdlIGhhdmUgdG8gbWFudWFsbHkgc2NoZWR1bGUgaXQgdG8gZW5zdXJlIHdlIGRvbid0ICd0aHJvdyBhd2F5JyB0aGUgc2VsZWN0aW9uXG4gICAgLy8gd2hpbGUgcmVuZGVyaW5nIGlmIHdlIGhhdmUgcGVuZGluZyBjaGFuZ2VzLlxuXG5cbiAgICBpZiAoc2NoZWR1bGVTZWxlY3Rpb25DaGFuZ2UpIHtcbiAgICAgIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UoKTtcbiAgICB9XG5cbiAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlLmZsdXNoKCk7XG4gICAgb25ET01TZWxlY3Rpb25DaGFuZ2UuZmx1c2goKTtcbiAgICBhcHBseVBlbmRpbmdTZWxlY3Rpb24oKTtcbiAgICB2YXIgdXNlck1hcmtzID0gRURJVE9SX1RPX1VTRVJfTUFSS1MuZ2V0KGVkaXRvcik7XG4gICAgRURJVE9SX1RPX1VTRVJfTUFSS1MuZGVsZXRlKGVkaXRvcik7XG5cbiAgICBpZiAodXNlck1hcmtzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkaXRvci5tYXJrcyA9IHVzZXJNYXJrcztcbiAgICAgIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlQ29tcG9zaXRpb25FbmQgPSBfZXZlbnQgPT4ge1xuICAgIGlmIChjb21wb3NpdGlvbkVuZFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNvbXBvc2l0aW9uRW5kVGltZW91dElkKTtcbiAgICB9XG5cbiAgICBjb21wb3NpdGlvbkVuZFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgSVNfQ09NUE9TSU5HLnNldChlZGl0b3IsIGZhbHNlKTtcbiAgICAgIGZsdXNoKCk7XG4gICAgfSwgUkVTT0xWRV9ERUxBWSk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZUNvbXBvc2l0aW9uU3RhcnQgPSBfZXZlbnQgPT4ge1xuICAgIElTX0NPTVBPU0lORy5zZXQoZWRpdG9yLCB0cnVlKTtcblxuICAgIGlmIChjb21wb3NpdGlvbkVuZFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGNvbXBvc2l0aW9uRW5kVGltZW91dElkKTtcbiAgICAgIGNvbXBvc2l0aW9uRW5kVGltZW91dElkID0gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHVwZGF0ZVBsYWNlaG9sZGVyVmlzaWJpbGl0eSA9IGZ1bmN0aW9uIHVwZGF0ZVBsYWNlaG9sZGVyVmlzaWJpbGl0eSgpIHtcbiAgICB2YXIgZm9yY2VIaWRlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBmYWxzZTtcbiAgICB2YXIgcGxhY2Vob2xkZXJFbGVtZW50ID0gRURJVE9SX1RPX1BMQUNFSE9MREVSX0VMRU1FTlQuZ2V0KGVkaXRvcik7XG5cbiAgICBpZiAoIXBsYWNlaG9sZGVyRWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChoYXNQZW5kaW5nRGlmZnMoKSB8fCBmb3JjZUhpZGUpIHtcbiAgICAgIHBsYWNlaG9sZGVyRWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHBsYWNlaG9sZGVyRWxlbWVudC5zdHlsZS5yZW1vdmVQcm9wZXJ0eSgnZGlzcGxheScpO1xuICB9O1xuXG4gIHZhciBzdG9yZURpZmYgPSAocGF0aCwgZGlmZikgPT4ge1xuICAgIHZhciBfRURJVE9SX1RPX1BFTkRJTkdfREkzO1xuICAgIHZhciBwZW5kaW5nRGlmZnMgPSAoX0VESVRPUl9UT19QRU5ESU5HX0RJMyA9IEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLmdldChlZGl0b3IpKSAhPT0gbnVsbCAmJiBfRURJVE9SX1RPX1BFTkRJTkdfREkzICE9PSB2b2lkIDAgPyBfRURJVE9SX1RPX1BFTkRJTkdfREkzIDogW107XG4gICAgRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuc2V0KGVkaXRvciwgcGVuZGluZ0RpZmZzKTtcbiAgICB2YXIgdGFyZ2V0ID0gTm9kZS5sZWFmKGVkaXRvciwgcGF0aCk7XG4gICAgdmFyIGlkeCA9IHBlbmRpbmdEaWZmcy5maW5kSW5kZXgoY2hhbmdlID0+IFBhdGguZXF1YWxzKGNoYW5nZS5wYXRoLCBwYXRoKSk7XG5cbiAgICBpZiAoaWR4IDwgMCkge1xuICAgICAgdmFyIG5vcm1hbGl6ZWQgPSBub3JtYWxpemVTdHJpbmdEaWZmKHRhcmdldC50ZXh0LCBkaWZmKTtcblxuICAgICAgaWYgKG5vcm1hbGl6ZWQpIHtcbiAgICAgICAgcGVuZGluZ0RpZmZzLnB1c2goe1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgZGlmZixcbiAgICAgICAgICBpZDogaWRDb3VudGVyKytcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyVmlzaWJpbGl0eSgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtZXJnZWQgPSBtZXJnZVN0cmluZ0RpZmZzKHRhcmdldC50ZXh0LCBwZW5kaW5nRGlmZnNbaWR4XS5kaWZmLCBkaWZmKTtcblxuICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICBwZW5kaW5nRGlmZnMuc3BsaWNlKGlkeCwgMSk7XG4gICAgICB1cGRhdGVQbGFjZWhvbGRlclZpc2liaWxpdHkoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBwZW5kaW5nRGlmZnNbaWR4XSA9IF9vYmplY3RTcHJlYWQkMyhfb2JqZWN0U3ByZWFkJDMoe30sIHBlbmRpbmdEaWZmc1tpZHhdKSwge30sIHtcbiAgICAgIGRpZmY6IG1lcmdlZFxuICAgIH0pO1xuICB9O1xuXG4gIHZhciBzY2hlZHVsZUFjdGlvbiA9IGZ1bmN0aW9uIHNjaGVkdWxlQWN0aW9uKHJ1bikge1xuICAgIHZhciB7XG4gICAgICBhdFxuICAgIH0gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIGluc2VydFBvc2l0aW9uSGludCA9IGZhbHNlO1xuICAgIEVESVRPUl9UT19QRU5ESU5HX1NFTEVDVElPTi5kZWxldGUoZWRpdG9yKTtcbiAgICBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlLmNhbmNlbCgpO1xuICAgIG9uRE9NU2VsZWN0aW9uQ2hhbmdlLmNhbmNlbCgpO1xuXG4gICAgaWYgKGhhc1BlbmRpbmdBY3Rpb24oKSkge1xuICAgICAgZmx1c2goKTtcbiAgICB9XG5cbiAgICBFRElUT1JfVE9fUEVORElOR19BQ1RJT04uc2V0KGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBydW5cbiAgICB9KTsgLy8gQ09NUEFUOiBXaGVuIGRlbGV0aW5nIGJlZm9yZSBhIG5vbi1jb250ZW50ZWRpdGFibGUgZWxlbWVudCBjaHJvbWUgb25seSBmaXJlcyBhIGJlZm9yZWlucHV0LFxuICAgIC8vIChubyBpbnB1dCkgYW5kIGRvZXNuJ3QgcGVyZm9ybSBhbnkgZG9tIG11dGF0aW9ucy4gV2l0aG91dCBhIGZsdXNoIHRpbWVvdXQgd2Ugd291bGQgbmV2ZXIgZmx1c2hcbiAgICAvLyBpbiB0aGlzIGNhc2UgYW5kIHRodXMgbmV2ZXIgYWN0dWFsbHkgcGVyZm9ybSB0aGUgYWN0aW9uLlxuXG4gICAgYWN0aW9uVGltZW91dElkID0gc2V0VGltZW91dChmbHVzaCk7XG4gIH07XG5cbiAgdmFyIGhhbmRsZURPTUJlZm9yZUlucHV0ID0gZXZlbnQgPT4ge1xuICAgIHZhciBfdGFyZ2V0UmFuZ2UyO1xuXG4gICAgaWYgKGZsdXNoVGltZW91dElkKSB7XG4gICAgICBjbGVhclRpbWVvdXQoZmx1c2hUaW1lb3V0SWQpO1xuICAgICAgZmx1c2hUaW1lb3V0SWQgPSBudWxsO1xuICAgIH1cblxuICAgIHZhciB7XG4gICAgICBpbnB1dFR5cGU6IHR5cGVcbiAgICB9ID0gZXZlbnQ7XG4gICAgdmFyIHRhcmdldFJhbmdlID0gbnVsbDtcbiAgICB2YXIgZGF0YSA9IGV2ZW50LmRhdGFUcmFuc2ZlciB8fCBldmVudC5kYXRhIHx8IHVuZGVmaW5lZDtcblxuICAgIGlmIChpbnNlcnRQb3NpdGlvbkhpbnQgIT09IGZhbHNlICYmIHR5cGUgIT09ICdpbnNlcnRUZXh0JyAmJiB0eXBlICE9PSAnaW5zZXJ0Q29tcG9zaXRpb25UZXh0Jykge1xuICAgICAgaW5zZXJ0UG9zaXRpb25IaW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIFtuYXRpdmVUYXJnZXRSYW5nZV0gPSBldmVudC5nZXRUYXJnZXRSYW5nZXMoKTtcblxuICAgIGlmIChuYXRpdmVUYXJnZXRSYW5nZSkge1xuICAgICAgdGFyZ2V0UmFuZ2UgPSBSZWFjdEVkaXRvci50b1NsYXRlUmFuZ2UoZWRpdG9yLCBuYXRpdmVUYXJnZXRSYW5nZSwge1xuICAgICAgICBleGFjdE1hdGNoOiBmYWxzZSxcbiAgICAgICAgc3VwcHJlc3NUaHJvdzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfSAvLyBDT01QQVQ6IFNlbGVjdGlvbkNoYW5nZSBldmVudCBpcyBmaXJlZCBhZnRlciB0aGUgYWN0aW9uIGlzIHBlcmZvcm1lZCwgc28gd2VcbiAgICAvLyBoYXZlIHRvIG1hbnVhbGx5IGdldCB0aGUgc2VsZWN0aW9uIGhlcmUgdG8gZW5zdXJlIGl0J3MgdXAtdG8tZGF0ZS5cblxuXG4gICAgdmFyIHdpbmRvdyA9IFJlYWN0RWRpdG9yLmdldFdpbmRvdyhlZGl0b3IpO1xuICAgIHZhciBkb21TZWxlY3Rpb24gPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICBpZiAoIXRhcmdldFJhbmdlICYmIGRvbVNlbGVjdGlvbikge1xuICAgICAgbmF0aXZlVGFyZ2V0UmFuZ2UgPSBkb21TZWxlY3Rpb247XG4gICAgICB0YXJnZXRSYW5nZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVSYW5nZShlZGl0b3IsIGRvbVNlbGVjdGlvbiwge1xuICAgICAgICBleGFjdE1hdGNoOiBmYWxzZSxcbiAgICAgICAgc3VwcHJlc3NUaHJvdzogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGFyZ2V0UmFuZ2UgPSAoX3RhcmdldFJhbmdlMiA9IHRhcmdldFJhbmdlKSAhPT0gbnVsbCAmJiBfdGFyZ2V0UmFuZ2UyICE9PSB2b2lkIDAgPyBfdGFyZ2V0UmFuZ2UyIDogZWRpdG9yLnNlbGVjdGlvbjtcblxuICAgIGlmICghdGFyZ2V0UmFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IC8vIEJ5IGRlZmF1bHQsIHRoZSBpbnB1dCBtYW5hZ2VyIHRyaWVzIHRvIHN0b3JlIHRleHQgZGlmZnMgc28gdGhhdCB3ZSBjYW5cbiAgICAvLyBkZWZlciBmbHVzaGluZyB0aGVtIGF0IGEgbGF0ZXIgcG9pbnQgaW4gdGltZS4gV2UgZG9uJ3Qgd2FudCB0byBmbHVzaFxuICAgIC8vIGZvciBldmVyeSBpbnB1dCBldmVudCBhcyB0aGlzIGNhbiBiZSBleHBlbnNpdmUuIEhvd2V2ZXIsIHRoZXJlIGFyZSBzb21lXG4gICAgLy8gc2NlbmFyaW9zIHdoZXJlIHdlIGNhbm5vdCBzYWZlbHkgc3RvcmUgdGhlIHRleHQgZGlmZiBhbmQgbXVzdCBpbnN0ZWFkXG4gICAgLy8gc2NoZWR1bGUgYW4gYWN0aW9uIHRvIGxldCBTbGF0ZSBub3JtYWxpemUgdGhlIGVkaXRvciBzdGF0ZS5cblxuXG4gICAgdmFyIGNhblN0b3JlRGlmZiA9IHRydWU7XG5cbiAgICBpZiAodHlwZS5zdGFydHNXaXRoKCdkZWxldGUnKSkge1xuICAgICAgaWYgKFJhbmdlLmlzRXhwYW5kZWQodGFyZ2V0UmFuZ2UpKSB7XG4gICAgICAgIHZhciBbX3N0YXJ0LCBfZW5kXSA9IFJhbmdlLmVkZ2VzKHRhcmdldFJhbmdlKTtcblxuICAgICAgICB2YXIgX2xlYWYgPSBOb2RlLmxlYWYoZWRpdG9yLCBfc3RhcnQucGF0aCk7XG5cbiAgICAgICAgaWYgKF9sZWFmLnRleHQubGVuZ3RoID09PSBfc3RhcnQub2Zmc2V0ICYmIF9lbmQub2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgdmFyIG5leHQgPSBFZGl0b3IubmV4dChlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBfc3RhcnQucGF0aCxcbiAgICAgICAgICAgIG1hdGNoOiBUZXh0JDEuaXNUZXh0XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobmV4dCAmJiBQYXRoLmVxdWFscyhuZXh0WzFdLCBfZW5kLnBhdGgpKSB7XG4gICAgICAgICAgICB0YXJnZXRSYW5nZSA9IHtcbiAgICAgICAgICAgICAgYW5jaG9yOiBfZW5kLFxuICAgICAgICAgICAgICBmb2N1czogX2VuZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUuZW5kc1dpdGgoJ0JhY2t3YXJkJykgPyAnYmFja3dhcmQnIDogJ2ZvcndhcmQnO1xuICAgICAgdmFyIFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHRhcmdldFJhbmdlKTtcbiAgICAgIHZhciBbbGVhZiwgcGF0aF0gPSBFZGl0b3IubGVhZihlZGl0b3IsIHN0YXJ0LnBhdGgpO1xuICAgICAgdmFyIGRpZmYgPSB7XG4gICAgICAgIHRleHQ6ICcnLFxuICAgICAgICBzdGFydDogc3RhcnQub2Zmc2V0LFxuICAgICAgICBlbmQ6IGVuZC5vZmZzZXRcbiAgICAgIH07XG4gICAgICB2YXIgcGVuZGluZ0RpZmZzID0gRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuZ2V0KGVkaXRvcik7XG4gICAgICB2YXIgcmVsZXZhbnRQZW5kaW5nRGlmZnMgPSBwZW5kaW5nRGlmZnMgPT09IG51bGwgfHwgcGVuZGluZ0RpZmZzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwZW5kaW5nRGlmZnMuZmluZChjaGFuZ2UgPT4gUGF0aC5lcXVhbHMoY2hhbmdlLnBhdGgsIHBhdGgpKTtcbiAgICAgIHZhciBkaWZmcyA9IHJlbGV2YW50UGVuZGluZ0RpZmZzID8gW3JlbGV2YW50UGVuZGluZ0RpZmZzLmRpZmYsIGRpZmZdIDogW2RpZmZdO1xuICAgICAgdmFyIHRleHQgPSBhcHBseVN0cmluZ0RpZmYobGVhZi50ZXh0LCAuLi5kaWZmcyk7XG5cbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBUZXh0IGxlYWYgd2lsbCBiZSByZW1vdmVkLCBzbyB3ZSBuZWVkIHRvIHNjaGVkdWxlIGFuXG4gICAgICAgIC8vIGFjdGlvbiB0byByZW1vdmUgaXQgc28gdGhhdCBTbGF0ZSBjYW4gbm9ybWFsaXplIGluc3RlYWRcbiAgICAgICAgLy8gb2Ygc3RvcmluZyBhcyBhIGRpZmZcbiAgICAgICAgY2FuU3RvcmVEaWZmID0gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHRhcmdldFJhbmdlKSkge1xuICAgICAgICBpZiAoY2FuU3RvcmVEaWZmICYmIFBhdGguZXF1YWxzKHRhcmdldFJhbmdlLmFuY2hvci5wYXRoLCB0YXJnZXRSYW5nZS5mb2N1cy5wYXRoKSkge1xuICAgICAgICAgIHZhciBwb2ludCA9IHtcbiAgICAgICAgICAgIHBhdGg6IHRhcmdldFJhbmdlLmFuY2hvci5wYXRoLFxuICAgICAgICAgICAgb2Zmc2V0OiBzdGFydC5vZmZzZXRcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHBvaW50LCBwb2ludCk7XG4gICAgICAgICAgaGFuZGxlVXNlclNlbGVjdChyYW5nZSk7XG4gICAgICAgICAgcmV0dXJuIHN0b3JlRGlmZih0YXJnZXRSYW5nZS5hbmNob3IucGF0aCwge1xuICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICBlbmQ6IGVuZC5vZmZzZXQsXG4gICAgICAgICAgICBzdGFydDogc3RhcnQub2Zmc2V0XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwge1xuICAgICAgICAgIGRpcmVjdGlvblxuICAgICAgICB9KSwge1xuICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgIGNhc2UgJ2RlbGV0ZUJ5Q29tcG9zaXRpb24nOlxuICAgICAgY2FzZSAnZGVsZXRlQnlDdXQnOlxuICAgICAgY2FzZSAnZGVsZXRlQnlEcmFnJzpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFjdGlvbigoKSA9PiBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yKSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZGVsZXRlQ29udGVudCc6XG4gICAgICBjYXNlICdkZWxldGVDb250ZW50Rm9yd2FyZCc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgYW5jaG9yXG4gICAgICAgICAgfSA9IHRhcmdldFJhbmdlO1xuXG4gICAgICAgICAgaWYgKGNhblN0b3JlRGlmZiAmJiBSYW5nZS5pc0NvbGxhcHNlZCh0YXJnZXRSYW5nZSkpIHtcbiAgICAgICAgICAgIHZhciB0YXJnZXROb2RlID0gTm9kZS5sZWFmKGVkaXRvciwgYW5jaG9yLnBhdGgpO1xuXG4gICAgICAgICAgICBpZiAoYW5jaG9yLm9mZnNldCA8IHRhcmdldE5vZGUudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0b3JlRGlmZihhbmNob3IucGF0aCwge1xuICAgICAgICAgICAgICAgIHRleHQ6ICcnLFxuICAgICAgICAgICAgICAgIHN0YXJ0OiBhbmNob3Iub2Zmc2V0LFxuICAgICAgICAgICAgICAgIGVuZDogYW5jaG9yLm9mZnNldCArIDFcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciksIHtcbiAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2RlbGV0ZUNvbnRlbnRCYWNrd2FyZCc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX25hdGl2ZVRhcmdldFJhbmdlO1xuXG4gICAgICAgICAgdmFyIHtcbiAgICAgICAgICAgIGFuY2hvcjogX2FuY2hvclxuICAgICAgICAgIH0gPSB0YXJnZXRSYW5nZTsgLy8gSWYgd2UgaGF2ZSBhIG1pc21hdGNoIGJldHdlZW4gdGhlIG5hdGl2ZSBhbmQgc2xhdGUgc2VsZWN0aW9uIGJlaW5nIGNvbGxhcHNlZFxuICAgICAgICAgIC8vIHdlIGFyZSBtb3N0IGxpa2VseSBkZWxldGluZyBhIHplcm8td2lkdGggcGxhY2Vob2xkZXIgYW5kIHRodXMgc2hvdWxkIHBlcmZvcm0gaXRcbiAgICAgICAgICAvLyBhcyBhbiBhY3Rpb24gdG8gZW5zdXJlIGNvcnJlY3QgYmVoYXZpb3IgKG1vc3RseSBoYXBwZW5zIHdpdGggbWFyayBwbGFjZWhvbGRlcnMpXG5cbiAgICAgICAgICB2YXIgbmF0aXZlQ29sbGFwc2VkID0gaXNET01TZWxlY3Rpb24obmF0aXZlVGFyZ2V0UmFuZ2UpID8gbmF0aXZlVGFyZ2V0UmFuZ2UuaXNDb2xsYXBzZWQgOiAhISgoX25hdGl2ZVRhcmdldFJhbmdlID0gbmF0aXZlVGFyZ2V0UmFuZ2UpICE9PSBudWxsICYmIF9uYXRpdmVUYXJnZXRSYW5nZSAhPT0gdm9pZCAwICYmIF9uYXRpdmVUYXJnZXRSYW5nZS5jb2xsYXBzZWQpO1xuXG4gICAgICAgICAgaWYgKGNhblN0b3JlRGlmZiAmJiBuYXRpdmVDb2xsYXBzZWQgJiYgUmFuZ2UuaXNDb2xsYXBzZWQodGFyZ2V0UmFuZ2UpICYmIF9hbmNob3Iub2Zmc2V0ID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0b3JlRGlmZihfYW5jaG9yLnBhdGgsIHtcbiAgICAgICAgICAgICAgdGV4dDogJycsXG4gICAgICAgICAgICAgIHN0YXJ0OiBfYW5jaG9yLm9mZnNldCAtIDEsXG4gICAgICAgICAgICAgIGVuZDogX2FuY2hvci5vZmZzZXRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFjdGlvbigoKSA9PiBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yKSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZGVsZXRlRW50aXJlU29mdExpbmUnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgdW5pdDogJ2xpbmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgICB1bml0OiAnbGluZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2RlbGV0ZUhhcmRMaW5lQmFja3dhcmQnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgIHVuaXQ6ICdibG9jaydcbiAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZGVsZXRlU29mdExpbmVCYWNrd2FyZCc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgdW5pdDogJ2xpbmUnXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2RlbGV0ZUhhcmRMaW5lRm9yd2FyZCc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICB1bml0OiAnYmxvY2snXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2RlbGV0ZVNvZnRMaW5lRm9yd2FyZCc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICB1bml0OiAnbGluZSdcbiAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZGVsZXRlV29yZEJhY2t3YXJkJzpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFjdGlvbigoKSA9PiBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICB1bml0OiAnd29yZCdcbiAgICAgICAgICB9KSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnZGVsZXRlV29yZEZvcndhcmQnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgdW5pdDogJ3dvcmQnXG4gICAgICAgICAgfSksIHtcbiAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2luc2VydExpbmVCcmVhayc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gRWRpdG9yLmluc2VydFNvZnRCcmVhayhlZGl0b3IpLCB7XG4gICAgICAgICAgICBhdDogdGFyZ2V0UmFuZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdpbnNlcnRQYXJhZ3JhcGgnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IEVkaXRvci5pbnNlcnRCcmVhayhlZGl0b3IpLCB7XG4gICAgICAgICAgICBhdDogdGFyZ2V0UmFuZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdpbnNlcnRDb21wb3NpdGlvblRleHQnOlxuICAgICAgY2FzZSAnZGVsZXRlQ29tcG9zaXRpb25UZXh0JzpcbiAgICAgIGNhc2UgJ2luc2VydEZyb21Db21wb3NpdGlvbic6XG4gICAgICBjYXNlICdpbnNlcnRGcm9tRHJvcCc6XG4gICAgICBjYXNlICdpbnNlcnRGcm9tUGFzdGUnOlxuICAgICAgY2FzZSAnaW5zZXJ0RnJvbVlhbmsnOlxuICAgICAgY2FzZSAnaW5zZXJ0UmVwbGFjZW1lbnRUZXh0JzpcbiAgICAgIGNhc2UgJ2luc2VydFRleHQnOlxuICAgICAgICB7XG4gICAgICAgICAgaWYgKGlzRGF0YVRyYW5zZmVyKGRhdGEpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVBY3Rpb24oKCkgPT4gUmVhY3RFZGl0b3IuaW5zZXJ0RGF0YShlZGl0b3IsIGRhdGEpLCB7XG4gICAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIF90ZXh0ID0gZGF0YSAhPT0gbnVsbCAmJiBkYXRhICE9PSB2b2lkIDAgPyBkYXRhIDogJyc7IC8vIENPTVBBVDogSWYgd2UgYXJlIHdyaXRpbmcgaW5zaWRlIGEgcGxhY2Vob2xkZXIsIHRoZSBpbWUgaW5zZXJ0cyB0aGUgdGV4dCBpbnNpZGVcbiAgICAgICAgICAvLyB0aGUgcGxhY2Vob2xkZXIgaXRzZWxmIGFuZCB0aHVzIGluY2x1ZGVzIHRoZSB6ZXJvLXdpZHRoIHNwYWNlIGluc2lkZSBlZGl0IGV2ZW50cy5cblxuXG4gICAgICAgICAgaWYgKEVESVRPUl9UT19QRU5ESU5HX0lOU0VSVElPTl9NQVJLUy5nZXQoZWRpdG9yKSkge1xuICAgICAgICAgICAgX3RleHQgPSBfdGV4dC5yZXBsYWNlKCdcXHVGRUZGJywgJycpO1xuICAgICAgICAgIH0gLy8gUGFzdGVzIGZyb20gdGhlIEFuZHJvaWQgY2xpcGJvYXJkIHdpbGwgZ2VuZXJhdGUgYGluc2VydFRleHRgIGV2ZW50cy5cbiAgICAgICAgICAvLyBJZiB0aGUgY29waWVkIHRleHQgY29udGFpbnMgYW55IG5ld2xpbmVzLCBBbmRyb2lkIHdpbGwgYXBwZW5kIGFuXG4gICAgICAgICAgLy8gZXh0cmEgbmV3bGluZSB0byB0aGUgZW5kIG9mIHRoZSBjb3BpZWQgdGV4dC5cblxuXG4gICAgICAgICAgaWYgKHR5cGUgPT09ICdpbnNlcnRUZXh0JyAmJiAvLipcXG4uKlxcbiQvLnRlc3QoX3RleHQpKSB7XG4gICAgICAgICAgICBfdGV4dCA9IF90ZXh0LnNsaWNlKDAsIC0xKTtcbiAgICAgICAgICB9IC8vIElmIHRoZSB0ZXh0IGluY2x1ZGVzIGEgbmV3bGluZSwgc3BsaXQgaXQgYXQgbmV3bGluZXMgYW5kIHBhc3RlIGVhY2ggY29tcG9uZW50XG4gICAgICAgICAgLy8gc3RyaW5nLCB3aXRoIHNvZnQgYnJlYWtzIGluIGJldHdlZW4gZWFjaC5cblxuXG4gICAgICAgICAgaWYgKF90ZXh0LmluY2x1ZGVzKCdcXG4nKSkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQWN0aW9uKCgpID0+IHtcbiAgICAgICAgICAgICAgdmFyIHBhcnRzID0gX3RleHQuc3BsaXQoJ1xcbicpO1xuXG4gICAgICAgICAgICAgIHBhcnRzLmZvckVhY2goKGxpbmUsIGkpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobGluZSkge1xuICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBsaW5lKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaSAhPT0gcGFydHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFNvZnRCcmVhayhlZGl0b3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGF0OiB0YXJnZXRSYW5nZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKHRhcmdldFJhbmdlLmFuY2hvci5wYXRoLCB0YXJnZXRSYW5nZS5mb2N1cy5wYXRoKSkge1xuICAgICAgICAgICAgdmFyIFtfc3RhcnQyLCBfZW5kMl0gPSBSYW5nZS5lZGdlcyh0YXJnZXRSYW5nZSk7XG4gICAgICAgICAgICB2YXIgX2RpZmYgPSB7XG4gICAgICAgICAgICAgIHN0YXJ0OiBfc3RhcnQyLm9mZnNldCxcbiAgICAgICAgICAgICAgZW5kOiBfZW5kMi5vZmZzZXQsXG4gICAgICAgICAgICAgIHRleHQ6IF90ZXh0XG4gICAgICAgICAgICB9OyAvLyBDT01QQVQ6IFN3aWZ0a2V5IGhhcyBhIHdlaXJkIGJ1ZyB3aGVyZSB0aGUgdGFyZ2V0IHJhbmdlIG9mIHRoZSAybmQgd29yZFxuICAgICAgICAgICAgLy8gaW5zZXJ0ZWQgYWZ0ZXIgYSBtYXJrIHBsYWNlaG9sZGVyIGlzIGluc2VydGVkIHdpdGggYW4gYW5jaG9yIG9mZnNldCBvZmYgYnkgMS5cbiAgICAgICAgICAgIC8vIFNvIHdyaXRpbmcgJ3NvbWUgdGV4dCcgd2lsbCByZXN1bHQgaW4gJ3NvbWUgdHRleHQnLiBMdWNraWx5IGFsbCAnbm9ybWFsJyBpbnNlcnRcbiAgICAgICAgICAgIC8vIHRleHQgZXZlbnRzIGFyZSBmaXJlZCB3aXRoIHRoZSBjb3JyZWN0IHRhcmdldCByYW5nZXMsIG9ubHkgdGhlIGZpbmFsICdpbnNlcnRDb21wb3NpdGlvbidcbiAgICAgICAgICAgIC8vIGlzbid0LCBzbyB3ZSBjYW4gYWRqdXN0IHRoZSB0YXJnZXQgcmFuZ2Ugc3RhcnQgb2Zmc2V0IGlmIHdlIGFyZSBjb25maWRlbnQgdGhpcyBpcyB0aGVcbiAgICAgICAgICAgIC8vIHN3aWZ0a2V5IGluc2VydCBjYXVzaW5nIHRoZSBpc3N1ZS5cblxuICAgICAgICAgICAgaWYgKF90ZXh0ICYmIGluc2VydFBvc2l0aW9uSGludCAmJiB0eXBlID09PSAnaW5zZXJ0Q29tcG9zaXRpb25UZXh0Jykge1xuICAgICAgICAgICAgICB2YXIgaGludFBvc2l0aW9uID0gaW5zZXJ0UG9zaXRpb25IaW50LnN0YXJ0ICsgaW5zZXJ0UG9zaXRpb25IaW50LnRleHQuc2VhcmNoKC9cXFN8JC8pO1xuXG4gICAgICAgICAgICAgIHZhciBkaWZmUG9zaXRpb24gPSBfZGlmZi5zdGFydCArIF9kaWZmLnRleHQuc2VhcmNoKC9cXFN8JC8pO1xuXG4gICAgICAgICAgICAgIGlmIChkaWZmUG9zaXRpb24gPT09IGhpbnRQb3NpdGlvbiArIDEgJiYgX2RpZmYuZW5kID09PSBpbnNlcnRQb3NpdGlvbkhpbnQuc3RhcnQgKyBpbnNlcnRQb3NpdGlvbkhpbnQudGV4dC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBfZGlmZi5zdGFydCAtPSAxO1xuICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uSGludCA9IG51bGw7XG4gICAgICAgICAgICAgICAgc2NoZWR1bGVGbHVzaCgpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdpbnNlcnRUZXh0Jykge1xuICAgICAgICAgICAgICBpZiAoaW5zZXJ0UG9zaXRpb25IaW50ID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb25IaW50ID0gX2RpZmY7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoaW5zZXJ0UG9zaXRpb25IaW50ICYmIFJhbmdlLmlzQ29sbGFwc2VkKHRhcmdldFJhbmdlKSAmJiBpbnNlcnRQb3NpdGlvbkhpbnQuZW5kICsgaW5zZXJ0UG9zaXRpb25IaW50LnRleHQubGVuZ3RoID09PSBfc3RhcnQyLm9mZnNldCkge1xuICAgICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uSGludCA9IF9vYmplY3RTcHJlYWQkMyhfb2JqZWN0U3ByZWFkJDMoe30sIGluc2VydFBvc2l0aW9uSGludCksIHt9LCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiBpbnNlcnRQb3NpdGlvbkhpbnQudGV4dCArIF90ZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5zZXJ0UG9zaXRpb25IaW50ID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGluc2VydFBvc2l0aW9uSGludCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY2FuU3RvcmVEaWZmKSB7XG4gICAgICAgICAgICAgIHN0b3JlRGlmZihfc3RhcnQyLnBhdGgsIF9kaWZmKTtcbiAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFjdGlvbigoKSA9PiBFZGl0b3IuaW5zZXJ0VGV4dChlZGl0b3IsIF90ZXh0KSwge1xuICAgICAgICAgICAgYXQ6IHRhcmdldFJhbmdlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhc1BlbmRpbmdBY3Rpb24gPSAoKSA9PiB7XG4gICAgcmV0dXJuICEhRURJVE9SX1RPX1BFTkRJTkdfQUNUSU9OLmdldChlZGl0b3IpO1xuICB9O1xuXG4gIHZhciBoYXNQZW5kaW5nRGlmZnMgPSAoKSA9PiB7XG4gICAgdmFyIF9FRElUT1JfVE9fUEVORElOR19ESTQ7XG5cbiAgICByZXR1cm4gISEoKF9FRElUT1JfVE9fUEVORElOR19ESTQgPSBFRElUT1JfVE9fUEVORElOR19ESUZGUy5nZXQoZWRpdG9yKSkgIT09IG51bGwgJiYgX0VESVRPUl9UT19QRU5ESU5HX0RJNCAhPT0gdm9pZCAwICYmIF9FRElUT1JfVE9fUEVORElOR19ESTQubGVuZ3RoKTtcbiAgfTtcblxuICB2YXIgaGFzUGVuZGluZ0NoYW5nZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIGhhc1BlbmRpbmdBY3Rpb24oKSB8fCBoYXNQZW5kaW5nRGlmZnMoKTtcbiAgfTtcblxuICB2YXIgaXNGbHVzaGluZyA9ICgpID0+IHtcbiAgICByZXR1cm4gZmx1c2hpbmc7XG4gIH07XG5cbiAgdmFyIGhhbmRsZVVzZXJTZWxlY3QgPSByYW5nZSA9PiB7XG4gICAgRURJVE9SX1RPX1BFTkRJTkdfU0VMRUNUSU9OLnNldChlZGl0b3IsIHJhbmdlKTtcblxuICAgIGlmIChmbHVzaFRpbWVvdXRJZCkge1xuICAgICAgY2xlYXJUaW1lb3V0KGZsdXNoVGltZW91dElkKTtcbiAgICAgIGZsdXNoVGltZW91dElkID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIge1xuICAgICAgc2VsZWN0aW9uXG4gICAgfSA9IGVkaXRvcjtcblxuICAgIGlmICghcmFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcGF0aENoYW5nZWQgPSAhc2VsZWN0aW9uIHx8ICFQYXRoLmVxdWFscyhzZWxlY3Rpb24uYW5jaG9yLnBhdGgsIHJhbmdlLmFuY2hvci5wYXRoKTtcbiAgICB2YXIgcGFyZW50UGF0aENoYW5nZWQgPSAhc2VsZWN0aW9uIHx8ICFQYXRoLmVxdWFscyhzZWxlY3Rpb24uYW5jaG9yLnBhdGguc2xpY2UoMCwgLTEpLCByYW5nZS5hbmNob3IucGF0aC5zbGljZSgwLCAtMSkpO1xuXG4gICAgaWYgKHBhdGhDaGFuZ2VkICYmIGluc2VydFBvc2l0aW9uSGludCB8fCBwYXJlbnRQYXRoQ2hhbmdlZCkge1xuICAgICAgaW5zZXJ0UG9zaXRpb25IaW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHBhdGhDaGFuZ2VkIHx8IGhhc1BlbmRpbmdEaWZmcygpKSB7XG4gICAgICBmbHVzaFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZmx1c2gsIEZMVVNIX0RFTEFZKTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIGhhbmRsZUlucHV0ID0gKCkgPT4ge1xuICAgIGlmIChoYXNQZW5kaW5nQWN0aW9uKCkgfHwgIWhhc1BlbmRpbmdEaWZmcygpKSB7XG4gICAgICBmbHVzaCgpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlS2V5RG93biA9IF8gPT4ge1xuICAgIC8vIENPTVBBVDogU3dpZnRrZXkgY2xvc2VzIHRoZSBrZXlib2FyZCB3aGVuIHR5cGluZyBpbnNpZGUgYSBlbXB0eSBub2RlXG4gICAgLy8gZGlyZWN0bHkgbmV4dCB0byBhIG5vbi1jb250ZW50ZWRpdGFibGUgZWxlbWVudCAoPSB0aGUgcGxhY2Vob2xkZXIpLlxuICAgIC8vIFRoZSBvbmx5IGV2ZW50IGZpcmVkIHNvb24gZW5vdWdoIGZvciB1cyB0byBhbGxvdyBoaWRpbmcgdGhlIHBsYWNlaG9sZGVyXG4gICAgLy8gd2l0aG91dCBzd2lmdGtleSBwaWNraW5nIGl0IHVwIGlzIHRoZSBrZXlkb3duIGV2ZW50LCBzbyB3ZSBoYXZlIHRvIGhpZGUgaXRcbiAgICAvLyBoZXJlLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL2lhbnN0b3JtdGF5bG9yL3NsYXRlL3B1bGwvNDk4OCNpc3N1ZWNvbW1lbnQtMTIwMTA1MDUzNVxuICAgIGlmICghaGFzUGVuZGluZ0RpZmZzKCkpIHtcbiAgICAgIHVwZGF0ZVBsYWNlaG9sZGVyVmlzaWJpbGl0eSh0cnVlKTtcbiAgICAgIHNldFRpbWVvdXQodXBkYXRlUGxhY2Vob2xkZXJWaXNpYmlsaXR5KTtcbiAgICB9XG4gIH07XG5cbiAgdmFyIHNjaGVkdWxlRmx1c2ggPSAoKSA9PiB7XG4gICAgaWYgKCFoYXNQZW5kaW5nQWN0aW9uKCkpIHtcbiAgICAgIGFjdGlvblRpbWVvdXRJZCA9IHNldFRpbWVvdXQoZmx1c2gpO1xuICAgIH1cbiAgfTtcblxuICB2YXIgaGFuZGxlRG9tTXV0YXRpb25zID0gbXV0YXRpb25zID0+IHtcbiAgICBpZiAoaGFzUGVuZGluZ0RpZmZzKCkgfHwgaGFzUGVuZGluZ0FjdGlvbigpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG11dGF0aW9ucy5zb21lKG11dGF0aW9uID0+IGlzVHJhY2tlZE11dGF0aW9uKGVkaXRvciwgbXV0YXRpb24sIG11dGF0aW9ucykpKSB7XG4gICAgICB2YXIgX0VESVRPUl9UT19GT1JDRV9SRU5EO1xuXG4gICAgICAvLyBDYXVzZSBhIHJlLXJlbmRlciB0byByZXN0b3JlIHRoZSBkb20gc3RhdGUgaWYgd2UgZW5jb3VudGVyIHRyYWNrZWQgbXV0YXRpb25zIHdpdGhvdXRcbiAgICAgIC8vIGEgY29ycmVzcG9uZGluZyBwZW5kaW5nIGFjdGlvbi5cbiAgICAgIChfRURJVE9SX1RPX0ZPUkNFX1JFTkQgPSBFRElUT1JfVE9fRk9SQ0VfUkVOREVSLmdldChlZGl0b3IpKSA9PT0gbnVsbCB8fCBfRURJVE9SX1RPX0ZPUkNFX1JFTkQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9FRElUT1JfVE9fRk9SQ0VfUkVORCgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGZsdXNoLFxuICAgIHNjaGVkdWxlRmx1c2gsXG4gICAgaGFzUGVuZGluZ0RpZmZzLFxuICAgIGhhc1BlbmRpbmdBY3Rpb24sXG4gICAgaGFzUGVuZGluZ0NoYW5nZXMsXG4gICAgaXNGbHVzaGluZyxcbiAgICBoYW5kbGVVc2VyU2VsZWN0LFxuICAgIGhhbmRsZUNvbXBvc2l0aW9uRW5kLFxuICAgIGhhbmRsZUNvbXBvc2l0aW9uU3RhcnQsXG4gICAgaGFuZGxlRE9NQmVmb3JlSW5wdXQsXG4gICAgaGFuZGxlS2V5RG93bixcbiAgICBoYW5kbGVEb21NdXRhdGlvbnMsXG4gICAgaGFuZGxlSW5wdXRcbiAgfTtcbn1cblxuZnVuY3Rpb24gdXNlSXNNb3VudGVkKCkge1xuICB2YXIgaXNNb3VudGVkUmVmID0gdXNlUmVmKGZhbHNlKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpc01vdW50ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlzTW91bnRlZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgfTtcbiAgfSwgW10pO1xuICByZXR1cm4gaXNNb3VudGVkUmVmLmN1cnJlbnQ7XG59XG5cbi8qKlxyXG4gKiBQcmV2ZW50IHdhcm5pbmcgb24gU1NSIGJ5IGZhbGxpbmcgYmFjayB0byB1c2VFZmZlY3Qgd2hlbiBET00gaXNuJ3QgYXZhaWxhYmxlXHJcbiAqL1xuXG52YXIgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IENBTl9VU0VfRE9NID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuXG5mdW5jdGlvbiB1c2VNdXRhdGlvbk9ic2VydmVyKG5vZGUsIGNhbGxiYWNrLCBvcHRpb25zKSB7XG4gIHZhciBbbXV0YXRpb25PYnNlcnZlcl0gPSB1c2VTdGF0ZSgoKSA9PiBuZXcgTXV0YXRpb25PYnNlcnZlcihjYWxsYmFjaykpO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyBEaXNjYXJkIG11dGF0aW9ucyBjYXVzZWQgZHVyaW5nIHJlbmRlciBwaGFzZS4gVGhpcyB3b3JrcyBkdWUgdG8gcmVhY3QgY2FsbGluZ1xuICAgIC8vIHVzZUxheW91dEVmZmVjdCBzeW5jaHJvbm91c2x5IGFmdGVyIHRoZSByZW5kZXIgcGhhc2UgYmVmb3JlIHRoZSBuZXh0IHRpY2suXG4gICAgbXV0YXRpb25PYnNlcnZlci50YWtlUmVjb3JkcygpO1xuICB9KTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoIW5vZGUuY3VycmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYXR0YWNoIE11dGF0aW9uT2JzZXJ2ZXIsIGBub2RlYCBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBtdXRhdGlvbk9ic2VydmVyLm9ic2VydmUobm9kZS5jdXJyZW50LCBvcHRpb25zKTtcbiAgICByZXR1cm4gKCkgPT4gbXV0YXRpb25PYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gIH0sIFttdXRhdGlvbk9ic2VydmVyLCBub2RlLCBvcHRpb25zXSk7XG59XG5cbnZhciBfZXhjbHVkZWQkMyA9IFtcIm5vZGVcIl07XG5cbmZ1bmN0aW9uIG93bktleXMkMihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQyKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIE1VVEFUSU9OX09CU0VSVkVSX0NPTkZJRyQxID0ge1xuICBzdWJ0cmVlOiB0cnVlLFxuICBjaGlsZExpc3Q6IHRydWUsXG4gIGNoYXJhY3RlckRhdGE6IHRydWVcbn07XG52YXIgdXNlQW5kcm9pZElucHV0TWFuYWdlciA9ICFJU19BTkRST0lEID8gKCkgPT4gbnVsbCA6IF9yZWYgPT4ge1xuICB2YXIge1xuICAgIG5vZGVcbiAgfSA9IF9yZWYsXG4gICAgICBvcHRpb25zID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9yZWYsIF9leGNsdWRlZCQzKTtcblxuICBpZiAoIUlTX0FORFJPSUQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHZhciBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpO1xuICB2YXIgaXNNb3VudGVkID0gdXNlSXNNb3VudGVkKCk7XG4gIHZhciBbaW5wdXRNYW5hZ2VyXSA9IHVzZVN0YXRlKCgpID0+IGNyZWF0ZUFuZHJvaWRJbnB1dE1hbmFnZXIoX29iamVjdFNwcmVhZCQyKHtcbiAgICBlZGl0b3JcbiAgfSwgb3B0aW9ucykpKTtcbiAgdXNlTXV0YXRpb25PYnNlcnZlcihub2RlLCBpbnB1dE1hbmFnZXIuaGFuZGxlRG9tTXV0YXRpb25zLCBNVVRBVElPTl9PQlNFUlZFUl9DT05GSUckMSk7XG4gIEVESVRPUl9UT19TQ0hFRFVMRV9GTFVTSC5zZXQoZWRpdG9yLCBpbnB1dE1hbmFnZXIuc2NoZWR1bGVGbHVzaCk7XG5cbiAgaWYgKGlzTW91bnRlZCkge1xuICAgIGlucHV0TWFuYWdlci5mbHVzaCgpO1xuICB9XG5cbiAgcmV0dXJuIGlucHV0TWFuYWdlcjtcbn07XG5cbnZhciBfZXhjbHVkZWQkMiA9IFtcImFuY2hvclwiLCBcImZvY3VzXCJdLFxuICAgIF9leGNsdWRlZDIkMSA9IFtcImFuY2hvclwiLCBcImZvY3VzXCJdO1xudmFyIHNoYWxsb3dDb21wYXJlID0gKG9iajEsIG9iajIpID0+IE9iamVjdC5rZXlzKG9iajEpLmxlbmd0aCA9PT0gT2JqZWN0LmtleXMob2JqMikubGVuZ3RoICYmIE9iamVjdC5rZXlzKG9iajEpLmV2ZXJ5KGtleSA9PiBvYmoyLmhhc093blByb3BlcnR5KGtleSkgJiYgb2JqMVtrZXldID09PSBvYmoyW2tleV0pO1xuXG52YXIgaXNEZWNvcmF0aW9uRmxhZ3NFcXVhbCA9IChyYW5nZSwgb3RoZXIpID0+IHtcbiAgdmFyIHJhbmdlT3duUHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocmFuZ2UsIF9leGNsdWRlZCQyKTtcblxuICB2YXIgb3RoZXJPd25Qcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvdGhlciwgX2V4Y2x1ZGVkMiQxKTtcblxuICByZXR1cm4gcmFuZ2VbUExBQ0VIT0xERVJfU1lNQk9MXSA9PT0gb3RoZXJbUExBQ0VIT0xERVJfU1lNQk9MXSAmJiBzaGFsbG93Q29tcGFyZShyYW5nZU93blByb3BzLCBvdGhlck93blByb3BzKTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSBsaXN0IG9mIGRlY29yYXRvciByYW5nZXMgYXJlIGVxdWFsIHRvIGFub3RoZXIuXHJcbiAqXHJcbiAqIFBFUkY6IHRoaXMgcmVxdWlyZXMgdGhlIHR3byBsaXN0cyB0byBhbHNvIGhhdmUgdGhlIHJhbmdlcyBpbnNpZGUgdGhlbSBpbiB0aGVcclxuICogc2FtZSBvcmRlciwgYnV0IHRoaXMgaXMgYW4gb2theSBjb25zdHJhaW50IGZvciB1cyBzaW5jZSBkZWNvcmF0aW9ucyBhcmVcclxuICoga2VwdCBpbiBvcmRlciwgYW5kIHRoZSBvZGQgY2FzZSB3aGVyZSB0aGV5IGFyZW4ndCBpcyBva2F5IHRvIHJlLXJlbmRlciBmb3IuXHJcbiAqL1xuXG5cbnZhciBpc0VsZW1lbnREZWNvcmF0aW9uc0VxdWFsID0gKGxpc3QsIGFub3RoZXIpID0+IHtcbiAgaWYgKGxpc3QubGVuZ3RoICE9PSBhbm90aGVyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciByYW5nZSA9IGxpc3RbaV07XG4gICAgdmFyIG90aGVyID0gYW5vdGhlcltpXTtcblxuICAgIGlmICghUmFuZ2UuZXF1YWxzKHJhbmdlLCBvdGhlcikgfHwgIWlzRGVjb3JhdGlvbkZsYWdzRXF1YWwocmFuZ2UsIG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcbi8qKlxyXG4gKiBDaGVjayBpZiBhIGxpc3Qgb2YgZGVjb3JhdG9yIHJhbmdlcyBhcmUgZXF1YWwgdG8gYW5vdGhlci5cclxuICpcclxuICogUEVSRjogdGhpcyByZXF1aXJlcyB0aGUgdHdvIGxpc3RzIHRvIGFsc28gaGF2ZSB0aGUgcmFuZ2VzIGluc2lkZSB0aGVtIGluIHRoZVxyXG4gKiBzYW1lIG9yZGVyLCBidXQgdGhpcyBpcyBhbiBva2F5IGNvbnN0cmFpbnQgZm9yIHVzIHNpbmNlIGRlY29yYXRpb25zIGFyZVxyXG4gKiBrZXB0IGluIG9yZGVyLCBhbmQgdGhlIG9kZCBjYXNlIHdoZXJlIHRoZXkgYXJlbid0IGlzIG9rYXkgdG8gcmUtcmVuZGVyIGZvci5cclxuICovXG5cbnZhciBpc1RleHREZWNvcmF0aW9uc0VxdWFsID0gKGxpc3QsIGFub3RoZXIpID0+IHtcbiAgaWYgKGxpc3QubGVuZ3RoICE9PSBhbm90aGVyLmxlbmd0aCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciByYW5nZSA9IGxpc3RbaV07XG4gICAgdmFyIG90aGVyID0gYW5vdGhlcltpXTsgLy8gY29tcGFyZSBvbmx5IG9mZnNldHMgYmVjYXVzZSBwYXRocyBkb2Vzbid0IG1hdHRlciBmb3IgdGV4dFxuXG4gICAgaWYgKHJhbmdlLmFuY2hvci5vZmZzZXQgIT09IG90aGVyLmFuY2hvci5vZmZzZXQgfHwgcmFuZ2UuZm9jdXMub2Zmc2V0ICE9PSBvdGhlci5mb2N1cy5vZmZzZXQgfHwgIWlzRGVjb3JhdGlvbkZsYWdzRXF1YWwocmFuZ2UsIG90aGVyKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuLyoqXHJcbiAqIExlYWYgY29udGVudCBzdHJpbmdzLlxyXG4gKi9cblxudmFyIFN0cmluZyA9IHByb3BzID0+IHtcbiAgdmFyIHtcbiAgICBpc0xhc3QsXG4gICAgbGVhZixcbiAgICBwYXJlbnQsXG4gICAgdGV4dFxuICB9ID0gcHJvcHM7XG4gIHZhciBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpO1xuICB2YXIgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgdGV4dCk7XG4gIHZhciBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aCk7XG4gIHZhciBpc01hcmtQbGFjZWhvbGRlciA9IGxlYWZbTUFSS19QTEFDRUhPTERFUl9TWU1CT0xdID09PSB0cnVlOyAvLyBDT01QQVQ6IFJlbmRlciB0ZXh0IGluc2lkZSB2b2lkIG5vZGVzIHdpdGggYSB6ZXJvLXdpZHRoIHNwYWNlLlxuICAvLyBTbyB0aGUgbm9kZSBjYW4gY29udGFpbiBzZWxlY3Rpb24gYnV0IHRoZSB0ZXh0IGlzIG5vdCB2aXNpYmxlLlxuXG4gIGlmIChlZGl0b3IuaXNWb2lkKHBhcmVudCkpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoWmVyb1dpZHRoU3RyaW5nLCB7XG4gICAgICBsZW5ndGg6IE5vZGUuc3RyaW5nKHBhcmVudCkubGVuZ3RoXG4gICAgfSk7XG4gIH0gLy8gQ09NUEFUOiBJZiB0aGlzIGlzIHRoZSBsYXN0IHRleHQgbm9kZSBpbiBhbiBlbXB0eSBibG9jaywgcmVuZGVyIGEgemVyby1cbiAgLy8gd2lkdGggc3BhY2UgdGhhdCB3aWxsIGNvbnZlcnQgaW50byBhIGxpbmUgYnJlYWsgd2hlbiBjb3B5aW5nIGFuZCBwYXN0aW5nXG4gIC8vIHRvIHN1cHBvcnQgZXhwZWN0ZWQgcGxhaW4gdGV4dC5cblxuXG4gIGlmIChsZWFmLnRleHQgPT09ICcnICYmIHBhcmVudC5jaGlsZHJlbltwYXJlbnQuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPT09IHRleHQgJiYgIWVkaXRvci5pc0lubGluZShwYXJlbnQpICYmIEVkaXRvci5zdHJpbmcoZWRpdG9yLCBwYXJlbnRQYXRoKSA9PT0gJycpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoWmVyb1dpZHRoU3RyaW5nLCB7XG4gICAgICBpc0xpbmVCcmVhazogdHJ1ZSxcbiAgICAgIGlzTWFya1BsYWNlaG9sZGVyOiBpc01hcmtQbGFjZWhvbGRlclxuICAgIH0pO1xuICB9IC8vIENPTVBBVDogSWYgdGhlIHRleHQgaXMgZW1wdHksIGl0J3MgYmVjYXVzZSBpdCdzIG9uIHRoZSBlZGdlIG9mIGFuIGlubGluZVxuICAvLyBub2RlLCBzbyB3ZSByZW5kZXIgYSB6ZXJvLXdpZHRoIHNwYWNlIHNvIHRoYXQgdGhlIHNlbGVjdGlvbiBjYW4gYmVcbiAgLy8gaW5zZXJ0ZWQgbmV4dCB0byBpdCBzdGlsbC5cblxuXG4gIGlmIChsZWFmLnRleHQgPT09ICcnKSB7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFplcm9XaWR0aFN0cmluZywge1xuICAgICAgaXNNYXJrUGxhY2Vob2xkZXI6IGlzTWFya1BsYWNlaG9sZGVyXG4gICAgfSk7XG4gIH0gLy8gQ09NUEFUOiBCcm93c2VycyB3aWxsIGNvbGxhcHNlIHRyYWlsaW5nIG5ldyBsaW5lcyBhdCB0aGUgZW5kIG9mIGJsb2NrcyxcbiAgLy8gc28gd2UgbmVlZCB0byBhZGQgYW4gZXh0cmEgdHJhaWxpbmcgbmV3IGxpbmVzIHRvIHByZXZlbnQgdGhhdC5cblxuXG4gIGlmIChpc0xhc3QgJiYgbGVhZi50ZXh0LnNsaWNlKC0xKSA9PT0gJ1xcbicpIHtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGV4dFN0cmluZywge1xuICAgICAgaXNUcmFpbGluZzogdHJ1ZSxcbiAgICAgIHRleHQ6IGxlYWYudGV4dFxuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFRleHRTdHJpbmcsIHtcbiAgICB0ZXh0OiBsZWFmLnRleHRcbiAgfSk7XG59O1xuLyoqXHJcbiAqIExlYWYgc3RyaW5ncyB3aXRoIHRleHQgaW4gdGhlbS5cclxuICovXG5cblxudmFyIFRleHRTdHJpbmcgPSBwcm9wcyA9PiB7XG4gIHZhciB7XG4gICAgdGV4dCxcbiAgICBpc1RyYWlsaW5nID0gZmFsc2VcbiAgfSA9IHByb3BzO1xuICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xuXG4gIHZhciBnZXRUZXh0Q29udGVudCA9ICgpID0+IHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQodGV4dCAhPT0gbnVsbCAmJiB0ZXh0ICE9PSB2b2lkIDAgPyB0ZXh0IDogJycpLmNvbmNhdChpc1RyYWlsaW5nID8gJ1xcbicgOiAnJyk7XG4gIH07XG5cbiAgdmFyIFtpbml0aWFsVGV4dF0gPSB1c2VTdGF0ZShnZXRUZXh0Q29udGVudCk7IC8vIFRoaXMgaXMgdGhlIGFjdHVhbCB0ZXh0IHJlbmRlcmluZyBib3VuZGFyeSB3aGVyZSB3ZSBpbnRlcmZhY2Ugd2l0aCB0aGUgRE9NXG4gIC8vIFRoZSB0ZXh0IGlzIG5vdCByZW5kZXJlZCBhcyBwYXJ0IG9mIHRoZSB2aXJ0dWFsIERPTSwgYXMgc2luY2Ugd2UgaGFuZGxlIGJhc2ljIGNoYXJhY3RlciBpbnNlcnRpb25zIG5hdGl2ZWx5LFxuICAvLyB1cGRhdGluZyB0aGUgRE9NIGlzIG5vdCBhIG9uZSB3YXkgZGF0YWZsb3cgYW55bW9yZS4gV2hhdCB3ZSBuZWVkIGhlcmUgaXMgbm90IHJlY29uY2lsaWF0aW9uIGFuZCBkaWZmaW5nXG4gIC8vIHdpdGggcHJldmlvdXMgdmVyc2lvbiBvZiB0aGUgdmlydHVhbCBET00sIGJ1dCByYXRoZXIgZGlmZmluZyB3aXRoIHRoZSBhY3R1YWwgRE9NIGVsZW1lbnQsIGFuZCByZXBsYWNlIHRoZSBET00gPHNwYW4+IGNvbnRlbnRcbiAgLy8gZXhhY3RseSBpZiBhbmQgb25seSBpZiBpdHMgY3VycmVudCBjb250ZW50IGRvZXMgbm90IG1hdGNoIG91ciBjdXJyZW50IHZpcnR1YWwgRE9NLlxuICAvLyBPdGhlcndpc2UgdGhlIERPTSBUZXh0Tm9kZSB3b3VsZCBhbHdheXMgYmUgcmVwbGFjZWQgYnkgUmVhY3QgYXMgdGhlIHVzZXIgdHlwZXMsIHdoaWNoIGludGVyZmVyZXMgd2l0aCBuYXRpdmUgdGV4dCBmZWF0dXJlcyxcbiAgLy8gZWcgbWFrZXMgbmF0aXZlIHNwZWxsY2hlY2sgb3B0IG91dCBmcm9tIGNoZWNraW5nIHRoZSB0ZXh0IG5vZGUuXG4gIC8vIHVzZUxheW91dEVmZmVjdDogdXBkYXRpbmcgb3VyIHNwYW4gYmVmb3JlIGJyb3dzZXIgcGFpbnRcblxuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICAvLyBudWxsIGNvYWxlc2NpbmcgdGV4dCB0byBtYWtlIHN1cmUgd2UncmUgbm90IG91dHB1dGluZyBcIm51bGxcIiBhcyBhIHN0cmluZyBpbiB0aGUgZXh0cmVtZSBjYXNlIGl0IGlzIG51bGxpc2ggYXQgcnVudGltZVxuICAgIHZhciB0ZXh0V2l0aFRyYWlsaW5nID0gZ2V0VGV4dENvbnRlbnQoKTtcblxuICAgIGlmIChyZWYuY3VycmVudCAmJiByZWYuY3VycmVudC50ZXh0Q29udGVudCAhPT0gdGV4dFdpdGhUcmFpbGluZykge1xuICAgICAgcmVmLmN1cnJlbnQudGV4dENvbnRlbnQgPSB0ZXh0V2l0aFRyYWlsaW5nO1xuICAgIH0gLy8gaW50ZW50aW9uYWxseSBub3Qgc3BlY2lmeWluZyBkZXBlbmRlbmNpZXMsIHNvIHRoYXQgdGhpcyBlZmZlY3QgcnVucyBvbiBldmVyeSByZW5kZXJcbiAgICAvLyBhcyB0aGlzIGVmZmVjdGl2ZWx5IHJlcGxhY2VzIFwic3BlY2lmeWluZyB0aGUgdGV4dCBpbiB0aGUgdmlydHVhbCBET00gdW5kZXIgdGhlIDxzcGFuPiBiZWxvd1wiIG9uIGVhY2ggcmVuZGVyXG5cbiAgfSk7IC8vIFdlIGludGVudGlvbmFsbHkgcmVuZGVyIGEgbWVtb2l6ZWQgPHNwYW4+IHRoYXQgb25seSByZWNlaXZlcyB0aGUgaW5pdGlhbCB0ZXh0IGNvbnRlbnQgd2hlbiB0aGUgY29tcG9uZW50IGlzIG1vdW50ZWQuXG4gIC8vIFdlIGRlZmVyIHRvIHRoZSBsYXlvdXQgZWZmZWN0IGFib3ZlIHRvIHVwZGF0ZSB0aGUgYHRleHRDb250ZW50YCBvZiB0aGUgc3BhbiBlbGVtZW50IHdoZW4gbmVlZGVkLlxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW1vaXplZFRleHQkMSwge1xuICAgIHJlZjogcmVmXG4gIH0sIGluaXRpYWxUZXh0KTtcbn07XG5cbnZhciBNZW1vaXplZFRleHQkMSA9IC8qI19fUFVSRV9fKi9tZW1vKCAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZigocHJvcHMsIHJlZikgPT4ge1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBcImRhdGEtc2xhdGUtc3RyaW5nXCI6IHRydWUsXG4gICAgcmVmOiByZWZcbiAgfSwgcHJvcHMuY2hpbGRyZW4pO1xufSkpO1xuLyoqXHJcbiAqIExlYWYgc3RyaW5ncyB3aXRob3V0IHRleHQsIHJlbmRlciBhcyB6ZXJvLXdpZHRoIHN0cmluZ3MuXHJcbiAqL1xuXG52YXIgWmVyb1dpZHRoU3RyaW5nID0gcHJvcHMgPT4ge1xuICB2YXIge1xuICAgIGxlbmd0aCA9IDAsXG4gICAgaXNMaW5lQnJlYWsgPSBmYWxzZSxcbiAgICBpc01hcmtQbGFjZWhvbGRlciA9IGZhbHNlXG4gIH0gPSBwcm9wcztcbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgJ2RhdGEtc2xhdGUtemVyby13aWR0aCc6IGlzTGluZUJyZWFrID8gJ24nIDogJ3onLFxuICAgICdkYXRhLXNsYXRlLWxlbmd0aCc6IGxlbmd0aFxuICB9O1xuXG4gIGlmIChpc01hcmtQbGFjZWhvbGRlcikge1xuICAgIGF0dHJpYnV0ZXNbJ2RhdGEtc2xhdGUtbWFyay1wbGFjZWhvbGRlciddID0gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgT2JqZWN0LmFzc2lnbih7fSwgYXR0cmlidXRlcyksICFJU19BTkRST0lEIHx8ICFpc0xpbmVCcmVhayA/ICdcXHVGRUZGJyA6IG51bGwsIGlzTGluZUJyZWFrID8gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiclwiLCBudWxsKSA6IG51bGwpO1xufTtcblxuZnVuY3Rpb24gZGlzY29ubmVjdFBsYWNlaG9sZGVyUmVzaXplT2JzZXJ2ZXIocGxhY2Vob2xkZXJSZXNpemVPYnNlcnZlciwgcmVsZWFzZU9ic2VydmVyKSB7XG4gIGlmIChwbGFjZWhvbGRlclJlc2l6ZU9ic2VydmVyLmN1cnJlbnQpIHtcbiAgICBwbGFjZWhvbGRlclJlc2l6ZU9ic2VydmVyLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuXG4gICAgaWYgKHJlbGVhc2VPYnNlcnZlcikge1xuICAgICAgcGxhY2Vob2xkZXJSZXNpemVPYnNlcnZlci5jdXJyZW50ID0gbnVsbDtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY2xlYXJUaW1lb3V0UmVmKHRpbWVvdXRSZWYpIHtcbiAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IG51bGw7XG4gIH1cbn1cbi8qKlxyXG4gKiBJbmRpdmlkdWFsIGxlYXZlcyBpbiBhIHRleHQgbm9kZSB3aXRoIHVuaXF1ZSBmb3JtYXR0aW5nLlxyXG4gKi9cblxuXG52YXIgTGVhZiA9IHByb3BzID0+IHtcbiAgdmFyIHtcbiAgICBsZWFmLFxuICAgIGlzTGFzdCxcbiAgICB0ZXh0LFxuICAgIHBhcmVudCxcbiAgICByZW5kZXJQbGFjZWhvbGRlcixcbiAgICByZW5kZXJMZWFmID0gcHJvcHMgPT4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRGVmYXVsdExlYWYsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSlcbiAgfSA9IHByb3BzO1xuICB2YXIgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKTtcbiAgdmFyIHBsYWNlaG9sZGVyUmVzaXplT2JzZXJ2ZXIgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBwbGFjZWhvbGRlclJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIFtzaG93UGxhY2Vob2xkZXIsIHNldFNob3dQbGFjZWhvbGRlcl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIHZhciBzaG93UGxhY2Vob2xkZXJUaW1lb3V0UmVmID0gdXNlUmVmKG51bGwpO1xuICB2YXIgY2FsbGJhY2tQbGFjZWhvbGRlclJlZiA9IHVzZUNhbGxiYWNrKHBsYWNlaG9sZGVyRWwgPT4ge1xuICAgIGRpc2Nvbm5lY3RQbGFjZWhvbGRlclJlc2l6ZU9ic2VydmVyKHBsYWNlaG9sZGVyUmVzaXplT2JzZXJ2ZXIsIHBsYWNlaG9sZGVyRWwgPT0gbnVsbCk7XG5cbiAgICBpZiAocGxhY2Vob2xkZXJFbCA9PSBudWxsKSB7XG4gICAgICB2YXIgX2xlYWYkb25QbGFjZWhvbGRlclJlO1xuXG4gICAgICBFRElUT1JfVE9fUExBQ0VIT0xERVJfRUxFTUVOVC5kZWxldGUoZWRpdG9yKTtcbiAgICAgIChfbGVhZiRvblBsYWNlaG9sZGVyUmUgPSBsZWFmLm9uUGxhY2Vob2xkZXJSZXNpemUpID09PSBudWxsIHx8IF9sZWFmJG9uUGxhY2Vob2xkZXJSZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2xlYWYkb25QbGFjZWhvbGRlclJlLmNhbGwobGVhZiwgbnVsbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEVESVRPUl9UT19QTEFDRUhPTERFUl9FTEVNRU5ULnNldChlZGl0b3IsIHBsYWNlaG9sZGVyRWwpO1xuXG4gICAgICBpZiAoIXBsYWNlaG9sZGVyUmVzaXplT2JzZXJ2ZXIuY3VycmVudCkge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgb2JzZXJ2ZXIgYW5kIG9ic2VydmUgdGhlIHBsYWNlaG9sZGVyIGVsZW1lbnQuXG4gICAgICAgIHZhciBSZXNpemVPYnNlcnZlciQxID0gd2luZG93LlJlc2l6ZU9ic2VydmVyIHx8IFJlc2l6ZU9ic2VydmVyO1xuICAgICAgICBwbGFjZWhvbGRlclJlc2l6ZU9ic2VydmVyLmN1cnJlbnQgPSBuZXcgUmVzaXplT2JzZXJ2ZXIkMSgoKSA9PiB7XG4gICAgICAgICAgdmFyIF9sZWFmJG9uUGxhY2Vob2xkZXJSZTI7XG5cbiAgICAgICAgICAoX2xlYWYkb25QbGFjZWhvbGRlclJlMiA9IGxlYWYub25QbGFjZWhvbGRlclJlc2l6ZSkgPT09IG51bGwgfHwgX2xlYWYkb25QbGFjZWhvbGRlclJlMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2xlYWYkb25QbGFjZWhvbGRlclJlMi5jYWxsKGxlYWYsIHBsYWNlaG9sZGVyRWwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcGxhY2Vob2xkZXJSZXNpemVPYnNlcnZlci5jdXJyZW50Lm9ic2VydmUocGxhY2Vob2xkZXJFbCk7XG4gICAgICBwbGFjZWhvbGRlclJlZi5jdXJyZW50ID0gcGxhY2Vob2xkZXJFbDtcbiAgICB9XG4gIH0sIFtwbGFjZWhvbGRlclJlZiwgbGVhZiwgZWRpdG9yXSk7XG4gIHZhciBjaGlsZHJlbiA9IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFN0cmluZywge1xuICAgIGlzTGFzdDogaXNMYXN0LFxuICAgIGxlYWY6IGxlYWYsXG4gICAgcGFyZW50OiBwYXJlbnQsXG4gICAgdGV4dDogdGV4dFxuICB9KTtcbiAgdmFyIGxlYWZJc1BsYWNlaG9sZGVyID0gbGVhZltQTEFDRUhPTERFUl9TWU1CT0xdO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChsZWFmSXNQbGFjZWhvbGRlcikge1xuICAgICAgaWYgKCFzaG93UGxhY2Vob2xkZXJUaW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgLy8gRGVsYXkgdGhlIHBsYWNlaG9sZGVyIHNvIGl0IHdpbGwgbm90IHJlbmRlciBpbiBhIHNlbGVjdGlvblxuICAgICAgICBzaG93UGxhY2Vob2xkZXJUaW1lb3V0UmVmLmN1cnJlbnQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICBzZXRTaG93UGxhY2Vob2xkZXIodHJ1ZSk7XG4gICAgICAgICAgc2hvd1BsYWNlaG9sZGVyVGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgfSwgMzAwKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY2xlYXJUaW1lb3V0UmVmKHNob3dQbGFjZWhvbGRlclRpbWVvdXRSZWYpO1xuICAgICAgc2V0U2hvd1BsYWNlaG9sZGVyKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0UmVmKHNob3dQbGFjZWhvbGRlclRpbWVvdXRSZWYpO1xuICB9LCBbbGVhZklzUGxhY2Vob2xkZXIsIHNldFNob3dQbGFjZWhvbGRlcl0pO1xuXG4gIGlmIChsZWFmSXNQbGFjZWhvbGRlciAmJiBzaG93UGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgcGxhY2Vob2xkZXJQcm9wcyA9IHtcbiAgICAgIGNoaWxkcmVuOiBsZWFmLnBsYWNlaG9sZGVyLFxuICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAnZGF0YS1zbGF0ZS1wbGFjZWhvbGRlcic6IHRydWUsXG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgIHBvaW50ZXJFdmVudHM6ICdub25lJyxcbiAgICAgICAgICB3aWR0aDogJzEwMCUnLFxuICAgICAgICAgIG1heFdpZHRoOiAnMTAwJScsXG4gICAgICAgICAgZGlzcGxheTogJ2Jsb2NrJyxcbiAgICAgICAgICBvcGFjaXR5OiAnMC4zMzMnLFxuICAgICAgICAgIHVzZXJTZWxlY3Q6ICdub25lJyxcbiAgICAgICAgICB0ZXh0RGVjb3JhdGlvbjogJ25vbmUnLFxuICAgICAgICAgIC8vIEZpeGVzIGh0dHBzOi8vZ2l0aHViLmNvbS91ZGVjb2RlL3BsYXRlL2lzc3Vlcy8yMzE1XG4gICAgICAgICAgV2Via2l0VXNlck1vZGlmeTogSVNfV0VCS0lUID8gJ2luaGVyaXQnIDogdW5kZWZpbmVkXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnRFZGl0YWJsZTogZmFsc2UsXG4gICAgICAgIHJlZjogY2FsbGJhY2tQbGFjZWhvbGRlclJlZlxuICAgICAgfVxuICAgIH07XG4gICAgY2hpbGRyZW4gPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgcmVuZGVyUGxhY2Vob2xkZXIocGxhY2Vob2xkZXJQcm9wcyksIGNoaWxkcmVuKTtcbiAgfSAvLyBDT01QQVQ6IEhhdmluZyB0aGUgYGRhdGEtYCBhdHRyaWJ1dGVzIG9uIHRoZXNlIGxlYWYgZWxlbWVudHMgZW5zdXJlcyB0aGF0XG4gIC8vIGluIGNlcnRhaW4gbWlzYmVoYXZpbmcgYnJvd3NlcnMgdGhleSBhcmVuJ3Qgd2VpcmRseSBjbG9uZWQvZGVzdHJveWVkIGJ5XG4gIC8vIGNvbnRlbnRlZGl0YWJsZSBiZWhhdmlvcnMuICgyMDE5LzA1LzA4KVxuXG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgJ2RhdGEtc2xhdGUtbGVhZic6IHRydWVcbiAgfTtcbiAgcmV0dXJuIHJlbmRlckxlYWYoe1xuICAgIGF0dHJpYnV0ZXMsXG4gICAgY2hpbGRyZW4sXG4gICAgbGVhZixcbiAgICB0ZXh0XG4gIH0pO1xufTtcblxudmFyIE1lbW9pemVkTGVhZiA9IC8qI19fUFVSRV9fKi9SZWFjdC5tZW1vKExlYWYsIChwcmV2LCBuZXh0KSA9PiB7XG4gIHJldHVybiBuZXh0LnBhcmVudCA9PT0gcHJldi5wYXJlbnQgJiYgbmV4dC5pc0xhc3QgPT09IHByZXYuaXNMYXN0ICYmIG5leHQucmVuZGVyTGVhZiA9PT0gcHJldi5yZW5kZXJMZWFmICYmIG5leHQucmVuZGVyUGxhY2Vob2xkZXIgPT09IHByZXYucmVuZGVyUGxhY2Vob2xkZXIgJiYgbmV4dC50ZXh0ID09PSBwcmV2LnRleHQgJiYgVGV4dCQxLmVxdWFscyhuZXh0LmxlYWYsIHByZXYubGVhZikgJiYgbmV4dC5sZWFmW1BMQUNFSE9MREVSX1NZTUJPTF0gPT09IHByZXYubGVhZltQTEFDRUhPTERFUl9TWU1CT0xdO1xufSk7XG52YXIgRGVmYXVsdExlYWYgPSBwcm9wcyA9PiB7XG4gIHZhciB7XG4gICAgYXR0cmlidXRlcyxcbiAgICBjaGlsZHJlblxuICB9ID0gcHJvcHM7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgT2JqZWN0LmFzc2lnbih7fSwgYXR0cmlidXRlcyksIGNoaWxkcmVuKTtcbn07XG5cbi8qKlxyXG4gKiBUZXh0LlxyXG4gKi9cblxudmFyIFRleHQgPSBwcm9wcyA9PiB7XG4gIHZhciB7XG4gICAgZGVjb3JhdGlvbnMsXG4gICAgaXNMYXN0LFxuICAgIHBhcmVudCxcbiAgICByZW5kZXJQbGFjZWhvbGRlcixcbiAgICByZW5kZXJMZWFmLFxuICAgIHRleHRcbiAgfSA9IHByb3BzO1xuICB2YXIgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKTtcbiAgdmFyIHJlZiA9IHVzZVJlZihudWxsKTtcbiAgdmFyIGxlYXZlcyA9IFRleHQkMS5kZWNvcmF0aW9ucyh0ZXh0LCBkZWNvcmF0aW9ucyk7XG4gIHZhciBrZXkgPSBSZWFjdEVkaXRvci5maW5kS2V5KGVkaXRvciwgdGV4dCk7XG4gIHZhciBjaGlsZHJlbiA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGxlYWYgPSBsZWF2ZXNbaV07XG4gICAgY2hpbGRyZW4ucHVzaCggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVtb2l6ZWRMZWFmLCB7XG4gICAgICBpc0xhc3Q6IGlzTGFzdCAmJiBpID09PSBsZWF2ZXMubGVuZ3RoIC0gMSxcbiAgICAgIGtleTogXCJcIi5jb25jYXQoa2V5LmlkLCBcIi1cIikuY29uY2F0KGkpLFxuICAgICAgcmVuZGVyUGxhY2Vob2xkZXI6IHJlbmRlclBsYWNlaG9sZGVyLFxuICAgICAgbGVhZjogbGVhZixcbiAgICAgIHRleHQ6IHRleHQsXG4gICAgICBwYXJlbnQ6IHBhcmVudCxcbiAgICAgIHJlbmRlckxlYWY6IHJlbmRlckxlYWZcbiAgICB9KSk7XG4gIH0gLy8gVXBkYXRlIGVsZW1lbnQtcmVsYXRlZCB3ZWFrIG1hcHMgd2l0aCB0aGUgRE9NIGVsZW1lbnQgcmVmLlxuXG5cbiAgdmFyIGNhbGxiYWNrUmVmID0gdXNlQ2FsbGJhY2soc3BhbiA9PiB7XG4gICAgdmFyIEtFWV9UT19FTEVNRU5UID0gRURJVE9SX1RPX0tFWV9UT19FTEVNRU5ULmdldChlZGl0b3IpO1xuXG4gICAgaWYgKHNwYW4pIHtcbiAgICAgIEtFWV9UT19FTEVNRU5UID09PSBudWxsIHx8IEtFWV9UT19FTEVNRU5UID09PSB2b2lkIDAgPyB2b2lkIDAgOiBLRVlfVE9fRUxFTUVOVC5zZXQoa2V5LCBzcGFuKTtcbiAgICAgIE5PREVfVE9fRUxFTUVOVC5zZXQodGV4dCwgc3Bhbik7XG4gICAgICBFTEVNRU5UX1RPX05PREUuc2V0KHNwYW4sIHRleHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBLRVlfVE9fRUxFTUVOVCA9PT0gbnVsbCB8fCBLRVlfVE9fRUxFTUVOVCA9PT0gdm9pZCAwID8gdm9pZCAwIDogS0VZX1RPX0VMRU1FTlQuZGVsZXRlKGtleSk7XG4gICAgICBOT0RFX1RPX0VMRU1FTlQuZGVsZXRlKHRleHQpO1xuXG4gICAgICBpZiAocmVmLmN1cnJlbnQpIHtcbiAgICAgICAgRUxFTUVOVF9UT19OT0RFLmRlbGV0ZShyZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmVmLmN1cnJlbnQgPSBzcGFuO1xuICB9LCBbcmVmLCBlZGl0b3IsIGtleSwgdGV4dF0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBcImRhdGEtc2xhdGUtbm9kZVwiOiBcInRleHRcIixcbiAgICByZWY6IGNhbGxiYWNrUmVmXG4gIH0sIGNoaWxkcmVuKTtcbn07XG5cbnZhciBNZW1vaXplZFRleHQgPSAvKiNfX1BVUkVfXyovUmVhY3QubWVtbyhUZXh0LCAocHJldiwgbmV4dCkgPT4ge1xuICByZXR1cm4gbmV4dC5wYXJlbnQgPT09IHByZXYucGFyZW50ICYmIG5leHQuaXNMYXN0ID09PSBwcmV2LmlzTGFzdCAmJiBuZXh0LnJlbmRlckxlYWYgPT09IHByZXYucmVuZGVyTGVhZiAmJiBuZXh0LnJlbmRlclBsYWNlaG9sZGVyID09PSBwcmV2LnJlbmRlclBsYWNlaG9sZGVyICYmIG5leHQudGV4dCA9PT0gcHJldi50ZXh0ICYmIGlzVGV4dERlY29yYXRpb25zRXF1YWwobmV4dC5kZWNvcmF0aW9ucywgcHJldi5kZWNvcmF0aW9ucyk7XG59KTtcblxuLyoqXHJcbiAqIEVsZW1lbnQuXHJcbiAqL1xuXG52YXIgRWxlbWVudCA9IHByb3BzID0+IHtcbiAgdmFyIHtcbiAgICBkZWNvcmF0aW9ucyxcbiAgICBlbGVtZW50LFxuICAgIHJlbmRlckVsZW1lbnQgPSBwID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlZmF1bHRFbGVtZW50LCBPYmplY3QuYXNzaWduKHt9LCBwKSksXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgcmVuZGVyTGVhZixcbiAgICBzZWxlY3Rpb25cbiAgfSA9IHByb3BzO1xuICB2YXIgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKTtcbiAgdmFyIHJlYWRPbmx5ID0gdXNlUmVhZE9ubHkoKTtcbiAgdmFyIGlzSW5saW5lID0gZWRpdG9yLmlzSW5saW5lKGVsZW1lbnQpO1xuICB2YXIga2V5ID0gUmVhY3RFZGl0b3IuZmluZEtleShlZGl0b3IsIGVsZW1lbnQpO1xuICB2YXIgcmVmID0gdXNlQ2FsbGJhY2socmVmID0+IHtcbiAgICAvLyBVcGRhdGUgZWxlbWVudC1yZWxhdGVkIHdlYWsgbWFwcyB3aXRoIHRoZSBET00gZWxlbWVudCByZWYuXG4gICAgdmFyIEtFWV9UT19FTEVNRU5UID0gRURJVE9SX1RPX0tFWV9UT19FTEVNRU5ULmdldChlZGl0b3IpO1xuXG4gICAgaWYgKHJlZikge1xuICAgICAgS0VZX1RPX0VMRU1FTlQgPT09IG51bGwgfHwgS0VZX1RPX0VMRU1FTlQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IEtFWV9UT19FTEVNRU5ULnNldChrZXksIHJlZik7XG4gICAgICBOT0RFX1RPX0VMRU1FTlQuc2V0KGVsZW1lbnQsIHJlZik7XG4gICAgICBFTEVNRU5UX1RPX05PREUuc2V0KHJlZiwgZWxlbWVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIEtFWV9UT19FTEVNRU5UID09PSBudWxsIHx8IEtFWV9UT19FTEVNRU5UID09PSB2b2lkIDAgPyB2b2lkIDAgOiBLRVlfVE9fRUxFTUVOVC5kZWxldGUoa2V5KTtcbiAgICAgIE5PREVfVE9fRUxFTUVOVC5kZWxldGUoZWxlbWVudCk7XG4gICAgfVxuICB9LCBbZWRpdG9yLCBrZXksIGVsZW1lbnRdKTtcbiAgdmFyIGNoaWxkcmVuID0gdXNlQ2hpbGRyZW4oe1xuICAgIGRlY29yYXRpb25zLFxuICAgIG5vZGU6IGVsZW1lbnQsXG4gICAgcmVuZGVyRWxlbWVudCxcbiAgICByZW5kZXJQbGFjZWhvbGRlcixcbiAgICByZW5kZXJMZWFmLFxuICAgIHNlbGVjdGlvblxuICB9KTsgLy8gQXR0cmlidXRlcyB0aGF0IHRoZSBkZXZlbG9wZXIgbXVzdCBtaXggaW50byB0aGUgZWxlbWVudCBpbiB0aGVpclxuICAvLyBjdXN0b20gbm9kZSByZW5kZXJlciBjb21wb25lbnQuXG5cbiAgdmFyIGF0dHJpYnV0ZXMgPSB7XG4gICAgJ2RhdGEtc2xhdGUtbm9kZSc6ICdlbGVtZW50JyxcbiAgICByZWZcbiAgfTtcblxuICBpZiAoaXNJbmxpbmUpIHtcbiAgICBhdHRyaWJ1dGVzWydkYXRhLXNsYXRlLWlubGluZSddID0gdHJ1ZTtcbiAgfSAvLyBJZiBpdCdzIGEgYmxvY2sgbm9kZSB3aXRoIGlubGluZSBjaGlsZHJlbiwgYWRkIHRoZSBwcm9wZXIgYGRpcmAgYXR0cmlidXRlXG4gIC8vIGZvciB0ZXh0IGRpcmVjdGlvbi5cblxuXG4gIGlmICghaXNJbmxpbmUgJiYgRWRpdG9yLmhhc0lubGluZXMoZWRpdG9yLCBlbGVtZW50KSkge1xuICAgIHZhciB0ZXh0ID0gTm9kZS5zdHJpbmcoZWxlbWVudCk7XG4gICAgdmFyIGRpciA9IGdldERpcmVjdGlvbih0ZXh0KTtcblxuICAgIGlmIChkaXIgPT09ICdydGwnKSB7XG4gICAgICBhdHRyaWJ1dGVzLmRpciA9IGRpcjtcbiAgICB9XG4gIH0gLy8gSWYgaXQncyBhIHZvaWQgbm9kZSwgd3JhcCB0aGUgY2hpbGRyZW4gaW4gZXh0cmEgdm9pZC1zcGVjaWZpYyBlbGVtZW50cy5cblxuXG4gIGlmIChFZGl0b3IuaXNWb2lkKGVkaXRvciwgZWxlbWVudCkpIHtcbiAgICBhdHRyaWJ1dGVzWydkYXRhLXNsYXRlLXZvaWQnXSA9IHRydWU7XG5cbiAgICBpZiAoIXJlYWRPbmx5ICYmIGlzSW5saW5lKSB7XG4gICAgICBhdHRyaWJ1dGVzLmNvbnRlbnRFZGl0YWJsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBUYWcgPSBpc0lubGluZSA/ICdzcGFuJyA6ICdkaXYnO1xuICAgIHZhciBbW190ZXh0XV0gPSBOb2RlLnRleHRzKGVsZW1lbnQpO1xuICAgIGNoaWxkcmVuID0gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoVGFnLCB7XG4gICAgICBcImRhdGEtc2xhdGUtc3BhY2VyXCI6IHRydWUsXG4gICAgICBzdHlsZToge1xuICAgICAgICBoZWlnaHQ6ICcwJyxcbiAgICAgICAgY29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgICAgIG91dGxpbmU6ICdub25lJyxcbiAgICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZSdcbiAgICAgIH1cbiAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW1vaXplZFRleHQsIHtcbiAgICAgIHJlbmRlclBsYWNlaG9sZGVyOiByZW5kZXJQbGFjZWhvbGRlcixcbiAgICAgIGRlY29yYXRpb25zOiBbXSxcbiAgICAgIGlzTGFzdDogZmFsc2UsXG4gICAgICBwYXJlbnQ6IGVsZW1lbnQsXG4gICAgICB0ZXh0OiBfdGV4dFxuICAgIH0pKTtcbiAgICBOT0RFX1RPX0lOREVYLnNldChfdGV4dCwgMCk7XG4gICAgTk9ERV9UT19QQVJFTlQuc2V0KF90ZXh0LCBlbGVtZW50KTtcbiAgfVxuXG4gIHJldHVybiByZW5kZXJFbGVtZW50KHtcbiAgICBhdHRyaWJ1dGVzLFxuICAgIGNoaWxkcmVuLFxuICAgIGVsZW1lbnRcbiAgfSk7XG59O1xuXG52YXIgTWVtb2l6ZWRFbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0Lm1lbW8oRWxlbWVudCwgKHByZXYsIG5leHQpID0+IHtcbiAgcmV0dXJuIHByZXYuZWxlbWVudCA9PT0gbmV4dC5lbGVtZW50ICYmIHByZXYucmVuZGVyRWxlbWVudCA9PT0gbmV4dC5yZW5kZXJFbGVtZW50ICYmIHByZXYucmVuZGVyTGVhZiA9PT0gbmV4dC5yZW5kZXJMZWFmICYmIHByZXYucmVuZGVyUGxhY2Vob2xkZXIgPT09IG5leHQucmVuZGVyUGxhY2Vob2xkZXIgJiYgaXNFbGVtZW50RGVjb3JhdGlvbnNFcXVhbChwcmV2LmRlY29yYXRpb25zLCBuZXh0LmRlY29yYXRpb25zKSAmJiAocHJldi5zZWxlY3Rpb24gPT09IG5leHQuc2VsZWN0aW9uIHx8ICEhcHJldi5zZWxlY3Rpb24gJiYgISFuZXh0LnNlbGVjdGlvbiAmJiBSYW5nZS5lcXVhbHMocHJldi5zZWxlY3Rpb24sIG5leHQuc2VsZWN0aW9uKSk7XG59KTtcbi8qKlxyXG4gKiBUaGUgZGVmYXVsdCBlbGVtZW50IHJlbmRlcmVyLlxyXG4gKi9cblxudmFyIERlZmF1bHRFbGVtZW50ID0gcHJvcHMgPT4ge1xuICB2YXIge1xuICAgIGF0dHJpYnV0ZXMsXG4gICAgY2hpbGRyZW4sXG4gICAgZWxlbWVudFxuICB9ID0gcHJvcHM7XG4gIHZhciBlZGl0b3IgPSB1c2VTbGF0ZVN0YXRpYygpO1xuICB2YXIgVGFnID0gZWRpdG9yLmlzSW5saW5lKGVsZW1lbnQpID8gJ3NwYW4nIDogJ2Rpdic7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChUYWcsIE9iamVjdC5hc3NpZ24oe30sIGF0dHJpYnV0ZXMsIHtcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdyZWxhdGl2ZSdcbiAgICB9XG4gIH0pLCBjaGlsZHJlbik7XG59O1xuXG4vKipcclxuICogQSBSZWFjdCBjb250ZXh0IGZvciBzaGFyaW5nIHRoZSBgZGVjb3JhdGVgIHByb3Agb2YgdGhlIGVkaXRhYmxlLlxyXG4gKi9cblxudmFyIERlY29yYXRlQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KCgpID0+IFtdKTtcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgYGRlY29yYXRlYCBwcm9wIG9mIHRoZSBlZGl0YWJsZS5cclxuICovXG5cbnZhciB1c2VEZWNvcmF0ZSA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoRGVjb3JhdGVDb250ZXh0KTtcbn07XG5cbi8qKlxyXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGBzZWxlY3RlZGAgc3RhdGUgb2YgYW4gZWxlbWVudC5cclxuICovXG5cbnZhciBTZWxlY3RlZENvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChmYWxzZSk7XG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IGBzZWxlY3RlZGAgc3RhdGUgb2YgYW4gZWxlbWVudC5cclxuICovXG5cbnZhciB1c2VTZWxlY3RlZCA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoU2VsZWN0ZWRDb250ZXh0KTtcbn07XG5cbi8qKlxyXG4gKiBDaGlsZHJlbi5cclxuICovXG5cbnZhciB1c2VDaGlsZHJlbiA9IHByb3BzID0+IHtcbiAgdmFyIHtcbiAgICBkZWNvcmF0aW9ucyxcbiAgICBub2RlLFxuICAgIHJlbmRlckVsZW1lbnQsXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgcmVuZGVyTGVhZixcbiAgICBzZWxlY3Rpb25cbiAgfSA9IHByb3BzO1xuICB2YXIgZGVjb3JhdGUgPSB1c2VEZWNvcmF0ZSgpO1xuICB2YXIgZWRpdG9yID0gdXNlU2xhdGVTdGF0aWMoKTtcbiAgdmFyIHBhdGggPSBSZWFjdEVkaXRvci5maW5kUGF0aChlZGl0b3IsIG5vZGUpO1xuICB2YXIgY2hpbGRyZW4gPSBbXTtcbiAgdmFyIGlzTGVhZkJsb2NrID0gRWxlbWVudCQxLmlzRWxlbWVudChub2RlKSAmJiAhZWRpdG9yLmlzSW5saW5lKG5vZGUpICYmIEVkaXRvci5oYXNJbmxpbmVzKGVkaXRvciwgbm9kZSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIHAgPSBwYXRoLmNvbmNhdChpKTtcbiAgICB2YXIgbiA9IG5vZGUuY2hpbGRyZW5baV07XG4gICAgdmFyIGtleSA9IFJlYWN0RWRpdG9yLmZpbmRLZXkoZWRpdG9yLCBuKTtcbiAgICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBwKTtcbiAgICB2YXIgc2VsID0gc2VsZWN0aW9uICYmIFJhbmdlLmludGVyc2VjdGlvbihyYW5nZSwgc2VsZWN0aW9uKTtcbiAgICB2YXIgZHMgPSBkZWNvcmF0ZShbbiwgcF0pO1xuXG4gICAgZm9yICh2YXIgZGVjIG9mIGRlY29yYXRpb25zKSB7XG4gICAgICB2YXIgZCA9IFJhbmdlLmludGVyc2VjdGlvbihkZWMsIHJhbmdlKTtcblxuICAgICAgaWYgKGQpIHtcbiAgICAgICAgZHMucHVzaChkKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoRWxlbWVudCQxLmlzRWxlbWVudChuKSkge1xuICAgICAgY2hpbGRyZW4ucHVzaCggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2VsZWN0ZWRDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgICAgIGtleTogXCJwcm92aWRlci1cIi5jb25jYXQoa2V5LmlkKSxcbiAgICAgICAgdmFsdWU6ICEhc2VsXG4gICAgICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChNZW1vaXplZEVsZW1lbnQsIHtcbiAgICAgICAgZGVjb3JhdGlvbnM6IGRzLFxuICAgICAgICBlbGVtZW50OiBuLFxuICAgICAgICBrZXk6IGtleS5pZCxcbiAgICAgICAgcmVuZGVyRWxlbWVudDogcmVuZGVyRWxlbWVudCxcbiAgICAgICAgcmVuZGVyUGxhY2Vob2xkZXI6IHJlbmRlclBsYWNlaG9sZGVyLFxuICAgICAgICByZW5kZXJMZWFmOiByZW5kZXJMZWFmLFxuICAgICAgICBzZWxlY3Rpb246IHNlbFxuICAgICAgfSkpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGRyZW4ucHVzaCggLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoTWVtb2l6ZWRUZXh0LCB7XG4gICAgICAgIGRlY29yYXRpb25zOiBkcyxcbiAgICAgICAga2V5OiBrZXkuaWQsXG4gICAgICAgIGlzTGFzdDogaXNMZWFmQmxvY2sgJiYgaSA9PT0gbm9kZS5jaGlsZHJlbi5sZW5ndGggLSAxLFxuICAgICAgICBwYXJlbnQ6IG5vZGUsXG4gICAgICAgIHJlbmRlclBsYWNlaG9sZGVyOiByZW5kZXJQbGFjZWhvbGRlcixcbiAgICAgICAgcmVuZGVyTGVhZjogcmVuZGVyTGVhZixcbiAgICAgICAgdGV4dDogblxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIE5PREVfVE9fSU5ERVguc2V0KG4sIGkpO1xuICAgIE5PREVfVE9fUEFSRU5ULnNldChuLCBub2RlKTtcbiAgfVxuXG4gIHJldHVybiBjaGlsZHJlbjtcbn07XG5cbi8qKlxyXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGByZWFkT25seWAgc3RhdGUgb2YgdGhlIGVkaXRvci5cclxuICovXG5cbnZhciBSZWFkT25seUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChmYWxzZSk7XG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IGByZWFkT25seWAgc3RhdGUgb2YgdGhlIGVkaXRvci5cclxuICovXG5cbnZhciB1c2VSZWFkT25seSA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoUmVhZE9ubHlDb250ZXh0KTtcbn07XG5cbnZhciBTbGF0ZUNvbnRleHQgPSAvKiNfX1BVUkVfXyovY3JlYXRlQ29udGV4dChudWxsKTtcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgZWRpdG9yIG9iamVjdCBmcm9tIHRoZSBSZWFjdCBjb250ZXh0LlxyXG4gKi9cblxudmFyIHVzZVNsYXRlID0gKCkgPT4ge1xuICB2YXIgY29udGV4dCA9IHVzZUNvbnRleHQoU2xhdGVDb250ZXh0KTtcblxuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYHVzZVNsYXRlYCBob29rIG11c3QgYmUgdXNlZCBpbnNpZGUgdGhlIDxTbGF0ZT4gY29tcG9uZW50J3MgY29udGV4dC5cIik7XG4gIH1cblxuICB2YXIge1xuICAgIGVkaXRvclxuICB9ID0gY29udGV4dDtcbiAgcmV0dXJuIGVkaXRvcjtcbn07XG52YXIgdXNlU2xhdGVXaXRoViA9ICgpID0+IHtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KFNsYXRlQ29udGV4dCk7XG5cbiAgaWYgKCFjb250ZXh0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGB1c2VTbGF0ZWAgaG9vayBtdXN0IGJlIHVzZWQgaW5zaWRlIHRoZSA8U2xhdGU+IGNvbXBvbmVudCdzIGNvbnRleHQuXCIpO1xuICB9XG5cbiAgcmV0dXJuIGNvbnRleHQ7XG59O1xuXG5mdW5jdGlvbiB1c2VUcmFja1VzZXJJbnB1dCgpIHtcbiAgdmFyIGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKCk7XG4gIHZhciByZWNlaXZlZFVzZXJJbnB1dCA9IHVzZVJlZihmYWxzZSk7XG4gIHZhciBhbmltYXRpb25GcmFtZUlkUmVmID0gdXNlUmVmKDApO1xuICB2YXIgb25Vc2VySW5wdXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKHJlY2VpdmVkVXNlcklucHV0LmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50ID0gdHJ1ZTtcbiAgICB2YXIgd2luZG93ID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KGVkaXRvcik7XG4gICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWRSZWYuY3VycmVudCk7XG4gICAgYW5pbWF0aW9uRnJhbWVJZFJlZi5jdXJyZW50ID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICByZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50ID0gZmFsc2U7XG4gICAgfSk7XG4gIH0sIFtlZGl0b3JdKTtcbiAgdXNlRWZmZWN0KCgpID0+ICgpID0+IGNhbmNlbEFuaW1hdGlvbkZyYW1lKGFuaW1hdGlvbkZyYW1lSWRSZWYuY3VycmVudCksIFtdKTtcbiAgcmV0dXJuIHtcbiAgICByZWNlaXZlZFVzZXJJbnB1dCxcbiAgICBvblVzZXJJbnB1dFxuICB9O1xufVxuXG52YXIgVFJJUExFX0NMSUNLID0gMztcblxuLyoqXHJcbiAqIEhvdGtleSBtYXBwaW5ncyBmb3IgZWFjaCBwbGF0Zm9ybS5cclxuICovXG5cbnZhciBIT1RLRVlTID0ge1xuICBib2xkOiAnbW9kK2InLFxuICBjb21wb3NlOiBbJ2Rvd24nLCAnbGVmdCcsICdyaWdodCcsICd1cCcsICdiYWNrc3BhY2UnLCAnZW50ZXInXSxcbiAgbW92ZUJhY2t3YXJkOiAnbGVmdCcsXG4gIG1vdmVGb3J3YXJkOiAncmlnaHQnLFxuICBtb3ZlV29yZEJhY2t3YXJkOiAnY3RybCtsZWZ0JyxcbiAgbW92ZVdvcmRGb3J3YXJkOiAnY3RybCtyaWdodCcsXG4gIGRlbGV0ZUJhY2t3YXJkOiAnc2hpZnQ/K2JhY2tzcGFjZScsXG4gIGRlbGV0ZUZvcndhcmQ6ICdzaGlmdD8rZGVsZXRlJyxcbiAgZXh0ZW5kQmFja3dhcmQ6ICdzaGlmdCtsZWZ0JyxcbiAgZXh0ZW5kRm9yd2FyZDogJ3NoaWZ0K3JpZ2h0JyxcbiAgaXRhbGljOiAnbW9kK2knLFxuICBpbnNlcnRTb2Z0QnJlYWs6ICdzaGlmdCtlbnRlcicsXG4gIHNwbGl0QmxvY2s6ICdlbnRlcicsXG4gIHVuZG86ICdtb2Qreidcbn07XG52YXIgQVBQTEVfSE9US0VZUyA9IHtcbiAgbW92ZUxpbmVCYWNrd2FyZDogJ29wdCt1cCcsXG4gIG1vdmVMaW5lRm9yd2FyZDogJ29wdCtkb3duJyxcbiAgbW92ZVdvcmRCYWNrd2FyZDogJ29wdCtsZWZ0JyxcbiAgbW92ZVdvcmRGb3J3YXJkOiAnb3B0K3JpZ2h0JyxcbiAgZGVsZXRlQmFja3dhcmQ6IFsnY3RybCtiYWNrc3BhY2UnLCAnY3RybCtoJ10sXG4gIGRlbGV0ZUZvcndhcmQ6IFsnY3RybCtkZWxldGUnLCAnY3RybCtkJ10sXG4gIGRlbGV0ZUxpbmVCYWNrd2FyZDogJ2NtZCtzaGlmdD8rYmFja3NwYWNlJyxcbiAgZGVsZXRlTGluZUZvcndhcmQ6IFsnY21kK3NoaWZ0PytkZWxldGUnLCAnY3RybCtrJ10sXG4gIGRlbGV0ZVdvcmRCYWNrd2FyZDogJ29wdCtzaGlmdD8rYmFja3NwYWNlJyxcbiAgZGVsZXRlV29yZEZvcndhcmQ6ICdvcHQrc2hpZnQ/K2RlbGV0ZScsXG4gIGV4dGVuZExpbmVCYWNrd2FyZDogJ29wdCtzaGlmdCt1cCcsXG4gIGV4dGVuZExpbmVGb3J3YXJkOiAnb3B0K3NoaWZ0K2Rvd24nLFxuICByZWRvOiAnY21kK3NoaWZ0K3onLFxuICB0cmFuc3Bvc2VDaGFyYWN0ZXI6ICdjdHJsK3QnXG59O1xudmFyIFdJTkRPV1NfSE9US0VZUyA9IHtcbiAgZGVsZXRlV29yZEJhY2t3YXJkOiAnY3RybCtzaGlmdD8rYmFja3NwYWNlJyxcbiAgZGVsZXRlV29yZEZvcndhcmQ6ICdjdHJsK3NoaWZ0PytkZWxldGUnLFxuICByZWRvOiBbJ2N0cmwreScsICdjdHJsK3NoaWZ0K3onXVxufTtcbi8qKlxyXG4gKiBDcmVhdGUgYSBwbGF0Zm9ybS1hd2FyZSBob3RrZXkgY2hlY2tlci5cclxuICovXG5cbnZhciBjcmVhdGUgPSBrZXkgPT4ge1xuICB2YXIgZ2VuZXJpYyA9IEhPVEtFWVNba2V5XTtcbiAgdmFyIGFwcGxlID0gQVBQTEVfSE9US0VZU1trZXldO1xuICB2YXIgd2luZG93cyA9IFdJTkRPV1NfSE9US0VZU1trZXldO1xuICB2YXIgaXNHZW5lcmljID0gZ2VuZXJpYyAmJiBpc0hvdGtleShnZW5lcmljKTtcbiAgdmFyIGlzQXBwbGUgPSBhcHBsZSAmJiBpc0hvdGtleShhcHBsZSk7XG4gIHZhciBpc1dpbmRvd3MgPSB3aW5kb3dzICYmIGlzSG90a2V5KHdpbmRvd3MpO1xuICByZXR1cm4gZXZlbnQgPT4ge1xuICAgIGlmIChpc0dlbmVyaWMgJiYgaXNHZW5lcmljKGV2ZW50KSkgcmV0dXJuIHRydWU7XG4gICAgaWYgKElTX0FQUExFICYmIGlzQXBwbGUgJiYgaXNBcHBsZShldmVudCkpIHJldHVybiB0cnVlO1xuICAgIGlmICghSVNfQVBQTEUgJiYgaXNXaW5kb3dzICYmIGlzV2luZG93cyhldmVudCkpIHJldHVybiB0cnVlO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcbn07XG4vKipcclxuICogSG90a2V5cy5cclxuICovXG5cblxudmFyIEhvdGtleXMgPSB7XG4gIGlzQm9sZDogY3JlYXRlKCdib2xkJyksXG4gIGlzQ29tcG9zZTogY3JlYXRlKCdjb21wb3NlJyksXG4gIGlzTW92ZUJhY2t3YXJkOiBjcmVhdGUoJ21vdmVCYWNrd2FyZCcpLFxuICBpc01vdmVGb3J3YXJkOiBjcmVhdGUoJ21vdmVGb3J3YXJkJyksXG4gIGlzRGVsZXRlQmFja3dhcmQ6IGNyZWF0ZSgnZGVsZXRlQmFja3dhcmQnKSxcbiAgaXNEZWxldGVGb3J3YXJkOiBjcmVhdGUoJ2RlbGV0ZUZvcndhcmQnKSxcbiAgaXNEZWxldGVMaW5lQmFja3dhcmQ6IGNyZWF0ZSgnZGVsZXRlTGluZUJhY2t3YXJkJyksXG4gIGlzRGVsZXRlTGluZUZvcndhcmQ6IGNyZWF0ZSgnZGVsZXRlTGluZUZvcndhcmQnKSxcbiAgaXNEZWxldGVXb3JkQmFja3dhcmQ6IGNyZWF0ZSgnZGVsZXRlV29yZEJhY2t3YXJkJyksXG4gIGlzRGVsZXRlV29yZEZvcndhcmQ6IGNyZWF0ZSgnZGVsZXRlV29yZEZvcndhcmQnKSxcbiAgaXNFeHRlbmRCYWNrd2FyZDogY3JlYXRlKCdleHRlbmRCYWNrd2FyZCcpLFxuICBpc0V4dGVuZEZvcndhcmQ6IGNyZWF0ZSgnZXh0ZW5kRm9yd2FyZCcpLFxuICBpc0V4dGVuZExpbmVCYWNrd2FyZDogY3JlYXRlKCdleHRlbmRMaW5lQmFja3dhcmQnKSxcbiAgaXNFeHRlbmRMaW5lRm9yd2FyZDogY3JlYXRlKCdleHRlbmRMaW5lRm9yd2FyZCcpLFxuICBpc0l0YWxpYzogY3JlYXRlKCdpdGFsaWMnKSxcbiAgaXNNb3ZlTGluZUJhY2t3YXJkOiBjcmVhdGUoJ21vdmVMaW5lQmFja3dhcmQnKSxcbiAgaXNNb3ZlTGluZUZvcndhcmQ6IGNyZWF0ZSgnbW92ZUxpbmVGb3J3YXJkJyksXG4gIGlzTW92ZVdvcmRCYWNrd2FyZDogY3JlYXRlKCdtb3ZlV29yZEJhY2t3YXJkJyksXG4gIGlzTW92ZVdvcmRGb3J3YXJkOiBjcmVhdGUoJ21vdmVXb3JkRm9yd2FyZCcpLFxuICBpc1JlZG86IGNyZWF0ZSgncmVkbycpLFxuICBpc1NvZnRCcmVhazogY3JlYXRlKCdpbnNlcnRTb2Z0QnJlYWsnKSxcbiAgaXNTcGxpdEJsb2NrOiBjcmVhdGUoJ3NwbGl0QmxvY2snKSxcbiAgaXNUcmFuc3Bvc2VDaGFyYWN0ZXI6IGNyZWF0ZSgndHJhbnNwb3NlQ2hhcmFjdGVyJyksXG4gIGlzVW5kbzogY3JlYXRlKCd1bmRvJylcbn07XG5cbnZhciBjcmVhdGVSZXN0b3JlRG9tTWFuYWdlciA9IChlZGl0b3IsIHJlY2VpdmVkVXNlcklucHV0KSA9PiB7XG4gIHZhciBidWZmZXJlZE11dGF0aW9ucyA9IFtdO1xuXG4gIHZhciBjbGVhciA9ICgpID0+IHtcbiAgICBidWZmZXJlZE11dGF0aW9ucyA9IFtdO1xuICB9O1xuXG4gIHZhciByZWdpc3Rlck11dGF0aW9ucyA9IG11dGF0aW9ucyA9PiB7XG4gICAgaWYgKCFyZWNlaXZlZFVzZXJJbnB1dC5jdXJyZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRyYWNrZWRNdXRhdGlvbnMgPSBtdXRhdGlvbnMuZmlsdGVyKG11dGF0aW9uID0+IGlzVHJhY2tlZE11dGF0aW9uKGVkaXRvciwgbXV0YXRpb24sIG11dGF0aW9ucykpO1xuICAgIGJ1ZmZlcmVkTXV0YXRpb25zLnB1c2goLi4udHJhY2tlZE11dGF0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVzdG9yZURPTSgpIHtcbiAgICBpZiAoYnVmZmVyZWRNdXRhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgYnVmZmVyZWRNdXRhdGlvbnMucmV2ZXJzZSgpLmZvckVhY2gobXV0YXRpb24gPT4ge1xuICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gJ2NoYXJhY3RlckRhdGEnKSB7XG4gICAgICAgICAgLy8gV2UgZG9uJ3Qgd2FudCB0byByZXN0b3JlIHRoZSBET00gZm9yIGNoYXJhY3RlckRhdGEgbXV0YXRpb25zXG4gICAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGludGVycnVwdHMgdGhlIGNvbXBvc2l0aW9uLlxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG11dGF0aW9uLnJlbW92ZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgbXV0YXRpb24ubmV4dFNpYmxpbmcpO1xuICAgICAgICB9KTtcbiAgICAgICAgbXV0YXRpb24uYWRkZWROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgICAgIG11dGF0aW9uLnRhcmdldC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTsgLy8gQ2xlYXIgYnVmZmVyZWQgbXV0YXRpb25zIHRvIGVuc3VyZSB3ZSBkb24ndCB1bmRvIHRoZW0gdHdpY2VcblxuICAgICAgY2xlYXIoKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHJlZ2lzdGVyTXV0YXRpb25zLFxuICAgIHJlc3RvcmVET00sXG4gICAgY2xlYXJcbiAgfTtcbn07XG5cbnZhciBNVVRBVElPTl9PQlNFUlZFUl9DT05GSUcgPSB7XG4gIHN1YnRyZWU6IHRydWUsXG4gIGNoaWxkTGlzdDogdHJ1ZSxcbiAgY2hhcmFjdGVyRGF0YTogdHJ1ZSxcbiAgY2hhcmFjdGVyRGF0YU9sZFZhbHVlOiB0cnVlXG59OyAvLyBXZSBoYXZlIHRvIHVzZSBhIGNsYXNzIGNvbXBvbmVudCBoZXJlIHNpbmNlIHdlIHJlbHkgb24gYGdldFNuYXBzaG90QmVmb3JlVXBkYXRlYCB3aGljaCBoYXMgbm8gRkMgZXF1aXZhbGVudFxuLy8gdG8gcnVuIGNvZGUgc3luY2hyb25vdXNseSBpbW1lZGlhdGVseSBiZWZvcmUgcmVhY3QgY29tbWl0cyB0aGUgY29tcG9uZW50IHVwZGF0ZSB0byB0aGUgRE9NLlxuXG5jbGFzcyBSZXN0b3JlRE9NQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICB0aGlzLmNvbnRleHQgPSBudWxsO1xuICAgIHRoaXMubWFuYWdlciA9IG51bGw7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbnVsbDtcbiAgfVxuXG4gIG9ic2VydmUoKSB7XG4gICAgdmFyIF90aGlzJG11dGF0aW9uT2JzZXJ2ZTtcblxuICAgIHZhciB7XG4gICAgICBub2RlXG4gICAgfSA9IHRoaXMucHJvcHM7XG5cbiAgICBpZiAoIW5vZGUuY3VycmVudCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gYXR0YWNoIE11dGF0aW9uT2JzZXJ2ZXIsIGBub2RlYCBpcyB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICAoX3RoaXMkbXV0YXRpb25PYnNlcnZlID0gdGhpcy5tdXRhdGlvbk9ic2VydmVyKSA9PT0gbnVsbCB8fCBfdGhpcyRtdXRhdGlvbk9ic2VydmUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG11dGF0aW9uT2JzZXJ2ZS5vYnNlcnZlKG5vZGUuY3VycmVudCwgTVVUQVRJT05fT0JTRVJWRVJfQ09ORklHKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIHZhciB7XG4gICAgICByZWNlaXZlZFVzZXJJbnB1dFxuICAgIH0gPSB0aGlzLnByb3BzO1xuICAgIHZhciBlZGl0b3IgPSB0aGlzLmNvbnRleHQ7XG4gICAgdGhpcy5tYW5hZ2VyID0gY3JlYXRlUmVzdG9yZURvbU1hbmFnZXIoZWRpdG9yLCByZWNlaXZlZFVzZXJJbnB1dCk7XG4gICAgdGhpcy5tdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIodGhpcy5tYW5hZ2VyLnJlZ2lzdGVyTXV0YXRpb25zKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuXG4gIGdldFNuYXBzaG90QmVmb3JlVXBkYXRlKCkge1xuICAgIHZhciBfdGhpcyRtdXRhdGlvbk9ic2VydmUyLCBfdGhpcyRtdXRhdGlvbk9ic2VydmUzLCBfdGhpcyRtYW5hZ2VyMjtcblxuICAgIHZhciBwZW5kaW5nTXV0YXRpb25zID0gKF90aGlzJG11dGF0aW9uT2JzZXJ2ZTIgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpID09PSBudWxsIHx8IF90aGlzJG11dGF0aW9uT2JzZXJ2ZTIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG11dGF0aW9uT2JzZXJ2ZTIudGFrZVJlY29yZHMoKTtcblxuICAgIGlmIChwZW5kaW5nTXV0YXRpb25zICE9PSBudWxsICYmIHBlbmRpbmdNdXRhdGlvbnMgIT09IHZvaWQgMCAmJiBwZW5kaW5nTXV0YXRpb25zLmxlbmd0aCkge1xuICAgICAgdmFyIF90aGlzJG1hbmFnZXI7XG5cbiAgICAgIChfdGhpcyRtYW5hZ2VyID0gdGhpcy5tYW5hZ2VyKSA9PT0gbnVsbCB8fCBfdGhpcyRtYW5hZ2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtYW5hZ2VyLnJlZ2lzdGVyTXV0YXRpb25zKHBlbmRpbmdNdXRhdGlvbnMpO1xuICAgIH1cblxuICAgIChfdGhpcyRtdXRhdGlvbk9ic2VydmUzID0gdGhpcy5tdXRhdGlvbk9ic2VydmVyKSA9PT0gbnVsbCB8fCBfdGhpcyRtdXRhdGlvbk9ic2VydmUzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtdXRhdGlvbk9ic2VydmUzLmRpc2Nvbm5lY3QoKTtcbiAgICAoX3RoaXMkbWFuYWdlcjIgPSB0aGlzLm1hbmFnZXIpID09PSBudWxsIHx8IF90aGlzJG1hbmFnZXIyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRtYW5hZ2VyMi5yZXN0b3JlRE9NKCk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUoKSB7XG4gICAgdmFyIF90aGlzJG1hbmFnZXIzO1xuXG4gICAgKF90aGlzJG1hbmFnZXIzID0gdGhpcy5tYW5hZ2VyKSA9PT0gbnVsbCB8fCBfdGhpcyRtYW5hZ2VyMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkbWFuYWdlcjMuY2xlYXIoKTtcbiAgICB0aGlzLm9ic2VydmUoKTtcbiAgfVxuXG4gIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIHZhciBfdGhpcyRtdXRhdGlvbk9ic2VydmU0O1xuXG4gICAgKF90aGlzJG11dGF0aW9uT2JzZXJ2ZTQgPSB0aGlzLm11dGF0aW9uT2JzZXJ2ZXIpID09PSBudWxsIHx8IF90aGlzJG11dGF0aW9uT2JzZXJ2ZTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG11dGF0aW9uT2JzZXJ2ZTQuZGlzY29ubmVjdCgpO1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiB0aGlzLnByb3BzLmNoaWxkcmVuO1xuICB9XG5cbn1cblxuUmVzdG9yZURPTUNvbXBvbmVudC5jb250ZXh0VHlwZSA9IEVkaXRvckNvbnRleHQ7XG52YXIgUmVzdG9yZURPTSA9IElTX0FORFJPSUQgPyBSZXN0b3JlRE9NQ29tcG9uZW50IDogX3JlZiA9PiB7XG4gIHZhciB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgY2hpbGRyZW4pO1xufTtcblxudmFyIF9leGNsdWRlZCQxID0gW1wiYXV0b0ZvY3VzXCIsIFwiZGVjb3JhdGVcIiwgXCJvbkRPTUJlZm9yZUlucHV0XCIsIFwicGxhY2Vob2xkZXJcIiwgXCJyZWFkT25seVwiLCBcInJlbmRlckVsZW1lbnRcIiwgXCJyZW5kZXJMZWFmXCIsIFwicmVuZGVyUGxhY2Vob2xkZXJcIiwgXCJzY3JvbGxTZWxlY3Rpb25JbnRvVmlld1wiLCBcInN0eWxlXCIsIFwiYXNcIiwgXCJkaXNhYmxlRGVmYXVsdFN0eWxlc1wiXSxcbiAgICBfZXhjbHVkZWQyID0gW1widGV4dFwiXTtcblxuZnVuY3Rpb24gb3duS2V5cyQxKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQxKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBDaGlsZHJlbiA9IHByb3BzID0+IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB1c2VDaGlsZHJlbihwcm9wcykpO1xuLyoqXHJcbiAqIEVkaXRhYmxlLlxyXG4gKi9cblxuXG52YXIgRWRpdGFibGUgPSBwcm9wcyA9PiB7XG4gIHZhciBkZWZhdWx0UmVuZGVyUGxhY2Vob2xkZXIgPSB1c2VDYWxsYmFjayhwcm9wcyA9PiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChEZWZhdWx0UGxhY2Vob2xkZXIsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzKSksIFtdKTtcblxuICB2YXIge1xuICAgIGF1dG9Gb2N1cyxcbiAgICBkZWNvcmF0ZSA9IGRlZmF1bHREZWNvcmF0ZSxcbiAgICBvbkRPTUJlZm9yZUlucHV0OiBwcm9wc09uRE9NQmVmb3JlSW5wdXQsXG4gICAgcGxhY2Vob2xkZXIsXG4gICAgcmVhZE9ubHkgPSBmYWxzZSxcbiAgICByZW5kZXJFbGVtZW50LFxuICAgIHJlbmRlckxlYWYsXG4gICAgcmVuZGVyUGxhY2Vob2xkZXIgPSBkZWZhdWx0UmVuZGVyUGxhY2Vob2xkZXIsXG4gICAgc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcgPSBkZWZhdWx0U2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcsXG4gICAgc3R5bGU6IHVzZXJTdHlsZSA9IHt9LFxuICAgIGFzOiBDb21wb25lbnQgPSAnZGl2JyxcbiAgICBkaXNhYmxlRGVmYXVsdFN0eWxlcyA9IGZhbHNlXG4gIH0gPSBwcm9wcyxcbiAgICAgIGF0dHJpYnV0ZXMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocHJvcHMsIF9leGNsdWRlZCQxKTtcblxuICB2YXIgZWRpdG9yID0gdXNlU2xhdGUoKTsgLy8gUmVyZW5kZXIgZWRpdG9yIHdoZW4gY29tcG9zaXRpb24gc3RhdHVzIGNoYW5nZWRcblxuICB2YXIgW2lzQ29tcG9zaW5nLCBzZXRJc0NvbXBvc2luZ10gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIHZhciByZWYgPSB1c2VSZWYobnVsbCk7XG4gIHZhciBkZWZlcnJlZE9wZXJhdGlvbnMgPSB1c2VSZWYoW10pO1xuICB2YXIgW3BsYWNlaG9sZGVySGVpZ2h0LCBzZXRQbGFjZWhvbGRlckhlaWdodF0gPSB1c2VTdGF0ZSgpO1xuICB2YXIge1xuICAgIG9uVXNlcklucHV0LFxuICAgIHJlY2VpdmVkVXNlcklucHV0XG4gIH0gPSB1c2VUcmFja1VzZXJJbnB1dCgpO1xuICB2YXIgWywgZm9yY2VSZW5kZXJdID0gdXNlUmVkdWNlcihzID0+IHMgKyAxLCAwKTtcbiAgRURJVE9SX1RPX0ZPUkNFX1JFTkRFUi5zZXQoZWRpdG9yLCBmb3JjZVJlbmRlcik7IC8vIFVwZGF0ZSBpbnRlcm5hbCBzdGF0ZSBvbiBlYWNoIHJlbmRlci5cblxuICBJU19SRUFEX09OTFkuc2V0KGVkaXRvciwgcmVhZE9ubHkpOyAvLyBLZWVwIHRyYWNrIG9mIHNvbWUgc3RhdGUgZm9yIHRoZSBldmVudCBoYW5kbGVyIGxvZ2ljLlxuXG4gIHZhciBzdGF0ZSA9IHVzZU1lbW8oKCkgPT4gKHtcbiAgICBpc0RyYWdnaW5nSW50ZXJuYWxseTogZmFsc2UsXG4gICAgaXNVcGRhdGluZ1NlbGVjdGlvbjogZmFsc2UsXG4gICAgbGF0ZXN0RWxlbWVudDogbnVsbCxcbiAgICBoYXNNYXJrUGxhY2Vob2xkZXI6IGZhbHNlXG4gIH0pLCBbXSk7IC8vIFRoZSBhdXRvRm9jdXMgVGV4dGFyZWFIVE1MQXR0cmlidXRlIGRvZXNuJ3QgZG8gYW55dGhpbmcgb24gYSBkaXYsIHNvIGl0XG4gIC8vIG5lZWRzIHRvIGJlIG1hbnVhbGx5IGZvY3VzZWQuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAocmVmLmN1cnJlbnQgJiYgYXV0b0ZvY3VzKSB7XG4gICAgICByZWYuY3VycmVudC5mb2N1cygpO1xuICAgIH1cbiAgfSwgW2F1dG9Gb2N1c10pO1xuICAvKipcclxuICAgKiBUaGUgQW5kcm9pZElucHV0TWFuYWdlciBvYmplY3QgaGFzIGEgY3ljbGljYWwgZGVwZW5kZW5jeSBvbiBvbkRPTVNlbGVjdGlvbkNoYW5nZVxyXG4gICAqXHJcbiAgICogSXQgaXMgZGVmaW5lZCBhcyBhIHJlZmVyZW5jZSB0byBzaW1wbGlmeSBob29rIGRlcGVuZGVuY2llcyBhbmQgY2xhcmlmeSB0aGF0XHJcbiAgICogaXQgbmVlZHMgdG8gYmUgaW5pdGlhbGl6ZWQuXHJcbiAgICovXG5cbiAgdmFyIGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYgPSB1c2VSZWYoKTsgLy8gTGlzdGVuIG9uIHRoZSBuYXRpdmUgYHNlbGVjdGlvbmNoYW5nZWAgZXZlbnQgdG8gYmUgYWJsZSB0byB1cGRhdGUgYW55IHRpbWVcbiAgLy8gdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLiBUaGlzIGlzIHJlcXVpcmVkIGJlY2F1c2UgUmVhY3QncyBgb25TZWxlY3RgIGlzIGxlYWt5XG4gIC8vIGFuZCBub24tc3RhbmRhcmQgc28gaXQgZG9lc24ndCBmaXJlIHVudGlsIGFmdGVyIGEgc2VsZWN0aW9uIGhhcyBiZWVuXG4gIC8vIHJlbGVhc2VkLiBUaGlzIGNhdXNlcyBpc3N1ZXMgaW4gc2l0dWF0aW9ucyB3aGVyZSBhbm90aGVyIGNoYW5nZSBoYXBwZW5zXG4gIC8vIHdoaWxlIGEgc2VsZWN0aW9uIGlzIGJlaW5nIGRyYWdnZWQuXG5cbiAgdmFyIG9uRE9NU2VsZWN0aW9uQ2hhbmdlID0gdXNlTWVtbygoKSA9PiB0aHJvdHRsZSgoKSA9PiB7XG4gICAgdmFyIGFuZHJvaWRJbnB1dE1hbmFnZXIgPSBhbmRyb2lkSW5wdXRNYW5hZ2VyUmVmLmN1cnJlbnQ7XG5cbiAgICBpZiAoKElTX0FORFJPSUQgfHwgIVJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikpICYmICghc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiB8fCBhbmRyb2lkSW5wdXRNYW5hZ2VyICE9PSBudWxsICYmIGFuZHJvaWRJbnB1dE1hbmFnZXIgIT09IHZvaWQgMCAmJiBhbmRyb2lkSW5wdXRNYW5hZ2VyLmlzRmx1c2hpbmcoKSkgJiYgIXN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5KSB7XG4gICAgICB2YXIgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpO1xuICAgICAgdmFyIHtcbiAgICAgICAgYWN0aXZlRWxlbWVudFxuICAgICAgfSA9IHJvb3Q7XG4gICAgICB2YXIgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpO1xuICAgICAgdmFyIGRvbVNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICAgIGlmIChhY3RpdmVFbGVtZW50ID09PSBlbCkge1xuICAgICAgICBzdGF0ZS5sYXRlc3RFbGVtZW50ID0gYWN0aXZlRWxlbWVudDtcbiAgICAgICAgSVNfRk9DVVNFRC5zZXQoZWRpdG9yLCB0cnVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIElTX0ZPQ1VTRUQuZGVsZXRlKGVkaXRvcik7XG4gICAgICB9XG5cbiAgICAgIGlmICghZG9tU2VsZWN0aW9uKSB7XG4gICAgICAgIHJldHVybiBUcmFuc2Zvcm1zLmRlc2VsZWN0KGVkaXRvcik7XG4gICAgICB9XG5cbiAgICAgIHZhciB7XG4gICAgICAgIGFuY2hvck5vZGUsXG4gICAgICAgIGZvY3VzTm9kZVxuICAgICAgfSA9IGRvbVNlbGVjdGlvbjtcbiAgICAgIHZhciBhbmNob3JOb2RlU2VsZWN0YWJsZSA9IFJlYWN0RWRpdG9yLmhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgYW5jaG9yTm9kZSkgfHwgUmVhY3RFZGl0b3IuaXNUYXJnZXRJbnNpZGVOb25SZWFkb25seVZvaWQoZWRpdG9yLCBhbmNob3JOb2RlKTtcbiAgICAgIHZhciBmb2N1c05vZGVTZWxlY3RhYmxlID0gUmVhY3RFZGl0b3IuaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBmb2N1c05vZGUpIHx8IFJlYWN0RWRpdG9yLmlzVGFyZ2V0SW5zaWRlTm9uUmVhZG9ubHlWb2lkKGVkaXRvciwgZm9jdXNOb2RlKTtcblxuICAgICAgaWYgKGFuY2hvck5vZGVTZWxlY3RhYmxlICYmIGZvY3VzTm9kZVNlbGVjdGFibGUpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgZG9tU2VsZWN0aW9uLCB7XG4gICAgICAgICAgZXhhY3RNYXRjaDogZmFsc2UsXG4gICAgICAgICAgc3VwcHJlc3NUaHJvdzogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAocmFuZ2UpIHtcbiAgICAgICAgICBpZiAoIVJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikgJiYgIShhbmRyb2lkSW5wdXRNYW5hZ2VyICE9PSBudWxsICYmIGFuZHJvaWRJbnB1dE1hbmFnZXIgIT09IHZvaWQgMCAmJiBhbmRyb2lkSW5wdXRNYW5hZ2VyLmhhc1BlbmRpbmdDaGFuZ2VzKCkpICYmICEoYW5kcm9pZElucHV0TWFuYWdlciAhPT0gbnVsbCAmJiBhbmRyb2lkSW5wdXRNYW5hZ2VyICE9PSB2b2lkIDAgJiYgYW5kcm9pZElucHV0TWFuYWdlci5pc0ZsdXNoaW5nKCkpKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5kcm9pZElucHV0TWFuYWdlciA9PT0gbnVsbCB8fCBhbmRyb2lkSW5wdXRNYW5hZ2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhbmRyb2lkSW5wdXRNYW5hZ2VyLmhhbmRsZVVzZXJTZWxlY3QocmFuZ2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBEZXNlbGVjdCB0aGUgZWRpdG9yIGlmIHRoZSBkb20gc2VsZWN0aW9uIGlzIG5vdCBzZWxlY3RhYmxlIGluIHJlYWRvbmx5IG1vZGVcblxuXG4gICAgICBpZiAocmVhZE9ubHkgJiYgKCFhbmNob3JOb2RlU2VsZWN0YWJsZSB8fCAhZm9jdXNOb2RlU2VsZWN0YWJsZSkpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5kZXNlbGVjdChlZGl0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgMTAwKSwgW2VkaXRvciwgcmVhZE9ubHksIHN0YXRlXSk7XG4gIHZhciBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlID0gdXNlTWVtbygoKSA9PiBkZWJvdW5jZShvbkRPTVNlbGVjdGlvbkNoYW5nZSwgMCksIFtvbkRPTVNlbGVjdGlvbkNoYW5nZV0pO1xuICBhbmRyb2lkSW5wdXRNYW5hZ2VyUmVmLmN1cnJlbnQgPSB1c2VBbmRyb2lkSW5wdXRNYW5hZ2VyKHtcbiAgICBub2RlOiByZWYsXG4gICAgb25ET01TZWxlY3Rpb25DaGFuZ2UsXG4gICAgc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZVxuICB9KTtcbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIF9hbmRyb2lkSW5wdXRNYW5hZ2VyUiwgX2FuZHJvaWRJbnB1dE1hbmFnZXJSMjtcblxuICAgIC8vIFVwZGF0ZSBlbGVtZW50LXJlbGF0ZWQgd2VhayBtYXBzIHdpdGggdGhlIERPTSBlbGVtZW50IHJlZi5cbiAgICB2YXIgd2luZG93O1xuXG4gICAgaWYgKHJlZi5jdXJyZW50ICYmICh3aW5kb3cgPSBnZXREZWZhdWx0VmlldyhyZWYuY3VycmVudCkpKSB7XG4gICAgICBFRElUT1JfVE9fV0lORE9XLnNldChlZGl0b3IsIHdpbmRvdyk7XG4gICAgICBFRElUT1JfVE9fRUxFTUVOVC5zZXQoZWRpdG9yLCByZWYuY3VycmVudCk7XG4gICAgICBOT0RFX1RPX0VMRU1FTlQuc2V0KGVkaXRvciwgcmVmLmN1cnJlbnQpO1xuICAgICAgRUxFTUVOVF9UT19OT0RFLnNldChyZWYuY3VycmVudCwgZWRpdG9yKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTk9ERV9UT19FTEVNRU5ULmRlbGV0ZShlZGl0b3IpO1xuICAgIH0gLy8gTWFrZSBzdXJlIHRoZSBET00gc2VsZWN0aW9uIHN0YXRlIGlzIGluIHN5bmMuXG5cblxuICAgIHZhciB7XG4gICAgICBzZWxlY3Rpb25cbiAgICB9ID0gZWRpdG9yO1xuICAgIHZhciByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcik7XG4gICAgdmFyIGRvbVNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG5cbiAgICBpZiAoIWRvbVNlbGVjdGlvbiB8fCAhUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcikgfHwgKF9hbmRyb2lkSW5wdXRNYW5hZ2VyUiA9IGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYuY3VycmVudCkgIT09IG51bGwgJiYgX2FuZHJvaWRJbnB1dE1hbmFnZXJSICE9PSB2b2lkIDAgJiYgX2FuZHJvaWRJbnB1dE1hbmFnZXJSLmhhc1BlbmRpbmdBY3Rpb24oKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBzZXREb21TZWxlY3Rpb24gPSBmb3JjZUNoYW5nZSA9PiB7XG4gICAgICB2YXIgaGFzRG9tU2VsZWN0aW9uID0gZG9tU2VsZWN0aW9uLnR5cGUgIT09ICdOb25lJzsgLy8gSWYgdGhlIERPTSBzZWxlY3Rpb24gaXMgcHJvcGVybHkgdW5zZXQsIHdlJ3JlIGRvbmUuXG5cbiAgICAgIGlmICghc2VsZWN0aW9uICYmICFoYXNEb21TZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSAvLyBHZXQgYW5jaG9yTm9kZSBhbmQgZm9jdXNOb2RlXG5cblxuICAgICAgdmFyIGZvY3VzTm9kZSA9IGRvbVNlbGVjdGlvbi5mb2N1c05vZGU7XG4gICAgICB2YXIgYW5jaG9yTm9kZTsgLy8gQ09NUEFUOiBJbiBmaXJlZm94IHRoZSBub3JtYWwgc2VsZXRpb24gd2F5IGRvZXMgbm90IHdvcmtcbiAgICAgIC8vIChodHRwczovL2dpdGh1Yi5jb20vaWFuc3Rvcm10YXlsb3Ivc2xhdGUvcHVsbC81NDg2I2lzc3VlLTE4MjA3MjAyMjMpXG5cbiAgICAgIGlmIChJU19GSVJFRk9YICYmIGRvbVNlbGVjdGlvbi5yYW5nZUNvdW50ID4gMSkge1xuICAgICAgICB2YXIgZmlyc3RSYW5nZSA9IGRvbVNlbGVjdGlvbi5nZXRSYW5nZUF0KDApO1xuICAgICAgICB2YXIgbGFzdFJhbmdlID0gZG9tU2VsZWN0aW9uLmdldFJhbmdlQXQoZG9tU2VsZWN0aW9uLnJhbmdlQ291bnQgLSAxKTsgLy8gUmlnaHQgdG8gbGVmdFxuXG4gICAgICAgIGlmIChmaXJzdFJhbmdlLnN0YXJ0Q29udGFpbmVyID09PSBmb2N1c05vZGUpIHtcbiAgICAgICAgICBhbmNob3JOb2RlID0gbGFzdFJhbmdlLmVuZENvbnRhaW5lcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBMZWZ0IHRvIHJpZ2h0XG4gICAgICAgICAgYW5jaG9yTm9kZSA9IGZpcnN0UmFuZ2Uuc3RhcnRDb250YWluZXI7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFuY2hvck5vZGUgPSBkb21TZWxlY3Rpb24uYW5jaG9yTm9kZTtcbiAgICAgIH0gLy8gdmVyaWZ5IHRoYXQgdGhlIGRvbSBzZWxlY3Rpb24gaXMgaW4gdGhlIGVkaXRvclxuXG5cbiAgICAgIHZhciBlZGl0b3JFbGVtZW50ID0gRURJVE9SX1RPX0VMRU1FTlQuZ2V0KGVkaXRvcik7XG4gICAgICB2YXIgaGFzRG9tU2VsZWN0aW9uSW5FZGl0b3IgPSBmYWxzZTtcblxuICAgICAgaWYgKGVkaXRvckVsZW1lbnQuY29udGFpbnMoYW5jaG9yTm9kZSkgJiYgZWRpdG9yRWxlbWVudC5jb250YWlucyhmb2N1c05vZGUpKSB7XG4gICAgICAgIGhhc0RvbVNlbGVjdGlvbkluRWRpdG9yID0gdHJ1ZTtcbiAgICAgIH0gLy8gSWYgdGhlIERPTSBzZWxlY3Rpb24gaXMgaW4gdGhlIGVkaXRvciBhbmQgdGhlIGVkaXRvciBzZWxlY3Rpb24gaXMgYWxyZWFkeSBjb3JyZWN0LCB3ZSdyZSBkb25lLlxuXG5cbiAgICAgIGlmIChoYXNEb21TZWxlY3Rpb24gJiYgaGFzRG9tU2VsZWN0aW9uSW5FZGl0b3IgJiYgc2VsZWN0aW9uICYmICFmb3JjZUNoYW5nZSkge1xuICAgICAgICB2YXIgc2xhdGVSYW5nZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVSYW5nZShlZGl0b3IsIGRvbVNlbGVjdGlvbiwge1xuICAgICAgICAgIGV4YWN0TWF0Y2g6IHRydWUsXG4gICAgICAgICAgLy8gZG9tU2VsZWN0aW9uIGlzIG5vdCBuZWNlc3NhcmlseSBhIHZhbGlkIFNsYXRlIHJhbmdlXG4gICAgICAgICAgLy8gKGUuZy4gd2hlbiBjbGlja2luZyBvbiBjb250ZW50RWRpdGFibGU6ZmFsc2UgZWxlbWVudClcbiAgICAgICAgICBzdXBwcmVzc1Rocm93OiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzbGF0ZVJhbmdlICYmIFJhbmdlLmVxdWFscyhzbGF0ZVJhbmdlLCBzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgdmFyIF9hbmNob3JOb2RlLCBfYW5jaG9yTm9kZSRwYXJlbnRFbGU7XG5cbiAgICAgICAgICBpZiAoIXN0YXRlLmhhc01hcmtQbGFjZWhvbGRlcikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH0gLy8gRW5zdXJlIHNlbGVjdGlvbiBpcyBpbnNpZGUgdGhlIG1hcmsgcGxhY2Vob2xkZXJcblxuXG4gICAgICAgICAgaWYgKChfYW5jaG9yTm9kZSA9IGFuY2hvck5vZGUpICE9PSBudWxsICYmIF9hbmNob3JOb2RlICE9PSB2b2lkIDAgJiYgKF9hbmNob3JOb2RlJHBhcmVudEVsZSA9IF9hbmNob3JOb2RlLnBhcmVudEVsZW1lbnQpICE9PSBudWxsICYmIF9hbmNob3JOb2RlJHBhcmVudEVsZSAhPT0gdm9pZCAwICYmIF9hbmNob3JOb2RlJHBhcmVudEVsZS5oYXNBdHRyaWJ1dGUoJ2RhdGEtc2xhdGUtbWFyay1wbGFjZWhvbGRlcicpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IC8vIHdoZW4gPEVkaXRhYmxlLz4gaXMgYmVpbmcgY29udHJvbGxlZCB0aHJvdWdoIGV4dGVybmFsIHZhbHVlXG4gICAgICAvLyB0aGVuIGl0cyBjaGlsZHJlbiBtaWdodCBqdXN0IGNoYW5nZSAtIERPTSByZXNwb25kcyB0byBpdCBvbiBpdHMgb3duXG4gICAgICAvLyBidXQgU2xhdGUncyB2YWx1ZSBpcyBub3QgYmVpbmcgdXBkYXRlZCB0aHJvdWdoIGFueSBvcGVyYXRpb25cbiAgICAgIC8vIGFuZCB0aHVzIGl0IGRvZXNuJ3QgdHJhbnNmb3JtIHNlbGVjdGlvbiBvbiBpdHMgb3duXG5cblxuICAgICAgaWYgKHNlbGVjdGlvbiAmJiAhUmVhY3RFZGl0b3IuaGFzUmFuZ2UoZWRpdG9yLCBzZWxlY3Rpb24pKSB7XG4gICAgICAgIGVkaXRvci5zZWxlY3Rpb24gPSBSZWFjdEVkaXRvci50b1NsYXRlUmFuZ2UoZWRpdG9yLCBkb21TZWxlY3Rpb24sIHtcbiAgICAgICAgICBleGFjdE1hdGNoOiBmYWxzZSxcbiAgICAgICAgICBzdXBwcmVzc1Rocm93OiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIE90aGVyd2lzZSB0aGUgRE9NIHNlbGVjdGlvbiBpcyBvdXQgb2Ygc3luYywgc28gdXBkYXRlIGl0LlxuXG5cbiAgICAgIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24gPSB0cnVlO1xuICAgICAgdmFyIG5ld0RvbVJhbmdlID0gc2VsZWN0aW9uICYmIFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZWRpdG9yLCBzZWxlY3Rpb24pO1xuXG4gICAgICBpZiAobmV3RG9tUmFuZ2UpIHtcbiAgICAgICAgaWYgKFJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikgJiYgIUlTX0FORFJPSUQpIHtcbiAgICAgICAgICBkb21TZWxlY3Rpb24uY29sbGFwc2VUb0VuZCgpO1xuICAgICAgICB9IGVsc2UgaWYgKFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgIGRvbVNlbGVjdGlvbi5zZXRCYXNlQW5kRXh0ZW50KG5ld0RvbVJhbmdlLmVuZENvbnRhaW5lciwgbmV3RG9tUmFuZ2UuZW5kT2Zmc2V0LCBuZXdEb21SYW5nZS5zdGFydENvbnRhaW5lciwgbmV3RG9tUmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRvbVNlbGVjdGlvbi5zZXRCYXNlQW5kRXh0ZW50KG5ld0RvbVJhbmdlLnN0YXJ0Q29udGFpbmVyLCBuZXdEb21SYW5nZS5zdGFydE9mZnNldCwgbmV3RG9tUmFuZ2UuZW5kQ29udGFpbmVyLCBuZXdEb21SYW5nZS5lbmRPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2Nyb2xsU2VsZWN0aW9uSW50b1ZpZXcoZWRpdG9yLCBuZXdEb21SYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb21TZWxlY3Rpb24ucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBuZXdEb21SYW5nZTtcbiAgICB9OyAvLyBJbiBmaXJlZm94IGlmIHRoZXJlIGlzIG1vcmUgdGhlbiAxIHJhbmdlIGFuZCB3ZSBjYWxsIHNldERvbVNlbGVjdGlvbiB3ZSByZW1vdmUgdGhlIGFiaWxpdHkgdG8gc2VsZWN0IG1vcmUgY2VsbHMgaW4gYSB0YWJsZVxuXG5cbiAgICBpZiAoZG9tU2VsZWN0aW9uLnJhbmdlQ291bnQgPD0gMSkge1xuICAgICAgc2V0RG9tU2VsZWN0aW9uKCk7XG4gICAgfVxuXG4gICAgdmFyIGVuc3VyZVNlbGVjdGlvbiA9ICgoX2FuZHJvaWRJbnB1dE1hbmFnZXJSMiA9IGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2FuZHJvaWRJbnB1dE1hbmFnZXJSMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FuZHJvaWRJbnB1dE1hbmFnZXJSMi5pc0ZsdXNoaW5nKCkpID09PSAnYWN0aW9uJztcblxuICAgIGlmICghSVNfQU5EUk9JRCB8fCAhZW5zdXJlU2VsZWN0aW9uKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiA9IGZhbHNlO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgdmFyIGFuaW1hdGlvbkZyYW1lSWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgaWYgKGVuc3VyZVNlbGVjdGlvbikge1xuICAgICAgICB2YXIgZW5zdXJlRG9tU2VsZWN0aW9uID0gZm9yY2VDaGFuZ2UgPT4ge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgZWwgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpO1xuICAgICAgICAgICAgZWwuZm9jdXMoKTtcbiAgICAgICAgICAgIHNldERvbVNlbGVjdGlvbihmb3JjZUNoYW5nZSk7XG4gICAgICAgICAgfSBjYXRjaCAoZSkgey8vIElnbm9yZSwgZG9tIGFuZCBzdGF0ZSBtaWdodCBiZSBvdXQgb2Ygc3luY1xuICAgICAgICAgIH1cbiAgICAgICAgfTsgLy8gQ29tcGF0OiBBbmRyb2lkIElNRXMgdHJ5IHRvIGZvcmNlIHRoZWlyIHNlbGVjdGlvbiBieSBtYW51YWxseSByZS1hcHBseWluZyBpdCBldmVuIGFmdGVyIHdlIHNldCBpdC5cbiAgICAgICAgLy8gVGhpcyBlc3NlbnRpYWxseSB3b3VsZCBtYWtlIHNldHRpbmcgdGhlIHNsYXRlIHNlbGVjdGlvbiBkdXJpbmcgYW4gdXBkYXRlIG1lYW5pbmdsZXNzLCBzbyB3ZSBmb3JjZSBpdFxuICAgICAgICAvLyBhZ2FpbiBoZXJlLiBXZSBjYW4ndCBvbmx5IGRvIGl0IGluIHRoZSBzZXRUaW1lb3V0IGFmdGVyIHRoZSBhbmltYXRpb24gZnJhbWUgc2luY2UgdGhhdCB3b3VsZCBjYXVzZSBhXG4gICAgICAgIC8vIHZpc2libGUgZmxpY2tlci5cblxuXG4gICAgICAgIGVuc3VyZURvbVNlbGVjdGlvbigpO1xuICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvLyBDT01QQVQ6IFdoaWxlIHNldHRpbmcgdGhlIHNlbGVjdGlvbiBpbiBhbiBhbmltYXRpb24gZnJhbWUgdmlzdWFsbHkgY29ycmVjdGx5IHNldHMgdGhlIHNlbGVjdGlvbixcbiAgICAgICAgICAvLyBpdCBkb2Vzbid0IHVwZGF0ZSBHQm9hcmRzIHNwZWxsY2hlY2tlciBzdGF0ZS4gV2UgaGF2ZSB0byBtYW51YWxseSB0cmlnZ2VyIGEgc2VsZWN0aW9uIGNoYW5nZSBhZnRlclxuICAgICAgICAgIC8vIHRoZSBhbmltYXRpb24gZnJhbWUgdG8gZW5zdXJlIGl0IGRpc3BsYXlzIHRoZSBjb3JyZWN0IHN0YXRlLlxuICAgICAgICAgIGVuc3VyZURvbVNlbGVjdGlvbih0cnVlKTtcbiAgICAgICAgICBzdGF0ZS5pc1VwZGF0aW5nU2VsZWN0aW9uID0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjYW5jZWxBbmltYXRpb25GcmFtZShhbmltYXRpb25GcmFtZUlkKTtcblxuICAgICAgaWYgKHRpbWVvdXRJZCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTsgLy8gTGlzdGVuIG9uIHRoZSBuYXRpdmUgYGJlZm9yZWlucHV0YCBldmVudCB0byBnZXQgcmVhbCBcIkxldmVsIDJcIiBldmVudHMuIFRoaXNcbiAgLy8gaXMgcmVxdWlyZWQgYmVjYXVzZSBSZWFjdCdzIGBiZWZvcmVpbnB1dGAgaXMgZmFrZSBhbmQgbmV2ZXIgcmVhbGx5IGF0dGFjaGVzXG4gIC8vIHRvIHRoZSByZWFsIGV2ZW50IHNhZGx5LiAoMjAxOS8xMS8wMSlcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTIxMVxuXG4gIHZhciBvbkRPTUJlZm9yZUlucHV0ID0gdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgIG9uVXNlcklucHV0KCk7XG5cbiAgICBpZiAoIXJlYWRPbmx5ICYmIFJlYWN0RWRpdG9yLmhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJiAhaXNET01FdmVudEhhbmRsZWQoZXZlbnQsIHByb3BzT25ET01CZWZvcmVJbnB1dCkpIHtcbiAgICAgIHZhciBfRURJVE9SX1RPX1VTRVJfU0VMRUM7XG5cbiAgICAgIC8vIENPTVBBVDogQmVmb3JlSW5wdXQgZXZlbnRzIGFyZW4ndCBjYW5jZWxhYmxlIG9uIGFuZHJvaWQsIHNvIHdlIGhhdmUgdG8gaGFuZGxlIHRoZW0gZGlmZmVyZW50bHkgdXNpbmcgdGhlIGFuZHJvaWQgaW5wdXQgbWFuYWdlci5cbiAgICAgIGlmIChhbmRyb2lkSW5wdXRNYW5hZ2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgcmV0dXJuIGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYuY3VycmVudC5oYW5kbGVET01CZWZvcmVJbnB1dChldmVudCk7XG4gICAgICB9IC8vIFNvbWUgSU1Fcy9DaHJvbWUgZXh0ZW5zaW9ucyBsaWtlIGUuZy4gR3JhbW1hcmx5IHNldCB0aGUgc2VsZWN0aW9uIGltbWVkaWF0ZWx5IGJlZm9yZVxuICAgICAgLy8gdHJpZ2dlcmluZyBhIGBiZWZvcmVpbnB1dGAgZXhwZWN0aW5nIHRoZSBjaGFuZ2UgdG8gYmUgYXBwbGllZCB0byB0aGUgaW1tZWRpYXRlbHkgYmVmb3JlXG4gICAgICAvLyBzZXQgc2VsZWN0aW9uLlxuXG5cbiAgICAgIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UuZmx1c2goKTtcbiAgICAgIG9uRE9NU2VsZWN0aW9uQ2hhbmdlLmZsdXNoKCk7XG4gICAgICB2YXIge1xuICAgICAgICBzZWxlY3Rpb25cbiAgICAgIH0gPSBlZGl0b3I7XG4gICAgICB2YXIge1xuICAgICAgICBpbnB1dFR5cGU6IHR5cGVcbiAgICAgIH0gPSBldmVudDtcbiAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YVRyYW5zZmVyIHx8IGV2ZW50LmRhdGEgfHwgdW5kZWZpbmVkO1xuICAgICAgdmFyIGlzQ29tcG9zaXRpb25DaGFuZ2UgPSB0eXBlID09PSAnaW5zZXJ0Q29tcG9zaXRpb25UZXh0JyB8fCB0eXBlID09PSAnZGVsZXRlQ29tcG9zaXRpb25UZXh0JzsgLy8gQ09NUEFUOiB1c2UgY29tcG9zaXRpb24gY2hhbmdlIGV2ZW50cyBhcyBhIGhpbnQgdG8gd2hlcmUgd2Ugc2hvdWxkIGluc2VydFxuICAgICAgLy8gY29tcG9zaXRpb24gdGV4dCBpZiB3ZSBhcmVuJ3QgY29tcG9zaW5nIHRvIHdvcmsgYXJvdW5kIGh0dHBzOi8vZ2l0aHViLmNvbS9pYW5zdG9ybXRheWxvci9zbGF0ZS9pc3N1ZXMvNTAzOFxuXG4gICAgICBpZiAoaXNDb21wb3NpdGlvbkNoYW5nZSAmJiBSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIG5hdGl2ZSA9IGZhbHNlO1xuXG4gICAgICBpZiAodHlwZSA9PT0gJ2luc2VydFRleHQnICYmIHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pICYmIC8vIE9ubHkgdXNlIG5hdGl2ZSBjaGFyYWN0ZXIgaW5zZXJ0aW9uIGZvciBzaW5nbGUgY2hhcmFjdGVycyBhLXogb3Igc3BhY2UgZm9yIG5vdy5cbiAgICAgIC8vIExvbmctcHJlc3MgZXZlbnRzIChob2xkIGEgKyBwcmVzcyA0ID0gw6QpIHRvIGNob29zZSBhIHNwZWNpYWwgY2hhcmFjdGVyIG90aGVyd2lzZVxuICAgICAgLy8gY2F1c2VzIGR1cGxpY2F0ZSBpbnNlcnRzLlxuICAgICAgZXZlbnQuZGF0YSAmJiBldmVudC5kYXRhLmxlbmd0aCA9PT0gMSAmJiAvW2EteiBdL2kudGVzdChldmVudC5kYXRhKSAmJiAvLyBDaHJvbWUgaGFzIGlzc3VlcyBjb3JyZWN0bHkgZWRpdGluZyB0aGUgc3RhcnQgb2Ygbm9kZXM6IGh0dHBzOi8vYnVncy5jaHJvbWl1bS5vcmcvcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTEyNDk0MDVcbiAgICAgIC8vIFdoZW4gdGhlcmUgaXMgYW4gaW5saW5lIGVsZW1lbnQsIGUuZy4gYSBsaW5rLCBhbmQgeW91IHNlbGVjdFxuICAgICAgLy8gcmlnaHQgYWZ0ZXIgaXQgKHRoZSBzdGFydCBvZiB0aGUgbmV4dCBub2RlKS5cbiAgICAgIHNlbGVjdGlvbi5hbmNob3Iub2Zmc2V0ICE9PSAwKSB7XG4gICAgICAgIHZhciBfbm9kZSRwYXJlbnRFbGVtZW50LCBfd2luZG93JGdldENvbXB1dGVkU3Q7XG5cbiAgICAgICAgbmF0aXZlID0gdHJ1ZTsgLy8gU2tpcCBuYXRpdmUgaWYgdGhlcmUgYXJlIG1hcmtzLCBhc1xuICAgICAgICAvLyBgaW5zZXJ0VGV4dGAgd2lsbCBpbnNlcnQgYSBub2RlLCBub3QganVzdCB0ZXh0LlxuXG4gICAgICAgIGlmIChlZGl0b3IubWFya3MpIHtcbiAgICAgICAgICBuYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgfSAvLyBDaHJvbWUgYWxzbyBoYXMgaXNzdWVzIGNvcnJlY3RseSBlZGl0aW5nIHRoZSBlbmQgb2YgYW5jaG9yIGVsZW1lbnRzOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMjU5MTAwXG4gICAgICAgIC8vIFRoZXJlZm9yZSB3ZSBkb24ndCBhbGxvdyBuYXRpdmUgZXZlbnRzIHRvIGluc2VydCB0ZXh0IGF0IHRoZSBlbmQgb2YgYW5jaG9yIG5vZGVzLlxuXG5cbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBhbmNob3JcbiAgICAgICAgfSA9IHNlbGVjdGlvbjtcbiAgICAgICAgdmFyIFtub2RlLCBvZmZzZXRdID0gUmVhY3RFZGl0b3IudG9ET01Qb2ludChlZGl0b3IsIGFuY2hvcik7XG4gICAgICAgIHZhciBhbmNob3JOb2RlID0gKF9ub2RlJHBhcmVudEVsZW1lbnQgPSBub2RlLnBhcmVudEVsZW1lbnQpID09PSBudWxsIHx8IF9ub2RlJHBhcmVudEVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ub2RlJHBhcmVudEVsZW1lbnQuY2xvc2VzdCgnYScpO1xuICAgICAgICB2YXIgd2luZG93ID0gUmVhY3RFZGl0b3IuZ2V0V2luZG93KGVkaXRvcik7XG5cbiAgICAgICAgaWYgKG5hdGl2ZSAmJiBhbmNob3JOb2RlICYmIFJlYWN0RWRpdG9yLmhhc0RPTU5vZGUoZWRpdG9yLCBhbmNob3JOb2RlKSkge1xuICAgICAgICAgIHZhciBfbGFzdFRleHQkdGV4dENvbnRlbnQ7XG5cbiAgICAgICAgICAvLyBGaW5kIHRoZSBsYXN0IHRleHQgbm9kZSBpbnNpZGUgdGhlIGFuY2hvci5cbiAgICAgICAgICB2YXIgbGFzdFRleHQgPSB3aW5kb3cgPT09IG51bGwgfHwgd2luZG93ID09PSB2b2lkIDAgPyB2b2lkIDAgOiB3aW5kb3cuZG9jdW1lbnQuY3JlYXRlVHJlZVdhbGtlcihhbmNob3JOb2RlLCBOb2RlRmlsdGVyLlNIT1dfVEVYVCkubGFzdENoaWxkKCk7XG5cbiAgICAgICAgICBpZiAobGFzdFRleHQgPT09IG5vZGUgJiYgKChfbGFzdFRleHQkdGV4dENvbnRlbnQgPSBsYXN0VGV4dC50ZXh0Q29udGVudCkgPT09IG51bGwgfHwgX2xhc3RUZXh0JHRleHRDb250ZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfbGFzdFRleHQkdGV4dENvbnRlbnQubGVuZ3RoKSA9PT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBuYXRpdmUgPSBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gLy8gQ2hyb21lIGhhcyBpc3N1ZXMgd2l0aCB0aGUgcHJlc2VuY2Ugb2YgdGFiIGNoYXJhY3RlcnMgaW5zaWRlIGVsZW1lbnRzIHdpdGggd2hpdGVTcGFjZSA9ICdwcmUnXG4gICAgICAgIC8vIGNhdXNpbmcgYWJub3JtYWwgaW5zZXJ0IGJlaGF2aW9yOiBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD0xMjE5MTM5XG5cblxuICAgICAgICBpZiAobmF0aXZlICYmIG5vZGUucGFyZW50RWxlbWVudCAmJiAod2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF93aW5kb3ckZ2V0Q29tcHV0ZWRTdCA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUucGFyZW50RWxlbWVudCkpID09PSBudWxsIHx8IF93aW5kb3ckZ2V0Q29tcHV0ZWRTdCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3dpbmRvdyRnZXRDb21wdXRlZFN0LndoaXRlU3BhY2UpID09PSAncHJlJykge1xuICAgICAgICAgIHZhciBibG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBhbmNob3IucGF0aCxcbiAgICAgICAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQkMS5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgaWYgKGJsb2NrICYmIE5vZGUuc3RyaW5nKGJsb2NrWzBdKS5pbmNsdWRlcygnXFx0JykpIHtcbiAgICAgICAgICAgIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSAvLyBDT01QQVQ6IEZvciB0aGUgZGVsZXRpbmcgZm9yd2FyZC9iYWNrd2FyZCBpbnB1dCB0eXBlcyB3ZSBkb24ndCB3YW50XG4gICAgICAvLyB0byBjaGFuZ2UgdGhlIHNlbGVjdGlvbiBiZWNhdXNlIGl0IGlzIHRoZSByYW5nZSB0aGF0IHdpbGwgYmUgZGVsZXRlZCxcbiAgICAgIC8vIGFuZCB0aG9zZSBjb21tYW5kcyBkZXRlcm1pbmUgdGhhdCBmb3IgdGhlbXNlbHZlcy5cblxuXG4gICAgICBpZiAoIXR5cGUuc3RhcnRzV2l0aCgnZGVsZXRlJykgfHwgdHlwZS5zdGFydHNXaXRoKCdkZWxldGVCeScpKSB7XG4gICAgICAgIHZhciBbdGFyZ2V0UmFuZ2VdID0gZXZlbnQuZ2V0VGFyZ2V0UmFuZ2VzKCk7XG5cbiAgICAgICAgaWYgKHRhcmdldFJhbmdlKSB7XG4gICAgICAgICAgdmFyIHJhbmdlID0gUmVhY3RFZGl0b3IudG9TbGF0ZVJhbmdlKGVkaXRvciwgdGFyZ2V0UmFuZ2UsIHtcbiAgICAgICAgICAgIGV4YWN0TWF0Y2g6IGZhbHNlLFxuICAgICAgICAgICAgc3VwcHJlc3NUaHJvdzogZmFsc2VcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlmICghc2VsZWN0aW9uIHx8ICFSYW5nZS5lcXVhbHMoc2VsZWN0aW9uLCByYW5nZSkpIHtcbiAgICAgICAgICAgIG5hdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdmFyIHNlbGVjdGlvblJlZiA9ICFpc0NvbXBvc2l0aW9uQ2hhbmdlICYmIGVkaXRvci5zZWxlY3Rpb24gJiYgRWRpdG9yLnJhbmdlUmVmKGVkaXRvciwgZWRpdG9yLnNlbGVjdGlvbik7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvblJlZikge1xuICAgICAgICAgICAgICBFRElUT1JfVE9fVVNFUl9TRUxFQ1RJT04uc2V0KGVkaXRvciwgc2VsZWN0aW9uUmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQ29tcG9zaXRpb24gY2hhbmdlIHR5cGVzIG9jY3VyIHdoaWxlIGEgdXNlciBpcyBjb21wb3NpbmcgdGV4dCBhbmQgY2FuJ3QgYmVcbiAgICAgIC8vIGNhbmNlbGxlZC4gTGV0IHRoZW0gdGhyb3VnaCBhbmQgd2FpdCBmb3IgdGhlIGNvbXBvc2l0aW9uIHRvIGVuZC5cblxuXG4gICAgICBpZiAoaXNDb21wb3NpdGlvbkNoYW5nZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmICghbmF0aXZlKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB9IC8vIENPTVBBVDogSWYgdGhlIHNlbGVjdGlvbiBpcyBleHBhbmRlZCwgZXZlbiBpZiB0aGUgY29tbWFuZCBzZWVtcyBsaWtlXG4gICAgICAvLyBhIGRlbGV0ZSBmb3J3YXJkL2JhY2t3YXJkIGNvbW1hbmQgaXQgc2hvdWxkIGRlbGV0ZSB0aGUgc2VsZWN0aW9uLlxuXG5cbiAgICAgIGlmIChzZWxlY3Rpb24gJiYgUmFuZ2UuaXNFeHBhbmRlZChzZWxlY3Rpb24pICYmIHR5cGUuc3RhcnRzV2l0aCgnZGVsZXRlJykpIHtcbiAgICAgICAgdmFyIGRpcmVjdGlvbiA9IHR5cGUuZW5kc1dpdGgoJ0JhY2t3YXJkJykgPyAnYmFja3dhcmQnIDogJ2ZvcndhcmQnO1xuICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCB7XG4gICAgICAgICAgZGlyZWN0aW9uXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHN3aXRjaCAodHlwZSkge1xuICAgICAgICBjYXNlICdkZWxldGVCeUNvbXBvc2l0aW9uJzpcbiAgICAgICAgY2FzZSAnZGVsZXRlQnlDdXQnOlxuICAgICAgICBjYXNlICdkZWxldGVCeURyYWcnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZUNvbnRlbnQnOlxuICAgICAgICBjYXNlICdkZWxldGVDb250ZW50Rm9yd2FyZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZWxldGVDb250ZW50QmFja3dhcmQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZUVudGlyZVNvZnRMaW5lJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIHVuaXQ6ICdsaW5lJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgdW5pdDogJ2xpbmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZWxldGVIYXJkTGluZUJhY2t3YXJkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlQmFja3dhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIHVuaXQ6ICdibG9jaydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZVNvZnRMaW5lQmFja3dhcmQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgdW5pdDogJ2xpbmUnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZWxldGVIYXJkTGluZUZvcndhcmQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgICB1bml0OiAnYmxvY2snXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdkZWxldGVTb2Z0TGluZUZvcndhcmQnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGb3J3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgICB1bml0OiAnbGluZSdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZVdvcmRCYWNrd2FyZCc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgICB1bml0OiAnd29yZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2RlbGV0ZVdvcmRGb3J3YXJkJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgdW5pdDogJ3dvcmQnXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cblxuICAgICAgICBjYXNlICdpbnNlcnRMaW5lQnJlYWsnOlxuICAgICAgICAgIEVkaXRvci5pbnNlcnRTb2Z0QnJlYWsoZWRpdG9yKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlICdpbnNlcnRQYXJhZ3JhcGgnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIEVkaXRvci5pbnNlcnRCcmVhayhlZGl0b3IpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2luc2VydEZyb21Db21wb3NpdGlvbic6XG4gICAgICAgIGNhc2UgJ2luc2VydEZyb21Ecm9wJzpcbiAgICAgICAgY2FzZSAnaW5zZXJ0RnJvbVBhc3RlJzpcbiAgICAgICAgY2FzZSAnaW5zZXJ0RnJvbVlhbmsnOlxuICAgICAgICBjYXNlICdpbnNlcnRSZXBsYWNlbWVudFRleHQnOlxuICAgICAgICBjYXNlICdpbnNlcnRUZXh0JzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2luc2VydEZyb21Db21wb3NpdGlvbicpIHtcbiAgICAgICAgICAgICAgLy8gQ09NUEFUOiBpbiBTYWZhcmksIGBjb21wb3NpdGlvbmVuZGAgaXMgZGlzcGF0Y2hlZCBhZnRlciB0aGVcbiAgICAgICAgICAgICAgLy8gYGJlZm9yZWlucHV0YCBmb3IgXCJpbnNlcnRGcm9tQ29tcG9zaXRpb25cIi4gQnV0IGlmIHdlIHdhaXQgZm9yIGl0XG4gICAgICAgICAgICAgIC8vIHRoZW4gd2Ugd2lsbCBhYm9ydCBiZWNhdXNlIHdlJ3JlIHN0aWxsIGNvbXBvc2luZyBhbmQgdGhlIHNlbGVjdGlvblxuICAgICAgICAgICAgICAvLyB3b24ndCBiZSB1cGRhdGVkIHByb3Blcmx5LlxuICAgICAgICAgICAgICAvLyBodHRwczovL3d3dy53My5vcmcvVFIvaW5wdXQtZXZlbnRzLTIvXG4gICAgICAgICAgICAgIGlmIChSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgICAgICAgICAgc2V0SXNDb21wb3NpbmcoZmFsc2UpO1xuICAgICAgICAgICAgICAgIElTX0NPTVBPU0lORy5zZXQoZWRpdG9yLCBmYWxzZSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gLy8gdXNlIGEgd2VhayBjb21wYXJpc29uIGluc3RlYWQgb2YgJ2luc3RhbmNlb2YnIHRvIGFsbG93XG4gICAgICAgICAgICAvLyBwcm9ncmFtbWF0aWMgYWNjZXNzIG9mIHBhc3RlIGV2ZW50cyBjb21pbmcgZnJvbSBleHRlcm5hbCB3aW5kb3dzXG4gICAgICAgICAgICAvLyBsaWtlIGN5cHJlc3Mgd2hlcmUgY3kud2luZG93IGRvZXMgbm90IHdvcmsgcmVhbGlibHlcblxuXG4gICAgICAgICAgICBpZiAoKGRhdGEgPT09IG51bGwgfHwgZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGF0YS5jb25zdHJ1Y3Rvci5uYW1lKSA9PT0gJ0RhdGFUcmFuc2ZlcicpIHtcbiAgICAgICAgICAgICAgUmVhY3RFZGl0b3IuaW5zZXJ0RGF0YShlZGl0b3IsIGRhdGEpO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgLy8gT25seSBpbnNlcnRUZXh0IG9wZXJhdGlvbnMgdXNlIHRoZSBuYXRpdmUgZnVuY3Rpb25hbGl0eSwgZm9yIG5vdy5cbiAgICAgICAgICAgICAgLy8gUG90ZW50aWFsbHkgZXhwYW5kIHRvIHNpbmdsZSBjaGFyYWN0ZXIgZGVsZXRlcywgYXMgd2VsbC5cbiAgICAgICAgICAgICAgaWYgKG5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIGRlZmVycmVkT3BlcmF0aW9ucy5jdXJyZW50LnB1c2goKCkgPT4gRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBkYXRhKSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICB9IC8vIFJlc3RvcmUgdGhlIGFjdHVhbCB1c2VyIHNlY3Rpb24gaWYgbm90aGluZyBtYW51YWxseSBzZXQgaXQuXG5cblxuICAgICAgdmFyIHRvUmVzdG9yZSA9IChfRURJVE9SX1RPX1VTRVJfU0VMRUMgPSBFRElUT1JfVE9fVVNFUl9TRUxFQ1RJT04uZ2V0KGVkaXRvcikpID09PSBudWxsIHx8IF9FRElUT1JfVE9fVVNFUl9TRUxFQyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0VESVRPUl9UT19VU0VSX1NFTEVDLnVucmVmKCk7XG4gICAgICBFRElUT1JfVE9fVVNFUl9TRUxFQ1RJT04uZGVsZXRlKGVkaXRvcik7XG5cbiAgICAgIGlmICh0b1Jlc3RvcmUgJiYgKCFlZGl0b3Iuc2VsZWN0aW9uIHx8ICFSYW5nZS5lcXVhbHMoZWRpdG9yLnNlbGVjdGlvbiwgdG9SZXN0b3JlKSkpIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCB0b1Jlc3RvcmUpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgW2VkaXRvciwgb25ET01TZWxlY3Rpb25DaGFuZ2UsIG9uVXNlcklucHV0LCBwcm9wc09uRE9NQmVmb3JlSW5wdXQsIHJlYWRPbmx5LCBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlXSk7XG4gIHZhciBjYWxsYmFja1JlZiA9IHVzZUNhbGxiYWNrKG5vZGUgPT4ge1xuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIG9uRE9NU2VsZWN0aW9uQ2hhbmdlLmNhbmNlbCgpO1xuICAgICAgc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZS5jYW5jZWwoKTtcbiAgICAgIEVESVRPUl9UT19FTEVNRU5ULmRlbGV0ZShlZGl0b3IpO1xuICAgICAgTk9ERV9UT19FTEVNRU5ULmRlbGV0ZShlZGl0b3IpO1xuXG4gICAgICBpZiAocmVmLmN1cnJlbnQgJiYgSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmUgVGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQgaXNuJ3QgcmVjb2duaXplZC5cbiAgICAgICAgcmVmLmN1cnJlbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBvbkRPTUJlZm9yZUlucHV0KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQXR0YWNoIGEgbmF0aXZlIERPTSBldmVudCBoYW5kbGVyIGZvciBgYmVmb3JlaW5wdXRgIGV2ZW50cywgYmVjYXVzZSBSZWFjdCdzXG4gICAgICAvLyBidWlsdC1pbiBgb25CZWZvcmVJbnB1dGAgaXMgYWN0dWFsbHkgYSBsZWFreSBwb2x5ZmlsbCB0aGF0IGRvZXNuJ3QgZXhwb3NlXG4gICAgICAvLyByZWFsIGBiZWZvcmVpbnB1dGAgZXZlbnRzIHNhZGx5Li4uICgyMDE5LzExLzA0KVxuICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy8xMTIxMVxuICAgICAgaWYgKEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCkge1xuICAgICAgICAvLyBAdHMtaWdub3JlIFRoZSBgYmVmb3JlaW5wdXRgIGV2ZW50IGlzbid0IHJlY29nbml6ZWQuXG4gICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JlaW5wdXQnLCBvbkRPTUJlZm9yZUlucHV0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZWYuY3VycmVudCA9IG5vZGU7XG4gIH0sIFtvbkRPTVNlbGVjdGlvbkNoYW5nZSwgc2NoZWR1bGVPbkRPTVNlbGVjdGlvbkNoYW5nZSwgZWRpdG9yLCBvbkRPTUJlZm9yZUlucHV0XSk7IC8vIEF0dGFjaCBhIG5hdGl2ZSBET00gZXZlbnQgaGFuZGxlciBmb3IgYHNlbGVjdGlvbmNoYW5nZWAsIGJlY2F1c2UgUmVhY3Qnc1xuICAvLyBidWlsdC1pbiBgb25TZWxlY3RgIGhhbmRsZXIgZG9lc24ndCBmaXJlIGZvciBhbGwgc2VsZWN0aW9uIGNoYW5nZXMuIEl0J3MgYVxuICAvLyBsZWFreSBwb2x5ZmlsbCB0aGF0IG9ubHkgZmlyZXMgb24ga2V5cHJlc3NlcyBvciBjbGlja3MuIEluc3RlYWQsIHdlIHdhbnQgdG9cbiAgLy8gZmlyZSBmb3IgYW55IGNoYW5nZSB0byB0aGUgc2VsZWN0aW9uIGluc2lkZSB0aGUgZWRpdG9yLiAoMjAxOS8xMS8wNClcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0L2lzc3Vlcy81Nzg1XG5cbiAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgdmFyIHdpbmRvdyA9IFJlYWN0RWRpdG9yLmdldFdpbmRvdyhlZGl0b3IpO1xuICAgIHdpbmRvdy5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdzZWxlY3Rpb25jaGFuZ2UnLCBzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgd2luZG93LmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdGlvbmNoYW5nZScsIHNjaGVkdWxlT25ET01TZWxlY3Rpb25DaGFuZ2UpO1xuICAgIH07XG4gIH0sIFtzY2hlZHVsZU9uRE9NU2VsZWN0aW9uQ2hhbmdlXSk7XG4gIHZhciBkZWNvcmF0aW9ucyA9IGRlY29yYXRlKFtlZGl0b3IsIFtdXSk7XG4gIHZhciBzaG93UGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlciAmJiBlZGl0b3IuY2hpbGRyZW4ubGVuZ3RoID09PSAxICYmIEFycmF5LmZyb20oTm9kZS50ZXh0cyhlZGl0b3IpKS5sZW5ndGggPT09IDEgJiYgTm9kZS5zdHJpbmcoZWRpdG9yKSA9PT0gJycgJiYgIWlzQ29tcG9zaW5nO1xuICB2YXIgcGxhY2VIb2xkZXJSZXNpemVIYW5kbGVyID0gdXNlQ2FsbGJhY2socGxhY2Vob2xkZXJFbCA9PiB7XG4gICAgaWYgKHBsYWNlaG9sZGVyRWwgJiYgc2hvd1BsYWNlaG9sZGVyKSB7XG4gICAgICB2YXIgX3BsYWNlaG9sZGVyRWwkZ2V0Qm91O1xuXG4gICAgICBzZXRQbGFjZWhvbGRlckhlaWdodCgoX3BsYWNlaG9sZGVyRWwkZ2V0Qm91ID0gcGxhY2Vob2xkZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSkgPT09IG51bGwgfHwgX3BsYWNlaG9sZGVyRWwkZ2V0Qm91ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfcGxhY2Vob2xkZXJFbCRnZXRCb3UuaGVpZ2h0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0UGxhY2Vob2xkZXJIZWlnaHQodW5kZWZpbmVkKTtcbiAgICB9XG4gIH0sIFtzaG93UGxhY2Vob2xkZXJdKTtcblxuICBpZiAoc2hvd1BsYWNlaG9sZGVyKSB7XG4gICAgdmFyIHN0YXJ0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgW10pO1xuICAgIGRlY29yYXRpb25zLnB1c2goe1xuICAgICAgW1BMQUNFSE9MREVSX1NZTUJPTF06IHRydWUsXG4gICAgICBwbGFjZWhvbGRlcixcbiAgICAgIG9uUGxhY2Vob2xkZXJSZXNpemU6IHBsYWNlSG9sZGVyUmVzaXplSGFuZGxlcixcbiAgICAgIGFuY2hvcjogc3RhcnQsXG4gICAgICBmb2N1czogc3RhcnRcbiAgICB9KTtcbiAgfVxuXG4gIHZhciB7XG4gICAgbWFya3NcbiAgfSA9IGVkaXRvcjtcbiAgc3RhdGUuaGFzTWFya1BsYWNlaG9sZGVyID0gZmFsc2U7XG5cbiAgaWYgKGVkaXRvci5zZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikgJiYgbWFya3MpIHtcbiAgICB2YXIge1xuICAgICAgYW5jaG9yXG4gICAgfSA9IGVkaXRvci5zZWxlY3Rpb247XG4gICAgdmFyIGxlYWYgPSBOb2RlLmxlYWYoZWRpdG9yLCBhbmNob3IucGF0aCk7XG5cbiAgICB2YXIgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhsZWFmLCBfZXhjbHVkZWQyKTsgLy8gV2hpbGUgbWFya3MgaXNuJ3QgYSAnY29tcGxldGUnIHRleHQsIHdlIGNhbiBzdGlsbCB1c2UgbG9vc2UgVGV4dC5lcXVhbHNcbiAgICAvLyBoZXJlIHdoaWNoIG9ubHkgY29tcGFyZXMgbWFya3MgYW55d2F5LlxuXG5cbiAgICBpZiAoIVRleHQkMS5lcXVhbHMobGVhZiwgbWFya3MsIHtcbiAgICAgIGxvb3NlOiB0cnVlXG4gICAgfSkpIHtcbiAgICAgIHN0YXRlLmhhc01hcmtQbGFjZWhvbGRlciA9IHRydWU7XG4gICAgICB2YXIgdW5zZXQgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMocmVzdCkubWFwKG1hcmsgPT4gW21hcmssIG51bGxdKSk7XG4gICAgICBkZWNvcmF0aW9ucy5wdXNoKF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoX29iamVjdFNwcmVhZCQxKHtcbiAgICAgICAgW01BUktfUExBQ0VIT0xERVJfU1lNQk9MXTogdHJ1ZVxuICAgICAgfSwgdW5zZXQpLCBtYXJrcyksIHt9LCB7XG4gICAgICAgIGFuY2hvcixcbiAgICAgICAgZm9jdXM6IGFuY2hvclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSAvLyBVcGRhdGUgRURJVE9SX1RPX01BUktfUExBQ0VIT0xERVJfTUFSS1MgaW4gc2V0VGltZW91dCB1c2VFZmZlY3QgdG8gZW5zdXJlIHdlIGRvbid0IHNldCBpdFxuICAvLyBiZWZvcmUgd2UgcmVjZWl2ZSB0aGUgY29tcG9zaXRpb24gZW5kIGV2ZW50LlxuXG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHZhciB7XG4gICAgICAgIHNlbGVjdGlvblxuICAgICAgfSA9IGVkaXRvcjtcblxuICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIGFuY2hvcjogX2FuY2hvclxuICAgICAgICB9ID0gc2VsZWN0aW9uO1xuXG4gICAgICAgIHZhciBfdGV4dCA9IE5vZGUubGVhZihlZGl0b3IsIF9hbmNob3IucGF0aCk7IC8vIFdoaWxlIG1hcmtzIGlzbid0IGEgJ2NvbXBsZXRlJyB0ZXh0LCB3ZSBjYW4gc3RpbGwgdXNlIGxvb3NlIFRleHQuZXF1YWxzXG4gICAgICAgIC8vIGhlcmUgd2hpY2ggb25seSBjb21wYXJlcyBtYXJrcyBhbnl3YXkuXG5cblxuICAgICAgICBpZiAobWFya3MgJiYgIVRleHQkMS5lcXVhbHMoX3RleHQsIG1hcmtzLCB7XG4gICAgICAgICAgbG9vc2U6IHRydWVcbiAgICAgICAgfSkpIHtcbiAgICAgICAgICBFRElUT1JfVE9fUEVORElOR19JTlNFUlRJT05fTUFSS1Muc2V0KGVkaXRvciwgbWFya3MpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBFRElUT1JfVE9fUEVORElOR19JTlNFUlRJT05fTUFSS1MuZGVsZXRlKGVkaXRvcik7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhZE9ubHlDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHJlYWRPbmx5XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KERlY29yYXRlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBkZWNvcmF0ZVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChSZXN0b3JlRE9NLCB7XG4gICAgbm9kZTogcmVmLFxuICAgIHJlY2VpdmVkVXNlcklucHV0OiByZWNlaXZlZFVzZXJJbnB1dFxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIE9iamVjdC5hc3NpZ24oe1xuICAgIHJvbGU6IHJlYWRPbmx5ID8gdW5kZWZpbmVkIDogJ3RleHRib3gnLFxuICAgIFwiYXJpYS1tdWx0aWxpbmVcIjogcmVhZE9ubHkgPyB1bmRlZmluZWQgOiB0cnVlXG4gIH0sIGF0dHJpYnV0ZXMsIHtcbiAgICAvLyBDT01QQVQ6IENlcnRhaW4gYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgYGJlZm9yZWlucHV0YCBldmVudCwgc28gd2UnZFxuICAgIC8vIGhhdmUgdG8gdXNlIGhhY2tzIHRvIG1ha2UgdGhlc2UgcmVwbGFjZW1lbnQtYmFzZWQgZmVhdHVyZXMgd29yay5cbiAgICAvLyBGb3IgU1NSIHNpdHVhdGlvbnMgSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUIGlzIGZhbHNlIGFuZCByZXN1bHRzIGluIHByb3BcbiAgICAvLyBtaXNtYXRjaCB3YXJuaW5nIGFwcCBtb3ZlcyB0byBicm93c2VyLiBQYXNzLXRocm91Z2ggY29uc3VtZXIgcHJvcHMgd2hlblxuICAgIC8vIG5vdCBDQU5fVVNFX0RPTSAoU1NSKSBhbmQgZGVmYXVsdCB0byBmYWxzeSB2YWx1ZVxuICAgIHNwZWxsQ2hlY2s6IEhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCB8fCAhQ0FOX1VTRV9ET00gPyBhdHRyaWJ1dGVzLnNwZWxsQ2hlY2sgOiBmYWxzZSxcbiAgICBhdXRvQ29ycmVjdDogSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUIHx8ICFDQU5fVVNFX0RPTSA/IGF0dHJpYnV0ZXMuYXV0b0NvcnJlY3QgOiAnZmFsc2UnLFxuICAgIGF1dG9DYXBpdGFsaXplOiBIQVNfQkVGT1JFX0lOUFVUX1NVUFBPUlQgfHwgIUNBTl9VU0VfRE9NID8gYXR0cmlidXRlcy5hdXRvQ2FwaXRhbGl6ZSA6ICdmYWxzZScsXG4gICAgXCJkYXRhLXNsYXRlLWVkaXRvclwiOiB0cnVlLFxuICAgIFwiZGF0YS1zbGF0ZS1ub2RlXCI6IFwidmFsdWVcIixcbiAgICAvLyBleHBsaWNpdGx5IHNldCB0aGlzXG4gICAgY29udGVudEVkaXRhYmxlOiAhcmVhZE9ubHksXG4gICAgLy8gaW4gc29tZSBjYXNlcywgYSBkZWNvcmF0aW9uIG5lZWRzIGFjY2VzcyB0byB0aGUgcmFuZ2UgLyBzZWxlY3Rpb24gdG8gZGVjb3JhdGUgYSB0ZXh0IG5vZGUsXG4gICAgLy8gdGhlbiB5b3Ugd2lsbCBzZWxlY3QgdGhlIHdob2xlIHRleHQgbm9kZSB3aGVuIHlvdSBzZWxlY3QgcGFydCB0aGUgb2YgdGV4dFxuICAgIC8vIHRoaXMgbWFnaWMgekluZGV4PVwiLTFcIiB3aWxsIGZpeCBpdFxuICAgIHppbmRleDogLTEsXG4gICAgc3VwcHJlc3NDb250ZW50RWRpdGFibGVXYXJuaW5nOiB0cnVlLFxuICAgIHJlZjogY2FsbGJhY2tSZWYsXG4gICAgc3R5bGU6IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIGRpc2FibGVEZWZhdWx0U3R5bGVzID8ge30gOiBfb2JqZWN0U3ByZWFkJDEoe1xuICAgICAgLy8gQWxsb3cgcG9zaXRpb25pbmcgcmVsYXRpdmUgdG8gdGhlIGVkaXRhYmxlIGVsZW1lbnQuXG4gICAgICBwb3NpdGlvbjogJ3JlbGF0aXZlJyxcbiAgICAgIC8vIFByZXNlcnZlIGFkamFjZW50IHdoaXRlc3BhY2UgYW5kIG5ldyBsaW5lcy5cbiAgICAgIHdoaXRlU3BhY2U6ICdwcmUtd3JhcCcsXG4gICAgICAvLyBBbGxvdyB3b3JkcyB0byBicmVhayBpZiB0aGV5IGFyZSB0b28gbG9uZy5cbiAgICAgIHdvcmRXcmFwOiAnYnJlYWstd29yZCdcbiAgICB9LCBwbGFjZWhvbGRlckhlaWdodCA/IHtcbiAgICAgIG1pbkhlaWdodDogcGxhY2Vob2xkZXJIZWlnaHRcbiAgICB9IDoge30pKSwgdXNlclN0eWxlKSxcbiAgICBvbkJlZm9yZUlucHV0OiB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICAvLyBDT01QQVQ6IENlcnRhaW4gYnJvd3NlcnMgZG9uJ3Qgc3VwcG9ydCB0aGUgYGJlZm9yZWlucHV0YCBldmVudCwgc28gd2VcbiAgICAgIC8vIGZhbGwgYmFjayB0byBSZWFjdCdzIGxlYWt5IHBvbHlmaWxsIGluc3RlYWQganVzdCBmb3IgaXQuIEl0XG4gICAgICAvLyBvbmx5IHdvcmtzIGZvciB0aGUgYGluc2VydFRleHRgIGlucHV0IHR5cGUuXG4gICAgICBpZiAoIUhBU19CRUZPUkVfSU5QVVRfU1VQUE9SVCAmJiAhcmVhZE9ubHkgJiYgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQmVmb3JlSW5wdXQpICYmIFJlYWN0RWRpdG9yLmhhc1NlbGVjdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKCFSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgICAgdmFyIF90ZXh0MiA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgRWRpdG9yLmluc2VydFRleHQoZWRpdG9yLCBfdGV4dDIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW2F0dHJpYnV0ZXMub25CZWZvcmVJbnB1dCwgZWRpdG9yLCByZWFkT25seV0pLFxuICAgIG9uSW5wdXQ6IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmIChpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbklucHV0KSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGlmIChhbmRyb2lkSW5wdXRNYW5hZ2VyUmVmLmN1cnJlbnQpIHtcbiAgICAgICAgYW5kcm9pZElucHV0TWFuYWdlclJlZi5jdXJyZW50LmhhbmRsZUlucHV0KCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gRmx1c2ggbmF0aXZlIG9wZXJhdGlvbnMsIGFzIG5hdGl2ZSBldmVudHMgd2lsbCBoYXZlIHByb3BvZ2F0ZWRcbiAgICAgIC8vIGFuZCB3ZSBjYW4gY29ycmVjdGx5IGNvbXBhcmUgRE9NIHRleHQgdmFsdWVzIGluIGNvbXBvbmVudHNcbiAgICAgIC8vIHRvIHN0b3AgcmVuZGVyaW5nLCBzbyB0aGF0IGJyb3dzZXIgZnVuY3Rpb25zIGxpa2UgYXV0b2NvcnJlY3RcbiAgICAgIC8vIGFuZCBzcGVsbGNoZWNrIHdvcmsgYXMgZXhwZWN0ZWQuXG5cblxuICAgICAgZm9yICh2YXIgb3Agb2YgZGVmZXJyZWRPcGVyYXRpb25zLmN1cnJlbnQpIHtcbiAgICAgICAgb3AoKTtcbiAgICAgIH1cblxuICAgICAgZGVmZXJyZWRPcGVyYXRpb25zLmN1cnJlbnQgPSBbXTtcbiAgICB9LCBbYXR0cmlidXRlcy5vbklucHV0XSksXG4gICAgb25CbHVyOiB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICBpZiAocmVhZE9ubHkgfHwgc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiB8fCAhUmVhY3RFZGl0b3IuaGFzU2VsZWN0YWJsZVRhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgfHwgaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25CbHVyKSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIENPTVBBVDogSWYgdGhlIGN1cnJlbnQgYGFjdGl2ZUVsZW1lbnRgIGlzIHN0aWxsIHRoZSBwcmV2aW91c1xuICAgICAgLy8gb25lLCB0aGlzIGlzIGR1ZSB0byB0aGUgd2luZG93IGJlaW5nIGJsdXJyZWQgd2hlbiB0aGUgdGFiXG4gICAgICAvLyBpdHNlbGYgYmVjb21lcyB1bmZvY3VzZWQsIHNvIHdlIHdhbnQgdG8gYWJvcnQgZWFybHkgdG8gYWxsb3cgdG9cbiAgICAgIC8vIGVkaXRvciB0byBzdGF5IGZvY3VzZWQgd2hlbiB0aGUgdGFiIGJlY29tZXMgZm9jdXNlZCBhZ2Fpbi5cblxuXG4gICAgICB2YXIgcm9vdCA9IFJlYWN0RWRpdG9yLmZpbmREb2N1bWVudE9yU2hhZG93Um9vdChlZGl0b3IpO1xuXG4gICAgICBpZiAoc3RhdGUubGF0ZXN0RWxlbWVudCA9PT0gcm9vdC5hY3RpdmVFbGVtZW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHtcbiAgICAgICAgcmVsYXRlZFRhcmdldFxuICAgICAgfSA9IGV2ZW50O1xuICAgICAgdmFyIGVsID0gUmVhY3RFZGl0b3IudG9ET01Ob2RlKGVkaXRvciwgZWRpdG9yKTsgLy8gQ09NUEFUOiBUaGUgZXZlbnQgc2hvdWxkIGJlIGlnbm9yZWQgaWYgdGhlIGZvY3VzIGlzIHJldHVybmluZ1xuICAgICAgLy8gdG8gdGhlIGVkaXRvciBmcm9tIGFuIGVtYmVkZGVkIGVkaXRhYmxlIGVsZW1lbnQgKGVnLiBhbiA8aW5wdXQ+XG4gICAgICAvLyBlbGVtZW50IGluc2lkZSBhIHZvaWQgbm9kZSkuXG5cbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ID09PSBlbCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9IC8vIENPTVBBVDogVGhlIGV2ZW50IHNob3VsZCBiZSBpZ25vcmVkIGlmIHRoZSBmb2N1cyBpcyBtb3ZpbmcgZnJvbVxuICAgICAgLy8gdGhlIGVkaXRvciB0byBpbnNpZGUgYSB2b2lkIG5vZGUncyBzcGFjZXIgZWxlbWVudC5cblxuXG4gICAgICBpZiAoaXNET01FbGVtZW50KHJlbGF0ZWRUYXJnZXQpICYmIHJlbGF0ZWRUYXJnZXQuaGFzQXR0cmlidXRlKCdkYXRhLXNsYXRlLXNwYWNlcicpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gQ09NUEFUOiBUaGUgZXZlbnQgc2hvdWxkIGJlIGlnbm9yZWQgaWYgdGhlIGZvY3VzIGlzIG1vdmluZyB0byBhXG4gICAgICAvLyBub24tIGVkaXRhYmxlIHNlY3Rpb24gb2YgYW4gZWxlbWVudCB0aGF0IGlzbid0IGEgdm9pZCBub2RlIChlZy5cbiAgICAgIC8vIGEgbGlzdCBpdGVtIG9mIHRoZSBjaGVjayBsaXN0IGV4YW1wbGUpLlxuXG5cbiAgICAgIGlmIChyZWxhdGVkVGFyZ2V0ICE9IG51bGwgJiYgaXNET01Ob2RlKHJlbGF0ZWRUYXJnZXQpICYmIFJlYWN0RWRpdG9yLmhhc0RPTU5vZGUoZWRpdG9yLCByZWxhdGVkVGFyZ2V0KSkge1xuICAgICAgICB2YXIgbm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgcmVsYXRlZFRhcmdldCk7XG5cbiAgICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc1ZvaWQobm9kZSkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgIH0gLy8gQ09NUEFUOiBTYWZhcmkgZG9lc24ndCBhbHdheXMgcmVtb3ZlIHRoZSBzZWxlY3Rpb24gZXZlbiBpZiB0aGUgY29udGVudC1cbiAgICAgIC8vIGVkaXRhYmxlIGVsZW1lbnQgbm8gbG9uZ2VyIGhhcyBmb2N1cy4gUmVmZXIgdG86XG4gICAgICAvLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMjM1MzI0Ny9mb3JjZS1jb250ZW50ZWRpdGFibGUtZGl2LXRvLXN0b3AtYWNjZXB0aW5nLWlucHV0LWFmdGVyLWl0LWxvc2VzLWZvY3VzLXVuZGVyLXdlYlxuXG5cbiAgICAgIGlmIChJU19XRUJLSVQpIHtcbiAgICAgICAgdmFyIGRvbVNlbGVjdGlvbiA9IHJvb3QuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgIGRvbVNlbGVjdGlvbiA9PT0gbnVsbCB8fCBkb21TZWxlY3Rpb24gPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRvbVNlbGVjdGlvbi5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgIH1cblxuICAgICAgSVNfRk9DVVNFRC5kZWxldGUoZWRpdG9yKTtcbiAgICB9LCBbcmVhZE9ubHksIHN0YXRlLmlzVXBkYXRpbmdTZWxlY3Rpb24sIHN0YXRlLmxhdGVzdEVsZW1lbnQsIGVkaXRvciwgYXR0cmlidXRlcy5vbkJsdXJdKSxcbiAgICBvbkNsaWNrOiB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICBpZiAoUmVhY3RFZGl0b3IuaGFzVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJiAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25DbGljaykgJiYgaXNET01Ob2RlKGV2ZW50LnRhcmdldCkpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBSZWFjdEVkaXRvci50b1NsYXRlTm9kZShlZGl0b3IsIGV2ZW50LnRhcmdldCk7XG4gICAgICAgIHZhciBwYXRoID0gUmVhY3RFZGl0b3IuZmluZFBhdGgoZWRpdG9yLCBub2RlKTsgLy8gQXQgdGhpcyB0aW1lLCB0aGUgU2xhdGUgZG9jdW1lbnQgbWF5IGJlIGFyYml0cmFyaWx5IGRpZmZlcmVudCxcbiAgICAgICAgLy8gYmVjYXVzZSBvbkNsaWNrIGhhbmRsZXJzIGNhbiBjaGFuZ2UgdGhlIGRvY3VtZW50IGJlZm9yZSB3ZSBnZXQgaGVyZS5cbiAgICAgICAgLy8gVGhlcmVmb3JlIHdlIG11c3QgY2hlY2sgdGhhdCB0aGlzIHBhdGggYWN0dWFsbHkgZXhpc3RzLFxuICAgICAgICAvLyBhbmQgdGhhdCBpdCBzdGlsbCByZWZlcnMgdG8gdGhlIHNhbWUgbm9kZS5cblxuICAgICAgICBpZiAoIUVkaXRvci5oYXNQYXRoKGVkaXRvciwgcGF0aCkgfHwgTm9kZS5nZXQoZWRpdG9yLCBwYXRoKSAhPT0gbm9kZSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChldmVudC5kZXRhaWwgPT09IFRSSVBMRV9DTElDSyAmJiBwYXRoLmxlbmd0aCA+PSAxKSB7XG4gICAgICAgICAgdmFyIGJsb2NrUGF0aCA9IHBhdGg7XG5cbiAgICAgICAgICBpZiAoIShFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbm9kZSkpKSB7XG4gICAgICAgICAgICB2YXIgX2Jsb2NrJDtcblxuICAgICAgICAgICAgdmFyIGJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICAgICAgICBtYXRjaDogbiA9PiBFbGVtZW50JDEuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICAgICAgICAgIGF0OiBwYXRoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJsb2NrUGF0aCA9IChfYmxvY2skID0gYmxvY2sgPT09IG51bGwgfHwgYmxvY2sgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGJsb2NrWzFdKSAhPT0gbnVsbCAmJiBfYmxvY2skICE9PSB2b2lkIDAgPyBfYmxvY2skIDogcGF0aC5zbGljZSgwLCAxKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBibG9ja1BhdGgpO1xuICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZWFkT25seSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKTtcblxuICAgICAgICB2YXIgZW5kID0gRWRpdG9yLmVuZChlZGl0b3IsIHBhdGgpO1xuICAgICAgICB2YXIgc3RhcnRWb2lkID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IF9zdGFydFxuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGVuZFZvaWQgPSBFZGl0b3Iudm9pZChlZGl0b3IsIHtcbiAgICAgICAgICBhdDogZW5kXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChzdGFydFZvaWQgJiYgZW5kVm9pZCAmJiBQYXRoLmVxdWFscyhzdGFydFZvaWRbMV0sIGVuZFZvaWRbMV0pKSB7XG4gICAgICAgICAgdmFyIF9yYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIF9zdGFydCk7XG5cbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIF9yYW5nZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbZWRpdG9yLCBhdHRyaWJ1dGVzLm9uQ2xpY2ssIHJlYWRPbmx5XSksXG4gICAgb25Db21wb3NpdGlvbkVuZDogdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgaWYgKFJlYWN0RWRpdG9yLmhhc1NlbGVjdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYW5kcm9pZElucHV0TWFuYWdlclIzO1xuXG4gICAgICAgIGlmIChSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgICAgc2V0SXNDb21wb3NpbmcoZmFsc2UpO1xuICAgICAgICAgIElTX0NPTVBPU0lORy5zZXQoZWRpdG9yLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAoX2FuZHJvaWRJbnB1dE1hbmFnZXJSMyA9IGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2FuZHJvaWRJbnB1dE1hbmFnZXJSMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FuZHJvaWRJbnB1dE1hbmFnZXJSMy5oYW5kbGVDb21wb3NpdGlvbkVuZChldmVudCk7XG5cbiAgICAgICAgaWYgKGlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ29tcG9zaXRpb25FbmQpIHx8IElTX0FORFJPSUQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gQ09NUEFUOiBJbiBDaHJvbWUsIGBiZWZvcmVpbnB1dGAgZXZlbnRzIGZvciBjb21wb3NpdGlvbnNcbiAgICAgICAgLy8gYXJlbid0IGNvcnJlY3QgYW5kIG5ldmVyIGZpcmUgdGhlIFwiaW5zZXJ0RnJvbUNvbXBvc2l0aW9uXCJcbiAgICAgICAgLy8gdHlwZSB0aGF0IHdlIG5lZWQuIFNvIGluc3RlYWQsIGluc2VydCB3aGVuZXZlciBhIGNvbXBvc2l0aW9uXG4gICAgICAgIC8vIGVuZHMgc2luY2UgaXQgd2lsbCBhbHJlYWR5IGhhdmUgYmVlbiBjb21taXR0ZWQgdG8gdGhlIERPTS5cblxuXG4gICAgICAgIGlmICghSVNfV0VCS0lUICYmICFJU19GSVJFRk9YX0xFR0FDWSAmJiAhSVNfSU9TICYmICFJU19XRUNIQVRCUk9XU0VSICYmICFJU19VQ19NT0JJTEUgJiYgZXZlbnQuZGF0YSkge1xuICAgICAgICAgIHZhciBwbGFjZWhvbGRlck1hcmtzID0gRURJVE9SX1RPX1BFTkRJTkdfSU5TRVJUSU9OX01BUktTLmdldChlZGl0b3IpO1xuICAgICAgICAgIEVESVRPUl9UT19QRU5ESU5HX0lOU0VSVElPTl9NQVJLUy5kZWxldGUoZWRpdG9yKTsgLy8gRW5zdXJlIHdlIGluc2VydCB0ZXh0IHdpdGggdGhlIG1hcmtzIHRoZSB1c2VyIHdhcyBhY3R1YWxseSBzZWVpbmdcblxuICAgICAgICAgIGlmIChwbGFjZWhvbGRlck1hcmtzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIEVESVRPUl9UT19VU0VSX01BUktTLnNldChlZGl0b3IsIGVkaXRvci5tYXJrcyk7XG4gICAgICAgICAgICBlZGl0b3IubWFya3MgPSBwbGFjZWhvbGRlck1hcmtzO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIEVkaXRvci5pbnNlcnRUZXh0KGVkaXRvciwgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgdmFyIHVzZXJNYXJrcyA9IEVESVRPUl9UT19VU0VSX01BUktTLmdldChlZGl0b3IpO1xuICAgICAgICAgIEVESVRPUl9UT19VU0VSX01BUktTLmRlbGV0ZShlZGl0b3IpO1xuXG4gICAgICAgICAgaWYgKHVzZXJNYXJrcyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBlZGl0b3IubWFya3MgPSB1c2VyTWFya3M7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW2F0dHJpYnV0ZXMub25Db21wb3NpdGlvbkVuZCwgZWRpdG9yXSksXG4gICAgb25Db21wb3NpdGlvblVwZGF0ZTogdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgaWYgKFJlYWN0RWRpdG9yLmhhc1NlbGVjdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpICYmICFpc0V2ZW50SGFuZGxlZChldmVudCwgYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uVXBkYXRlKSkge1xuICAgICAgICBpZiAoIVJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikpIHtcbiAgICAgICAgICBzZXRJc0NvbXBvc2luZyh0cnVlKTtcbiAgICAgICAgICBJU19DT01QT1NJTkcuc2V0KGVkaXRvciwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbYXR0cmlidXRlcy5vbkNvbXBvc2l0aW9uVXBkYXRlLCBlZGl0b3JdKSxcbiAgICBvbkNvbXBvc2l0aW9uU3RhcnQ6IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmIChSZWFjdEVkaXRvci5oYXNTZWxlY3RhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICB2YXIgX2FuZHJvaWRJbnB1dE1hbmFnZXJSNDtcblxuICAgICAgICAoX2FuZHJvaWRJbnB1dE1hbmFnZXJSNCA9IGFuZHJvaWRJbnB1dE1hbmFnZXJSZWYuY3VycmVudCkgPT09IG51bGwgfHwgX2FuZHJvaWRJbnB1dE1hbmFnZXJSNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FuZHJvaWRJbnB1dE1hbmFnZXJSNC5oYW5kbGVDb21wb3NpdGlvblN0YXJ0KGV2ZW50KTtcblxuICAgICAgICBpZiAoaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25Db21wb3NpdGlvblN0YXJ0KSB8fCBJU19BTkRST0lEKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0SXNDb21wb3NpbmcodHJ1ZSk7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgc2VsZWN0aW9uXG4gICAgICAgIH0gPSBlZGl0b3I7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBpbmxpbmUgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICAgICAgICBtYXRjaDogbiA9PiBFbGVtZW50JDEuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pLFxuICAgICAgICAgICAgbW9kZTogJ2hpZ2hlc3QnXG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAoaW5saW5lKSB7XG4gICAgICAgICAgICB2YXIgWywgaW5saW5lUGF0aF0gPSBpbmxpbmU7XG5cbiAgICAgICAgICAgIGlmIChFZGl0b3IuaXNFbmQoZWRpdG9yLCBzZWxlY3Rpb24uYW5jaG9yLCBpbmxpbmVQYXRoKSkge1xuICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBFZGl0b3IuYWZ0ZXIoZWRpdG9yLCBpbmxpbmVQYXRoKTtcbiAgICAgICAgICAgICAgVHJhbnNmb3Jtcy5zZXRTZWxlY3Rpb24oZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgYW5jaG9yOiBwb2ludCxcbiAgICAgICAgICAgICAgICBmb2N1czogcG9pbnRcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW2F0dHJpYnV0ZXMub25Db21wb3NpdGlvblN0YXJ0LCBlZGl0b3JdKSxcbiAgICBvbkNvcHk6IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmIChSZWFjdEVkaXRvci5oYXNTZWxlY3RhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJiAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25Db3B5KSAmJiAhaXNET01FdmVudFRhcmdldElucHV0KGV2ZW50KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhLCAnY29weScpO1xuICAgICAgfVxuICAgIH0sIFthdHRyaWJ1dGVzLm9uQ29weSwgZWRpdG9yXSksXG4gICAgb25DdXQ6IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmICghcmVhZE9ubHkgJiYgUmVhY3RFZGl0b3IuaGFzU2VsZWN0YWJsZVRhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiYgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uQ3V0KSAmJiAhaXNET01FdmVudFRhcmdldElucHV0KGV2ZW50KSkge1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhLCAnY3V0Jyk7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgc2VsZWN0aW9uXG4gICAgICAgIH0gPSBlZGl0b3I7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIEVkaXRvci5kZWxldGVGcmFnbWVudChlZGl0b3IpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbm9kZSA9IE5vZGUucGFyZW50KGVkaXRvciwgc2VsZWN0aW9uLmFuY2hvci5wYXRoKTtcblxuICAgICAgICAgICAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtyZWFkT25seSwgZWRpdG9yLCBhdHRyaWJ1dGVzLm9uQ3V0XSksXG4gICAgb25EcmFnT3ZlcjogdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgaWYgKFJlYWN0RWRpdG9yLmhhc1RhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiYgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uRHJhZ092ZXIpKSB7XG4gICAgICAgIC8vIE9ubHkgd2hlbiB0aGUgdGFyZ2V0IGlzIHZvaWQsIGNhbGwgYHByZXZlbnREZWZhdWx0YCB0byBzaWduYWxcbiAgICAgICAgLy8gdGhhdCBkcm9wcyBhcmUgYWxsb3dlZC4gRWRpdGFibGUgY29udGVudCBpcyBkcm9wcGFibGUgYnlcbiAgICAgICAgLy8gZGVmYXVsdCwgYW5kIGNhbGxpbmcgYHByZXZlbnREZWZhdWx0YCBoaWRlcyB0aGUgY3Vyc29yLlxuICAgICAgICB2YXIgbm9kZSA9IFJlYWN0RWRpdG9yLnRvU2xhdGVOb2RlKGVkaXRvciwgZXZlbnQudGFyZ2V0KTtcblxuICAgICAgICBpZiAoRWxlbWVudCQxLmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwgW2F0dHJpYnV0ZXMub25EcmFnT3ZlciwgZWRpdG9yXSksXG4gICAgb25EcmFnU3RhcnQ6IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmICghcmVhZE9ubHkgJiYgUmVhY3RFZGl0b3IuaGFzVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJiAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25EcmFnU3RhcnQpKSB7XG4gICAgICAgIHZhciBub2RlID0gUmVhY3RFZGl0b3IudG9TbGF0ZU5vZGUoZWRpdG9yLCBldmVudC50YXJnZXQpO1xuICAgICAgICB2YXIgcGF0aCA9IFJlYWN0RWRpdG9yLmZpbmRQYXRoKGVkaXRvciwgbm9kZSk7XG4gICAgICAgIHZhciB2b2lkTWF0Y2ggPSBFbGVtZW50JDEuaXNFbGVtZW50KG5vZGUpICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSB8fCBFZGl0b3Iudm9pZChlZGl0b3IsIHtcbiAgICAgICAgICBhdDogcGF0aCxcbiAgICAgICAgICB2b2lkczogdHJ1ZVxuICAgICAgICB9KTsgLy8gSWYgc3RhcnRpbmcgYSBkcmFnIG9uIGEgdm9pZCBub2RlLCBtYWtlIHN1cmUgaXQgaXMgc2VsZWN0ZWRcbiAgICAgICAgLy8gc28gdGhhdCBpdCBzaG93cyB1cCBpbiB0aGUgc2VsZWN0aW9uJ3MgZnJhZ21lbnQuXG5cbiAgICAgICAgaWYgKHZvaWRNYXRjaCkge1xuICAgICAgICAgIHZhciByYW5nZSA9IEVkaXRvci5yYW5nZShlZGl0b3IsIHBhdGgpO1xuICAgICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcmFuZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUuaXNEcmFnZ2luZ0ludGVybmFsbHkgPSB0cnVlO1xuICAgICAgICBSZWFjdEVkaXRvci5zZXRGcmFnbWVudERhdGEoZWRpdG9yLCBldmVudC5kYXRhVHJhbnNmZXIsICdkcmFnJyk7XG4gICAgICB9XG4gICAgfSwgW3JlYWRPbmx5LCBlZGl0b3IsIGF0dHJpYnV0ZXMub25EcmFnU3RhcnQsIHN0YXRlXSksXG4gICAgb25Ecm9wOiB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICBpZiAoIXJlYWRPbmx5ICYmIFJlYWN0RWRpdG9yLmhhc1RhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiYgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uRHJvcCkpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgLy8gS2VlcCBhIHJlZmVyZW5jZSB0byB0aGUgZHJhZ2dlZCByYW5nZSBiZWZvcmUgdXBkYXRpbmcgc2VsZWN0aW9uXG5cbiAgICAgICAgdmFyIGRyYWdnZWRSYW5nZSA9IGVkaXRvci5zZWxlY3Rpb247IC8vIEZpbmQgdGhlIHJhbmdlIHdoZXJlIHRoZSBkcm9wIGhhcHBlbmVkXG5cbiAgICAgICAgdmFyIHJhbmdlID0gUmVhY3RFZGl0b3IuZmluZEV2ZW50UmFuZ2UoZWRpdG9yLCBldmVudCk7XG4gICAgICAgIHZhciBkYXRhID0gZXZlbnQuZGF0YVRyYW5zZmVyO1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHJhbmdlKTtcblxuICAgICAgICBpZiAoc3RhdGUuaXNEcmFnZ2luZ0ludGVybmFsbHkpIHtcbiAgICAgICAgICBpZiAoZHJhZ2dlZFJhbmdlICYmICFSYW5nZS5lcXVhbHMoZHJhZ2dlZFJhbmdlLCByYW5nZSkgJiYgIUVkaXRvci52b2lkKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHJhbmdlLFxuICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGF0OiBkcmFnZ2VkUmFuZ2VcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFJlYWN0RWRpdG9yLmluc2VydERhdGEoZWRpdG9yLCBkYXRhKTsgLy8gV2hlbiBkcmFnZ2luZyBmcm9tIGFub3RoZXIgc291cmNlIGludG8gdGhlIGVkaXRvciwgaXQncyBwb3NzaWJsZVxuICAgICAgICAvLyB0aGF0IHRoZSBjdXJyZW50IGVkaXRvciBkb2VzIG5vdCBoYXZlIGZvY3VzLlxuXG4gICAgICAgIGlmICghUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcikpIHtcbiAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5ID0gZmFsc2U7XG4gICAgfSwgW3JlYWRPbmx5LCBlZGl0b3IsIGF0dHJpYnV0ZXMub25Ecm9wLCBzdGF0ZV0pLFxuICAgIG9uRHJhZ0VuZDogdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgaWYgKCFyZWFkT25seSAmJiBzdGF0ZS5pc0RyYWdnaW5nSW50ZXJuYWxseSAmJiBhdHRyaWJ1dGVzLm9uRHJhZ0VuZCAmJiBSZWFjdEVkaXRvci5oYXNUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgIGF0dHJpYnV0ZXMub25EcmFnRW5kKGV2ZW50KTtcbiAgICAgIH0gLy8gV2hlbiBkcm9wcGluZyBvbiBhIGRpZmZlcmVudCBkcm9wcGFibGUgZWxlbWVudCB0aGFuIHRoZSBjdXJyZW50IGVkaXRvcixcbiAgICAgIC8vIGBvbkRyb3BgIGlzIG5vdCBjYWxsZWQuIFNvIHdlIG5lZWQgdG8gY2xlYW4gdXAgaW4gYG9uRHJhZ0VuZGAgaW5zdGVhZC5cbiAgICAgIC8vIE5vdGU6IGBvbkRyYWdFbmRgIGlzIG9ubHkgY2FsbGVkIHdoZW4gYG9uRHJvcGAgaXMgbm90IGNhbGxlZFxuXG5cbiAgICAgIHN0YXRlLmlzRHJhZ2dpbmdJbnRlcm5hbGx5ID0gZmFsc2U7XG4gICAgfSwgW3JlYWRPbmx5LCBzdGF0ZSwgYXR0cmlidXRlcywgZWRpdG9yXSksXG4gICAgb25Gb2N1czogdXNlQ2FsbGJhY2soZXZlbnQgPT4ge1xuICAgICAgaWYgKCFyZWFkT25seSAmJiAhc3RhdGUuaXNVcGRhdGluZ1NlbGVjdGlvbiAmJiBSZWFjdEVkaXRvci5oYXNFZGl0YWJsZVRhcmdldChlZGl0b3IsIGV2ZW50LnRhcmdldCkgJiYgIWlzRXZlbnRIYW5kbGVkKGV2ZW50LCBhdHRyaWJ1dGVzLm9uRm9jdXMpKSB7XG4gICAgICAgIHZhciBlbCA9IFJlYWN0RWRpdG9yLnRvRE9NTm9kZShlZGl0b3IsIGVkaXRvcik7XG4gICAgICAgIHZhciByb290ID0gUmVhY3RFZGl0b3IuZmluZERvY3VtZW50T3JTaGFkb3dSb290KGVkaXRvcik7XG4gICAgICAgIHN0YXRlLmxhdGVzdEVsZW1lbnQgPSByb290LmFjdGl2ZUVsZW1lbnQ7IC8vIENPTVBBVDogSWYgdGhlIGVkaXRvciBoYXMgbmVzdGVkIGVkaXRhYmxlIGVsZW1lbnRzLCB0aGUgZm9jdXNcbiAgICAgICAgLy8gY2FuIGdvIHRvIHRoZW0uIEluIEZpcmVmb3gsIHRoaXMgbXVzdCBiZSBwcmV2ZW50ZWQgYmVjYXVzZSBpdFxuICAgICAgICAvLyByZXN1bHRzIGluIGlzc3VlcyB3aXRoIGtleWJvYXJkIG5hdmlnYXRpb24uICgyMDE3LzAzLzMwKVxuXG4gICAgICAgIGlmIChJU19GSVJFRk9YICYmIGV2ZW50LnRhcmdldCAhPT0gZWwpIHtcbiAgICAgICAgICBlbC5mb2N1cygpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIElTX0ZPQ1VTRUQuc2V0KGVkaXRvciwgdHJ1ZSk7XG4gICAgICB9XG4gICAgfSwgW3JlYWRPbmx5LCBzdGF0ZSwgZWRpdG9yLCBhdHRyaWJ1dGVzLm9uRm9jdXNdKSxcbiAgICBvbktleURvd246IHVzZUNhbGxiYWNrKGV2ZW50ID0+IHtcbiAgICAgIGlmICghcmVhZE9ubHkgJiYgUmVhY3RFZGl0b3IuaGFzRWRpdGFibGVUYXJnZXQoZWRpdG9yLCBldmVudC50YXJnZXQpKSB7XG4gICAgICAgIHZhciBfYW5kcm9pZElucHV0TWFuYWdlclI1O1xuXG4gICAgICAgIChfYW5kcm9pZElucHV0TWFuYWdlclI1ID0gYW5kcm9pZElucHV0TWFuYWdlclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfYW5kcm9pZElucHV0TWFuYWdlclI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYW5kcm9pZElucHV0TWFuYWdlclI1LmhhbmRsZUtleURvd24oZXZlbnQpO1xuICAgICAgICB2YXIge1xuICAgICAgICAgIG5hdGl2ZUV2ZW50XG4gICAgICAgIH0gPSBldmVudDsgLy8gQ09NUEFUOiBUaGUgY29tcG9zaXRpb24gZW5kIGV2ZW50IGlzbid0IGZpcmVkIHJlbGlhYmx5IGluIGFsbCBicm93c2VycyxcbiAgICAgICAgLy8gc28gd2Ugc29tZXRpbWVzIG1pZ2h0IGVuZCB1cCBzdHVjayBpbiBhIGNvbXBvc2l0aW9uIHN0YXRlIGV2ZW4gdGhvdWdoIHdlXG4gICAgICAgIC8vIGFyZW4ndCBjb21wb3NpbmcgYW55IG1vcmUuXG5cbiAgICAgICAgaWYgKFJlYWN0RWRpdG9yLmlzQ29tcG9zaW5nKGVkaXRvcikgJiYgbmF0aXZlRXZlbnQuaXNDb21wb3NpbmcgPT09IGZhbHNlKSB7XG4gICAgICAgICAgSVNfQ09NUE9TSU5HLnNldChlZGl0b3IsIGZhbHNlKTtcbiAgICAgICAgICBzZXRJc0NvbXBvc2luZyhmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25LZXlEb3duKSB8fCBSZWFjdEVkaXRvci5pc0NvbXBvc2luZyhlZGl0b3IpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBzZWxlY3Rpb25cbiAgICAgICAgfSA9IGVkaXRvcjtcbiAgICAgICAgdmFyIGVsZW1lbnQgPSBlZGl0b3IuY2hpbGRyZW5bc2VsZWN0aW9uICE9PSBudWxsID8gc2VsZWN0aW9uLmZvY3VzLnBhdGhbMF0gOiAwXTtcbiAgICAgICAgdmFyIGlzUlRMID0gZ2V0RGlyZWN0aW9uKE5vZGUuc3RyaW5nKGVsZW1lbnQpKSA9PT0gJ3J0bCc7IC8vIENPTVBBVDogU2luY2Ugd2UgcHJldmVudCB0aGUgZGVmYXVsdCBiZWhhdmlvciBvblxuICAgICAgICAvLyBgYmVmb3JlaW5wdXRgIGV2ZW50cywgdGhlIGJyb3dzZXIgZG9lc24ndCB0aGluayB0aGVyZSdzIGV2ZXJcbiAgICAgICAgLy8gYW55IGhpc3Rvcnkgc3RhY2sgdG8gdW5kbyBvciByZWRvLCBzbyB3ZSBoYXZlIHRvIG1hbmFnZSB0aGVzZVxuICAgICAgICAvLyBob3RrZXlzIG91cnNlbHZlcy4gKDIwMTkvMTEvMDYpXG5cbiAgICAgICAgaWYgKEhvdGtleXMuaXNSZWRvKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIG1heWJlSGlzdG9yeUVkaXRvciA9IGVkaXRvcjtcblxuICAgICAgICAgIGlmICh0eXBlb2YgbWF5YmVIaXN0b3J5RWRpdG9yLnJlZG8gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIG1heWJlSGlzdG9yeUVkaXRvci5yZWRvKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEhvdGtleXMuaXNVbmRvKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgdmFyIF9tYXliZUhpc3RvcnlFZGl0b3IgPSBlZGl0b3I7XG5cbiAgICAgICAgICBpZiAodHlwZW9mIF9tYXliZUhpc3RvcnlFZGl0b3IudW5kbyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgX21heWJlSGlzdG9yeUVkaXRvci51bmRvKCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9IC8vIENPTVBBVDogQ2VydGFpbiBicm93c2VycyBkb24ndCBoYW5kbGUgdGhlIHNlbGVjdGlvbiB1cGRhdGVzXG4gICAgICAgIC8vIHByb3Blcmx5LiBJbiBDaHJvbWUsIHRoZSBzZWxlY3Rpb24gaXNuJ3QgcHJvcGVybHkgZXh0ZW5kZWQuXG4gICAgICAgIC8vIEFuZCBpbiBGaXJlZm94LCB0aGUgc2VsZWN0aW9uIGlzbid0IHByb3Blcmx5IGNvbGxhcHNlZC5cbiAgICAgICAgLy8gKDIwMTcvMTAvMTcpXG5cblxuICAgICAgICBpZiAoSG90a2V5cy5pc01vdmVMaW5lQmFja3dhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7XG4gICAgICAgICAgICB1bml0OiAnbGluZScsXG4gICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEhvdGtleXMuaXNNb3ZlTGluZUZvcndhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7XG4gICAgICAgICAgICB1bml0OiAnbGluZSdcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoSG90a2V5cy5pc0V4dGVuZExpbmVCYWNrd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgIHVuaXQ6ICdsaW5lJyxcbiAgICAgICAgICAgIGVkZ2U6ICdmb2N1cycsXG4gICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEhvdGtleXMuaXNFeHRlbmRMaW5lRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgIHVuaXQ6ICdsaW5lJyxcbiAgICAgICAgICAgIGVkZ2U6ICdmb2N1cydcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gQ09NUEFUOiBJZiBhIHZvaWQgbm9kZSBpcyBzZWxlY3RlZCwgb3IgYSB6ZXJvLXdpZHRoIHRleHQgbm9kZVxuICAgICAgICAvLyBhZGphY2VudCB0byBhbiBpbmxpbmUgaXMgc2VsZWN0ZWQsIHdlIG5lZWQgdG8gaGFuZGxlIHRoZXNlXG4gICAgICAgIC8vIGhvdGtleXMgbWFudWFsbHkgYmVjYXVzZSBicm93c2VycyB3b24ndCBiZSBhYmxlIHRvIHNraXAgb3ZlclxuICAgICAgICAvLyB0aGUgdm9pZCBub2RlIHdpdGggdGhlIHplcm8td2lkdGggc3BhY2Ugbm90IGJlaW5nIGFuIGVtcHR5XG4gICAgICAgIC8vIHN0cmluZy5cblxuXG4gICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZUJhY2t3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgcmV2ZXJzZTogIWlzUlRMXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgZWRnZTogJ3N0YXJ0J1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKEhvdGtleXMuaXNNb3ZlRm9yd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIHJldmVyc2U6IGlzUlRMXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgZWRnZTogJ2VuZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZVdvcmRCYWNrd2FyZChuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIFRyYW5zZm9ybXMuY29sbGFwc2UoZWRpdG9yLCB7XG4gICAgICAgICAgICAgIGVkZ2U6ICdmb2N1cydcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgICAgIHVuaXQ6ICd3b3JkJyxcbiAgICAgICAgICAgIHJldmVyc2U6ICFpc1JUTFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChIb3RrZXlzLmlzTW92ZVdvcmRGb3J3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHtcbiAgICAgICAgICAgICAgZWRnZTogJ2ZvY3VzJ1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlKGVkaXRvciwge1xuICAgICAgICAgICAgdW5pdDogJ3dvcmQnLFxuICAgICAgICAgICAgcmV2ZXJzZTogaXNSVExcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH0gLy8gQ09NUEFUOiBDZXJ0YWluIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQsIHNvIHdlXG4gICAgICAgIC8vIGZhbGwgYmFjayB0byBndWVzc2luZyBhdCB0aGUgaW5wdXQgaW50ZW50aW9uIGZvciBob3RrZXlzLlxuICAgICAgICAvLyBDT01QQVQ6IEluIGlPUywgc29tZSBvZiB0aGVzZSBob3RrZXlzIGFyZSBoYW5kbGVkIGluIHRoZVxuXG5cbiAgICAgICAgaWYgKCFIQVNfQkVGT1JFX0lOUFVUX1NVUFBPUlQpIHtcbiAgICAgICAgICAvLyBXZSBkb24ndCBoYXZlIGEgY29yZSBiZWhhdmlvciBmb3IgdGhlc2UsIGJ1dCB0aGV5IGNoYW5nZSB0aGVcbiAgICAgICAgICAvLyBET00gaWYgd2UgZG9uJ3QgcHJldmVudCB0aGVtLCBzbyB3ZSBoYXZlIHRvLlxuICAgICAgICAgIGlmIChIb3RrZXlzLmlzQm9sZChuYXRpdmVFdmVudCkgfHwgSG90a2V5cy5pc0l0YWxpYyhuYXRpdmVFdmVudCkgfHwgSG90a2V5cy5pc1RyYW5zcG9zZUNoYXJhY3RlcihuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKEhvdGtleXMuaXNTb2Z0QnJlYWsobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgRWRpdG9yLmluc2VydFNvZnRCcmVhayhlZGl0b3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChIb3RrZXlzLmlzU3BsaXRCbG9jayhuYXRpdmVFdmVudCkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBFZGl0b3IuaW5zZXJ0QnJlYWsoZWRpdG9yKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoSG90a2V5cy5pc0RlbGV0ZUJhY2t3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKEhvdGtleXMuaXNEZWxldGVGb3J3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChIb3RrZXlzLmlzRGVsZXRlTGluZUJhY2t3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2JhY2t3YXJkJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICB1bml0OiAnbGluZSdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoSG90a2V5cy5pc0RlbGV0ZUxpbmVGb3J3YXJkKG5hdGl2ZUV2ZW50KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZyYWdtZW50KGVkaXRvciwge1xuICAgICAgICAgICAgICAgIGRpcmVjdGlvbjogJ2ZvcndhcmQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUZvcndhcmQoZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgdW5pdDogJ2xpbmUnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKEhvdGtleXMuaXNEZWxldGVXb3JkQmFja3dhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgRWRpdG9yLmRlbGV0ZUJhY2t3YXJkKGVkaXRvciwge1xuICAgICAgICAgICAgICAgIHVuaXQ6ICd3b3JkJ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChIb3RrZXlzLmlzRGVsZXRlV29yZEZvcndhcmQobmF0aXZlRXZlbnQpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCB7XG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uOiAnZm9yd2FyZCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBFZGl0b3IuZGVsZXRlRm9yd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICB1bml0OiAnd29yZCdcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKElTX0NIUk9NRSB8fCBJU19XRUJLSVQpIHtcbiAgICAgICAgICAgIC8vIENPTVBBVDogQ2hyb21lIGFuZCBTYWZhcmkgc3VwcG9ydCBgYmVmb3JlaW5wdXRgIGV2ZW50IGJ1dCBkbyBub3QgZmlyZVxuICAgICAgICAgICAgLy8gYW4gZXZlbnQgd2hlbiBkZWxldGluZyBiYWNrd2FyZHMgaW4gYSBzZWxlY3RlZCB2b2lkIGlubGluZSBub2RlXG4gICAgICAgICAgICBpZiAoc2VsZWN0aW9uICYmIChIb3RrZXlzLmlzRGVsZXRlQmFja3dhcmQobmF0aXZlRXZlbnQpIHx8IEhvdGtleXMuaXNEZWxldGVGb3J3YXJkKG5hdGl2ZUV2ZW50KSkgJiYgUmFuZ2UuaXNDb2xsYXBzZWQoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgICB2YXIgY3VycmVudE5vZGUgPSBOb2RlLnBhcmVudChlZGl0b3IsIHNlbGVjdGlvbi5hbmNob3IucGF0aCk7XG5cbiAgICAgICAgICAgICAgaWYgKEVsZW1lbnQkMS5pc0VsZW1lbnQoY3VycmVudE5vZGUpICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBjdXJyZW50Tm9kZSkgJiYgKEVkaXRvci5pc0lubGluZShlZGl0b3IsIGN1cnJlbnROb2RlKSB8fCBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIGN1cnJlbnROb2RlKSkpIHtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIEVkaXRvci5kZWxldGVCYWNrd2FyZChlZGl0b3IsIHtcbiAgICAgICAgICAgICAgICAgIHVuaXQ6ICdibG9jaydcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCBbcmVhZE9ubHksIGVkaXRvciwgYXR0cmlidXRlcy5vbktleURvd25dKSxcbiAgICBvblBhc3RlOiB1c2VDYWxsYmFjayhldmVudCA9PiB7XG4gICAgICBpZiAoIXJlYWRPbmx5ICYmIFJlYWN0RWRpdG9yLmhhc0VkaXRhYmxlVGFyZ2V0KGVkaXRvciwgZXZlbnQudGFyZ2V0KSAmJiAhaXNFdmVudEhhbmRsZWQoZXZlbnQsIGF0dHJpYnV0ZXMub25QYXN0ZSkpIHtcbiAgICAgICAgLy8gQ09NUEFUOiBDZXJ0YWluIGJyb3dzZXJzIGRvbid0IHN1cHBvcnQgdGhlIGBiZWZvcmVpbnB1dGAgZXZlbnQsIHNvIHdlXG4gICAgICAgIC8vIGZhbGwgYmFjayB0byBSZWFjdCdzIGBvblBhc3RlYCBoZXJlIGluc3RlYWQuXG4gICAgICAgIC8vIENPTVBBVDogRmlyZWZveCwgQ2hyb21lIGFuZCBTYWZhcmkgZG9uJ3QgZW1pdCBgYmVmb3JlaW5wdXRgIGV2ZW50c1xuICAgICAgICAvLyB3aGVuIFwicGFzdGUgd2l0aG91dCBmb3JtYXR0aW5nXCIgaXMgdXNlZCwgc28gZmFsbGJhY2suICgyMDIwLzAyLzIwKVxuICAgICAgICAvLyBDT01QQVQ6IFNhZmFyaSBJbnB1dEV2ZW50cyBnZW5lcmF0ZWQgYnkgcGFzdGluZyB3b24ndCBpbmNsdWRlXG4gICAgICAgIC8vIGFwcGxpY2F0aW9uL3gtc2xhdGUtZnJhZ21lbnQgaXRlbXMsIHNvIHVzZSB0aGVcbiAgICAgICAgLy8gQ2xpcGJvYXJkRXZlbnQgaGVyZS4gKDIwMjMvMDMvMTUpXG4gICAgICAgIGlmICghSEFTX0JFRk9SRV9JTlBVVF9TVVBQT1JUIHx8IGlzUGxhaW5UZXh0T25seVBhc3RlKGV2ZW50Lm5hdGl2ZUV2ZW50KSB8fCBJU19XRUJLSVQpIHtcbiAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIFJlYWN0RWRpdG9yLmluc2VydERhdGEoZWRpdG9yLCBldmVudC5jbGlwYm9hcmREYXRhKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sIFtyZWFkT25seSwgZWRpdG9yLCBhdHRyaWJ1dGVzLm9uUGFzdGVdKVxuICB9KSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2hpbGRyZW4sIHtcbiAgICBkZWNvcmF0aW9uczogZGVjb3JhdGlvbnMsXG4gICAgbm9kZTogZWRpdG9yLFxuICAgIHJlbmRlckVsZW1lbnQ6IHJlbmRlckVsZW1lbnQsXG4gICAgcmVuZGVyUGxhY2Vob2xkZXI6IHJlbmRlclBsYWNlaG9sZGVyLFxuICAgIHJlbmRlckxlYWY6IHJlbmRlckxlYWYsXG4gICAgc2VsZWN0aW9uOiBlZGl0b3Iuc2VsZWN0aW9uXG4gIH0pKSkpKTtcbn07XG4vKipcclxuICogVGhlIGRlZmF1bHQgcGxhY2Vob2xkZXIgZWxlbWVudFxyXG4gKi9cblxudmFyIERlZmF1bHRQbGFjZWhvbGRlciA9IF9yZWYgPT4ge1xuICB2YXIge1xuICAgIGF0dHJpYnV0ZXMsXG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY7XG4gIHJldHVybiAoXG4gICAgLyojX19QVVJFX18qL1xuICAgIC8vIENPTVBBVDogQXJ0aWZpY2lhbGx5IGFkZCBhIGxpbmUtYnJlYWsgdG8gdGhlIGVuZCBvbiB0aGUgcGxhY2Vob2xkZXIgZWxlbWVudFxuICAgIC8vIHRvIHByZXZlbnQgQW5kcm9pZCBJTUVzIHRvIHBpY2sgdXAgaXRzIGNvbnRlbnQgaW4gYXV0b2NvcnJlY3QgYW5kIHRvIGF1dG8tY2FwaXRhbGl6ZSB0aGUgZmlyc3QgbGV0dGVyXG4gICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgT2JqZWN0LmFzc2lnbih7fSwgYXR0cmlidXRlcyksIGNoaWxkcmVuLCBJU19BTkRST0lEICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwiYnJcIiwgbnVsbCkpXG4gICk7XG59O1xuLyoqXHJcbiAqIEEgZGVmYXVsdCBtZW1vaXplZCBkZWNvcmF0ZSBmdW5jdGlvbi5cclxuICovXG5cbnZhciBkZWZhdWx0RGVjb3JhdGUgPSAoKSA9PiBbXTtcbi8qKlxyXG4gKiBBIGRlZmF1bHQgaW1wbGVtZW50IHRvIHNjcm9sbCBkb20gcmFuZ2UgaW50byB2aWV3LlxyXG4gKi9cblxudmFyIGRlZmF1bHRTY3JvbGxTZWxlY3Rpb25JbnRvVmlldyA9IChlZGl0b3IsIGRvbVJhbmdlKSA9PiB7XG4gIC8vIFRoaXMgd2FzIGFmZmVjdGluZyB0aGUgc2VsZWN0aW9uIG9mIG11bHRpcGxlIGJsb2NrcyBhbmQgZHJhZ2dpbmcgYmVoYXZpb3IsXG4gIC8vIHNvIGVuYWJsZWQgb25seSBpZiB0aGUgc2VsZWN0aW9uIGhhcyBiZWVuIGNvbGxhcHNlZC5cbiAgaWYgKGRvbVJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCAmJiAoIWVkaXRvci5zZWxlY3Rpb24gfHwgZWRpdG9yLnNlbGVjdGlvbiAmJiBSYW5nZS5pc0NvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSkpIHtcbiAgICB2YXIgbGVhZkVsID0gZG9tUmFuZ2Uuc3RhcnRDb250YWluZXIucGFyZW50RWxlbWVudDtcbiAgICBsZWFmRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID0gZG9tUmFuZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0LmJpbmQoZG9tUmFuZ2UpO1xuICAgIHNjcm9sbEludG9WaWV3KGxlYWZFbCwge1xuICAgICAgc2Nyb2xsTW9kZTogJ2lmLW5lZWRlZCdcbiAgICB9KTsgLy8gQHRzLWV4cGVjdC1lcnJvciBhbiB1bm9ydGhvZG94IGRlbGV0ZSBEOlxuXG4gICAgZGVsZXRlIGxlYWZFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3Q7XG4gIH1cbn07XG4vKipcclxuICogQ2hlY2sgaWYgYW4gZXZlbnQgaXMgb3ZlcnJpZGVkIGJ5IGEgaGFuZGxlci5cclxuICovXG5cblxudmFyIGlzRXZlbnRIYW5kbGVkID0gKGV2ZW50LCBoYW5kbGVyKSA9PiB7XG4gIGlmICghaGFuZGxlcikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBUaGUgY3VzdG9tIGV2ZW50IGhhbmRsZXIgbWF5IHJldHVybiBhIGJvb2xlYW4gdG8gc3BlY2lmeSB3aGV0aGVyIHRoZSBldmVudFxuICAvLyBzaGFsbCBiZSB0cmVhdGVkIGFzIGJlaW5nIGhhbmRsZWQgb3Igbm90LlxuXG5cbiAgdmFyIHNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWQgPSBoYW5kbGVyKGV2ZW50KTtcblxuICBpZiAoc2hvdWxkVHJlYXRFdmVudEFzSGFuZGxlZCAhPSBudWxsKSB7XG4gICAgcmV0dXJuIHNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWQ7XG4gIH1cblxuICByZXR1cm4gZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkgfHwgZXZlbnQuaXNQcm9wYWdhdGlvblN0b3BwZWQoKTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgdGhlIGV2ZW50J3MgdGFyZ2V0IGlzIGFuIGlucHV0IGVsZW1lbnRcclxuICovXG5cbnZhciBpc0RPTUV2ZW50VGFyZ2V0SW5wdXQgPSBldmVudCA9PiB7XG4gIHJldHVybiBpc0RPTU5vZGUoZXZlbnQudGFyZ2V0KSAmJiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTElucHV0RWxlbWVudCB8fCBldmVudC50YXJnZXQgaW5zdGFuY2VvZiBIVE1MVGV4dEFyZWFFbGVtZW50KTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSBET00gZXZlbnQgaXMgb3ZlcnJpZGVkIGJ5IGEgaGFuZGxlci5cclxuICovXG5cbnZhciBpc0RPTUV2ZW50SGFuZGxlZCA9IChldmVudCwgaGFuZGxlcikgPT4ge1xuICBpZiAoIWhhbmRsZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gLy8gVGhlIGN1c3RvbSBldmVudCBoYW5kbGVyIG1heSByZXR1cm4gYSBib29sZWFuIHRvIHNwZWNpZnkgd2hldGhlciB0aGUgZXZlbnRcbiAgLy8gc2hhbGwgYmUgdHJlYXRlZCBhcyBiZWluZyBoYW5kbGVkIG9yIG5vdC5cblxuXG4gIHZhciBzaG91bGRUcmVhdEV2ZW50QXNIYW5kbGVkID0gaGFuZGxlcihldmVudCk7XG5cbiAgaWYgKHNob3VsZFRyZWF0RXZlbnRBc0hhbmRsZWQgIT0gbnVsbCkge1xuICAgIHJldHVybiBzaG91bGRUcmVhdEV2ZW50QXNIYW5kbGVkO1xuICB9XG5cbiAgcmV0dXJuIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQ7XG59O1xuXG4vKipcclxuICogQSBSZWFjdCBjb250ZXh0IGZvciBzaGFyaW5nIHRoZSBgZm9jdXNlZGAgc3RhdGUgb2YgdGhlIGVkaXRvci5cclxuICovXG5cbnZhciBGb2N1c2VkQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KGZhbHNlKTtcbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgYGZvY3VzZWRgIHN0YXRlIG9mIHRoZSBlZGl0b3IuXHJcbiAqL1xuXG52YXIgdXNlRm9jdXNlZCA9ICgpID0+IHtcbiAgcmV0dXJuIHVzZUNvbnRleHQoRm9jdXNlZENvbnRleHQpO1xufTtcblxuZnVuY3Rpb24gaXNFcnJvcihlcnJvcikge1xuICByZXR1cm4gZXJyb3IgaW5zdGFuY2VvZiBFcnJvcjtcbn1cbi8qKlxyXG4gKiBBIFJlYWN0IGNvbnRleHQgZm9yIHNoYXJpbmcgdGhlIGVkaXRvciBzZWxlY3RvciBjb250ZXh0IGluIGEgd2F5IHRvIGNvbnRyb2wgcmVyZW5kZXJzXHJcbiAqL1xuXG5cbnZhciBTbGF0ZVNlbGVjdG9yQ29udGV4dCA9IC8qI19fUFVSRV9fKi9jcmVhdGVDb250ZXh0KHt9KTtcblxudmFyIHJlZkVxdWFsaXR5ID0gKGEsIGIpID0+IGEgPT09IGI7XG4vKipcclxuICogdXNlIHJlZHV4IHN0eWxlIHNlbGVjdG9ycyB0byBwcmV2ZW50IHJlcmVuZGVyaW5nIG9uIGV2ZXJ5IGtleXN0cm9rZS5cclxuICogQmVhciBpbiBtaW5kIHJlcmVuZGVyaW5nIGNhbiBvbmx5IHByZXZlbnRlZCBpZiB0aGUgcmV0dXJuZWQgdmFsdWUgaXMgYSB2YWx1ZSB0eXBlIG9yIGZvciByZWZlcmVuY2UgdHlwZXMgKGUuZy4gb2JqZWN0cyBhbmQgYXJyYXlzKSBhZGQgYSBjdXN0b20gZXF1YWxpdHkgZnVuY3Rpb24uXHJcbiAqXHJcbiAqIEV4YW1wbGU6XHJcbiAqIGBgYFxyXG4gKiAgY29uc3QgaXNTZWxlY3Rpb25BY3RpdmUgPSB1c2VTbGF0ZVNlbGVjdG9yKGVkaXRvciA9PiBCb29sZWFuKGVkaXRvci5zZWxlY3Rpb24pKTtcclxuICogYGBgXHJcbiAqL1xuXG5cbmZ1bmN0aW9uIHVzZVNsYXRlU2VsZWN0b3Ioc2VsZWN0b3IpIHtcbiAgdmFyIGVxdWFsaXR5Rm4gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHJlZkVxdWFsaXR5O1xuICB2YXIgWywgZm9yY2VSZW5kZXJdID0gdXNlUmVkdWNlcihzID0+IHMgKyAxLCAwKTtcbiAgdmFyIGNvbnRleHQgPSB1c2VDb250ZXh0KFNsYXRlU2VsZWN0b3JDb250ZXh0KTtcblxuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgYHVzZVNsYXRlU2VsZWN0b3JgIGhvb2sgbXVzdCBiZSB1c2VkIGluc2lkZSB0aGUgPFNsYXRlPiBjb21wb25lbnQncyBjb250ZXh0LlwiKTtcbiAgfVxuXG4gIHZhciB7XG4gICAgZ2V0U2xhdGUsXG4gICAgYWRkRXZlbnRMaXN0ZW5lclxuICB9ID0gY29udGV4dDtcbiAgdmFyIGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IgPSB1c2VSZWYoKTtcbiAgdmFyIGxhdGVzdFNlbGVjdG9yID0gdXNlUmVmKCgpID0+IG51bGwpO1xuICB2YXIgbGF0ZXN0U2VsZWN0ZWRTdGF0ZSA9IHVzZVJlZihudWxsKTtcbiAgdmFyIHNlbGVjdGVkU3RhdGU7XG5cbiAgdHJ5IHtcbiAgICBpZiAoc2VsZWN0b3IgIT09IGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQgfHwgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50KSB7XG4gICAgICBzZWxlY3RlZFN0YXRlID0gc2VsZWN0b3IoZ2V0U2xhdGUoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkU3RhdGUgPSBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQ7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAobGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50ICYmIGlzRXJyb3IoZXJyKSkge1xuICAgICAgZXJyLm1lc3NhZ2UgKz0gXCJcXG5UaGUgZXJyb3IgbWF5IGJlIGNvcnJlbGF0ZWQgd2l0aCB0aGlzIHByZXZpb3VzIGVycm9yOlxcblwiLmNvbmNhdChsYXRlc3RTdWJzY3JpcHRpb25DYWxsYmFja0Vycm9yLmN1cnJlbnQuc3RhY2ssIFwiXFxuXFxuXCIpO1xuICAgIH1cblxuICAgIHRocm93IGVycjtcbiAgfVxuXG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGxhdGVzdFNlbGVjdG9yLmN1cnJlbnQgPSBzZWxlY3RvcjtcbiAgICBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQgPSBzZWxlY3RlZFN0YXRlO1xuICAgIGxhdGVzdFN1YnNjcmlwdGlvbkNhbGxiYWNrRXJyb3IuY3VycmVudCA9IHVuZGVmaW5lZDtcbiAgfSk7XG4gIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoKCkgPT4ge1xuICAgIGZ1bmN0aW9uIGNoZWNrRm9yVXBkYXRlcygpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBuZXdTZWxlY3RlZFN0YXRlID0gbGF0ZXN0U2VsZWN0b3IuY3VycmVudChnZXRTbGF0ZSgpKTtcblxuICAgICAgICBpZiAoZXF1YWxpdHlGbihuZXdTZWxlY3RlZFN0YXRlLCBsYXRlc3RTZWxlY3RlZFN0YXRlLmN1cnJlbnQpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGF0ZXN0U2VsZWN0ZWRTdGF0ZS5jdXJyZW50ID0gbmV3U2VsZWN0ZWRTdGF0ZTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAvLyB3ZSBpZ25vcmUgYWxsIGVycm9ycyBoZXJlLCBzaW5jZSB3aGVuIHRoZSBjb21wb25lbnRcbiAgICAgICAgLy8gaXMgcmUtcmVuZGVyZWQsIHRoZSBzZWxlY3RvcnMgYXJlIGNhbGxlZCBhZ2FpbiwgYW5kXG4gICAgICAgIC8vIHdpbGwgdGhyb3cgYWdhaW4sIGlmIG5laXRoZXIgcHJvcHMgbm9yIHN0b3JlIHN0YXRlXG4gICAgICAgIC8vIGNoYW5nZWRcbiAgICAgICAgbGF0ZXN0U3Vic2NyaXB0aW9uQ2FsbGJhY2tFcnJvci5jdXJyZW50ID0gZXJyO1xuICAgICAgfVxuXG4gICAgICBmb3JjZVJlbmRlcigpO1xuICAgIH1cblxuICAgIHZhciB1bnN1YnNjcmliZSA9IGFkZEV2ZW50TGlzdGVuZXIoY2hlY2tGb3JVcGRhdGVzKTtcbiAgICBjaGVja0ZvclVwZGF0ZXMoKTtcbiAgICByZXR1cm4gKCkgPT4gdW5zdWJzY3JpYmUoKTtcbiAgfSwgLy8gZG9uJ3QgcmVyZW5kZXIgb24gZXF1YWxpdHlGbiBjaGFuZ2Ugc2luY2Ugd2Ugd2FudCB0byBiZSBhYmxlIHRvIGRlZmluZSBpdCBpbmxpbmVcbiAgW2FkZEV2ZW50TGlzdGVuZXIsIGdldFNsYXRlXSk7XG4gIHJldHVybiBzZWxlY3RlZFN0YXRlO1xufVxuLyoqXHJcbiAqIENyZWF0ZSBzZWxlY3RvciBjb250ZXh0IHdpdGggZWRpdG9yIHVwZGF0aW5nIG9uIGV2ZXJ5IGVkaXRvciBjaGFuZ2VcclxuICovXG5cbmZ1bmN0aW9uIHVzZVNlbGVjdG9yQ29udGV4dChlZGl0b3IpIHtcbiAgdmFyIGV2ZW50TGlzdGVuZXJzID0gdXNlUmVmKFtdKS5jdXJyZW50O1xuICB2YXIgc2xhdGVSZWYgPSB1c2VSZWYoe1xuICAgIGVkaXRvclxuICB9KS5jdXJyZW50O1xuICB2YXIgb25DaGFuZ2UgPSB1c2VDYWxsYmFjayhlZGl0b3IgPT4ge1xuICAgIHNsYXRlUmVmLmVkaXRvciA9IGVkaXRvcjtcbiAgICBldmVudExpc3RlbmVycy5mb3JFYWNoKGxpc3RlbmVyID0+IGxpc3RlbmVyKGVkaXRvcikpO1xuICB9LCBbZXZlbnRMaXN0ZW5lcnMsIHNsYXRlUmVmXSk7XG4gIHZhciBzZWxlY3RvckNvbnRleHQgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0U2xhdGU6ICgpID0+IHNsYXRlUmVmLmVkaXRvcixcbiAgICAgIGFkZEV2ZW50TGlzdGVuZXI6IGNhbGxiYWNrID0+IHtcbiAgICAgICAgZXZlbnRMaXN0ZW5lcnMucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgZXZlbnRMaXN0ZW5lcnMuc3BsaWNlKGV2ZW50TGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spLCAxKTtcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9O1xuICB9LCBbZXZlbnRMaXN0ZW5lcnMsIHNsYXRlUmVmXSk7XG4gIHJldHVybiB7XG4gICAgc2VsZWN0b3JDb250ZXh0LFxuICAgIG9uQ2hhbmdlXG4gIH07XG59XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJlZGl0b3JcIiwgXCJjaGlsZHJlblwiLCBcIm9uQ2hhbmdlXCIsIFwiaW5pdGlhbFZhbHVlXCJdO1xuLyoqXHJcbiAqIEEgd3JhcHBlciBhcm91bmQgdGhlIHByb3ZpZGVyIHRvIGhhbmRsZSBgb25DaGFuZ2VgIGV2ZW50cywgYmVjYXVzZSB0aGUgZWRpdG9yXHJcbiAqIGlzIGEgbXV0YWJsZSBzaW5nbGV0b24gc28gaXQgd29uJ3QgZXZlciByZWdpc3RlciBhcyBcImNoYW5nZWRcIiBvdGhlcndpc2UuXHJcbiAqL1xuXG52YXIgU2xhdGUgPSBwcm9wcyA9PiB7XG4gIHZhciB7XG4gICAgZWRpdG9yLFxuICAgIGNoaWxkcmVuLFxuICAgIG9uQ2hhbmdlLFxuICAgIGluaXRpYWxWYWx1ZVxuICB9ID0gcHJvcHMsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHByb3BzLCBfZXhjbHVkZWQpO1xuXG4gIHZhciBbY29udGV4dCwgc2V0Q29udGV4dF0gPSBSZWFjdC51c2VTdGF0ZSgoKSA9PiB7XG4gICAgaWYgKCFOb2RlLmlzTm9kZUxpc3QoaW5pdGlhbFZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiW1NsYXRlXSBpbml0aWFsVmFsdWUgaXMgaW52YWxpZCEgRXhwZWN0ZWQgYSBsaXN0IG9mIGVsZW1lbnRzIGJ1dCBnb3Q6IFwiLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkoaW5pdGlhbFZhbHVlKSkpO1xuICAgIH1cblxuICAgIGlmICghRWRpdG9yLmlzRWRpdG9yKGVkaXRvcikpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIltTbGF0ZV0gZWRpdG9yIGlzIGludmFsaWQhIFlvdSBwYXNzZWQ6IFwiLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkoZWRpdG9yKSkpO1xuICAgIH1cblxuICAgIGVkaXRvci5jaGlsZHJlbiA9IGluaXRpYWxWYWx1ZTtcbiAgICBPYmplY3QuYXNzaWduKGVkaXRvciwgcmVzdCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHY6IDAsXG4gICAgICBlZGl0b3JcbiAgICB9O1xuICB9KTtcbiAgdmFyIHtcbiAgICBzZWxlY3RvckNvbnRleHQsXG4gICAgb25DaGFuZ2U6IGhhbmRsZVNlbGVjdG9yQ2hhbmdlXG4gIH0gPSB1c2VTZWxlY3RvckNvbnRleHQoZWRpdG9yKTtcbiAgdmFyIG9uQ29udGV4dENoYW5nZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAob25DaGFuZ2UpIHtcbiAgICAgIG9uQ2hhbmdlKGVkaXRvci5jaGlsZHJlbik7XG4gICAgfVxuXG4gICAgc2V0Q29udGV4dChwcmV2Q29udGV4dCA9PiAoe1xuICAgICAgdjogcHJldkNvbnRleHQudiArIDEsXG4gICAgICBlZGl0b3JcbiAgICB9KSk7XG4gICAgaGFuZGxlU2VsZWN0b3JDaGFuZ2UoZWRpdG9yKTtcbiAgfSwgW2VkaXRvciwgaGFuZGxlU2VsZWN0b3JDaGFuZ2UsIG9uQ2hhbmdlXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgRURJVE9SX1RPX09OX0NIQU5HRS5zZXQoZWRpdG9yLCBvbkNvbnRleHRDaGFuZ2UpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBFRElUT1JfVE9fT05fQ0hBTkdFLnNldChlZGl0b3IsICgpID0+IHt9KTtcbiAgICB9O1xuICB9LCBbZWRpdG9yLCBvbkNvbnRleHRDaGFuZ2VdKTtcbiAgdmFyIFtpc0ZvY3VzZWQsIHNldElzRm9jdXNlZF0gPSB1c2VTdGF0ZShSZWFjdEVkaXRvci5pc0ZvY3VzZWQoZWRpdG9yKSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNGb2N1c2VkKFJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKTtcbiAgfSwgW2VkaXRvcl0pO1xuICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICB2YXIgZm4gPSAoKSA9PiBzZXRJc0ZvY3VzZWQoUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcikpO1xuXG4gICAgaWYgKFJFQUNUX01BSk9SX1ZFUlNJT04gPj0gMTcpIHtcbiAgICAgIC8vIEluIFJlYWN0ID49IDE3IG9uRm9jdXMgYW5kIG9uQmx1ciBsaXN0ZW4gdG8gdGhlIGZvY3VzaW4gYW5kIGZvY3Vzb3V0IGV2ZW50cyBkdXJpbmcgdGhlIGJ1YmJsaW5nIHBoYXNlLlxuICAgICAgLy8gVGhlcmVmb3JlIGluIG9yZGVyIGZvciA8RWRpdGFibGUgLz4ncyBoYW5kbGVycyB0byBydW4gZmlyc3QsIHdoaWNoIGlzIG5lY2Vzc2FyeSBmb3IgUmVhY3RFZGl0b3IuaXNGb2N1c2VkKGVkaXRvcilcbiAgICAgIC8vIHRvIHJldHVybiB0aGUgY29ycmVjdCB2YWx1ZSwgd2UgaGF2ZSB0byBsaXN0ZW4gdG8gdGhlIGZvY3VzaW4gYW5kIGZvY3Vzb3V0IGV2ZW50cyB3aXRob3V0IHVzZUNhcHR1cmUgaGVyZS5cbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBmbik7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1c291dCcsIGZuKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3VzaW4nLCBmbik7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2ZvY3Vzb3V0JywgZm4pO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmbiwgdHJ1ZSk7XG4gICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgZm4sIHRydWUpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZm9jdXMnLCBmbiwgdHJ1ZSk7XG4gICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2JsdXInLCBmbiwgdHJ1ZSk7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW10pO1xuICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoU2xhdGVTZWxlY3RvckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogc2VsZWN0b3JDb250ZXh0XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFNsYXRlQ29udGV4dC5Qcm92aWRlciwge1xuICAgIHZhbHVlOiBjb250ZXh0XG4gIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEVkaXRvckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29udGV4dC5lZGl0b3JcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoRm9jdXNlZENvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogaXNGb2N1c2VkXG4gIH0sIGNoaWxkcmVuKSkpKTtcbn07XG5cbi8qKlxyXG4gKiBHZXQgdGhlIGN1cnJlbnQgZWRpdG9yIG9iamVjdCBmcm9tIHRoZSBSZWFjdCBjb250ZXh0LlxyXG4gKiBAZGVwcmVjYXRlZCBVc2UgdXNlU2xhdGVTdGF0aWMgaW5zdGVhZC5cclxuICovXG5cbnZhciB1c2VFZGl0b3IgPSAoKSA9PiB7XG4gIHZhciBlZGl0b3IgPSB1c2VDb250ZXh0KEVkaXRvckNvbnRleHQpO1xuXG4gIGlmICghZWRpdG9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIGB1c2VFZGl0b3JgIGhvb2sgbXVzdCBiZSB1c2VkIGluc2lkZSB0aGUgPFNsYXRlPiBjb21wb25lbnQncyBjb250ZXh0LlwiKTtcbiAgfVxuXG4gIHJldHVybiBlZGl0b3I7XG59O1xuXG4vKipcclxuICogR2V0IHRoZSBjdXJyZW50IHNsYXRlIHNlbGVjdGlvbi5cclxuICogT25seSB0cmlnZ2VycyBhIHJlcmVuZGVyIHdoZW4gdGhlIHNlbGVjdGlvbiBhY3R1YWxseSBjaGFuZ2VzXHJcbiAqL1xuXG52YXIgdXNlU2xhdGVTZWxlY3Rpb24gPSAoKSA9PiB7XG4gIHJldHVybiB1c2VTbGF0ZVNlbGVjdG9yKGVkaXRvciA9PiBlZGl0b3Iuc2VsZWN0aW9uLCBpc1NlbGVjdGlvbkVxdWFsKTtcbn07XG5cbnZhciBpc1NlbGVjdGlvbkVxdWFsID0gKGEsIGIpID0+IHtcbiAgaWYgKCFhICYmICFiKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKCFhIHx8ICFiKSByZXR1cm4gZmFsc2U7XG4gIHJldHVybiBSYW5nZS5lcXVhbHMoYSwgYik7XG59O1xuXG4vKipcclxuICogVXRpbGl0aWVzIGZvciBzaW5nbGUtbGluZSBkZWxldGlvblxyXG4gKi9cblxudmFyIGRvUmVjdHNJbnRlcnNlY3QgPSAocmVjdCwgY29tcGFyZVJlY3QpID0+IHtcbiAgdmFyIG1pZGRsZSA9IChjb21wYXJlUmVjdC50b3AgKyBjb21wYXJlUmVjdC5ib3R0b20pIC8gMjtcbiAgcmV0dXJuIHJlY3QudG9wIDw9IG1pZGRsZSAmJiByZWN0LmJvdHRvbSA+PSBtaWRkbGU7XG59O1xuXG52YXIgYXJlUmFuZ2VzU2FtZUxpbmUgPSAoZWRpdG9yLCByYW5nZTEsIHJhbmdlMikgPT4ge1xuICB2YXIgcmVjdDEgPSBSZWFjdEVkaXRvci50b0RPTVJhbmdlKGVkaXRvciwgcmFuZ2UxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgdmFyIHJlY3QyID0gUmVhY3RFZGl0b3IudG9ET01SYW5nZShlZGl0b3IsIHJhbmdlMikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gIHJldHVybiBkb1JlY3RzSW50ZXJzZWN0KHJlY3QxLCByZWN0MikgJiYgZG9SZWN0c0ludGVyc2VjdChyZWN0MiwgcmVjdDEpO1xufTtcbi8qKlxyXG4gKiBBIGhlbHBlciB1dGlsaXR5IHRoYXQgcmV0dXJucyB0aGUgZW5kIHBvcnRpb24gb2YgYSBgUmFuZ2VgXHJcbiAqIHdoaWNoIGlzIGxvY2F0ZWQgb24gYSBzaW5nbGUgbGluZS5cclxuICpcclxuICogQHBhcmFtIHtFZGl0b3J9IGVkaXRvciBUaGUgZWRpdG9yIG9iamVjdCB0byBjb21wYXJlIGFnYWluc3RcclxuICogQHBhcmFtIHtSYW5nZX0gcGFyZW50UmFuZ2UgVGhlIHBhcmVudCByYW5nZSB0byBjb21wYXJlIGFnYWluc3RcclxuICogQHJldHVybnMge1JhbmdlfSBBIHZhbGlkIHBvcnRpb24gb2YgdGhlIHBhcmVudFJhbmdlIHdoaWNoIGlzIG9uZSBhIHNpbmdsZSBsaW5lXHJcbiAqL1xuXG5cbnZhciBmaW5kQ3VycmVudExpbmVSYW5nZSA9IChlZGl0b3IsIHBhcmVudFJhbmdlKSA9PiB7XG4gIHZhciBwYXJlbnRSYW5nZUJvdW5kYXJ5ID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgUmFuZ2UuZW5kKHBhcmVudFJhbmdlKSk7XG4gIHZhciBwb3NpdGlvbnMgPSBBcnJheS5mcm9tKEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCB7XG4gICAgYXQ6IHBhcmVudFJhbmdlXG4gIH0pKTtcbiAgdmFyIGxlZnQgPSAwO1xuICB2YXIgcmlnaHQgPSBwb3NpdGlvbnMubGVuZ3RoO1xuICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihyaWdodCAvIDIpO1xuXG4gIGlmIChhcmVSYW5nZXNTYW1lTGluZShlZGl0b3IsIEVkaXRvci5yYW5nZShlZGl0b3IsIHBvc2l0aW9uc1tsZWZ0XSksIHBhcmVudFJhbmdlQm91bmRhcnkpKSB7XG4gICAgcmV0dXJuIEVkaXRvci5yYW5nZShlZGl0b3IsIHBvc2l0aW9uc1tsZWZ0XSwgcGFyZW50UmFuZ2VCb3VuZGFyeSk7XG4gIH1cblxuICBpZiAocG9zaXRpb25zLmxlbmd0aCA8IDIpIHtcbiAgICByZXR1cm4gRWRpdG9yLnJhbmdlKGVkaXRvciwgcG9zaXRpb25zW3Bvc2l0aW9ucy5sZW5ndGggLSAxXSwgcGFyZW50UmFuZ2VCb3VuZGFyeSk7XG4gIH1cblxuICB3aGlsZSAobWlkZGxlICE9PSBwb3NpdGlvbnMubGVuZ3RoICYmIG1pZGRsZSAhPT0gbGVmdCkge1xuICAgIGlmIChhcmVSYW5nZXNTYW1lTGluZShlZGl0b3IsIEVkaXRvci5yYW5nZShlZGl0b3IsIHBvc2l0aW9uc1ttaWRkbGVdKSwgcGFyZW50UmFuZ2VCb3VuZGFyeSkpIHtcbiAgICAgIHJpZ2h0ID0gbWlkZGxlO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZWZ0ID0gbWlkZGxlO1xuICAgIH1cblxuICAgIG1pZGRsZSA9IE1hdGguZmxvb3IoKGxlZnQgKyByaWdodCkgLyAyKTtcbiAgfVxuXG4gIHJldHVybiBFZGl0b3IucmFuZ2UoZWRpdG9yLCBwb3NpdGlvbnNbcmlnaHRdLCBwYXJlbnRSYW5nZUJvdW5kYXJ5KTtcbn07XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbi8qKlxyXG4gKiBgd2l0aFJlYWN0YCBhZGRzIFJlYWN0IGFuZCBET00gc3BlY2lmaWMgYmVoYXZpb3JzIHRvIHRoZSBlZGl0b3IuXHJcbiAqXHJcbiAqIElmIHlvdSBhcmUgdXNpbmcgVHlwZVNjcmlwdCwgeW91IG11c3QgZXh0ZW5kIFNsYXRlJ3MgQ3VzdG9tVHlwZXMgdG8gdXNlXHJcbiAqIHRoaXMgcGx1Z2luLlxyXG4gKlxyXG4gKiBTZWUgaHR0cHM6Ly9kb2NzLnNsYXRlanMub3JnL2NvbmNlcHRzLzExLXR5cGVzY3JpcHQgdG8gbGVhcm4gaG93LlxyXG4gKi9cblxudmFyIHdpdGhSZWFjdCA9IGZ1bmN0aW9uIHdpdGhSZWFjdChlZGl0b3IpIHtcbiAgdmFyIGNsaXBib2FyZEZvcm1hdEtleSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogJ3gtc2xhdGUtZnJhZ21lbnQnO1xuICB2YXIgZSA9IGVkaXRvcjtcbiAgdmFyIHtcbiAgICBhcHBseSxcbiAgICBvbkNoYW5nZSxcbiAgICBkZWxldGVCYWNrd2FyZCxcbiAgICBhZGRNYXJrLFxuICAgIHJlbW92ZU1hcmtcbiAgfSA9IGU7IC8vIFRoZSBXZWFrTWFwIHdoaWNoIG1hcHMgYSBrZXkgdG8gYSBzcGVjaWZpYyBIVE1MRWxlbWVudCBtdXN0IGJlIHNjb3BlZCB0byB0aGUgZWRpdG9yIGluc3RhbmNlIHRvXG4gIC8vIGF2b2lkIGNvbGxpc2lvbnMgYmV0d2VlbiBlZGl0b3JzIGluIHRoZSBET00gdGhhdCBzaGFyZSB0aGUgc2FtZSB2YWx1ZS5cblxuICBFRElUT1JfVE9fS0VZX1RPX0VMRU1FTlQuc2V0KGUsIG5ldyBXZWFrTWFwKCkpO1xuXG4gIGUuYWRkTWFyayA9IChrZXksIHZhbHVlKSA9PiB7XG4gICAgdmFyIF9FRElUT1JfVE9fU0NIRURVTEVfRiwgX0VESVRPUl9UT19QRU5ESU5HX0RJO1xuXG4gICAgKF9FRElUT1JfVE9fU0NIRURVTEVfRiA9IEVESVRPUl9UT19TQ0hFRFVMRV9GTFVTSC5nZXQoZSkpID09PSBudWxsIHx8IF9FRElUT1JfVE9fU0NIRURVTEVfRiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0VESVRPUl9UT19TQ0hFRFVMRV9GKCk7XG5cbiAgICBpZiAoIUVESVRPUl9UT19QRU5ESU5HX0lOU0VSVElPTl9NQVJLUy5nZXQoZSkgJiYgKF9FRElUT1JfVE9fUEVORElOR19ESSA9IEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLmdldChlKSkgIT09IG51bGwgJiYgX0VESVRPUl9UT19QRU5ESU5HX0RJICE9PSB2b2lkIDAgJiYgX0VESVRPUl9UT19QRU5ESU5HX0RJLmxlbmd0aCkge1xuICAgICAgLy8gRW5zdXJlIHRoZSBjdXJyZW50IHBlbmRpbmcgZGlmZnMgb3JpZ2luYXRpbmcgZnJvbSBjaGFuZ2VzIGJlZm9yZSB0aGUgYWRkTWFya1xuICAgICAgLy8gYXJlIGFwcGxpZWQgd2l0aCB0aGUgY3VycmVudCBmb3JtYXR0aW5nXG4gICAgICBFRElUT1JfVE9fUEVORElOR19JTlNFUlRJT05fTUFSS1Muc2V0KGUsIG51bGwpO1xuICAgIH1cblxuICAgIEVESVRPUl9UT19VU0VSX01BUktTLmRlbGV0ZShlKTtcbiAgICBhZGRNYXJrKGtleSwgdmFsdWUpO1xuICB9O1xuXG4gIGUucmVtb3ZlTWFyayA9IGtleSA9PiB7XG4gICAgdmFyIF9FRElUT1JfVE9fUEVORElOR19ESTI7XG5cbiAgICBpZiAoIUVESVRPUl9UT19QRU5ESU5HX0lOU0VSVElPTl9NQVJLUy5nZXQoZSkgJiYgKF9FRElUT1JfVE9fUEVORElOR19ESTIgPSBFRElUT1JfVE9fUEVORElOR19ESUZGUy5nZXQoZSkpICE9PSBudWxsICYmIF9FRElUT1JfVE9fUEVORElOR19ESTIgIT09IHZvaWQgMCAmJiBfRURJVE9SX1RPX1BFTkRJTkdfREkyLmxlbmd0aCkge1xuICAgICAgLy8gRW5zdXJlIHRoZSBjdXJyZW50IHBlbmRpbmcgZGlmZnMgb3JpZ2luYXRpbmcgZnJvbSBjaGFuZ2VzIGJlZm9yZSB0aGUgYWRkTWFya1xuICAgICAgLy8gYXJlIGFwcGxpZWQgd2l0aCB0aGUgY3VycmVudCBmb3JtYXR0aW5nXG4gICAgICBFRElUT1JfVE9fUEVORElOR19JTlNFUlRJT05fTUFSS1Muc2V0KGUsIG51bGwpO1xuICAgIH1cblxuICAgIEVESVRPUl9UT19VU0VSX01BUktTLmRlbGV0ZShlKTtcbiAgICByZW1vdmVNYXJrKGtleSk7XG4gIH07XG5cbiAgZS5kZWxldGVCYWNrd2FyZCA9IHVuaXQgPT4ge1xuICAgIGlmICh1bml0ICE9PSAnbGluZScpIHtcbiAgICAgIHJldHVybiBkZWxldGVCYWNrd2FyZCh1bml0KTtcbiAgICB9XG5cbiAgICBpZiAoZS5zZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoZS5zZWxlY3Rpb24pKSB7XG4gICAgICB2YXIgcGFyZW50QmxvY2tFbnRyeSA9IEVkaXRvci5hYm92ZShlLCB7XG4gICAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQkMS5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZSwgbiksXG4gICAgICAgIGF0OiBlLnNlbGVjdGlvblxuICAgICAgfSk7XG5cbiAgICAgIGlmIChwYXJlbnRCbG9ja0VudHJ5KSB7XG4gICAgICAgIHZhciBbLCBwYXJlbnRCbG9ja1BhdGhdID0gcGFyZW50QmxvY2tFbnRyeTtcbiAgICAgICAgdmFyIHBhcmVudEVsZW1lbnRSYW5nZSA9IEVkaXRvci5yYW5nZShlLCBwYXJlbnRCbG9ja1BhdGgsIGUuc2VsZWN0aW9uLmFuY2hvcik7XG4gICAgICAgIHZhciBjdXJyZW50TGluZVJhbmdlID0gZmluZEN1cnJlbnRMaW5lUmFuZ2UoZSwgcGFyZW50RWxlbWVudFJhbmdlKTtcblxuICAgICAgICBpZiAoIVJhbmdlLmlzQ29sbGFwc2VkKGN1cnJlbnRMaW5lUmFuZ2UpKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZSwge1xuICAgICAgICAgICAgYXQ6IGN1cnJlbnRMaW5lUmFuZ2VcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTsgLy8gVGhpcyBhdHRlbXB0cyB0byByZXNldCB0aGUgTk9ERV9UT19LRVkgZW50cnkgdG8gdGhlIGNvcnJlY3QgdmFsdWVcbiAgLy8gYXMgYXBwbHkoKSBjaGFuZ2VzIHRoZSBvYmplY3QgcmVmZXJlbmNlIGFuZCBoZW5jZSBpbnZhbGlkYXRlcyB0aGUgTk9ERV9UT19LRVkgZW50cnlcblxuXG4gIGUuYXBwbHkgPSBvcCA9PiB7XG4gICAgdmFyIG1hdGNoZXMgPSBbXTtcbiAgICB2YXIgcGVuZGluZ0RpZmZzID0gRURJVE9SX1RPX1BFTkRJTkdfRElGRlMuZ2V0KGUpO1xuXG4gICAgaWYgKHBlbmRpbmdEaWZmcyAhPT0gbnVsbCAmJiBwZW5kaW5nRGlmZnMgIT09IHZvaWQgMCAmJiBwZW5kaW5nRGlmZnMubGVuZ3RoKSB7XG4gICAgICB2YXIgdHJhbnNmb3JtZWQgPSBwZW5kaW5nRGlmZnMubWFwKHRleHREaWZmID0+IHRyYW5zZm9ybVRleHREaWZmKHRleHREaWZmLCBvcCkpLmZpbHRlcihCb29sZWFuKTtcbiAgICAgIEVESVRPUl9UT19QRU5ESU5HX0RJRkZTLnNldChlLCB0cmFuc2Zvcm1lZCk7XG4gICAgfVxuXG4gICAgdmFyIHBlbmRpbmdTZWxlY3Rpb24gPSBFRElUT1JfVE9fUEVORElOR19TRUxFQ1RJT04uZ2V0KGUpO1xuXG4gICAgaWYgKHBlbmRpbmdTZWxlY3Rpb24pIHtcbiAgICAgIEVESVRPUl9UT19QRU5ESU5HX1NFTEVDVElPTi5zZXQoZSwgdHJhbnNmb3JtUGVuZGluZ1JhbmdlKGUsIHBlbmRpbmdTZWxlY3Rpb24sIG9wKSk7XG4gICAgfVxuXG4gICAgdmFyIHBlbmRpbmdBY3Rpb24gPSBFRElUT1JfVE9fUEVORElOR19BQ1RJT04uZ2V0KGUpO1xuXG4gICAgaWYgKHBlbmRpbmdBY3Rpb24gIT09IG51bGwgJiYgcGVuZGluZ0FjdGlvbiAhPT0gdm9pZCAwICYmIHBlbmRpbmdBY3Rpb24uYXQpIHtcbiAgICAgIHZhciBhdCA9IFBvaW50LmlzUG9pbnQocGVuZGluZ0FjdGlvbiA9PT0gbnVsbCB8fCBwZW5kaW5nQWN0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwZW5kaW5nQWN0aW9uLmF0KSA/IHRyYW5zZm9ybVBlbmRpbmdQb2ludChlLCBwZW5kaW5nQWN0aW9uLmF0LCBvcCkgOiB0cmFuc2Zvcm1QZW5kaW5nUmFuZ2UoZSwgcGVuZGluZ0FjdGlvbi5hdCwgb3ApO1xuICAgICAgRURJVE9SX1RPX1BFTkRJTkdfQUNUSU9OLnNldChlLCBhdCA/IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGVuZGluZ0FjdGlvbiksIHt9LCB7XG4gICAgICAgIGF0XG4gICAgICB9KSA6IG51bGwpO1xuICAgIH1cblxuICAgIHN3aXRjaCAob3AudHlwZSkge1xuICAgICAgY2FzZSAnaW5zZXJ0X3RleHQnOlxuICAgICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAgY2FzZSAnc2V0X25vZGUnOlxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goLi4uZ2V0TWF0Y2hlcyhlLCBvcC5wYXRoKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc2V0X3NlbGVjdGlvbic6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgX0VESVRPUl9UT19VU0VSX1NFTEVDO1xuXG4gICAgICAgICAgLy8gU2VsZWN0aW9uIHdhcyBtYW51YWxseSBzZXQsIGRvbid0IHJlc3RvcmUgdGhlIHVzZXIgc2VsZWN0aW9uIGFmdGVyIHRoZSBjaGFuZ2UuXG4gICAgICAgICAgKF9FRElUT1JfVE9fVVNFUl9TRUxFQyA9IEVESVRPUl9UT19VU0VSX1NFTEVDVElPTi5nZXQoZSkpID09PSBudWxsIHx8IF9FRElUT1JfVE9fVVNFUl9TRUxFQyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX0VESVRPUl9UT19VU0VSX1NFTEVDLnVucmVmKCk7XG4gICAgICAgICAgRURJVE9SX1RPX1VTRVJfU0VMRUNUSU9OLmRlbGV0ZShlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdpbnNlcnRfbm9kZSc6XG4gICAgICBjYXNlICdyZW1vdmVfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goLi4uZ2V0TWF0Y2hlcyhlLCBQYXRoLnBhcmVudChvcC5wYXRoKSkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHByZXZQYXRoID0gUGF0aC5wcmV2aW91cyhvcC5wYXRoKTtcbiAgICAgICAgICBtYXRjaGVzLnB1c2goLi4uZ2V0TWF0Y2hlcyhlLCBwcmV2UGF0aCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIgY29tbW9uUGF0aCA9IFBhdGguY29tbW9uKFBhdGgucGFyZW50KG9wLnBhdGgpLCBQYXRoLnBhcmVudChvcC5uZXdQYXRoKSk7XG4gICAgICAgICAgbWF0Y2hlcy5wdXNoKC4uLmdldE1hdGNoZXMoZSwgY29tbW9uUGF0aCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXBwbHkob3ApO1xuXG4gICAgZm9yICh2YXIgW3BhdGgsIGtleV0gb2YgbWF0Y2hlcykge1xuICAgICAgdmFyIFtub2RlXSA9IEVkaXRvci5ub2RlKGUsIHBhdGgpO1xuICAgICAgTk9ERV9UT19LRVkuc2V0KG5vZGUsIGtleSk7XG4gICAgfVxuICB9O1xuXG4gIGUuc2V0RnJhZ21lbnREYXRhID0gZGF0YSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIHNlbGVjdGlvblxuICAgIH0gPSBlO1xuXG4gICAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoc2VsZWN0aW9uKTtcbiAgICB2YXIgc3RhcnRWb2lkID0gRWRpdG9yLnZvaWQoZSwge1xuICAgICAgYXQ6IHN0YXJ0LnBhdGhcbiAgICB9KTtcbiAgICB2YXIgZW5kVm9pZCA9IEVkaXRvci52b2lkKGUsIHtcbiAgICAgIGF0OiBlbmQucGF0aFxuICAgIH0pO1xuXG4gICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikgJiYgIXN0YXJ0Vm9pZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gLy8gQ3JlYXRlIGEgZmFrZSBzZWxlY3Rpb24gc28gdGhhdCB3ZSBjYW4gYWRkIGEgQmFzZTY0LWVuY29kZWQgY29weSBvZiB0aGVcbiAgICAvLyBmcmFnbWVudCB0byB0aGUgSFRNTCwgdG8gZGVjb2RlIG9uIGZ1dHVyZSBwYXN0ZXMuXG5cblxuICAgIHZhciBkb21SYW5nZSA9IFJlYWN0RWRpdG9yLnRvRE9NUmFuZ2UoZSwgc2VsZWN0aW9uKTtcbiAgICB2YXIgY29udGVudHMgPSBkb21SYW5nZS5jbG9uZUNvbnRlbnRzKCk7XG4gICAgdmFyIGF0dGFjaCA9IGNvbnRlbnRzLmNoaWxkTm9kZXNbMF07IC8vIE1ha2Ugc3VyZSBhdHRhY2ggaXMgbm9uLWVtcHR5LCBzaW5jZSBlbXB0eSBub2RlcyB3aWxsIG5vdCBnZXQgY29waWVkLlxuXG4gICAgY29udGVudHMuY2hpbGROb2Rlcy5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgaWYgKG5vZGUudGV4dENvbnRlbnQgJiYgbm9kZS50ZXh0Q29udGVudC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgIGF0dGFjaCA9IG5vZGU7XG4gICAgICB9XG4gICAgfSk7IC8vIENPTVBBVDogSWYgdGhlIGVuZCBub2RlIGlzIGEgdm9pZCBub2RlLCB3ZSBuZWVkIHRvIG1vdmUgdGhlIGVuZCBvZiB0aGVcbiAgICAvLyByYW5nZSBmcm9tIHRoZSB2b2lkIG5vZGUncyBzcGFjZXIgc3BhbiwgdG8gdGhlIGVuZCBvZiB0aGUgdm9pZCBub2RlJ3NcbiAgICAvLyBjb250ZW50LCBzaW5jZSB0aGUgc3BhY2VyIGlzIGJlZm9yZSB2b2lkJ3MgY29udGVudCBpbiB0aGUgRE9NLlxuXG4gICAgaWYgKGVuZFZvaWQpIHtcbiAgICAgIHZhciBbdm9pZE5vZGVdID0gZW5kVm9pZDtcbiAgICAgIHZhciByID0gZG9tUmFuZ2UuY2xvbmVSYW5nZSgpO1xuICAgICAgdmFyIGRvbU5vZGUgPSBSZWFjdEVkaXRvci50b0RPTU5vZGUoZSwgdm9pZE5vZGUpO1xuICAgICAgci5zZXRFbmRBZnRlcihkb21Ob2RlKTtcbiAgICAgIGNvbnRlbnRzID0gci5jbG9uZUNvbnRlbnRzKCk7XG4gICAgfSAvLyBDT01QQVQ6IElmIHRoZSBzdGFydCBub2RlIGlzIGEgdm9pZCBub2RlLCB3ZSBuZWVkIHRvIGF0dGFjaCB0aGUgZW5jb2RlZFxuICAgIC8vIGZyYWdtZW50IHRvIHRoZSB2b2lkIG5vZGUncyBjb250ZW50IG5vZGUgaW5zdGVhZCBvZiB0aGUgc3BhY2VyLCBiZWNhdXNlXG4gICAgLy8gYXR0YWNoaW5nIGl0IHRvIGVtcHR5IGA8ZGl2Pi88c3Bhbj5gIG5vZGVzIHdpbGwgZW5kIHVwIGhhdmluZyBpdCBlcmFzZWQgYnlcbiAgICAvLyBtb3N0IGJyb3dzZXJzLiAoMjAxOC8wNC8yNylcblxuXG4gICAgaWYgKHN0YXJ0Vm9pZCkge1xuICAgICAgYXR0YWNoID0gY29udGVudHMucXVlcnlTZWxlY3RvcignW2RhdGEtc2xhdGUtc3BhY2VyXScpO1xuICAgIH0gLy8gUmVtb3ZlIGFueSB6ZXJvLXdpZHRoIHNwYWNlIHNwYW5zIGZyb20gdGhlIGNsb25lZCBET00gc28gdGhhdCB0aGV5IGRvbid0XG4gICAgLy8gc2hvdyB1cCBlbHNld2hlcmUgd2hlbiBwYXN0ZWQuXG5cblxuICAgIEFycmF5LmZyb20oY29udGVudHMucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtc2xhdGUtemVyby13aWR0aF0nKSkuZm9yRWFjaCh6dyA9PiB7XG4gICAgICB2YXIgaXNOZXdsaW5lID0gencuZ2V0QXR0cmlidXRlKCdkYXRhLXNsYXRlLXplcm8td2lkdGgnKSA9PT0gJ24nO1xuICAgICAgencudGV4dENvbnRlbnQgPSBpc05ld2xpbmUgPyAnXFxuJyA6ICcnO1xuICAgIH0pOyAvLyBTZXQgYSBgZGF0YS1zbGF0ZS1mcmFnbWVudGAgYXR0cmlidXRlIG9uIGEgbm9uLWVtcHR5IG5vZGUsIHNvIGl0IHNob3dzIHVwXG4gICAgLy8gaW4gdGhlIEhUTUwsIGFuZCBjYW4gYmUgdXNlZCBmb3IgaW50cmEtU2xhdGUgcGFzdGluZy4gSWYgaXQncyBhIHRleHRcbiAgICAvLyBub2RlLCB3cmFwIGl0IGluIGEgYDxzcGFuPmAgc28gd2UgaGF2ZSBzb21ldGhpbmcgdG8gc2V0IGFuIGF0dHJpYnV0ZSBvbi5cblxuICAgIGlmIChpc0RPTVRleHQoYXR0YWNoKSkge1xuICAgICAgdmFyIHNwYW4gPSBhdHRhY2gub3duZXJEb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7IC8vIENPTVBBVDogSW4gQ2hyb21lIGFuZCBTYWZhcmksIGlmIHdlIGRvbid0IGFkZCB0aGUgYHdoaXRlLXNwYWNlYCBzdHlsZVxuICAgICAgLy8gdGhlbiBsZWFkaW5nIGFuZCB0cmFpbGluZyBzcGFjZXMgd2lsbCBiZSBpZ25vcmVkLiAoMjAxNy8wOS8yMSlcblxuICAgICAgc3Bhbi5zdHlsZS53aGl0ZVNwYWNlID0gJ3ByZSc7XG4gICAgICBzcGFuLmFwcGVuZENoaWxkKGF0dGFjaCk7XG4gICAgICBjb250ZW50cy5hcHBlbmRDaGlsZChzcGFuKTtcbiAgICAgIGF0dGFjaCA9IHNwYW47XG4gICAgfVxuXG4gICAgdmFyIGZyYWdtZW50ID0gZS5nZXRGcmFnbWVudCgpO1xuICAgIHZhciBzdHJpbmcgPSBKU09OLnN0cmluZ2lmeShmcmFnbWVudCk7XG4gICAgdmFyIGVuY29kZWQgPSB3aW5kb3cuYnRvYShlbmNvZGVVUklDb21wb25lbnQoc3RyaW5nKSk7XG4gICAgYXR0YWNoLnNldEF0dHJpYnV0ZSgnZGF0YS1zbGF0ZS1mcmFnbWVudCcsIGVuY29kZWQpO1xuICAgIGRhdGEuc2V0RGF0YShcImFwcGxpY2F0aW9uL1wiLmNvbmNhdChjbGlwYm9hcmRGb3JtYXRLZXkpLCBlbmNvZGVkKTsgLy8gQWRkIHRoZSBjb250ZW50IHRvIGEgPGRpdj4gc28gdGhhdCB3ZSBjYW4gZ2V0IGl0cyBpbm5lciBIVE1MLlxuXG4gICAgdmFyIGRpdiA9IGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZGl2LmFwcGVuZENoaWxkKGNvbnRlbnRzKTtcbiAgICBkaXYuc2V0QXR0cmlidXRlKCdoaWRkZW4nLCAndHJ1ZScpO1xuICAgIGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChkaXYpO1xuICAgIGRhdGEuc2V0RGF0YSgndGV4dC9odG1sJywgZGl2LmlubmVySFRNTCk7XG4gICAgZGF0YS5zZXREYXRhKCd0ZXh0L3BsYWluJywgZ2V0UGxhaW5UZXh0KGRpdikpO1xuICAgIGNvbnRlbnRzLm93bmVyRG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChkaXYpO1xuICAgIHJldHVybiBkYXRhO1xuICB9O1xuXG4gIGUuaW5zZXJ0RGF0YSA9IGRhdGEgPT4ge1xuICAgIGlmICghZS5pbnNlcnRGcmFnbWVudERhdGEoZGF0YSkpIHtcbiAgICAgIGUuaW5zZXJ0VGV4dERhdGEoZGF0YSk7XG4gICAgfVxuICB9O1xuXG4gIGUuaW5zZXJ0RnJhZ21lbnREYXRhID0gZGF0YSA9PiB7XG4gICAgLyoqXHJcbiAgICAgKiBDaGVja2luZyBjb3BpZWQgZnJhZ21lbnQgZnJvbSBhcHBsaWNhdGlvbi94LXNsYXRlLWZyYWdtZW50IG9yIGRhdGEtc2xhdGUtZnJhZ21lbnRcclxuICAgICAqL1xuICAgIHZhciBmcmFnbWVudCA9IGRhdGEuZ2V0RGF0YShcImFwcGxpY2F0aW9uL1wiLmNvbmNhdChjbGlwYm9hcmRGb3JtYXRLZXkpKSB8fCBnZXRTbGF0ZUZyYWdtZW50QXR0cmlidXRlKGRhdGEpO1xuXG4gICAgaWYgKGZyYWdtZW50KSB7XG4gICAgICB2YXIgZGVjb2RlZCA9IGRlY29kZVVSSUNvbXBvbmVudCh3aW5kb3cuYXRvYihmcmFnbWVudCkpO1xuICAgICAgdmFyIHBhcnNlZCA9IEpTT04ucGFyc2UoZGVjb2RlZCk7XG4gICAgICBlLmluc2VydEZyYWdtZW50KHBhcnNlZCk7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZS5pbnNlcnRUZXh0RGF0YSA9IGRhdGEgPT4ge1xuICAgIHZhciB0ZXh0ID0gZGF0YS5nZXREYXRhKCd0ZXh0L3BsYWluJyk7XG5cbiAgICBpZiAodGV4dCkge1xuICAgICAgdmFyIGxpbmVzID0gdGV4dC5zcGxpdCgvXFxyXFxufFxccnxcXG4vKTtcbiAgICAgIHZhciBzcGxpdCA9IGZhbHNlO1xuXG4gICAgICBmb3IgKHZhciBsaW5lIG9mIGxpbmVzKSB7XG4gICAgICAgIGlmIChzcGxpdCkge1xuICAgICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlLCB7XG4gICAgICAgICAgICBhbHdheXM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGUuaW5zZXJ0VGV4dChsaW5lKTtcbiAgICAgICAgc3BsaXQgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgZS5vbkNoYW5nZSA9IG9wdGlvbnMgPT4ge1xuICAgIC8vIENPTVBBVDogUmVhY3QgPCAxOCBkb2Vzbid0IGJhdGNoIGBzZXRTdGF0ZWAgaG9vayBjYWxscywgd2hpY2ggbWVhbnNcbiAgICAvLyB0aGF0IHRoZSBjaGlsZHJlbiBhbmQgc2VsZWN0aW9uIGNhbiBnZXQgb3V0IG9mIHN5bmMgZm9yIG9uZSByZW5kZXJcbiAgICAvLyBwYXNzLiBTbyB3ZSBoYXZlIHRvIHVzZSB0aGlzIHVuc3RhYmxlIEFQSSB0byBlbnN1cmUgaXQgYmF0Y2hlcyB0aGVtLlxuICAgIC8vICgyMDE5LzEyLzAzKVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9mYWNlYm9vay9yZWFjdC9pc3N1ZXMvMTQyNTkjaXNzdWVjb21tZW50LTQzOTcwMjM2N1xuICAgIHZhciBtYXliZUJhdGNoVXBkYXRlcyA9IFJFQUNUX01BSk9SX1ZFUlNJT04gPCAxOCA/IFJlYWN0RE9NLnVuc3RhYmxlX2JhdGNoZWRVcGRhdGVzIDogY2FsbGJhY2sgPT4gY2FsbGJhY2soKTtcbiAgICBtYXliZUJhdGNoVXBkYXRlcygoKSA9PiB7XG4gICAgICB2YXIgb25Db250ZXh0Q2hhbmdlID0gRURJVE9SX1RPX09OX0NIQU5HRS5nZXQoZSk7XG5cbiAgICAgIGlmIChvbkNvbnRleHRDaGFuZ2UpIHtcbiAgICAgICAgb25Db250ZXh0Q2hhbmdlKCk7XG4gICAgICB9XG5cbiAgICAgIG9uQ2hhbmdlKG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBlO1xufTtcblxudmFyIGdldE1hdGNoZXMgPSAoZSwgcGF0aCkgPT4ge1xuICB2YXIgbWF0Y2hlcyA9IFtdO1xuXG4gIGZvciAodmFyIFtuLCBwXSBvZiBFZGl0b3IubGV2ZWxzKGUsIHtcbiAgICBhdDogcGF0aFxuICB9KSkge1xuICAgIHZhciBrZXkgPSBSZWFjdEVkaXRvci5maW5kS2V5KGUsIG4pO1xuICAgIG1hdGNoZXMucHVzaChbcCwga2V5XSk7XG4gIH1cblxuICByZXR1cm4gbWF0Y2hlcztcbn07XG5cbmV4cG9ydCB7IERlZmF1bHRFbGVtZW50LCBEZWZhdWx0TGVhZiwgRGVmYXVsdFBsYWNlaG9sZGVyLCBFZGl0YWJsZSwgUmVhY3RFZGl0b3IsIFNsYXRlLCB1c2VFZGl0b3IsIHVzZUZvY3VzZWQsIHVzZVJlYWRPbmx5LCB1c2VTZWxlY3RlZCwgdXNlU2xhdGUsIHVzZVNsYXRlU2VsZWN0aW9uLCB1c2VTbGF0ZVNlbGVjdG9yLCB1c2VTbGF0ZVN0YXRpYywgdXNlU2xhdGVXaXRoViwgd2l0aFJlYWN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5lcy5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/slate-react/dist/index.es.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/slate/dist/index.es.js":
/*!*********************************************!*\
  !*** ./node_modules/slate/dist/index.es.js ***!
  \*********************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Editor: function() { return /* binding */ Editor; },\n/* harmony export */   Element: function() { return /* binding */ Element; },\n/* harmony export */   Location: function() { return /* binding */ Location; },\n/* harmony export */   Node: function() { return /* binding */ Node; },\n/* harmony export */   Operation: function() { return /* binding */ Operation; },\n/* harmony export */   Path: function() { return /* binding */ Path; },\n/* harmony export */   PathRef: function() { return /* binding */ PathRef; },\n/* harmony export */   Point: function() { return /* binding */ Point; },\n/* harmony export */   PointRef: function() { return /* binding */ PointRef; },\n/* harmony export */   Range: function() { return /* binding */ Range; },\n/* harmony export */   RangeRef: function() { return /* binding */ RangeRef; },\n/* harmony export */   Scrubber: function() { return /* binding */ Scrubber; },\n/* harmony export */   Span: function() { return /* binding */ Span; },\n/* harmony export */   Text: function() { return /* binding */ Text; },\n/* harmony export */   Transforms: function() { return /* binding */ Transforms; },\n/* harmony export */   above: function() { return /* binding */ above; },\n/* harmony export */   addMark: function() { return /* binding */ addMark; },\n/* harmony export */   after: function() { return /* binding */ after; },\n/* harmony export */   apply: function() { return /* binding */ apply; },\n/* harmony export */   before: function() { return /* binding */ before; },\n/* harmony export */   collapse: function() { return /* binding */ collapse; },\n/* harmony export */   createEditor: function() { return /* binding */ createEditor; },\n/* harmony export */   deleteBackward: function() { return /* binding */ deleteBackward; },\n/* harmony export */   deleteForward: function() { return /* binding */ deleteForward; },\n/* harmony export */   deleteFragment: function() { return /* binding */ deleteFragment; },\n/* harmony export */   deleteText: function() { return /* binding */ deleteText; },\n/* harmony export */   deselect: function() { return /* binding */ deselect; },\n/* harmony export */   edges: function() { return /* binding */ edges; },\n/* harmony export */   elementReadOnly: function() { return /* binding */ elementReadOnly; },\n/* harmony export */   end: function() { return /* binding */ end; },\n/* harmony export */   first: function() { return /* binding */ first; },\n/* harmony export */   fragment: function() { return /* binding */ fragment; },\n/* harmony export */   getDirtyPaths: function() { return /* binding */ getDirtyPaths; },\n/* harmony export */   getFragment: function() { return /* binding */ getFragment; },\n/* harmony export */   getVoid: function() { return /* binding */ getVoid; },\n/* harmony export */   hasBlocks: function() { return /* binding */ hasBlocks; },\n/* harmony export */   hasInlines: function() { return /* binding */ hasInlines; },\n/* harmony export */   hasPath: function() { return /* binding */ hasPath; },\n/* harmony export */   hasTexts: function() { return /* binding */ hasTexts; },\n/* harmony export */   insertBreak: function() { return /* binding */ insertBreak; },\n/* harmony export */   insertFragment: function() { return /* binding */ insertFragment; },\n/* harmony export */   insertNode: function() { return /* binding */ insertNode; },\n/* harmony export */   insertNodes: function() { return /* binding */ insertNodes; },\n/* harmony export */   insertSoftBreak: function() { return /* binding */ insertSoftBreak; },\n/* harmony export */   insertText: function() { return /* binding */ insertText; },\n/* harmony export */   isBlock: function() { return /* binding */ isBlock; },\n/* harmony export */   isEdge: function() { return /* binding */ isEdge; },\n/* harmony export */   isEditor: function() { return /* binding */ isEditor; },\n/* harmony export */   isEmpty: function() { return /* binding */ isEmpty; },\n/* harmony export */   isEnd: function() { return /* binding */ isEnd; },\n/* harmony export */   isNormalizing: function() { return /* binding */ isNormalizing; },\n/* harmony export */   isStart: function() { return /* binding */ isStart; },\n/* harmony export */   last: function() { return /* binding */ last; },\n/* harmony export */   leaf: function() { return /* binding */ leaf; },\n/* harmony export */   levels: function() { return /* binding */ levels; },\n/* harmony export */   liftNodes: function() { return /* binding */ liftNodes; },\n/* harmony export */   marks: function() { return /* binding */ marks; },\n/* harmony export */   mergeNodes: function() { return /* binding */ mergeNodes; },\n/* harmony export */   move: function() { return /* binding */ move; },\n/* harmony export */   moveNodes: function() { return /* binding */ moveNodes; },\n/* harmony export */   next: function() { return /* binding */ next; },\n/* harmony export */   node: function() { return /* binding */ node; },\n/* harmony export */   nodes: function() { return /* binding */ nodes; },\n/* harmony export */   normalize: function() { return /* binding */ normalize; },\n/* harmony export */   normalizeNode: function() { return /* binding */ normalizeNode; },\n/* harmony export */   parent: function() { return /* binding */ parent; },\n/* harmony export */   path: function() { return /* binding */ path; },\n/* harmony export */   pathRef: function() { return /* binding */ pathRef; },\n/* harmony export */   pathRefs: function() { return /* binding */ pathRefs; },\n/* harmony export */   point: function() { return /* binding */ point; },\n/* harmony export */   pointRef: function() { return /* binding */ pointRef; },\n/* harmony export */   pointRefs: function() { return /* binding */ pointRefs; },\n/* harmony export */   positions: function() { return /* binding */ positions; },\n/* harmony export */   previous: function() { return /* binding */ previous; },\n/* harmony export */   range: function() { return /* binding */ range; },\n/* harmony export */   rangeRef: function() { return /* binding */ rangeRef; },\n/* harmony export */   rangeRefs: function() { return /* binding */ rangeRefs; },\n/* harmony export */   removeMark: function() { return /* binding */ removeMark; },\n/* harmony export */   removeNodes: function() { return /* binding */ removeNodes; },\n/* harmony export */   select: function() { return /* binding */ select; },\n/* harmony export */   setNodes: function() { return /* binding */ setNodes; },\n/* harmony export */   setNormalizing: function() { return /* binding */ setNormalizing; },\n/* harmony export */   setPoint: function() { return /* binding */ setPoint; },\n/* harmony export */   setSelection: function() { return /* binding */ setSelection; },\n/* harmony export */   shouldNormalize: function() { return /* binding */ shouldNormalize; },\n/* harmony export */   splitNodes: function() { return /* binding */ splitNodes; },\n/* harmony export */   start: function() { return /* binding */ start; },\n/* harmony export */   string: function() { return /* binding */ string; },\n/* harmony export */   unhangRange: function() { return /* binding */ unhangRange; },\n/* harmony export */   unsetNodes: function() { return /* binding */ unsetNodes; },\n/* harmony export */   unwrapNodes: function() { return /* binding */ unwrapNodes; },\n/* harmony export */   withoutNormalizing: function() { return /* binding */ withoutNormalizing; },\n/* harmony export */   wrapNodes: function() { return /* binding */ wrapNodes; }\n/* harmony export */ });\n/* harmony import */ var is_plain_object__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! is-plain-object */ \"(app-pages-browser)/./node_modules/is-plain-object/dist/is-plain-object.mjs\");\n/* harmony import */ var immer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! immer */ \"(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs\");\n\n\n\nvar PathRef = {\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Path.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nvar PointRef = {\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var point = Point.transform(current, op, {\n      affinity\n    });\n    ref.current = point;\n\n    if (point == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nvar RangeRef = {\n  transform(ref, op) {\n    var {\n      current,\n      affinity\n    } = ref;\n\n    if (current == null) {\n      return;\n    }\n\n    var path = Range.transform(current, op, {\n      affinity\n    });\n    ref.current = path;\n\n    if (path == null) {\n      ref.unref();\n    }\n  }\n\n};\n\nvar DIRTY_PATHS = new WeakMap();\nvar DIRTY_PATH_KEYS = new WeakMap();\nvar FLUSHING = new WeakMap();\nvar NORMALIZING = new WeakMap();\nvar PATH_REFS = new WeakMap();\nvar POINT_REFS = new WeakMap();\nvar RANGE_REFS = new WeakMap();\n\n// eslint-disable-next-line no-redeclare\nvar Path = {\n  ancestors(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var paths = Path.levels(path, options);\n\n    if (reverse) {\n      paths = paths.slice(1);\n    } else {\n      paths = paths.slice(0, -1);\n    }\n\n    return paths;\n  },\n\n  common(path, another) {\n    var common = [];\n\n    for (var i = 0; i < path.length && i < another.length; i++) {\n      var av = path[i];\n      var bv = another[i];\n\n      if (av !== bv) {\n        break;\n      }\n\n      common.push(av);\n    }\n\n    return common;\n  },\n\n  compare(path, another) {\n    var min = Math.min(path.length, another.length);\n\n    for (var i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1;\n      if (path[i] > another[i]) return 1;\n    }\n\n    return 0;\n  },\n\n  endsAfter(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av > bv;\n  },\n\n  endsAt(path, another) {\n    var i = path.length;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    return Path.equals(as, bs);\n  },\n\n  endsBefore(path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av < bv;\n  },\n\n  equals(path, another) {\n    return path.length === another.length && path.every((n, i) => n === another[i]);\n  },\n\n  hasPrevious(path) {\n    return path[path.length - 1] > 0;\n  },\n\n  isAfter(path, another) {\n    return Path.compare(path, another) === 1;\n  },\n\n  isAncestor(path, another) {\n    return path.length < another.length && Path.compare(path, another) === 0;\n  },\n\n  isBefore(path, another) {\n    return Path.compare(path, another) === -1;\n  },\n\n  isChild(path, another) {\n    return path.length === another.length + 1 && Path.compare(path, another) === 0;\n  },\n\n  isCommon(path, another) {\n    return path.length <= another.length && Path.compare(path, another) === 0;\n  },\n\n  isDescendant(path, another) {\n    return path.length > another.length && Path.compare(path, another) === 0;\n  },\n\n  isParent(path, another) {\n    return path.length + 1 === another.length && Path.compare(path, another) === 0;\n  },\n\n  isPath(value) {\n    return Array.isArray(value) && (value.length === 0 || typeof value[0] === 'number');\n  },\n\n  isSibling(path, another) {\n    if (path.length !== another.length) {\n      return false;\n    }\n\n    var as = path.slice(0, -1);\n    var bs = another.slice(0, -1);\n    var al = path[path.length - 1];\n    var bl = another[another.length - 1];\n    return al !== bl && Path.equals(as, bs);\n  },\n\n  levels(path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var list = [];\n\n    for (var i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i));\n    }\n\n    if (reverse) {\n      list.reverse();\n    }\n\n    return list;\n  },\n\n  next(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the next path of a root path [\".concat(path, \"], because it has no next index.\"));\n    }\n\n    var last = path[path.length - 1];\n    return path.slice(0, -1).concat(last + 1);\n  },\n\n  operationCanTransformPath(operation) {\n    switch (operation.type) {\n      case 'insert_node':\n      case 'remove_node':\n      case 'merge_node':\n      case 'split_node':\n      case 'move_node':\n        return true;\n\n      default:\n        return false;\n    }\n  },\n\n  parent(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the parent path of the root path [\".concat(path, \"].\"));\n    }\n\n    return path.slice(0, -1);\n  },\n\n  previous(path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the previous path of a root path [\".concat(path, \"], because it has no previous index.\"));\n    }\n\n    var last = path[path.length - 1];\n\n    if (last <= 0) {\n      throw new Error(\"Cannot get the previous path of a first child path [\".concat(path, \"] because it would result in a negative index.\"));\n    }\n\n    return path.slice(0, -1).concat(last - 1);\n  },\n\n  relative(path, ancestor) {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\"Cannot get the relative path of [\".concat(path, \"] inside ancestor [\").concat(ancestor, \"], because it is not above or equal to the path.\"));\n    }\n\n    return path.slice(ancestor.length);\n  },\n\n  transform(path, operation) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    if (!path) return null; // PERF: use destructing instead of immer\n\n    var p = [...path];\n    var {\n      affinity = 'forward'\n    } = options; // PERF: Exit early if the operation is guaranteed not to have an effect.\n\n    if (path.length === 0) {\n      return p;\n    }\n\n    switch (operation.type) {\n      case 'insert_node':\n        {\n          var {\n            path: op\n          } = operation;\n\n          if (Path.equals(op, p) || Path.endsBefore(op, p) || Path.isAncestor(op, p)) {\n            p[op.length - 1] += 1;\n          }\n\n          break;\n        }\n\n      case 'remove_node':\n        {\n          var {\n            path: _op\n          } = operation;\n\n          if (Path.equals(_op, p) || Path.isAncestor(_op, p)) {\n            return null;\n          } else if (Path.endsBefore(_op, p)) {\n            p[_op.length - 1] -= 1;\n          }\n\n          break;\n        }\n\n      case 'merge_node':\n        {\n          var {\n            path: _op2,\n            position\n          } = operation;\n\n          if (Path.equals(_op2, p) || Path.endsBefore(_op2, p)) {\n            p[_op2.length - 1] -= 1;\n          } else if (Path.isAncestor(_op2, p)) {\n            p[_op2.length - 1] -= 1;\n            p[_op2.length] += position;\n          }\n\n          break;\n        }\n\n      case 'split_node':\n        {\n          var {\n            path: _op3,\n            position: _position\n          } = operation;\n\n          if (Path.equals(_op3, p)) {\n            if (affinity === 'forward') {\n              p[p.length - 1] += 1;\n            } else if (affinity === 'backward') ; else {\n              return null;\n            }\n          } else if (Path.endsBefore(_op3, p)) {\n            p[_op3.length - 1] += 1;\n          } else if (Path.isAncestor(_op3, p) && path[_op3.length] >= _position) {\n            p[_op3.length - 1] += 1;\n            p[_op3.length] -= _position;\n          }\n\n          break;\n        }\n\n      case 'move_node':\n        {\n          var {\n            path: _op4,\n            newPath: onp\n          } = operation; // If the old and new path are the same, it's a no-op.\n\n          if (Path.equals(_op4, onp)) {\n            return p;\n          }\n\n          if (Path.isAncestor(_op4, p) || Path.equals(_op4, p)) {\n            var copy = onp.slice();\n\n            if (Path.endsBefore(_op4, onp) && _op4.length < onp.length) {\n              copy[_op4.length - 1] -= 1;\n            }\n\n            return copy.concat(p.slice(_op4.length));\n          } else if (Path.isSibling(_op4, onp) && (Path.isAncestor(onp, p) || Path.equals(onp, p))) {\n            if (Path.endsBefore(_op4, p)) {\n              p[_op4.length - 1] -= 1;\n            } else {\n              p[_op4.length - 1] += 1;\n            }\n          } else if (Path.endsBefore(onp, p) || Path.equals(onp, p) || Path.isAncestor(onp, p)) {\n            if (Path.endsBefore(_op4, p)) {\n              p[_op4.length - 1] -= 1;\n            }\n\n            p[onp.length - 1] += 1;\n          } else if (Path.endsBefore(_op4, p)) {\n            if (Path.equals(onp, p)) {\n              p[onp.length - 1] += 1;\n            }\n\n            p[_op4.length - 1] -= 1;\n          }\n\n          break;\n        }\n    }\n\n    return p;\n  }\n\n};\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys$e(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$e(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$e(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$e(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar applyToDraft = (editor, selection, op) => {\n  switch (op.type) {\n    case 'insert_node':\n      {\n        var {\n          path,\n          node\n        } = op;\n        var parent = Node.parent(editor, path);\n        var index = path[path.length - 1];\n\n        if (index > parent.children.length) {\n          throw new Error(\"Cannot apply an \\\"insert_node\\\" operation at path [\".concat(path, \"] because the destination is past the end of the node.\"));\n        }\n\n        parent.children.splice(index, 0, node);\n\n        if (selection) {\n          for (var [point, key] of Range.points(selection)) {\n            selection[key] = Point.transform(point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'insert_text':\n      {\n        var {\n          path: _path,\n          offset,\n          text\n        } = op;\n        if (text.length === 0) break;\n\n        var _node = Node.leaf(editor, _path);\n\n        var before = _node.text.slice(0, offset);\n\n        var after = _node.text.slice(offset);\n\n        _node.text = before + text + after;\n\n        if (selection) {\n          for (var [_point, _key] of Range.points(selection)) {\n            selection[_key] = Point.transform(_point, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path2\n        } = op;\n\n        var _node2 = Node.get(editor, _path2);\n\n        var prevPath = Path.previous(_path2);\n        var prev = Node.get(editor, prevPath);\n\n        var _parent = Node.parent(editor, _path2);\n\n        var _index = _path2[_path2.length - 1];\n\n        if (Text.isText(_node2) && Text.isText(prev)) {\n          prev.text += _node2.text;\n        } else if (!Text.isText(_node2) && !Text.isText(prev)) {\n          prev.children.push(..._node2.children);\n        } else {\n          throw new Error(\"Cannot apply a \\\"merge_node\\\" operation at path [\".concat(_path2, \"] to nodes of different interfaces: \").concat(Scrubber.stringify(_node2), \" \").concat(Scrubber.stringify(prev)));\n        }\n\n        _parent.children.splice(_index, 1);\n\n        if (selection) {\n          for (var [_point2, _key2] of Range.points(selection)) {\n            selection[_key2] = Point.transform(_point2, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path3,\n          newPath\n        } = op;\n\n        if (Path.isAncestor(_path3, newPath)) {\n          throw new Error(\"Cannot move a path [\".concat(_path3, \"] to new path [\").concat(newPath, \"] because the destination is inside itself.\"));\n        }\n\n        var _node3 = Node.get(editor, _path3);\n\n        var _parent2 = Node.parent(editor, _path3);\n\n        var _index2 = _path3[_path3.length - 1]; // This is tricky, but since the `path` and `newPath` both refer to\n        // the same snapshot in time, there's a mismatch. After either\n        // removing the original position, the second step's path can be out\n        // of date. So instead of using the `op.newPath` directly, we\n        // transform `op.path` to ascertain what the `newPath` would be after\n        // the operation was applied.\n\n        _parent2.children.splice(_index2, 1);\n\n        var truePath = Path.transform(_path3, op);\n        var newParent = Node.get(editor, Path.parent(truePath));\n        var newIndex = truePath[truePath.length - 1];\n        newParent.children.splice(newIndex, 0, _node3);\n\n        if (selection) {\n          for (var [_point3, _key3] of Range.points(selection)) {\n            selection[_key3] = Point.transform(_point3, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path4\n        } = op;\n        var _index3 = _path4[_path4.length - 1];\n\n        var _parent3 = Node.parent(editor, _path4);\n\n        _parent3.children.splice(_index3, 1); // Transform all of the points in the value, but if the point was in the\n        // node that was removed we need to update the range or remove it.\n\n\n        if (selection) {\n          for (var [_point4, _key4] of Range.points(selection)) {\n            var result = Point.transform(_point4, op);\n\n            if (selection != null && result != null) {\n              selection[_key4] = result;\n            } else {\n              var _prev = void 0;\n\n              var next = void 0;\n\n              for (var [n, p] of Node.texts(editor)) {\n                if (Path.compare(p, _path4) === -1) {\n                  _prev = [n, p];\n                } else {\n                  next = [n, p];\n                  break;\n                }\n              }\n\n              var preferNext = false;\n\n              if (_prev && next) {\n                if (Path.equals(next[1], _path4)) {\n                  preferNext = !Path.hasPrevious(next[1]);\n                } else {\n                  preferNext = Path.common(_prev[1], _path4).length < Path.common(next[1], _path4).length;\n                }\n              }\n\n              if (_prev && !preferNext) {\n                _point4.path = _prev[1];\n                _point4.offset = _prev[0].text.length;\n              } else if (next) {\n                _point4.path = next[1];\n                _point4.offset = 0;\n              } else {\n                selection = null;\n              }\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'remove_text':\n      {\n        var {\n          path: _path5,\n          offset: _offset,\n          text: _text\n        } = op;\n        if (_text.length === 0) break;\n\n        var _node4 = Node.leaf(editor, _path5);\n\n        var _before = _node4.text.slice(0, _offset);\n\n        var _after = _node4.text.slice(_offset + _text.length);\n\n        _node4.text = _before + _after;\n\n        if (selection) {\n          for (var [_point5, _key5] of Range.points(selection)) {\n            selection[_key5] = Point.transform(_point5, op);\n          }\n        }\n\n        break;\n      }\n\n    case 'set_node':\n      {\n        var {\n          path: _path6,\n          properties,\n          newProperties\n        } = op;\n\n        if (_path6.length === 0) {\n          throw new Error(\"Cannot set properties on the root node!\");\n        }\n\n        var _node5 = Node.get(editor, _path6);\n\n        for (var _key6 in newProperties) {\n          if (_key6 === 'children' || _key6 === 'text') {\n            throw new Error(\"Cannot set the \\\"\".concat(_key6, \"\\\" property of nodes!\"));\n          }\n\n          var value = newProperties[_key6];\n\n          if (value == null) {\n            delete _node5[_key6];\n          } else {\n            _node5[_key6] = value;\n          }\n        } // properties that were previously defined, but are now missing, must be deleted\n\n\n        for (var _key7 in properties) {\n          if (!newProperties.hasOwnProperty(_key7)) {\n            delete _node5[_key7];\n          }\n        }\n\n        break;\n      }\n\n    case 'set_selection':\n      {\n        var {\n          newProperties: _newProperties\n        } = op;\n\n        if (_newProperties == null) {\n          selection = _newProperties;\n        } else {\n          if (selection == null) {\n            if (!Range.isRange(_newProperties)) {\n              throw new Error(\"Cannot apply an incomplete \\\"set_selection\\\" operation properties \".concat(Scrubber.stringify(_newProperties), \" when there is no current selection.\"));\n            }\n\n            selection = _objectSpread$e({}, _newProperties);\n          }\n\n          for (var _key8 in _newProperties) {\n            var _value = _newProperties[_key8];\n\n            if (_value == null) {\n              if (_key8 === 'anchor' || _key8 === 'focus') {\n                throw new Error(\"Cannot remove the \\\"\".concat(_key8, \"\\\" selection property\"));\n              }\n\n              delete selection[_key8];\n            } else {\n              selection[_key8] = _value;\n            }\n          }\n        }\n\n        break;\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path7,\n          position,\n          properties: _properties\n        } = op;\n\n        if (_path7.length === 0) {\n          throw new Error(\"Cannot apply a \\\"split_node\\\" operation at path [\".concat(_path7, \"] because the root node cannot be split.\"));\n        }\n\n        var _node6 = Node.get(editor, _path7);\n\n        var _parent4 = Node.parent(editor, _path7);\n\n        var _index4 = _path7[_path7.length - 1];\n        var newNode;\n\n        if (Text.isText(_node6)) {\n          var _before2 = _node6.text.slice(0, position);\n\n          var _after2 = _node6.text.slice(position);\n\n          _node6.text = _before2;\n          newNode = _objectSpread$e(_objectSpread$e({}, _properties), {}, {\n            text: _after2\n          });\n        } else {\n          var _before3 = _node6.children.slice(0, position);\n\n          var _after3 = _node6.children.slice(position);\n\n          _node6.children = _before3;\n          newNode = _objectSpread$e(_objectSpread$e({}, _properties), {}, {\n            children: _after3\n          });\n        }\n\n        _parent4.children.splice(_index4 + 1, 0, newNode);\n\n        if (selection) {\n          for (var [_point6, _key9] of Range.points(selection)) {\n            selection[_key9] = Point.transform(_point6, op);\n          }\n        }\n\n        break;\n      }\n  }\n\n  return selection;\n}; // eslint-disable-next-line no-redeclare\n\n\nvar GeneralTransforms = {\n  transform(editor, op) {\n    editor.children = (0,immer__WEBPACK_IMPORTED_MODULE_1__.createDraft)(editor.children);\n    var selection = editor.selection && (0,immer__WEBPACK_IMPORTED_MODULE_1__.createDraft)(editor.selection);\n\n    try {\n      selection = applyToDraft(editor, selection, op);\n    } finally {\n      editor.children = (0,immer__WEBPACK_IMPORTED_MODULE_1__.finishDraft)(editor.children);\n\n      if (selection) {\n        editor.selection = (0,immer__WEBPACK_IMPORTED_MODULE_1__.isDraft)(selection) ? (0,immer__WEBPACK_IMPORTED_MODULE_1__.finishDraft)(selection) : selection;\n      } else {\n        editor.selection = null;\n      }\n    }\n  }\n\n};\n\n// eslint-disable-next-line no-redeclare\nvar NodeTransforms = {\n  insertNodes(editor, nodes, options) {\n    editor.insertNodes(nodes, options);\n  },\n\n  liftNodes(editor, options) {\n    editor.liftNodes(options);\n  },\n\n  mergeNodes(editor, options) {\n    editor.mergeNodes(options);\n  },\n\n  moveNodes(editor, options) {\n    editor.moveNodes(options);\n  },\n\n  removeNodes(editor, options) {\n    editor.removeNodes(options);\n  },\n\n  setNodes(editor, props, options) {\n    editor.setNodes(props, options);\n  },\n\n  splitNodes(editor, options) {\n    editor.splitNodes(options);\n  },\n\n  unsetNodes(editor, props, options) {\n    editor.unsetNodes(props, options);\n  },\n\n  unwrapNodes(editor, options) {\n    editor.unwrapNodes(options);\n  },\n\n  wrapNodes(editor, element, options) {\n    editor.wrapNodes(element, options);\n  }\n\n};\n\n// eslint-disable-next-line no-redeclare\nvar SelectionTransforms = {\n  collapse(editor, options) {\n    editor.collapse(options);\n  },\n\n  deselect(editor) {\n    editor.deselect();\n  },\n\n  move(editor, options) {\n    editor.move(options);\n  },\n\n  select(editor, target) {\n    editor.select(target);\n  },\n\n  setPoint(editor, props, options) {\n    editor.setPoint(props, options);\n  },\n\n  setSelection(editor, props) {\n    editor.setSelection(props);\n  }\n\n};\n\n/*\r\n  Custom deep equal comparison for Slate nodes.\r\n\n  We don't need general purpose deep equality;\r\n  Slate only supports plain values, Arrays, and nested objects.\r\n  Complex values nested inside Arrays are not supported.\r\n\n  Slate objects are designed to be serialised, so\r\n  missing keys are deliberately normalised to undefined.\r\n */\n\nvar isDeepEqual = (node, another) => {\n  for (var key in node) {\n    var a = node[key];\n    var b = another[key];\n\n    if ((0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(a) && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(b)) {\n      if (!isDeepEqual(a, b)) return false;\n    } else if (Array.isArray(a) && Array.isArray(b)) {\n      if (a.length !== b.length) return false;\n\n      for (var i = 0; i < a.length; i++) {\n        if (a[i] !== b[i]) return false;\n      }\n    } else if (a !== b) {\n      return false;\n    }\n  }\n  /*\r\n    Deep object equality is only necessary in one direction; in the reverse direction\r\n    we are only looking for keys that are missing.\r\n    As above, undefined keys are normalised to missing.\r\n  */\n\n\n  for (var _key in another) {\n    if (node[_key] === undefined && another[_key] !== undefined) {\n      return false;\n    }\n  }\n\n  return true;\n};\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar _excluded$4 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$d(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$d(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$d(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$d(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Range = {\n  edges(range) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      reverse = false\n    } = options;\n    var {\n      anchor,\n      focus\n    } = range;\n    return Range.isBackward(range) === reverse ? [anchor, focus] : [focus, anchor];\n  },\n\n  end(range) {\n    var [, end] = Range.edges(range);\n    return end;\n  },\n\n  equals(range, another) {\n    return Point.equals(range.anchor, another.anchor) && Point.equals(range.focus, another.focus);\n  },\n\n  includes(range, target) {\n    if (Range.isRange(target)) {\n      if (Range.includes(range, target.anchor) || Range.includes(range, target.focus)) {\n        return true;\n      }\n\n      var [rs, re] = Range.edges(range);\n      var [ts, te] = Range.edges(target);\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te);\n    }\n\n    var [start, end] = Range.edges(range);\n    var isAfterStart = false;\n    var isBeforeEnd = false;\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0;\n      isBeforeEnd = Point.compare(target, end) <= 0;\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0;\n      isBeforeEnd = Path.compare(target, end.path) <= 0;\n    }\n\n    return isAfterStart && isBeforeEnd;\n  },\n\n  intersection(range, another) {\n    var rest = _objectWithoutProperties(range, _excluded$4);\n\n    var [s1, e1] = Range.edges(range);\n    var [s2, e2] = Range.edges(another);\n    var start = Point.isBefore(s1, s2) ? s2 : s1;\n    var end = Point.isBefore(e1, e2) ? e1 : e2;\n\n    if (Point.isBefore(end, start)) {\n      return null;\n    } else {\n      return _objectSpread$d({\n        anchor: start,\n        focus: end\n      }, rest);\n    }\n  },\n\n  isBackward(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.isAfter(anchor, focus);\n  },\n\n  isCollapsed(range) {\n    var {\n      anchor,\n      focus\n    } = range;\n    return Point.equals(anchor, focus);\n  },\n\n  isExpanded(range) {\n    return !Range.isCollapsed(range);\n  },\n\n  isForward(range) {\n    return !Range.isBackward(range);\n  },\n\n  isRange(value) {\n    return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && Point.isPoint(value.anchor) && Point.isPoint(value.focus);\n  },\n\n  *points(range) {\n    yield [range.anchor, 'anchor'];\n    yield [range.focus, 'focus'];\n  },\n\n  start(range) {\n    var [start] = Range.edges(range);\n    return start;\n  },\n\n  transform(range, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return (0,immer__WEBPACK_IMPORTED_MODULE_1__.produce)(range, r => {\n      if (r === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'inward'\n      } = options;\n      var affinityAnchor;\n      var affinityFocus;\n\n      if (affinity === 'inward') {\n        // If the range is collapsed, make sure to use the same affinity to\n        // avoid the two points passing each other and expanding in the opposite\n        // direction\n        var isCollapsed = Range.isCollapsed(r);\n\n        if (Range.isForward(r)) {\n          affinityAnchor = 'forward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'backward';\n        } else {\n          affinityAnchor = 'backward';\n          affinityFocus = isCollapsed ? affinityAnchor : 'forward';\n        }\n      } else if (affinity === 'outward') {\n        if (Range.isForward(r)) {\n          affinityAnchor = 'backward';\n          affinityFocus = 'forward';\n        } else {\n          affinityAnchor = 'forward';\n          affinityFocus = 'backward';\n        }\n      } else {\n        affinityAnchor = affinity;\n        affinityFocus = affinity;\n      }\n\n      var anchor = Point.transform(r.anchor, op, {\n        affinity: affinityAnchor\n      });\n      var focus = Point.transform(r.focus, op, {\n        affinity: affinityFocus\n      });\n\n      if (!anchor || !focus) {\n        return null;\n      }\n\n      r.anchor = anchor;\n      r.focus = focus;\n    });\n  }\n\n};\n\n/**\r\n * Shared the function with isElementType utility\r\n */\n\nvar isElement = value => {\n  return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && Node.isNodeList(value.children) && !Editor.isEditor(value);\n}; // eslint-disable-next-line no-redeclare\n\n\nvar Element = {\n  isAncestor(value) {\n    return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && Node.isNodeList(value.children);\n  },\n\n  isElement,\n\n  isElementList(value) {\n    return Array.isArray(value) && value.every(val => Element.isElement(val));\n  },\n\n  isElementProps(props) {\n    return props.children !== undefined;\n  },\n\n  isElementType: function isElementType(value, elementVal) {\n    var elementKey = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'type';\n    return isElement(value) && value[elementKey] === elementVal;\n  },\n\n  matches(element, props) {\n    for (var key in props) {\n      if (key === 'children') {\n        continue;\n      }\n\n      if (element[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  }\n\n};\n\nvar _excluded$3 = [\"children\"],\n    _excluded2$3 = [\"text\"];\nvar IS_NODE_LIST_CACHE = new WeakMap(); // eslint-disable-next-line no-redeclare\n\nvar Node = {\n  ancestor(root, path) {\n    var node = Node.get(root, path);\n\n    if (Text.isText(node)) {\n      throw new Error(\"Cannot get the ancestor node at path [\".concat(path, \"] because it refers to a text node instead: \").concat(Scrubber.stringify(node)));\n    }\n\n    return node;\n  },\n\n  *ancestors(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.ancestors(path, options)) {\n      var n = Node.ancestor(root, p);\n      var entry = [n, p];\n      yield entry;\n    }\n  },\n\n  child(root, index) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get the child of a text node: \".concat(Scrubber.stringify(root)));\n    }\n\n    var c = root.children[index];\n\n    if (c == null) {\n      throw new Error(\"Cannot get child at index `\".concat(index, \"` in node: \").concat(Scrubber.stringify(root)));\n    }\n\n    return c;\n  },\n\n  *children(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      reverse = false\n    } = options;\n    var ancestor = Node.ancestor(root, path);\n    var {\n      children\n    } = ancestor;\n    var index = reverse ? children.length - 1 : 0;\n\n    while (reverse ? index >= 0 : index < children.length) {\n      var child = Node.child(ancestor, index);\n      var childPath = path.concat(index);\n      yield [child, childPath];\n      index = reverse ? index - 1 : index + 1;\n    }\n  },\n\n  common(root, path, another) {\n    var p = Path.common(path, another);\n    var n = Node.get(root, p);\n    return [n, p];\n  },\n\n  descendant(root, path) {\n    var node = Node.get(root, path);\n\n    if (Editor.isEditor(node)) {\n      throw new Error(\"Cannot get the descendant node at path [\".concat(path, \"] because it refers to the root editor node instead: \").concat(Scrubber.stringify(node)));\n    }\n\n    return node;\n  },\n\n  *descendants(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (path.length !== 0) {\n        // NOTE: we have to coerce here because checking the path's length does\n        // guarantee that `node` is not a `Editor`, but TypeScript doesn't know.\n        yield [node, path];\n      }\n    }\n  },\n\n  *elements(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Element.isElement(node)) {\n        yield [node, path];\n      }\n    }\n  },\n\n  extractProps(node) {\n    if (Element.isAncestor(node)) {\n      var properties = _objectWithoutProperties(node, _excluded$3);\n\n      return properties;\n    } else {\n      var properties = _objectWithoutProperties(node, _excluded2$3);\n\n      return properties;\n    }\n  },\n\n  first(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        n = n.children[0];\n        p.push(0);\n      }\n    }\n\n    return [n, p];\n  },\n\n  fragment(root, range) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get a fragment starting from a root text node: \".concat(Scrubber.stringify(root)));\n    }\n\n    var newRoot = (0,immer__WEBPACK_IMPORTED_MODULE_1__.produce)({\n      children: root.children\n    }, r => {\n      var [start, end] = Range.edges(range);\n      var nodeEntries = Node.nodes(r, {\n        reverse: true,\n        pass: _ref => {\n          var [, path] = _ref;\n          return !Range.includes(range, path);\n        }\n      });\n\n      for (var [, path] of nodeEntries) {\n        if (!Range.includes(range, path)) {\n          var parent = Node.parent(r, path);\n          var index = path[path.length - 1];\n          parent.children.splice(index, 1);\n        }\n\n        if (Path.equals(path, end.path)) {\n          var leaf = Node.leaf(r, path);\n          leaf.text = leaf.text.slice(0, end.offset);\n        }\n\n        if (Path.equals(path, start.path)) {\n          var _leaf = Node.leaf(r, path);\n\n          _leaf.text = _leaf.text.slice(start.offset);\n        }\n      }\n\n      if (Editor.isEditor(r)) {\n        r.selection = null;\n      }\n    });\n    return newRoot.children;\n  },\n\n  get(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\"Cannot find a descendant at path [\".concat(path, \"] in node: \").concat(Scrubber.stringify(root)));\n      }\n\n      node = node.children[p];\n    }\n\n    return node;\n  },\n\n  has(root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false;\n      }\n\n      node = node.children[p];\n    }\n\n    return true;\n  },\n\n  isNode(value) {\n    return Text.isText(value) || Element.isElement(value) || Editor.isEditor(value);\n  },\n\n  isNodeList(value) {\n    if (!Array.isArray(value)) {\n      return false;\n    }\n\n    var cachedResult = IS_NODE_LIST_CACHE.get(value);\n\n    if (cachedResult !== undefined) {\n      return cachedResult;\n    }\n\n    var isNodeList = value.every(val => Node.isNode(val));\n    IS_NODE_LIST_CACHE.set(value, isNodeList);\n    return isNodeList;\n  },\n\n  last(root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        var i = n.children.length - 1;\n        n = n.children[i];\n        p.push(i);\n      }\n    }\n\n    return [n, p];\n  },\n\n  leaf(root, path) {\n    var node = Node.get(root, path);\n\n    if (!Text.isText(node)) {\n      throw new Error(\"Cannot get the leaf node at path [\".concat(path, \"] because it refers to a non-leaf node: \").concat(Scrubber.stringify(node)));\n    }\n\n    return node;\n  },\n\n  *levels(root, path) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    for (var p of Path.levels(path, options)) {\n      var n = Node.get(root, p);\n      yield [n, p];\n    }\n  },\n\n  matches(node, props) {\n    return Element.isElement(node) && Element.isElementProps(props) && Element.matches(node, props) || Text.isText(node) && Text.isTextProps(props) && Text.matches(node, props);\n  },\n\n  *nodes(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      pass,\n      reverse = false\n    } = options;\n    var {\n      from = [],\n      to\n    } = options;\n    var visited = new Set();\n    var p = [];\n    var n = root;\n\n    while (true) {\n      if (to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to))) {\n        break;\n      }\n\n      if (!visited.has(n)) {\n        yield [n, p];\n      } // If we're allowed to go downward and we haven't descended yet, do.\n\n\n      if (!visited.has(n) && !Text.isText(n) && n.children.length !== 0 && (pass == null || pass([n, p]) === false)) {\n        visited.add(n);\n        var nextIndex = reverse ? n.children.length - 1 : 0;\n\n        if (Path.isAncestor(p, from)) {\n          nextIndex = from[p.length];\n        }\n\n        p = p.concat(nextIndex);\n        n = Node.get(root, p);\n        continue;\n      } // If we're at the root and we can't go down, we're done.\n\n\n      if (p.length === 0) {\n        break;\n      } // If we're going forward...\n\n\n      if (!reverse) {\n        var newPath = Path.next(p);\n\n        if (Node.has(root, newPath)) {\n          p = newPath;\n          n = Node.get(root, p);\n          continue;\n        }\n      } // If we're going backward...\n\n\n      if (reverse && p[p.length - 1] !== 0) {\n        var _newPath = Path.previous(p);\n\n        p = _newPath;\n        n = Node.get(root, p);\n        continue;\n      } // Otherwise we're going upward...\n\n\n      p = Path.parent(p);\n      n = Node.get(root, p);\n      visited.add(n);\n    }\n  },\n\n  parent(root, path) {\n    var parentPath = Path.parent(path);\n    var p = Node.get(root, parentPath);\n\n    if (Text.isText(p)) {\n      throw new Error(\"Cannot get the parent of path [\".concat(path, \"] because it does not exist in the root.\"));\n    }\n\n    return p;\n  },\n\n  string(node) {\n    if (Text.isText(node)) {\n      return node.text;\n    } else {\n      return node.children.map(Node.string).join('');\n    }\n  },\n\n  *texts(root) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    for (var [node, path] of Node.nodes(root, options)) {\n      if (Text.isText(node)) {\n        yield [node, path];\n      }\n    }\n  }\n\n};\n\nfunction ownKeys$c(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$c(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$c(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$c(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Operation = {\n  isNodeOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_node');\n  },\n\n  isOperation(value) {\n    if (!(0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value)) {\n      return false;\n    }\n\n    switch (value.type) {\n      case 'insert_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'insert_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'merge_node':\n        return typeof value.position === 'number' && Path.isPath(value.path) && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.properties);\n\n      case 'move_node':\n        return Path.isPath(value.path) && Path.isPath(value.newPath);\n\n      case 'remove_node':\n        return Path.isPath(value.path) && Node.isNode(value.node);\n\n      case 'remove_text':\n        return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n\n      case 'set_node':\n        return Path.isPath(value.path) && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.properties) && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.newProperties);\n\n      case 'set_selection':\n        return value.properties === null && Range.isRange(value.newProperties) || value.newProperties === null && Range.isRange(value.properties) || (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.properties) && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.newProperties);\n\n      case 'split_node':\n        return Path.isPath(value.path) && typeof value.position === 'number' && (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.properties);\n\n      default:\n        return false;\n    }\n  },\n\n  isOperationList(value) {\n    return Array.isArray(value) && value.every(val => Operation.isOperation(val));\n  },\n\n  isSelectionOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_selection');\n  },\n\n  isTextOperation(value) {\n    return Operation.isOperation(value) && value.type.endsWith('_text');\n  },\n\n  inverse(op) {\n    switch (op.type) {\n      case 'insert_node':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'remove_node'\n          });\n        }\n\n      case 'insert_text':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'remove_text'\n          });\n        }\n\n      case 'merge_node':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'split_node',\n            path: Path.previous(op.path)\n          });\n        }\n\n      case 'move_node':\n        {\n          var {\n            newPath,\n            path\n          } = op; // PERF: in this case the move operation is a no-op anyways.\n\n          if (Path.equals(newPath, path)) {\n            return op;\n          } // If the move happens completely within a single parent the path and\n          // newPath are stable with respect to each other.\n\n\n          if (Path.isSibling(path, newPath)) {\n            return _objectSpread$c(_objectSpread$c({}, op), {}, {\n              path: newPath,\n              newPath: path\n            });\n          } // If the move does not happen within a single parent it is possible\n          // for the move to impact the true path to the location where the node\n          // was removed from and where it was inserted. We have to adjust for this\n          // and find the original path. We can accomplish this (only in non-sibling)\n          // moves by looking at the impact of the move operation on the node\n          // after the original move path.\n\n\n          var inversePath = Path.transform(path, op);\n          var inverseNewPath = Path.transform(Path.next(path), op);\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            path: inversePath,\n            newPath: inverseNewPath\n          });\n        }\n\n      case 'remove_node':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'insert_node'\n          });\n        }\n\n      case 'remove_text':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'insert_text'\n          });\n        }\n\n      case 'set_node':\n        {\n          var {\n            properties,\n            newProperties\n          } = op;\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            properties: newProperties,\n            newProperties: properties\n          });\n        }\n\n      case 'set_selection':\n        {\n          var {\n            properties: _properties,\n            newProperties: _newProperties\n          } = op;\n\n          if (_properties == null) {\n            return _objectSpread$c(_objectSpread$c({}, op), {}, {\n              properties: _newProperties,\n              newProperties: null\n            });\n          } else if (_newProperties == null) {\n            return _objectSpread$c(_objectSpread$c({}, op), {}, {\n              properties: null,\n              newProperties: _properties\n            });\n          } else {\n            return _objectSpread$c(_objectSpread$c({}, op), {}, {\n              properties: _newProperties,\n              newProperties: _properties\n            });\n          }\n        }\n\n      case 'split_node':\n        {\n          return _objectSpread$c(_objectSpread$c({}, op), {}, {\n            type: 'merge_node',\n            path: Path.next(op.path)\n          });\n        }\n    }\n  }\n\n};\n\nvar IS_EDITOR_CACHE = new WeakMap();\nvar isEditor = value => {\n  var cachedIsEditor = IS_EDITOR_CACHE.get(value);\n\n  if (cachedIsEditor !== undefined) {\n    return cachedIsEditor;\n  }\n\n  if (!(0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value)) {\n    return false;\n  }\n\n  var isEditor = typeof value.addMark === 'function' && typeof value.apply === 'function' && typeof value.deleteFragment === 'function' && typeof value.insertBreak === 'function' && typeof value.insertSoftBreak === 'function' && typeof value.insertFragment === 'function' && typeof value.insertNode === 'function' && typeof value.insertText === 'function' && typeof value.isElementReadOnly === 'function' && typeof value.isInline === 'function' && typeof value.isSelectable === 'function' && typeof value.isVoid === 'function' && typeof value.normalizeNode === 'function' && typeof value.onChange === 'function' && typeof value.removeMark === 'function' && typeof value.getDirtyPaths === 'function' && (value.marks === null || (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value.marks)) && (value.selection === null || Range.isRange(value.selection)) && Node.isNodeList(value.children) && Operation.isOperationList(value.operations);\n  IS_EDITOR_CACHE.set(value, isEditor);\n  return isEditor;\n};\n\nvar Editor = {\n  above(editor, options) {\n    return editor.above(options);\n  },\n\n  addMark(editor, key, value) {\n    editor.addMark(key, value);\n  },\n\n  after(editor, at, options) {\n    return editor.after(at, options);\n  },\n\n  before(editor, at, options) {\n    return editor.before(at, options);\n  },\n\n  deleteBackward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteBackward(unit);\n  },\n\n  deleteForward(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var {\n      unit = 'character'\n    } = options;\n    editor.deleteForward(unit);\n  },\n\n  deleteFragment(editor, options) {\n    editor.deleteFragment(options);\n  },\n\n  edges(editor, at) {\n    return editor.edges(at);\n  },\n\n  elementReadOnly(editor) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    return editor.elementReadOnly(options);\n  },\n\n  end(editor, at) {\n    return editor.end(at);\n  },\n\n  first(editor, at) {\n    return editor.first(at);\n  },\n\n  fragment(editor, at) {\n    return editor.fragment(at);\n  },\n\n  hasBlocks(editor, element) {\n    return editor.hasBlocks(element);\n  },\n\n  hasInlines(editor, element) {\n    return editor.hasInlines(element);\n  },\n\n  hasPath(editor, path) {\n    return editor.hasPath(path);\n  },\n\n  hasTexts(editor, element) {\n    return editor.hasTexts(element);\n  },\n\n  insertBreak(editor) {\n    editor.insertBreak();\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options);\n  },\n\n  insertNode(editor, node) {\n    editor.insertNode(node);\n  },\n\n  insertSoftBreak(editor) {\n    editor.insertSoftBreak();\n  },\n\n  insertText(editor, text) {\n    editor.insertText(text);\n  },\n\n  isBlock(editor, value) {\n    return editor.isBlock(value);\n  },\n\n  isEdge(editor, point, at) {\n    return editor.isEdge(point, at);\n  },\n\n  isEditor(value) {\n    return isEditor(value);\n  },\n\n  isElementReadOnly(editor, element) {\n    return editor.isElementReadOnly(element);\n  },\n\n  isEmpty(editor, element) {\n    return editor.isEmpty(element);\n  },\n\n  isEnd(editor, point, at) {\n    return editor.isEnd(point, at);\n  },\n\n  isInline(editor, value) {\n    return editor.isInline(value);\n  },\n\n  isNormalizing(editor) {\n    return editor.isNormalizing();\n  },\n\n  isSelectable(editor, value) {\n    return editor.isSelectable(value);\n  },\n\n  isStart(editor, point, at) {\n    return editor.isStart(point, at);\n  },\n\n  isVoid(editor, value) {\n    return editor.isVoid(value);\n  },\n\n  last(editor, at) {\n    return editor.last(at);\n  },\n\n  leaf(editor, at, options) {\n    return editor.leaf(at, options);\n  },\n\n  levels(editor, options) {\n    return editor.levels(options);\n  },\n\n  marks(editor) {\n    return editor.getMarks();\n  },\n\n  next(editor, options) {\n    return editor.next(options);\n  },\n\n  node(editor, at, options) {\n    return editor.node(at, options);\n  },\n\n  nodes(editor, options) {\n    return editor.nodes(options);\n  },\n\n  normalize(editor, options) {\n    editor.normalize(options);\n  },\n\n  parent(editor, at, options) {\n    return editor.parent(at, options);\n  },\n\n  path(editor, at, options) {\n    return editor.path(at, options);\n  },\n\n  pathRef(editor, path, options) {\n    return editor.pathRef(path, options);\n  },\n\n  pathRefs(editor) {\n    return editor.pathRefs();\n  },\n\n  point(editor, at, options) {\n    return editor.point(at, options);\n  },\n\n  pointRef(editor, point, options) {\n    return editor.pointRef(point, options);\n  },\n\n  pointRefs(editor) {\n    return editor.pointRefs();\n  },\n\n  positions(editor, options) {\n    return editor.positions(options);\n  },\n\n  previous(editor, options) {\n    return editor.previous(options);\n  },\n\n  range(editor, at, to) {\n    return editor.range(at, to);\n  },\n\n  rangeRef(editor, range, options) {\n    return editor.rangeRef(range, options);\n  },\n\n  rangeRefs(editor) {\n    return editor.rangeRefs();\n  },\n\n  removeMark(editor, key) {\n    editor.removeMark(key);\n  },\n\n  setNormalizing(editor, isNormalizing) {\n    editor.setNormalizing(isNormalizing);\n  },\n\n  start(editor, at) {\n    return editor.start(at);\n  },\n\n  string(editor, at, options) {\n    return editor.string(at, options);\n  },\n\n  unhangRange(editor, range, options) {\n    return editor.unhangRange(range, options);\n  },\n\n  void(editor, options) {\n    return editor.void(options);\n  },\n\n  withoutNormalizing(editor, fn) {\n    editor.withoutNormalizing(fn);\n  }\n\n};\n\nvar Location = {\n  isLocation(value) {\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value);\n  }\n\n}; // eslint-disable-next-line no-redeclare\n\nvar Span = {\n  isSpan(value) {\n    return Array.isArray(value) && value.length === 2 && value.every(Path.isPath);\n  }\n\n};\n\nfunction ownKeys$b(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$b(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$b(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$b(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Point = {\n  compare(point, another) {\n    var result = Path.compare(point.path, another.path);\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1;\n      if (point.offset > another.offset) return 1;\n      return 0;\n    }\n\n    return result;\n  },\n\n  isAfter(point, another) {\n    return Point.compare(point, another) === 1;\n  },\n\n  isBefore(point, another) {\n    return Point.compare(point, another) === -1;\n  },\n\n  equals(point, another) {\n    // PERF: ensure the offsets are equal first since they are cheaper to check.\n    return point.offset === another.offset && Path.equals(point.path, another.path);\n  },\n\n  isPoint(value) {\n    return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && typeof value.offset === 'number' && Path.isPath(value.path);\n  },\n\n  transform(point, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return (0,immer__WEBPACK_IMPORTED_MODULE_1__.produce)(point, p => {\n      if (p === null) {\n        return null;\n      }\n\n      var {\n        affinity = 'forward'\n      } = options;\n      var {\n        path,\n        offset\n      } = p;\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node':\n          {\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'insert_text':\n          {\n            if (Path.equals(op.path, path) && (op.offset < offset || op.offset === offset && affinity === 'forward')) {\n              p.offset += op.text.length;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            if (Path.equals(op.path, path)) {\n              p.offset += op.position;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'remove_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset -= Math.min(offset - op.offset, op.text.length);\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n              return null;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'split_node':\n          {\n            if (Path.equals(op.path, path)) {\n              if (op.position === offset && affinity == null) {\n                return null;\n              } else if (op.position < offset || op.position === offset && affinity === 'forward') {\n                p.offset -= op.position;\n                p.path = Path.transform(path, op, _objectSpread$b(_objectSpread$b({}, options), {}, {\n                  affinity: 'forward'\n                }));\n              }\n            } else {\n              p.path = Path.transform(path, op, options);\n            }\n\n            break;\n          }\n      }\n    });\n  }\n\n};\n\nvar _scrubber = undefined;\n/**\r\n * This interface implements a stringify() function, which is used by Slate\r\n * internally when generating exceptions containing end user data. Developers\r\n * using Slate may call Scrubber.setScrubber() to alter the behavior of this\r\n * stringify() function.\r\n *\r\n * For example, to prevent the cleartext logging of 'text' fields within Nodes:\r\n *\r\n *    import { Scrubber } from 'slate';\r\n *    Scrubber.setScrubber((key, val) => {\r\n *      if (key === 'text') return '...scrubbed...'\r\n *      return val\r\n *    });\r\n *\r\n */\n// eslint-disable-next-line no-redeclare\n\nvar Scrubber = {\n  setScrubber(scrubber) {\n    _scrubber = scrubber;\n  },\n\n  stringify(value) {\n    return JSON.stringify(value, _scrubber);\n  }\n\n};\n\nvar _excluded$2 = [\"text\"],\n    _excluded2$2 = [\"anchor\", \"focus\"];\n\nfunction ownKeys$a(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$a(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$a(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$a(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar Text = {\n  equals(text, another) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    var {\n      loose = false\n    } = options;\n\n    function omitText(obj) {\n      var rest = _objectWithoutProperties(obj, _excluded$2);\n\n      return rest;\n    }\n\n    return isDeepEqual(loose ? omitText(text) : text, loose ? omitText(another) : another);\n  },\n\n  isText(value) {\n    return (0,is_plain_object__WEBPACK_IMPORTED_MODULE_0__.isPlainObject)(value) && typeof value.text === 'string';\n  },\n\n  isTextList(value) {\n    return Array.isArray(value) && value.every(val => Text.isText(val));\n  },\n\n  isTextProps(props) {\n    return props.text !== undefined;\n  },\n\n  matches(text, props) {\n    for (var key in props) {\n      if (key === 'text') {\n        continue;\n      }\n\n      if (!text.hasOwnProperty(key) || text[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  },\n\n  decorations(node, decorations) {\n    var leaves = [_objectSpread$a({}, node)];\n\n    for (var dec of decorations) {\n      var rest = _objectWithoutProperties(dec, _excluded2$2);\n\n      var [start, end] = Range.edges(dec);\n      var next = [];\n      var leafEnd = 0;\n      var decorationStart = start.offset;\n      var decorationEnd = end.offset;\n\n      for (var leaf of leaves) {\n        var {\n          length\n        } = leaf.text;\n        var leafStart = leafEnd;\n        leafEnd += length; // If the range encompasses the entire leaf, add the range.\n\n        if (decorationStart <= leafStart && leafEnd <= decorationEnd) {\n          Object.assign(leaf, rest);\n          next.push(leaf);\n          continue;\n        } // If the range expanded and match the leaf, or starts after, or ends before it, continue.\n\n\n        if (decorationStart !== decorationEnd && (decorationStart === leafEnd || decorationEnd === leafStart) || decorationStart > leafEnd || decorationEnd < leafStart || decorationEnd === leafStart && leafStart !== 0) {\n          next.push(leaf);\n          continue;\n        } // Otherwise we need to split the leaf, at the start, end, or both,\n        // and add the range to the middle intersecting section. Do the end\n        // split first since we don't need to update the offset that way.\n\n\n        var middle = leaf;\n        var before = void 0;\n        var after = void 0;\n\n        if (decorationEnd < leafEnd) {\n          var off = decorationEnd - leafStart;\n          after = _objectSpread$a(_objectSpread$a({}, middle), {}, {\n            text: middle.text.slice(off)\n          });\n          middle = _objectSpread$a(_objectSpread$a({}, middle), {}, {\n            text: middle.text.slice(0, off)\n          });\n        }\n\n        if (decorationStart > leafStart) {\n          var _off = decorationStart - leafStart;\n\n          before = _objectSpread$a(_objectSpread$a({}, middle), {}, {\n            text: middle.text.slice(0, _off)\n          });\n          middle = _objectSpread$a(_objectSpread$a({}, middle), {}, {\n            text: middle.text.slice(_off)\n          });\n        }\n\n        Object.assign(middle, rest);\n\n        if (before) {\n          next.push(before);\n        }\n\n        next.push(middle);\n\n        if (after) {\n          next.push(after);\n        }\n      }\n\n      leaves = next;\n    }\n\n    return leaves;\n  }\n\n};\n\n/**\r\n * Get the default location to insert content into the editor.\r\n * By default, use the selection as the target location. But if there is\r\n * no selection, insert at the end of the document since that is such a\r\n * common use case when inserting from a non-selected state.\r\n */\n\nvar getDefaultInsertLocation = editor => {\n  if (editor.selection) {\n    return editor.selection;\n  } else if (editor.children.length > 0) {\n    return Editor.end(editor, []);\n  } else {\n    return [0];\n  }\n};\n\nvar matchPath = (editor, path) => {\n  var [node] = Editor.node(editor, path);\n  return n => n === node;\n};\n\n// Character (grapheme cluster) boundaries are determined according to\n// the default grapheme cluster boundary specification, extended grapheme clusters variant[1].\n//\n// References:\n//\n// [1] https://www.unicode.org/reports/tr29/#Default_Grapheme_Cluster_Table\n// [2] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakProperty.txt\n// [3] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.html\n// [4] https://www.unicode.org/Public/UCD/latest/ucd/auxiliary/GraphemeBreakTest.txt\n\n/**\r\n * Get the distance to the end of the first character in a string of text.\r\n */\nvar getCharacterDistance = function getCharacterDistance(str) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var isLTR = !isRTL;\n  var codepoints = isRTL ? codepointsIteratorRTL(str) : str;\n  var left = CodepointType.None;\n  var right = CodepointType.None;\n  var distance = 0; // Evaluation of these conditions are deferred.\n\n  var gb11 = null; // Is GB11 applicable?\n\n  var gb12Or13 = null; // Is GB12 or GB13 applicable?\n\n  for (var char of codepoints) {\n    var code = char.codePointAt(0);\n    if (!code) break;\n    var type = getCodepointType(char, code);\n    [left, right] = isLTR ? [right, type] : [type, left];\n\n    if (intersects(left, CodepointType.ZWJ) && intersects(right, CodepointType.ExtPict)) {\n      if (isLTR) {\n        gb11 = endsWithEmojiZWJ(str.substring(0, distance));\n      } else {\n        gb11 = endsWithEmojiZWJ(str.substring(0, str.length - distance));\n      }\n\n      if (!gb11) break;\n    }\n\n    if (intersects(left, CodepointType.RI) && intersects(right, CodepointType.RI)) {\n      if (gb12Or13 !== null) {\n        gb12Or13 = !gb12Or13;\n      } else {\n        if (isLTR) {\n          gb12Or13 = true;\n        } else {\n          gb12Or13 = endsWithOddNumberOfRIs(str.substring(0, str.length - distance));\n        }\n      }\n\n      if (!gb12Or13) break;\n    }\n\n    if (left !== CodepointType.None && right !== CodepointType.None && isBoundaryPair(left, right)) {\n      break;\n    }\n\n    distance += char.length;\n  }\n\n  return distance || 1;\n};\nvar SPACE = /\\s/;\nvar PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;\nvar CHAMELEON = /['\\u2018\\u2019]/;\n/**\r\n * Get the distance to the end of the first word in a string of text.\r\n */\n\nvar getWordDistance = function getWordDistance(text) {\n  var isRTL = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n  var dist = 0;\n  var started = false;\n\n  while (text.length > 0) {\n    var charDist = getCharacterDistance(text, isRTL);\n    var [char, remaining] = splitByCharacterDistance(text, charDist, isRTL);\n\n    if (isWordCharacter(char, remaining, isRTL)) {\n      started = true;\n      dist += charDist;\n    } else if (!started) {\n      dist += charDist;\n    } else {\n      break;\n    }\n\n    text = remaining;\n  }\n\n  return dist;\n};\n/**\r\n * Split a string in two parts at a given distance starting from the end when\r\n * `isRTL` is set to `true`.\r\n */\n\nvar splitByCharacterDistance = (str, dist, isRTL) => {\n  if (isRTL) {\n    var at = str.length - dist;\n    return [str.slice(at, str.length), str.slice(0, at)];\n  }\n\n  return [str.slice(0, dist), str.slice(dist)];\n};\n/**\r\n * Check if a character is a word character. The `remaining` argument is used\r\n * because sometimes you must read subsequent characters to truly determine it.\r\n */\n\nvar isWordCharacter = function isWordCharacter(char, remaining) {\n  var isRTL = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n  if (SPACE.test(char)) {\n    return false;\n  } // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n\n\n  if (CHAMELEON.test(char)) {\n    var charDist = getCharacterDistance(remaining, isRTL);\n    var [nextChar, nextRemaining] = splitByCharacterDistance(remaining, charDist, isRTL);\n\n    if (isWordCharacter(nextChar, nextRemaining, isRTL)) {\n      return true;\n    }\n  }\n\n  if (PUNCTUATION.test(char)) {\n    return false;\n  }\n\n  return true;\n};\n/**\r\n * Iterate on codepoints from right to left.\r\n */\n\n\nvar codepointsIteratorRTL = function* codepointsIteratorRTL(str) {\n  var end = str.length - 1;\n\n  for (var i = 0; i < str.length; i++) {\n    var char1 = str.charAt(end - i);\n\n    if (isLowSurrogate(char1.charCodeAt(0))) {\n      var char2 = str.charAt(end - i - 1);\n\n      if (isHighSurrogate(char2.charCodeAt(0))) {\n        yield char2 + char1;\n        i++;\n        continue;\n      }\n    }\n\n    yield char1;\n  }\n};\n/**\r\n * Is `charCode` a high surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\nvar isHighSurrogate = charCode => {\n  return charCode >= 0xd800 && charCode <= 0xdbff;\n};\n/**\r\n * Is `charCode` a low surrogate.\r\n *\r\n * https://en.wikipedia.org/wiki/Universal_Character_Set_characters#Surrogates\r\n */\n\n\nvar isLowSurrogate = charCode => {\n  return charCode >= 0xdc00 && charCode <= 0xdfff;\n};\n\nvar CodepointType;\n\n(function (CodepointType) {\n  CodepointType[CodepointType[\"None\"] = 0] = \"None\";\n  CodepointType[CodepointType[\"Extend\"] = 1] = \"Extend\";\n  CodepointType[CodepointType[\"ZWJ\"] = 2] = \"ZWJ\";\n  CodepointType[CodepointType[\"RI\"] = 4] = \"RI\";\n  CodepointType[CodepointType[\"Prepend\"] = 8] = \"Prepend\";\n  CodepointType[CodepointType[\"SpacingMark\"] = 16] = \"SpacingMark\";\n  CodepointType[CodepointType[\"L\"] = 32] = \"L\";\n  CodepointType[CodepointType[\"V\"] = 64] = \"V\";\n  CodepointType[CodepointType[\"T\"] = 128] = \"T\";\n  CodepointType[CodepointType[\"LV\"] = 256] = \"LV\";\n  CodepointType[CodepointType[\"LVT\"] = 512] = \"LVT\";\n  CodepointType[CodepointType[\"ExtPict\"] = 1024] = \"ExtPict\";\n  CodepointType[CodepointType[\"Any\"] = 2048] = \"Any\";\n})(CodepointType || (CodepointType = {}));\n\nvar reExtend = /^(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])$/;\nvar rePrepend = /^(?:[\\u0600-\\u0605\\u06DD\\u070F\\u0890\\u0891\\u08E2\\u0D4E]|\\uD804[\\uDCBD\\uDCCD\\uDDC2\\uDDC3]|\\uD806[\\uDD3F\\uDD41\\uDE3A\\uDE84-\\uDE89]|\\uD807\\uDD46)$/;\nvar reSpacingMark = /^(?:[\\u0903\\u093B\\u093E-\\u0940\\u0949-\\u094C\\u094E\\u094F\\u0982\\u0983\\u09BF\\u09C0\\u09C7\\u09C8\\u09CB\\u09CC\\u0A03\\u0A3E-\\u0A40\\u0A83\\u0ABE-\\u0AC0\\u0AC9\\u0ACB\\u0ACC\\u0B02\\u0B03\\u0B40\\u0B47\\u0B48\\u0B4B\\u0B4C\\u0BBF\\u0BC1\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCC\\u0C01-\\u0C03\\u0C41-\\u0C44\\u0C82\\u0C83\\u0CBE\\u0CC0\\u0CC1\\u0CC3\\u0CC4\\u0CC7\\u0CC8\\u0CCA\\u0CCB\\u0D02\\u0D03\\u0D3F\\u0D40\\u0D46-\\u0D48\\u0D4A-\\u0D4C\\u0D82\\u0D83\\u0DD0\\u0DD1\\u0DD8-\\u0DDE\\u0DF2\\u0DF3\\u0E33\\u0EB3\\u0F3E\\u0F3F\\u0F7F\\u1031\\u103B\\u103C\\u1056\\u1057\\u1084\\u1715\\u1734\\u17B6\\u17BE-\\u17C5\\u17C7\\u17C8\\u1923-\\u1926\\u1929-\\u192B\\u1930\\u1931\\u1933-\\u1938\\u1A19\\u1A1A\\u1A55\\u1A57\\u1A6D-\\u1A72\\u1B04\\u1B3B\\u1B3D-\\u1B41\\u1B43\\u1B44\\u1B82\\u1BA1\\u1BA6\\u1BA7\\u1BAA\\u1BE7\\u1BEA-\\u1BEC\\u1BEE\\u1BF2\\u1BF3\\u1C24-\\u1C2B\\u1C34\\u1C35\\u1CE1\\u1CF7\\uA823\\uA824\\uA827\\uA880\\uA881\\uA8B4-\\uA8C3\\uA952\\uA953\\uA983\\uA9B4\\uA9B5\\uA9BA\\uA9BB\\uA9BE-\\uA9C0\\uAA2F\\uAA30\\uAA33\\uAA34\\uAA4D\\uAAEB\\uAAEE\\uAAEF\\uAAF5\\uABE3\\uABE4\\uABE6\\uABE7\\uABE9\\uABEA\\uABEC]|\\uD804[\\uDC00\\uDC02\\uDC82\\uDCB0-\\uDCB2\\uDCB7\\uDCB8\\uDD2C\\uDD45\\uDD46\\uDD82\\uDDB3-\\uDDB5\\uDDBF\\uDDC0\\uDDCE\\uDE2C-\\uDE2E\\uDE32\\uDE33\\uDE35\\uDEE0-\\uDEE2\\uDF02\\uDF03\\uDF3F\\uDF41-\\uDF44\\uDF47\\uDF48\\uDF4B-\\uDF4D\\uDF62\\uDF63]|\\uD805[\\uDC35-\\uDC37\\uDC40\\uDC41\\uDC45\\uDCB1\\uDCB2\\uDCB9\\uDCBB\\uDCBC\\uDCBE\\uDCC1\\uDDB0\\uDDB1\\uDDB8-\\uDDBB\\uDDBE\\uDE30-\\uDE32\\uDE3B\\uDE3C\\uDE3E\\uDEAC\\uDEAE\\uDEAF\\uDEB6\\uDF26]|\\uD806[\\uDC2C-\\uDC2E\\uDC38\\uDD31-\\uDD35\\uDD37\\uDD38\\uDD3D\\uDD40\\uDD42\\uDDD1-\\uDDD3\\uDDDC-\\uDDDF\\uDDE4\\uDE39\\uDE57\\uDE58\\uDE97]|\\uD807[\\uDC2F\\uDC3E\\uDCA9\\uDCB1\\uDCB4\\uDD8A-\\uDD8E\\uDD93\\uDD94\\uDD96\\uDEF5\\uDEF6]|\\uD81B[\\uDF51-\\uDF87\\uDFF0\\uDFF1]|\\uD834[\\uDD66\\uDD6D])$/;\nvar reL = /^[\\u1100-\\u115F\\uA960-\\uA97C]$/;\nvar reV = /^[\\u1160-\\u11A7\\uD7B0-\\uD7C6]$/;\nvar reT = /^[\\u11A8-\\u11FF\\uD7CB-\\uD7FB]$/;\nvar reLV = /^[\\uAC00\\uAC1C\\uAC38\\uAC54\\uAC70\\uAC8C\\uACA8\\uACC4\\uACE0\\uACFC\\uAD18\\uAD34\\uAD50\\uAD6C\\uAD88\\uADA4\\uADC0\\uADDC\\uADF8\\uAE14\\uAE30\\uAE4C\\uAE68\\uAE84\\uAEA0\\uAEBC\\uAED8\\uAEF4\\uAF10\\uAF2C\\uAF48\\uAF64\\uAF80\\uAF9C\\uAFB8\\uAFD4\\uAFF0\\uB00C\\uB028\\uB044\\uB060\\uB07C\\uB098\\uB0B4\\uB0D0\\uB0EC\\uB108\\uB124\\uB140\\uB15C\\uB178\\uB194\\uB1B0\\uB1CC\\uB1E8\\uB204\\uB220\\uB23C\\uB258\\uB274\\uB290\\uB2AC\\uB2C8\\uB2E4\\uB300\\uB31C\\uB338\\uB354\\uB370\\uB38C\\uB3A8\\uB3C4\\uB3E0\\uB3FC\\uB418\\uB434\\uB450\\uB46C\\uB488\\uB4A4\\uB4C0\\uB4DC\\uB4F8\\uB514\\uB530\\uB54C\\uB568\\uB584\\uB5A0\\uB5BC\\uB5D8\\uB5F4\\uB610\\uB62C\\uB648\\uB664\\uB680\\uB69C\\uB6B8\\uB6D4\\uB6F0\\uB70C\\uB728\\uB744\\uB760\\uB77C\\uB798\\uB7B4\\uB7D0\\uB7EC\\uB808\\uB824\\uB840\\uB85C\\uB878\\uB894\\uB8B0\\uB8CC\\uB8E8\\uB904\\uB920\\uB93C\\uB958\\uB974\\uB990\\uB9AC\\uB9C8\\uB9E4\\uBA00\\uBA1C\\uBA38\\uBA54\\uBA70\\uBA8C\\uBAA8\\uBAC4\\uBAE0\\uBAFC\\uBB18\\uBB34\\uBB50\\uBB6C\\uBB88\\uBBA4\\uBBC0\\uBBDC\\uBBF8\\uBC14\\uBC30\\uBC4C\\uBC68\\uBC84\\uBCA0\\uBCBC\\uBCD8\\uBCF4\\uBD10\\uBD2C\\uBD48\\uBD64\\uBD80\\uBD9C\\uBDB8\\uBDD4\\uBDF0\\uBE0C\\uBE28\\uBE44\\uBE60\\uBE7C\\uBE98\\uBEB4\\uBED0\\uBEEC\\uBF08\\uBF24\\uBF40\\uBF5C\\uBF78\\uBF94\\uBFB0\\uBFCC\\uBFE8\\uC004\\uC020\\uC03C\\uC058\\uC074\\uC090\\uC0AC\\uC0C8\\uC0E4\\uC100\\uC11C\\uC138\\uC154\\uC170\\uC18C\\uC1A8\\uC1C4\\uC1E0\\uC1FC\\uC218\\uC234\\uC250\\uC26C\\uC288\\uC2A4\\uC2C0\\uC2DC\\uC2F8\\uC314\\uC330\\uC34C\\uC368\\uC384\\uC3A0\\uC3BC\\uC3D8\\uC3F4\\uC410\\uC42C\\uC448\\uC464\\uC480\\uC49C\\uC4B8\\uC4D4\\uC4F0\\uC50C\\uC528\\uC544\\uC560\\uC57C\\uC598\\uC5B4\\uC5D0\\uC5EC\\uC608\\uC624\\uC640\\uC65C\\uC678\\uC694\\uC6B0\\uC6CC\\uC6E8\\uC704\\uC720\\uC73C\\uC758\\uC774\\uC790\\uC7AC\\uC7C8\\uC7E4\\uC800\\uC81C\\uC838\\uC854\\uC870\\uC88C\\uC8A8\\uC8C4\\uC8E0\\uC8FC\\uC918\\uC934\\uC950\\uC96C\\uC988\\uC9A4\\uC9C0\\uC9DC\\uC9F8\\uCA14\\uCA30\\uCA4C\\uCA68\\uCA84\\uCAA0\\uCABC\\uCAD8\\uCAF4\\uCB10\\uCB2C\\uCB48\\uCB64\\uCB80\\uCB9C\\uCBB8\\uCBD4\\uCBF0\\uCC0C\\uCC28\\uCC44\\uCC60\\uCC7C\\uCC98\\uCCB4\\uCCD0\\uCCEC\\uCD08\\uCD24\\uCD40\\uCD5C\\uCD78\\uCD94\\uCDB0\\uCDCC\\uCDE8\\uCE04\\uCE20\\uCE3C\\uCE58\\uCE74\\uCE90\\uCEAC\\uCEC8\\uCEE4\\uCF00\\uCF1C\\uCF38\\uCF54\\uCF70\\uCF8C\\uCFA8\\uCFC4\\uCFE0\\uCFFC\\uD018\\uD034\\uD050\\uD06C\\uD088\\uD0A4\\uD0C0\\uD0DC\\uD0F8\\uD114\\uD130\\uD14C\\uD168\\uD184\\uD1A0\\uD1BC\\uD1D8\\uD1F4\\uD210\\uD22C\\uD248\\uD264\\uD280\\uD29C\\uD2B8\\uD2D4\\uD2F0\\uD30C\\uD328\\uD344\\uD360\\uD37C\\uD398\\uD3B4\\uD3D0\\uD3EC\\uD408\\uD424\\uD440\\uD45C\\uD478\\uD494\\uD4B0\\uD4CC\\uD4E8\\uD504\\uD520\\uD53C\\uD558\\uD574\\uD590\\uD5AC\\uD5C8\\uD5E4\\uD600\\uD61C\\uD638\\uD654\\uD670\\uD68C\\uD6A8\\uD6C4\\uD6E0\\uD6FC\\uD718\\uD734\\uD750\\uD76C\\uD788]$/;\nvar reLVT = /^[\\uAC01-\\uAC1B\\uAC1D-\\uAC37\\uAC39-\\uAC53\\uAC55-\\uAC6F\\uAC71-\\uAC8B\\uAC8D-\\uACA7\\uACA9-\\uACC3\\uACC5-\\uACDF\\uACE1-\\uACFB\\uACFD-\\uAD17\\uAD19-\\uAD33\\uAD35-\\uAD4F\\uAD51-\\uAD6B\\uAD6D-\\uAD87\\uAD89-\\uADA3\\uADA5-\\uADBF\\uADC1-\\uADDB\\uADDD-\\uADF7\\uADF9-\\uAE13\\uAE15-\\uAE2F\\uAE31-\\uAE4B\\uAE4D-\\uAE67\\uAE69-\\uAE83\\uAE85-\\uAE9F\\uAEA1-\\uAEBB\\uAEBD-\\uAED7\\uAED9-\\uAEF3\\uAEF5-\\uAF0F\\uAF11-\\uAF2B\\uAF2D-\\uAF47\\uAF49-\\uAF63\\uAF65-\\uAF7F\\uAF81-\\uAF9B\\uAF9D-\\uAFB7\\uAFB9-\\uAFD3\\uAFD5-\\uAFEF\\uAFF1-\\uB00B\\uB00D-\\uB027\\uB029-\\uB043\\uB045-\\uB05F\\uB061-\\uB07B\\uB07D-\\uB097\\uB099-\\uB0B3\\uB0B5-\\uB0CF\\uB0D1-\\uB0EB\\uB0ED-\\uB107\\uB109-\\uB123\\uB125-\\uB13F\\uB141-\\uB15B\\uB15D-\\uB177\\uB179-\\uB193\\uB195-\\uB1AF\\uB1B1-\\uB1CB\\uB1CD-\\uB1E7\\uB1E9-\\uB203\\uB205-\\uB21F\\uB221-\\uB23B\\uB23D-\\uB257\\uB259-\\uB273\\uB275-\\uB28F\\uB291-\\uB2AB\\uB2AD-\\uB2C7\\uB2C9-\\uB2E3\\uB2E5-\\uB2FF\\uB301-\\uB31B\\uB31D-\\uB337\\uB339-\\uB353\\uB355-\\uB36F\\uB371-\\uB38B\\uB38D-\\uB3A7\\uB3A9-\\uB3C3\\uB3C5-\\uB3DF\\uB3E1-\\uB3FB\\uB3FD-\\uB417\\uB419-\\uB433\\uB435-\\uB44F\\uB451-\\uB46B\\uB46D-\\uB487\\uB489-\\uB4A3\\uB4A5-\\uB4BF\\uB4C1-\\uB4DB\\uB4DD-\\uB4F7\\uB4F9-\\uB513\\uB515-\\uB52F\\uB531-\\uB54B\\uB54D-\\uB567\\uB569-\\uB583\\uB585-\\uB59F\\uB5A1-\\uB5BB\\uB5BD-\\uB5D7\\uB5D9-\\uB5F3\\uB5F5-\\uB60F\\uB611-\\uB62B\\uB62D-\\uB647\\uB649-\\uB663\\uB665-\\uB67F\\uB681-\\uB69B\\uB69D-\\uB6B7\\uB6B9-\\uB6D3\\uB6D5-\\uB6EF\\uB6F1-\\uB70B\\uB70D-\\uB727\\uB729-\\uB743\\uB745-\\uB75F\\uB761-\\uB77B\\uB77D-\\uB797\\uB799-\\uB7B3\\uB7B5-\\uB7CF\\uB7D1-\\uB7EB\\uB7ED-\\uB807\\uB809-\\uB823\\uB825-\\uB83F\\uB841-\\uB85B\\uB85D-\\uB877\\uB879-\\uB893\\uB895-\\uB8AF\\uB8B1-\\uB8CB\\uB8CD-\\uB8E7\\uB8E9-\\uB903\\uB905-\\uB91F\\uB921-\\uB93B\\uB93D-\\uB957\\uB959-\\uB973\\uB975-\\uB98F\\uB991-\\uB9AB\\uB9AD-\\uB9C7\\uB9C9-\\uB9E3\\uB9E5-\\uB9FF\\uBA01-\\uBA1B\\uBA1D-\\uBA37\\uBA39-\\uBA53\\uBA55-\\uBA6F\\uBA71-\\uBA8B\\uBA8D-\\uBAA7\\uBAA9-\\uBAC3\\uBAC5-\\uBADF\\uBAE1-\\uBAFB\\uBAFD-\\uBB17\\uBB19-\\uBB33\\uBB35-\\uBB4F\\uBB51-\\uBB6B\\uBB6D-\\uBB87\\uBB89-\\uBBA3\\uBBA5-\\uBBBF\\uBBC1-\\uBBDB\\uBBDD-\\uBBF7\\uBBF9-\\uBC13\\uBC15-\\uBC2F\\uBC31-\\uBC4B\\uBC4D-\\uBC67\\uBC69-\\uBC83\\uBC85-\\uBC9F\\uBCA1-\\uBCBB\\uBCBD-\\uBCD7\\uBCD9-\\uBCF3\\uBCF5-\\uBD0F\\uBD11-\\uBD2B\\uBD2D-\\uBD47\\uBD49-\\uBD63\\uBD65-\\uBD7F\\uBD81-\\uBD9B\\uBD9D-\\uBDB7\\uBDB9-\\uBDD3\\uBDD5-\\uBDEF\\uBDF1-\\uBE0B\\uBE0D-\\uBE27\\uBE29-\\uBE43\\uBE45-\\uBE5F\\uBE61-\\uBE7B\\uBE7D-\\uBE97\\uBE99-\\uBEB3\\uBEB5-\\uBECF\\uBED1-\\uBEEB\\uBEED-\\uBF07\\uBF09-\\uBF23\\uBF25-\\uBF3F\\uBF41-\\uBF5B\\uBF5D-\\uBF77\\uBF79-\\uBF93\\uBF95-\\uBFAF\\uBFB1-\\uBFCB\\uBFCD-\\uBFE7\\uBFE9-\\uC003\\uC005-\\uC01F\\uC021-\\uC03B\\uC03D-\\uC057\\uC059-\\uC073\\uC075-\\uC08F\\uC091-\\uC0AB\\uC0AD-\\uC0C7\\uC0C9-\\uC0E3\\uC0E5-\\uC0FF\\uC101-\\uC11B\\uC11D-\\uC137\\uC139-\\uC153\\uC155-\\uC16F\\uC171-\\uC18B\\uC18D-\\uC1A7\\uC1A9-\\uC1C3\\uC1C5-\\uC1DF\\uC1E1-\\uC1FB\\uC1FD-\\uC217\\uC219-\\uC233\\uC235-\\uC24F\\uC251-\\uC26B\\uC26D-\\uC287\\uC289-\\uC2A3\\uC2A5-\\uC2BF\\uC2C1-\\uC2DB\\uC2DD-\\uC2F7\\uC2F9-\\uC313\\uC315-\\uC32F\\uC331-\\uC34B\\uC34D-\\uC367\\uC369-\\uC383\\uC385-\\uC39F\\uC3A1-\\uC3BB\\uC3BD-\\uC3D7\\uC3D9-\\uC3F3\\uC3F5-\\uC40F\\uC411-\\uC42B\\uC42D-\\uC447\\uC449-\\uC463\\uC465-\\uC47F\\uC481-\\uC49B\\uC49D-\\uC4B7\\uC4B9-\\uC4D3\\uC4D5-\\uC4EF\\uC4F1-\\uC50B\\uC50D-\\uC527\\uC529-\\uC543\\uC545-\\uC55F\\uC561-\\uC57B\\uC57D-\\uC597\\uC599-\\uC5B3\\uC5B5-\\uC5CF\\uC5D1-\\uC5EB\\uC5ED-\\uC607\\uC609-\\uC623\\uC625-\\uC63F\\uC641-\\uC65B\\uC65D-\\uC677\\uC679-\\uC693\\uC695-\\uC6AF\\uC6B1-\\uC6CB\\uC6CD-\\uC6E7\\uC6E9-\\uC703\\uC705-\\uC71F\\uC721-\\uC73B\\uC73D-\\uC757\\uC759-\\uC773\\uC775-\\uC78F\\uC791-\\uC7AB\\uC7AD-\\uC7C7\\uC7C9-\\uC7E3\\uC7E5-\\uC7FF\\uC801-\\uC81B\\uC81D-\\uC837\\uC839-\\uC853\\uC855-\\uC86F\\uC871-\\uC88B\\uC88D-\\uC8A7\\uC8A9-\\uC8C3\\uC8C5-\\uC8DF\\uC8E1-\\uC8FB\\uC8FD-\\uC917\\uC919-\\uC933\\uC935-\\uC94F\\uC951-\\uC96B\\uC96D-\\uC987\\uC989-\\uC9A3\\uC9A5-\\uC9BF\\uC9C1-\\uC9DB\\uC9DD-\\uC9F7\\uC9F9-\\uCA13\\uCA15-\\uCA2F\\uCA31-\\uCA4B\\uCA4D-\\uCA67\\uCA69-\\uCA83\\uCA85-\\uCA9F\\uCAA1-\\uCABB\\uCABD-\\uCAD7\\uCAD9-\\uCAF3\\uCAF5-\\uCB0F\\uCB11-\\uCB2B\\uCB2D-\\uCB47\\uCB49-\\uCB63\\uCB65-\\uCB7F\\uCB81-\\uCB9B\\uCB9D-\\uCBB7\\uCBB9-\\uCBD3\\uCBD5-\\uCBEF\\uCBF1-\\uCC0B\\uCC0D-\\uCC27\\uCC29-\\uCC43\\uCC45-\\uCC5F\\uCC61-\\uCC7B\\uCC7D-\\uCC97\\uCC99-\\uCCB3\\uCCB5-\\uCCCF\\uCCD1-\\uCCEB\\uCCED-\\uCD07\\uCD09-\\uCD23\\uCD25-\\uCD3F\\uCD41-\\uCD5B\\uCD5D-\\uCD77\\uCD79-\\uCD93\\uCD95-\\uCDAF\\uCDB1-\\uCDCB\\uCDCD-\\uCDE7\\uCDE9-\\uCE03\\uCE05-\\uCE1F\\uCE21-\\uCE3B\\uCE3D-\\uCE57\\uCE59-\\uCE73\\uCE75-\\uCE8F\\uCE91-\\uCEAB\\uCEAD-\\uCEC7\\uCEC9-\\uCEE3\\uCEE5-\\uCEFF\\uCF01-\\uCF1B\\uCF1D-\\uCF37\\uCF39-\\uCF53\\uCF55-\\uCF6F\\uCF71-\\uCF8B\\uCF8D-\\uCFA7\\uCFA9-\\uCFC3\\uCFC5-\\uCFDF\\uCFE1-\\uCFFB\\uCFFD-\\uD017\\uD019-\\uD033\\uD035-\\uD04F\\uD051-\\uD06B\\uD06D-\\uD087\\uD089-\\uD0A3\\uD0A5-\\uD0BF\\uD0C1-\\uD0DB\\uD0DD-\\uD0F7\\uD0F9-\\uD113\\uD115-\\uD12F\\uD131-\\uD14B\\uD14D-\\uD167\\uD169-\\uD183\\uD185-\\uD19F\\uD1A1-\\uD1BB\\uD1BD-\\uD1D7\\uD1D9-\\uD1F3\\uD1F5-\\uD20F\\uD211-\\uD22B\\uD22D-\\uD247\\uD249-\\uD263\\uD265-\\uD27F\\uD281-\\uD29B\\uD29D-\\uD2B7\\uD2B9-\\uD2D3\\uD2D5-\\uD2EF\\uD2F1-\\uD30B\\uD30D-\\uD327\\uD329-\\uD343\\uD345-\\uD35F\\uD361-\\uD37B\\uD37D-\\uD397\\uD399-\\uD3B3\\uD3B5-\\uD3CF\\uD3D1-\\uD3EB\\uD3ED-\\uD407\\uD409-\\uD423\\uD425-\\uD43F\\uD441-\\uD45B\\uD45D-\\uD477\\uD479-\\uD493\\uD495-\\uD4AF\\uD4B1-\\uD4CB\\uD4CD-\\uD4E7\\uD4E9-\\uD503\\uD505-\\uD51F\\uD521-\\uD53B\\uD53D-\\uD557\\uD559-\\uD573\\uD575-\\uD58F\\uD591-\\uD5AB\\uD5AD-\\uD5C7\\uD5C9-\\uD5E3\\uD5E5-\\uD5FF\\uD601-\\uD61B\\uD61D-\\uD637\\uD639-\\uD653\\uD655-\\uD66F\\uD671-\\uD68B\\uD68D-\\uD6A7\\uD6A9-\\uD6C3\\uD6C5-\\uD6DF\\uD6E1-\\uD6FB\\uD6FD-\\uD717\\uD719-\\uD733\\uD735-\\uD74F\\uD751-\\uD76B\\uD76D-\\uD787\\uD789-\\uD7A3]$/;\nvar reExtPict = /^(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])$/;\n\nvar getCodepointType = (char, code) => {\n  var type = CodepointType.Any;\n\n  if (char.search(reExtend) !== -1) {\n    type |= CodepointType.Extend;\n  }\n\n  if (code === 0x200d) {\n    type |= CodepointType.ZWJ;\n  }\n\n  if (code >= 0x1f1e6 && code <= 0x1f1ff) {\n    type |= CodepointType.RI;\n  }\n\n  if (char.search(rePrepend) !== -1) {\n    type |= CodepointType.Prepend;\n  }\n\n  if (char.search(reSpacingMark) !== -1) {\n    type |= CodepointType.SpacingMark;\n  }\n\n  if (char.search(reL) !== -1) {\n    type |= CodepointType.L;\n  }\n\n  if (char.search(reV) !== -1) {\n    type |= CodepointType.V;\n  }\n\n  if (char.search(reT) !== -1) {\n    type |= CodepointType.T;\n  }\n\n  if (char.search(reLV) !== -1) {\n    type |= CodepointType.LV;\n  }\n\n  if (char.search(reLVT) !== -1) {\n    type |= CodepointType.LVT;\n  }\n\n  if (char.search(reExtPict) !== -1) {\n    type |= CodepointType.ExtPict;\n  }\n\n  return type;\n};\n\nfunction intersects(x, y) {\n  return (x & y) !== 0;\n}\n\nvar NonBoundaryPairs = [// GB6\n[CodepointType.L, CodepointType.L | CodepointType.V | CodepointType.LV | CodepointType.LVT], // GB7\n[CodepointType.LV | CodepointType.V, CodepointType.V | CodepointType.T], // GB8\n[CodepointType.LVT | CodepointType.T, CodepointType.T], // GB9\n[CodepointType.Any, CodepointType.Extend | CodepointType.ZWJ], // GB9a\n[CodepointType.Any, CodepointType.SpacingMark], // GB9b\n[CodepointType.Prepend, CodepointType.Any], // GB11\n[CodepointType.ZWJ, CodepointType.ExtPict], // GB12 and GB13\n[CodepointType.RI, CodepointType.RI]];\n\nfunction isBoundaryPair(left, right) {\n  return NonBoundaryPairs.findIndex(r => intersects(left, r[0]) && intersects(right, r[1])) === -1;\n}\n\nvar endingEmojiZWJ = /(?:[\\xA9\\xAE\\u203C\\u2049\\u2122\\u2139\\u2194-\\u2199\\u21A9\\u21AA\\u231A\\u231B\\u2328\\u2388\\u23CF\\u23E9-\\u23F3\\u23F8-\\u23FA\\u24C2\\u25AA\\u25AB\\u25B6\\u25C0\\u25FB-\\u25FE\\u2600-\\u2605\\u2607-\\u2612\\u2614-\\u2685\\u2690-\\u2705\\u2708-\\u2712\\u2714\\u2716\\u271D\\u2721\\u2728\\u2733\\u2734\\u2744\\u2747\\u274C\\u274E\\u2753-\\u2755\\u2757\\u2763-\\u2767\\u2795-\\u2797\\u27A1\\u27B0\\u27BF\\u2934\\u2935\\u2B05-\\u2B07\\u2B1B\\u2B1C\\u2B50\\u2B55\\u3030\\u303D\\u3297\\u3299]|\\uD83C[\\uDC00-\\uDCFF\\uDD0D-\\uDD0F\\uDD2F\\uDD6C-\\uDD71\\uDD7E\\uDD7F\\uDD8E\\uDD91-\\uDD9A\\uDDAD-\\uDDE5\\uDE01-\\uDE0F\\uDE1A\\uDE2F\\uDE32-\\uDE3A\\uDE3C-\\uDE3F\\uDE49-\\uDFFA]|\\uD83D[\\uDC00-\\uDD3D\\uDD46-\\uDE4F\\uDE80-\\uDEFF\\uDF74-\\uDF7F\\uDFD5-\\uDFFF]|\\uD83E[\\uDC0C-\\uDC0F\\uDC48-\\uDC4F\\uDC5A-\\uDC5F\\uDC88-\\uDC8F\\uDCAE-\\uDCFF\\uDD0C-\\uDD3A\\uDD3C-\\uDD45\\uDD47-\\uDEFF]|\\uD83F[\\uDC00-\\uDFFD])(?:[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u07FD\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08D3-\\u08E1\\u08E3-\\u0902\\u093A\\u093C\\u0941-\\u0948\\u094D\\u0951-\\u0957\\u0962\\u0963\\u0981\\u09BC\\u09BE\\u09C1-\\u09C4\\u09CD\\u09D7\\u09E2\\u09E3\\u09FE\\u0A01\\u0A02\\u0A3C\\u0A41\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81\\u0A82\\u0ABC\\u0AC1-\\u0AC5\\u0AC7\\u0AC8\\u0ACD\\u0AE2\\u0AE3\\u0AFA-\\u0AFF\\u0B01\\u0B3C\\u0B3E\\u0B3F\\u0B41-\\u0B44\\u0B4D\\u0B55-\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE\\u0BC0\\u0BCD\\u0BD7\\u0C00\\u0C04\\u0C3E-\\u0C40\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C81\\u0CBC\\u0CBF\\u0CC2\\u0CC6\\u0CCC\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D00\\u0D01\\u0D3B\\u0D3C\\u0D3E\\u0D41-\\u0D44\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D81\\u0DCA\\u0DCF\\u0DD2-\\u0DD4\\u0DD6\\u0DDF\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F71-\\u0F7E\\u0F80-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102D-\\u1030\\u1032-\\u1037\\u1039\\u103A\\u103D\\u103E\\u1058\\u1059\\u105E-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108D\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4\\u17B5\\u17B7-\\u17BD\\u17C6\\u17C9-\\u17D3\\u17DD\\u180B-\\u180D\\u1885\\u1886\\u18A9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193B\\u1A17\\u1A18\\u1A1B\\u1A56\\u1A58-\\u1A5E\\u1A60\\u1A62\\u1A65-\\u1A6C\\u1A73-\\u1A7C\\u1A7F\\u1AB0-\\u1AC0\\u1B00-\\u1B03\\u1B34-\\u1B3A\\u1B3C\\u1B42\\u1B6B-\\u1B73\\u1B80\\u1B81\\u1BA2-\\u1BA5\\u1BA8\\u1BA9\\u1BAB-\\u1BAD\\u1BE6\\u1BE8\\u1BE9\\u1BED\\u1BEF-\\u1BF1\\u1C2C-\\u1C33\\u1C36\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE0\\u1CE2-\\u1CE8\\u1CED\\u1CF4\\u1CF8\\u1CF9\\u1DC0-\\u1DF9\\u1DFB-\\u1DFF\\u200C\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69E\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA825\\uA826\\uA82C\\uA8C4\\uA8C5\\uA8E0-\\uA8F1\\uA8FF\\uA926-\\uA92D\\uA947-\\uA951\\uA980-\\uA982\\uA9B3\\uA9B6-\\uA9B9\\uA9BC\\uA9BD\\uA9E5\\uAA29-\\uAA2E\\uAA31\\uAA32\\uAA35\\uAA36\\uAA43\\uAA4C\\uAA7C\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEC\\uAAED\\uAAF6\\uABE5\\uABE8\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE2F\\uFF9E\\uFF9F]|\\uD800[\\uDDFD\\uDEE0\\uDF76-\\uDF7A]|\\uD802[\\uDE01-\\uDE03\\uDE05\\uDE06\\uDE0C-\\uDE0F\\uDE38-\\uDE3A\\uDE3F\\uDEE5\\uDEE6]|\\uD803[\\uDD24-\\uDD27\\uDEAB\\uDEAC\\uDF46-\\uDF50]|\\uD804[\\uDC01\\uDC38-\\uDC46\\uDC7F-\\uDC81\\uDCB3-\\uDCB6\\uDCB9\\uDCBA\\uDD00-\\uDD02\\uDD27-\\uDD2B\\uDD2D-\\uDD34\\uDD73\\uDD80\\uDD81\\uDDB6-\\uDDBE\\uDDC9-\\uDDCC\\uDDCF\\uDE2F-\\uDE31\\uDE34\\uDE36\\uDE37\\uDE3E\\uDEDF\\uDEE3-\\uDEEA\\uDF00\\uDF01\\uDF3B\\uDF3C\\uDF3E\\uDF40\\uDF57\\uDF66-\\uDF6C\\uDF70-\\uDF74]|\\uD805[\\uDC38-\\uDC3F\\uDC42-\\uDC44\\uDC46\\uDC5E\\uDCB0\\uDCB3-\\uDCB8\\uDCBA\\uDCBD\\uDCBF\\uDCC0\\uDCC2\\uDCC3\\uDDAF\\uDDB2-\\uDDB5\\uDDBC\\uDDBD\\uDDBF\\uDDC0\\uDDDC\\uDDDD\\uDE33-\\uDE3A\\uDE3D\\uDE3F\\uDE40\\uDEAB\\uDEAD\\uDEB0-\\uDEB5\\uDEB7\\uDF1D-\\uDF1F\\uDF22-\\uDF25\\uDF27-\\uDF2B]|\\uD806[\\uDC2F-\\uDC37\\uDC39\\uDC3A\\uDD30\\uDD3B\\uDD3C\\uDD3E\\uDD43\\uDDD4-\\uDDD7\\uDDDA\\uDDDB\\uDDE0\\uDE01-\\uDE0A\\uDE33-\\uDE38\\uDE3B-\\uDE3E\\uDE47\\uDE51-\\uDE56\\uDE59-\\uDE5B\\uDE8A-\\uDE96\\uDE98\\uDE99]|\\uD807[\\uDC30-\\uDC36\\uDC38-\\uDC3D\\uDC3F\\uDC92-\\uDCA7\\uDCAA-\\uDCB0\\uDCB2\\uDCB3\\uDCB5\\uDCB6\\uDD31-\\uDD36\\uDD3A\\uDD3C\\uDD3D\\uDD3F-\\uDD45\\uDD47\\uDD90\\uDD91\\uDD95\\uDD97\\uDEF3\\uDEF4]|\\uD81A[\\uDEF0-\\uDEF4\\uDF30-\\uDF36]|\\uD81B[\\uDF4F\\uDF8F-\\uDF92\\uDFE4]|\\uD82F[\\uDC9D\\uDC9E]|\\uD834[\\uDD65\\uDD67-\\uDD69\\uDD6E-\\uDD72\\uDD7B-\\uDD82\\uDD85-\\uDD8B\\uDDAA-\\uDDAD\\uDE42-\\uDE44]|\\uD836[\\uDE00-\\uDE36\\uDE3B-\\uDE6C\\uDE75\\uDE84\\uDE9B-\\uDE9F\\uDEA1-\\uDEAF]|\\uD838[\\uDC00-\\uDC06\\uDC08-\\uDC18\\uDC1B-\\uDC21\\uDC23\\uDC24\\uDC26-\\uDC2A\\uDD30-\\uDD36\\uDEEC-\\uDEEF]|\\uD83A[\\uDCD0-\\uDCD6\\uDD44-\\uDD4A]|\\uD83C[\\uDFFB-\\uDFFF]|\\uDB40[\\uDC20-\\uDC7F\\uDD00-\\uDDEF])*\\u200D$/;\n\nvar endsWithEmojiZWJ = str => {\n  return str.search(endingEmojiZWJ) !== -1;\n};\n\nvar endingRIs = /(?:\\uD83C[\\uDDE6-\\uDDFF])+$/g;\n\nvar endsWithOddNumberOfRIs = str => {\n  var match = str.match(endingRIs);\n\n  if (match === null) {\n    return false;\n  } else {\n    // A RI is represented by a surrogate pair.\n    var numRIs = match[0].length / 2;\n    return numRIs % 2 === 1;\n  }\n};\n\nvar TextTransforms = {\n  delete(editor, options) {\n    editor.delete(options);\n  },\n\n  insertFragment(editor, fragment, options) {\n    editor.insertFragment(fragment, options);\n  },\n\n  insertText(editor, text) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    Editor.withoutNormalizing(editor, () => {\n      var {\n        voids = false\n      } = options;\n      var {\n        at = getDefaultInsertLocation(editor)\n      } = options;\n\n      if (Path.isPath(at)) {\n        at = Editor.range(editor, at);\n      }\n\n      if (Range.isRange(at)) {\n        if (Range.isCollapsed(at)) {\n          at = at.anchor;\n        } else {\n          var end = Range.end(at);\n\n          if (!voids && Editor.void(editor, {\n            at: end\n          })) {\n            return;\n          }\n\n          var start = Range.start(at);\n          var startRef = Editor.pointRef(editor, start);\n          var endRef = Editor.pointRef(editor, end);\n          Transforms.delete(editor, {\n            at,\n            voids\n          });\n          var startPoint = startRef.unref();\n          var endPoint = endRef.unref();\n          at = startPoint || endPoint;\n          Transforms.setSelection(editor, {\n            anchor: at,\n            focus: at\n          });\n        }\n      }\n\n      if (!voids && Editor.void(editor, {\n        at\n      }) || Editor.elementReadOnly(editor, {\n        at\n      })) {\n        return;\n      }\n\n      var {\n        path,\n        offset\n      } = at;\n      if (text.length > 0) editor.apply({\n        type: 'insert_text',\n        path,\n        offset,\n        text\n      });\n    });\n  }\n\n};\n\nfunction ownKeys$9(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$9(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$9(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$9(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Transforms = _objectSpread$9(_objectSpread$9(_objectSpread$9(_objectSpread$9({}, GeneralTransforms), NodeTransforms), SelectionTransforms), TextTransforms);\n\nvar apply = (editor, op) => {\n  for (var ref of Editor.pathRefs(editor)) {\n    PathRef.transform(ref, op);\n  }\n\n  for (var _ref of Editor.pointRefs(editor)) {\n    PointRef.transform(_ref, op);\n  }\n\n  for (var _ref2 of Editor.rangeRefs(editor)) {\n    RangeRef.transform(_ref2, op);\n  }\n\n  var oldDirtyPaths = DIRTY_PATHS.get(editor) || [];\n  var oldDirtyPathKeys = DIRTY_PATH_KEYS.get(editor) || new Set();\n  var dirtyPaths;\n  var dirtyPathKeys;\n\n  var add = path => {\n    if (path) {\n      var key = path.join(',');\n\n      if (!dirtyPathKeys.has(key)) {\n        dirtyPathKeys.add(key);\n        dirtyPaths.push(path);\n      }\n    }\n  };\n\n  if (Path.operationCanTransformPath(op)) {\n    dirtyPaths = [];\n    dirtyPathKeys = new Set();\n\n    for (var path of oldDirtyPaths) {\n      var newPath = Path.transform(path, op);\n      add(newPath);\n    }\n  } else {\n    dirtyPaths = oldDirtyPaths;\n    dirtyPathKeys = oldDirtyPathKeys;\n  }\n\n  var newDirtyPaths = editor.getDirtyPaths(op);\n\n  for (var _path of newDirtyPaths) {\n    add(_path);\n  }\n\n  DIRTY_PATHS.set(editor, dirtyPaths);\n  DIRTY_PATH_KEYS.set(editor, dirtyPathKeys);\n  Transforms.transform(editor, op);\n  editor.operations.push(op);\n  Editor.normalize(editor, {\n    operation: op\n  }); // Clear any formats applied to the cursor if the selection changes.\n\n  if (op.type === 'set_selection') {\n    editor.marks = null;\n  }\n\n  if (!FLUSHING.get(editor)) {\n    FLUSHING.set(editor, true);\n    Promise.resolve().then(() => {\n      FLUSHING.set(editor, false);\n      editor.onChange({\n        operation: op\n      });\n      editor.operations = [];\n    });\n  }\n};\n\n/**\r\n * Get the \"dirty\" paths generated from an operation.\r\n */\n\nvar getDirtyPaths = (editor, op) => {\n  switch (op.type) {\n    case 'insert_text':\n    case 'remove_text':\n    case 'set_node':\n      {\n        var {\n          path\n        } = op;\n        return Path.levels(path);\n      }\n\n    case 'insert_node':\n      {\n        var {\n          node,\n          path: _path\n        } = op;\n        var levels = Path.levels(_path);\n        var descendants = Text.isText(node) ? [] : Array.from(Node.nodes(node), _ref => {\n          var [, p] = _ref;\n          return _path.concat(p);\n        });\n        return [...levels, ...descendants];\n      }\n\n    case 'merge_node':\n      {\n        var {\n          path: _path2\n        } = op;\n        var ancestors = Path.ancestors(_path2);\n        var previousPath = Path.previous(_path2);\n        return [...ancestors, previousPath];\n      }\n\n    case 'move_node':\n      {\n        var {\n          path: _path3,\n          newPath\n        } = op;\n\n        if (Path.equals(_path3, newPath)) {\n          return [];\n        }\n\n        var oldAncestors = [];\n        var newAncestors = [];\n\n        for (var ancestor of Path.ancestors(_path3)) {\n          var p = Path.transform(ancestor, op);\n          oldAncestors.push(p);\n        }\n\n        for (var _ancestor of Path.ancestors(newPath)) {\n          var _p = Path.transform(_ancestor, op);\n\n          newAncestors.push(_p);\n        }\n\n        var newParent = newAncestors[newAncestors.length - 1];\n        var newIndex = newPath[newPath.length - 1];\n        var resultPath = newParent.concat(newIndex);\n        return [...oldAncestors, ...newAncestors, resultPath];\n      }\n\n    case 'remove_node':\n      {\n        var {\n          path: _path4\n        } = op;\n\n        var _ancestors = Path.ancestors(_path4);\n\n        return [..._ancestors];\n      }\n\n    case 'split_node':\n      {\n        var {\n          path: _path5\n        } = op;\n\n        var _levels = Path.levels(_path5);\n\n        var nextPath = Path.next(_path5);\n        return [..._levels, nextPath];\n      }\n\n    default:\n      {\n        return [];\n      }\n  }\n};\n\nvar getFragment = editor => {\n  var {\n    selection\n  } = editor;\n\n  if (selection) {\n    return Node.fragment(editor, selection);\n  }\n\n  return [];\n};\n\nvar normalizeNode = (editor, entry) => {\n  var [node, path] = entry; // There are no core normalizations for text nodes.\n\n  if (Text.isText(node)) {\n    return;\n  } // Ensure that block and inline nodes have at least one text child.\n\n\n  if (Element.isElement(node) && node.children.length === 0) {\n    var child = {\n      text: ''\n    };\n    Transforms.insertNodes(editor, child, {\n      at: path.concat(0),\n      voids: true\n    });\n    return;\n  } // Determine whether the node should have block or inline children.\n\n\n  var shouldHaveInlines = Editor.isEditor(node) ? false : Element.isElement(node) && (editor.isInline(node) || node.children.length === 0 || Text.isText(node.children[0]) || editor.isInline(node.children[0])); // Since we'll be applying operations while iterating, keep track of an\n  // index that accounts for any added/removed nodes.\n\n  var n = 0;\n\n  for (var i = 0; i < node.children.length; i++, n++) {\n    var currentNode = Node.get(editor, path);\n    if (Text.isText(currentNode)) continue;\n    var _child = currentNode.children[n];\n    var prev = currentNode.children[n - 1];\n    var isLast = i === node.children.length - 1;\n    var isInlineOrText = Text.isText(_child) || Element.isElement(_child) && editor.isInline(_child); // Only allow block nodes in the top-level children and parent blocks\n    // that only contain block nodes. Similarly, only allow inline nodes in\n    // other inline nodes, or parent blocks that only contain inlines and\n    // text.\n\n    if (isInlineOrText !== shouldHaveInlines) {\n      Transforms.removeNodes(editor, {\n        at: path.concat(n),\n        voids: true\n      });\n      n--;\n    } else if (Element.isElement(_child)) {\n      // Ensure that inline nodes are surrounded by text nodes.\n      if (editor.isInline(_child)) {\n        if (prev == null || !Text.isText(prev)) {\n          var newChild = {\n            text: ''\n          };\n          Transforms.insertNodes(editor, newChild, {\n            at: path.concat(n),\n            voids: true\n          });\n          n++;\n        } else if (isLast) {\n          var _newChild = {\n            text: ''\n          };\n          Transforms.insertNodes(editor, _newChild, {\n            at: path.concat(n + 1),\n            voids: true\n          });\n          n++;\n        }\n      }\n    } else {\n      // Merge adjacent text nodes that are empty or match.\n      if (prev != null && Text.isText(prev)) {\n        if (Text.equals(_child, prev, {\n          loose: true\n        })) {\n          Transforms.mergeNodes(editor, {\n            at: path.concat(n),\n            voids: true\n          });\n          n--;\n        } else if (prev.text === '') {\n          Transforms.removeNodes(editor, {\n            at: path.concat(n - 1),\n            voids: true\n          });\n          n--;\n        } else if (_child.text === '') {\n          Transforms.removeNodes(editor, {\n            at: path.concat(n),\n            voids: true\n          });\n          n--;\n        }\n      }\n    }\n  }\n};\n\nvar shouldNormalize = (editor, _ref) => {\n  var {\n    iteration,\n    initialDirtyPathsLength\n  } = _ref;\n  var maxIterations = initialDirtyPathsLength * 42; // HACK: better way?\n\n  if (iteration > maxIterations) {\n    throw new Error(\"Could not completely normalize the editor after \".concat(maxIterations, \" iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\"));\n  }\n\n  return true;\n};\n\nvar above = function above(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    voids = false,\n    mode = 'lowest',\n    at = editor.selection,\n    match\n  } = options;\n\n  if (!at) {\n    return;\n  }\n\n  var path = Editor.path(editor, at);\n  var reverse = mode === 'lowest';\n\n  for (var [n, p] of Editor.levels(editor, {\n    at: path,\n    voids,\n    match,\n    reverse\n  })) {\n    if (Text.isText(n)) continue;\n\n    if (Range.isRange(at)) {\n      if (Path.isAncestor(p, at.anchor.path) && Path.isAncestor(p, at.focus.path)) {\n        return [n, p];\n      }\n    } else {\n      if (!Path.equals(path, p)) {\n        return [n, p];\n      }\n    }\n  }\n};\n\nfunction ownKeys$8(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$8(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$8(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$8(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar addMark = (editor, key, value) => {\n  var {\n    selection\n  } = editor;\n\n  if (selection) {\n    var match = (node, path) => {\n      if (!Text.isText(node)) {\n        return false; // marks can only be applied to text\n      }\n\n      var [parentNode, parentPath] = Editor.parent(editor, path);\n      return !editor.isVoid(parentNode) || editor.markableVoid(parentNode);\n    };\n\n    var expandedSelection = Range.isExpanded(selection);\n    var markAcceptingVoidSelected = false;\n\n    if (!expandedSelection) {\n      var [selectedNode, selectedPath] = Editor.node(editor, selection);\n\n      if (selectedNode && match(selectedNode, selectedPath)) {\n        var [parentNode] = Editor.parent(editor, selectedPath);\n        markAcceptingVoidSelected = parentNode && editor.markableVoid(parentNode);\n      }\n    }\n\n    if (expandedSelection || markAcceptingVoidSelected) {\n      Transforms.setNodes(editor, {\n        [key]: value\n      }, {\n        match,\n        split: true,\n        voids: true\n      });\n    } else {\n      var marks = _objectSpread$8(_objectSpread$8({}, Editor.marks(editor) || {}), {}, {\n        [key]: value\n      });\n\n      editor.marks = marks;\n\n      if (!FLUSHING.get(editor)) {\n        editor.onChange();\n      }\n    }\n  }\n};\n\nfunction ownKeys$7(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$7(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$7(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$7(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar after = function after(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var anchor = Editor.point(editor, at, {\n    edge: 'end'\n  });\n  var focus = Editor.end(editor, []);\n  var range = {\n    anchor,\n    focus\n  };\n  var {\n    distance = 1\n  } = options;\n  var d = 0;\n  var target;\n\n  for (var p of Editor.positions(editor, _objectSpread$7(_objectSpread$7({}, options), {}, {\n    at: range\n  }))) {\n    if (d > distance) {\n      break;\n    }\n\n    if (d !== 0) {\n      target = p;\n    }\n\n    d++;\n  }\n\n  return target;\n};\n\nfunction ownKeys$6(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$6(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$6(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$6(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar before = function before(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var anchor = Editor.start(editor, []);\n  var focus = Editor.point(editor, at, {\n    edge: 'start'\n  });\n  var range = {\n    anchor,\n    focus\n  };\n  var {\n    distance = 1\n  } = options;\n  var d = 0;\n  var target;\n\n  for (var p of Editor.positions(editor, _objectSpread$6(_objectSpread$6({}, options), {}, {\n    at: range,\n    reverse: true\n  }))) {\n    if (d > distance) {\n      break;\n    }\n\n    if (d !== 0) {\n      target = p;\n    }\n\n    d++;\n  }\n\n  return target;\n};\n\nvar deleteBackward = (editor, unit) => {\n  var {\n    selection\n  } = editor;\n\n  if (selection && Range.isCollapsed(selection)) {\n    Transforms.delete(editor, {\n      unit,\n      reverse: true\n    });\n  }\n};\n\nvar deleteForward = (editor, unit) => {\n  var {\n    selection\n  } = editor;\n\n  if (selection && Range.isCollapsed(selection)) {\n    Transforms.delete(editor, {\n      unit\n    });\n  }\n};\n\nvar deleteFragment = function deleteFragment(editor) {\n  var {\n    direction = 'forward'\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    selection\n  } = editor;\n\n  if (selection && Range.isExpanded(selection)) {\n    Transforms.delete(editor, {\n      reverse: direction === 'backward'\n    });\n  }\n};\n\nvar edges = (editor, at) => {\n  return [Editor.start(editor, at), Editor.end(editor, at)];\n};\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar elementReadOnly = function elementReadOnly(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Editor.above(editor, _objectSpread$5(_objectSpread$5({}, options), {}, {\n    match: n => Element.isElement(n) && Editor.isElementReadOnly(editor, n)\n  }));\n};\n\nvar end = (editor, at) => {\n  return Editor.point(editor, at, {\n    edge: 'end'\n  });\n};\n\nvar first = (editor, at) => {\n  var path = Editor.path(editor, at, {\n    edge: 'start'\n  });\n  return Editor.node(editor, path);\n};\n\nvar fragment = (editor, at) => {\n  var range = Editor.range(editor, at);\n  return Node.fragment(editor, range);\n};\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar getVoid = function getVoid(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Editor.above(editor, _objectSpread$4(_objectSpread$4({}, options), {}, {\n    match: n => Element.isElement(n) && Editor.isVoid(editor, n)\n  }));\n};\n\nvar hasBlocks = (editor, element) => {\n  return element.children.some(n => Element.isElement(n) && Editor.isBlock(editor, n));\n};\n\nvar hasInlines = (editor, element) => {\n  return element.children.some(n => Text.isText(n) || Editor.isInline(editor, n));\n};\n\nvar hasPath = (editor, path) => {\n  return Node.has(editor, path);\n};\n\nvar hasTexts = (editor, element) => {\n  return element.children.every(n => Text.isText(n));\n};\n\nvar insertBreak = editor => {\n  Transforms.splitNodes(editor, {\n    always: true\n  });\n};\n\nvar insertNode = (editor, node, options) => {\n  Transforms.insertNodes(editor, node, options);\n};\n\nvar insertSoftBreak = editor => {\n  Transforms.splitNodes(editor, {\n    always: true\n  });\n};\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar insertText = function insertText(editor, text) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    selection,\n    marks\n  } = editor;\n\n  if (selection) {\n    if (marks) {\n      var node = _objectSpread$3({\n        text\n      }, marks);\n\n      Transforms.insertNodes(editor, node, {\n        at: options.at,\n        voids: options.voids\n      });\n    } else {\n      Transforms.insertText(editor, text, options);\n    }\n\n    editor.marks = null;\n  }\n};\n\nvar isBlock = (editor, value) => {\n  return !editor.isInline(value);\n};\n\nvar isEdge = (editor, point, at) => {\n  return Editor.isStart(editor, point, at) || Editor.isEnd(editor, point, at);\n};\n\nvar isEmpty = (editor, element) => {\n  var {\n    children\n  } = element;\n  var [first] = children;\n  return children.length === 0 || children.length === 1 && Text.isText(first) && first.text === '' && !editor.isVoid(element);\n};\n\nvar isEnd = (editor, point, at) => {\n  var end = Editor.end(editor, at);\n  return Point.equals(point, end);\n};\n\nvar isNormalizing = editor => {\n  var isNormalizing = NORMALIZING.get(editor);\n  return isNormalizing === undefined ? true : isNormalizing;\n};\n\nvar isStart = (editor, point, at) => {\n  // PERF: If the offset isn't `0` we know it's not the start.\n  if (point.offset !== 0) {\n    return false;\n  }\n\n  var start = Editor.start(editor, at);\n  return Point.equals(point, start);\n};\n\nvar last = (editor, at) => {\n  var path = Editor.path(editor, at, {\n    edge: 'end'\n  });\n  return Editor.node(editor, path);\n};\n\nvar leaf = function leaf(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var path = Editor.path(editor, at, options);\n  var node = Node.leaf(editor, path);\n  return [node, path];\n};\n\nfunction* levels(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    at = editor.selection,\n    reverse = false,\n    voids = false\n  } = options;\n  var {\n    match\n  } = options;\n\n  if (match == null) {\n    match = () => true;\n  }\n\n  if (!at) {\n    return;\n  }\n\n  var levels = [];\n  var path = Editor.path(editor, at);\n\n  for (var [n, p] of Node.levels(editor, path)) {\n    if (!match(n, p)) {\n      continue;\n    }\n\n    levels.push([n, p]);\n\n    if (!voids && Element.isElement(n) && Editor.isVoid(editor, n)) {\n      break;\n    }\n  }\n\n  if (reverse) {\n    levels.reverse();\n  }\n\n  yield* levels;\n}\n\nvar _excluded$1 = [\"text\"],\n    _excluded2$1 = [\"text\"];\nvar marks = function marks(editor) {\n  var {\n    marks,\n    selection\n  } = editor;\n\n  if (!selection) {\n    return null;\n  }\n\n  if (marks) {\n    return marks;\n  }\n\n  if (Range.isExpanded(selection)) {\n    var [match] = Editor.nodes(editor, {\n      match: Text.isText\n    });\n\n    if (match) {\n      var [_node] = match;\n\n      var _rest = _objectWithoutProperties(_node, _excluded$1);\n\n      return _rest;\n    } else {\n      return {};\n    }\n  }\n\n  var {\n    anchor\n  } = selection;\n  var {\n    path\n  } = anchor;\n  var [node] = Editor.leaf(editor, path);\n\n  if (anchor.offset === 0) {\n    var prev = Editor.previous(editor, {\n      at: path,\n      match: Text.isText\n    });\n    var markedVoid = Editor.above(editor, {\n      match: n => Element.isElement(n) && Editor.isVoid(editor, n) && editor.markableVoid(n)\n    });\n\n    if (!markedVoid) {\n      var block = Editor.above(editor, {\n        match: n => Element.isElement(n) && Editor.isBlock(editor, n)\n      });\n\n      if (prev && block) {\n        var [prevNode, prevPath] = prev;\n        var [, blockPath] = block;\n\n        if (Path.isAncestor(blockPath, prevPath)) {\n          node = prevNode;\n        }\n      }\n    }\n  }\n\n  var rest = _objectWithoutProperties(node, _excluded2$1);\n\n  return rest;\n};\n\nvar next = function next(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    mode = 'lowest',\n    voids = false\n  } = options;\n  var {\n    match,\n    at = editor.selection\n  } = options;\n\n  if (!at) {\n    return;\n  }\n\n  var pointAfterLocation = Editor.after(editor, at, {\n    voids\n  });\n  if (!pointAfterLocation) return;\n  var [, to] = Editor.last(editor, []);\n  var span = [pointAfterLocation.path, to];\n\n  if (Path.isPath(at) && at.length === 0) {\n    throw new Error(\"Cannot get the next node from the root node!\");\n  }\n\n  if (match == null) {\n    if (Path.isPath(at)) {\n      var [parent] = Editor.parent(editor, at);\n\n      match = n => parent.children.includes(n);\n    } else {\n      match = () => true;\n    }\n  }\n\n  var [next] = Editor.nodes(editor, {\n    at: span,\n    match,\n    mode,\n    voids\n  });\n  return next;\n};\n\nvar node = function node(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var path = Editor.path(editor, at, options);\n  var node = Node.get(editor, path);\n  return [node, path];\n};\n\nfunction* nodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    at = editor.selection,\n    mode = 'all',\n    universal = false,\n    reverse = false,\n    voids = false,\n    ignoreNonSelectable = false\n  } = options;\n  var {\n    match\n  } = options;\n\n  if (!match) {\n    match = () => true;\n  }\n\n  if (!at) {\n    return;\n  }\n\n  var from;\n  var to;\n\n  if (Span.isSpan(at)) {\n    from = at[0];\n    to = at[1];\n  } else {\n    var first = Editor.path(editor, at, {\n      edge: 'start'\n    });\n    var last = Editor.path(editor, at, {\n      edge: 'end'\n    });\n    from = reverse ? last : first;\n    to = reverse ? first : last;\n  }\n\n  var nodeEntries = Node.nodes(editor, {\n    reverse,\n    from,\n    to,\n    pass: _ref => {\n      var [node] = _ref;\n      if (!Element.isElement(node)) return false;\n      if (!voids && (Editor.isVoid(editor, node) || Editor.isElementReadOnly(editor, node))) return true;\n      if (ignoreNonSelectable && !Editor.isSelectable(editor, node)) return true;\n      return false;\n    }\n  });\n  var matches = [];\n  var hit;\n\n  for (var [node, path] of nodeEntries) {\n    if (ignoreNonSelectable && Element.isElement(node) && !Editor.isSelectable(editor, node)) {\n      continue;\n    }\n\n    var isLower = hit && Path.compare(path, hit[1]) === 0; // In highest mode any node lower than the last hit is not a match.\n\n    if (mode === 'highest' && isLower) {\n      continue;\n    }\n\n    if (!match(node, path)) {\n      // If we've arrived at a leaf text node that is not lower than the last\n      // hit, then we've found a branch that doesn't include a match, which\n      // means the match is not universal.\n      if (universal && !isLower && Text.isText(node)) {\n        return;\n      } else {\n        continue;\n      }\n    } // If there's a match and it's lower than the last, update the hit.\n\n\n    if (mode === 'lowest' && isLower) {\n      hit = [node, path];\n      continue;\n    } // In lowest mode we emit the last hit, once it's guaranteed lowest.\n\n\n    var emit = mode === 'lowest' ? hit : [node, path];\n\n    if (emit) {\n      if (universal) {\n        matches.push(emit);\n      } else {\n        yield emit;\n      }\n    }\n\n    hit = [node, path];\n  } // Since lowest is always emitting one behind, catch up at the end.\n\n\n  if (mode === 'lowest' && hit) {\n    if (universal) {\n      matches.push(hit);\n    } else {\n      yield hit;\n    }\n  } // Universal defers to ensure that the match occurs in every branch, so we\n  // yield all of the matches after iterating.\n\n\n  if (universal) {\n    yield* matches;\n  }\n}\n\nvar normalize = function normalize(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    force = false,\n    operation\n  } = options;\n\n  var getDirtyPaths = editor => {\n    return DIRTY_PATHS.get(editor) || [];\n  };\n\n  var getDirtyPathKeys = editor => {\n    return DIRTY_PATH_KEYS.get(editor) || new Set();\n  };\n\n  var popDirtyPath = editor => {\n    var path = getDirtyPaths(editor).pop();\n    var key = path.join(',');\n    getDirtyPathKeys(editor).delete(key);\n    return path;\n  };\n\n  if (!Editor.isNormalizing(editor)) {\n    return;\n  }\n\n  if (force) {\n    var allPaths = Array.from(Node.nodes(editor), _ref => {\n      var [, p] = _ref;\n      return p;\n    });\n    var allPathKeys = new Set(allPaths.map(p => p.join(',')));\n    DIRTY_PATHS.set(editor, allPaths);\n    DIRTY_PATH_KEYS.set(editor, allPathKeys);\n  }\n\n  if (getDirtyPaths(editor).length === 0) {\n    return;\n  }\n\n  Editor.withoutNormalizing(editor, () => {\n    /*\r\n      Fix dirty elements with no children.\r\n      editor.normalizeNode() does fix this, but some normalization fixes also require it to work.\r\n      Running an initial pass avoids the catch-22 race condition.\r\n    */\n    for (var dirtyPath of getDirtyPaths(editor)) {\n      if (Node.has(editor, dirtyPath)) {\n        var entry = Editor.node(editor, dirtyPath);\n        var [node, _] = entry;\n        /*\r\n          The default normalizer inserts an empty text node in this scenario, but it can be customised.\r\n          So there is some risk here.\r\n                   As long as the normalizer only inserts child nodes for this case it is safe to do in any order;\r\n          by definition adding children to an empty node can't cause other paths to change.\r\n        */\n\n        if (Element.isElement(node) && node.children.length === 0) {\n          editor.normalizeNode(entry, {\n            operation\n          });\n        }\n      }\n    }\n\n    var dirtyPaths = getDirtyPaths(editor);\n    var initialDirtyPathsLength = dirtyPaths.length;\n    var iteration = 0;\n\n    while (dirtyPaths.length !== 0) {\n      if (!editor.shouldNormalize({\n        dirtyPaths,\n        iteration,\n        initialDirtyPathsLength,\n        operation\n      })) {\n        return;\n      }\n\n      var _dirtyPath = popDirtyPath(editor); // If the node doesn't exist in the tree, it does not need to be normalized.\n\n\n      if (Node.has(editor, _dirtyPath)) {\n        var _entry = Editor.node(editor, _dirtyPath);\n\n        editor.normalizeNode(_entry, {\n          operation\n        });\n      }\n\n      iteration++;\n      dirtyPaths = getDirtyPaths(editor);\n    }\n  });\n};\n\nvar parent = function parent(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var path = Editor.path(editor, at, options);\n  var parentPath = Path.parent(path);\n  var entry = Editor.node(editor, parentPath);\n  return entry;\n};\n\nvar pathRef = function pathRef(editor, path) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    affinity = 'forward'\n  } = options;\n  var ref = {\n    current: path,\n    affinity,\n\n    unref() {\n      var {\n        current\n      } = ref;\n      var pathRefs = Editor.pathRefs(editor);\n      pathRefs.delete(ref);\n      ref.current = null;\n      return current;\n    }\n\n  };\n  var refs = Editor.pathRefs(editor);\n  refs.add(ref);\n  return ref;\n};\n\nvar pathRefs = editor => {\n  var refs = PATH_REFS.get(editor);\n\n  if (!refs) {\n    refs = new Set();\n    PATH_REFS.set(editor, refs);\n  }\n\n  return refs;\n};\n\nvar path = function path(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    depth,\n    edge\n  } = options;\n\n  if (Path.isPath(at)) {\n    if (edge === 'start') {\n      var [, firstPath] = Node.first(editor, at);\n      at = firstPath;\n    } else if (edge === 'end') {\n      var [, lastPath] = Node.last(editor, at);\n      at = lastPath;\n    }\n  }\n\n  if (Range.isRange(at)) {\n    if (edge === 'start') {\n      at = Range.start(at);\n    } else if (edge === 'end') {\n      at = Range.end(at);\n    } else {\n      at = Path.common(at.anchor.path, at.focus.path);\n    }\n  }\n\n  if (Point.isPoint(at)) {\n    at = at.path;\n  }\n\n  if (depth != null) {\n    at = at.slice(0, depth);\n  }\n\n  return at;\n};\n\nvar pointRef = function pointRef(editor, point) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    affinity = 'forward'\n  } = options;\n  var ref = {\n    current: point,\n    affinity,\n\n    unref() {\n      var {\n        current\n      } = ref;\n      var pointRefs = Editor.pointRefs(editor);\n      pointRefs.delete(ref);\n      ref.current = null;\n      return current;\n    }\n\n  };\n  var refs = Editor.pointRefs(editor);\n  refs.add(ref);\n  return ref;\n};\n\nvar pointRefs = editor => {\n  var refs = POINT_REFS.get(editor);\n\n  if (!refs) {\n    refs = new Set();\n    POINT_REFS.set(editor, refs);\n  }\n\n  return refs;\n};\n\nvar point = function point(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    edge = 'start'\n  } = options;\n\n  if (Path.isPath(at)) {\n    var path;\n\n    if (edge === 'end') {\n      var [, lastPath] = Node.last(editor, at);\n      path = lastPath;\n    } else {\n      var [, firstPath] = Node.first(editor, at);\n      path = firstPath;\n    }\n\n    var node = Node.get(editor, path);\n\n    if (!Text.isText(node)) {\n      throw new Error(\"Cannot get the \".concat(edge, \" point in the node at path [\").concat(at, \"] because it has no \").concat(edge, \" text node.\"));\n    }\n\n    return {\n      path,\n      offset: edge === 'end' ? node.text.length : 0\n    };\n  }\n\n  if (Range.isRange(at)) {\n    var [start, end] = Range.edges(at);\n    return edge === 'start' ? start : end;\n  }\n\n  return at;\n};\n\nfunction* positions(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    at = editor.selection,\n    unit = 'offset',\n    reverse = false,\n    voids = false,\n    ignoreNonSelectable = false\n  } = options;\n\n  if (!at) {\n    return;\n  }\n  /**\r\n   * Algorithm notes:\r\n   *\r\n   * Each step `distance` is dynamic depending on the underlying text\r\n   * and the `unit` specified.  Each step, e.g., a line or word, may\r\n   * span multiple text nodes, so we iterate through the text both on\r\n   * two levels in step-sync:\r\n   *\r\n   * `leafText` stores the text on a text leaf level, and is advanced\r\n   * through using the counters `leafTextOffset` and `leafTextRemaining`.\r\n   *\r\n   * `blockText` stores the text on a block level, and is shortened\r\n   * by `distance` every time it is advanced.\r\n   *\r\n   * We only maintain a window of one blockText and one leafText because\r\n   * a block node always appears before all of its leaf nodes.\r\n   */\n\n\n  var range = Editor.range(editor, at);\n  var [start, end] = Range.edges(range);\n  var first = reverse ? end : start;\n  var isNewBlock = false;\n  var blockText = '';\n  var distance = 0; // Distance for leafText to catch up to blockText.\n\n  var leafTextRemaining = 0;\n  var leafTextOffset = 0; // Iterate through all nodes in range, grabbing entire textual content\n  // of block nodes in blockText, and text nodes in leafText.\n  // Exploits the fact that nodes are sequenced in such a way that we first\n  // encounter the block node, then all of its text nodes, so when iterating\n  // through the blockText and leafText we just need to remember a window of\n  // one block node and leaf node, respectively.\n\n  for (var [node, path] of Editor.nodes(editor, {\n    at,\n    reverse,\n    voids,\n    ignoreNonSelectable\n  })) {\n    /*\r\n     * ELEMENT NODE - Yield position(s) for voids, collect blockText for blocks\r\n     */\n    if (Element.isElement(node)) {\n      // Void nodes are a special case, so by default we will always\n      // yield their first point. If the `voids` option is set to true,\n      // then we will iterate over their content.\n      if (!voids && (editor.isVoid(node) || editor.isElementReadOnly(node))) {\n        yield Editor.start(editor, path);\n        continue;\n      } // Inline element nodes are ignored as they don't themselves\n      // contribute to `blockText` or `leafText` - their parent and\n      // children do.\n\n\n      if (editor.isInline(node)) continue; // Block element node - set `blockText` to its text content.\n\n      if (Editor.hasInlines(editor, node)) {\n        // We always exhaust block nodes before encountering a new one:\n        //   console.assert(blockText === '',\n        //     `blockText='${blockText}' - `+\n        //     `not exhausted before new block node`, path)\n        // Ensure range considered is capped to `range`, in the\n        // start/end edge cases where block extends beyond range.\n        // Equivalent to this, but presumably more performant:\n        //   blockRange = Editor.range(editor, ...Editor.edges(editor, path))\n        //   blockRange = Range.intersection(range, blockRange) // intersect\n        //   blockText = Editor.string(editor, blockRange, { voids })\n        var e = Path.isAncestor(path, end.path) ? end : Editor.end(editor, path);\n        var s = Path.isAncestor(path, start.path) ? start : Editor.start(editor, path);\n        blockText = Editor.string(editor, {\n          anchor: s,\n          focus: e\n        }, {\n          voids\n        });\n        isNewBlock = true;\n      }\n    }\n    /*\r\n     * TEXT LEAF NODE - Iterate through text content, yielding\r\n     * positions every `distance` offset according to `unit`.\r\n     */\n\n\n    if (Text.isText(node)) {\n      var isFirst = Path.equals(path, first.path); // Proof that we always exhaust text nodes before encountering a new one:\n      //   console.assert(leafTextRemaining <= 0,\n      //     `leafTextRemaining=${leafTextRemaining} - `+\n      //     `not exhausted before new leaf text node`, path)\n      // Reset `leafText` counters for new text node.\n\n      if (isFirst) {\n        leafTextRemaining = reverse ? first.offset : node.text.length - first.offset;\n        leafTextOffset = first.offset; // Works for reverse too.\n      } else {\n        leafTextRemaining = node.text.length;\n        leafTextOffset = reverse ? leafTextRemaining : 0;\n      } // Yield position at the start of node (potentially).\n\n\n      if (isFirst || isNewBlock || unit === 'offset') {\n        yield {\n          path,\n          offset: leafTextOffset\n        };\n        isNewBlock = false;\n      } // Yield positions every (dynamically calculated) `distance` offset.\n\n\n      while (true) {\n        // If `leafText` has caught up with `blockText` (distance=0),\n        // and if blockText is exhausted, break to get another block node,\n        // otherwise advance blockText forward by the new `distance`.\n        if (distance === 0) {\n          if (blockText === '') break;\n          distance = calcDistance(blockText, unit, reverse); // Split the string at the previously found distance and use the\n          // remaining string for the next iteration.\n\n          blockText = splitByCharacterDistance(blockText, distance, reverse)[1];\n        } // Advance `leafText` by the current `distance`.\n\n\n        leafTextOffset = reverse ? leafTextOffset - distance : leafTextOffset + distance;\n        leafTextRemaining = leafTextRemaining - distance; // If `leafText` is exhausted, break to get a new leaf node\n        // and set distance to the overflow amount, so we'll (maybe)\n        // catch up to blockText in the next leaf text node.\n\n        if (leafTextRemaining < 0) {\n          distance = -leafTextRemaining;\n          break;\n        } // Successfully walked `distance` offsets through `leafText`\n        // to catch up with `blockText`, so we can reset `distance`\n        // and yield this position in this node.\n\n\n        distance = 0;\n        yield {\n          path,\n          offset: leafTextOffset\n        };\n      }\n    }\n  } // Proof that upon completion, we've exahusted both leaf and block text:\n  //   console.assert(leafTextRemaining <= 0, \"leafText wasn't exhausted\")\n  //   console.assert(blockText === '', \"blockText wasn't exhausted\")\n  // Helper:\n  // Return the distance in offsets for a step of size `unit` on given string.\n\n\n  function calcDistance(text, unit, reverse) {\n    if (unit === 'character') {\n      return getCharacterDistance(text, reverse);\n    } else if (unit === 'word') {\n      return getWordDistance(text, reverse);\n    } else if (unit === 'line' || unit === 'block') {\n      return text.length;\n    }\n\n    return 1;\n  }\n}\n\nvar previous = function previous(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    mode = 'lowest',\n    voids = false\n  } = options;\n  var {\n    match,\n    at = editor.selection\n  } = options;\n\n  if (!at) {\n    return;\n  }\n\n  var pointBeforeLocation = Editor.before(editor, at, {\n    voids\n  });\n\n  if (!pointBeforeLocation) {\n    return;\n  }\n\n  var [, to] = Editor.first(editor, []); // The search location is from the start of the document to the path of\n  // the point before the location passed in\n\n  var span = [pointBeforeLocation.path, to];\n\n  if (Path.isPath(at) && at.length === 0) {\n    throw new Error(\"Cannot get the previous node from the root node!\");\n  }\n\n  if (match == null) {\n    if (Path.isPath(at)) {\n      var [parent] = Editor.parent(editor, at);\n\n      match = n => parent.children.includes(n);\n    } else {\n      match = () => true;\n    }\n  }\n\n  var [previous] = Editor.nodes(editor, {\n    reverse: true,\n    at: span,\n    match,\n    mode,\n    voids\n  });\n  return previous;\n};\n\nvar rangeRef = function rangeRef(editor, range) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    affinity = 'forward'\n  } = options;\n  var ref = {\n    current: range,\n    affinity,\n\n    unref() {\n      var {\n        current\n      } = ref;\n      var rangeRefs = Editor.rangeRefs(editor);\n      rangeRefs.delete(ref);\n      ref.current = null;\n      return current;\n    }\n\n  };\n  var refs = Editor.rangeRefs(editor);\n  refs.add(ref);\n  return ref;\n};\n\nvar rangeRefs = editor => {\n  var refs = RANGE_REFS.get(editor);\n\n  if (!refs) {\n    refs = new Set();\n    RANGE_REFS.set(editor, refs);\n  }\n\n  return refs;\n};\n\nvar range = (editor, at, to) => {\n  if (Range.isRange(at) && !to) {\n    return at;\n  }\n\n  var start = Editor.start(editor, at);\n  var end = Editor.end(editor, to || at);\n  return {\n    anchor: start,\n    focus: end\n  };\n};\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar removeMark = (editor, key) => {\n  var {\n    selection\n  } = editor;\n\n  if (selection) {\n    var match = (node, path) => {\n      if (!Text.isText(node)) {\n        return false; // marks can only be applied to text\n      }\n\n      var [parentNode, parentPath] = Editor.parent(editor, path);\n      return !editor.isVoid(parentNode) || editor.markableVoid(parentNode);\n    };\n\n    var expandedSelection = Range.isExpanded(selection);\n    var markAcceptingVoidSelected = false;\n\n    if (!expandedSelection) {\n      var [selectedNode, selectedPath] = Editor.node(editor, selection);\n\n      if (selectedNode && match(selectedNode, selectedPath)) {\n        var [parentNode] = Editor.parent(editor, selectedPath);\n        markAcceptingVoidSelected = parentNode && editor.markableVoid(parentNode);\n      }\n    }\n\n    if (expandedSelection || markAcceptingVoidSelected) {\n      Transforms.unsetNodes(editor, key, {\n        match,\n        split: true,\n        voids: true\n      });\n    } else {\n      var marks = _objectSpread$2({}, Editor.marks(editor) || {});\n\n      delete marks[key];\n      editor.marks = marks;\n\n      if (!FLUSHING.get(editor)) {\n        editor.onChange();\n      }\n    }\n  }\n};\n\nvar setNormalizing = (editor, isNormalizing) => {\n  NORMALIZING.set(editor, isNormalizing);\n};\n\nvar start = (editor, at) => {\n  return Editor.point(editor, at, {\n    edge: 'start'\n  });\n};\n\nvar string = function string(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    voids = false\n  } = options;\n  var range = Editor.range(editor, at);\n  var [start, end] = Range.edges(range);\n  var text = '';\n\n  for (var [node, path] of Editor.nodes(editor, {\n    at: range,\n    match: Text.isText,\n    voids\n  })) {\n    var t = node.text;\n\n    if (Path.equals(path, end.path)) {\n      t = t.slice(0, end.offset);\n    }\n\n    if (Path.equals(path, start.path)) {\n      t = t.slice(start.offset);\n    }\n\n    text += t;\n  }\n\n  return text;\n};\n\nvar unhangRange = function unhangRange(editor, range) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    voids = false\n  } = options;\n  var [start, end] = Range.edges(range); // PERF: exit early if we can guarantee that the range isn't hanging.\n\n  if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range) || Path.hasPrevious(end.path)) {\n    return range;\n  }\n\n  var endBlock = Editor.above(editor, {\n    at: end,\n    match: n => Element.isElement(n) && Editor.isBlock(editor, n),\n    voids\n  });\n  var blockPath = endBlock ? endBlock[1] : [];\n  var first = Editor.start(editor, start);\n  var before = {\n    anchor: first,\n    focus: end\n  };\n  var skip = true;\n\n  for (var [node, path] of Editor.nodes(editor, {\n    at: before,\n    match: Text.isText,\n    reverse: true,\n    voids\n  })) {\n    if (skip) {\n      skip = false;\n      continue;\n    }\n\n    if (node.text !== '' || Path.isBefore(path, blockPath)) {\n      end = {\n        path,\n        offset: node.text.length\n      };\n      break;\n    }\n  }\n\n  return {\n    anchor: start,\n    focus: end\n  };\n};\n\nvar withoutNormalizing = (editor, fn) => {\n  var value = Editor.isNormalizing(editor);\n  Editor.setNormalizing(editor, false);\n\n  try {\n    fn();\n  } finally {\n    Editor.setNormalizing(editor, value);\n  }\n\n  Editor.normalize(editor);\n};\n\nvar deleteText = function deleteText(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var _Editor$void, _Editor$void2;\n\n    var {\n      reverse = false,\n      unit = 'character',\n      distance = 1,\n      voids = false\n    } = options;\n    var {\n      at = editor.selection,\n      hanging = false\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    var isCollapsed = false;\n\n    if (Range.isRange(at) && Range.isCollapsed(at)) {\n      isCollapsed = true;\n      at = at.anchor;\n    }\n\n    if (Point.isPoint(at)) {\n      var furthestVoid = Editor.void(editor, {\n        at,\n        mode: 'highest'\n      });\n\n      if (!voids && furthestVoid) {\n        var [, voidPath] = furthestVoid;\n        at = voidPath;\n      } else {\n        var opts = {\n          unit,\n          distance\n        };\n        var target = reverse ? Editor.before(editor, at, opts) || Editor.start(editor, []) : Editor.after(editor, at, opts) || Editor.end(editor, []);\n        at = {\n          anchor: at,\n          focus: target\n        };\n        hanging = true;\n      }\n    }\n\n    if (Path.isPath(at)) {\n      Transforms.removeNodes(editor, {\n        at,\n        voids\n      });\n      return;\n    }\n\n    if (Range.isCollapsed(at)) {\n      return;\n    }\n\n    if (!hanging) {\n      var [, _end] = Range.edges(at);\n      var endOfDoc = Editor.end(editor, []);\n\n      if (!Point.equals(_end, endOfDoc)) {\n        at = Editor.unhangRange(editor, at, {\n          voids\n        });\n      }\n    }\n\n    var [start, end] = Range.edges(at);\n    var startBlock = Editor.above(editor, {\n      match: n => Element.isElement(n) && Editor.isBlock(editor, n),\n      at: start,\n      voids\n    });\n    var endBlock = Editor.above(editor, {\n      match: n => Element.isElement(n) && Editor.isBlock(editor, n),\n      at: end,\n      voids\n    });\n    var isAcrossBlocks = startBlock && endBlock && !Path.equals(startBlock[1], endBlock[1]);\n    var isSingleText = Path.equals(start.path, end.path);\n    var startNonEditable = voids ? null : (_Editor$void = Editor.void(editor, {\n      at: start,\n      mode: 'highest'\n    })) !== null && _Editor$void !== void 0 ? _Editor$void : Editor.elementReadOnly(editor, {\n      at: start,\n      mode: 'highest'\n    });\n    var endNonEditable = voids ? null : (_Editor$void2 = Editor.void(editor, {\n      at: end,\n      mode: 'highest'\n    })) !== null && _Editor$void2 !== void 0 ? _Editor$void2 : Editor.elementReadOnly(editor, {\n      at: end,\n      mode: 'highest'\n    }); // If the start or end points are inside an inline void, nudge them out.\n\n    if (startNonEditable) {\n      var before = Editor.before(editor, start);\n\n      if (before && startBlock && Path.isAncestor(startBlock[1], before.path)) {\n        start = before;\n      }\n    }\n\n    if (endNonEditable) {\n      var after = Editor.after(editor, end);\n\n      if (after && endBlock && Path.isAncestor(endBlock[1], after.path)) {\n        end = after;\n      }\n    } // Get the highest nodes that are completely inside the range, as well as\n    // the start and end nodes.\n\n\n    var matches = [];\n    var lastPath;\n\n    for (var entry of Editor.nodes(editor, {\n      at,\n      voids\n    })) {\n      var [node, path] = entry;\n\n      if (lastPath && Path.compare(path, lastPath) === 0) {\n        continue;\n      }\n\n      if (!voids && Element.isElement(node) && (Editor.isVoid(editor, node) || Editor.isElementReadOnly(editor, node)) || !Path.isCommon(path, start.path) && !Path.isCommon(path, end.path)) {\n        matches.push(entry);\n        lastPath = path;\n      }\n    }\n\n    var pathRefs = Array.from(matches, _ref => {\n      var [, p] = _ref;\n      return Editor.pathRef(editor, p);\n    });\n    var startRef = Editor.pointRef(editor, start);\n    var endRef = Editor.pointRef(editor, end);\n    var removedText = '';\n\n    if (!isSingleText && !startNonEditable) {\n      var _point = startRef.current;\n      var [_node] = Editor.leaf(editor, _point);\n      var {\n        path: _path\n      } = _point;\n      var {\n        offset\n      } = start;\n\n      var text = _node.text.slice(offset);\n\n      if (text.length > 0) {\n        editor.apply({\n          type: 'remove_text',\n          path: _path,\n          offset,\n          text\n        });\n        removedText = text;\n      }\n    }\n\n    pathRefs.reverse().map(r => r.unref()).filter(r => r !== null).forEach(p => Transforms.removeNodes(editor, {\n      at: p,\n      voids\n    }));\n\n    if (!endNonEditable) {\n      var _point2 = endRef.current;\n      var [_node2] = Editor.leaf(editor, _point2);\n      var {\n        path: _path2\n      } = _point2;\n\n      var _offset = isSingleText ? start.offset : 0;\n\n      var _text = _node2.text.slice(_offset, end.offset);\n\n      if (_text.length > 0) {\n        editor.apply({\n          type: 'remove_text',\n          path: _path2,\n          offset: _offset,\n          text: _text\n        });\n        removedText = _text;\n      }\n    }\n\n    if (!isSingleText && isAcrossBlocks && endRef.current && startRef.current) {\n      Transforms.mergeNodes(editor, {\n        at: endRef.current,\n        hanging: true,\n        voids\n      });\n    } // For Thai script, deleting N character(s) backward should delete\n    // N code point(s) instead of an entire grapheme cluster.\n    // Therefore, the remaining code points should be inserted back.\n\n\n    if (isCollapsed && reverse && unit === 'character' && removedText.length > 1 && removedText.match(/[\\u0E00-\\u0E7F]+/)) {\n      Transforms.insertText(editor, removedText.slice(0, removedText.length - distance));\n    }\n\n    var startUnref = startRef.unref();\n    var endUnref = endRef.unref();\n    var point = reverse ? startUnref || endUnref : endUnref || startUnref;\n\n    if (options.at == null && point) {\n      Transforms.select(editor, point);\n    }\n  });\n};\n\nvar insertFragment = function insertFragment(editor, fragment) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      hanging = false,\n      voids = false\n    } = options;\n    var {\n      at = getDefaultInsertLocation(editor)\n    } = options;\n\n    if (!fragment.length) {\n      return;\n    }\n\n    if (Range.isRange(at)) {\n      if (!hanging) {\n        at = Editor.unhangRange(editor, at, {\n          voids\n        });\n      }\n\n      if (Range.isCollapsed(at)) {\n        at = at.anchor;\n      } else {\n        var [, end] = Range.edges(at);\n\n        if (!voids && Editor.void(editor, {\n          at: end\n        })) {\n          return;\n        }\n\n        var pointRef = Editor.pointRef(editor, end);\n        Transforms.delete(editor, {\n          at\n        });\n        at = pointRef.unref();\n      }\n    } else if (Path.isPath(at)) {\n      at = Editor.start(editor, at);\n    }\n\n    if (!voids && Editor.void(editor, {\n      at\n    })) {\n      return;\n    } // If the insert point is at the edge of an inline node, move it outside\n    // instead since it will need to be split otherwise.\n\n\n    var inlineElementMatch = Editor.above(editor, {\n      at,\n      match: n => Element.isElement(n) && Editor.isInline(editor, n),\n      mode: 'highest',\n      voids\n    });\n\n    if (inlineElementMatch) {\n      var [, _inlinePath] = inlineElementMatch;\n\n      if (Editor.isEnd(editor, at, _inlinePath)) {\n        var after = Editor.after(editor, _inlinePath);\n        at = after;\n      } else if (Editor.isStart(editor, at, _inlinePath)) {\n        var before = Editor.before(editor, _inlinePath);\n        at = before;\n      }\n    }\n\n    var blockMatch = Editor.above(editor, {\n      match: n => Element.isElement(n) && Editor.isBlock(editor, n),\n      at,\n      voids\n    });\n    var [, blockPath] = blockMatch;\n    var isBlockStart = Editor.isStart(editor, at, blockPath);\n    var isBlockEnd = Editor.isEnd(editor, at, blockPath);\n    var isBlockEmpty = isBlockStart && isBlockEnd;\n    var mergeStart = !isBlockStart || isBlockStart && isBlockEnd;\n    var mergeEnd = !isBlockEnd;\n    var [, firstPath] = Node.first({\n      children: fragment\n    }, []);\n    var [, lastPath] = Node.last({\n      children: fragment\n    }, []);\n    var matches = [];\n\n    var matcher = _ref => {\n      var [n, p] = _ref;\n      var isRoot = p.length === 0;\n\n      if (isRoot) {\n        return false;\n      }\n\n      if (isBlockEmpty) {\n        return true;\n      }\n\n      if (mergeStart && Path.isAncestor(p, firstPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n        return false;\n      }\n\n      if (mergeEnd && Path.isAncestor(p, lastPath) && Element.isElement(n) && !editor.isVoid(n) && !editor.isInline(n)) {\n        return false;\n      }\n\n      return true;\n    };\n\n    for (var entry of Node.nodes({\n      children: fragment\n    }, {\n      pass: matcher\n    })) {\n      if (matcher(entry)) {\n        matches.push(entry);\n      }\n    }\n\n    var starts = [];\n    var middles = [];\n    var ends = [];\n    var starting = true;\n    var hasBlocks = false;\n\n    for (var [node] of matches) {\n      if (Element.isElement(node) && !editor.isInline(node)) {\n        starting = false;\n        hasBlocks = true;\n        middles.push(node);\n      } else if (starting) {\n        starts.push(node);\n      } else {\n        ends.push(node);\n      }\n    }\n\n    var [inlineMatch] = Editor.nodes(editor, {\n      at,\n      match: n => Text.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids\n    });\n    var [, inlinePath] = inlineMatch;\n    var isInlineStart = Editor.isStart(editor, at, inlinePath);\n    var isInlineEnd = Editor.isEnd(editor, at, inlinePath);\n    var middleRef = Editor.pathRef(editor, isBlockEnd && !ends.length ? Path.next(blockPath) : blockPath);\n    var endRef = Editor.pathRef(editor, isInlineEnd ? Path.next(inlinePath) : inlinePath);\n    Transforms.splitNodes(editor, {\n      at,\n      match: n => hasBlocks ? Element.isElement(n) && Editor.isBlock(editor, n) : Text.isText(n) || Editor.isInline(editor, n),\n      mode: hasBlocks ? 'lowest' : 'highest',\n      always: hasBlocks && (!isBlockStart || starts.length > 0) && (!isBlockEnd || ends.length > 0),\n      voids\n    });\n    var startRef = Editor.pathRef(editor, !isInlineStart || isInlineStart && isInlineEnd ? Path.next(inlinePath) : inlinePath);\n    Transforms.insertNodes(editor, starts, {\n      at: startRef.current,\n      match: n => Text.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids\n    });\n\n    if (isBlockEmpty && !starts.length && middles.length && !ends.length) {\n      Transforms.delete(editor, {\n        at: blockPath,\n        voids\n      });\n    }\n\n    Transforms.insertNodes(editor, middles, {\n      at: middleRef.current,\n      match: n => Element.isElement(n) && Editor.isBlock(editor, n),\n      mode: 'lowest',\n      voids\n    });\n    Transforms.insertNodes(editor, ends, {\n      at: endRef.current,\n      match: n => Text.isText(n) || Editor.isInline(editor, n),\n      mode: 'highest',\n      voids\n    });\n\n    if (!options.at) {\n      var path;\n\n      if (ends.length > 0 && endRef.current) {\n        path = Path.previous(endRef.current);\n      } else if (middles.length > 0 && middleRef.current) {\n        path = Path.previous(middleRef.current);\n      } else if (startRef.current) {\n        path = Path.previous(startRef.current);\n      }\n\n      if (path) {\n        var _end = Editor.end(editor, path);\n\n        Transforms.select(editor, _end);\n      }\n    }\n\n    startRef.unref();\n    middleRef.unref();\n    endRef.unref();\n  });\n};\n\nvar collapse = function collapse(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    edge = 'anchor'\n  } = options;\n  var {\n    selection\n  } = editor;\n\n  if (!selection) {\n    return;\n  } else if (edge === 'anchor') {\n    Transforms.select(editor, selection.anchor);\n  } else if (edge === 'focus') {\n    Transforms.select(editor, selection.focus);\n  } else if (edge === 'start') {\n    var [start] = Range.edges(selection);\n    Transforms.select(editor, start);\n  } else if (edge === 'end') {\n    var [, end] = Range.edges(selection);\n    Transforms.select(editor, end);\n  }\n};\n\nvar deselect = editor => {\n  var {\n    selection\n  } = editor;\n\n  if (selection) {\n    editor.apply({\n      type: 'set_selection',\n      properties: selection,\n      newProperties: null\n    });\n  }\n};\n\nvar move = function move(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var {\n    selection\n  } = editor;\n  var {\n    distance = 1,\n    unit = 'character',\n    reverse = false\n  } = options;\n  var {\n    edge = null\n  } = options;\n\n  if (!selection) {\n    return;\n  }\n\n  if (edge === 'start') {\n    edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n  }\n\n  if (edge === 'end') {\n    edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n  }\n\n  var {\n    anchor,\n    focus\n  } = selection;\n  var opts = {\n    distance,\n    unit,\n    ignoreNonSelectable: true\n  };\n  var props = {};\n\n  if (edge == null || edge === 'anchor') {\n    var point = reverse ? Editor.before(editor, anchor, opts) : Editor.after(editor, anchor, opts);\n\n    if (point) {\n      props.anchor = point;\n    }\n  }\n\n  if (edge == null || edge === 'focus') {\n    var _point = reverse ? Editor.before(editor, focus, opts) : Editor.after(editor, focus, opts);\n\n    if (_point) {\n      props.focus = _point;\n    }\n  }\n\n  Transforms.setSelection(editor, props);\n};\n\nvar select = (editor, target) => {\n  var {\n    selection\n  } = editor;\n  target = Editor.range(editor, target);\n\n  if (selection) {\n    Transforms.setSelection(editor, target);\n    return;\n  }\n\n  if (!Range.isRange(target)) {\n    throw new Error(\"When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: \".concat(Scrubber.stringify(target)));\n  }\n\n  editor.apply({\n    type: 'set_selection',\n    properties: selection,\n    newProperties: target\n  });\n};\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar setPoint = function setPoint(editor, props) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var {\n    selection\n  } = editor;\n  var {\n    edge = 'both'\n  } = options;\n\n  if (!selection) {\n    return;\n  }\n\n  if (edge === 'start') {\n    edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n  }\n\n  if (edge === 'end') {\n    edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n  }\n\n  var {\n    anchor,\n    focus\n  } = selection;\n  var point = edge === 'anchor' ? anchor : focus;\n  Transforms.setSelection(editor, {\n    [edge === 'anchor' ? 'anchor' : 'focus']: _objectSpread$1(_objectSpread$1({}, point), props)\n  });\n};\n\nvar setSelection = (editor, props) => {\n  var {\n    selection\n  } = editor;\n  var oldProps = {};\n  var newProps = {};\n\n  if (!selection) {\n    return;\n  }\n\n  for (var k in props) {\n    if (k === 'anchor' && props.anchor != null && !Point.equals(props.anchor, selection.anchor) || k === 'focus' && props.focus != null && !Point.equals(props.focus, selection.focus) || k !== 'anchor' && k !== 'focus' && props[k] !== selection[k]) {\n      oldProps[k] = selection[k];\n      newProps[k] = props[k];\n    }\n  }\n\n  if (Object.keys(oldProps).length > 0) {\n    editor.apply({\n      type: 'set_selection',\n      properties: oldProps,\n      newProperties: newProps\n    });\n  }\n};\n\nvar insertNodes = function insertNodes(editor, nodes) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      hanging = false,\n      voids = false,\n      mode = 'lowest'\n    } = options;\n    var {\n      at,\n      match,\n      select\n    } = options;\n\n    if (Node.isNode(nodes)) {\n      nodes = [nodes];\n    }\n\n    if (nodes.length === 0) {\n      return;\n    }\n\n    var [node] = nodes;\n\n    if (!at) {\n      at = getDefaultInsertLocation(editor);\n      select = true;\n    }\n\n    if (select == null) {\n      select = false;\n    }\n\n    if (Range.isRange(at)) {\n      if (!hanging) {\n        at = Editor.unhangRange(editor, at, {\n          voids\n        });\n      }\n\n      if (Range.isCollapsed(at)) {\n        at = at.anchor;\n      } else {\n        var [, end] = Range.edges(at);\n        var pointRef = Editor.pointRef(editor, end);\n        Transforms.delete(editor, {\n          at\n        });\n        at = pointRef.unref();\n      }\n    }\n\n    if (Point.isPoint(at)) {\n      if (match == null) {\n        if (Text.isText(node)) {\n          match = n => Text.isText(n);\n        } else if (editor.isInline(node)) {\n          match = n => Text.isText(n) || Editor.isInline(editor, n);\n        } else {\n          match = n => Element.isElement(n) && Editor.isBlock(editor, n);\n        }\n      }\n\n      var [entry] = Editor.nodes(editor, {\n        at: at.path,\n        match,\n        mode,\n        voids\n      });\n\n      if (entry) {\n        var [, matchPath] = entry;\n        var pathRef = Editor.pathRef(editor, matchPath);\n        var isAtEnd = Editor.isEnd(editor, at, matchPath);\n        Transforms.splitNodes(editor, {\n          at,\n          match,\n          mode,\n          voids\n        });\n        var path = pathRef.unref();\n        at = isAtEnd ? Path.next(path) : path;\n      } else {\n        return;\n      }\n    }\n\n    var parentPath = Path.parent(at);\n    var index = at[at.length - 1];\n\n    if (!voids && Editor.void(editor, {\n      at: parentPath\n    })) {\n      return;\n    }\n\n    for (var _node of nodes) {\n      var _path = parentPath.concat(index);\n\n      index++;\n      editor.apply({\n        type: 'insert_node',\n        path: _path,\n        node: _node\n      });\n      at = Path.next(at);\n    }\n\n    at = Path.previous(at);\n\n    if (select) {\n      var point = Editor.end(editor, at);\n\n      if (point) {\n        Transforms.select(editor, point);\n      }\n    }\n  });\n};\n\nvar liftNodes = function liftNodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      at = editor.selection,\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (match == null) {\n      match = Path.isPath(at) ? matchPath(editor, at) : n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var matches = Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids\n    });\n    var pathRefs = Array.from(matches, _ref => {\n      var [, p] = _ref;\n      return Editor.pathRef(editor, p);\n    });\n\n    for (var pathRef of pathRefs) {\n      var path = pathRef.unref();\n\n      if (path.length < 2) {\n        throw new Error(\"Cannot lift node at a path [\".concat(path, \"] because it has a depth of less than `2`.\"));\n      }\n\n      var parentNodeEntry = Editor.node(editor, Path.parent(path));\n      var [parent, parentPath] = parentNodeEntry;\n      var index = path[path.length - 1];\n      var {\n        length\n      } = parent.children;\n\n      if (length === 1) {\n        var toPath = Path.next(parentPath);\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: toPath,\n          voids\n        });\n        Transforms.removeNodes(editor, {\n          at: parentPath,\n          voids\n        });\n      } else if (index === 0) {\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: parentPath,\n          voids\n        });\n      } else if (index === length - 1) {\n        var _toPath = Path.next(parentPath);\n\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: _toPath,\n          voids\n        });\n      } else {\n        var splitPath = Path.next(path);\n\n        var _toPath2 = Path.next(parentPath);\n\n        Transforms.splitNodes(editor, {\n          at: splitPath,\n          voids\n        });\n        Transforms.moveNodes(editor, {\n          at: path,\n          to: _toPath2,\n          voids\n        });\n      }\n    }\n  });\n};\n\nvar _excluded = [\"text\"],\n    _excluded2 = [\"children\"];\n\nvar hasSingleChildNest = (editor, node) => {\n  if (Element.isElement(node)) {\n    var element = node;\n\n    if (Editor.isVoid(editor, node)) {\n      return true;\n    } else if (element.children.length === 1) {\n      return hasSingleChildNest(editor, element.children[0]);\n    } else {\n      return false;\n    }\n  } else if (Editor.isEditor(node)) {\n    return false;\n  } else {\n    return true;\n  }\n};\n\nvar mergeNodes = function mergeNodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      match,\n      at = editor.selection\n    } = options;\n    var {\n      hanging = false,\n      voids = false,\n      mode = 'lowest'\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        var [parent] = Editor.parent(editor, at);\n\n        match = n => parent.children.includes(n);\n      } else {\n        match = n => Element.isElement(n) && Editor.isBlock(editor, n);\n      }\n    }\n\n    if (!hanging && Range.isRange(at)) {\n      at = Editor.unhangRange(editor, at, {\n        voids\n      });\n    }\n\n    if (Range.isRange(at)) {\n      if (Range.isCollapsed(at)) {\n        at = at.anchor;\n      } else {\n        var [, end] = Range.edges(at);\n        var pointRef = Editor.pointRef(editor, end);\n        Transforms.delete(editor, {\n          at\n        });\n        at = pointRef.unref();\n\n        if (options.at == null) {\n          Transforms.select(editor, at);\n        }\n      }\n    }\n\n    var [current] = Editor.nodes(editor, {\n      at,\n      match,\n      voids,\n      mode\n    });\n    var prev = Editor.previous(editor, {\n      at,\n      match,\n      voids,\n      mode\n    });\n\n    if (!current || !prev) {\n      return;\n    }\n\n    var [node, path] = current;\n    var [prevNode, prevPath] = prev;\n\n    if (path.length === 0 || prevPath.length === 0) {\n      return;\n    }\n\n    var newPath = Path.next(prevPath);\n    var commonPath = Path.common(path, prevPath);\n    var isPreviousSibling = Path.isSibling(path, prevPath);\n    var levels = Array.from(Editor.levels(editor, {\n      at: path\n    }), _ref => {\n      var [n] = _ref;\n      return n;\n    }).slice(commonPath.length).slice(0, -1); // Determine if the merge will leave an ancestor of the path empty as a\n    // result, in which case we'll want to remove it after merging.\n\n    var emptyAncestor = Editor.above(editor, {\n      at: path,\n      mode: 'highest',\n      match: n => levels.includes(n) && hasSingleChildNest(editor, n)\n    });\n    var emptyRef = emptyAncestor && Editor.pathRef(editor, emptyAncestor[1]);\n    var properties;\n    var position; // Ensure that the nodes are equivalent, and figure out what the position\n    // and extra properties of the merge will be.\n\n    if (Text.isText(node) && Text.isText(prevNode)) {\n      var rest = _objectWithoutProperties(node, _excluded);\n\n      position = prevNode.text.length;\n      properties = rest;\n    } else if (Element.isElement(node) && Element.isElement(prevNode)) {\n      var rest = _objectWithoutProperties(node, _excluded2);\n\n      position = prevNode.children.length;\n      properties = rest;\n    } else {\n      throw new Error(\"Cannot merge the node at path [\".concat(path, \"] with the previous sibling because it is not the same kind: \").concat(Scrubber.stringify(node), \" \").concat(Scrubber.stringify(prevNode)));\n    } // If the node isn't already the next sibling of the previous node, move\n    // it so that it is before merging.\n\n\n    if (!isPreviousSibling) {\n      Transforms.moveNodes(editor, {\n        at: path,\n        to: newPath,\n        voids\n      });\n    } // If there was going to be an empty ancestor of the node that was merged,\n    // we remove it from the tree.\n\n\n    if (emptyRef) {\n      Transforms.removeNodes(editor, {\n        at: emptyRef.current,\n        voids\n      });\n    } // If the target node that we're merging with is empty, remove it instead\n    // of merging the two. This is a common rich text editor behavior to\n    // prevent losing formatting when deleting entire nodes when you have a\n    // hanging selection.\n    // if prevNode is first child in parent,don't remove it.\n\n\n    if (Element.isElement(prevNode) && Editor.isEmpty(editor, prevNode) || Text.isText(prevNode) && prevNode.text === '' && prevPath[prevPath.length - 1] !== 0) {\n      Transforms.removeNodes(editor, {\n        at: prevPath,\n        voids\n      });\n    } else {\n      editor.apply({\n        type: 'merge_node',\n        path: newPath,\n        position,\n        properties\n      });\n    }\n\n    if (emptyRef) {\n      emptyRef.unref();\n    }\n  });\n};\n\nvar moveNodes = (editor, options) => {\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      to,\n      at = editor.selection,\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      match = Path.isPath(at) ? matchPath(editor, at) : n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    var toRef = Editor.pathRef(editor, to);\n    var targets = Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids\n    });\n    var pathRefs = Array.from(targets, _ref => {\n      var [, p] = _ref;\n      return Editor.pathRef(editor, p);\n    });\n\n    for (var pathRef of pathRefs) {\n      var path = pathRef.unref();\n      var newPath = toRef.current;\n\n      if (path.length !== 0) {\n        editor.apply({\n          type: 'move_node',\n          path,\n          newPath\n        });\n      }\n\n      if (toRef.current && Path.isSibling(newPath, path) && Path.isAfter(newPath, path)) {\n        // When performing a sibling move to a later index, the path at the destination is shifted\n        // to before the insertion point instead of after. To ensure our group of nodes are inserted\n        // in the correct order we increment toRef to account for that\n        toRef.current = Path.next(toRef.current);\n      }\n    }\n\n    toRef.unref();\n  });\n};\n\nvar removeNodes = function removeNodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      hanging = false,\n      voids = false,\n      mode = 'lowest'\n    } = options;\n    var {\n      at = editor.selection,\n      match\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      match = Path.isPath(at) ? matchPath(editor, at) : n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    if (!hanging && Range.isRange(at)) {\n      at = Editor.unhangRange(editor, at, {\n        voids\n      });\n    }\n\n    var depths = Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids\n    });\n    var pathRefs = Array.from(depths, _ref => {\n      var [, p] = _ref;\n      return Editor.pathRef(editor, p);\n    });\n\n    for (var pathRef of pathRefs) {\n      var path = pathRef.unref();\n\n      if (path) {\n        var [node] = Editor.node(editor, path);\n        editor.apply({\n          type: 'remove_node',\n          path,\n          node\n        });\n      }\n    }\n  });\n};\n\nvar setNodes = function setNodes(editor, props) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      match,\n      at = editor.selection,\n      compare,\n      merge\n    } = options;\n    var {\n      hanging = false,\n      mode = 'lowest',\n      split = false,\n      voids = false\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      match = Path.isPath(at) ? matchPath(editor, at) : n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    if (!hanging && Range.isRange(at)) {\n      at = Editor.unhangRange(editor, at, {\n        voids\n      });\n    }\n\n    if (split && Range.isRange(at)) {\n      if (Range.isCollapsed(at) && Editor.leaf(editor, at.anchor)[0].text.length > 0) {\n        // If the range is collapsed in a non-empty node and 'split' is true, there's nothing to\n        // set that won't get normalized away\n        return;\n      }\n\n      var rangeRef = Editor.rangeRef(editor, at, {\n        affinity: 'inward'\n      });\n      var [start, end] = Range.edges(at);\n      var splitMode = mode === 'lowest' ? 'lowest' : 'highest';\n      var endAtEndOfNode = Editor.isEnd(editor, end, end.path);\n      Transforms.splitNodes(editor, {\n        at: end,\n        match,\n        mode: splitMode,\n        voids,\n        always: !endAtEndOfNode\n      });\n      var startAtStartOfNode = Editor.isStart(editor, start, start.path);\n      Transforms.splitNodes(editor, {\n        at: start,\n        match,\n        mode: splitMode,\n        voids,\n        always: !startAtStartOfNode\n      });\n      at = rangeRef.unref();\n\n      if (options.at == null) {\n        Transforms.select(editor, at);\n      }\n    }\n\n    if (!compare) {\n      compare = (prop, nodeProp) => prop !== nodeProp;\n    }\n\n    for (var [node, path] of Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids\n    })) {\n      var properties = {};\n      var newProperties = {}; // You can't set properties on the editor node.\n\n      if (path.length === 0) {\n        continue;\n      }\n\n      var hasChanges = false;\n\n      for (var k in props) {\n        if (k === 'children' || k === 'text') {\n          continue;\n        }\n\n        if (compare(props[k], node[k])) {\n          hasChanges = true; // Omit new properties from the old properties list\n\n          if (node.hasOwnProperty(k)) properties[k] = node[k]; // Omit properties that have been removed from the new properties list\n\n          if (merge) {\n            if (props[k] != null) newProperties[k] = merge(node[k], props[k]);\n          } else {\n            if (props[k] != null) newProperties[k] = props[k];\n          }\n        }\n      }\n\n      if (hasChanges) {\n        editor.apply({\n          type: 'set_node',\n          path,\n          properties,\n          newProperties\n        });\n      }\n    }\n  });\n};\n\n/**\r\n * Convert a range into a point by deleting it's content.\r\n */\n\nvar deleteRange = (editor, range) => {\n  if (Range.isCollapsed(range)) {\n    return range.anchor;\n  } else {\n    var [, end] = Range.edges(range);\n    var pointRef = Editor.pointRef(editor, end);\n    Transforms.delete(editor, {\n      at: range\n    });\n    return pointRef.unref();\n  }\n};\n\nvar splitNodes = function splitNodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      mode = 'lowest',\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection,\n      height = 0,\n      always = false\n    } = options;\n\n    if (match == null) {\n      match = n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    if (Range.isRange(at)) {\n      at = deleteRange(editor, at);\n    } // If the target is a path, the default height-skipping and position\n    // counters need to account for us potentially splitting at a non-leaf.\n\n\n    if (Path.isPath(at)) {\n      var path = at;\n      var point = Editor.point(editor, path);\n      var [parent] = Editor.parent(editor, path);\n\n      match = n => n === parent;\n\n      height = point.path.length - path.length + 1;\n      at = point;\n      always = true;\n    }\n\n    if (!at) {\n      return;\n    }\n\n    var beforeRef = Editor.pointRef(editor, at, {\n      affinity: 'backward'\n    });\n    var afterRef;\n\n    try {\n      var [highest] = Editor.nodes(editor, {\n        at,\n        match,\n        mode,\n        voids\n      });\n\n      if (!highest) {\n        return;\n      }\n\n      var voidMatch = Editor.void(editor, {\n        at,\n        mode: 'highest'\n      });\n      var nudge = 0;\n\n      if (!voids && voidMatch) {\n        var [voidNode, voidPath] = voidMatch;\n\n        if (Element.isElement(voidNode) && editor.isInline(voidNode)) {\n          var after = Editor.after(editor, voidPath);\n\n          if (!after) {\n            var text = {\n              text: ''\n            };\n            var afterPath = Path.next(voidPath);\n            Transforms.insertNodes(editor, text, {\n              at: afterPath,\n              voids\n            });\n            after = Editor.point(editor, afterPath);\n          }\n\n          at = after;\n          always = true;\n        }\n\n        var siblingHeight = at.path.length - voidPath.length;\n        height = siblingHeight + 1;\n        always = true;\n      }\n\n      afterRef = Editor.pointRef(editor, at);\n      var depth = at.path.length - height;\n      var [, highestPath] = highest;\n      var lowestPath = at.path.slice(0, depth);\n      var position = height === 0 ? at.offset : at.path[depth] + nudge;\n\n      for (var [node, _path] of Editor.levels(editor, {\n        at: lowestPath,\n        reverse: true,\n        voids\n      })) {\n        var split = false;\n\n        if (_path.length < highestPath.length || _path.length === 0 || !voids && Element.isElement(node) && Editor.isVoid(editor, node)) {\n          break;\n        }\n\n        var _point = beforeRef.current;\n        var isEnd = Editor.isEnd(editor, _point, _path);\n\n        if (always || !beforeRef || !Editor.isEdge(editor, _point, _path)) {\n          split = true;\n          var properties = Node.extractProps(node);\n          editor.apply({\n            type: 'split_node',\n            path: _path,\n            position,\n            properties\n          });\n        }\n\n        position = _path[_path.length - 1] + (split || isEnd ? 1 : 0);\n      }\n\n      if (options.at == null) {\n        var _point2 = afterRef.current || Editor.end(editor, []);\n\n        Transforms.select(editor, _point2);\n      }\n    } finally {\n      var _afterRef;\n\n      beforeRef.unref();\n      (_afterRef = afterRef) === null || _afterRef === void 0 ? void 0 : _afterRef.unref();\n    }\n  });\n};\n\nvar unsetNodes = function unsetNodes(editor, props) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n  if (!Array.isArray(props)) {\n    props = [props];\n  }\n\n  var obj = {};\n\n  for (var key of props) {\n    obj[key] = null;\n  }\n\n  Transforms.setNodes(editor, obj, options);\n};\n\nvar unwrapNodes = function unwrapNodes(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      mode = 'lowest',\n      split = false,\n      voids = false\n    } = options;\n    var {\n      at = editor.selection,\n      match\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      match = Path.isPath(at) ? matchPath(editor, at) : n => Element.isElement(n) && Editor.isBlock(editor, n);\n    }\n\n    if (Path.isPath(at)) {\n      at = Editor.range(editor, at);\n    }\n\n    var rangeRef = Range.isRange(at) ? Editor.rangeRef(editor, at) : null;\n    var matches = Editor.nodes(editor, {\n      at,\n      match,\n      mode,\n      voids\n    });\n    var pathRefs = Array.from(matches, _ref => {\n      var [, p] = _ref;\n      return Editor.pathRef(editor, p);\n    } // unwrapNode will call liftNode which does not support splitting the node when nested.\n    // If we do not reverse the order and call it from top to the bottom, it will remove all blocks\n    // that wrap target node. So we reverse the order.\n    ).reverse();\n\n    var _loop = function _loop(pathRef) {\n      var path = pathRef.unref();\n      var [node] = Editor.node(editor, path);\n      var range = Editor.range(editor, path);\n\n      if (split && rangeRef) {\n        range = Range.intersection(rangeRef.current, range);\n      }\n\n      Transforms.liftNodes(editor, {\n        at: range,\n        match: n => Element.isAncestor(node) && node.children.includes(n),\n        voids\n      });\n    };\n\n    for (var pathRef of pathRefs) {\n      _loop(pathRef);\n    }\n\n    if (rangeRef) {\n      rangeRef.unref();\n    }\n  });\n};\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar wrapNodes = function wrapNodes(editor, element) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  Editor.withoutNormalizing(editor, () => {\n    var {\n      mode = 'lowest',\n      split = false,\n      voids = false\n    } = options;\n    var {\n      match,\n      at = editor.selection\n    } = options;\n\n    if (!at) {\n      return;\n    }\n\n    if (match == null) {\n      if (Path.isPath(at)) {\n        match = matchPath(editor, at);\n      } else if (editor.isInline(element)) {\n        match = n => Element.isElement(n) && Editor.isInline(editor, n) || Text.isText(n);\n      } else {\n        match = n => Element.isElement(n) && Editor.isBlock(editor, n);\n      }\n    }\n\n    if (split && Range.isRange(at)) {\n      var [start, end] = Range.edges(at);\n      var rangeRef = Editor.rangeRef(editor, at, {\n        affinity: 'inward'\n      });\n      Transforms.splitNodes(editor, {\n        at: end,\n        match,\n        voids\n      });\n      Transforms.splitNodes(editor, {\n        at: start,\n        match,\n        voids\n      });\n      at = rangeRef.unref();\n\n      if (options.at == null) {\n        Transforms.select(editor, at);\n      }\n    }\n\n    var roots = Array.from(Editor.nodes(editor, {\n      at,\n      match: editor.isInline(element) ? n => Element.isElement(n) && Editor.isBlock(editor, n) : n => Editor.isEditor(n),\n      mode: 'lowest',\n      voids\n    }));\n\n    for (var [, rootPath] of roots) {\n      var a = Range.isRange(at) ? Range.intersection(at, Editor.range(editor, rootPath)) : at;\n\n      if (!a) {\n        continue;\n      }\n\n      var matches = Array.from(Editor.nodes(editor, {\n        at: a,\n        match,\n        mode,\n        voids\n      }));\n\n      if (matches.length > 0) {\n        var _ret = function () {\n          var [first] = matches;\n          var last = matches[matches.length - 1];\n          var [, firstPath] = first;\n          var [, lastPath] = last;\n\n          if (firstPath.length === 0 && lastPath.length === 0) {\n            // if there's no matching parent - usually means the node is an editor - don't do anything\n            return \"continue\";\n          }\n\n          var commonPath = Path.equals(firstPath, lastPath) ? Path.parent(firstPath) : Path.common(firstPath, lastPath);\n          var range = Editor.range(editor, firstPath, lastPath);\n          var commonNodeEntry = Editor.node(editor, commonPath);\n          var [commonNode] = commonNodeEntry;\n          var depth = commonPath.length + 1;\n          var wrapperPath = Path.next(lastPath.slice(0, depth));\n\n          var wrapper = _objectSpread(_objectSpread({}, element), {}, {\n            children: []\n          });\n\n          Transforms.insertNodes(editor, wrapper, {\n            at: wrapperPath,\n            voids\n          });\n          Transforms.moveNodes(editor, {\n            at: range,\n            match: n => Element.isAncestor(commonNode) && commonNode.children.includes(n),\n            to: wrapperPath.concat(0),\n            voids\n          });\n        }();\n\n        if (_ret === \"continue\") continue;\n      }\n    }\n  });\n};\n\n/**\r\n * Create a new Slate `Editor` object.\r\n */\n\nvar createEditor = () => {\n  var editor = {\n    children: [],\n    operations: [],\n    selection: null,\n    marks: null,\n    isElementReadOnly: () => false,\n    isInline: () => false,\n    isSelectable: () => true,\n    isVoid: () => false,\n    markableVoid: () => false,\n    onChange: () => {},\n    // Core\n    apply: function apply$1() {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return apply(editor, ...args);\n    },\n    // Editor\n    addMark: function addMark$1() {\n      for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return addMark(editor, ...args);\n    },\n    deleteBackward: function deleteBackward$1() {\n      for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n        args[_key3] = arguments[_key3];\n      }\n\n      return deleteBackward(editor, ...args);\n    },\n    deleteForward: function deleteForward$1() {\n      for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n        args[_key4] = arguments[_key4];\n      }\n\n      return deleteForward(editor, ...args);\n    },\n    deleteFragment: function deleteFragment$1() {\n      for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n        args[_key5] = arguments[_key5];\n      }\n\n      return deleteFragment(editor, ...args);\n    },\n    getFragment: function getFragment$1() {\n      for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n        args[_key6] = arguments[_key6];\n      }\n\n      return getFragment(editor, ...args);\n    },\n    insertBreak: function insertBreak$1() {\n      for (var _len7 = arguments.length, args = new Array(_len7), _key7 = 0; _key7 < _len7; _key7++) {\n        args[_key7] = arguments[_key7];\n      }\n\n      return insertBreak(editor, ...args);\n    },\n    insertSoftBreak: function insertSoftBreak$1() {\n      for (var _len8 = arguments.length, args = new Array(_len8), _key8 = 0; _key8 < _len8; _key8++) {\n        args[_key8] = arguments[_key8];\n      }\n\n      return insertSoftBreak(editor, ...args);\n    },\n    insertFragment: function insertFragment$1() {\n      for (var _len9 = arguments.length, args = new Array(_len9), _key9 = 0; _key9 < _len9; _key9++) {\n        args[_key9] = arguments[_key9];\n      }\n\n      return insertFragment(editor, ...args);\n    },\n    insertNode: function insertNode$1() {\n      for (var _len10 = arguments.length, args = new Array(_len10), _key10 = 0; _key10 < _len10; _key10++) {\n        args[_key10] = arguments[_key10];\n      }\n\n      return insertNode(editor, ...args);\n    },\n    insertText: function insertText$1() {\n      for (var _len11 = arguments.length, args = new Array(_len11), _key11 = 0; _key11 < _len11; _key11++) {\n        args[_key11] = arguments[_key11];\n      }\n\n      return insertText(editor, ...args);\n    },\n    normalizeNode: function normalizeNode$1() {\n      for (var _len12 = arguments.length, args = new Array(_len12), _key12 = 0; _key12 < _len12; _key12++) {\n        args[_key12] = arguments[_key12];\n      }\n\n      return normalizeNode(editor, ...args);\n    },\n    removeMark: function removeMark$1() {\n      for (var _len13 = arguments.length, args = new Array(_len13), _key13 = 0; _key13 < _len13; _key13++) {\n        args[_key13] = arguments[_key13];\n      }\n\n      return removeMark(editor, ...args);\n    },\n    getDirtyPaths: function getDirtyPaths$1() {\n      for (var _len14 = arguments.length, args = new Array(_len14), _key14 = 0; _key14 < _len14; _key14++) {\n        args[_key14] = arguments[_key14];\n      }\n\n      return getDirtyPaths(editor, ...args);\n    },\n    shouldNormalize: function shouldNormalize$1() {\n      for (var _len15 = arguments.length, args = new Array(_len15), _key15 = 0; _key15 < _len15; _key15++) {\n        args[_key15] = arguments[_key15];\n      }\n\n      return shouldNormalize(editor, ...args);\n    },\n    // Editor interface\n    above: function above$1() {\n      for (var _len16 = arguments.length, args = new Array(_len16), _key16 = 0; _key16 < _len16; _key16++) {\n        args[_key16] = arguments[_key16];\n      }\n\n      return above(editor, ...args);\n    },\n    after: function after$1() {\n      for (var _len17 = arguments.length, args = new Array(_len17), _key17 = 0; _key17 < _len17; _key17++) {\n        args[_key17] = arguments[_key17];\n      }\n\n      return after(editor, ...args);\n    },\n    before: function before$1() {\n      for (var _len18 = arguments.length, args = new Array(_len18), _key18 = 0; _key18 < _len18; _key18++) {\n        args[_key18] = arguments[_key18];\n      }\n\n      return before(editor, ...args);\n    },\n    collapse: function collapse$1() {\n      for (var _len19 = arguments.length, args = new Array(_len19), _key19 = 0; _key19 < _len19; _key19++) {\n        args[_key19] = arguments[_key19];\n      }\n\n      return collapse(editor, ...args);\n    },\n    delete: function _delete() {\n      for (var _len20 = arguments.length, args = new Array(_len20), _key20 = 0; _key20 < _len20; _key20++) {\n        args[_key20] = arguments[_key20];\n      }\n\n      return deleteText(editor, ...args);\n    },\n    deselect: function deselect$1() {\n      for (var _len21 = arguments.length, args = new Array(_len21), _key21 = 0; _key21 < _len21; _key21++) {\n        args[_key21] = arguments[_key21];\n      }\n\n      return deselect(editor, ...args);\n    },\n    edges: function edges$1() {\n      for (var _len22 = arguments.length, args = new Array(_len22), _key22 = 0; _key22 < _len22; _key22++) {\n        args[_key22] = arguments[_key22];\n      }\n\n      return edges(editor, ...args);\n    },\n    elementReadOnly: function elementReadOnly$1() {\n      for (var _len23 = arguments.length, args = new Array(_len23), _key23 = 0; _key23 < _len23; _key23++) {\n        args[_key23] = arguments[_key23];\n      }\n\n      return elementReadOnly(editor, ...args);\n    },\n    end: function end$1() {\n      for (var _len24 = arguments.length, args = new Array(_len24), _key24 = 0; _key24 < _len24; _key24++) {\n        args[_key24] = arguments[_key24];\n      }\n\n      return end(editor, ...args);\n    },\n    first: function first$1() {\n      for (var _len25 = arguments.length, args = new Array(_len25), _key25 = 0; _key25 < _len25; _key25++) {\n        args[_key25] = arguments[_key25];\n      }\n\n      return first(editor, ...args);\n    },\n    fragment: function fragment$1() {\n      for (var _len26 = arguments.length, args = new Array(_len26), _key26 = 0; _key26 < _len26; _key26++) {\n        args[_key26] = arguments[_key26];\n      }\n\n      return fragment(editor, ...args);\n    },\n    getMarks: function getMarks() {\n      for (var _len27 = arguments.length, args = new Array(_len27), _key27 = 0; _key27 < _len27; _key27++) {\n        args[_key27] = arguments[_key27];\n      }\n\n      return marks(editor, ...args);\n    },\n    hasBlocks: function hasBlocks$1() {\n      for (var _len28 = arguments.length, args = new Array(_len28), _key28 = 0; _key28 < _len28; _key28++) {\n        args[_key28] = arguments[_key28];\n      }\n\n      return hasBlocks(editor, ...args);\n    },\n    hasInlines: function hasInlines$1() {\n      for (var _len29 = arguments.length, args = new Array(_len29), _key29 = 0; _key29 < _len29; _key29++) {\n        args[_key29] = arguments[_key29];\n      }\n\n      return hasInlines(editor, ...args);\n    },\n    hasPath: function hasPath$1() {\n      for (var _len30 = arguments.length, args = new Array(_len30), _key30 = 0; _key30 < _len30; _key30++) {\n        args[_key30] = arguments[_key30];\n      }\n\n      return hasPath(editor, ...args);\n    },\n    hasTexts: function hasTexts$1() {\n      for (var _len31 = arguments.length, args = new Array(_len31), _key31 = 0; _key31 < _len31; _key31++) {\n        args[_key31] = arguments[_key31];\n      }\n\n      return hasTexts(editor, ...args);\n    },\n    insertNodes: function insertNodes$1() {\n      for (var _len32 = arguments.length, args = new Array(_len32), _key32 = 0; _key32 < _len32; _key32++) {\n        args[_key32] = arguments[_key32];\n      }\n\n      return insertNodes(editor, ...args);\n    },\n    isBlock: function isBlock$1() {\n      for (var _len33 = arguments.length, args = new Array(_len33), _key33 = 0; _key33 < _len33; _key33++) {\n        args[_key33] = arguments[_key33];\n      }\n\n      return isBlock(editor, ...args);\n    },\n    isEdge: function isEdge$1() {\n      for (var _len34 = arguments.length, args = new Array(_len34), _key34 = 0; _key34 < _len34; _key34++) {\n        args[_key34] = arguments[_key34];\n      }\n\n      return isEdge(editor, ...args);\n    },\n    isEmpty: function isEmpty$1() {\n      for (var _len35 = arguments.length, args = new Array(_len35), _key35 = 0; _key35 < _len35; _key35++) {\n        args[_key35] = arguments[_key35];\n      }\n\n      return isEmpty(editor, ...args);\n    },\n    isEnd: function isEnd$1() {\n      for (var _len36 = arguments.length, args = new Array(_len36), _key36 = 0; _key36 < _len36; _key36++) {\n        args[_key36] = arguments[_key36];\n      }\n\n      return isEnd(editor, ...args);\n    },\n    isNormalizing: function isNormalizing$1() {\n      for (var _len37 = arguments.length, args = new Array(_len37), _key37 = 0; _key37 < _len37; _key37++) {\n        args[_key37] = arguments[_key37];\n      }\n\n      return isNormalizing(editor, ...args);\n    },\n    isStart: function isStart$1() {\n      for (var _len38 = arguments.length, args = new Array(_len38), _key38 = 0; _key38 < _len38; _key38++) {\n        args[_key38] = arguments[_key38];\n      }\n\n      return isStart(editor, ...args);\n    },\n    last: function last$1() {\n      for (var _len39 = arguments.length, args = new Array(_len39), _key39 = 0; _key39 < _len39; _key39++) {\n        args[_key39] = arguments[_key39];\n      }\n\n      return last(editor, ...args);\n    },\n    leaf: function leaf$1() {\n      for (var _len40 = arguments.length, args = new Array(_len40), _key40 = 0; _key40 < _len40; _key40++) {\n        args[_key40] = arguments[_key40];\n      }\n\n      return leaf(editor, ...args);\n    },\n    levels: function levels$1() {\n      for (var _len41 = arguments.length, args = new Array(_len41), _key41 = 0; _key41 < _len41; _key41++) {\n        args[_key41] = arguments[_key41];\n      }\n\n      return levels(editor, ...args);\n    },\n    liftNodes: function liftNodes$1() {\n      for (var _len42 = arguments.length, args = new Array(_len42), _key42 = 0; _key42 < _len42; _key42++) {\n        args[_key42] = arguments[_key42];\n      }\n\n      return liftNodes(editor, ...args);\n    },\n    mergeNodes: function mergeNodes$1() {\n      for (var _len43 = arguments.length, args = new Array(_len43), _key43 = 0; _key43 < _len43; _key43++) {\n        args[_key43] = arguments[_key43];\n      }\n\n      return mergeNodes(editor, ...args);\n    },\n    move: function move$1() {\n      for (var _len44 = arguments.length, args = new Array(_len44), _key44 = 0; _key44 < _len44; _key44++) {\n        args[_key44] = arguments[_key44];\n      }\n\n      return move(editor, ...args);\n    },\n    moveNodes: function moveNodes$1() {\n      for (var _len45 = arguments.length, args = new Array(_len45), _key45 = 0; _key45 < _len45; _key45++) {\n        args[_key45] = arguments[_key45];\n      }\n\n      return moveNodes(editor, ...args);\n    },\n    next: function next$1() {\n      for (var _len46 = arguments.length, args = new Array(_len46), _key46 = 0; _key46 < _len46; _key46++) {\n        args[_key46] = arguments[_key46];\n      }\n\n      return next(editor, ...args);\n    },\n    node: function node$1() {\n      for (var _len47 = arguments.length, args = new Array(_len47), _key47 = 0; _key47 < _len47; _key47++) {\n        args[_key47] = arguments[_key47];\n      }\n\n      return node(editor, ...args);\n    },\n    nodes: function nodes$1() {\n      for (var _len48 = arguments.length, args = new Array(_len48), _key48 = 0; _key48 < _len48; _key48++) {\n        args[_key48] = arguments[_key48];\n      }\n\n      return nodes(editor, ...args);\n    },\n    normalize: function normalize$1() {\n      for (var _len49 = arguments.length, args = new Array(_len49), _key49 = 0; _key49 < _len49; _key49++) {\n        args[_key49] = arguments[_key49];\n      }\n\n      return normalize(editor, ...args);\n    },\n    parent: function parent$1() {\n      for (var _len50 = arguments.length, args = new Array(_len50), _key50 = 0; _key50 < _len50; _key50++) {\n        args[_key50] = arguments[_key50];\n      }\n\n      return parent(editor, ...args);\n    },\n    path: function path$1() {\n      for (var _len51 = arguments.length, args = new Array(_len51), _key51 = 0; _key51 < _len51; _key51++) {\n        args[_key51] = arguments[_key51];\n      }\n\n      return path(editor, ...args);\n    },\n    pathRef: function pathRef$1() {\n      for (var _len52 = arguments.length, args = new Array(_len52), _key52 = 0; _key52 < _len52; _key52++) {\n        args[_key52] = arguments[_key52];\n      }\n\n      return pathRef(editor, ...args);\n    },\n    pathRefs: function pathRefs$1() {\n      for (var _len53 = arguments.length, args = new Array(_len53), _key53 = 0; _key53 < _len53; _key53++) {\n        args[_key53] = arguments[_key53];\n      }\n\n      return pathRefs(editor, ...args);\n    },\n    point: function point$1() {\n      for (var _len54 = arguments.length, args = new Array(_len54), _key54 = 0; _key54 < _len54; _key54++) {\n        args[_key54] = arguments[_key54];\n      }\n\n      return point(editor, ...args);\n    },\n    pointRef: function pointRef$1() {\n      for (var _len55 = arguments.length, args = new Array(_len55), _key55 = 0; _key55 < _len55; _key55++) {\n        args[_key55] = arguments[_key55];\n      }\n\n      return pointRef(editor, ...args);\n    },\n    pointRefs: function pointRefs$1() {\n      for (var _len56 = arguments.length, args = new Array(_len56), _key56 = 0; _key56 < _len56; _key56++) {\n        args[_key56] = arguments[_key56];\n      }\n\n      return pointRefs(editor, ...args);\n    },\n    positions: function positions$1() {\n      for (var _len57 = arguments.length, args = new Array(_len57), _key57 = 0; _key57 < _len57; _key57++) {\n        args[_key57] = arguments[_key57];\n      }\n\n      return positions(editor, ...args);\n    },\n    previous: function previous$1() {\n      for (var _len58 = arguments.length, args = new Array(_len58), _key58 = 0; _key58 < _len58; _key58++) {\n        args[_key58] = arguments[_key58];\n      }\n\n      return previous(editor, ...args);\n    },\n    range: function range$1() {\n      for (var _len59 = arguments.length, args = new Array(_len59), _key59 = 0; _key59 < _len59; _key59++) {\n        args[_key59] = arguments[_key59];\n      }\n\n      return range(editor, ...args);\n    },\n    rangeRef: function rangeRef$1() {\n      for (var _len60 = arguments.length, args = new Array(_len60), _key60 = 0; _key60 < _len60; _key60++) {\n        args[_key60] = arguments[_key60];\n      }\n\n      return rangeRef(editor, ...args);\n    },\n    rangeRefs: function rangeRefs$1() {\n      for (var _len61 = arguments.length, args = new Array(_len61), _key61 = 0; _key61 < _len61; _key61++) {\n        args[_key61] = arguments[_key61];\n      }\n\n      return rangeRefs(editor, ...args);\n    },\n    removeNodes: function removeNodes$1() {\n      for (var _len62 = arguments.length, args = new Array(_len62), _key62 = 0; _key62 < _len62; _key62++) {\n        args[_key62] = arguments[_key62];\n      }\n\n      return removeNodes(editor, ...args);\n    },\n    select: function select$1() {\n      for (var _len63 = arguments.length, args = new Array(_len63), _key63 = 0; _key63 < _len63; _key63++) {\n        args[_key63] = arguments[_key63];\n      }\n\n      return select(editor, ...args);\n    },\n    setNodes: function setNodes$1() {\n      for (var _len64 = arguments.length, args = new Array(_len64), _key64 = 0; _key64 < _len64; _key64++) {\n        args[_key64] = arguments[_key64];\n      }\n\n      return setNodes(editor, ...args);\n    },\n    setNormalizing: function setNormalizing$1() {\n      for (var _len65 = arguments.length, args = new Array(_len65), _key65 = 0; _key65 < _len65; _key65++) {\n        args[_key65] = arguments[_key65];\n      }\n\n      return setNormalizing(editor, ...args);\n    },\n    setPoint: function setPoint$1() {\n      for (var _len66 = arguments.length, args = new Array(_len66), _key66 = 0; _key66 < _len66; _key66++) {\n        args[_key66] = arguments[_key66];\n      }\n\n      return setPoint(editor, ...args);\n    },\n    setSelection: function setSelection$1() {\n      for (var _len67 = arguments.length, args = new Array(_len67), _key67 = 0; _key67 < _len67; _key67++) {\n        args[_key67] = arguments[_key67];\n      }\n\n      return setSelection(editor, ...args);\n    },\n    splitNodes: function splitNodes$1() {\n      for (var _len68 = arguments.length, args = new Array(_len68), _key68 = 0; _key68 < _len68; _key68++) {\n        args[_key68] = arguments[_key68];\n      }\n\n      return splitNodes(editor, ...args);\n    },\n    start: function start$1() {\n      for (var _len69 = arguments.length, args = new Array(_len69), _key69 = 0; _key69 < _len69; _key69++) {\n        args[_key69] = arguments[_key69];\n      }\n\n      return start(editor, ...args);\n    },\n    string: function string$1() {\n      for (var _len70 = arguments.length, args = new Array(_len70), _key70 = 0; _key70 < _len70; _key70++) {\n        args[_key70] = arguments[_key70];\n      }\n\n      return string(editor, ...args);\n    },\n    unhangRange: function unhangRange$1() {\n      for (var _len71 = arguments.length, args = new Array(_len71), _key71 = 0; _key71 < _len71; _key71++) {\n        args[_key71] = arguments[_key71];\n      }\n\n      return unhangRange(editor, ...args);\n    },\n    unsetNodes: function unsetNodes$1() {\n      for (var _len72 = arguments.length, args = new Array(_len72), _key72 = 0; _key72 < _len72; _key72++) {\n        args[_key72] = arguments[_key72];\n      }\n\n      return unsetNodes(editor, ...args);\n    },\n    unwrapNodes: function unwrapNodes$1() {\n      for (var _len73 = arguments.length, args = new Array(_len73), _key73 = 0; _key73 < _len73; _key73++) {\n        args[_key73] = arguments[_key73];\n      }\n\n      return unwrapNodes(editor, ...args);\n    },\n    void: function _void() {\n      for (var _len74 = arguments.length, args = new Array(_len74), _key74 = 0; _key74 < _len74; _key74++) {\n        args[_key74] = arguments[_key74];\n      }\n\n      return getVoid(editor, ...args);\n    },\n    withoutNormalizing: function withoutNormalizing$1() {\n      for (var _len75 = arguments.length, args = new Array(_len75), _key75 = 0; _key75 < _len75; _key75++) {\n        args[_key75] = arguments[_key75];\n      }\n\n      return withoutNormalizing(editor, ...args);\n    },\n    wrapNodes: function wrapNodes$1() {\n      for (var _len76 = arguments.length, args = new Array(_len76), _key76 = 0; _key76 < _len76; _key76++) {\n        args[_key76] = arguments[_key76];\n      }\n\n      return wrapNodes(editor, ...args);\n    }\n  };\n  return editor;\n};\n\n\n//# sourceMappingURL=index.es.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9zbGF0ZS9kaXN0L2luZGV4LmVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ21COztBQUVuRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBOztBQUVBLG9CQUFvQix1Q0FBdUM7QUFDM0Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQSxvQkFBb0IsU0FBUztBQUM3QjtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047O0FBRUEsb0JBQW9CLGtCQUFrQjtBQUN0QztBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0E7QUFDQSxNQUFNLFdBQVc7O0FBRWpCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTs7QUFFWjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7O0FBRVo7QUFDQTtBQUNBLFlBQVk7QUFDWjtB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LE9BQU87QUFDUDtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBLFdBQVcsOERBQWE7QUFDeEIsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQSxHQUFHOztBQUVIO0FBQ0E7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLFdBQVcsOENBQU87QUFDbEI7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxTQUFTLDhEQUFhO0FBQ3RCLEdBQUc7OztBQUdIO0FBQ0E7QUFDQSxXQUFXLDhEQUFhO0FBQ3hCLEdBQUc7O0FBRUg7O0FBRUE7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLHdDQUF3Qzs7QUFFeEM7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7O0FBRUg7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRzs7QUFFSDtBQUNB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QUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxHQUFHOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVTs7QUFFVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7O0FBRVY7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCOztBQUU1QjtBQUNBO0FBQ0EsSUFBSTs7O0FBR0o7QUFDQTtB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDJEQUEyRDs7QUFFM0Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0EsTUFBTTs7O0FBR047QUFDQTtBQUNBO0FBQ0EsTUFBTTs7O0FBR047O0FBRUE7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7OztBQUdKO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsSUFBSTtBQUNKOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBLDZDQUE2Qzs7O0FBRzdDO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJOztBQUVKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjs7QUFFcEI7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7OztBQUdBLDJDQUEyQzs7QUFFM0M7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLFVBQVU7QUFDdkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELE9BQU87QUFDcEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FB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Q0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQSxNQUFNOztBQUVOO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLLEdBQUc7O0FBRVI7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQSxRQUFROztBQUVSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTs7QUFFUjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjs7QUFFQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsTUFBTTtBQUNOOzs7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTs7QUFFSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBLDZDQUE2QyxnQ0FBZ0Msb0NBQW9DLG9EQUFvRCxzQkFBc0IsMENBQTBDLGlFQUFpRSxLQUFLLGtDQUFrQzs7QUFFN1UsbUNBQW1DLGdCQUFnQixzQkFBc0IsT0FBTyx1REFBdUQsYUFBYSx5REFBeUQsNENBQTRDLEtBQUssNkNBQTZDLDZFQUE2RSxPQUFPLG1EQUFtRCxtRkFBbUYsT0FBTztBQUM1Z0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLElBQUk7O0FBRUo7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxnRkFBZ0Y7QUFDaEYsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDs7QUFFQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87O0FBRVA7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7O0FBRVI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFFBQVE7QUFDUjs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07O0FBRU47QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7O0FB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Q0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7O0FBR0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTzs7QUFFUDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLE1BQU07QUFDTjs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0EsTUFBTTs7QUFFTjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7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QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQSxLQUFLO0FBQ0w7QUFDQSxnRkFBZ0YsaUJBQWlCO0FBQ2pHO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaThCO0FBQ2o4QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvc2xhdGUvZGlzdC9pbmRleC5lcy5qcz84ZDY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzUGxhaW5PYmplY3QgfSBmcm9tICdpcy1wbGFpbi1vYmplY3QnO1xuaW1wb3J0IHsgY3JlYXRlRHJhZnQsIGZpbmlzaERyYWZ0LCBpc0RyYWZ0LCBwcm9kdWNlIH0gZnJvbSAnaW1tZXInO1xuXG52YXIgUGF0aFJlZiA9IHtcbiAgdHJhbnNmb3JtKHJlZiwgb3ApIHtcbiAgICB2YXIge1xuICAgICAgY3VycmVudCxcbiAgICAgIGFmZmluaXR5XG4gICAgfSA9IHJlZjtcblxuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IFBhdGgudHJhbnNmb3JtKGN1cnJlbnQsIG9wLCB7XG4gICAgICBhZmZpbml0eVxuICAgIH0pO1xuICAgIHJlZi5jdXJyZW50ID0gcGF0aDtcblxuICAgIGlmIChwYXRoID09IG51bGwpIHtcbiAgICAgIHJlZi51bnJlZigpO1xuICAgIH1cbiAgfVxuXG59O1xuXG52YXIgUG9pbnRSZWYgPSB7XG4gIHRyYW5zZm9ybShyZWYsIG9wKSB7XG4gICAgdmFyIHtcbiAgICAgIGN1cnJlbnQsXG4gICAgICBhZmZpbml0eVxuICAgIH0gPSByZWY7XG5cbiAgICBpZiAoY3VycmVudCA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHBvaW50ID0gUG9pbnQudHJhbnNmb3JtKGN1cnJlbnQsIG9wLCB7XG4gICAgICBhZmZpbml0eVxuICAgIH0pO1xuICAgIHJlZi5jdXJyZW50ID0gcG9pbnQ7XG5cbiAgICBpZiAocG9pbnQgPT0gbnVsbCkge1xuICAgICAgcmVmLnVucmVmKCk7XG4gICAgfVxuICB9XG5cbn07XG5cbnZhciBSYW5nZVJlZiA9IHtcbiAgdHJhbnNmb3JtKHJlZiwgb3ApIHtcbiAgICB2YXIge1xuICAgICAgY3VycmVudCxcbiAgICAgIGFmZmluaXR5XG4gICAgfSA9IHJlZjtcblxuICAgIGlmIChjdXJyZW50ID09IG51bGwpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgcGF0aCA9IFJhbmdlLnRyYW5zZm9ybShjdXJyZW50LCBvcCwge1xuICAgICAgYWZmaW5pdHlcbiAgICB9KTtcbiAgICByZWYuY3VycmVudCA9IHBhdGg7XG5cbiAgICBpZiAocGF0aCA9PSBudWxsKSB7XG4gICAgICByZWYudW5yZWYoKTtcbiAgICB9XG4gIH1cblxufTtcblxudmFyIERJUlRZX1BBVEhTID0gbmV3IFdlYWtNYXAoKTtcbnZhciBESVJUWV9QQVRIX0tFWVMgPSBuZXcgV2Vha01hcCgpO1xudmFyIEZMVVNISU5HID0gbmV3IFdlYWtNYXAoKTtcbnZhciBOT1JNQUxJWklORyA9IG5ldyBXZWFrTWFwKCk7XG52YXIgUEFUSF9SRUZTID0gbmV3IFdlYWtNYXAoKTtcbnZhciBQT0lOVF9SRUZTID0gbmV3IFdlYWtNYXAoKTtcbnZhciBSQU5HRV9SRUZTID0gbmV3IFdlYWtNYXAoKTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxudmFyIFBhdGggPSB7XG4gIGFuY2VzdG9ycyhwYXRoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciB7XG4gICAgICByZXZlcnNlID0gZmFsc2VcbiAgICB9ID0gb3B0aW9ucztcbiAgICB2YXIgcGF0aHMgPSBQYXRoLmxldmVscyhwYXRoLCBvcHRpb25zKTtcblxuICAgIGlmIChyZXZlcnNlKSB7XG4gICAgICBwYXRocyA9IHBhdGhzLnNsaWNlKDEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXRocyA9IHBhdGhzLnNsaWNlKDAsIC0xKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aHM7XG4gIH0sXG5cbiAgY29tbW9uKHBhdGgsIGFub3RoZXIpIHtcbiAgICB2YXIgY29tbW9uID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoICYmIGkgPCBhbm90aGVyLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgYXYgPSBwYXRoW2ldO1xuICAgICAgdmFyIGJ2ID0gYW5vdGhlcltpXTtcblxuICAgICAgaWYgKGF2ICE9PSBidikge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgY29tbW9uLnB1c2goYXYpO1xuICAgIH1cblxuICAgIHJldHVybiBjb21tb247XG4gIH0sXG5cbiAgY29tcGFyZShwYXRoLCBhbm90aGVyKSB7XG4gICAgdmFyIG1pbiA9IE1hdGgubWluKHBhdGgubGVuZ3RoLCBhbm90aGVyLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1pbjsgaSsrKSB7XG4gICAgICBpZiAocGF0aFtpXSA8IGFub3RoZXJbaV0pIHJldHVybiAtMTtcbiAgICAgIGlmIChwYXRoW2ldID4gYW5vdGhlcltpXSkgcmV0dXJuIDE7XG4gICAgfVxuXG4gICAgcmV0dXJuIDA7XG4gIH0sXG5cbiAgZW5kc0FmdGVyKHBhdGgsIGFub3RoZXIpIHtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcbiAgICB2YXIgYXMgPSBwYXRoLnNsaWNlKDAsIGkpO1xuICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIGF2ID0gcGF0aFtpXTtcbiAgICB2YXIgYnYgPSBhbm90aGVyW2ldO1xuICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpICYmIGF2ID4gYnY7XG4gIH0sXG5cbiAgZW5kc0F0KHBhdGgsIGFub3RoZXIpIHtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoO1xuICAgIHZhciBhcyA9IHBhdGguc2xpY2UoMCwgaSk7XG4gICAgdmFyIGJzID0gYW5vdGhlci5zbGljZSgwLCBpKTtcbiAgICByZXR1cm4gUGF0aC5lcXVhbHMoYXMsIGJzKTtcbiAgfSxcblxuICBlbmRzQmVmb3JlKHBhdGgsIGFub3RoZXIpIHtcbiAgICB2YXIgaSA9IHBhdGgubGVuZ3RoIC0gMTtcbiAgICB2YXIgYXMgPSBwYXRoLnNsaWNlKDAsIGkpO1xuICAgIHZhciBicyA9IGFub3RoZXIuc2xpY2UoMCwgaSk7XG4gICAgdmFyIGF2ID0gcGF0aFtpXTtcbiAgICB2YXIgYnYgPSBhbm90aGVyW2ldO1xuICAgIHJldHVybiBQYXRoLmVxdWFscyhhcywgYnMpICYmIGF2IDwgYnY7XG4gIH0sXG5cbiAgZXF1YWxzKHBhdGgsIGFub3RoZXIpIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggPT09IGFub3RoZXIubGVuZ3RoICYmIHBhdGguZXZlcnkoKG4sIGkpID0+IG4gPT09IGFub3RoZXJbaV0pO1xuICB9LFxuXG4gIGhhc1ByZXZpb3VzKHBhdGgpIHtcbiAgICByZXR1cm4gcGF0aFtwYXRoLmxlbmd0aCAtIDFdID4gMDtcbiAgfSxcblxuICBpc0FmdGVyKHBhdGgsIGFub3RoZXIpIHtcbiAgICByZXR1cm4gUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAxO1xuICB9LFxuXG4gIGlzQW5jZXN0b3IocGF0aCwgYW5vdGhlcikge1xuICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IGFub3RoZXIubGVuZ3RoICYmIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gMDtcbiAgfSxcblxuICBpc0JlZm9yZShwYXRoLCBhbm90aGVyKSB7XG4gICAgcmV0dXJuIFBhdGguY29tcGFyZShwYXRoLCBhbm90aGVyKSA9PT0gLTE7XG4gIH0sXG5cbiAgaXNDaGlsZChwYXRoLCBhbm90aGVyKSB7XG4gICAgcmV0dXJuIHBhdGgubGVuZ3RoID09PSBhbm90aGVyLmxlbmd0aCArIDEgJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwO1xuICB9LFxuXG4gIGlzQ29tbW9uKHBhdGgsIGFub3RoZXIpIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggPD0gYW5vdGhlci5sZW5ndGggJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwO1xuICB9LFxuXG4gIGlzRGVzY2VuZGFudChwYXRoLCBhbm90aGVyKSB7XG4gICAgcmV0dXJuIHBhdGgubGVuZ3RoID4gYW5vdGhlci5sZW5ndGggJiYgUGF0aC5jb21wYXJlKHBhdGgsIGFub3RoZXIpID09PSAwO1xuICB9LFxuXG4gIGlzUGFyZW50KHBhdGgsIGFub3RoZXIpIHtcbiAgICByZXR1cm4gcGF0aC5sZW5ndGggKyAxID09PSBhbm90aGVyLmxlbmd0aCAmJiBQYXRoLmNvbXBhcmUocGF0aCwgYW5vdGhlcikgPT09IDA7XG4gIH0sXG5cbiAgaXNQYXRoKHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmICh2YWx1ZS5sZW5ndGggPT09IDAgfHwgdHlwZW9mIHZhbHVlWzBdID09PSAnbnVtYmVyJyk7XG4gIH0sXG5cbiAgaXNTaWJsaW5nKHBhdGgsIGFub3RoZXIpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggIT09IGFub3RoZXIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGFzID0gcGF0aC5zbGljZSgwLCAtMSk7XG4gICAgdmFyIGJzID0gYW5vdGhlci5zbGljZSgwLCAtMSk7XG4gICAgdmFyIGFsID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgIHZhciBibCA9IGFub3RoZXJbYW5vdGhlci5sZW5ndGggLSAxXTtcbiAgICByZXR1cm4gYWwgIT09IGJsICYmIFBhdGguZXF1YWxzKGFzLCBicyk7XG4gIH0sXG5cbiAgbGV2ZWxzKHBhdGgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIHtcbiAgICAgIHJldmVyc2UgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciBsaXN0ID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBwYXRoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsaXN0LnB1c2gocGF0aC5zbGljZSgwLCBpKSk7XG4gICAgfVxuXG4gICAgaWYgKHJldmVyc2UpIHtcbiAgICAgIGxpc3QucmV2ZXJzZSgpO1xuICAgIH1cblxuICAgIHJldHVybiBsaXN0O1xuICB9LFxuXG4gIG5leHQocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgbmV4dCBwYXRoIG9mIGEgcm9vdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdLCBiZWNhdXNlIGl0IGhhcyBubyBuZXh0IGluZGV4LlwiKSk7XG4gICAgfVxuXG4gICAgdmFyIGxhc3QgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgcmV0dXJuIHBhdGguc2xpY2UoMCwgLTEpLmNvbmNhdChsYXN0ICsgMSk7XG4gIH0sXG5cbiAgb3BlcmF0aW9uQ2FuVHJhbnNmb3JtUGF0aChvcGVyYXRpb24pIHtcbiAgICBzd2l0Y2ggKG9wZXJhdGlvbi50eXBlKSB7XG4gICAgICBjYXNlICdpbnNlcnRfbm9kZSc6XG4gICAgICBjYXNlICdyZW1vdmVfbm9kZSc6XG4gICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgIGNhc2UgJ3NwbGl0X25vZGUnOlxuICAgICAgY2FzZSAnbW92ZV9ub2RlJzpcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgcGFyZW50KHBhdGgpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIHBhcmVudCBwYXRoIG9mIHRoZSByb290IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0uXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCAtMSk7XG4gIH0sXG5cbiAgcHJldmlvdXMocGF0aCkge1xuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgcHJldmlvdXMgcGF0aCBvZiBhIHJvb3QgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSwgYmVjYXVzZSBpdCBoYXMgbm8gcHJldmlvdXMgaW5kZXguXCIpKTtcbiAgICB9XG5cbiAgICB2YXIgbGFzdCA9IHBhdGhbcGF0aC5sZW5ndGggLSAxXTtcblxuICAgIGlmIChsYXN0IDw9IDApIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIHByZXZpb3VzIHBhdGggb2YgYSBmaXJzdCBjaGlsZCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdIGJlY2F1c2UgaXQgd291bGQgcmVzdWx0IGluIGEgbmVnYXRpdmUgaW5kZXguXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGF0aC5zbGljZSgwLCAtMSkuY29uY2F0KGxhc3QgLSAxKTtcbiAgfSxcblxuICByZWxhdGl2ZShwYXRoLCBhbmNlc3Rvcikge1xuICAgIGlmICghUGF0aC5pc0FuY2VzdG9yKGFuY2VzdG9yLCBwYXRoKSAmJiAhUGF0aC5lcXVhbHMocGF0aCwgYW5jZXN0b3IpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSByZWxhdGl2ZSBwYXRoIG9mIFtcIi5jb25jYXQocGF0aCwgXCJdIGluc2lkZSBhbmNlc3RvciBbXCIpLmNvbmNhdChhbmNlc3RvciwgXCJdLCBiZWNhdXNlIGl0IGlzIG5vdCBhYm92ZSBvciBlcXVhbCB0byB0aGUgcGF0aC5cIikpO1xuICAgIH1cblxuICAgIHJldHVybiBwYXRoLnNsaWNlKGFuY2VzdG9yLmxlbmd0aCk7XG4gIH0sXG5cbiAgdHJhbnNmb3JtKHBhdGgsIG9wZXJhdGlvbikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICBpZiAoIXBhdGgpIHJldHVybiBudWxsOyAvLyBQRVJGOiB1c2UgZGVzdHJ1Y3RpbmcgaW5zdGVhZCBvZiBpbW1lclxuXG4gICAgdmFyIHAgPSBbLi4ucGF0aF07XG4gICAgdmFyIHtcbiAgICAgIGFmZmluaXR5ID0gJ2ZvcndhcmQnXG4gICAgfSA9IG9wdGlvbnM7IC8vIFBFUkY6IEV4aXQgZWFybHkgaWYgdGhlIG9wZXJhdGlvbiBpcyBndWFyYW50ZWVkIG5vdCB0byBoYXZlIGFuIGVmZmVjdC5cblxuICAgIGlmIChwYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIHA7XG4gICAgfVxuXG4gICAgc3dpdGNoIChvcGVyYXRpb24udHlwZSkge1xuICAgICAgY2FzZSAnaW5zZXJ0X25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHtcbiAgICAgICAgICAgIHBhdGg6IG9wXG4gICAgICAgICAgfSA9IG9wZXJhdGlvbjtcblxuICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcCwgcCkgfHwgUGF0aC5lbmRzQmVmb3JlKG9wLCBwKSB8fCBQYXRoLmlzQW5jZXN0b3Iob3AsIHApKSB7XG4gICAgICAgICAgICBwW29wLmxlbmd0aCAtIDFdICs9IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAncmVtb3ZlX25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgdmFyIHtcbiAgICAgICAgICAgIHBhdGg6IF9vcFxuICAgICAgICAgIH0gPSBvcGVyYXRpb247XG5cbiAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMoX29wLCBwKSB8fCBQYXRoLmlzQW5jZXN0b3IoX29wLCBwKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmVuZHNCZWZvcmUoX29wLCBwKSkge1xuICAgICAgICAgICAgcFtfb3AubGVuZ3RoIC0gMV0gLT0gMTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHZhciB7XG4gICAgICAgICAgICBwYXRoOiBfb3AyLFxuICAgICAgICAgICAgcG9zaXRpb25cbiAgICAgICAgICB9ID0gb3BlcmF0aW9uO1xuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKF9vcDIsIHApIHx8IFBhdGguZW5kc0JlZm9yZShfb3AyLCBwKSkge1xuICAgICAgICAgICAgcFtfb3AyLmxlbmd0aCAtIDFdIC09IDE7XG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmlzQW5jZXN0b3IoX29wMiwgcCkpIHtcbiAgICAgICAgICAgIHBbX29wMi5sZW5ndGggLSAxXSAtPSAxO1xuICAgICAgICAgICAgcFtfb3AyLmxlbmd0aF0gKz0gcG9zaXRpb247XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgcGF0aDogX29wMyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiBfcG9zaXRpb25cbiAgICAgICAgICB9ID0gb3BlcmF0aW9uO1xuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKF9vcDMsIHApKSB7XG4gICAgICAgICAgICBpZiAoYWZmaW5pdHkgPT09ICdmb3J3YXJkJykge1xuICAgICAgICAgICAgICBwW3AubGVuZ3RoIC0gMV0gKz0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYWZmaW5pdHkgPT09ICdiYWNrd2FyZCcpIDsgZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKF9vcDMsIHApKSB7XG4gICAgICAgICAgICBwW19vcDMubGVuZ3RoIC0gMV0gKz0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFBhdGguaXNBbmNlc3Rvcihfb3AzLCBwKSAmJiBwYXRoW19vcDMubGVuZ3RoXSA+PSBfcG9zaXRpb24pIHtcbiAgICAgICAgICAgIHBbX29wMy5sZW5ndGggLSAxXSArPSAxO1xuICAgICAgICAgICAgcFtfb3AzLmxlbmd0aF0gLT0gX3Bvc2l0aW9uO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgcGF0aDogX29wNCxcbiAgICAgICAgICAgIG5ld1BhdGg6IG9ucFxuICAgICAgICAgIH0gPSBvcGVyYXRpb247IC8vIElmIHRoZSBvbGQgYW5kIG5ldyBwYXRoIGFyZSB0aGUgc2FtZSwgaXQncyBhIG5vLW9wLlxuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKF9vcDQsIG9ucCkpIHtcbiAgICAgICAgICAgIHJldHVybiBwO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IoX29wNCwgcCkgfHwgUGF0aC5lcXVhbHMoX29wNCwgcCkpIHtcbiAgICAgICAgICAgIHZhciBjb3B5ID0gb25wLnNsaWNlKCk7XG5cbiAgICAgICAgICAgIGlmIChQYXRoLmVuZHNCZWZvcmUoX29wNCwgb25wKSAmJiBfb3A0Lmxlbmd0aCA8IG9ucC5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgY29weVtfb3A0Lmxlbmd0aCAtIDFdIC09IDE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBjb3B5LmNvbmNhdChwLnNsaWNlKF9vcDQubGVuZ3RoKSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChQYXRoLmlzU2libGluZyhfb3A0LCBvbnApICYmIChQYXRoLmlzQW5jZXN0b3Iob25wLCBwKSB8fCBQYXRoLmVxdWFscyhvbnAsIHApKSkge1xuICAgICAgICAgICAgaWYgKFBhdGguZW5kc0JlZm9yZShfb3A0LCBwKSkge1xuICAgICAgICAgICAgICBwW19vcDQubGVuZ3RoIC0gMV0gLT0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBbX29wNC5sZW5ndGggLSAxXSArPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoUGF0aC5lbmRzQmVmb3JlKG9ucCwgcCkgfHwgUGF0aC5lcXVhbHMob25wLCBwKSB8fCBQYXRoLmlzQW5jZXN0b3Iob25wLCBwKSkge1xuICAgICAgICAgICAgaWYgKFBhdGguZW5kc0JlZm9yZShfb3A0LCBwKSkge1xuICAgICAgICAgICAgICBwW19vcDQubGVuZ3RoIC0gMV0gLT0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcFtvbnAubGVuZ3RoIC0gMV0gKz0gMTtcbiAgICAgICAgICB9IGVsc2UgaWYgKFBhdGguZW5kc0JlZm9yZShfb3A0LCBwKSkge1xuICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG9ucCwgcCkpIHtcbiAgICAgICAgICAgICAgcFtvbnAubGVuZ3RoIC0gMV0gKz0gMTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcFtfb3A0Lmxlbmd0aCAtIDFdIC09IDE7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gcDtcbiAgfVxuXG59O1xuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7XG4gIGlmIChrZXkgaW4gb2JqKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7XG4gICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgd3JpdGFibGU6IHRydWVcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBvYmpba2V5XSA9IHZhbHVlO1xuICB9XG5cbiAgcmV0dXJuIG9iajtcbn1cblxuZnVuY3Rpb24gb3duS2V5cyRlKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCRlKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkZShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJGUoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBhcHBseVRvRHJhZnQgPSAoZWRpdG9yLCBzZWxlY3Rpb24sIG9wKSA9PiB7XG4gIHN3aXRjaCAob3AudHlwZSkge1xuICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIG5vZGVcbiAgICAgICAgfSA9IG9wO1xuICAgICAgICB2YXIgcGFyZW50ID0gTm9kZS5wYXJlbnQoZWRpdG9yLCBwYXRoKTtcbiAgICAgICAgdmFyIGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuXG4gICAgICAgIGlmIChpbmRleCA+IHBhcmVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgYW4gXFxcImluc2VydF9ub2RlXFxcIiBvcGVyYXRpb24gYXQgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIHRoZSBkZXN0aW5hdGlvbiBpcyBwYXN0IHRoZSBlbmQgb2YgdGhlIG5vZGUuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBhcmVudC5jaGlsZHJlbi5zcGxpY2UoaW5kZXgsIDAsIG5vZGUpO1xuXG4gICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICBmb3IgKHZhciBbcG9pbnQsIGtleV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbltrZXldID0gUG9pbnQudHJhbnNmb3JtKHBvaW50LCBvcCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICB7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgcGF0aDogX3BhdGgsXG4gICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgIHRleHRcbiAgICAgICAgfSA9IG9wO1xuICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDApIGJyZWFrO1xuXG4gICAgICAgIHZhciBfbm9kZSA9IE5vZGUubGVhZihlZGl0b3IsIF9wYXRoKTtcblxuICAgICAgICB2YXIgYmVmb3JlID0gX25vZGUudGV4dC5zbGljZSgwLCBvZmZzZXQpO1xuXG4gICAgICAgIHZhciBhZnRlciA9IF9ub2RlLnRleHQuc2xpY2Uob2Zmc2V0KTtcblxuICAgICAgICBfbm9kZS50ZXh0ID0gYmVmb3JlICsgdGV4dCArIGFmdGVyO1xuXG4gICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICBmb3IgKHZhciBbX3BvaW50LCBfa2V5XSBvZiBSYW5nZS5wb2ludHMoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgc2VsZWN0aW9uW19rZXldID0gUG9pbnQudHJhbnNmb3JtKF9wb2ludCwgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnbWVyZ2Vfbm9kZSc6XG4gICAgICB7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgcGF0aDogX3BhdGgyXG4gICAgICAgIH0gPSBvcDtcblxuICAgICAgICB2YXIgX25vZGUyID0gTm9kZS5nZXQoZWRpdG9yLCBfcGF0aDIpO1xuXG4gICAgICAgIHZhciBwcmV2UGF0aCA9IFBhdGgucHJldmlvdXMoX3BhdGgyKTtcbiAgICAgICAgdmFyIHByZXYgPSBOb2RlLmdldChlZGl0b3IsIHByZXZQYXRoKTtcblxuICAgICAgICB2YXIgX3BhcmVudCA9IE5vZGUucGFyZW50KGVkaXRvciwgX3BhdGgyKTtcblxuICAgICAgICB2YXIgX2luZGV4ID0gX3BhdGgyW19wYXRoMi5sZW5ndGggLSAxXTtcblxuICAgICAgICBpZiAoVGV4dC5pc1RleHQoX25vZGUyKSAmJiBUZXh0LmlzVGV4dChwcmV2KSkge1xuICAgICAgICAgIHByZXYudGV4dCArPSBfbm9kZTIudGV4dDtcbiAgICAgICAgfSBlbHNlIGlmICghVGV4dC5pc1RleHQoX25vZGUyKSAmJiAhVGV4dC5pc1RleHQocHJldikpIHtcbiAgICAgICAgICBwcmV2LmNoaWxkcmVuLnB1c2goLi4uX25vZGUyLmNoaWxkcmVuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgYSBcXFwibWVyZ2Vfbm9kZVxcXCIgb3BlcmF0aW9uIGF0IHBhdGggW1wiLmNvbmNhdChfcGF0aDIsIFwiXSB0byBub2RlcyBvZiBkaWZmZXJlbnQgaW50ZXJmYWNlczogXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkoX25vZGUyKSwgXCIgXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkocHJldikpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIF9wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKF9pbmRleCwgMSk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGZvciAodmFyIFtfcG9pbnQyLCBfa2V5Ml0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbltfa2V5Ml0gPSBQb2ludC50cmFuc2Zvcm0oX3BvaW50Miwgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnbW92ZV9ub2RlJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBwYXRoOiBfcGF0aDMsXG4gICAgICAgICAgbmV3UGF0aFxuICAgICAgICB9ID0gb3A7XG5cbiAgICAgICAgaWYgKFBhdGguaXNBbmNlc3RvcihfcGF0aDMsIG5ld1BhdGgpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1vdmUgYSBwYXRoIFtcIi5jb25jYXQoX3BhdGgzLCBcIl0gdG8gbmV3IHBhdGggW1wiKS5jb25jYXQobmV3UGF0aCwgXCJdIGJlY2F1c2UgdGhlIGRlc3RpbmF0aW9uIGlzIGluc2lkZSBpdHNlbGYuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbm9kZTMgPSBOb2RlLmdldChlZGl0b3IsIF9wYXRoMyk7XG5cbiAgICAgICAgdmFyIF9wYXJlbnQyID0gTm9kZS5wYXJlbnQoZWRpdG9yLCBfcGF0aDMpO1xuXG4gICAgICAgIHZhciBfaW5kZXgyID0gX3BhdGgzW19wYXRoMy5sZW5ndGggLSAxXTsgLy8gVGhpcyBpcyB0cmlja3ksIGJ1dCBzaW5jZSB0aGUgYHBhdGhgIGFuZCBgbmV3UGF0aGAgYm90aCByZWZlciB0b1xuICAgICAgICAvLyB0aGUgc2FtZSBzbmFwc2hvdCBpbiB0aW1lLCB0aGVyZSdzIGEgbWlzbWF0Y2guIEFmdGVyIGVpdGhlclxuICAgICAgICAvLyByZW1vdmluZyB0aGUgb3JpZ2luYWwgcG9zaXRpb24sIHRoZSBzZWNvbmQgc3RlcCdzIHBhdGggY2FuIGJlIG91dFxuICAgICAgICAvLyBvZiBkYXRlLiBTbyBpbnN0ZWFkIG9mIHVzaW5nIHRoZSBgb3AubmV3UGF0aGAgZGlyZWN0bHksIHdlXG4gICAgICAgIC8vIHRyYW5zZm9ybSBgb3AucGF0aGAgdG8gYXNjZXJ0YWluIHdoYXQgdGhlIGBuZXdQYXRoYCB3b3VsZCBiZSBhZnRlclxuICAgICAgICAvLyB0aGUgb3BlcmF0aW9uIHdhcyBhcHBsaWVkLlxuXG4gICAgICAgIF9wYXJlbnQyLmNoaWxkcmVuLnNwbGljZShfaW5kZXgyLCAxKTtcblxuICAgICAgICB2YXIgdHJ1ZVBhdGggPSBQYXRoLnRyYW5zZm9ybShfcGF0aDMsIG9wKTtcbiAgICAgICAgdmFyIG5ld1BhcmVudCA9IE5vZGUuZ2V0KGVkaXRvciwgUGF0aC5wYXJlbnQodHJ1ZVBhdGgpKTtcbiAgICAgICAgdmFyIG5ld0luZGV4ID0gdHJ1ZVBhdGhbdHJ1ZVBhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIG5ld1BhcmVudC5jaGlsZHJlbi5zcGxpY2UobmV3SW5kZXgsIDAsIF9ub2RlMyk7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGZvciAodmFyIFtfcG9pbnQzLCBfa2V5M10gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbltfa2V5M10gPSBQb2ludC50cmFuc2Zvcm0oX3BvaW50Mywgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX25vZGUnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGg6IF9wYXRoNFxuICAgICAgICB9ID0gb3A7XG4gICAgICAgIHZhciBfaW5kZXgzID0gX3BhdGg0W19wYXRoNC5sZW5ndGggLSAxXTtcblxuICAgICAgICB2YXIgX3BhcmVudDMgPSBOb2RlLnBhcmVudChlZGl0b3IsIF9wYXRoNCk7XG5cbiAgICAgICAgX3BhcmVudDMuY2hpbGRyZW4uc3BsaWNlKF9pbmRleDMsIDEpOyAvLyBUcmFuc2Zvcm0gYWxsIG9mIHRoZSBwb2ludHMgaW4gdGhlIHZhbHVlLCBidXQgaWYgdGhlIHBvaW50IHdhcyBpbiB0aGVcbiAgICAgICAgLy8gbm9kZSB0aGF0IHdhcyByZW1vdmVkIHdlIG5lZWQgdG8gdXBkYXRlIHRoZSByYW5nZSBvciByZW1vdmUgaXQuXG5cblxuICAgICAgICBpZiAoc2VsZWN0aW9uKSB7XG4gICAgICAgICAgZm9yICh2YXIgW19wb2ludDQsIF9rZXk0XSBvZiBSYW5nZS5wb2ludHMoc2VsZWN0aW9uKSkge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IFBvaW50LnRyYW5zZm9ybShfcG9pbnQ0LCBvcCk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3Rpb24gIT0gbnVsbCAmJiByZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25bX2tleTRdID0gcmVzdWx0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIF9wcmV2ID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgIHZhciBuZXh0ID0gdm9pZCAwO1xuXG4gICAgICAgICAgICAgIGZvciAodmFyIFtuLCBwXSBvZiBOb2RlLnRleHRzKGVkaXRvcikpIHtcbiAgICAgICAgICAgICAgICBpZiAoUGF0aC5jb21wYXJlKHAsIF9wYXRoNCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICBfcHJldiA9IFtuLCBwXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgbmV4dCA9IFtuLCBwXTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHZhciBwcmVmZXJOZXh0ID0gZmFsc2U7XG5cbiAgICAgICAgICAgICAgaWYgKF9wcmV2ICYmIG5leHQpIHtcbiAgICAgICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMobmV4dFsxXSwgX3BhdGg0KSkge1xuICAgICAgICAgICAgICAgICAgcHJlZmVyTmV4dCA9ICFQYXRoLmhhc1ByZXZpb3VzKG5leHRbMV0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBwcmVmZXJOZXh0ID0gUGF0aC5jb21tb24oX3ByZXZbMV0sIF9wYXRoNCkubGVuZ3RoIDwgUGF0aC5jb21tb24obmV4dFsxXSwgX3BhdGg0KS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgaWYgKF9wcmV2ICYmICFwcmVmZXJOZXh0KSB7XG4gICAgICAgICAgICAgICAgX3BvaW50NC5wYXRoID0gX3ByZXZbMV07XG4gICAgICAgICAgICAgICAgX3BvaW50NC5vZmZzZXQgPSBfcHJldlswXS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChuZXh0KSB7XG4gICAgICAgICAgICAgICAgX3BvaW50NC5wYXRoID0gbmV4dFsxXTtcbiAgICAgICAgICAgICAgICBfcG9pbnQ0Lm9mZnNldCA9IDA7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uID0gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGg6IF9wYXRoNSxcbiAgICAgICAgICBvZmZzZXQ6IF9vZmZzZXQsXG4gICAgICAgICAgdGV4dDogX3RleHRcbiAgICAgICAgfSA9IG9wO1xuICAgICAgICBpZiAoX3RleHQubGVuZ3RoID09PSAwKSBicmVhaztcblxuICAgICAgICB2YXIgX25vZGU0ID0gTm9kZS5sZWFmKGVkaXRvciwgX3BhdGg1KTtcblxuICAgICAgICB2YXIgX2JlZm9yZSA9IF9ub2RlNC50ZXh0LnNsaWNlKDAsIF9vZmZzZXQpO1xuXG4gICAgICAgIHZhciBfYWZ0ZXIgPSBfbm9kZTQudGV4dC5zbGljZShfb2Zmc2V0ICsgX3RleHQubGVuZ3RoKTtcblxuICAgICAgICBfbm9kZTQudGV4dCA9IF9iZWZvcmUgKyBfYWZ0ZXI7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICAgIGZvciAodmFyIFtfcG9pbnQ1LCBfa2V5NV0gb2YgUmFuZ2UucG9pbnRzKHNlbGVjdGlvbikpIHtcbiAgICAgICAgICAgIHNlbGVjdGlvbltfa2V5NV0gPSBQb2ludC50cmFuc2Zvcm0oX3BvaW50NSwgb3ApO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnc2V0X25vZGUnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGg6IF9wYXRoNixcbiAgICAgICAgICBwcm9wZXJ0aWVzLFxuICAgICAgICAgIG5ld1Byb3BlcnRpZXNcbiAgICAgICAgfSA9IG9wO1xuXG4gICAgICAgIGlmIChfcGF0aDYubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNldCBwcm9wZXJ0aWVzIG9uIHRoZSByb290IG5vZGUhXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF9ub2RlNSA9IE5vZGUuZ2V0KGVkaXRvciwgX3BhdGg2KTtcblxuICAgICAgICBmb3IgKHZhciBfa2V5NiBpbiBuZXdQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgaWYgKF9rZXk2ID09PSAnY2hpbGRyZW4nIHx8IF9rZXk2ID09PSAndGV4dCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBzZXQgdGhlIFxcXCJcIi5jb25jYXQoX2tleTYsIFwiXFxcIiBwcm9wZXJ0eSBvZiBub2RlcyFcIikpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciB2YWx1ZSA9IG5ld1Byb3BlcnRpZXNbX2tleTZdO1xuXG4gICAgICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBfbm9kZTVbX2tleTZdO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBfbm9kZTVbX2tleTZdID0gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9IC8vIHByb3BlcnRpZXMgdGhhdCB3ZXJlIHByZXZpb3VzbHkgZGVmaW5lZCwgYnV0IGFyZSBub3cgbWlzc2luZywgbXVzdCBiZSBkZWxldGVkXG5cblxuICAgICAgICBmb3IgKHZhciBfa2V5NyBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgaWYgKCFuZXdQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KF9rZXk3KSkge1xuICAgICAgICAgICAgZGVsZXRlIF9ub2RlNVtfa2V5N107XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICBjYXNlICdzZXRfc2VsZWN0aW9uJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBfbmV3UHJvcGVydGllc1xuICAgICAgICB9ID0gb3A7XG5cbiAgICAgICAgaWYgKF9uZXdQcm9wZXJ0aWVzID09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3Rpb24gPSBfbmV3UHJvcGVydGllcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc2VsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgICAgIGlmICghUmFuZ2UuaXNSYW5nZShfbmV3UHJvcGVydGllcykpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGFwcGx5IGFuIGluY29tcGxldGUgXFxcInNldF9zZWxlY3Rpb25cXFwiIG9wZXJhdGlvbiBwcm9wZXJ0aWVzIFwiLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkoX25ld1Byb3BlcnRpZXMpLCBcIiB3aGVuIHRoZXJlIGlzIG5vIGN1cnJlbnQgc2VsZWN0aW9uLlwiKSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbGVjdGlvbiA9IF9vYmplY3RTcHJlYWQkZSh7fSwgX25ld1Byb3BlcnRpZXMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGZvciAodmFyIF9rZXk4IGluIF9uZXdQcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICB2YXIgX3ZhbHVlID0gX25ld1Byb3BlcnRpZXNbX2tleThdO1xuXG4gICAgICAgICAgICBpZiAoX3ZhbHVlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgaWYgKF9rZXk4ID09PSAnYW5jaG9yJyB8fCBfa2V5OCA9PT0gJ2ZvY3VzJykge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZW1vdmUgdGhlIFxcXCJcIi5jb25jYXQoX2tleTgsIFwiXFxcIiBzZWxlY3Rpb24gcHJvcGVydHlcIikpO1xuICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgZGVsZXRlIHNlbGVjdGlvbltfa2V5OF07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxlY3Rpb25bX2tleThdID0gX3ZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICB7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgcGF0aDogX3BhdGg3LFxuICAgICAgICAgIHBvc2l0aW9uLFxuICAgICAgICAgIHByb3BlcnRpZXM6IF9wcm9wZXJ0aWVzXG4gICAgICAgIH0gPSBvcDtcblxuICAgICAgICBpZiAoX3BhdGg3Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhcHBseSBhIFxcXCJzcGxpdF9ub2RlXFxcIiBvcGVyYXRpb24gYXQgcGF0aCBbXCIuY29uY2F0KF9wYXRoNywgXCJdIGJlY2F1c2UgdGhlIHJvb3Qgbm9kZSBjYW5ub3QgYmUgc3BsaXQuXCIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfbm9kZTYgPSBOb2RlLmdldChlZGl0b3IsIF9wYXRoNyk7XG5cbiAgICAgICAgdmFyIF9wYXJlbnQ0ID0gTm9kZS5wYXJlbnQoZWRpdG9yLCBfcGF0aDcpO1xuXG4gICAgICAgIHZhciBfaW5kZXg0ID0gX3BhdGg3W19wYXRoNy5sZW5ndGggLSAxXTtcbiAgICAgICAgdmFyIG5ld05vZGU7XG5cbiAgICAgICAgaWYgKFRleHQuaXNUZXh0KF9ub2RlNikpIHtcbiAgICAgICAgICB2YXIgX2JlZm9yZTIgPSBfbm9kZTYudGV4dC5zbGljZSgwLCBwb3NpdGlvbik7XG5cbiAgICAgICAgICB2YXIgX2FmdGVyMiA9IF9ub2RlNi50ZXh0LnNsaWNlKHBvc2l0aW9uKTtcblxuICAgICAgICAgIF9ub2RlNi50ZXh0ID0gX2JlZm9yZTI7XG4gICAgICAgICAgbmV3Tm9kZSA9IF9vYmplY3RTcHJlYWQkZShfb2JqZWN0U3ByZWFkJGUoe30sIF9wcm9wZXJ0aWVzKSwge30sIHtcbiAgICAgICAgICAgIHRleHQ6IF9hZnRlcjJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgX2JlZm9yZTMgPSBfbm9kZTYuY2hpbGRyZW4uc2xpY2UoMCwgcG9zaXRpb24pO1xuXG4gICAgICAgICAgdmFyIF9hZnRlcjMgPSBfbm9kZTYuY2hpbGRyZW4uc2xpY2UocG9zaXRpb24pO1xuXG4gICAgICAgICAgX25vZGU2LmNoaWxkcmVuID0gX2JlZm9yZTM7XG4gICAgICAgICAgbmV3Tm9kZSA9IF9vYmplY3RTcHJlYWQkZShfb2JqZWN0U3ByZWFkJGUoe30sIF9wcm9wZXJ0aWVzKSwge30sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBfYWZ0ZXIzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBfcGFyZW50NC5jaGlsZHJlbi5zcGxpY2UoX2luZGV4NCArIDEsIDAsIG5ld05vZGUpO1xuXG4gICAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgICBmb3IgKHZhciBbX3BvaW50NiwgX2tleTldIG9mIFJhbmdlLnBvaW50cyhzZWxlY3Rpb24pKSB7XG4gICAgICAgICAgICBzZWxlY3Rpb25bX2tleTldID0gUG9pbnQudHJhbnNmb3JtKF9wb2ludDYsIG9wKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgfVxuXG4gIHJldHVybiBzZWxlY3Rpb247XG59OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cblxudmFyIEdlbmVyYWxUcmFuc2Zvcm1zID0ge1xuICB0cmFuc2Zvcm0oZWRpdG9yLCBvcCkge1xuICAgIGVkaXRvci5jaGlsZHJlbiA9IGNyZWF0ZURyYWZ0KGVkaXRvci5jaGlsZHJlbik7XG4gICAgdmFyIHNlbGVjdGlvbiA9IGVkaXRvci5zZWxlY3Rpb24gJiYgY3JlYXRlRHJhZnQoZWRpdG9yLnNlbGVjdGlvbik7XG5cbiAgICB0cnkge1xuICAgICAgc2VsZWN0aW9uID0gYXBwbHlUb0RyYWZ0KGVkaXRvciwgc2VsZWN0aW9uLCBvcCk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGVkaXRvci5jaGlsZHJlbiA9IGZpbmlzaERyYWZ0KGVkaXRvci5jaGlsZHJlbik7XG5cbiAgICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgZWRpdG9yLnNlbGVjdGlvbiA9IGlzRHJhZnQoc2VsZWN0aW9uKSA/IGZpbmlzaERyYWZ0KHNlbGVjdGlvbikgOiBzZWxlY3Rpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlZGl0b3Iuc2VsZWN0aW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxudmFyIE5vZGVUcmFuc2Zvcm1zID0ge1xuICBpbnNlcnROb2RlcyhlZGl0b3IsIG5vZGVzLCBvcHRpb25zKSB7XG4gICAgZWRpdG9yLmluc2VydE5vZGVzKG5vZGVzLCBvcHRpb25zKTtcbiAgfSxcblxuICBsaWZ0Tm9kZXMoZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgZWRpdG9yLmxpZnROb2RlcyhvcHRpb25zKTtcbiAgfSxcblxuICBtZXJnZU5vZGVzKGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5tZXJnZU5vZGVzKG9wdGlvbnMpO1xuICB9LFxuXG4gIG1vdmVOb2RlcyhlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3IubW92ZU5vZGVzKG9wdGlvbnMpO1xuICB9LFxuXG4gIHJlbW92ZU5vZGVzKGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5yZW1vdmVOb2RlcyhvcHRpb25zKTtcbiAgfSxcblxuICBzZXROb2RlcyhlZGl0b3IsIHByb3BzLCBvcHRpb25zKSB7XG4gICAgZWRpdG9yLnNldE5vZGVzKHByb3BzLCBvcHRpb25zKTtcbiAgfSxcblxuICBzcGxpdE5vZGVzKGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5zcGxpdE5vZGVzKG9wdGlvbnMpO1xuICB9LFxuXG4gIHVuc2V0Tm9kZXMoZWRpdG9yLCBwcm9wcywgb3B0aW9ucykge1xuICAgIGVkaXRvci51bnNldE5vZGVzKHByb3BzLCBvcHRpb25zKTtcbiAgfSxcblxuICB1bndyYXBOb2RlcyhlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3IudW53cmFwTm9kZXMob3B0aW9ucyk7XG4gIH0sXG5cbiAgd3JhcE5vZGVzKGVkaXRvciwgZWxlbWVudCwgb3B0aW9ucykge1xuICAgIGVkaXRvci53cmFwTm9kZXMoZWxlbWVudCwgb3B0aW9ucyk7XG4gIH1cblxufTtcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxudmFyIFNlbGVjdGlvblRyYW5zZm9ybXMgPSB7XG4gIGNvbGxhcHNlKGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5jb2xsYXBzZShvcHRpb25zKTtcbiAgfSxcblxuICBkZXNlbGVjdChlZGl0b3IpIHtcbiAgICBlZGl0b3IuZGVzZWxlY3QoKTtcbiAgfSxcblxuICBtb3ZlKGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5tb3ZlKG9wdGlvbnMpO1xuICB9LFxuXG4gIHNlbGVjdChlZGl0b3IsIHRhcmdldCkge1xuICAgIGVkaXRvci5zZWxlY3QodGFyZ2V0KTtcbiAgfSxcblxuICBzZXRQb2ludChlZGl0b3IsIHByb3BzLCBvcHRpb25zKSB7XG4gICAgZWRpdG9yLnNldFBvaW50KHByb3BzLCBvcHRpb25zKTtcbiAgfSxcblxuICBzZXRTZWxlY3Rpb24oZWRpdG9yLCBwcm9wcykge1xuICAgIGVkaXRvci5zZXRTZWxlY3Rpb24ocHJvcHMpO1xuICB9XG5cbn07XG5cbi8qXHJcbiAgQ3VzdG9tIGRlZXAgZXF1YWwgY29tcGFyaXNvbiBmb3IgU2xhdGUgbm9kZXMuXHJcblxuICBXZSBkb24ndCBuZWVkIGdlbmVyYWwgcHVycG9zZSBkZWVwIGVxdWFsaXR5O1xyXG4gIFNsYXRlIG9ubHkgc3VwcG9ydHMgcGxhaW4gdmFsdWVzLCBBcnJheXMsIGFuZCBuZXN0ZWQgb2JqZWN0cy5cclxuICBDb21wbGV4IHZhbHVlcyBuZXN0ZWQgaW5zaWRlIEFycmF5cyBhcmUgbm90IHN1cHBvcnRlZC5cclxuXG4gIFNsYXRlIG9iamVjdHMgYXJlIGRlc2lnbmVkIHRvIGJlIHNlcmlhbGlzZWQsIHNvXHJcbiAgbWlzc2luZyBrZXlzIGFyZSBkZWxpYmVyYXRlbHkgbm9ybWFsaXNlZCB0byB1bmRlZmluZWQuXHJcbiAqL1xuXG52YXIgaXNEZWVwRXF1YWwgPSAobm9kZSwgYW5vdGhlcikgPT4ge1xuICBmb3IgKHZhciBrZXkgaW4gbm9kZSkge1xuICAgIHZhciBhID0gbm9kZVtrZXldO1xuICAgIHZhciBiID0gYW5vdGhlcltrZXldO1xuXG4gICAgaWYgKGlzUGxhaW5PYmplY3QoYSkgJiYgaXNQbGFpbk9iamVjdChiKSkge1xuICAgICAgaWYgKCFpc0RlZXBFcXVhbChhLCBiKSkgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYVtpXSAhPT0gYltpXSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYSAhPT0gYikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICAvKlxyXG4gICAgRGVlcCBvYmplY3QgZXF1YWxpdHkgaXMgb25seSBuZWNlc3NhcnkgaW4gb25lIGRpcmVjdGlvbjsgaW4gdGhlIHJldmVyc2UgZGlyZWN0aW9uXHJcbiAgICB3ZSBhcmUgb25seSBsb29raW5nIGZvciBrZXlzIHRoYXQgYXJlIG1pc3NpbmcuXHJcbiAgICBBcyBhYm92ZSwgdW5kZWZpbmVkIGtleXMgYXJlIG5vcm1hbGlzZWQgdG8gbWlzc2luZy5cclxuICAqL1xuXG5cbiAgZm9yICh2YXIgX2tleSBpbiBhbm90aGVyKSB7XG4gICAgaWYgKG5vZGVbX2tleV0gPT09IHVuZGVmaW5lZCAmJiBhbm90aGVyW19rZXldICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoc291cmNlLCBleGNsdWRlZCkge1xuICBpZiAoc291cmNlID09IG51bGwpIHJldHVybiB7fTtcbiAgdmFyIHRhcmdldCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpO1xuICB2YXIga2V5LCBpO1xuXG4gIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gICAgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgc291cmNlU3ltYm9sS2V5cy5sZW5ndGg7IGkrKykge1xuICAgICAga2V5ID0gc291cmNlU3ltYm9sS2V5c1tpXTtcbiAgICAgIGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7XG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzb3VyY2UsIGtleSkpIGNvbnRpbnVlO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgX2V4Y2x1ZGVkJDQgPSBbXCJhbmNob3JcIiwgXCJmb2N1c1wiXTtcblxuZnVuY3Rpb24gb3duS2V5cyRkKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCRkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkZChPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJGQoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBSYW5nZSA9IHtcbiAgZWRnZXMocmFuZ2UpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIHtcbiAgICAgIHJldmVyc2UgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBhbmNob3IsXG4gICAgICBmb2N1c1xuICAgIH0gPSByYW5nZTtcbiAgICByZXR1cm4gUmFuZ2UuaXNCYWNrd2FyZChyYW5nZSkgPT09IHJldmVyc2UgPyBbYW5jaG9yLCBmb2N1c10gOiBbZm9jdXMsIGFuY2hvcl07XG4gIH0sXG5cbiAgZW5kKHJhbmdlKSB7XG4gICAgdmFyIFssIGVuZF0gPSBSYW5nZS5lZGdlcyhyYW5nZSk7XG4gICAgcmV0dXJuIGVuZDtcbiAgfSxcblxuICBlcXVhbHMocmFuZ2UsIGFub3RoZXIpIHtcbiAgICByZXR1cm4gUG9pbnQuZXF1YWxzKHJhbmdlLmFuY2hvciwgYW5vdGhlci5hbmNob3IpICYmIFBvaW50LmVxdWFscyhyYW5nZS5mb2N1cywgYW5vdGhlci5mb2N1cyk7XG4gIH0sXG5cbiAgaW5jbHVkZXMocmFuZ2UsIHRhcmdldCkge1xuICAgIGlmIChSYW5nZS5pc1JhbmdlKHRhcmdldCkpIHtcbiAgICAgIGlmIChSYW5nZS5pbmNsdWRlcyhyYW5nZSwgdGFyZ2V0LmFuY2hvcikgfHwgUmFuZ2UuaW5jbHVkZXMocmFuZ2UsIHRhcmdldC5mb2N1cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBbcnMsIHJlXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKTtcbiAgICAgIHZhciBbdHMsIHRlXSA9IFJhbmdlLmVkZ2VzKHRhcmdldCk7XG4gICAgICByZXR1cm4gUG9pbnQuaXNCZWZvcmUocnMsIHRzKSAmJiBQb2ludC5pc0FmdGVyKHJlLCB0ZSk7XG4gICAgfVxuXG4gICAgdmFyIFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKTtcbiAgICB2YXIgaXNBZnRlclN0YXJ0ID0gZmFsc2U7XG4gICAgdmFyIGlzQmVmb3JlRW5kID0gZmFsc2U7XG5cbiAgICBpZiAoUG9pbnQuaXNQb2ludCh0YXJnZXQpKSB7XG4gICAgICBpc0FmdGVyU3RhcnQgPSBQb2ludC5jb21wYXJlKHRhcmdldCwgc3RhcnQpID49IDA7XG4gICAgICBpc0JlZm9yZUVuZCA9IFBvaW50LmNvbXBhcmUodGFyZ2V0LCBlbmQpIDw9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlzQWZ0ZXJTdGFydCA9IFBhdGguY29tcGFyZSh0YXJnZXQsIHN0YXJ0LnBhdGgpID49IDA7XG4gICAgICBpc0JlZm9yZUVuZCA9IFBhdGguY29tcGFyZSh0YXJnZXQsIGVuZC5wYXRoKSA8PSAwO1xuICAgIH1cblxuICAgIHJldHVybiBpc0FmdGVyU3RhcnQgJiYgaXNCZWZvcmVFbmQ7XG4gIH0sXG5cbiAgaW50ZXJzZWN0aW9uKHJhbmdlLCBhbm90aGVyKSB7XG4gICAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMocmFuZ2UsIF9leGNsdWRlZCQ0KTtcblxuICAgIHZhciBbczEsIGUxXSA9IFJhbmdlLmVkZ2VzKHJhbmdlKTtcbiAgICB2YXIgW3MyLCBlMl0gPSBSYW5nZS5lZGdlcyhhbm90aGVyKTtcbiAgICB2YXIgc3RhcnQgPSBQb2ludC5pc0JlZm9yZShzMSwgczIpID8gczIgOiBzMTtcbiAgICB2YXIgZW5kID0gUG9pbnQuaXNCZWZvcmUoZTEsIGUyKSA/IGUxIDogZTI7XG5cbiAgICBpZiAoUG9pbnQuaXNCZWZvcmUoZW5kLCBzdGFydCkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRkKHtcbiAgICAgICAgYW5jaG9yOiBzdGFydCxcbiAgICAgICAgZm9jdXM6IGVuZFxuICAgICAgfSwgcmVzdCk7XG4gICAgfVxuICB9LFxuXG4gIGlzQmFja3dhcmQocmFuZ2UpIHtcbiAgICB2YXIge1xuICAgICAgYW5jaG9yLFxuICAgICAgZm9jdXNcbiAgICB9ID0gcmFuZ2U7XG4gICAgcmV0dXJuIFBvaW50LmlzQWZ0ZXIoYW5jaG9yLCBmb2N1cyk7XG4gIH0sXG5cbiAgaXNDb2xsYXBzZWQocmFuZ2UpIHtcbiAgICB2YXIge1xuICAgICAgYW5jaG9yLFxuICAgICAgZm9jdXNcbiAgICB9ID0gcmFuZ2U7XG4gICAgcmV0dXJuIFBvaW50LmVxdWFscyhhbmNob3IsIGZvY3VzKTtcbiAgfSxcblxuICBpc0V4cGFuZGVkKHJhbmdlKSB7XG4gICAgcmV0dXJuICFSYW5nZS5pc0NvbGxhcHNlZChyYW5nZSk7XG4gIH0sXG5cbiAgaXNGb3J3YXJkKHJhbmdlKSB7XG4gICAgcmV0dXJuICFSYW5nZS5pc0JhY2t3YXJkKHJhbmdlKTtcbiAgfSxcblxuICBpc1JhbmdlKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpICYmIFBvaW50LmlzUG9pbnQodmFsdWUuYW5jaG9yKSAmJiBQb2ludC5pc1BvaW50KHZhbHVlLmZvY3VzKTtcbiAgfSxcblxuICAqcG9pbnRzKHJhbmdlKSB7XG4gICAgeWllbGQgW3JhbmdlLmFuY2hvciwgJ2FuY2hvciddO1xuICAgIHlpZWxkIFtyYW5nZS5mb2N1cywgJ2ZvY3VzJ107XG4gIH0sXG5cbiAgc3RhcnQocmFuZ2UpIHtcbiAgICB2YXIgW3N0YXJ0XSA9IFJhbmdlLmVkZ2VzKHJhbmdlKTtcbiAgICByZXR1cm4gc3RhcnQ7XG4gIH0sXG5cbiAgdHJhbnNmb3JtKHJhbmdlLCBvcCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICByZXR1cm4gcHJvZHVjZShyYW5nZSwgciA9PiB7XG4gICAgICBpZiAociA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHtcbiAgICAgICAgYWZmaW5pdHkgPSAnaW53YXJkJ1xuICAgICAgfSA9IG9wdGlvbnM7XG4gICAgICB2YXIgYWZmaW5pdHlBbmNob3I7XG4gICAgICB2YXIgYWZmaW5pdHlGb2N1cztcblxuICAgICAgaWYgKGFmZmluaXR5ID09PSAnaW53YXJkJykge1xuICAgICAgICAvLyBJZiB0aGUgcmFuZ2UgaXMgY29sbGFwc2VkLCBtYWtlIHN1cmUgdG8gdXNlIHRoZSBzYW1lIGFmZmluaXR5IHRvXG4gICAgICAgIC8vIGF2b2lkIHRoZSB0d28gcG9pbnRzIHBhc3NpbmcgZWFjaCBvdGhlciBhbmQgZXhwYW5kaW5nIGluIHRoZSBvcHBvc2l0ZVxuICAgICAgICAvLyBkaXJlY3Rpb25cbiAgICAgICAgdmFyIGlzQ29sbGFwc2VkID0gUmFuZ2UuaXNDb2xsYXBzZWQocik7XG5cbiAgICAgICAgaWYgKFJhbmdlLmlzRm9yd2FyZChyKSkge1xuICAgICAgICAgIGFmZmluaXR5QW5jaG9yID0gJ2ZvcndhcmQnO1xuICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSBpc0NvbGxhcHNlZCA/IGFmZmluaXR5QW5jaG9yIDogJ2JhY2t3YXJkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZmZpbml0eUFuY2hvciA9ICdiYWNrd2FyZCc7XG4gICAgICAgICAgYWZmaW5pdHlGb2N1cyA9IGlzQ29sbGFwc2VkID8gYWZmaW5pdHlBbmNob3IgOiAnZm9yd2FyZCc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoYWZmaW5pdHkgPT09ICdvdXR3YXJkJykge1xuICAgICAgICBpZiAoUmFuZ2UuaXNGb3J3YXJkKHIpKSB7XG4gICAgICAgICAgYWZmaW5pdHlBbmNob3IgPSAnYmFja3dhcmQnO1xuICAgICAgICAgIGFmZmluaXR5Rm9jdXMgPSAnZm9yd2FyZCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYWZmaW5pdHlBbmNob3IgPSAnZm9yd2FyZCc7XG4gICAgICAgICAgYWZmaW5pdHlGb2N1cyA9ICdiYWNrd2FyZCc7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGFmZmluaXR5QW5jaG9yID0gYWZmaW5pdHk7XG4gICAgICAgIGFmZmluaXR5Rm9jdXMgPSBhZmZpbml0eTtcbiAgICAgIH1cblxuICAgICAgdmFyIGFuY2hvciA9IFBvaW50LnRyYW5zZm9ybShyLmFuY2hvciwgb3AsIHtcbiAgICAgICAgYWZmaW5pdHk6IGFmZmluaXR5QW5jaG9yXG4gICAgICB9KTtcbiAgICAgIHZhciBmb2N1cyA9IFBvaW50LnRyYW5zZm9ybShyLmZvY3VzLCBvcCwge1xuICAgICAgICBhZmZpbml0eTogYWZmaW5pdHlGb2N1c1xuICAgICAgfSk7XG5cbiAgICAgIGlmICghYW5jaG9yIHx8ICFmb2N1cykge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cblxuICAgICAgci5hbmNob3IgPSBhbmNob3I7XG4gICAgICByLmZvY3VzID0gZm9jdXM7XG4gICAgfSk7XG4gIH1cblxufTtcblxuLyoqXHJcbiAqIFNoYXJlZCB0aGUgZnVuY3Rpb24gd2l0aCBpc0VsZW1lbnRUeXBlIHV0aWxpdHlcclxuICovXG5cbnZhciBpc0VsZW1lbnQgPSB2YWx1ZSA9PiB7XG4gIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSAmJiBOb2RlLmlzTm9kZUxpc3QodmFsdWUuY2hpbGRyZW4pICYmICFFZGl0b3IuaXNFZGl0b3IodmFsdWUpO1xufTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlZGVjbGFyZVxuXG5cbnZhciBFbGVtZW50ID0ge1xuICBpc0FuY2VzdG9yKHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpICYmIE5vZGUuaXNOb2RlTGlzdCh2YWx1ZS5jaGlsZHJlbik7XG4gIH0sXG5cbiAgaXNFbGVtZW50LFxuXG4gIGlzRWxlbWVudExpc3QodmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUuZXZlcnkodmFsID0+IEVsZW1lbnQuaXNFbGVtZW50KHZhbCkpO1xuICB9LFxuXG4gIGlzRWxlbWVudFByb3BzKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLmNoaWxkcmVuICE9PSB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgaXNFbGVtZW50VHlwZTogZnVuY3Rpb24gaXNFbGVtZW50VHlwZSh2YWx1ZSwgZWxlbWVudFZhbCkge1xuICAgIHZhciBlbGVtZW50S2V5ID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiAndHlwZSc7XG4gICAgcmV0dXJuIGlzRWxlbWVudCh2YWx1ZSkgJiYgdmFsdWVbZWxlbWVudEtleV0gPT09IGVsZW1lbnRWYWw7XG4gIH0sXG5cbiAgbWF0Y2hlcyhlbGVtZW50LCBwcm9wcykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKGtleSA9PT0gJ2NoaWxkcmVuJykge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKGVsZW1lbnRba2V5XSAhPT0gcHJvcHNba2V5XSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxufTtcblxudmFyIF9leGNsdWRlZCQzID0gW1wiY2hpbGRyZW5cIl0sXG4gICAgX2V4Y2x1ZGVkMiQzID0gW1widGV4dFwiXTtcbnZhciBJU19OT0RFX0xJU1RfQ0FDSEUgPSBuZXcgV2Vha01hcCgpOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbnZhciBOb2RlID0ge1xuICBhbmNlc3Rvcihyb290LCBwYXRoKSB7XG4gICAgdmFyIG5vZGUgPSBOb2RlLmdldChyb290LCBwYXRoKTtcblxuICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgYW5jZXN0b3Igbm9kZSBhdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGEgdGV4dCBub2RlIGluc3RlYWQ6IFwiKS5jb25jYXQoU2NydWJiZXIuc3RyaW5naWZ5KG5vZGUpKSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH0sXG5cbiAgKmFuY2VzdG9ycyhyb290LCBwYXRoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuXG4gICAgZm9yICh2YXIgcCBvZiBQYXRoLmFuY2VzdG9ycyhwYXRoLCBvcHRpb25zKSkge1xuICAgICAgdmFyIG4gPSBOb2RlLmFuY2VzdG9yKHJvb3QsIHApO1xuICAgICAgdmFyIGVudHJ5ID0gW24sIHBdO1xuICAgICAgeWllbGQgZW50cnk7XG4gICAgfVxuICB9LFxuXG4gIGNoaWxkKHJvb3QsIGluZGV4KSB7XG4gICAgaWYgKFRleHQuaXNUZXh0KHJvb3QpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRoZSBjaGlsZCBvZiBhIHRleHQgbm9kZTogXCIuY29uY2F0KFNjcnViYmVyLnN0cmluZ2lmeShyb290KSkpO1xuICAgIH1cblxuICAgIHZhciBjID0gcm9vdC5jaGlsZHJlbltpbmRleF07XG5cbiAgICBpZiAoYyA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGNoaWxkIGF0IGluZGV4IGBcIi5jb25jYXQoaW5kZXgsIFwiYCBpbiBub2RlOiBcIikuY29uY2F0KFNjcnViYmVyLnN0cmluZ2lmeShyb290KSkpO1xuICAgIH1cblxuICAgIHJldHVybiBjO1xuICB9LFxuXG4gICpjaGlsZHJlbihyb290LCBwYXRoKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIHZhciB7XG4gICAgICByZXZlcnNlID0gZmFsc2VcbiAgICB9ID0gb3B0aW9ucztcbiAgICB2YXIgYW5jZXN0b3IgPSBOb2RlLmFuY2VzdG9yKHJvb3QsIHBhdGgpO1xuICAgIHZhciB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBhbmNlc3RvcjtcbiAgICB2YXIgaW5kZXggPSByZXZlcnNlID8gY2hpbGRyZW4ubGVuZ3RoIC0gMSA6IDA7XG5cbiAgICB3aGlsZSAocmV2ZXJzZSA/IGluZGV4ID49IDAgOiBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aCkge1xuICAgICAgdmFyIGNoaWxkID0gTm9kZS5jaGlsZChhbmNlc3RvciwgaW5kZXgpO1xuICAgICAgdmFyIGNoaWxkUGF0aCA9IHBhdGguY29uY2F0KGluZGV4KTtcbiAgICAgIHlpZWxkIFtjaGlsZCwgY2hpbGRQYXRoXTtcbiAgICAgIGluZGV4ID0gcmV2ZXJzZSA/IGluZGV4IC0gMSA6IGluZGV4ICsgMTtcbiAgICB9XG4gIH0sXG5cbiAgY29tbW9uKHJvb3QsIHBhdGgsIGFub3RoZXIpIHtcbiAgICB2YXIgcCA9IFBhdGguY29tbW9uKHBhdGgsIGFub3RoZXIpO1xuICAgIHZhciBuID0gTm9kZS5nZXQocm9vdCwgcCk7XG4gICAgcmV0dXJuIFtuLCBwXTtcbiAgfSxcblxuICBkZXNjZW5kYW50KHJvb3QsIHBhdGgpIHtcbiAgICB2YXIgbm9kZSA9IE5vZGUuZ2V0KHJvb3QsIHBhdGgpO1xuXG4gICAgaWYgKEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgZGVzY2VuZGFudCBub2RlIGF0IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gYmVjYXVzZSBpdCByZWZlcnMgdG8gdGhlIHJvb3QgZWRpdG9yIG5vZGUgaW5zdGVhZDogXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkobm9kZSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfSxcblxuICAqZGVzY2VuZGFudHMocm9vdCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIGZvciAodmFyIFtub2RlLCBwYXRoXSBvZiBOb2RlLm5vZGVzKHJvb3QsIG9wdGlvbnMpKSB7XG4gICAgICBpZiAocGF0aC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgLy8gTk9URTogd2UgaGF2ZSB0byBjb2VyY2UgaGVyZSBiZWNhdXNlIGNoZWNraW5nIHRoZSBwYXRoJ3MgbGVuZ3RoIGRvZXNcbiAgICAgICAgLy8gZ3VhcmFudGVlIHRoYXQgYG5vZGVgIGlzIG5vdCBhIGBFZGl0b3JgLCBidXQgVHlwZVNjcmlwdCBkb2Vzbid0IGtub3cuXG4gICAgICAgIHlpZWxkIFtub2RlLCBwYXRoXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgKmVsZW1lbnRzKHJvb3QpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG5cbiAgICBmb3IgKHZhciBbbm9kZSwgcGF0aF0gb2YgTm9kZS5ub2Rlcyhyb290LCBvcHRpb25zKSkge1xuICAgICAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAgIHlpZWxkIFtub2RlLCBwYXRoXTtcbiAgICAgIH1cbiAgICB9XG4gIH0sXG5cbiAgZXh0cmFjdFByb3BzKG5vZGUpIHtcbiAgICBpZiAoRWxlbWVudC5pc0FuY2VzdG9yKG5vZGUpKSB7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhub2RlLCBfZXhjbHVkZWQkMyk7XG5cbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgcHJvcGVydGllcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhub2RlLCBfZXhjbHVkZWQyJDMpO1xuXG4gICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9XG4gIH0sXG5cbiAgZmlyc3Qocm9vdCwgcGF0aCkge1xuICAgIHZhciBwID0gcGF0aC5zbGljZSgpO1xuICAgIHZhciBuID0gTm9kZS5nZXQocm9vdCwgcCk7XG5cbiAgICB3aGlsZSAobikge1xuICAgICAgaWYgKFRleHQuaXNUZXh0KG4pIHx8IG4uY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IG4uY2hpbGRyZW5bMF07XG4gICAgICAgIHAucHVzaCgwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gW24sIHBdO1xuICB9LFxuXG4gIGZyYWdtZW50KHJvb3QsIHJhbmdlKSB7XG4gICAgaWYgKFRleHQuaXNUZXh0KHJvb3QpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGEgZnJhZ21lbnQgc3RhcnRpbmcgZnJvbSBhIHJvb3QgdGV4dCBub2RlOiBcIi5jb25jYXQoU2NydWJiZXIuc3RyaW5naWZ5KHJvb3QpKSk7XG4gICAgfVxuXG4gICAgdmFyIG5ld1Jvb3QgPSBwcm9kdWNlKHtcbiAgICAgIGNoaWxkcmVuOiByb290LmNoaWxkcmVuXG4gICAgfSwgciA9PiB7XG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpO1xuICAgICAgdmFyIG5vZGVFbnRyaWVzID0gTm9kZS5ub2RlcyhyLCB7XG4gICAgICAgIHJldmVyc2U6IHRydWUsXG4gICAgICAgIHBhc3M6IF9yZWYgPT4ge1xuICAgICAgICAgIHZhciBbLCBwYXRoXSA9IF9yZWY7XG4gICAgICAgICAgcmV0dXJuICFSYW5nZS5pbmNsdWRlcyhyYW5nZSwgcGF0aCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBmb3IgKHZhciBbLCBwYXRoXSBvZiBub2RlRW50cmllcykge1xuICAgICAgICBpZiAoIVJhbmdlLmluY2x1ZGVzKHJhbmdlLCBwYXRoKSkge1xuICAgICAgICAgIHZhciBwYXJlbnQgPSBOb2RlLnBhcmVudChyLCBwYXRoKTtcbiAgICAgICAgICB2YXIgaW5kZXggPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgZW5kLnBhdGgpKSB7XG4gICAgICAgICAgdmFyIGxlYWYgPSBOb2RlLmxlYWYociwgcGF0aCk7XG4gICAgICAgICAgbGVhZi50ZXh0ID0gbGVhZi50ZXh0LnNsaWNlKDAsIGVuZC5vZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKFBhdGguZXF1YWxzKHBhdGgsIHN0YXJ0LnBhdGgpKSB7XG4gICAgICAgICAgdmFyIF9sZWFmID0gTm9kZS5sZWFmKHIsIHBhdGgpO1xuXG4gICAgICAgICAgX2xlYWYudGV4dCA9IF9sZWFmLnRleHQuc2xpY2Uoc3RhcnQub2Zmc2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoRWRpdG9yLmlzRWRpdG9yKHIpKSB7XG4gICAgICAgIHIuc2VsZWN0aW9uID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3Um9vdC5jaGlsZHJlbjtcbiAgfSxcblxuICBnZXQocm9vdCwgcGF0aCkge1xuICAgIHZhciBub2RlID0gcm9vdDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHAgPSBwYXRoW2ldO1xuXG4gICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkgfHwgIW5vZGUuY2hpbGRyZW5bcF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgYSBkZXNjZW5kYW50IGF0IHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gaW4gbm9kZTogXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkocm9vdCkpKTtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcF07XG4gICAgfVxuXG4gICAgcmV0dXJuIG5vZGU7XG4gIH0sXG5cbiAgaGFzKHJvb3QsIHBhdGgpIHtcbiAgICB2YXIgbm9kZSA9IHJvb3Q7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwID0gcGF0aFtpXTtcblxuICAgICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpIHx8ICFub2RlLmNoaWxkcmVuW3BdKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgbm9kZSA9IG5vZGUuY2hpbGRyZW5bcF07XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG5cbiAgaXNOb2RlKHZhbHVlKSB7XG4gICAgcmV0dXJuIFRleHQuaXNUZXh0KHZhbHVlKSB8fCBFbGVtZW50LmlzRWxlbWVudCh2YWx1ZSkgfHwgRWRpdG9yLmlzRWRpdG9yKHZhbHVlKTtcbiAgfSxcblxuICBpc05vZGVMaXN0KHZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBjYWNoZWRSZXN1bHQgPSBJU19OT0RFX0xJU1RfQ0FDSEUuZ2V0KHZhbHVlKTtcblxuICAgIGlmIChjYWNoZWRSZXN1bHQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGNhY2hlZFJlc3VsdDtcbiAgICB9XG5cbiAgICB2YXIgaXNOb2RlTGlzdCA9IHZhbHVlLmV2ZXJ5KHZhbCA9PiBOb2RlLmlzTm9kZSh2YWwpKTtcbiAgICBJU19OT0RFX0xJU1RfQ0FDSEUuc2V0KHZhbHVlLCBpc05vZGVMaXN0KTtcbiAgICByZXR1cm4gaXNOb2RlTGlzdDtcbiAgfSxcblxuICBsYXN0KHJvb3QsIHBhdGgpIHtcbiAgICB2YXIgcCA9IHBhdGguc2xpY2UoKTtcbiAgICB2YXIgbiA9IE5vZGUuZ2V0KHJvb3QsIHApO1xuXG4gICAgd2hpbGUgKG4pIHtcbiAgICAgIGlmIChUZXh0LmlzVGV4dChuKSB8fCBuLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBpID0gbi5jaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgICAgICBuID0gbi5jaGlsZHJlbltpXTtcbiAgICAgICAgcC5wdXNoKGkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBbbiwgcF07XG4gIH0sXG5cbiAgbGVhZihyb290LCBwYXRoKSB7XG4gICAgdmFyIG5vZGUgPSBOb2RlLmdldChyb290LCBwYXRoKTtcblxuICAgIGlmICghVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIGxlYWYgbm9kZSBhdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdIGJlY2F1c2UgaXQgcmVmZXJzIHRvIGEgbm9uLWxlYWYgbm9kZTogXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkobm9kZSkpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbm9kZTtcbiAgfSxcblxuICAqbGV2ZWxzKHJvb3QsIHBhdGgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG5cbiAgICBmb3IgKHZhciBwIG9mIFBhdGgubGV2ZWxzKHBhdGgsIG9wdGlvbnMpKSB7XG4gICAgICB2YXIgbiA9IE5vZGUuZ2V0KHJvb3QsIHApO1xuICAgICAgeWllbGQgW24sIHBdO1xuICAgIH1cbiAgfSxcblxuICBtYXRjaGVzKG5vZGUsIHByb3BzKSB7XG4gICAgcmV0dXJuIEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIEVsZW1lbnQuaXNFbGVtZW50UHJvcHMocHJvcHMpICYmIEVsZW1lbnQubWF0Y2hlcyhub2RlLCBwcm9wcykgfHwgVGV4dC5pc1RleHQobm9kZSkgJiYgVGV4dC5pc1RleHRQcm9wcyhwcm9wcykgJiYgVGV4dC5tYXRjaGVzKG5vZGUsIHByb3BzKTtcbiAgfSxcblxuICAqbm9kZXMocm9vdCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICB2YXIge1xuICAgICAgcGFzcyxcbiAgICAgIHJldmVyc2UgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBmcm9tID0gW10sXG4gICAgICB0b1xuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB2aXNpdGVkID0gbmV3IFNldCgpO1xuICAgIHZhciBwID0gW107XG4gICAgdmFyIG4gPSByb290O1xuXG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGlmICh0byAmJiAocmV2ZXJzZSA/IFBhdGguaXNCZWZvcmUocCwgdG8pIDogUGF0aC5pc0FmdGVyKHAsIHRvKSkpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG5cbiAgICAgIGlmICghdmlzaXRlZC5oYXMobikpIHtcbiAgICAgICAgeWllbGQgW24sIHBdO1xuICAgICAgfSAvLyBJZiB3ZSdyZSBhbGxvd2VkIHRvIGdvIGRvd253YXJkIGFuZCB3ZSBoYXZlbid0IGRlc2NlbmRlZCB5ZXQsIGRvLlxuXG5cbiAgICAgIGlmICghdmlzaXRlZC5oYXMobikgJiYgIVRleHQuaXNUZXh0KG4pICYmIG4uY2hpbGRyZW4ubGVuZ3RoICE9PSAwICYmIChwYXNzID09IG51bGwgfHwgcGFzcyhbbiwgcF0pID09PSBmYWxzZSkpIHtcbiAgICAgICAgdmlzaXRlZC5hZGQobik7XG4gICAgICAgIHZhciBuZXh0SW5kZXggPSByZXZlcnNlID8gbi5jaGlsZHJlbi5sZW5ndGggLSAxIDogMDtcblxuICAgICAgICBpZiAoUGF0aC5pc0FuY2VzdG9yKHAsIGZyb20pKSB7XG4gICAgICAgICAgbmV4dEluZGV4ID0gZnJvbVtwLmxlbmd0aF07XG4gICAgICAgIH1cblxuICAgICAgICBwID0gcC5jb25jYXQobmV4dEluZGV4KTtcbiAgICAgICAgbiA9IE5vZGUuZ2V0KHJvb3QsIHApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gSWYgd2UncmUgYXQgdGhlIHJvb3QgYW5kIHdlIGNhbid0IGdvIGRvd24sIHdlJ3JlIGRvbmUuXG5cblxuICAgICAgaWYgKHAubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSAvLyBJZiB3ZSdyZSBnb2luZyBmb3J3YXJkLi4uXG5cblxuICAgICAgaWYgKCFyZXZlcnNlKSB7XG4gICAgICAgIHZhciBuZXdQYXRoID0gUGF0aC5uZXh0KHApO1xuXG4gICAgICAgIGlmIChOb2RlLmhhcyhyb290LCBuZXdQYXRoKSkge1xuICAgICAgICAgIHAgPSBuZXdQYXRoO1xuICAgICAgICAgIG4gPSBOb2RlLmdldChyb290LCBwKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgfSAvLyBJZiB3ZSdyZSBnb2luZyBiYWNrd2FyZC4uLlxuXG5cbiAgICAgIGlmIChyZXZlcnNlICYmIHBbcC5sZW5ndGggLSAxXSAhPT0gMCkge1xuICAgICAgICB2YXIgX25ld1BhdGggPSBQYXRoLnByZXZpb3VzKHApO1xuXG4gICAgICAgIHAgPSBfbmV3UGF0aDtcbiAgICAgICAgbiA9IE5vZGUuZ2V0KHJvb3QsIHApO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gLy8gT3RoZXJ3aXNlIHdlJ3JlIGdvaW5nIHVwd2FyZC4uLlxuXG5cbiAgICAgIHAgPSBQYXRoLnBhcmVudChwKTtcbiAgICAgIG4gPSBOb2RlLmdldChyb290LCBwKTtcbiAgICAgIHZpc2l0ZWQuYWRkKG4pO1xuICAgIH1cbiAgfSxcblxuICBwYXJlbnQocm9vdCwgcGF0aCkge1xuICAgIHZhciBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aCk7XG4gICAgdmFyIHAgPSBOb2RlLmdldChyb290LCBwYXJlbnRQYXRoKTtcblxuICAgIGlmIChUZXh0LmlzVGV4dChwKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgcGFyZW50IG9mIHBhdGggW1wiLmNvbmNhdChwYXRoLCBcIl0gYmVjYXVzZSBpdCBkb2VzIG5vdCBleGlzdCBpbiB0aGUgcm9vdC5cIikpO1xuICAgIH1cblxuICAgIHJldHVybiBwO1xuICB9LFxuXG4gIHN0cmluZyhub2RlKSB7XG4gICAgaWYgKFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICByZXR1cm4gbm9kZS50ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbm9kZS5jaGlsZHJlbi5tYXAoTm9kZS5zdHJpbmcpLmpvaW4oJycpO1xuICAgIH1cbiAgfSxcblxuICAqdGV4dHMocm9vdCkge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcblxuICAgIGZvciAodmFyIFtub2RlLCBwYXRoXSBvZiBOb2RlLm5vZGVzKHJvb3QsIG9wdGlvbnMpKSB7XG4gICAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgICAgeWllbGQgW25vZGUsIHBhdGhdO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJGMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJGModGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyRjKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkYyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIE9wZXJhdGlvbiA9IHtcbiAgaXNOb2RlT3BlcmF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIE9wZXJhdGlvbi5pc09wZXJhdGlvbih2YWx1ZSkgJiYgdmFsdWUudHlwZS5lbmRzV2l0aCgnX25vZGUnKTtcbiAgfSxcblxuICBpc09wZXJhdGlvbih2YWx1ZSkge1xuICAgIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKHZhbHVlLnR5cGUpIHtcbiAgICAgIGNhc2UgJ2luc2VydF9ub2RlJzpcbiAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIE5vZGUuaXNOb2RlKHZhbHVlLm5vZGUpO1xuXG4gICAgICBjYXNlICdpbnNlcnRfdGV4dCc6XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUub2Zmc2V0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZycgJiYgUGF0aC5pc1BhdGgodmFsdWUucGF0aCk7XG5cbiAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlLnBvc2l0aW9uID09PSAnbnVtYmVyJyAmJiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiBpc1BsYWluT2JqZWN0KHZhbHVlLnByb3BlcnRpZXMpO1xuXG4gICAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAgICByZXR1cm4gUGF0aC5pc1BhdGgodmFsdWUucGF0aCkgJiYgUGF0aC5pc1BhdGgodmFsdWUubmV3UGF0aCk7XG5cbiAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIE5vZGUuaXNOb2RlKHZhbHVlLm5vZGUpO1xuXG4gICAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFsdWUub2Zmc2V0ID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ3N0cmluZycgJiYgUGF0aC5pc1BhdGgodmFsdWUucGF0aCk7XG5cbiAgICAgIGNhc2UgJ3NldF9ub2RlJzpcbiAgICAgICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpICYmIGlzUGxhaW5PYmplY3QodmFsdWUucHJvcGVydGllcykgJiYgaXNQbGFpbk9iamVjdCh2YWx1ZS5uZXdQcm9wZXJ0aWVzKTtcblxuICAgICAgY2FzZSAnc2V0X3NlbGVjdGlvbic6XG4gICAgICAgIHJldHVybiB2YWx1ZS5wcm9wZXJ0aWVzID09PSBudWxsICYmIFJhbmdlLmlzUmFuZ2UodmFsdWUubmV3UHJvcGVydGllcykgfHwgdmFsdWUubmV3UHJvcGVydGllcyA9PT0gbnVsbCAmJiBSYW5nZS5pc1JhbmdlKHZhbHVlLnByb3BlcnRpZXMpIHx8IGlzUGxhaW5PYmplY3QodmFsdWUucHJvcGVydGllcykgJiYgaXNQbGFpbk9iamVjdCh2YWx1ZS5uZXdQcm9wZXJ0aWVzKTtcblxuICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgIHJldHVybiBQYXRoLmlzUGF0aCh2YWx1ZS5wYXRoKSAmJiB0eXBlb2YgdmFsdWUucG9zaXRpb24gPT09ICdudW1iZXInICYmIGlzUGxhaW5PYmplY3QodmFsdWUucHJvcGVydGllcyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG5cbiAgaXNPcGVyYXRpb25MaXN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KHZhbCA9PiBPcGVyYXRpb24uaXNPcGVyYXRpb24odmFsKSk7XG4gIH0sXG5cbiAgaXNTZWxlY3Rpb25PcGVyYXRpb24odmFsdWUpIHtcbiAgICByZXR1cm4gT3BlcmF0aW9uLmlzT3BlcmF0aW9uKHZhbHVlKSAmJiB2YWx1ZS50eXBlLmVuZHNXaXRoKCdfc2VsZWN0aW9uJyk7XG4gIH0sXG5cbiAgaXNUZXh0T3BlcmF0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIE9wZXJhdGlvbi5pc09wZXJhdGlvbih2YWx1ZSkgJiYgdmFsdWUudHlwZS5lbmRzV2l0aCgnX3RleHQnKTtcbiAgfSxcblxuICBpbnZlcnNlKG9wKSB7XG4gICAgc3dpdGNoIChvcC50eXBlKSB7XG4gICAgICBjYXNlICdpbnNlcnRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRjKF9vYmplY3RTcHJlYWQkYyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgdHlwZTogJ3JlbW92ZV9ub2RlJ1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJGMoX29iamVjdFNwcmVhZCRjKHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICB0eXBlOiAncmVtb3ZlX3RleHQnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnbWVyZ2Vfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRjKF9vYmplY3RTcHJlYWQkYyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgdHlwZTogJ3NwbGl0X25vZGUnLFxuICAgICAgICAgICAgcGF0aDogUGF0aC5wcmV2aW91cyhvcC5wYXRoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgbmV3UGF0aCxcbiAgICAgICAgICAgIHBhdGhcbiAgICAgICAgICB9ID0gb3A7IC8vIFBFUkY6IGluIHRoaXMgY2FzZSB0aGUgbW92ZSBvcGVyYXRpb24gaXMgYSBuby1vcCBhbnl3YXlzLlxuXG4gICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG5ld1BhdGgsIHBhdGgpKSB7XG4gICAgICAgICAgICByZXR1cm4gb3A7XG4gICAgICAgICAgfSAvLyBJZiB0aGUgbW92ZSBoYXBwZW5zIGNvbXBsZXRlbHkgd2l0aGluIGEgc2luZ2xlIHBhcmVudCB0aGUgcGF0aCBhbmRcbiAgICAgICAgICAvLyBuZXdQYXRoIGFyZSBzdGFibGUgd2l0aCByZXNwZWN0IHRvIGVhY2ggb3RoZXIuXG5cblxuICAgICAgICAgIGlmIChQYXRoLmlzU2libGluZyhwYXRoLCBuZXdQYXRoKSkge1xuICAgICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkYyhfb2JqZWN0U3ByZWFkJGMoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgICAgcGF0aDogbmV3UGF0aCxcbiAgICAgICAgICAgICAgbmV3UGF0aDogcGF0aFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSAvLyBJZiB0aGUgbW92ZSBkb2VzIG5vdCBoYXBwZW4gd2l0aGluIGEgc2luZ2xlIHBhcmVudCBpdCBpcyBwb3NzaWJsZVxuICAgICAgICAgIC8vIGZvciB0aGUgbW92ZSB0byBpbXBhY3QgdGhlIHRydWUgcGF0aCB0byB0aGUgbG9jYXRpb24gd2hlcmUgdGhlIG5vZGVcbiAgICAgICAgICAvLyB3YXMgcmVtb3ZlZCBmcm9tIGFuZCB3aGVyZSBpdCB3YXMgaW5zZXJ0ZWQuIFdlIGhhdmUgdG8gYWRqdXN0IGZvciB0aGlzXG4gICAgICAgICAgLy8gYW5kIGZpbmQgdGhlIG9yaWdpbmFsIHBhdGguIFdlIGNhbiBhY2NvbXBsaXNoIHRoaXMgKG9ubHkgaW4gbm9uLXNpYmxpbmcpXG4gICAgICAgICAgLy8gbW92ZXMgYnkgbG9va2luZyBhdCB0aGUgaW1wYWN0IG9mIHRoZSBtb3ZlIG9wZXJhdGlvbiBvbiB0aGUgbm9kZVxuICAgICAgICAgIC8vIGFmdGVyIHRoZSBvcmlnaW5hbCBtb3ZlIHBhdGguXG5cblxuICAgICAgICAgIHZhciBpbnZlcnNlUGF0aCA9IFBhdGgudHJhbnNmb3JtKHBhdGgsIG9wKTtcbiAgICAgICAgICB2YXIgaW52ZXJzZU5ld1BhdGggPSBQYXRoLnRyYW5zZm9ybShQYXRoLm5leHQocGF0aCksIG9wKTtcbiAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRjKF9vYmplY3RTcHJlYWQkYyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgcGF0aDogaW52ZXJzZVBhdGgsXG4gICAgICAgICAgICBuZXdQYXRoOiBpbnZlcnNlTmV3UGF0aFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAge1xuICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJGMoX29iamVjdFNwcmVhZCRjKHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICB0eXBlOiAnaW5zZXJ0X25vZGUnXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAncmVtb3ZlX3RleHQnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkYyhfb2JqZWN0U3ByZWFkJGMoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnNlcnRfdGV4dCdcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICBjYXNlICdzZXRfbm9kZSc6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgcHJvcGVydGllcyxcbiAgICAgICAgICAgIG5ld1Byb3BlcnRpZXNcbiAgICAgICAgICB9ID0gb3A7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkYyhfb2JqZWN0U3ByZWFkJGMoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IG5ld1Byb3BlcnRpZXMsXG4gICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBwcm9wZXJ0aWVzXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgY2FzZSAnc2V0X3NlbGVjdGlvbic6XG4gICAgICAgIHtcbiAgICAgICAgICB2YXIge1xuICAgICAgICAgICAgcHJvcGVydGllczogX3Byb3BlcnRpZXMsXG4gICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBfbmV3UHJvcGVydGllc1xuICAgICAgICAgIH0gPSBvcDtcblxuICAgICAgICAgIGlmIChfcHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRjKF9vYmplY3RTcHJlYWQkYyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBfbmV3UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgbmV3UHJvcGVydGllczogbnVsbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIGlmIChfbmV3UHJvcGVydGllcyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gX29iamVjdFNwcmVhZCRjKF9vYmplY3RTcHJlYWQkYyh7fSwgb3ApLCB7fSwge1xuICAgICAgICAgICAgICBwcm9wZXJ0aWVzOiBudWxsLFxuICAgICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBfcHJvcGVydGllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBfb2JqZWN0U3ByZWFkJGMoX29iamVjdFNwcmVhZCRjKHt9LCBvcCksIHt9LCB7XG4gICAgICAgICAgICAgIHByb3BlcnRpZXM6IF9uZXdQcm9wZXJ0aWVzLFxuICAgICAgICAgICAgICBuZXdQcm9wZXJ0aWVzOiBfcHJvcGVydGllc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgIGNhc2UgJ3NwbGl0X25vZGUnOlxuICAgICAgICB7XG4gICAgICAgICAgcmV0dXJuIF9vYmplY3RTcHJlYWQkYyhfb2JqZWN0U3ByZWFkJGMoe30sIG9wKSwge30sIHtcbiAgICAgICAgICAgIHR5cGU6ICdtZXJnZV9ub2RlJyxcbiAgICAgICAgICAgIHBhdGg6IFBhdGgubmV4dChvcC5wYXRoKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICB9XG5cbn07XG5cbnZhciBJU19FRElUT1JfQ0FDSEUgPSBuZXcgV2Vha01hcCgpO1xudmFyIGlzRWRpdG9yID0gdmFsdWUgPT4ge1xuICB2YXIgY2FjaGVkSXNFZGl0b3IgPSBJU19FRElUT1JfQ0FDSEUuZ2V0KHZhbHVlKTtcblxuICBpZiAoY2FjaGVkSXNFZGl0b3IgIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiBjYWNoZWRJc0VkaXRvcjtcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgaXNFZGl0b3IgPSB0eXBlb2YgdmFsdWUuYWRkTWFyayA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuYXBwbHkgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmRlbGV0ZUZyYWdtZW50ID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5pbnNlcnRCcmVhayA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaW5zZXJ0U29mdEJyZWFrID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5pbnNlcnRGcmFnbWVudCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaW5zZXJ0Tm9kZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaW5zZXJ0VGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuaXNFbGVtZW50UmVhZE9ubHkgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmlzSW5saW5lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5pc1NlbGVjdGFibGUgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmlzVm9pZCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUubm9ybWFsaXplTm9kZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUub25DaGFuZ2UgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLnJlbW92ZU1hcmsgPT09ICdmdW5jdGlvbicgJiYgdHlwZW9mIHZhbHVlLmdldERpcnR5UGF0aHMgPT09ICdmdW5jdGlvbicgJiYgKHZhbHVlLm1hcmtzID09PSBudWxsIHx8IGlzUGxhaW5PYmplY3QodmFsdWUubWFya3MpKSAmJiAodmFsdWUuc2VsZWN0aW9uID09PSBudWxsIHx8IFJhbmdlLmlzUmFuZ2UodmFsdWUuc2VsZWN0aW9uKSkgJiYgTm9kZS5pc05vZGVMaXN0KHZhbHVlLmNoaWxkcmVuKSAmJiBPcGVyYXRpb24uaXNPcGVyYXRpb25MaXN0KHZhbHVlLm9wZXJhdGlvbnMpO1xuICBJU19FRElUT1JfQ0FDSEUuc2V0KHZhbHVlLCBpc0VkaXRvcik7XG4gIHJldHVybiBpc0VkaXRvcjtcbn07XG5cbnZhciBFZGl0b3IgPSB7XG4gIGFib3ZlKGVkaXRvciwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IuYWJvdmUob3B0aW9ucyk7XG4gIH0sXG5cbiAgYWRkTWFyayhlZGl0b3IsIGtleSwgdmFsdWUpIHtcbiAgICBlZGl0b3IuYWRkTWFyayhrZXksIHZhbHVlKTtcbiAgfSxcblxuICBhZnRlcihlZGl0b3IsIGF0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGVkaXRvci5hZnRlcihhdCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgYmVmb3JlKGVkaXRvciwgYXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLmJlZm9yZShhdCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgZGVsZXRlQmFja3dhcmQoZWRpdG9yKSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgIHZhciB7XG4gICAgICB1bml0ID0gJ2NoYXJhY3RlcidcbiAgICB9ID0gb3B0aW9ucztcbiAgICBlZGl0b3IuZGVsZXRlQmFja3dhcmQodW5pdCk7XG4gIH0sXG5cbiAgZGVsZXRlRm9yd2FyZChlZGl0b3IpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIHtcbiAgICAgIHVuaXQgPSAnY2hhcmFjdGVyJ1xuICAgIH0gPSBvcHRpb25zO1xuICAgIGVkaXRvci5kZWxldGVGb3J3YXJkKHVuaXQpO1xuICB9LFxuXG4gIGRlbGV0ZUZyYWdtZW50KGVkaXRvciwgb3B0aW9ucykge1xuICAgIGVkaXRvci5kZWxldGVGcmFnbWVudChvcHRpb25zKTtcbiAgfSxcblxuICBlZGdlcyhlZGl0b3IsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5lZGdlcyhhdCk7XG4gIH0sXG5cbiAgZWxlbWVudFJlYWRPbmx5KGVkaXRvcikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgICByZXR1cm4gZWRpdG9yLmVsZW1lbnRSZWFkT25seShvcHRpb25zKTtcbiAgfSxcblxuICBlbmQoZWRpdG9yLCBhdCkge1xuICAgIHJldHVybiBlZGl0b3IuZW5kKGF0KTtcbiAgfSxcblxuICBmaXJzdChlZGl0b3IsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5maXJzdChhdCk7XG4gIH0sXG5cbiAgZnJhZ21lbnQoZWRpdG9yLCBhdCkge1xuICAgIHJldHVybiBlZGl0b3IuZnJhZ21lbnQoYXQpO1xuICB9LFxuXG4gIGhhc0Jsb2NrcyhlZGl0b3IsIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWRpdG9yLmhhc0Jsb2NrcyhlbGVtZW50KTtcbiAgfSxcblxuICBoYXNJbmxpbmVzKGVkaXRvciwgZWxlbWVudCkge1xuICAgIHJldHVybiBlZGl0b3IuaGFzSW5saW5lcyhlbGVtZW50KTtcbiAgfSxcblxuICBoYXNQYXRoKGVkaXRvciwgcGF0aCkge1xuICAgIHJldHVybiBlZGl0b3IuaGFzUGF0aChwYXRoKTtcbiAgfSxcblxuICBoYXNUZXh0cyhlZGl0b3IsIGVsZW1lbnQpIHtcbiAgICByZXR1cm4gZWRpdG9yLmhhc1RleHRzKGVsZW1lbnQpO1xuICB9LFxuXG4gIGluc2VydEJyZWFrKGVkaXRvcikge1xuICAgIGVkaXRvci5pbnNlcnRCcmVhaygpO1xuICB9LFxuXG4gIGluc2VydEZyYWdtZW50KGVkaXRvciwgZnJhZ21lbnQsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3IuaW5zZXJ0RnJhZ21lbnQoZnJhZ21lbnQsIG9wdGlvbnMpO1xuICB9LFxuXG4gIGluc2VydE5vZGUoZWRpdG9yLCBub2RlKSB7XG4gICAgZWRpdG9yLmluc2VydE5vZGUobm9kZSk7XG4gIH0sXG5cbiAgaW5zZXJ0U29mdEJyZWFrKGVkaXRvcikge1xuICAgIGVkaXRvci5pbnNlcnRTb2Z0QnJlYWsoKTtcbiAgfSxcblxuICBpbnNlcnRUZXh0KGVkaXRvciwgdGV4dCkge1xuICAgIGVkaXRvci5pbnNlcnRUZXh0KHRleHQpO1xuICB9LFxuXG4gIGlzQmxvY2soZWRpdG9yLCB2YWx1ZSkge1xuICAgIHJldHVybiBlZGl0b3IuaXNCbG9jayh2YWx1ZSk7XG4gIH0sXG5cbiAgaXNFZGdlKGVkaXRvciwgcG9pbnQsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5pc0VkZ2UocG9pbnQsIGF0KTtcbiAgfSxcblxuICBpc0VkaXRvcih2YWx1ZSkge1xuICAgIHJldHVybiBpc0VkaXRvcih2YWx1ZSk7XG4gIH0sXG5cbiAgaXNFbGVtZW50UmVhZE9ubHkoZWRpdG9yLCBlbGVtZW50KSB7XG4gICAgcmV0dXJuIGVkaXRvci5pc0VsZW1lbnRSZWFkT25seShlbGVtZW50KTtcbiAgfSxcblxuICBpc0VtcHR5KGVkaXRvciwgZWxlbWVudCkge1xuICAgIHJldHVybiBlZGl0b3IuaXNFbXB0eShlbGVtZW50KTtcbiAgfSxcblxuICBpc0VuZChlZGl0b3IsIHBvaW50LCBhdCkge1xuICAgIHJldHVybiBlZGl0b3IuaXNFbmQocG9pbnQsIGF0KTtcbiAgfSxcblxuICBpc0lubGluZShlZGl0b3IsIHZhbHVlKSB7XG4gICAgcmV0dXJuIGVkaXRvci5pc0lubGluZSh2YWx1ZSk7XG4gIH0sXG5cbiAgaXNOb3JtYWxpemluZyhlZGl0b3IpIHtcbiAgICByZXR1cm4gZWRpdG9yLmlzTm9ybWFsaXppbmcoKTtcbiAgfSxcblxuICBpc1NlbGVjdGFibGUoZWRpdG9yLCB2YWx1ZSkge1xuICAgIHJldHVybiBlZGl0b3IuaXNTZWxlY3RhYmxlKHZhbHVlKTtcbiAgfSxcblxuICBpc1N0YXJ0KGVkaXRvciwgcG9pbnQsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5pc1N0YXJ0KHBvaW50LCBhdCk7XG4gIH0sXG5cbiAgaXNWb2lkKGVkaXRvciwgdmFsdWUpIHtcbiAgICByZXR1cm4gZWRpdG9yLmlzVm9pZCh2YWx1ZSk7XG4gIH0sXG5cbiAgbGFzdChlZGl0b3IsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5sYXN0KGF0KTtcbiAgfSxcblxuICBsZWFmKGVkaXRvciwgYXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLmxlYWYoYXQsIG9wdGlvbnMpO1xuICB9LFxuXG4gIGxldmVscyhlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLmxldmVscyhvcHRpb25zKTtcbiAgfSxcblxuICBtYXJrcyhlZGl0b3IpIHtcbiAgICByZXR1cm4gZWRpdG9yLmdldE1hcmtzKCk7XG4gIH0sXG5cbiAgbmV4dChlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLm5leHQob3B0aW9ucyk7XG4gIH0sXG5cbiAgbm9kZShlZGl0b3IsIGF0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGVkaXRvci5ub2RlKGF0LCBvcHRpb25zKTtcbiAgfSxcblxuICBub2RlcyhlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLm5vZGVzKG9wdGlvbnMpO1xuICB9LFxuXG4gIG5vcm1hbGl6ZShlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3Iubm9ybWFsaXplKG9wdGlvbnMpO1xuICB9LFxuXG4gIHBhcmVudChlZGl0b3IsIGF0LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGVkaXRvci5wYXJlbnQoYXQsIG9wdGlvbnMpO1xuICB9LFxuXG4gIHBhdGgoZWRpdG9yLCBhdCwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IucGF0aChhdCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgcGF0aFJlZihlZGl0b3IsIHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLnBhdGhSZWYocGF0aCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgcGF0aFJlZnMoZWRpdG9yKSB7XG4gICAgcmV0dXJuIGVkaXRvci5wYXRoUmVmcygpO1xuICB9LFxuXG4gIHBvaW50KGVkaXRvciwgYXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLnBvaW50KGF0LCBvcHRpb25zKTtcbiAgfSxcblxuICBwb2ludFJlZihlZGl0b3IsIHBvaW50LCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGVkaXRvci5wb2ludFJlZihwb2ludCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgcG9pbnRSZWZzKGVkaXRvcikge1xuICAgIHJldHVybiBlZGl0b3IucG9pbnRSZWZzKCk7XG4gIH0sXG5cbiAgcG9zaXRpb25zKGVkaXRvciwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IucG9zaXRpb25zKG9wdGlvbnMpO1xuICB9LFxuXG4gIHByZXZpb3VzKGVkaXRvciwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IucHJldmlvdXMob3B0aW9ucyk7XG4gIH0sXG5cbiAgcmFuZ2UoZWRpdG9yLCBhdCwgdG8pIHtcbiAgICByZXR1cm4gZWRpdG9yLnJhbmdlKGF0LCB0byk7XG4gIH0sXG5cbiAgcmFuZ2VSZWYoZWRpdG9yLCByYW5nZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IucmFuZ2VSZWYocmFuZ2UsIG9wdGlvbnMpO1xuICB9LFxuXG4gIHJhbmdlUmVmcyhlZGl0b3IpIHtcbiAgICByZXR1cm4gZWRpdG9yLnJhbmdlUmVmcygpO1xuICB9LFxuXG4gIHJlbW92ZU1hcmsoZWRpdG9yLCBrZXkpIHtcbiAgICBlZGl0b3IucmVtb3ZlTWFyayhrZXkpO1xuICB9LFxuXG4gIHNldE5vcm1hbGl6aW5nKGVkaXRvciwgaXNOb3JtYWxpemluZykge1xuICAgIGVkaXRvci5zZXROb3JtYWxpemluZyhpc05vcm1hbGl6aW5nKTtcbiAgfSxcblxuICBzdGFydChlZGl0b3IsIGF0KSB7XG4gICAgcmV0dXJuIGVkaXRvci5zdGFydChhdCk7XG4gIH0sXG5cbiAgc3RyaW5nKGVkaXRvciwgYXQsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gZWRpdG9yLnN0cmluZyhhdCwgb3B0aW9ucyk7XG4gIH0sXG5cbiAgdW5oYW5nUmFuZ2UoZWRpdG9yLCByYW5nZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBlZGl0b3IudW5oYW5nUmFuZ2UocmFuZ2UsIG9wdGlvbnMpO1xuICB9LFxuXG4gIHZvaWQoZWRpdG9yLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGVkaXRvci52b2lkKG9wdGlvbnMpO1xuICB9LFxuXG4gIHdpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIGZuKSB7XG4gICAgZWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhmbik7XG4gIH1cblxufTtcblxudmFyIExvY2F0aW9uID0ge1xuICBpc0xvY2F0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIFBhdGguaXNQYXRoKHZhbHVlKSB8fCBQb2ludC5pc1BvaW50KHZhbHVlKSB8fCBSYW5nZS5pc1JhbmdlKHZhbHVlKTtcbiAgfVxuXG59OyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbnZhciBTcGFuID0ge1xuICBpc1NwYW4odmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgdmFsdWUubGVuZ3RoID09PSAyICYmIHZhbHVlLmV2ZXJ5KFBhdGguaXNQYXRoKTtcbiAgfVxuXG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJGIob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJGIodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyRiKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkYihPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxudmFyIFBvaW50ID0ge1xuICBjb21wYXJlKHBvaW50LCBhbm90aGVyKSB7XG4gICAgdmFyIHJlc3VsdCA9IFBhdGguY29tcGFyZShwb2ludC5wYXRoLCBhbm90aGVyLnBhdGgpO1xuXG4gICAgaWYgKHJlc3VsdCA9PT0gMCkge1xuICAgICAgaWYgKHBvaW50Lm9mZnNldCA8IGFub3RoZXIub2Zmc2V0KSByZXR1cm4gLTE7XG4gICAgICBpZiAocG9pbnQub2Zmc2V0ID4gYW5vdGhlci5vZmZzZXQpIHJldHVybiAxO1xuICAgICAgcmV0dXJuIDA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICBpc0FmdGVyKHBvaW50LCBhbm90aGVyKSB7XG4gICAgcmV0dXJuIFBvaW50LmNvbXBhcmUocG9pbnQsIGFub3RoZXIpID09PSAxO1xuICB9LFxuXG4gIGlzQmVmb3JlKHBvaW50LCBhbm90aGVyKSB7XG4gICAgcmV0dXJuIFBvaW50LmNvbXBhcmUocG9pbnQsIGFub3RoZXIpID09PSAtMTtcbiAgfSxcblxuICBlcXVhbHMocG9pbnQsIGFub3RoZXIpIHtcbiAgICAvLyBQRVJGOiBlbnN1cmUgdGhlIG9mZnNldHMgYXJlIGVxdWFsIGZpcnN0IHNpbmNlIHRoZXkgYXJlIGNoZWFwZXIgdG8gY2hlY2suXG4gICAgcmV0dXJuIHBvaW50Lm9mZnNldCA9PT0gYW5vdGhlci5vZmZzZXQgJiYgUGF0aC5lcXVhbHMocG9pbnQucGF0aCwgYW5vdGhlci5wYXRoKTtcbiAgfSxcblxuICBpc1BvaW50KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpICYmIHR5cGVvZiB2YWx1ZS5vZmZzZXQgPT09ICdudW1iZXInICYmIFBhdGguaXNQYXRoKHZhbHVlLnBhdGgpO1xuICB9LFxuXG4gIHRyYW5zZm9ybShwb2ludCwgb3ApIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gICAgcmV0dXJuIHByb2R1Y2UocG9pbnQsIHAgPT4ge1xuICAgICAgaWYgKHAgPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG5cbiAgICAgIHZhciB7XG4gICAgICAgIGFmZmluaXR5ID0gJ2ZvcndhcmQnXG4gICAgICB9ID0gb3B0aW9ucztcbiAgICAgIHZhciB7XG4gICAgICAgIHBhdGgsXG4gICAgICAgIG9mZnNldFxuICAgICAgfSA9IHA7XG5cbiAgICAgIHN3aXRjaCAob3AudHlwZSkge1xuICAgICAgICBjYXNlICdpbnNlcnRfbm9kZSc6XG4gICAgICAgIGNhc2UgJ21vdmVfbm9kZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgcC5wYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgJiYgKG9wLm9mZnNldCA8IG9mZnNldCB8fCBvcC5vZmZzZXQgPT09IG9mZnNldCAmJiBhZmZpbml0eSA9PT0gJ2ZvcndhcmQnKSkge1xuICAgICAgICAgICAgICBwLm9mZnNldCArPSBvcC50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ21lcmdlX25vZGUnOlxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlmIChQYXRoLmVxdWFscyhvcC5wYXRoLCBwYXRoKSkge1xuICAgICAgICAgICAgICBwLm9mZnNldCArPSBvcC5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcC5wYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3AsIG9wdGlvbnMpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3JlbW92ZV90ZXh0JzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgJiYgb3Aub2Zmc2V0IDw9IG9mZnNldCkge1xuICAgICAgICAgICAgICBwLm9mZnNldCAtPSBNYXRoLm1pbihvZmZzZXQgLSBvcC5vZmZzZXQsIG9wLnRleHQubGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuXG4gICAgICAgIGNhc2UgJ3JlbW92ZV9ub2RlJzpcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpZiAoUGF0aC5lcXVhbHMob3AucGF0aCwgcGF0aCkgfHwgUGF0aC5pc0FuY2VzdG9yKG9wLnBhdGgsIHBhdGgpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgY2FzZSAnc3BsaXRfbm9kZSc6XG4gICAgICAgICAge1xuICAgICAgICAgICAgaWYgKFBhdGguZXF1YWxzKG9wLnBhdGgsIHBhdGgpKSB7XG4gICAgICAgICAgICAgIGlmIChvcC5wb3NpdGlvbiA9PT0gb2Zmc2V0ICYmIGFmZmluaXR5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvcC5wb3NpdGlvbiA8IG9mZnNldCB8fCBvcC5wb3NpdGlvbiA9PT0gb2Zmc2V0ICYmIGFmZmluaXR5ID09PSAnZm9yd2FyZCcpIHtcbiAgICAgICAgICAgICAgICBwLm9mZnNldCAtPSBvcC5wb3NpdGlvbjtcbiAgICAgICAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwgX29iamVjdFNwcmVhZCRiKF9vYmplY3RTcHJlYWQkYih7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgICAgICAgICAgICAgICBhZmZpbml0eTogJ2ZvcndhcmQnXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBwLnBhdGggPSBQYXRoLnRyYW5zZm9ybShwYXRoLCBvcCwgb3B0aW9ucyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG59O1xuXG52YXIgX3NjcnViYmVyID0gdW5kZWZpbmVkO1xuLyoqXHJcbiAqIFRoaXMgaW50ZXJmYWNlIGltcGxlbWVudHMgYSBzdHJpbmdpZnkoKSBmdW5jdGlvbiwgd2hpY2ggaXMgdXNlZCBieSBTbGF0ZVxyXG4gKiBpbnRlcm5hbGx5IHdoZW4gZ2VuZXJhdGluZyBleGNlcHRpb25zIGNvbnRhaW5pbmcgZW5kIHVzZXIgZGF0YS4gRGV2ZWxvcGVyc1xyXG4gKiB1c2luZyBTbGF0ZSBtYXkgY2FsbCBTY3J1YmJlci5zZXRTY3J1YmJlcigpIHRvIGFsdGVyIHRoZSBiZWhhdmlvciBvZiB0aGlzXHJcbiAqIHN0cmluZ2lmeSgpIGZ1bmN0aW9uLlxyXG4gKlxyXG4gKiBGb3IgZXhhbXBsZSwgdG8gcHJldmVudCB0aGUgY2xlYXJ0ZXh0IGxvZ2dpbmcgb2YgJ3RleHQnIGZpZWxkcyB3aXRoaW4gTm9kZXM6XHJcbiAqXHJcbiAqICAgIGltcG9ydCB7IFNjcnViYmVyIH0gZnJvbSAnc2xhdGUnO1xyXG4gKiAgICBTY3J1YmJlci5zZXRTY3J1YmJlcigoa2V5LCB2YWwpID0+IHtcclxuICogICAgICBpZiAoa2V5ID09PSAndGV4dCcpIHJldHVybiAnLi4uc2NydWJiZWQuLi4nXHJcbiAqICAgICAgcmV0dXJuIHZhbFxyXG4gKiAgICB9KTtcclxuICpcclxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVkZWNsYXJlXG5cbnZhciBTY3J1YmJlciA9IHtcbiAgc2V0U2NydWJiZXIoc2NydWJiZXIpIHtcbiAgICBfc2NydWJiZXIgPSBzY3J1YmJlcjtcbiAgfSxcblxuICBzdHJpbmdpZnkodmFsdWUpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUsIF9zY3J1YmJlcik7XG4gIH1cblxufTtcblxudmFyIF9leGNsdWRlZCQyID0gW1widGV4dFwiXSxcbiAgICBfZXhjbHVkZWQyJDIgPSBbXCJhbmNob3JcIiwgXCJmb2N1c1wiXTtcblxuZnVuY3Rpb24gb3duS2V5cyRhKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCRhKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkYShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJGEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBUZXh0ID0ge1xuICBlcXVhbHModGV4dCwgYW5vdGhlcikge1xuICAgIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgICB2YXIge1xuICAgICAgbG9vc2UgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgZnVuY3Rpb24gb21pdFRleHQob2JqKSB7XG4gICAgICB2YXIgcmVzdCA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhvYmosIF9leGNsdWRlZCQyKTtcblxuICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgfVxuXG4gICAgcmV0dXJuIGlzRGVlcEVxdWFsKGxvb3NlID8gb21pdFRleHQodGV4dCkgOiB0ZXh0LCBsb29zZSA/IG9taXRUZXh0KGFub3RoZXIpIDogYW5vdGhlcik7XG4gIH0sXG5cbiAgaXNUZXh0KHZhbHVlKSB7XG4gICAgcmV0dXJuIGlzUGxhaW5PYmplY3QodmFsdWUpICYmIHR5cGVvZiB2YWx1ZS50ZXh0ID09PSAnc3RyaW5nJztcbiAgfSxcblxuICBpc1RleHRMaXN0KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KHZhbCA9PiBUZXh0LmlzVGV4dCh2YWwpKTtcbiAgfSxcblxuICBpc1RleHRQcm9wcyhwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy50ZXh0ICE9PSB1bmRlZmluZWQ7XG4gIH0sXG5cbiAgbWF0Y2hlcyh0ZXh0LCBwcm9wcykge1xuICAgIGZvciAodmFyIGtleSBpbiBwcm9wcykge1xuICAgICAgaWYgKGtleSA9PT0gJ3RleHQnKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXRleHQuaGFzT3duUHJvcGVydHkoa2V5KSB8fCB0ZXh0W2tleV0gIT09IHByb3BzW2tleV0pIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiB0cnVlO1xuICB9LFxuXG4gIGRlY29yYXRpb25zKG5vZGUsIGRlY29yYXRpb25zKSB7XG4gICAgdmFyIGxlYXZlcyA9IFtfb2JqZWN0U3ByZWFkJGEoe30sIG5vZGUpXTtcblxuICAgIGZvciAodmFyIGRlYyBvZiBkZWNvcmF0aW9ucykge1xuICAgICAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoZGVjLCBfZXhjbHVkZWQyJDIpO1xuXG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoZGVjKTtcbiAgICAgIHZhciBuZXh0ID0gW107XG4gICAgICB2YXIgbGVhZkVuZCA9IDA7XG4gICAgICB2YXIgZGVjb3JhdGlvblN0YXJ0ID0gc3RhcnQub2Zmc2V0O1xuICAgICAgdmFyIGRlY29yYXRpb25FbmQgPSBlbmQub2Zmc2V0O1xuXG4gICAgICBmb3IgKHZhciBsZWFmIG9mIGxlYXZlcykge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIGxlbmd0aFxuICAgICAgICB9ID0gbGVhZi50ZXh0O1xuICAgICAgICB2YXIgbGVhZlN0YXJ0ID0gbGVhZkVuZDtcbiAgICAgICAgbGVhZkVuZCArPSBsZW5ndGg7IC8vIElmIHRoZSByYW5nZSBlbmNvbXBhc3NlcyB0aGUgZW50aXJlIGxlYWYsIGFkZCB0aGUgcmFuZ2UuXG5cbiAgICAgICAgaWYgKGRlY29yYXRpb25TdGFydCA8PSBsZWFmU3RhcnQgJiYgbGVhZkVuZCA8PSBkZWNvcmF0aW9uRW5kKSB7XG4gICAgICAgICAgT2JqZWN0LmFzc2lnbihsZWFmLCByZXN0KTtcbiAgICAgICAgICBuZXh0LnB1c2gobGVhZik7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH0gLy8gSWYgdGhlIHJhbmdlIGV4cGFuZGVkIGFuZCBtYXRjaCB0aGUgbGVhZiwgb3Igc3RhcnRzIGFmdGVyLCBvciBlbmRzIGJlZm9yZSBpdCwgY29udGludWUuXG5cblxuICAgICAgICBpZiAoZGVjb3JhdGlvblN0YXJ0ICE9PSBkZWNvcmF0aW9uRW5kICYmIChkZWNvcmF0aW9uU3RhcnQgPT09IGxlYWZFbmQgfHwgZGVjb3JhdGlvbkVuZCA9PT0gbGVhZlN0YXJ0KSB8fCBkZWNvcmF0aW9uU3RhcnQgPiBsZWFmRW5kIHx8IGRlY29yYXRpb25FbmQgPCBsZWFmU3RhcnQgfHwgZGVjb3JhdGlvbkVuZCA9PT0gbGVhZlN0YXJ0ICYmIGxlYWZTdGFydCAhPT0gMCkge1xuICAgICAgICAgIG5leHQucHVzaChsZWFmKTtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfSAvLyBPdGhlcndpc2Ugd2UgbmVlZCB0byBzcGxpdCB0aGUgbGVhZiwgYXQgdGhlIHN0YXJ0LCBlbmQsIG9yIGJvdGgsXG4gICAgICAgIC8vIGFuZCBhZGQgdGhlIHJhbmdlIHRvIHRoZSBtaWRkbGUgaW50ZXJzZWN0aW5nIHNlY3Rpb24uIERvIHRoZSBlbmRcbiAgICAgICAgLy8gc3BsaXQgZmlyc3Qgc2luY2Ugd2UgZG9uJ3QgbmVlZCB0byB1cGRhdGUgdGhlIG9mZnNldCB0aGF0IHdheS5cblxuXG4gICAgICAgIHZhciBtaWRkbGUgPSBsZWFmO1xuICAgICAgICB2YXIgYmVmb3JlID0gdm9pZCAwO1xuICAgICAgICB2YXIgYWZ0ZXIgPSB2b2lkIDA7XG5cbiAgICAgICAgaWYgKGRlY29yYXRpb25FbmQgPCBsZWFmRW5kKSB7XG4gICAgICAgICAgdmFyIG9mZiA9IGRlY29yYXRpb25FbmQgLSBsZWFmU3RhcnQ7XG4gICAgICAgICAgYWZ0ZXIgPSBfb2JqZWN0U3ByZWFkJGEoX29iamVjdFNwcmVhZCRhKHt9LCBtaWRkbGUpLCB7fSwge1xuICAgICAgICAgICAgdGV4dDogbWlkZGxlLnRleHQuc2xpY2Uob2ZmKVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG1pZGRsZSA9IF9vYmplY3RTcHJlYWQkYShfb2JqZWN0U3ByZWFkJGEoe30sIG1pZGRsZSksIHt9LCB7XG4gICAgICAgICAgICB0ZXh0OiBtaWRkbGUudGV4dC5zbGljZSgwLCBvZmYpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVjb3JhdGlvblN0YXJ0ID4gbGVhZlN0YXJ0KSB7XG4gICAgICAgICAgdmFyIF9vZmYgPSBkZWNvcmF0aW9uU3RhcnQgLSBsZWFmU3RhcnQ7XG5cbiAgICAgICAgICBiZWZvcmUgPSBfb2JqZWN0U3ByZWFkJGEoX29iamVjdFNwcmVhZCRhKHt9LCBtaWRkbGUpLCB7fSwge1xuICAgICAgICAgICAgdGV4dDogbWlkZGxlLnRleHQuc2xpY2UoMCwgX29mZilcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBtaWRkbGUgPSBfb2JqZWN0U3ByZWFkJGEoX29iamVjdFNwcmVhZCRhKHt9LCBtaWRkbGUpLCB7fSwge1xuICAgICAgICAgICAgdGV4dDogbWlkZGxlLnRleHQuc2xpY2UoX29mZilcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIE9iamVjdC5hc3NpZ24obWlkZGxlLCByZXN0KTtcblxuICAgICAgICBpZiAoYmVmb3JlKSB7XG4gICAgICAgICAgbmV4dC5wdXNoKGJlZm9yZSk7XG4gICAgICAgIH1cblxuICAgICAgICBuZXh0LnB1c2gobWlkZGxlKTtcblxuICAgICAgICBpZiAoYWZ0ZXIpIHtcbiAgICAgICAgICBuZXh0LnB1c2goYWZ0ZXIpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxlYXZlcyA9IG5leHQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxlYXZlcztcbiAgfVxuXG59O1xuXG4vKipcclxuICogR2V0IHRoZSBkZWZhdWx0IGxvY2F0aW9uIHRvIGluc2VydCBjb250ZW50IGludG8gdGhlIGVkaXRvci5cclxuICogQnkgZGVmYXVsdCwgdXNlIHRoZSBzZWxlY3Rpb24gYXMgdGhlIHRhcmdldCBsb2NhdGlvbi4gQnV0IGlmIHRoZXJlIGlzXHJcbiAqIG5vIHNlbGVjdGlvbiwgaW5zZXJ0IGF0IHRoZSBlbmQgb2YgdGhlIGRvY3VtZW50IHNpbmNlIHRoYXQgaXMgc3VjaCBhXHJcbiAqIGNvbW1vbiB1c2UgY2FzZSB3aGVuIGluc2VydGluZyBmcm9tIGEgbm9uLXNlbGVjdGVkIHN0YXRlLlxyXG4gKi9cblxudmFyIGdldERlZmF1bHRJbnNlcnRMb2NhdGlvbiA9IGVkaXRvciA9PiB7XG4gIGlmIChlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuIGVkaXRvci5zZWxlY3Rpb247XG4gIH0gZWxzZSBpZiAoZWRpdG9yLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gRWRpdG9yLmVuZChlZGl0b3IsIFtdKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gWzBdO1xuICB9XG59O1xuXG52YXIgbWF0Y2hQYXRoID0gKGVkaXRvciwgcGF0aCkgPT4ge1xuICB2YXIgW25vZGVdID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBwYXRoKTtcbiAgcmV0dXJuIG4gPT4gbiA9PT0gbm9kZTtcbn07XG5cbi8vIENoYXJhY3RlciAoZ3JhcGhlbWUgY2x1c3RlcikgYm91bmRhcmllcyBhcmUgZGV0ZXJtaW5lZCBhY2NvcmRpbmcgdG9cbi8vIHRoZSBkZWZhdWx0IGdyYXBoZW1lIGNsdXN0ZXIgYm91bmRhcnkgc3BlY2lmaWNhdGlvbiwgZXh0ZW5kZWQgZ3JhcGhlbWUgY2x1c3RlcnMgdmFyaWFudFsxXS5cbi8vXG4vLyBSZWZlcmVuY2VzOlxuLy9cbi8vIFsxXSBodHRwczovL3d3dy51bmljb2RlLm9yZy9yZXBvcnRzL3RyMjkvI0RlZmF1bHRfR3JhcGhlbWVfQ2x1c3Rlcl9UYWJsZVxuLy8gWzJdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Byb3BlcnR5LnR4dFxuLy8gWzNdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Rlc3QuaHRtbFxuLy8gWzRdIGh0dHBzOi8vd3d3LnVuaWNvZGUub3JnL1B1YmxpYy9VQ0QvbGF0ZXN0L3VjZC9hdXhpbGlhcnkvR3JhcGhlbWVCcmVha1Rlc3QudHh0XG5cbi8qKlxyXG4gKiBHZXQgdGhlIGRpc3RhbmNlIHRvIHRoZSBlbmQgb2YgdGhlIGZpcnN0IGNoYXJhY3RlciBpbiBhIHN0cmluZyBvZiB0ZXh0LlxyXG4gKi9cbnZhciBnZXRDaGFyYWN0ZXJEaXN0YW5jZSA9IGZ1bmN0aW9uIGdldENoYXJhY3RlckRpc3RhbmNlKHN0cikge1xuICB2YXIgaXNSVEwgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuICB2YXIgaXNMVFIgPSAhaXNSVEw7XG4gIHZhciBjb2RlcG9pbnRzID0gaXNSVEwgPyBjb2RlcG9pbnRzSXRlcmF0b3JSVEwoc3RyKSA6IHN0cjtcbiAgdmFyIGxlZnQgPSBDb2RlcG9pbnRUeXBlLk5vbmU7XG4gIHZhciByaWdodCA9IENvZGVwb2ludFR5cGUuTm9uZTtcbiAgdmFyIGRpc3RhbmNlID0gMDsgLy8gRXZhbHVhdGlvbiBvZiB0aGVzZSBjb25kaXRpb25zIGFyZSBkZWZlcnJlZC5cblxuICB2YXIgZ2IxMSA9IG51bGw7IC8vIElzIEdCMTEgYXBwbGljYWJsZT9cblxuICB2YXIgZ2IxMk9yMTMgPSBudWxsOyAvLyBJcyBHQjEyIG9yIEdCMTMgYXBwbGljYWJsZT9cblxuICBmb3IgKHZhciBjaGFyIG9mIGNvZGVwb2ludHMpIHtcbiAgICB2YXIgY29kZSA9IGNoYXIuY29kZVBvaW50QXQoMCk7XG4gICAgaWYgKCFjb2RlKSBicmVhaztcbiAgICB2YXIgdHlwZSA9IGdldENvZGVwb2ludFR5cGUoY2hhciwgY29kZSk7XG4gICAgW2xlZnQsIHJpZ2h0XSA9IGlzTFRSID8gW3JpZ2h0LCB0eXBlXSA6IFt0eXBlLCBsZWZ0XTtcblxuICAgIGlmIChpbnRlcnNlY3RzKGxlZnQsIENvZGVwb2ludFR5cGUuWldKKSAmJiBpbnRlcnNlY3RzKHJpZ2h0LCBDb2RlcG9pbnRUeXBlLkV4dFBpY3QpKSB7XG4gICAgICBpZiAoaXNMVFIpIHtcbiAgICAgICAgZ2IxMSA9IGVuZHNXaXRoRW1vamlaV0ooc3RyLnN1YnN0cmluZygwLCBkaXN0YW5jZSkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ2IxMSA9IGVuZHNXaXRoRW1vamlaV0ooc3RyLnN1YnN0cmluZygwLCBzdHIubGVuZ3RoIC0gZGlzdGFuY2UpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFnYjExKSBicmVhaztcbiAgICB9XG5cbiAgICBpZiAoaW50ZXJzZWN0cyhsZWZ0LCBDb2RlcG9pbnRUeXBlLlJJKSAmJiBpbnRlcnNlY3RzKHJpZ2h0LCBDb2RlcG9pbnRUeXBlLlJJKSkge1xuICAgICAgaWYgKGdiMTJPcjEzICE9PSBudWxsKSB7XG4gICAgICAgIGdiMTJPcjEzID0gIWdiMTJPcjEzO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGlzTFRSKSB7XG4gICAgICAgICAgZ2IxMk9yMTMgPSB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGdiMTJPcjEzID0gZW5kc1dpdGhPZGROdW1iZXJPZlJJcyhzdHIuc3Vic3RyaW5nKDAsIHN0ci5sZW5ndGggLSBkaXN0YW5jZSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICghZ2IxMk9yMTMpIGJyZWFrO1xuICAgIH1cblxuICAgIGlmIChsZWZ0ICE9PSBDb2RlcG9pbnRUeXBlLk5vbmUgJiYgcmlnaHQgIT09IENvZGVwb2ludFR5cGUuTm9uZSAmJiBpc0JvdW5kYXJ5UGFpcihsZWZ0LCByaWdodCkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGRpc3RhbmNlICs9IGNoYXIubGVuZ3RoO1xuICB9XG5cbiAgcmV0dXJuIGRpc3RhbmNlIHx8IDE7XG59O1xudmFyIFNQQUNFID0gL1xccy87XG52YXIgUFVOQ1RVQVRJT04gPSAvW1xcdTAwMjEtXFx1MDAyM1xcdTAwMjUtXFx1MDAyQVxcdTAwMkMtXFx1MDAyRlxcdTAwM0FcXHUwMDNCXFx1MDAzRlxcdTAwNDBcXHUwMDVCLVxcdTAwNURcXHUwMDVGXFx1MDA3QlxcdTAwN0RcXHUwMEExXFx1MDBBN1xcdTAwQUJcXHUwMEI2XFx1MDBCN1xcdTAwQkJcXHUwMEJGXFx1MDM3RVxcdTAzODdcXHUwNTVBLVxcdTA1NUZcXHUwNTg5XFx1MDU4QVxcdTA1QkVcXHUwNUMwXFx1MDVDM1xcdTA1QzZcXHUwNUYzXFx1MDVGNFxcdTA2MDlcXHUwNjBBXFx1MDYwQ1xcdTA2MERcXHUwNjFCXFx1MDYxRVxcdTA2MUZcXHUwNjZBLVxcdTA2NkRcXHUwNkQ0XFx1MDcwMC1cXHUwNzBEXFx1MDdGNy1cXHUwN0Y5XFx1MDgzMC1cXHUwODNFXFx1MDg1RVxcdTA5NjRcXHUwOTY1XFx1MDk3MFxcdTBBRjBcXHUwREY0XFx1MEU0RlxcdTBFNUFcXHUwRTVCXFx1MEYwNC1cXHUwRjEyXFx1MEYxNFxcdTBGM0EtXFx1MEYzRFxcdTBGODVcXHUwRkQwLVxcdTBGRDRcXHUwRkQ5XFx1MEZEQVxcdTEwNEEtXFx1MTA0RlxcdTEwRkJcXHUxMzYwLVxcdTEzNjhcXHUxNDAwXFx1MTY2RFxcdTE2NkVcXHUxNjlCXFx1MTY5Q1xcdTE2RUItXFx1MTZFRFxcdTE3MzVcXHUxNzM2XFx1MTdENC1cXHUxN0Q2XFx1MTdEOC1cXHUxN0RBXFx1MTgwMC1cXHUxODBBXFx1MTk0NFxcdTE5NDVcXHUxQTFFXFx1MUExRlxcdTFBQTAtXFx1MUFBNlxcdTFBQTgtXFx1MUFBRFxcdTFCNUEtXFx1MUI2MFxcdTFCRkMtXFx1MUJGRlxcdTFDM0ItXFx1MUMzRlxcdTFDN0VcXHUxQzdGXFx1MUNDMC1cXHUxQ0M3XFx1MUNEM1xcdTIwMTAtXFx1MjAyN1xcdTIwMzAtXFx1MjA0M1xcdTIwNDUtXFx1MjA1MVxcdTIwNTMtXFx1MjA1RVxcdTIwN0RcXHUyMDdFXFx1MjA4RFxcdTIwOEVcXHUyMzI5XFx1MjMyQVxcdTI3NjgtXFx1Mjc3NVxcdTI3QzVcXHUyN0M2XFx1MjdFNi1cXHUyN0VGXFx1Mjk4My1cXHUyOTk4XFx1MjlEOC1cXHUyOURCXFx1MjlGQ1xcdTI5RkRcXHUyQ0Y5LVxcdTJDRkNcXHUyQ0ZFXFx1MkNGRlxcdTJENzBcXHUyRTAwLVxcdTJFMkVcXHUyRTMwLVxcdTJFM0JcXHUzMDAxLVxcdTMwMDNcXHUzMDA4LVxcdTMwMTFcXHUzMDE0LVxcdTMwMUZcXHUzMDMwXFx1MzAzRFxcdTMwQTBcXHUzMEZCXFx1QTRGRVxcdUE0RkZcXHVBNjBELVxcdUE2MEZcXHVBNjczXFx1QTY3RVxcdUE2RjItXFx1QTZGN1xcdUE4NzQtXFx1QTg3N1xcdUE4Q0VcXHVBOENGXFx1QThGOC1cXHVBOEZBXFx1QTkyRVxcdUE5MkZcXHVBOTVGXFx1QTlDMS1cXHVBOUNEXFx1QTlERVxcdUE5REZcXHVBQTVDLVxcdUFBNUZcXHVBQURFXFx1QUFERlxcdUFBRjBcXHVBQUYxXFx1QUJFQlxcdUZEM0VcXHVGRDNGXFx1RkUxMC1cXHVGRTE5XFx1RkUzMC1cXHVGRTUyXFx1RkU1NC1cXHVGRTYxXFx1RkU2M1xcdUZFNjhcXHVGRTZBXFx1RkU2QlxcdUZGMDEtXFx1RkYwM1xcdUZGMDUtXFx1RkYwQVxcdUZGMEMtXFx1RkYwRlxcdUZGMUFcXHVGRjFCXFx1RkYxRlxcdUZGMjBcXHVGRjNCLVxcdUZGM0RcXHVGRjNGXFx1RkY1QlxcdUZGNURcXHVGRjVGLVxcdUZGNjVdLztcbnZhciBDSEFNRUxFT04gPSAvWydcXHUyMDE4XFx1MjAxOV0vO1xuLyoqXHJcbiAqIEdldCB0aGUgZGlzdGFuY2UgdG8gdGhlIGVuZCBvZiB0aGUgZmlyc3Qgd29yZCBpbiBhIHN0cmluZyBvZiB0ZXh0LlxyXG4gKi9cblxudmFyIGdldFdvcmREaXN0YW5jZSA9IGZ1bmN0aW9uIGdldFdvcmREaXN0YW5jZSh0ZXh0KSB7XG4gIHZhciBpc1JUTCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogZmFsc2U7XG4gIHZhciBkaXN0ID0gMDtcbiAgdmFyIHN0YXJ0ZWQgPSBmYWxzZTtcblxuICB3aGlsZSAodGV4dC5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGNoYXJEaXN0ID0gZ2V0Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgaXNSVEwpO1xuICAgIHZhciBbY2hhciwgcmVtYWluaW5nXSA9IHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZSh0ZXh0LCBjaGFyRGlzdCwgaXNSVEwpO1xuXG4gICAgaWYgKGlzV29yZENoYXJhY3RlcihjaGFyLCByZW1haW5pbmcsIGlzUlRMKSkge1xuICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICBkaXN0ICs9IGNoYXJEaXN0O1xuICAgIH0gZWxzZSBpZiAoIXN0YXJ0ZWQpIHtcbiAgICAgIGRpc3QgKz0gY2hhckRpc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIHRleHQgPSByZW1haW5pbmc7XG4gIH1cblxuICByZXR1cm4gZGlzdDtcbn07XG4vKipcclxuICogU3BsaXQgYSBzdHJpbmcgaW4gdHdvIHBhcnRzIGF0IGEgZ2l2ZW4gZGlzdGFuY2Ugc3RhcnRpbmcgZnJvbSB0aGUgZW5kIHdoZW5cclxuICogYGlzUlRMYCBpcyBzZXQgdG8gYHRydWVgLlxyXG4gKi9cblxudmFyIHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZSA9IChzdHIsIGRpc3QsIGlzUlRMKSA9PiB7XG4gIGlmIChpc1JUTCkge1xuICAgIHZhciBhdCA9IHN0ci5sZW5ndGggLSBkaXN0O1xuICAgIHJldHVybiBbc3RyLnNsaWNlKGF0LCBzdHIubGVuZ3RoKSwgc3RyLnNsaWNlKDAsIGF0KV07XG4gIH1cblxuICByZXR1cm4gW3N0ci5zbGljZSgwLCBkaXN0KSwgc3RyLnNsaWNlKGRpc3QpXTtcbn07XG4vKipcclxuICogQ2hlY2sgaWYgYSBjaGFyYWN0ZXIgaXMgYSB3b3JkIGNoYXJhY3Rlci4gVGhlIGByZW1haW5pbmdgIGFyZ3VtZW50IGlzIHVzZWRcclxuICogYmVjYXVzZSBzb21ldGltZXMgeW91IG11c3QgcmVhZCBzdWJzZXF1ZW50IGNoYXJhY3RlcnMgdG8gdHJ1bHkgZGV0ZXJtaW5lIGl0LlxyXG4gKi9cblxudmFyIGlzV29yZENoYXJhY3RlciA9IGZ1bmN0aW9uIGlzV29yZENoYXJhY3RlcihjaGFyLCByZW1haW5pbmcpIHtcbiAgdmFyIGlzUlRMID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiBmYWxzZTtcblxuICBpZiAoU1BBQ0UudGVzdChjaGFyKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSAvLyBDaGFtZWxlb25zIGNvdW50IGFzIHdvcmQgY2hhcmFjdGVycyBhcyBsb25nIGFzIHRoZXkncmUgaW4gYSB3b3JkLCBzb1xuICAvLyByZWN1cnNlIHRvIHNlZSBpZiB0aGUgbmV4dCBvbmUgaXMgYSB3b3JkIGNoYXJhY3RlciBvciBub3QuXG5cblxuICBpZiAoQ0hBTUVMRU9OLnRlc3QoY2hhcikpIHtcbiAgICB2YXIgY2hhckRpc3QgPSBnZXRDaGFyYWN0ZXJEaXN0YW5jZShyZW1haW5pbmcsIGlzUlRMKTtcbiAgICB2YXIgW25leHRDaGFyLCBuZXh0UmVtYWluaW5nXSA9IHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZShyZW1haW5pbmcsIGNoYXJEaXN0LCBpc1JUTCk7XG5cbiAgICBpZiAoaXNXb3JkQ2hhcmFjdGVyKG5leHRDaGFyLCBuZXh0UmVtYWluaW5nLCBpc1JUTCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmIChQVU5DVFVBVElPTi50ZXN0KGNoYXIpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuLyoqXHJcbiAqIEl0ZXJhdGUgb24gY29kZXBvaW50cyBmcm9tIHJpZ2h0IHRvIGxlZnQuXHJcbiAqL1xuXG5cbnZhciBjb2RlcG9pbnRzSXRlcmF0b3JSVEwgPSBmdW5jdGlvbiogY29kZXBvaW50c0l0ZXJhdG9yUlRMKHN0cikge1xuICB2YXIgZW5kID0gc3RyLmxlbmd0aCAtIDE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgY2hhcjEgPSBzdHIuY2hhckF0KGVuZCAtIGkpO1xuXG4gICAgaWYgKGlzTG93U3Vycm9nYXRlKGNoYXIxLmNoYXJDb2RlQXQoMCkpKSB7XG4gICAgICB2YXIgY2hhcjIgPSBzdHIuY2hhckF0KGVuZCAtIGkgLSAxKTtcblxuICAgICAgaWYgKGlzSGlnaFN1cnJvZ2F0ZShjaGFyMi5jaGFyQ29kZUF0KDApKSkge1xuICAgICAgICB5aWVsZCBjaGFyMiArIGNoYXIxO1xuICAgICAgICBpKys7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHlpZWxkIGNoYXIxO1xuICB9XG59O1xuLyoqXHJcbiAqIElzIGBjaGFyQ29kZWAgYSBoaWdoIHN1cnJvZ2F0ZS5cclxuICpcclxuICogaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsX0NoYXJhY3Rlcl9TZXRfY2hhcmFjdGVycyNTdXJyb2dhdGVzXHJcbiAqL1xuXG52YXIgaXNIaWdoU3Vycm9nYXRlID0gY2hhckNvZGUgPT4ge1xuICByZXR1cm4gY2hhckNvZGUgPj0gMHhkODAwICYmIGNoYXJDb2RlIDw9IDB4ZGJmZjtcbn07XG4vKipcclxuICogSXMgYGNoYXJDb2RlYCBhIGxvdyBzdXJyb2dhdGUuXHJcbiAqXHJcbiAqIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VuaXZlcnNhbF9DaGFyYWN0ZXJfU2V0X2NoYXJhY3RlcnMjU3Vycm9nYXRlc1xyXG4gKi9cblxuXG52YXIgaXNMb3dTdXJyb2dhdGUgPSBjaGFyQ29kZSA9PiB7XG4gIHJldHVybiBjaGFyQ29kZSA+PSAweGRjMDAgJiYgY2hhckNvZGUgPD0gMHhkZmZmO1xufTtcblxudmFyIENvZGVwb2ludFR5cGU7XG5cbihmdW5jdGlvbiAoQ29kZXBvaW50VHlwZSkge1xuICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJOb25lXCJdID0gMF0gPSBcIk5vbmVcIjtcbiAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiRXh0ZW5kXCJdID0gMV0gPSBcIkV4dGVuZFwiO1xuICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJaV0pcIl0gPSAyXSA9IFwiWldKXCI7XG4gIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlJJXCJdID0gNF0gPSBcIlJJXCI7XG4gIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlByZXBlbmRcIl0gPSA4XSA9IFwiUHJlcGVuZFwiO1xuICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJTcGFjaW5nTWFya1wiXSA9IDE2XSA9IFwiU3BhY2luZ01hcmtcIjtcbiAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiTFwiXSA9IDMyXSA9IFwiTFwiO1xuICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJWXCJdID0gNjRdID0gXCJWXCI7XG4gIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIlRcIl0gPSAxMjhdID0gXCJUXCI7XG4gIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIkxWXCJdID0gMjU2XSA9IFwiTFZcIjtcbiAgQ29kZXBvaW50VHlwZVtDb2RlcG9pbnRUeXBlW1wiTFZUXCJdID0gNTEyXSA9IFwiTFZUXCI7XG4gIENvZGVwb2ludFR5cGVbQ29kZXBvaW50VHlwZVtcIkV4dFBpY3RcIl0gPSAxMDI0XSA9IFwiRXh0UGljdFwiO1xuICBDb2RlcG9pbnRUeXBlW0NvZGVwb2ludFR5cGVbXCJBbnlcIl0gPSAyMDQ4XSA9IFwiQW55XCI7XG59KShDb2RlcG9pbnRUeXBlIHx8IChDb2RlcG9pbnRUeXBlID0ge30pKTtcblxudmFyIHJlRXh0ZW5kID0gL14oPzpbXFx1MDMwMC1cXHUwMzZGXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNUJEXFx1MDVCRlxcdTA1QzFcXHUwNUMyXFx1MDVDNFxcdTA1QzVcXHUwNUM3XFx1MDYxMC1cXHUwNjFBXFx1MDY0Qi1cXHUwNjVGXFx1MDY3MFxcdTA2RDYtXFx1MDZEQ1xcdTA2REYtXFx1MDZFNFxcdTA2RTdcXHUwNkU4XFx1MDZFQS1cXHUwNkVEXFx1MDcxMVxcdTA3MzAtXFx1MDc0QVxcdTA3QTYtXFx1MDdCMFxcdTA3RUItXFx1MDdGM1xcdTA3RkRcXHUwODE2LVxcdTA4MTlcXHUwODFCLVxcdTA4MjNcXHUwODI1LVxcdTA4MjdcXHUwODI5LVxcdTA4MkRcXHUwODU5LVxcdTA4NUJcXHUwOEQzLVxcdTA4RTFcXHUwOEUzLVxcdTA5MDJcXHUwOTNBXFx1MDkzQ1xcdTA5NDEtXFx1MDk0OFxcdTA5NERcXHUwOTUxLVxcdTA5NTdcXHUwOTYyXFx1MDk2M1xcdTA5ODFcXHUwOUJDXFx1MDlCRVxcdTA5QzEtXFx1MDlDNFxcdTA5Q0RcXHUwOUQ3XFx1MDlFMlxcdTA5RTNcXHUwOUZFXFx1MEEwMVxcdTBBMDJcXHUwQTNDXFx1MEE0MVxcdTBBNDJcXHUwQTQ3XFx1MEE0OFxcdTBBNEItXFx1MEE0RFxcdTBBNTFcXHUwQTcwXFx1MEE3MVxcdTBBNzVcXHUwQTgxXFx1MEE4MlxcdTBBQkNcXHUwQUMxLVxcdTBBQzVcXHUwQUM3XFx1MEFDOFxcdTBBQ0RcXHUwQUUyXFx1MEFFM1xcdTBBRkEtXFx1MEFGRlxcdTBCMDFcXHUwQjNDXFx1MEIzRVxcdTBCM0ZcXHUwQjQxLVxcdTBCNDRcXHUwQjREXFx1MEI1NS1cXHUwQjU3XFx1MEI2MlxcdTBCNjNcXHUwQjgyXFx1MEJCRVxcdTBCQzBcXHUwQkNEXFx1MEJEN1xcdTBDMDBcXHUwQzA0XFx1MEMzRS1cXHUwQzQwXFx1MEM0Ni1cXHUwQzQ4XFx1MEM0QS1cXHUwQzREXFx1MEM1NVxcdTBDNTZcXHUwQzYyXFx1MEM2M1xcdTBDODFcXHUwQ0JDXFx1MENCRlxcdTBDQzJcXHUwQ0M2XFx1MENDQ1xcdTBDQ0RcXHUwQ0Q1XFx1MENENlxcdTBDRTJcXHUwQ0UzXFx1MEQwMFxcdTBEMDFcXHUwRDNCXFx1MEQzQ1xcdTBEM0VcXHUwRDQxLVxcdTBENDRcXHUwRDREXFx1MEQ1N1xcdTBENjJcXHUwRDYzXFx1MEQ4MVxcdTBEQ0FcXHUwRENGXFx1MEREMi1cXHUwREQ0XFx1MERENlxcdTBEREZcXHUwRTMxXFx1MEUzNC1cXHUwRTNBXFx1MEU0Ny1cXHUwRTRFXFx1MEVCMVxcdTBFQjQtXFx1MEVCQ1xcdTBFQzgtXFx1MEVDRFxcdTBGMThcXHUwRjE5XFx1MEYzNVxcdTBGMzdcXHUwRjM5XFx1MEY3MS1cXHUwRjdFXFx1MEY4MC1cXHUwRjg0XFx1MEY4NlxcdTBGODdcXHUwRjhELVxcdTBGOTdcXHUwRjk5LVxcdTBGQkNcXHUwRkM2XFx1MTAyRC1cXHUxMDMwXFx1MTAzMi1cXHUxMDM3XFx1MTAzOVxcdTEwM0FcXHUxMDNEXFx1MTAzRVxcdTEwNThcXHUxMDU5XFx1MTA1RS1cXHUxMDYwXFx1MTA3MS1cXHUxMDc0XFx1MTA4MlxcdTEwODVcXHUxMDg2XFx1MTA4RFxcdTEwOURcXHUxMzVELVxcdTEzNUZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdCNFxcdTE3QjVcXHUxN0I3LVxcdTE3QkRcXHUxN0M2XFx1MTdDOS1cXHUxN0QzXFx1MTdERFxcdTE4MEItXFx1MTgwRFxcdTE4ODVcXHUxODg2XFx1MThBOVxcdTE5MjAtXFx1MTkyMlxcdTE5MjdcXHUxOTI4XFx1MTkzMlxcdTE5MzktXFx1MTkzQlxcdTFBMTdcXHUxQTE4XFx1MUExQlxcdTFBNTZcXHUxQTU4LVxcdTFBNUVcXHUxQTYwXFx1MUE2MlxcdTFBNjUtXFx1MUE2Q1xcdTFBNzMtXFx1MUE3Q1xcdTFBN0ZcXHUxQUIwLVxcdTFBQzBcXHUxQjAwLVxcdTFCMDNcXHUxQjM0LVxcdTFCM0FcXHUxQjNDXFx1MUI0MlxcdTFCNkItXFx1MUI3M1xcdTFCODBcXHUxQjgxXFx1MUJBMi1cXHUxQkE1XFx1MUJBOFxcdTFCQTlcXHUxQkFCLVxcdTFCQURcXHUxQkU2XFx1MUJFOFxcdTFCRTlcXHUxQkVEXFx1MUJFRi1cXHUxQkYxXFx1MUMyQy1cXHUxQzMzXFx1MUMzNlxcdTFDMzdcXHUxQ0QwLVxcdTFDRDJcXHUxQ0Q0LVxcdTFDRTBcXHUxQ0UyLVxcdTFDRThcXHUxQ0VEXFx1MUNGNFxcdTFDRjhcXHUxQ0Y5XFx1MURDMC1cXHUxREY5XFx1MURGQi1cXHUxREZGXFx1MjAwQ1xcdTIwRDAtXFx1MjBGMFxcdTJDRUYtXFx1MkNGMVxcdTJEN0ZcXHUyREUwLVxcdTJERkZcXHUzMDJBLVxcdTMwMkZcXHUzMDk5XFx1MzA5QVxcdUE2NkYtXFx1QTY3MlxcdUE2NzQtXFx1QTY3RFxcdUE2OUVcXHVBNjlGXFx1QTZGMFxcdUE2RjFcXHVBODAyXFx1QTgwNlxcdUE4MEJcXHVBODI1XFx1QTgyNlxcdUE4MkNcXHVBOEM0XFx1QThDNVxcdUE4RTAtXFx1QThGMVxcdUE4RkZcXHVBOTI2LVxcdUE5MkRcXHVBOTQ3LVxcdUE5NTFcXHVBOTgwLVxcdUE5ODJcXHVBOUIzXFx1QTlCNi1cXHVBOUI5XFx1QTlCQ1xcdUE5QkRcXHVBOUU1XFx1QUEyOS1cXHVBQTJFXFx1QUEzMVxcdUFBMzJcXHVBQTM1XFx1QUEzNlxcdUFBNDNcXHVBQTRDXFx1QUE3Q1xcdUFBQjBcXHVBQUIyLVxcdUFBQjRcXHVBQUI3XFx1QUFCOFxcdUFBQkVcXHVBQUJGXFx1QUFDMVxcdUFBRUNcXHVBQUVEXFx1QUFGNlxcdUFCRTVcXHVBQkU4XFx1QUJFRFxcdUZCMUVcXHVGRTAwLVxcdUZFMEZcXHVGRTIwLVxcdUZFMkZcXHVGRjlFXFx1RkY5Rl18XFx1RDgwMFtcXHVEREZEXFx1REVFMFxcdURGNzYtXFx1REY3QV18XFx1RDgwMltcXHVERTAxLVxcdURFMDNcXHVERTA1XFx1REUwNlxcdURFMEMtXFx1REUwRlxcdURFMzgtXFx1REUzQVxcdURFM0ZcXHVERUU1XFx1REVFNl18XFx1RDgwM1tcXHVERDI0LVxcdUREMjdcXHVERUFCXFx1REVBQ1xcdURGNDYtXFx1REY1MF18XFx1RDgwNFtcXHVEQzAxXFx1REMzOC1cXHVEQzQ2XFx1REM3Ri1cXHVEQzgxXFx1RENCMy1cXHVEQ0I2XFx1RENCOVxcdURDQkFcXHVERDAwLVxcdUREMDJcXHVERDI3LVxcdUREMkJcXHVERDJELVxcdUREMzRcXHVERDczXFx1REQ4MFxcdUREODFcXHVEREI2LVxcdUREQkVcXHVEREM5LVxcdUREQ0NcXHVERENGXFx1REUyRi1cXHVERTMxXFx1REUzNFxcdURFMzZcXHVERTM3XFx1REUzRVxcdURFREZcXHVERUUzLVxcdURFRUFcXHVERjAwXFx1REYwMVxcdURGM0JcXHVERjNDXFx1REYzRVxcdURGNDBcXHVERjU3XFx1REY2Ni1cXHVERjZDXFx1REY3MC1cXHVERjc0XXxcXHVEODA1W1xcdURDMzgtXFx1REMzRlxcdURDNDItXFx1REM0NFxcdURDNDZcXHVEQzVFXFx1RENCMFxcdURDQjMtXFx1RENCOFxcdURDQkFcXHVEQ0JEXFx1RENCRlxcdURDQzBcXHVEQ0MyXFx1RENDM1xcdUREQUZcXHVEREIyLVxcdUREQjVcXHVEREJDXFx1RERCRFxcdUREQkZcXHVEREMwXFx1REREQ1xcdURERERcXHVERTMzLVxcdURFM0FcXHVERTNEXFx1REUzRlxcdURFNDBcXHVERUFCXFx1REVBRFxcdURFQjAtXFx1REVCNVxcdURFQjdcXHVERjFELVxcdURGMUZcXHVERjIyLVxcdURGMjVcXHVERjI3LVxcdURGMkJdfFxcdUQ4MDZbXFx1REMyRi1cXHVEQzM3XFx1REMzOVxcdURDM0FcXHVERDMwXFx1REQzQlxcdUREM0NcXHVERDNFXFx1REQ0M1xcdURERDQtXFx1REREN1xcdUREREFcXHVERERCXFx1RERFMFxcdURFMDEtXFx1REUwQVxcdURFMzMtXFx1REUzOFxcdURFM0ItXFx1REUzRVxcdURFNDdcXHVERTUxLVxcdURFNTZcXHVERTU5LVxcdURFNUJcXHVERThBLVxcdURFOTZcXHVERTk4XFx1REU5OV18XFx1RDgwN1tcXHVEQzMwLVxcdURDMzZcXHVEQzM4LVxcdURDM0RcXHVEQzNGXFx1REM5Mi1cXHVEQ0E3XFx1RENBQS1cXHVEQ0IwXFx1RENCMlxcdURDQjNcXHVEQ0I1XFx1RENCNlxcdUREMzEtXFx1REQzNlxcdUREM0FcXHVERDNDXFx1REQzRFxcdUREM0YtXFx1REQ0NVxcdURENDdcXHVERDkwXFx1REQ5MVxcdUREOTVcXHVERDk3XFx1REVGM1xcdURFRjRdfFxcdUQ4MUFbXFx1REVGMC1cXHVERUY0XFx1REYzMC1cXHVERjM2XXxcXHVEODFCW1xcdURGNEZcXHVERjhGLVxcdURGOTJcXHVERkU0XXxcXHVEODJGW1xcdURDOURcXHVEQzlFXXxcXHVEODM0W1xcdURENjVcXHVERDY3LVxcdURENjlcXHVERDZFLVxcdURENzJcXHVERDdCLVxcdUREODJcXHVERDg1LVxcdUREOEJcXHVEREFBLVxcdUREQURcXHVERTQyLVxcdURFNDRdfFxcdUQ4MzZbXFx1REUwMC1cXHVERTM2XFx1REUzQi1cXHVERTZDXFx1REU3NVxcdURFODRcXHVERTlCLVxcdURFOUZcXHVERUExLVxcdURFQUZdfFxcdUQ4MzhbXFx1REMwMC1cXHVEQzA2XFx1REMwOC1cXHVEQzE4XFx1REMxQi1cXHVEQzIxXFx1REMyM1xcdURDMjRcXHVEQzI2LVxcdURDMkFcXHVERDMwLVxcdUREMzZcXHVERUVDLVxcdURFRUZdfFxcdUQ4M0FbXFx1RENEMC1cXHVEQ0Q2XFx1REQ0NC1cXHVERDRBXXxcXHVEODNDW1xcdURGRkItXFx1REZGRl18XFx1REI0MFtcXHVEQzIwLVxcdURDN0ZcXHVERDAwLVxcdURERUZdKSQvO1xudmFyIHJlUHJlcGVuZCA9IC9eKD86W1xcdTA2MDAtXFx1MDYwNVxcdTA2RERcXHUwNzBGXFx1MDg5MFxcdTA4OTFcXHUwOEUyXFx1MEQ0RV18XFx1RDgwNFtcXHVEQ0JEXFx1RENDRFxcdUREQzJcXHVEREMzXXxcXHVEODA2W1xcdUREM0ZcXHVERDQxXFx1REUzQVxcdURFODQtXFx1REU4OV18XFx1RDgwN1xcdURENDYpJC87XG52YXIgcmVTcGFjaW5nTWFyayA9IC9eKD86W1xcdTA5MDNcXHUwOTNCXFx1MDkzRS1cXHUwOTQwXFx1MDk0OS1cXHUwOTRDXFx1MDk0RVxcdTA5NEZcXHUwOTgyXFx1MDk4M1xcdTA5QkZcXHUwOUMwXFx1MDlDN1xcdTA5QzhcXHUwOUNCXFx1MDlDQ1xcdTBBMDNcXHUwQTNFLVxcdTBBNDBcXHUwQTgzXFx1MEFCRS1cXHUwQUMwXFx1MEFDOVxcdTBBQ0JcXHUwQUNDXFx1MEIwMlxcdTBCMDNcXHUwQjQwXFx1MEI0N1xcdTBCNDhcXHUwQjRCXFx1MEI0Q1xcdTBCQkZcXHUwQkMxXFx1MEJDMlxcdTBCQzYtXFx1MEJDOFxcdTBCQ0EtXFx1MEJDQ1xcdTBDMDEtXFx1MEMwM1xcdTBDNDEtXFx1MEM0NFxcdTBDODJcXHUwQzgzXFx1MENCRVxcdTBDQzBcXHUwQ0MxXFx1MENDM1xcdTBDQzRcXHUwQ0M3XFx1MENDOFxcdTBDQ0FcXHUwQ0NCXFx1MEQwMlxcdTBEMDNcXHUwRDNGXFx1MEQ0MFxcdTBENDYtXFx1MEQ0OFxcdTBENEEtXFx1MEQ0Q1xcdTBEODJcXHUwRDgzXFx1MEREMFxcdTBERDFcXHUwREQ4LVxcdTBEREVcXHUwREYyXFx1MERGM1xcdTBFMzNcXHUwRUIzXFx1MEYzRVxcdTBGM0ZcXHUwRjdGXFx1MTAzMVxcdTEwM0JcXHUxMDNDXFx1MTA1NlxcdTEwNTdcXHUxMDg0XFx1MTcxNVxcdTE3MzRcXHUxN0I2XFx1MTdCRS1cXHUxN0M1XFx1MTdDN1xcdTE3QzhcXHUxOTIzLVxcdTE5MjZcXHUxOTI5LVxcdTE5MkJcXHUxOTMwXFx1MTkzMVxcdTE5MzMtXFx1MTkzOFxcdTFBMTlcXHUxQTFBXFx1MUE1NVxcdTFBNTdcXHUxQTZELVxcdTFBNzJcXHUxQjA0XFx1MUIzQlxcdTFCM0QtXFx1MUI0MVxcdTFCNDNcXHUxQjQ0XFx1MUI4MlxcdTFCQTFcXHUxQkE2XFx1MUJBN1xcdTFCQUFcXHUxQkU3XFx1MUJFQS1cXHUxQkVDXFx1MUJFRVxcdTFCRjJcXHUxQkYzXFx1MUMyNC1cXHUxQzJCXFx1MUMzNFxcdTFDMzVcXHUxQ0UxXFx1MUNGN1xcdUE4MjNcXHVBODI0XFx1QTgyN1xcdUE4ODBcXHVBODgxXFx1QThCNC1cXHVBOEMzXFx1QTk1MlxcdUE5NTNcXHVBOTgzXFx1QTlCNFxcdUE5QjVcXHVBOUJBXFx1QTlCQlxcdUE5QkUtXFx1QTlDMFxcdUFBMkZcXHVBQTMwXFx1QUEzM1xcdUFBMzRcXHVBQTREXFx1QUFFQlxcdUFBRUVcXHVBQUVGXFx1QUFGNVxcdUFCRTNcXHVBQkU0XFx1QUJFNlxcdUFCRTdcXHVBQkU5XFx1QUJFQVxcdUFCRUNdfFxcdUQ4MDRbXFx1REMwMFxcdURDMDJcXHVEQzgyXFx1RENCMC1cXHVEQ0IyXFx1RENCN1xcdURDQjhcXHVERDJDXFx1REQ0NVxcdURENDZcXHVERDgyXFx1RERCMy1cXHVEREI1XFx1RERCRlxcdUREQzBcXHVERENFXFx1REUyQy1cXHVERTJFXFx1REUzMlxcdURFMzNcXHVERTM1XFx1REVFMC1cXHVERUUyXFx1REYwMlxcdURGMDNcXHVERjNGXFx1REY0MS1cXHVERjQ0XFx1REY0N1xcdURGNDhcXHVERjRCLVxcdURGNERcXHVERjYyXFx1REY2M118XFx1RDgwNVtcXHVEQzM1LVxcdURDMzdcXHVEQzQwXFx1REM0MVxcdURDNDVcXHVEQ0IxXFx1RENCMlxcdURDQjlcXHVEQ0JCXFx1RENCQ1xcdURDQkVcXHVEQ0MxXFx1RERCMFxcdUREQjFcXHVEREI4LVxcdUREQkJcXHVEREJFXFx1REUzMC1cXHVERTMyXFx1REUzQlxcdURFM0NcXHVERTNFXFx1REVBQ1xcdURFQUVcXHVERUFGXFx1REVCNlxcdURGMjZdfFxcdUQ4MDZbXFx1REMyQy1cXHVEQzJFXFx1REMzOFxcdUREMzEtXFx1REQzNVxcdUREMzdcXHVERDM4XFx1REQzRFxcdURENDBcXHVERDQyXFx1REREMS1cXHVEREQzXFx1REREQy1cXHVERERGXFx1RERFNFxcdURFMzlcXHVERTU3XFx1REU1OFxcdURFOTddfFxcdUQ4MDdbXFx1REMyRlxcdURDM0VcXHVEQ0E5XFx1RENCMVxcdURDQjRcXHVERDhBLVxcdUREOEVcXHVERDkzXFx1REQ5NFxcdUREOTZcXHVERUY1XFx1REVGNl18XFx1RDgxQltcXHVERjUxLVxcdURGODdcXHVERkYwXFx1REZGMV18XFx1RDgzNFtcXHVERDY2XFx1REQ2RF0pJC87XG52YXIgcmVMID0gL15bXFx1MTEwMC1cXHUxMTVGXFx1QTk2MC1cXHVBOTdDXSQvO1xudmFyIHJlViA9IC9eW1xcdTExNjAtXFx1MTFBN1xcdUQ3QjAtXFx1RDdDNl0kLztcbnZhciByZVQgPSAvXltcXHUxMUE4LVxcdTExRkZcXHVEN0NCLVxcdUQ3RkJdJC87XG52YXIgcmVMViA9IC9eW1xcdUFDMDBcXHVBQzFDXFx1QUMzOFxcdUFDNTRcXHVBQzcwXFx1QUM4Q1xcdUFDQThcXHVBQ0M0XFx1QUNFMFxcdUFDRkNcXHVBRDE4XFx1QUQzNFxcdUFENTBcXHVBRDZDXFx1QUQ4OFxcdUFEQTRcXHVBREMwXFx1QUREQ1xcdUFERjhcXHVBRTE0XFx1QUUzMFxcdUFFNENcXHVBRTY4XFx1QUU4NFxcdUFFQTBcXHVBRUJDXFx1QUVEOFxcdUFFRjRcXHVBRjEwXFx1QUYyQ1xcdUFGNDhcXHVBRjY0XFx1QUY4MFxcdUFGOUNcXHVBRkI4XFx1QUZENFxcdUFGRjBcXHVCMDBDXFx1QjAyOFxcdUIwNDRcXHVCMDYwXFx1QjA3Q1xcdUIwOThcXHVCMEI0XFx1QjBEMFxcdUIwRUNcXHVCMTA4XFx1QjEyNFxcdUIxNDBcXHVCMTVDXFx1QjE3OFxcdUIxOTRcXHVCMUIwXFx1QjFDQ1xcdUIxRThcXHVCMjA0XFx1QjIyMFxcdUIyM0NcXHVCMjU4XFx1QjI3NFxcdUIyOTBcXHVCMkFDXFx1QjJDOFxcdUIyRTRcXHVCMzAwXFx1QjMxQ1xcdUIzMzhcXHVCMzU0XFx1QjM3MFxcdUIzOENcXHVCM0E4XFx1QjNDNFxcdUIzRTBcXHVCM0ZDXFx1QjQxOFxcdUI0MzRcXHVCNDUwXFx1QjQ2Q1xcdUI0ODhcXHVCNEE0XFx1QjRDMFxcdUI0RENcXHVCNEY4XFx1QjUxNFxcdUI1MzBcXHVCNTRDXFx1QjU2OFxcdUI1ODRcXHVCNUEwXFx1QjVCQ1xcdUI1RDhcXHVCNUY0XFx1QjYxMFxcdUI2MkNcXHVCNjQ4XFx1QjY2NFxcdUI2ODBcXHVCNjlDXFx1QjZCOFxcdUI2RDRcXHVCNkYwXFx1QjcwQ1xcdUI3MjhcXHVCNzQ0XFx1Qjc2MFxcdUI3N0NcXHVCNzk4XFx1QjdCNFxcdUI3RDBcXHVCN0VDXFx1QjgwOFxcdUI4MjRcXHVCODQwXFx1Qjg1Q1xcdUI4NzhcXHVCODk0XFx1QjhCMFxcdUI4Q0NcXHVCOEU4XFx1QjkwNFxcdUI5MjBcXHVCOTNDXFx1Qjk1OFxcdUI5NzRcXHVCOTkwXFx1QjlBQ1xcdUI5QzhcXHVCOUU0XFx1QkEwMFxcdUJBMUNcXHVCQTM4XFx1QkE1NFxcdUJBNzBcXHVCQThDXFx1QkFBOFxcdUJBQzRcXHVCQUUwXFx1QkFGQ1xcdUJCMThcXHVCQjM0XFx1QkI1MFxcdUJCNkNcXHVCQjg4XFx1QkJBNFxcdUJCQzBcXHVCQkRDXFx1QkJGOFxcdUJDMTRcXHVCQzMwXFx1QkM0Q1xcdUJDNjhcXHVCQzg0XFx1QkNBMFxcdUJDQkNcXHVCQ0Q4XFx1QkNGNFxcdUJEMTBcXHVCRDJDXFx1QkQ0OFxcdUJENjRcXHVCRDgwXFx1QkQ5Q1xcdUJEQjhcXHVCREQ0XFx1QkRGMFxcdUJFMENcXHVCRTI4XFx1QkU0NFxcdUJFNjBcXHVCRTdDXFx1QkU5OFxcdUJFQjRcXHVCRUQwXFx1QkVFQ1xcdUJGMDhcXHVCRjI0XFx1QkY0MFxcdUJGNUNcXHVCRjc4XFx1QkY5NFxcdUJGQjBcXHVCRkNDXFx1QkZFOFxcdUMwMDRcXHVDMDIwXFx1QzAzQ1xcdUMwNThcXHVDMDc0XFx1QzA5MFxcdUMwQUNcXHVDMEM4XFx1QzBFNFxcdUMxMDBcXHVDMTFDXFx1QzEzOFxcdUMxNTRcXHVDMTcwXFx1QzE4Q1xcdUMxQThcXHVDMUM0XFx1QzFFMFxcdUMxRkNcXHVDMjE4XFx1QzIzNFxcdUMyNTBcXHVDMjZDXFx1QzI4OFxcdUMyQTRcXHVDMkMwXFx1QzJEQ1xcdUMyRjhcXHVDMzE0XFx1QzMzMFxcdUMzNENcXHVDMzY4XFx1QzM4NFxcdUMzQTBcXHVDM0JDXFx1QzNEOFxcdUMzRjRcXHVDNDEwXFx1QzQyQ1xcdUM0NDhcXHVDNDY0XFx1QzQ4MFxcdUM0OUNcXHVDNEI4XFx1QzRENFxcdUM0RjBcXHVDNTBDXFx1QzUyOFxcdUM1NDRcXHVDNTYwXFx1QzU3Q1xcdUM1OThcXHVDNUI0XFx1QzVEMFxcdUM1RUNcXHVDNjA4XFx1QzYyNFxcdUM2NDBcXHVDNjVDXFx1QzY3OFxcdUM2OTRcXHVDNkIwXFx1QzZDQ1xcdUM2RThcXHVDNzA0XFx1QzcyMFxcdUM3M0NcXHVDNzU4XFx1Qzc3NFxcdUM3OTBcXHVDN0FDXFx1QzdDOFxcdUM3RTRcXHVDODAwXFx1QzgxQ1xcdUM4MzhcXHVDODU0XFx1Qzg3MFxcdUM4OENcXHVDOEE4XFx1QzhDNFxcdUM4RTBcXHVDOEZDXFx1QzkxOFxcdUM5MzRcXHVDOTUwXFx1Qzk2Q1xcdUM5ODhcXHVDOUE0XFx1QzlDMFxcdUM5RENcXHVDOUY4XFx1Q0ExNFxcdUNBMzBcXHVDQTRDXFx1Q0E2OFxcdUNBODRcXHVDQUEwXFx1Q0FCQ1xcdUNBRDhcXHVDQUY0XFx1Q0IxMFxcdUNCMkNcXHVDQjQ4XFx1Q0I2NFxcdUNCODBcXHVDQjlDXFx1Q0JCOFxcdUNCRDRcXHVDQkYwXFx1Q0MwQ1xcdUNDMjhcXHVDQzQ0XFx1Q0M2MFxcdUNDN0NcXHVDQzk4XFx1Q0NCNFxcdUNDRDBcXHVDQ0VDXFx1Q0QwOFxcdUNEMjRcXHVDRDQwXFx1Q0Q1Q1xcdUNENzhcXHVDRDk0XFx1Q0RCMFxcdUNEQ0NcXHVDREU4XFx1Q0UwNFxcdUNFMjBcXHVDRTNDXFx1Q0U1OFxcdUNFNzRcXHVDRTkwXFx1Q0VBQ1xcdUNFQzhcXHVDRUU0XFx1Q0YwMFxcdUNGMUNcXHVDRjM4XFx1Q0Y1NFxcdUNGNzBcXHVDRjhDXFx1Q0ZBOFxcdUNGQzRcXHVDRkUwXFx1Q0ZGQ1xcdUQwMThcXHVEMDM0XFx1RDA1MFxcdUQwNkNcXHVEMDg4XFx1RDBBNFxcdUQwQzBcXHVEMERDXFx1RDBGOFxcdUQxMTRcXHVEMTMwXFx1RDE0Q1xcdUQxNjhcXHVEMTg0XFx1RDFBMFxcdUQxQkNcXHVEMUQ4XFx1RDFGNFxcdUQyMTBcXHVEMjJDXFx1RDI0OFxcdUQyNjRcXHVEMjgwXFx1RDI5Q1xcdUQyQjhcXHVEMkQ0XFx1RDJGMFxcdUQzMENcXHVEMzI4XFx1RDM0NFxcdUQzNjBcXHVEMzdDXFx1RDM5OFxcdUQzQjRcXHVEM0QwXFx1RDNFQ1xcdUQ0MDhcXHVENDI0XFx1RDQ0MFxcdUQ0NUNcXHVENDc4XFx1RDQ5NFxcdUQ0QjBcXHVENENDXFx1RDRFOFxcdUQ1MDRcXHVENTIwXFx1RDUzQ1xcdUQ1NThcXHVENTc0XFx1RDU5MFxcdUQ1QUNcXHVENUM4XFx1RDVFNFxcdUQ2MDBcXHVENjFDXFx1RDYzOFxcdUQ2NTRcXHVENjcwXFx1RDY4Q1xcdUQ2QThcXHVENkM0XFx1RDZFMFxcdUQ2RkNcXHVENzE4XFx1RDczNFxcdUQ3NTBcXHVENzZDXFx1RDc4OF0kLztcbnZhciByZUxWVCA9IC9eW1xcdUFDMDEtXFx1QUMxQlxcdUFDMUQtXFx1QUMzN1xcdUFDMzktXFx1QUM1M1xcdUFDNTUtXFx1QUM2RlxcdUFDNzEtXFx1QUM4QlxcdUFDOEQtXFx1QUNBN1xcdUFDQTktXFx1QUNDM1xcdUFDQzUtXFx1QUNERlxcdUFDRTEtXFx1QUNGQlxcdUFDRkQtXFx1QUQxN1xcdUFEMTktXFx1QUQzM1xcdUFEMzUtXFx1QUQ0RlxcdUFENTEtXFx1QUQ2QlxcdUFENkQtXFx1QUQ4N1xcdUFEODktXFx1QURBM1xcdUFEQTUtXFx1QURCRlxcdUFEQzEtXFx1QUREQlxcdUFEREQtXFx1QURGN1xcdUFERjktXFx1QUUxM1xcdUFFMTUtXFx1QUUyRlxcdUFFMzEtXFx1QUU0QlxcdUFFNEQtXFx1QUU2N1xcdUFFNjktXFx1QUU4M1xcdUFFODUtXFx1QUU5RlxcdUFFQTEtXFx1QUVCQlxcdUFFQkQtXFx1QUVEN1xcdUFFRDktXFx1QUVGM1xcdUFFRjUtXFx1QUYwRlxcdUFGMTEtXFx1QUYyQlxcdUFGMkQtXFx1QUY0N1xcdUFGNDktXFx1QUY2M1xcdUFGNjUtXFx1QUY3RlxcdUFGODEtXFx1QUY5QlxcdUFGOUQtXFx1QUZCN1xcdUFGQjktXFx1QUZEM1xcdUFGRDUtXFx1QUZFRlxcdUFGRjEtXFx1QjAwQlxcdUIwMEQtXFx1QjAyN1xcdUIwMjktXFx1QjA0M1xcdUIwNDUtXFx1QjA1RlxcdUIwNjEtXFx1QjA3QlxcdUIwN0QtXFx1QjA5N1xcdUIwOTktXFx1QjBCM1xcdUIwQjUtXFx1QjBDRlxcdUIwRDEtXFx1QjBFQlxcdUIwRUQtXFx1QjEwN1xcdUIxMDktXFx1QjEyM1xcdUIxMjUtXFx1QjEzRlxcdUIxNDEtXFx1QjE1QlxcdUIxNUQtXFx1QjE3N1xcdUIxNzktXFx1QjE5M1xcdUIxOTUtXFx1QjFBRlxcdUIxQjEtXFx1QjFDQlxcdUIxQ0QtXFx1QjFFN1xcdUIxRTktXFx1QjIwM1xcdUIyMDUtXFx1QjIxRlxcdUIyMjEtXFx1QjIzQlxcdUIyM0QtXFx1QjI1N1xcdUIyNTktXFx1QjI3M1xcdUIyNzUtXFx1QjI4RlxcdUIyOTEtXFx1QjJBQlxcdUIyQUQtXFx1QjJDN1xcdUIyQzktXFx1QjJFM1xcdUIyRTUtXFx1QjJGRlxcdUIzMDEtXFx1QjMxQlxcdUIzMUQtXFx1QjMzN1xcdUIzMzktXFx1QjM1M1xcdUIzNTUtXFx1QjM2RlxcdUIzNzEtXFx1QjM4QlxcdUIzOEQtXFx1QjNBN1xcdUIzQTktXFx1QjNDM1xcdUIzQzUtXFx1QjNERlxcdUIzRTEtXFx1QjNGQlxcdUIzRkQtXFx1QjQxN1xcdUI0MTktXFx1QjQzM1xcdUI0MzUtXFx1QjQ0RlxcdUI0NTEtXFx1QjQ2QlxcdUI0NkQtXFx1QjQ4N1xcdUI0ODktXFx1QjRBM1xcdUI0QTUtXFx1QjRCRlxcdUI0QzEtXFx1QjREQlxcdUI0REQtXFx1QjRGN1xcdUI0RjktXFx1QjUxM1xcdUI1MTUtXFx1QjUyRlxcdUI1MzEtXFx1QjU0QlxcdUI1NEQtXFx1QjU2N1xcdUI1NjktXFx1QjU4M1xcdUI1ODUtXFx1QjU5RlxcdUI1QTEtXFx1QjVCQlxcdUI1QkQtXFx1QjVEN1xcdUI1RDktXFx1QjVGM1xcdUI1RjUtXFx1QjYwRlxcdUI2MTEtXFx1QjYyQlxcdUI2MkQtXFx1QjY0N1xcdUI2NDktXFx1QjY2M1xcdUI2NjUtXFx1QjY3RlxcdUI2ODEtXFx1QjY5QlxcdUI2OUQtXFx1QjZCN1xcdUI2QjktXFx1QjZEM1xcdUI2RDUtXFx1QjZFRlxcdUI2RjEtXFx1QjcwQlxcdUI3MEQtXFx1QjcyN1xcdUI3MjktXFx1Qjc0M1xcdUI3NDUtXFx1Qjc1RlxcdUI3NjEtXFx1Qjc3QlxcdUI3N0QtXFx1Qjc5N1xcdUI3OTktXFx1QjdCM1xcdUI3QjUtXFx1QjdDRlxcdUI3RDEtXFx1QjdFQlxcdUI3RUQtXFx1QjgwN1xcdUI4MDktXFx1QjgyM1xcdUI4MjUtXFx1QjgzRlxcdUI4NDEtXFx1Qjg1QlxcdUI4NUQtXFx1Qjg3N1xcdUI4NzktXFx1Qjg5M1xcdUI4OTUtXFx1QjhBRlxcdUI4QjEtXFx1QjhDQlxcdUI4Q0QtXFx1QjhFN1xcdUI4RTktXFx1QjkwM1xcdUI5MDUtXFx1QjkxRlxcdUI5MjEtXFx1QjkzQlxcdUI5M0QtXFx1Qjk1N1xcdUI5NTktXFx1Qjk3M1xcdUI5NzUtXFx1Qjk4RlxcdUI5OTEtXFx1QjlBQlxcdUI5QUQtXFx1QjlDN1xcdUI5QzktXFx1QjlFM1xcdUI5RTUtXFx1QjlGRlxcdUJBMDEtXFx1QkExQlxcdUJBMUQtXFx1QkEzN1xcdUJBMzktXFx1QkE1M1xcdUJBNTUtXFx1QkE2RlxcdUJBNzEtXFx1QkE4QlxcdUJBOEQtXFx1QkFBN1xcdUJBQTktXFx1QkFDM1xcdUJBQzUtXFx1QkFERlxcdUJBRTEtXFx1QkFGQlxcdUJBRkQtXFx1QkIxN1xcdUJCMTktXFx1QkIzM1xcdUJCMzUtXFx1QkI0RlxcdUJCNTEtXFx1QkI2QlxcdUJCNkQtXFx1QkI4N1xcdUJCODktXFx1QkJBM1xcdUJCQTUtXFx1QkJCRlxcdUJCQzEtXFx1QkJEQlxcdUJCREQtXFx1QkJGN1xcdUJCRjktXFx1QkMxM1xcdUJDMTUtXFx1QkMyRlxcdUJDMzEtXFx1QkM0QlxcdUJDNEQtXFx1QkM2N1xcdUJDNjktXFx1QkM4M1xcdUJDODUtXFx1QkM5RlxcdUJDQTEtXFx1QkNCQlxcdUJDQkQtXFx1QkNEN1xcdUJDRDktXFx1QkNGM1xcdUJDRjUtXFx1QkQwRlxcdUJEMTEtXFx1QkQyQlxcdUJEMkQtXFx1QkQ0N1xcdUJENDktXFx1QkQ2M1xcdUJENjUtXFx1QkQ3RlxcdUJEODEtXFx1QkQ5QlxcdUJEOUQtXFx1QkRCN1xcdUJEQjktXFx1QkREM1xcdUJERDUtXFx1QkRFRlxcdUJERjEtXFx1QkUwQlxcdUJFMEQtXFx1QkUyN1xcdUJFMjktXFx1QkU0M1xcdUJFNDUtXFx1QkU1RlxcdUJFNjEtXFx1QkU3QlxcdUJFN0QtXFx1QkU5N1xcdUJFOTktXFx1QkVCM1xcdUJFQjUtXFx1QkVDRlxcdUJFRDEtXFx1QkVFQlxcdUJFRUQtXFx1QkYwN1xcdUJGMDktXFx1QkYyM1xcdUJGMjUtXFx1QkYzRlxcdUJGNDEtXFx1QkY1QlxcdUJGNUQtXFx1QkY3N1xcdUJGNzktXFx1QkY5M1xcdUJGOTUtXFx1QkZBRlxcdUJGQjEtXFx1QkZDQlxcdUJGQ0QtXFx1QkZFN1xcdUJGRTktXFx1QzAwM1xcdUMwMDUtXFx1QzAxRlxcdUMwMjEtXFx1QzAzQlxcdUMwM0QtXFx1QzA1N1xcdUMwNTktXFx1QzA3M1xcdUMwNzUtXFx1QzA4RlxcdUMwOTEtXFx1QzBBQlxcdUMwQUQtXFx1QzBDN1xcdUMwQzktXFx1QzBFM1xcdUMwRTUtXFx1QzBGRlxcdUMxMDEtXFx1QzExQlxcdUMxMUQtXFx1QzEzN1xcdUMxMzktXFx1QzE1M1xcdUMxNTUtXFx1QzE2RlxcdUMxNzEtXFx1QzE4QlxcdUMxOEQtXFx1QzFBN1xcdUMxQTktXFx1QzFDM1xcdUMxQzUtXFx1QzFERlxcdUMxRTEtXFx1QzFGQlxcdUMxRkQtXFx1QzIxN1xcdUMyMTktXFx1QzIzM1xcdUMyMzUtXFx1QzI0RlxcdUMyNTEtXFx1QzI2QlxcdUMyNkQtXFx1QzI4N1xcdUMyODktXFx1QzJBM1xcdUMyQTUtXFx1QzJCRlxcdUMyQzEtXFx1QzJEQlxcdUMyREQtXFx1QzJGN1xcdUMyRjktXFx1QzMxM1xcdUMzMTUtXFx1QzMyRlxcdUMzMzEtXFx1QzM0QlxcdUMzNEQtXFx1QzM2N1xcdUMzNjktXFx1QzM4M1xcdUMzODUtXFx1QzM5RlxcdUMzQTEtXFx1QzNCQlxcdUMzQkQtXFx1QzNEN1xcdUMzRDktXFx1QzNGM1xcdUMzRjUtXFx1QzQwRlxcdUM0MTEtXFx1QzQyQlxcdUM0MkQtXFx1QzQ0N1xcdUM0NDktXFx1QzQ2M1xcdUM0NjUtXFx1QzQ3RlxcdUM0ODEtXFx1QzQ5QlxcdUM0OUQtXFx1QzRCN1xcdUM0QjktXFx1QzREM1xcdUM0RDUtXFx1QzRFRlxcdUM0RjEtXFx1QzUwQlxcdUM1MEQtXFx1QzUyN1xcdUM1MjktXFx1QzU0M1xcdUM1NDUtXFx1QzU1RlxcdUM1NjEtXFx1QzU3QlxcdUM1N0QtXFx1QzU5N1xcdUM1OTktXFx1QzVCM1xcdUM1QjUtXFx1QzVDRlxcdUM1RDEtXFx1QzVFQlxcdUM1RUQtXFx1QzYwN1xcdUM2MDktXFx1QzYyM1xcdUM2MjUtXFx1QzYzRlxcdUM2NDEtXFx1QzY1QlxcdUM2NUQtXFx1QzY3N1xcdUM2NzktXFx1QzY5M1xcdUM2OTUtXFx1QzZBRlxcdUM2QjEtXFx1QzZDQlxcdUM2Q0QtXFx1QzZFN1xcdUM2RTktXFx1QzcwM1xcdUM3MDUtXFx1QzcxRlxcdUM3MjEtXFx1QzczQlxcdUM3M0QtXFx1Qzc1N1xcdUM3NTktXFx1Qzc3M1xcdUM3NzUtXFx1Qzc4RlxcdUM3OTEtXFx1QzdBQlxcdUM3QUQtXFx1QzdDN1xcdUM3QzktXFx1QzdFM1xcdUM3RTUtXFx1QzdGRlxcdUM4MDEtXFx1QzgxQlxcdUM4MUQtXFx1QzgzN1xcdUM4MzktXFx1Qzg1M1xcdUM4NTUtXFx1Qzg2RlxcdUM4NzEtXFx1Qzg4QlxcdUM4OEQtXFx1QzhBN1xcdUM4QTktXFx1QzhDM1xcdUM4QzUtXFx1QzhERlxcdUM4RTEtXFx1QzhGQlxcdUM4RkQtXFx1QzkxN1xcdUM5MTktXFx1QzkzM1xcdUM5MzUtXFx1Qzk0RlxcdUM5NTEtXFx1Qzk2QlxcdUM5NkQtXFx1Qzk4N1xcdUM5ODktXFx1QzlBM1xcdUM5QTUtXFx1QzlCRlxcdUM5QzEtXFx1QzlEQlxcdUM5REQtXFx1QzlGN1xcdUM5RjktXFx1Q0ExM1xcdUNBMTUtXFx1Q0EyRlxcdUNBMzEtXFx1Q0E0QlxcdUNBNEQtXFx1Q0E2N1xcdUNBNjktXFx1Q0E4M1xcdUNBODUtXFx1Q0E5RlxcdUNBQTEtXFx1Q0FCQlxcdUNBQkQtXFx1Q0FEN1xcdUNBRDktXFx1Q0FGM1xcdUNBRjUtXFx1Q0IwRlxcdUNCMTEtXFx1Q0IyQlxcdUNCMkQtXFx1Q0I0N1xcdUNCNDktXFx1Q0I2M1xcdUNCNjUtXFx1Q0I3RlxcdUNCODEtXFx1Q0I5QlxcdUNCOUQtXFx1Q0JCN1xcdUNCQjktXFx1Q0JEM1xcdUNCRDUtXFx1Q0JFRlxcdUNCRjEtXFx1Q0MwQlxcdUNDMEQtXFx1Q0MyN1xcdUNDMjktXFx1Q0M0M1xcdUNDNDUtXFx1Q0M1RlxcdUNDNjEtXFx1Q0M3QlxcdUNDN0QtXFx1Q0M5N1xcdUNDOTktXFx1Q0NCM1xcdUNDQjUtXFx1Q0NDRlxcdUNDRDEtXFx1Q0NFQlxcdUNDRUQtXFx1Q0QwN1xcdUNEMDktXFx1Q0QyM1xcdUNEMjUtXFx1Q0QzRlxcdUNENDEtXFx1Q0Q1QlxcdUNENUQtXFx1Q0Q3N1xcdUNENzktXFx1Q0Q5M1xcdUNEOTUtXFx1Q0RBRlxcdUNEQjEtXFx1Q0RDQlxcdUNEQ0QtXFx1Q0RFN1xcdUNERTktXFx1Q0UwM1xcdUNFMDUtXFx1Q0UxRlxcdUNFMjEtXFx1Q0UzQlxcdUNFM0QtXFx1Q0U1N1xcdUNFNTktXFx1Q0U3M1xcdUNFNzUtXFx1Q0U4RlxcdUNFOTEtXFx1Q0VBQlxcdUNFQUQtXFx1Q0VDN1xcdUNFQzktXFx1Q0VFM1xcdUNFRTUtXFx1Q0VGRlxcdUNGMDEtXFx1Q0YxQlxcdUNGMUQtXFx1Q0YzN1xcdUNGMzktXFx1Q0Y1M1xcdUNGNTUtXFx1Q0Y2RlxcdUNGNzEtXFx1Q0Y4QlxcdUNGOEQtXFx1Q0ZBN1xcdUNGQTktXFx1Q0ZDM1xcdUNGQzUtXFx1Q0ZERlxcdUNGRTEtXFx1Q0ZGQlxcdUNGRkQtXFx1RDAxN1xcdUQwMTktXFx1RDAzM1xcdUQwMzUtXFx1RDA0RlxcdUQwNTEtXFx1RDA2QlxcdUQwNkQtXFx1RDA4N1xcdUQwODktXFx1RDBBM1xcdUQwQTUtXFx1RDBCRlxcdUQwQzEtXFx1RDBEQlxcdUQwREQtXFx1RDBGN1xcdUQwRjktXFx1RDExM1xcdUQxMTUtXFx1RDEyRlxcdUQxMzEtXFx1RDE0QlxcdUQxNEQtXFx1RDE2N1xcdUQxNjktXFx1RDE4M1xcdUQxODUtXFx1RDE5RlxcdUQxQTEtXFx1RDFCQlxcdUQxQkQtXFx1RDFEN1xcdUQxRDktXFx1RDFGM1xcdUQxRjUtXFx1RDIwRlxcdUQyMTEtXFx1RDIyQlxcdUQyMkQtXFx1RDI0N1xcdUQyNDktXFx1RDI2M1xcdUQyNjUtXFx1RDI3RlxcdUQyODEtXFx1RDI5QlxcdUQyOUQtXFx1RDJCN1xcdUQyQjktXFx1RDJEM1xcdUQyRDUtXFx1RDJFRlxcdUQyRjEtXFx1RDMwQlxcdUQzMEQtXFx1RDMyN1xcdUQzMjktXFx1RDM0M1xcdUQzNDUtXFx1RDM1RlxcdUQzNjEtXFx1RDM3QlxcdUQzN0QtXFx1RDM5N1xcdUQzOTktXFx1RDNCM1xcdUQzQjUtXFx1RDNDRlxcdUQzRDEtXFx1RDNFQlxcdUQzRUQtXFx1RDQwN1xcdUQ0MDktXFx1RDQyM1xcdUQ0MjUtXFx1RDQzRlxcdUQ0NDEtXFx1RDQ1QlxcdUQ0NUQtXFx1RDQ3N1xcdUQ0NzktXFx1RDQ5M1xcdUQ0OTUtXFx1RDRBRlxcdUQ0QjEtXFx1RDRDQlxcdUQ0Q0QtXFx1RDRFN1xcdUQ0RTktXFx1RDUwM1xcdUQ1MDUtXFx1RDUxRlxcdUQ1MjEtXFx1RDUzQlxcdUQ1M0QtXFx1RDU1N1xcdUQ1NTktXFx1RDU3M1xcdUQ1NzUtXFx1RDU4RlxcdUQ1OTEtXFx1RDVBQlxcdUQ1QUQtXFx1RDVDN1xcdUQ1QzktXFx1RDVFM1xcdUQ1RTUtXFx1RDVGRlxcdUQ2MDEtXFx1RDYxQlxcdUQ2MUQtXFx1RDYzN1xcdUQ2MzktXFx1RDY1M1xcdUQ2NTUtXFx1RDY2RlxcdUQ2NzEtXFx1RDY4QlxcdUQ2OEQtXFx1RDZBN1xcdUQ2QTktXFx1RDZDM1xcdUQ2QzUtXFx1RDZERlxcdUQ2RTEtXFx1RDZGQlxcdUQ2RkQtXFx1RDcxN1xcdUQ3MTktXFx1RDczM1xcdUQ3MzUtXFx1RDc0RlxcdUQ3NTEtXFx1RDc2QlxcdUQ3NkQtXFx1RDc4N1xcdUQ3ODktXFx1RDdBM10kLztcbnZhciByZUV4dFBpY3QgPSAvXig/OltcXHhBOVxceEFFXFx1MjAzQ1xcdTIwNDlcXHUyMTIyXFx1MjEzOVxcdTIxOTQtXFx1MjE5OVxcdTIxQTlcXHUyMUFBXFx1MjMxQVxcdTIzMUJcXHUyMzI4XFx1MjM4OFxcdTIzQ0ZcXHUyM0U5LVxcdTIzRjNcXHUyM0Y4LVxcdTIzRkFcXHUyNEMyXFx1MjVBQVxcdTI1QUJcXHUyNUI2XFx1MjVDMFxcdTI1RkItXFx1MjVGRVxcdTI2MDAtXFx1MjYwNVxcdTI2MDctXFx1MjYxMlxcdTI2MTQtXFx1MjY4NVxcdTI2OTAtXFx1MjcwNVxcdTI3MDgtXFx1MjcxMlxcdTI3MTRcXHUyNzE2XFx1MjcxRFxcdTI3MjFcXHUyNzI4XFx1MjczM1xcdTI3MzRcXHUyNzQ0XFx1Mjc0N1xcdTI3NENcXHUyNzRFXFx1Mjc1My1cXHUyNzU1XFx1Mjc1N1xcdTI3NjMtXFx1Mjc2N1xcdTI3OTUtXFx1Mjc5N1xcdTI3QTFcXHUyN0IwXFx1MjdCRlxcdTI5MzRcXHUyOTM1XFx1MkIwNS1cXHUyQjA3XFx1MkIxQlxcdTJCMUNcXHUyQjUwXFx1MkI1NVxcdTMwMzBcXHUzMDNEXFx1MzI5N1xcdTMyOTldfFxcdUQ4M0NbXFx1REMwMC1cXHVEQ0ZGXFx1REQwRC1cXHVERDBGXFx1REQyRlxcdURENkMtXFx1REQ3MVxcdUREN0VcXHVERDdGXFx1REQ4RVxcdUREOTEtXFx1REQ5QVxcdUREQUQtXFx1RERFNVxcdURFMDEtXFx1REUwRlxcdURFMUFcXHVERTJGXFx1REUzMi1cXHVERTNBXFx1REUzQy1cXHVERTNGXFx1REU0OS1cXHVERkZBXXxcXHVEODNEW1xcdURDMDAtXFx1REQzRFxcdURENDYtXFx1REU0RlxcdURFODAtXFx1REVGRlxcdURGNzQtXFx1REY3RlxcdURGRDUtXFx1REZGRl18XFx1RDgzRVtcXHVEQzBDLVxcdURDMEZcXHVEQzQ4LVxcdURDNEZcXHVEQzVBLVxcdURDNUZcXHVEQzg4LVxcdURDOEZcXHVEQ0FFLVxcdURDRkZcXHVERDBDLVxcdUREM0FcXHVERDNDLVxcdURENDVcXHVERDQ3LVxcdURFRkZdfFxcdUQ4M0ZbXFx1REMwMC1cXHVERkZEXSkkLztcblxudmFyIGdldENvZGVwb2ludFR5cGUgPSAoY2hhciwgY29kZSkgPT4ge1xuICB2YXIgdHlwZSA9IENvZGVwb2ludFR5cGUuQW55O1xuXG4gIGlmIChjaGFyLnNlYXJjaChyZUV4dGVuZCkgIT09IC0xKSB7XG4gICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLkV4dGVuZDtcbiAgfVxuXG4gIGlmIChjb2RlID09PSAweDIwMGQpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuWldKO1xuICB9XG5cbiAgaWYgKGNvZGUgPj0gMHgxZjFlNiAmJiBjb2RlIDw9IDB4MWYxZmYpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuUkk7XG4gIH1cblxuICBpZiAoY2hhci5zZWFyY2gocmVQcmVwZW5kKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuUHJlcGVuZDtcbiAgfVxuXG4gIGlmIChjaGFyLnNlYXJjaChyZVNwYWNpbmdNYXJrKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuU3BhY2luZ01hcms7XG4gIH1cblxuICBpZiAoY2hhci5zZWFyY2gocmVMKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuTDtcbiAgfVxuXG4gIGlmIChjaGFyLnNlYXJjaChyZVYpICE9PSAtMSkge1xuICAgIHR5cGUgfD0gQ29kZXBvaW50VHlwZS5WO1xuICB9XG5cbiAgaWYgKGNoYXIuc2VhcmNoKHJlVCkgIT09IC0xKSB7XG4gICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLlQ7XG4gIH1cblxuICBpZiAoY2hhci5zZWFyY2gocmVMVikgIT09IC0xKSB7XG4gICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLkxWO1xuICB9XG5cbiAgaWYgKGNoYXIuc2VhcmNoKHJlTFZUKSAhPT0gLTEpIHtcbiAgICB0eXBlIHw9IENvZGVwb2ludFR5cGUuTFZUO1xuICB9XG5cbiAgaWYgKGNoYXIuc2VhcmNoKHJlRXh0UGljdCkgIT09IC0xKSB7XG4gICAgdHlwZSB8PSBDb2RlcG9pbnRUeXBlLkV4dFBpY3Q7XG4gIH1cblxuICByZXR1cm4gdHlwZTtcbn07XG5cbmZ1bmN0aW9uIGludGVyc2VjdHMoeCwgeSkge1xuICByZXR1cm4gKHggJiB5KSAhPT0gMDtcbn1cblxudmFyIE5vbkJvdW5kYXJ5UGFpcnMgPSBbLy8gR0I2XG5bQ29kZXBvaW50VHlwZS5MLCBDb2RlcG9pbnRUeXBlLkwgfCBDb2RlcG9pbnRUeXBlLlYgfCBDb2RlcG9pbnRUeXBlLkxWIHwgQ29kZXBvaW50VHlwZS5MVlRdLCAvLyBHQjdcbltDb2RlcG9pbnRUeXBlLkxWIHwgQ29kZXBvaW50VHlwZS5WLCBDb2RlcG9pbnRUeXBlLlYgfCBDb2RlcG9pbnRUeXBlLlRdLCAvLyBHQjhcbltDb2RlcG9pbnRUeXBlLkxWVCB8IENvZGVwb2ludFR5cGUuVCwgQ29kZXBvaW50VHlwZS5UXSwgLy8gR0I5XG5bQ29kZXBvaW50VHlwZS5BbnksIENvZGVwb2ludFR5cGUuRXh0ZW5kIHwgQ29kZXBvaW50VHlwZS5aV0pdLCAvLyBHQjlhXG5bQ29kZXBvaW50VHlwZS5BbnksIENvZGVwb2ludFR5cGUuU3BhY2luZ01hcmtdLCAvLyBHQjliXG5bQ29kZXBvaW50VHlwZS5QcmVwZW5kLCBDb2RlcG9pbnRUeXBlLkFueV0sIC8vIEdCMTFcbltDb2RlcG9pbnRUeXBlLlpXSiwgQ29kZXBvaW50VHlwZS5FeHRQaWN0XSwgLy8gR0IxMiBhbmQgR0IxM1xuW0NvZGVwb2ludFR5cGUuUkksIENvZGVwb2ludFR5cGUuUkldXTtcblxuZnVuY3Rpb24gaXNCb3VuZGFyeVBhaXIobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIE5vbkJvdW5kYXJ5UGFpcnMuZmluZEluZGV4KHIgPT4gaW50ZXJzZWN0cyhsZWZ0LCByWzBdKSAmJiBpbnRlcnNlY3RzKHJpZ2h0LCByWzFdKSkgPT09IC0xO1xufVxuXG52YXIgZW5kaW5nRW1vamlaV0ogPSAvKD86W1xceEE5XFx4QUVcXHUyMDNDXFx1MjA0OVxcdTIxMjJcXHUyMTM5XFx1MjE5NC1cXHUyMTk5XFx1MjFBOVxcdTIxQUFcXHUyMzFBXFx1MjMxQlxcdTIzMjhcXHUyMzg4XFx1MjNDRlxcdTIzRTktXFx1MjNGM1xcdTIzRjgtXFx1MjNGQVxcdTI0QzJcXHUyNUFBXFx1MjVBQlxcdTI1QjZcXHUyNUMwXFx1MjVGQi1cXHUyNUZFXFx1MjYwMC1cXHUyNjA1XFx1MjYwNy1cXHUyNjEyXFx1MjYxNC1cXHUyNjg1XFx1MjY5MC1cXHUyNzA1XFx1MjcwOC1cXHUyNzEyXFx1MjcxNFxcdTI3MTZcXHUyNzFEXFx1MjcyMVxcdTI3MjhcXHUyNzMzXFx1MjczNFxcdTI3NDRcXHUyNzQ3XFx1Mjc0Q1xcdTI3NEVcXHUyNzUzLVxcdTI3NTVcXHUyNzU3XFx1Mjc2My1cXHUyNzY3XFx1Mjc5NS1cXHUyNzk3XFx1MjdBMVxcdTI3QjBcXHUyN0JGXFx1MjkzNFxcdTI5MzVcXHUyQjA1LVxcdTJCMDdcXHUyQjFCXFx1MkIxQ1xcdTJCNTBcXHUyQjU1XFx1MzAzMFxcdTMwM0RcXHUzMjk3XFx1MzI5OV18XFx1RDgzQ1tcXHVEQzAwLVxcdURDRkZcXHVERDBELVxcdUREMEZcXHVERDJGXFx1REQ2Qy1cXHVERDcxXFx1REQ3RVxcdUREN0ZcXHVERDhFXFx1REQ5MS1cXHVERDlBXFx1RERBRC1cXHVEREU1XFx1REUwMS1cXHVERTBGXFx1REUxQVxcdURFMkZcXHVERTMyLVxcdURFM0FcXHVERTNDLVxcdURFM0ZcXHVERTQ5LVxcdURGRkFdfFxcdUQ4M0RbXFx1REMwMC1cXHVERDNEXFx1REQ0Ni1cXHVERTRGXFx1REU4MC1cXHVERUZGXFx1REY3NC1cXHVERjdGXFx1REZENS1cXHVERkZGXXxcXHVEODNFW1xcdURDMEMtXFx1REMwRlxcdURDNDgtXFx1REM0RlxcdURDNUEtXFx1REM1RlxcdURDODgtXFx1REM4RlxcdURDQUUtXFx1RENGRlxcdUREMEMtXFx1REQzQVxcdUREM0MtXFx1REQ0NVxcdURENDctXFx1REVGRl18XFx1RDgzRltcXHVEQzAwLVxcdURGRkRdKSg/OltcXHUwMzAwLVxcdTAzNkZcXHUwNDgzLVxcdTA0ODlcXHUwNTkxLVxcdTA1QkRcXHUwNUJGXFx1MDVDMVxcdTA1QzJcXHUwNUM0XFx1MDVDNVxcdTA1QzdcXHUwNjEwLVxcdTA2MUFcXHUwNjRCLVxcdTA2NUZcXHUwNjcwXFx1MDZENi1cXHUwNkRDXFx1MDZERi1cXHUwNkU0XFx1MDZFN1xcdTA2RThcXHUwNkVBLVxcdTA2RURcXHUwNzExXFx1MDczMC1cXHUwNzRBXFx1MDdBNi1cXHUwN0IwXFx1MDdFQi1cXHUwN0YzXFx1MDdGRFxcdTA4MTYtXFx1MDgxOVxcdTA4MUItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyRFxcdTA4NTktXFx1MDg1QlxcdTA4RDMtXFx1MDhFMVxcdTA4RTMtXFx1MDkwMlxcdTA5M0FcXHUwOTNDXFx1MDk0MS1cXHUwOTQ4XFx1MDk0RFxcdTA5NTEtXFx1MDk1N1xcdTA5NjJcXHUwOTYzXFx1MDk4MVxcdTA5QkNcXHUwOUJFXFx1MDlDMS1cXHUwOUM0XFx1MDlDRFxcdTA5RDdcXHUwOUUyXFx1MDlFM1xcdTA5RkVcXHUwQTAxXFx1MEEwMlxcdTBBM0NcXHUwQTQxXFx1MEE0MlxcdTBBNDdcXHUwQTQ4XFx1MEE0Qi1cXHUwQTREXFx1MEE1MVxcdTBBNzBcXHUwQTcxXFx1MEE3NVxcdTBBODFcXHUwQTgyXFx1MEFCQ1xcdTBBQzEtXFx1MEFDNVxcdTBBQzdcXHUwQUM4XFx1MEFDRFxcdTBBRTJcXHUwQUUzXFx1MEFGQS1cXHUwQUZGXFx1MEIwMVxcdTBCM0NcXHUwQjNFXFx1MEIzRlxcdTBCNDEtXFx1MEI0NFxcdTBCNERcXHUwQjU1LVxcdTBCNTdcXHUwQjYyXFx1MEI2M1xcdTBCODJcXHUwQkJFXFx1MEJDMFxcdTBCQ0RcXHUwQkQ3XFx1MEMwMFxcdTBDMDRcXHUwQzNFLVxcdTBDNDBcXHUwQzQ2LVxcdTBDNDhcXHUwQzRBLVxcdTBDNERcXHUwQzU1XFx1MEM1NlxcdTBDNjJcXHUwQzYzXFx1MEM4MVxcdTBDQkNcXHUwQ0JGXFx1MENDMlxcdTBDQzZcXHUwQ0NDXFx1MENDRFxcdTBDRDVcXHUwQ0Q2XFx1MENFMlxcdTBDRTNcXHUwRDAwXFx1MEQwMVxcdTBEM0JcXHUwRDNDXFx1MEQzRVxcdTBENDEtXFx1MEQ0NFxcdTBENERcXHUwRDU3XFx1MEQ2MlxcdTBENjNcXHUwRDgxXFx1MERDQVxcdTBEQ0ZcXHUwREQyLVxcdTBERDRcXHUwREQ2XFx1MERERlxcdTBFMzFcXHUwRTM0LVxcdTBFM0FcXHUwRTQ3LVxcdTBFNEVcXHUwRUIxXFx1MEVCNC1cXHUwRUJDXFx1MEVDOC1cXHUwRUNEXFx1MEYxOFxcdTBGMTlcXHUwRjM1XFx1MEYzN1xcdTBGMzlcXHUwRjcxLVxcdTBGN0VcXHUwRjgwLVxcdTBGODRcXHUwRjg2XFx1MEY4N1xcdTBGOEQtXFx1MEY5N1xcdTBGOTktXFx1MEZCQ1xcdTBGQzZcXHUxMDJELVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzQVxcdTEwM0RcXHUxMDNFXFx1MTA1OFxcdTEwNTlcXHUxMDVFLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhEXFx1MTA5RFxcdTEzNUQtXFx1MTM1RlxcdTE3MTItXFx1MTcxNFxcdTE3MzItXFx1MTczNFxcdTE3NTJcXHUxNzUzXFx1MTc3MlxcdTE3NzNcXHUxN0I0XFx1MTdCNVxcdTE3QjctXFx1MTdCRFxcdTE3QzZcXHUxN0M5LVxcdTE3RDNcXHUxN0REXFx1MTgwQi1cXHUxODBEXFx1MTg4NVxcdTE4ODZcXHUxOEE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNCXFx1MUExN1xcdTFBMThcXHUxQTFCXFx1MUE1NlxcdTFBNTgtXFx1MUE1RVxcdTFBNjBcXHUxQTYyXFx1MUE2NS1cXHUxQTZDXFx1MUE3My1cXHUxQTdDXFx1MUE3RlxcdTFBQjAtXFx1MUFDMFxcdTFCMDAtXFx1MUIwM1xcdTFCMzQtXFx1MUIzQVxcdTFCM0NcXHUxQjQyXFx1MUI2Qi1cXHUxQjczXFx1MUI4MFxcdTFCODFcXHUxQkEyLVxcdTFCQTVcXHUxQkE4XFx1MUJBOVxcdTFCQUItXFx1MUJBRFxcdTFCRTZcXHUxQkU4XFx1MUJFOVxcdTFCRURcXHUxQkVGLVxcdTFCRjFcXHUxQzJDLVxcdTFDMzNcXHUxQzM2XFx1MUMzN1xcdTFDRDAtXFx1MUNEMlxcdTFDRDQtXFx1MUNFMFxcdTFDRTItXFx1MUNFOFxcdTFDRURcXHUxQ0Y0XFx1MUNGOFxcdTFDRjlcXHUxREMwLVxcdTFERjlcXHUxREZCLVxcdTFERkZcXHUyMDBDXFx1MjBEMC1cXHUyMEYwXFx1MkNFRi1cXHUyQ0YxXFx1MkQ3RlxcdTJERTAtXFx1MkRGRlxcdTMwMkEtXFx1MzAyRlxcdTMwOTlcXHUzMDlBXFx1QTY2Ri1cXHVBNjcyXFx1QTY3NC1cXHVBNjdEXFx1QTY5RVxcdUE2OUZcXHVBNkYwXFx1QTZGMVxcdUE4MDJcXHVBODA2XFx1QTgwQlxcdUE4MjVcXHVBODI2XFx1QTgyQ1xcdUE4QzRcXHVBOEM1XFx1QThFMC1cXHVBOEYxXFx1QThGRlxcdUE5MjYtXFx1QTkyRFxcdUE5NDctXFx1QTk1MVxcdUE5ODAtXFx1QTk4MlxcdUE5QjNcXHVBOUI2LVxcdUE5QjlcXHVBOUJDXFx1QTlCRFxcdUE5RTVcXHVBQTI5LVxcdUFBMkVcXHVBQTMxXFx1QUEzMlxcdUFBMzVcXHVBQTM2XFx1QUE0M1xcdUFBNENcXHVBQTdDXFx1QUFCMFxcdUFBQjItXFx1QUFCNFxcdUFBQjdcXHVBQUI4XFx1QUFCRVxcdUFBQkZcXHVBQUMxXFx1QUFFQ1xcdUFBRURcXHVBQUY2XFx1QUJFNVxcdUFCRThcXHVBQkVEXFx1RkIxRVxcdUZFMDAtXFx1RkUwRlxcdUZFMjAtXFx1RkUyRlxcdUZGOUVcXHVGRjlGXXxcXHVEODAwW1xcdURERkRcXHVERUUwXFx1REY3Ni1cXHVERjdBXXxcXHVEODAyW1xcdURFMDEtXFx1REUwM1xcdURFMDVcXHVERTA2XFx1REUwQy1cXHVERTBGXFx1REUzOC1cXHVERTNBXFx1REUzRlxcdURFRTVcXHVERUU2XXxcXHVEODAzW1xcdUREMjQtXFx1REQyN1xcdURFQUJcXHVERUFDXFx1REY0Ni1cXHVERjUwXXxcXHVEODA0W1xcdURDMDFcXHVEQzM4LVxcdURDNDZcXHVEQzdGLVxcdURDODFcXHVEQ0IzLVxcdURDQjZcXHVEQ0I5XFx1RENCQVxcdUREMDAtXFx1REQwMlxcdUREMjctXFx1REQyQlxcdUREMkQtXFx1REQzNFxcdURENzNcXHVERDgwXFx1REQ4MVxcdUREQjYtXFx1RERCRVxcdUREQzktXFx1RERDQ1xcdUREQ0ZcXHVERTJGLVxcdURFMzFcXHVERTM0XFx1REUzNlxcdURFMzdcXHVERTNFXFx1REVERlxcdURFRTMtXFx1REVFQVxcdURGMDBcXHVERjAxXFx1REYzQlxcdURGM0NcXHVERjNFXFx1REY0MFxcdURGNTdcXHVERjY2LVxcdURGNkNcXHVERjcwLVxcdURGNzRdfFxcdUQ4MDVbXFx1REMzOC1cXHVEQzNGXFx1REM0Mi1cXHVEQzQ0XFx1REM0NlxcdURDNUVcXHVEQ0IwXFx1RENCMy1cXHVEQ0I4XFx1RENCQVxcdURDQkRcXHVEQ0JGXFx1RENDMFxcdURDQzJcXHVEQ0MzXFx1RERBRlxcdUREQjItXFx1RERCNVxcdUREQkNcXHVEREJEXFx1RERCRlxcdUREQzBcXHVERERDXFx1RERERFxcdURFMzMtXFx1REUzQVxcdURFM0RcXHVERTNGXFx1REU0MFxcdURFQUJcXHVERUFEXFx1REVCMC1cXHVERUI1XFx1REVCN1xcdURGMUQtXFx1REYxRlxcdURGMjItXFx1REYyNVxcdURGMjctXFx1REYyQl18XFx1RDgwNltcXHVEQzJGLVxcdURDMzdcXHVEQzM5XFx1REMzQVxcdUREMzBcXHVERDNCXFx1REQzQ1xcdUREM0VcXHVERDQzXFx1RERENC1cXHVEREQ3XFx1REREQVxcdUREREJcXHVEREUwXFx1REUwMS1cXHVERTBBXFx1REUzMy1cXHVERTM4XFx1REUzQi1cXHVERTNFXFx1REU0N1xcdURFNTEtXFx1REU1NlxcdURFNTktXFx1REU1QlxcdURFOEEtXFx1REU5NlxcdURFOThcXHVERTk5XXxcXHVEODA3W1xcdURDMzAtXFx1REMzNlxcdURDMzgtXFx1REMzRFxcdURDM0ZcXHVEQzkyLVxcdURDQTdcXHVEQ0FBLVxcdURDQjBcXHVEQ0IyXFx1RENCM1xcdURDQjVcXHVEQ0I2XFx1REQzMS1cXHVERDM2XFx1REQzQVxcdUREM0NcXHVERDNEXFx1REQzRi1cXHVERDQ1XFx1REQ0N1xcdUREOTBcXHVERDkxXFx1REQ5NVxcdUREOTdcXHVERUYzXFx1REVGNF18XFx1RDgxQVtcXHVERUYwLVxcdURFRjRcXHVERjMwLVxcdURGMzZdfFxcdUQ4MUJbXFx1REY0RlxcdURGOEYtXFx1REY5MlxcdURGRTRdfFxcdUQ4MkZbXFx1REM5RFxcdURDOUVdfFxcdUQ4MzRbXFx1REQ2NVxcdURENjctXFx1REQ2OVxcdURENkUtXFx1REQ3MlxcdUREN0ItXFx1REQ4MlxcdUREODUtXFx1REQ4QlxcdUREQUEtXFx1RERBRFxcdURFNDItXFx1REU0NF18XFx1RDgzNltcXHVERTAwLVxcdURFMzZcXHVERTNCLVxcdURFNkNcXHVERTc1XFx1REU4NFxcdURFOUItXFx1REU5RlxcdURFQTEtXFx1REVBRl18XFx1RDgzOFtcXHVEQzAwLVxcdURDMDZcXHVEQzA4LVxcdURDMThcXHVEQzFCLVxcdURDMjFcXHVEQzIzXFx1REMyNFxcdURDMjYtXFx1REMyQVxcdUREMzAtXFx1REQzNlxcdURFRUMtXFx1REVFRl18XFx1RDgzQVtcXHVEQ0QwLVxcdURDRDZcXHVERDQ0LVxcdURENEFdfFxcdUQ4M0NbXFx1REZGQi1cXHVERkZGXXxcXHVEQjQwW1xcdURDMjAtXFx1REM3RlxcdUREMDAtXFx1RERFRl0pKlxcdTIwMEQkLztcblxudmFyIGVuZHNXaXRoRW1vamlaV0ogPSBzdHIgPT4ge1xuICByZXR1cm4gc3RyLnNlYXJjaChlbmRpbmdFbW9qaVpXSikgIT09IC0xO1xufTtcblxudmFyIGVuZGluZ1JJcyA9IC8oPzpcXHVEODNDW1xcdURERTYtXFx1RERGRl0pKyQvZztcblxudmFyIGVuZHNXaXRoT2RkTnVtYmVyT2ZSSXMgPSBzdHIgPT4ge1xuICB2YXIgbWF0Y2ggPSBzdHIubWF0Y2goZW5kaW5nUklzKTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgLy8gQSBSSSBpcyByZXByZXNlbnRlZCBieSBhIHN1cnJvZ2F0ZSBwYWlyLlxuICAgIHZhciBudW1SSXMgPSBtYXRjaFswXS5sZW5ndGggLyAyO1xuICAgIHJldHVybiBudW1SSXMgJSAyID09PSAxO1xuICB9XG59O1xuXG52YXIgVGV4dFRyYW5zZm9ybXMgPSB7XG4gIGRlbGV0ZShlZGl0b3IsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3IuZGVsZXRlKG9wdGlvbnMpO1xuICB9LFxuXG4gIGluc2VydEZyYWdtZW50KGVkaXRvciwgZnJhZ21lbnQsIG9wdGlvbnMpIHtcbiAgICBlZGl0b3IuaW5zZXJ0RnJhZ21lbnQoZnJhZ21lbnQsIG9wdGlvbnMpO1xuICB9LFxuXG4gIGluc2VydFRleHQoZWRpdG9yLCB0ZXh0KSB7XG4gICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICAgIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgICB2YXIge1xuICAgICAgICB2b2lkcyA9IGZhbHNlXG4gICAgICB9ID0gb3B0aW9ucztcbiAgICAgIHZhciB7XG4gICAgICAgIGF0ID0gZ2V0RGVmYXVsdEluc2VydExvY2F0aW9uKGVkaXRvcilcbiAgICAgIH0gPSBvcHRpb25zO1xuXG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgIGF0ID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgICAgIGF0ID0gYXQuYW5jaG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBlbmQgPSBSYW5nZS5lbmQoYXQpO1xuXG4gICAgICAgICAgaWYgKCF2b2lkcyAmJiBFZGl0b3Iudm9pZChlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBlbmRcbiAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBzdGFydCA9IFJhbmdlLnN0YXJ0KGF0KTtcbiAgICAgICAgICB2YXIgc3RhcnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBzdGFydCk7XG4gICAgICAgICAgdmFyIGVuZFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZCk7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdCxcbiAgICAgICAgICAgIHZvaWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgdmFyIHN0YXJ0UG9pbnQgPSBzdGFydFJlZi51bnJlZigpO1xuICAgICAgICAgIHZhciBlbmRQb2ludCA9IGVuZFJlZi51bnJlZigpO1xuICAgICAgICAgIGF0ID0gc3RhcnRQb2ludCB8fCBlbmRQb2ludDtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlZGl0b3IsIHtcbiAgICAgICAgICAgIGFuY2hvcjogYXQsXG4gICAgICAgICAgICBmb2N1czogYXRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIXZvaWRzICYmIEVkaXRvci52b2lkKGVkaXRvciwge1xuICAgICAgICBhdFxuICAgICAgfSkgfHwgRWRpdG9yLmVsZW1lbnRSZWFkT25seShlZGl0b3IsIHtcbiAgICAgICAgYXRcbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIHtcbiAgICAgICAgcGF0aCxcbiAgICAgICAgb2Zmc2V0XG4gICAgICB9ID0gYXQ7XG4gICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSBlZGl0b3IuYXBwbHkoe1xuICAgICAgICB0eXBlOiAnaW5zZXJ0X3RleHQnLFxuICAgICAgICBwYXRoLFxuICAgICAgICBvZmZzZXQsXG4gICAgICAgIHRleHRcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbn07XG5cbmZ1bmN0aW9uIG93bktleXMkOShvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkOSh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDkoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ5KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIFRyYW5zZm9ybXMgPSBfb2JqZWN0U3ByZWFkJDkoX29iamVjdFNwcmVhZCQ5KF9vYmplY3RTcHJlYWQkOShfb2JqZWN0U3ByZWFkJDkoe30sIEdlbmVyYWxUcmFuc2Zvcm1zKSwgTm9kZVRyYW5zZm9ybXMpLCBTZWxlY3Rpb25UcmFuc2Zvcm1zKSwgVGV4dFRyYW5zZm9ybXMpO1xuXG52YXIgYXBwbHkgPSAoZWRpdG9yLCBvcCkgPT4ge1xuICBmb3IgKHZhciByZWYgb2YgRWRpdG9yLnBhdGhSZWZzKGVkaXRvcikpIHtcbiAgICBQYXRoUmVmLnRyYW5zZm9ybShyZWYsIG9wKTtcbiAgfVxuXG4gIGZvciAodmFyIF9yZWYgb2YgRWRpdG9yLnBvaW50UmVmcyhlZGl0b3IpKSB7XG4gICAgUG9pbnRSZWYudHJhbnNmb3JtKF9yZWYsIG9wKTtcbiAgfVxuXG4gIGZvciAodmFyIF9yZWYyIG9mIEVkaXRvci5yYW5nZVJlZnMoZWRpdG9yKSkge1xuICAgIFJhbmdlUmVmLnRyYW5zZm9ybShfcmVmMiwgb3ApO1xuICB9XG5cbiAgdmFyIG9sZERpcnR5UGF0aHMgPSBESVJUWV9QQVRIUy5nZXQoZWRpdG9yKSB8fCBbXTtcbiAgdmFyIG9sZERpcnR5UGF0aEtleXMgPSBESVJUWV9QQVRIX0tFWVMuZ2V0KGVkaXRvcikgfHwgbmV3IFNldCgpO1xuICB2YXIgZGlydHlQYXRocztcbiAgdmFyIGRpcnR5UGF0aEtleXM7XG5cbiAgdmFyIGFkZCA9IHBhdGggPT4ge1xuICAgIGlmIChwYXRoKSB7XG4gICAgICB2YXIga2V5ID0gcGF0aC5qb2luKCcsJyk7XG5cbiAgICAgIGlmICghZGlydHlQYXRoS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICBkaXJ0eVBhdGhLZXlzLmFkZChrZXkpO1xuICAgICAgICBkaXJ0eVBhdGhzLnB1c2gocGF0aCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGlmIChQYXRoLm9wZXJhdGlvbkNhblRyYW5zZm9ybVBhdGgob3ApKSB7XG4gICAgZGlydHlQYXRocyA9IFtdO1xuICAgIGRpcnR5UGF0aEtleXMgPSBuZXcgU2V0KCk7XG5cbiAgICBmb3IgKHZhciBwYXRoIG9mIG9sZERpcnR5UGF0aHMpIHtcbiAgICAgIHZhciBuZXdQYXRoID0gUGF0aC50cmFuc2Zvcm0ocGF0aCwgb3ApO1xuICAgICAgYWRkKG5ld1BhdGgpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkaXJ0eVBhdGhzID0gb2xkRGlydHlQYXRocztcbiAgICBkaXJ0eVBhdGhLZXlzID0gb2xkRGlydHlQYXRoS2V5cztcbiAgfVxuXG4gIHZhciBuZXdEaXJ0eVBhdGhzID0gZWRpdG9yLmdldERpcnR5UGF0aHMob3ApO1xuXG4gIGZvciAodmFyIF9wYXRoIG9mIG5ld0RpcnR5UGF0aHMpIHtcbiAgICBhZGQoX3BhdGgpO1xuICB9XG5cbiAgRElSVFlfUEFUSFMuc2V0KGVkaXRvciwgZGlydHlQYXRocyk7XG4gIERJUlRZX1BBVEhfS0VZUy5zZXQoZWRpdG9yLCBkaXJ0eVBhdGhLZXlzKTtcbiAgVHJhbnNmb3Jtcy50cmFuc2Zvcm0oZWRpdG9yLCBvcCk7XG4gIGVkaXRvci5vcGVyYXRpb25zLnB1c2gob3ApO1xuICBFZGl0b3Iubm9ybWFsaXplKGVkaXRvciwge1xuICAgIG9wZXJhdGlvbjogb3BcbiAgfSk7IC8vIENsZWFyIGFueSBmb3JtYXRzIGFwcGxpZWQgdG8gdGhlIGN1cnNvciBpZiB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuXG5cbiAgaWYgKG9wLnR5cGUgPT09ICdzZXRfc2VsZWN0aW9uJykge1xuICAgIGVkaXRvci5tYXJrcyA9IG51bGw7XG4gIH1cblxuICBpZiAoIUZMVVNISU5HLmdldChlZGl0b3IpKSB7XG4gICAgRkxVU0hJTkcuc2V0KGVkaXRvciwgdHJ1ZSk7XG4gICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICBGTFVTSElORy5zZXQoZWRpdG9yLCBmYWxzZSk7XG4gICAgICBlZGl0b3Iub25DaGFuZ2Uoe1xuICAgICAgICBvcGVyYXRpb246IG9wXG4gICAgICB9KTtcbiAgICAgIGVkaXRvci5vcGVyYXRpb25zID0gW107XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qKlxyXG4gKiBHZXQgdGhlIFwiZGlydHlcIiBwYXRocyBnZW5lcmF0ZWQgZnJvbSBhbiBvcGVyYXRpb24uXHJcbiAqL1xuXG52YXIgZ2V0RGlydHlQYXRocyA9IChlZGl0b3IsIG9wKSA9PiB7XG4gIHN3aXRjaCAob3AudHlwZSkge1xuICAgIGNhc2UgJ2luc2VydF90ZXh0JzpcbiAgICBjYXNlICdyZW1vdmVfdGV4dCc6XG4gICAgY2FzZSAnc2V0X25vZGUnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGhcbiAgICAgICAgfSA9IG9wO1xuICAgICAgICByZXR1cm4gUGF0aC5sZXZlbHMocGF0aCk7XG4gICAgICB9XG5cbiAgICBjYXNlICdpbnNlcnRfbm9kZSc6XG4gICAgICB7XG4gICAgICAgIHZhciB7XG4gICAgICAgICAgbm9kZSxcbiAgICAgICAgICBwYXRoOiBfcGF0aFxuICAgICAgICB9ID0gb3A7XG4gICAgICAgIHZhciBsZXZlbHMgPSBQYXRoLmxldmVscyhfcGF0aCk7XG4gICAgICAgIHZhciBkZXNjZW5kYW50cyA9IFRleHQuaXNUZXh0KG5vZGUpID8gW10gOiBBcnJheS5mcm9tKE5vZGUubm9kZXMobm9kZSksIF9yZWYgPT4ge1xuICAgICAgICAgIHZhciBbLCBwXSA9IF9yZWY7XG4gICAgICAgICAgcmV0dXJuIF9wYXRoLmNvbmNhdChwKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBbLi4ubGV2ZWxzLCAuLi5kZXNjZW5kYW50c107XG4gICAgICB9XG5cbiAgICBjYXNlICdtZXJnZV9ub2RlJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBwYXRoOiBfcGF0aDJcbiAgICAgICAgfSA9IG9wO1xuICAgICAgICB2YXIgYW5jZXN0b3JzID0gUGF0aC5hbmNlc3RvcnMoX3BhdGgyKTtcbiAgICAgICAgdmFyIHByZXZpb3VzUGF0aCA9IFBhdGgucHJldmlvdXMoX3BhdGgyKTtcbiAgICAgICAgcmV0dXJuIFsuLi5hbmNlc3RvcnMsIHByZXZpb3VzUGF0aF07XG4gICAgICB9XG5cbiAgICBjYXNlICdtb3ZlX25vZGUnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGg6IF9wYXRoMyxcbiAgICAgICAgICBuZXdQYXRoXG4gICAgICAgIH0gPSBvcDtcblxuICAgICAgICBpZiAoUGF0aC5lcXVhbHMoX3BhdGgzLCBuZXdQYXRoKSkge1xuICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBvbGRBbmNlc3RvcnMgPSBbXTtcbiAgICAgICAgdmFyIG5ld0FuY2VzdG9ycyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGFuY2VzdG9yIG9mIFBhdGguYW5jZXN0b3JzKF9wYXRoMykpIHtcbiAgICAgICAgICB2YXIgcCA9IFBhdGgudHJhbnNmb3JtKGFuY2VzdG9yLCBvcCk7XG4gICAgICAgICAgb2xkQW5jZXN0b3JzLnB1c2gocCk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHZhciBfYW5jZXN0b3Igb2YgUGF0aC5hbmNlc3RvcnMobmV3UGF0aCkpIHtcbiAgICAgICAgICB2YXIgX3AgPSBQYXRoLnRyYW5zZm9ybShfYW5jZXN0b3IsIG9wKTtcblxuICAgICAgICAgIG5ld0FuY2VzdG9ycy5wdXNoKF9wKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuZXdQYXJlbnQgPSBuZXdBbmNlc3RvcnNbbmV3QW5jZXN0b3JzLmxlbmd0aCAtIDFdO1xuICAgICAgICB2YXIgbmV3SW5kZXggPSBuZXdQYXRoW25ld1BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgIHZhciByZXN1bHRQYXRoID0gbmV3UGFyZW50LmNvbmNhdChuZXdJbmRleCk7XG4gICAgICAgIHJldHVybiBbLi4ub2xkQW5jZXN0b3JzLCAuLi5uZXdBbmNlc3RvcnMsIHJlc3VsdFBhdGhdO1xuICAgICAgfVxuXG4gICAgY2FzZSAncmVtb3ZlX25vZGUnOlxuICAgICAge1xuICAgICAgICB2YXIge1xuICAgICAgICAgIHBhdGg6IF9wYXRoNFxuICAgICAgICB9ID0gb3A7XG5cbiAgICAgICAgdmFyIF9hbmNlc3RvcnMgPSBQYXRoLmFuY2VzdG9ycyhfcGF0aDQpO1xuXG4gICAgICAgIHJldHVybiBbLi4uX2FuY2VzdG9yc107XG4gICAgICB9XG5cbiAgICBjYXNlICdzcGxpdF9ub2RlJzpcbiAgICAgIHtcbiAgICAgICAgdmFyIHtcbiAgICAgICAgICBwYXRoOiBfcGF0aDVcbiAgICAgICAgfSA9IG9wO1xuXG4gICAgICAgIHZhciBfbGV2ZWxzID0gUGF0aC5sZXZlbHMoX3BhdGg1KTtcblxuICAgICAgICB2YXIgbmV4dFBhdGggPSBQYXRoLm5leHQoX3BhdGg1KTtcbiAgICAgICAgcmV0dXJuIFsuLi5fbGV2ZWxzLCBuZXh0UGF0aF07XG4gICAgICB9XG5cbiAgICBkZWZhdWx0OlxuICAgICAge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gIH1cbn07XG5cbnZhciBnZXRGcmFnbWVudCA9IGVkaXRvciA9PiB7XG4gIHZhciB7XG4gICAgc2VsZWN0aW9uXG4gIH0gPSBlZGl0b3I7XG5cbiAgaWYgKHNlbGVjdGlvbikge1xuICAgIHJldHVybiBOb2RlLmZyYWdtZW50KGVkaXRvciwgc2VsZWN0aW9uKTtcbiAgfVxuXG4gIHJldHVybiBbXTtcbn07XG5cbnZhciBub3JtYWxpemVOb2RlID0gKGVkaXRvciwgZW50cnkpID0+IHtcbiAgdmFyIFtub2RlLCBwYXRoXSA9IGVudHJ5OyAvLyBUaGVyZSBhcmUgbm8gY29yZSBub3JtYWxpemF0aW9ucyBmb3IgdGV4dCBub2Rlcy5cblxuICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICByZXR1cm47XG4gIH0gLy8gRW5zdXJlIHRoYXQgYmxvY2sgYW5kIGlubGluZSBub2RlcyBoYXZlIGF0IGxlYXN0IG9uZSB0ZXh0IGNoaWxkLlxuXG5cbiAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwKSB7XG4gICAgdmFyIGNoaWxkID0ge1xuICAgICAgdGV4dDogJydcbiAgICB9O1xuICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBjaGlsZCwge1xuICAgICAgYXQ6IHBhdGguY29uY2F0KDApLFxuICAgICAgdm9pZHM6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH0gLy8gRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIG5vZGUgc2hvdWxkIGhhdmUgYmxvY2sgb3IgaW5saW5lIGNoaWxkcmVuLlxuXG5cbiAgdmFyIHNob3VsZEhhdmVJbmxpbmVzID0gRWRpdG9yLmlzRWRpdG9yKG5vZGUpID8gZmFsc2UgOiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiAoZWRpdG9yLmlzSW5saW5lKG5vZGUpIHx8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoID09PSAwIHx8IFRleHQuaXNUZXh0KG5vZGUuY2hpbGRyZW5bMF0pIHx8IGVkaXRvci5pc0lubGluZShub2RlLmNoaWxkcmVuWzBdKSk7IC8vIFNpbmNlIHdlJ2xsIGJlIGFwcGx5aW5nIG9wZXJhdGlvbnMgd2hpbGUgaXRlcmF0aW5nLCBrZWVwIHRyYWNrIG9mIGFuXG4gIC8vIGluZGV4IHRoYXQgYWNjb3VudHMgZm9yIGFueSBhZGRlZC9yZW1vdmVkIG5vZGVzLlxuXG4gIHZhciBuID0gMDtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyssIG4rKykge1xuICAgIHZhciBjdXJyZW50Tm9kZSA9IE5vZGUuZ2V0KGVkaXRvciwgcGF0aCk7XG4gICAgaWYgKFRleHQuaXNUZXh0KGN1cnJlbnROb2RlKSkgY29udGludWU7XG4gICAgdmFyIF9jaGlsZCA9IGN1cnJlbnROb2RlLmNoaWxkcmVuW25dO1xuICAgIHZhciBwcmV2ID0gY3VycmVudE5vZGUuY2hpbGRyZW5bbiAtIDFdO1xuICAgIHZhciBpc0xhc3QgPSBpID09PSBub2RlLmNoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgdmFyIGlzSW5saW5lT3JUZXh0ID0gVGV4dC5pc1RleHQoX2NoaWxkKSB8fCBFbGVtZW50LmlzRWxlbWVudChfY2hpbGQpICYmIGVkaXRvci5pc0lubGluZShfY2hpbGQpOyAvLyBPbmx5IGFsbG93IGJsb2NrIG5vZGVzIGluIHRoZSB0b3AtbGV2ZWwgY2hpbGRyZW4gYW5kIHBhcmVudCBibG9ja3NcbiAgICAvLyB0aGF0IG9ubHkgY29udGFpbiBibG9jayBub2Rlcy4gU2ltaWxhcmx5LCBvbmx5IGFsbG93IGlubGluZSBub2RlcyBpblxuICAgIC8vIG90aGVyIGlubGluZSBub2Rlcywgb3IgcGFyZW50IGJsb2NrcyB0aGF0IG9ubHkgY29udGFpbiBpbmxpbmVzIGFuZFxuICAgIC8vIHRleHQuXG5cbiAgICBpZiAoaXNJbmxpbmVPclRleHQgIT09IHNob3VsZEhhdmVJbmxpbmVzKSB7XG4gICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogcGF0aC5jb25jYXQobiksXG4gICAgICAgIHZvaWRzOiB0cnVlXG4gICAgICB9KTtcbiAgICAgIG4tLTtcbiAgICB9IGVsc2UgaWYgKEVsZW1lbnQuaXNFbGVtZW50KF9jaGlsZCkpIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0IGlubGluZSBub2RlcyBhcmUgc3Vycm91bmRlZCBieSB0ZXh0IG5vZGVzLlxuICAgICAgaWYgKGVkaXRvci5pc0lubGluZShfY2hpbGQpKSB7XG4gICAgICAgIGlmIChwcmV2ID09IG51bGwgfHwgIVRleHQuaXNUZXh0KHByZXYpKSB7XG4gICAgICAgICAgdmFyIG5ld0NoaWxkID0ge1xuICAgICAgICAgICAgdGV4dDogJydcbiAgICAgICAgICB9O1xuICAgICAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBuZXdDaGlsZCwge1xuICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4pLFxuICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgdmFyIF9uZXdDaGlsZCA9IHtcbiAgICAgICAgICAgIHRleHQ6ICcnXG4gICAgICAgICAgfTtcbiAgICAgICAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgX25ld0NoaWxkLCB7XG4gICAgICAgICAgICBhdDogcGF0aC5jb25jYXQobiArIDEpLFxuICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuKys7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gTWVyZ2UgYWRqYWNlbnQgdGV4dCBub2RlcyB0aGF0IGFyZSBlbXB0eSBvciBtYXRjaC5cbiAgICAgIGlmIChwcmV2ICE9IG51bGwgJiYgVGV4dC5pc1RleHQocHJldikpIHtcbiAgICAgICAgaWYgKFRleHQuZXF1YWxzKF9jaGlsZCwgcHJldiwge1xuICAgICAgICAgIGxvb3NlOiB0cnVlXG4gICAgICAgIH0pKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5tZXJnZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgICAgYXQ6IHBhdGguY29uY2F0KG4pLFxuICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuLS07XG4gICAgICAgIH0gZWxzZSBpZiAocHJldi50ZXh0ID09PSAnJykge1xuICAgICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogcGF0aC5jb25jYXQobiAtIDEpLFxuICAgICAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuLS07XG4gICAgICAgIH0gZWxzZSBpZiAoX2NoaWxkLnRleHQgPT09ICcnKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICAgIGF0OiBwYXRoLmNvbmNhdChuKSxcbiAgICAgICAgICAgIHZvaWRzOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbi0tO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG52YXIgc2hvdWxkTm9ybWFsaXplID0gKGVkaXRvciwgX3JlZikgPT4ge1xuICB2YXIge1xuICAgIGl0ZXJhdGlvbixcbiAgICBpbml0aWFsRGlydHlQYXRoc0xlbmd0aFxuICB9ID0gX3JlZjtcbiAgdmFyIG1heEl0ZXJhdGlvbnMgPSBpbml0aWFsRGlydHlQYXRoc0xlbmd0aCAqIDQyOyAvLyBIQUNLOiBiZXR0ZXIgd2F5P1xuXG4gIGlmIChpdGVyYXRpb24gPiBtYXhJdGVyYXRpb25zKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGQgbm90IGNvbXBsZXRlbHkgbm9ybWFsaXplIHRoZSBlZGl0b3IgYWZ0ZXIgXCIuY29uY2F0KG1heEl0ZXJhdGlvbnMsIFwiIGl0ZXJhdGlvbnMhIFRoaXMgaXMgdXN1YWxseSBkdWUgdG8gaW5jb3JyZWN0IG5vcm1hbGl6YXRpb24gbG9naWMgdGhhdCBsZWF2ZXMgYSBub2RlIGluIGFuIGludmFsaWQgc3RhdGUuXCIpKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIGFib3ZlID0gZnVuY3Rpb24gYWJvdmUoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIHtcbiAgICB2b2lkcyA9IGZhbHNlLFxuICAgIG1vZGUgPSAnbG93ZXN0JyxcbiAgICBhdCA9IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgbWF0Y2hcbiAgfSA9IG9wdGlvbnM7XG5cbiAgaWYgKCFhdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCk7XG4gIHZhciByZXZlcnNlID0gbW9kZSA9PT0gJ2xvd2VzdCc7XG5cbiAgZm9yICh2YXIgW24sIHBdIG9mIEVkaXRvci5sZXZlbHMoZWRpdG9yLCB7XG4gICAgYXQ6IHBhdGgsXG4gICAgdm9pZHMsXG4gICAgbWF0Y2gsXG4gICAgcmV2ZXJzZVxuICB9KSkge1xuICAgIGlmIChUZXh0LmlzVGV4dChuKSkgY29udGludWU7XG5cbiAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgIGlmIChQYXRoLmlzQW5jZXN0b3IocCwgYXQuYW5jaG9yLnBhdGgpICYmIFBhdGguaXNBbmNlc3RvcihwLCBhdC5mb2N1cy5wYXRoKSkge1xuICAgICAgICByZXR1cm4gW24sIHBdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVBhdGguZXF1YWxzKHBhdGgsIHApKSB7XG4gICAgICAgIHJldHVybiBbbiwgcF07XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJDgob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDgodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ4KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkOChPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBhZGRNYXJrID0gKGVkaXRvciwga2V5LCB2YWx1ZSkgPT4ge1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuXG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICB2YXIgbWF0Y2ggPSAobm9kZSwgcGF0aCkgPT4ge1xuICAgICAgaWYgKCFUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG1hcmtzIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gdGV4dFxuICAgICAgfVxuXG4gICAgICB2YXIgW3BhcmVudE5vZGUsIHBhcmVudFBhdGhdID0gRWRpdG9yLnBhcmVudChlZGl0b3IsIHBhdGgpO1xuICAgICAgcmV0dXJuICFlZGl0b3IuaXNWb2lkKHBhcmVudE5vZGUpIHx8IGVkaXRvci5tYXJrYWJsZVZvaWQocGFyZW50Tm9kZSk7XG4gICAgfTtcblxuICAgIHZhciBleHBhbmRlZFNlbGVjdGlvbiA9IFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKTtcbiAgICB2YXIgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFleHBhbmRlZFNlbGVjdGlvbikge1xuICAgICAgdmFyIFtzZWxlY3RlZE5vZGUsIHNlbGVjdGVkUGF0aF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHNlbGVjdGlvbik7XG5cbiAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgbWF0Y2goc2VsZWN0ZWROb2RlLCBzZWxlY3RlZFBhdGgpKSB7XG4gICAgICAgIHZhciBbcGFyZW50Tm9kZV0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgc2VsZWN0ZWRQYXRoKTtcbiAgICAgICAgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCA9IHBhcmVudE5vZGUgJiYgZWRpdG9yLm1hcmthYmxlVm9pZChwYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXhwYW5kZWRTZWxlY3Rpb24gfHwgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCkge1xuICAgICAgVHJhbnNmb3Jtcy5zZXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgW2tleV06IHZhbHVlXG4gICAgICB9LCB7XG4gICAgICAgIG1hdGNoLFxuICAgICAgICBzcGxpdDogdHJ1ZSxcbiAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWFya3MgPSBfb2JqZWN0U3ByZWFkJDgoX29iamVjdFNwcmVhZCQ4KHt9LCBFZGl0b3IubWFya3MoZWRpdG9yKSB8fCB7fSksIHt9LCB7XG4gICAgICAgIFtrZXldOiB2YWx1ZVxuICAgICAgfSk7XG5cbiAgICAgIGVkaXRvci5tYXJrcyA9IG1hcmtzO1xuXG4gICAgICBpZiAoIUZMVVNISU5HLmdldChlZGl0b3IpKSB7XG4gICAgICAgIGVkaXRvci5vbkNoYW5nZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuZnVuY3Rpb24gb3duS2V5cyQ3KG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQ3KHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkNyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDcoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgYWZ0ZXIgPSBmdW5jdGlvbiBhZnRlcihlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIGFuY2hvciA9IEVkaXRvci5wb2ludChlZGl0b3IsIGF0LCB7XG4gICAgZWRnZTogJ2VuZCdcbiAgfSk7XG4gIHZhciBmb2N1cyA9IEVkaXRvci5lbmQoZWRpdG9yLCBbXSk7XG4gIHZhciByYW5nZSA9IHtcbiAgICBhbmNob3IsXG4gICAgZm9jdXNcbiAgfTtcbiAgdmFyIHtcbiAgICBkaXN0YW5jZSA9IDFcbiAgfSA9IG9wdGlvbnM7XG4gIHZhciBkID0gMDtcbiAgdmFyIHRhcmdldDtcblxuICBmb3IgKHZhciBwIG9mIEVkaXRvci5wb3NpdGlvbnMoZWRpdG9yLCBfb2JqZWN0U3ByZWFkJDcoX29iamVjdFNwcmVhZCQ3KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICBhdDogcmFuZ2VcbiAgfSkpKSB7XG4gICAgaWYgKGQgPiBkaXN0YW5jZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGQgIT09IDApIHtcbiAgICAgIHRhcmdldCA9IHA7XG4gICAgfVxuXG4gICAgZCsrO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmZ1bmN0aW9uIG93bktleXMkNihvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNih0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDYoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ2KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIGJlZm9yZSA9IGZ1bmN0aW9uIGJlZm9yZShlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIGFuY2hvciA9IEVkaXRvci5zdGFydChlZGl0b3IsIFtdKTtcbiAgdmFyIGZvY3VzID0gRWRpdG9yLnBvaW50KGVkaXRvciwgYXQsIHtcbiAgICBlZGdlOiAnc3RhcnQnXG4gIH0pO1xuICB2YXIgcmFuZ2UgPSB7XG4gICAgYW5jaG9yLFxuICAgIGZvY3VzXG4gIH07XG4gIHZhciB7XG4gICAgZGlzdGFuY2UgPSAxXG4gIH0gPSBvcHRpb25zO1xuICB2YXIgZCA9IDA7XG4gIHZhciB0YXJnZXQ7XG5cbiAgZm9yICh2YXIgcCBvZiBFZGl0b3IucG9zaXRpb25zKGVkaXRvciwgX29iamVjdFNwcmVhZCQ2KF9vYmplY3RTcHJlYWQkNih7fSwgb3B0aW9ucyksIHt9LCB7XG4gICAgYXQ6IHJhbmdlLFxuICAgIHJldmVyc2U6IHRydWVcbiAgfSkpKSB7XG4gICAgaWYgKGQgPiBkaXN0YW5jZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgaWYgKGQgIT09IDApIHtcbiAgICAgIHRhcmdldCA9IHA7XG4gICAgfVxuXG4gICAgZCsrO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn07XG5cbnZhciBkZWxldGVCYWNrd2FyZCA9IChlZGl0b3IsIHVuaXQpID0+IHtcbiAgdmFyIHtcbiAgICBzZWxlY3Rpb25cbiAgfSA9IGVkaXRvcjtcblxuICBpZiAoc2VsZWN0aW9uICYmIFJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpIHtcbiAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgIHVuaXQsXG4gICAgICByZXZlcnNlOiB0cnVlXG4gICAgfSk7XG4gIH1cbn07XG5cbnZhciBkZWxldGVGb3J3YXJkID0gKGVkaXRvciwgdW5pdCkgPT4ge1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuXG4gIGlmIChzZWxlY3Rpb24gJiYgUmFuZ2UuaXNDb2xsYXBzZWQoc2VsZWN0aW9uKSkge1xuICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgdW5pdFxuICAgIH0pO1xuICB9XG59O1xuXG52YXIgZGVsZXRlRnJhZ21lbnQgPSBmdW5jdGlvbiBkZWxldGVGcmFnbWVudChlZGl0b3IpIHtcbiAgdmFyIHtcbiAgICBkaXJlY3Rpb24gPSAnZm9yd2FyZCdcbiAgfSA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciB7XG4gICAgc2VsZWN0aW9uXG4gIH0gPSBlZGl0b3I7XG5cbiAgaWYgKHNlbGVjdGlvbiAmJiBSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgIHJldmVyc2U6IGRpcmVjdGlvbiA9PT0gJ2JhY2t3YXJkJ1xuICAgIH0pO1xuICB9XG59O1xuXG52YXIgZWRnZXMgPSAoZWRpdG9yLCBhdCkgPT4ge1xuICByZXR1cm4gW0VkaXRvci5zdGFydChlZGl0b3IsIGF0KSwgRWRpdG9yLmVuZChlZGl0b3IsIGF0KV07XG59O1xuXG5mdW5jdGlvbiBvd25LZXlzJDUob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHsgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyB9IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkJDUodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyQ1KE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMkNShPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cbnZhciBlbGVtZW50UmVhZE9ubHkgPSBmdW5jdGlvbiBlbGVtZW50UmVhZE9ubHkoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgcmV0dXJuIEVkaXRvci5hYm92ZShlZGl0b3IsIF9vYmplY3RTcHJlYWQkNShfb2JqZWN0U3ByZWFkJDUoe30sIG9wdGlvbnMpLCB7fSwge1xuICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0VsZW1lbnRSZWFkT25seShlZGl0b3IsIG4pXG4gIH0pKTtcbn07XG5cbnZhciBlbmQgPSAoZWRpdG9yLCBhdCkgPT4ge1xuICByZXR1cm4gRWRpdG9yLnBvaW50KGVkaXRvciwgYXQsIHtcbiAgICBlZGdlOiAnZW5kJ1xuICB9KTtcbn07XG5cbnZhciBmaXJzdCA9IChlZGl0b3IsIGF0KSA9PiB7XG4gIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwge1xuICAgIGVkZ2U6ICdzdGFydCdcbiAgfSk7XG4gIHJldHVybiBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpO1xufTtcblxudmFyIGZyYWdtZW50ID0gKGVkaXRvciwgYXQpID0+IHtcbiAgdmFyIHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpO1xuICByZXR1cm4gTm9kZS5mcmFnbWVudChlZGl0b3IsIHJhbmdlKTtcbn07XG5cbmZ1bmN0aW9uIG93bktleXMkNChvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkNCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDQoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQ0KE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIGdldFZvaWQgPSBmdW5jdGlvbiBnZXRWb2lkKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHJldHVybiBFZGl0b3IuYWJvdmUoZWRpdG9yLCBfb2JqZWN0U3ByZWFkJDQoX29iamVjdFNwcmVhZCQ0KHt9LCBvcHRpb25zKSwge30sIHtcbiAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbilcbiAgfSkpO1xufTtcblxudmFyIGhhc0Jsb2NrcyA9IChlZGl0b3IsIGVsZW1lbnQpID0+IHtcbiAgcmV0dXJuIGVsZW1lbnQuY2hpbGRyZW4uc29tZShuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbikpO1xufTtcblxudmFyIGhhc0lubGluZXMgPSAoZWRpdG9yLCBlbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLnNvbWUobiA9PiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSk7XG59O1xuXG52YXIgaGFzUGF0aCA9IChlZGl0b3IsIHBhdGgpID0+IHtcbiAgcmV0dXJuIE5vZGUuaGFzKGVkaXRvciwgcGF0aCk7XG59O1xuXG52YXIgaGFzVGV4dHMgPSAoZWRpdG9yLCBlbGVtZW50KSA9PiB7XG4gIHJldHVybiBlbGVtZW50LmNoaWxkcmVuLmV2ZXJ5KG4gPT4gVGV4dC5pc1RleHQobikpO1xufTtcblxudmFyIGluc2VydEJyZWFrID0gZWRpdG9yID0+IHtcbiAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwge1xuICAgIGFsd2F5czogdHJ1ZVxuICB9KTtcbn07XG5cbnZhciBpbnNlcnROb2RlID0gKGVkaXRvciwgbm9kZSwgb3B0aW9ucykgPT4ge1xuICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgbm9kZSwgb3B0aW9ucyk7XG59O1xuXG52YXIgaW5zZXJ0U29mdEJyZWFrID0gZWRpdG9yID0+IHtcbiAgVHJhbnNmb3Jtcy5zcGxpdE5vZGVzKGVkaXRvciwge1xuICAgIGFsd2F5czogdHJ1ZVxuICB9KTtcbn07XG5cbmZ1bmN0aW9uIG93bktleXMkMyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQkMyh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzJDMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyQzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIGluc2VydFRleHQgPSBmdW5jdGlvbiBpbnNlcnRUZXh0KGVkaXRvciwgdGV4dCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciB7XG4gICAgc2VsZWN0aW9uLFxuICAgIG1hcmtzXG4gIH0gPSBlZGl0b3I7XG5cbiAgaWYgKHNlbGVjdGlvbikge1xuICAgIGlmIChtYXJrcykge1xuICAgICAgdmFyIG5vZGUgPSBfb2JqZWN0U3ByZWFkJDMoe1xuICAgICAgICB0ZXh0XG4gICAgICB9LCBtYXJrcyk7XG5cbiAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBub2RlLCB7XG4gICAgICAgIGF0OiBvcHRpb25zLmF0LFxuICAgICAgICB2b2lkczogb3B0aW9ucy52b2lkc1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0VGV4dChlZGl0b3IsIHRleHQsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIGVkaXRvci5tYXJrcyA9IG51bGw7XG4gIH1cbn07XG5cbnZhciBpc0Jsb2NrID0gKGVkaXRvciwgdmFsdWUpID0+IHtcbiAgcmV0dXJuICFlZGl0b3IuaXNJbmxpbmUodmFsdWUpO1xufTtcblxudmFyIGlzRWRnZSA9IChlZGl0b3IsIHBvaW50LCBhdCkgPT4ge1xuICByZXR1cm4gRWRpdG9yLmlzU3RhcnQoZWRpdG9yLCBwb2ludCwgYXQpIHx8IEVkaXRvci5pc0VuZChlZGl0b3IsIHBvaW50LCBhdCk7XG59O1xuXG52YXIgaXNFbXB0eSA9IChlZGl0b3IsIGVsZW1lbnQpID0+IHtcbiAgdmFyIHtcbiAgICBjaGlsZHJlblxuICB9ID0gZWxlbWVudDtcbiAgdmFyIFtmaXJzdF0gPSBjaGlsZHJlbjtcbiAgcmV0dXJuIGNoaWxkcmVuLmxlbmd0aCA9PT0gMCB8fCBjaGlsZHJlbi5sZW5ndGggPT09IDEgJiYgVGV4dC5pc1RleHQoZmlyc3QpICYmIGZpcnN0LnRleHQgPT09ICcnICYmICFlZGl0b3IuaXNWb2lkKGVsZW1lbnQpO1xufTtcblxudmFyIGlzRW5kID0gKGVkaXRvciwgcG9pbnQsIGF0KSA9PiB7XG4gIHZhciBlbmQgPSBFZGl0b3IuZW5kKGVkaXRvciwgYXQpO1xuICByZXR1cm4gUG9pbnQuZXF1YWxzKHBvaW50LCBlbmQpO1xufTtcblxudmFyIGlzTm9ybWFsaXppbmcgPSBlZGl0b3IgPT4ge1xuICB2YXIgaXNOb3JtYWxpemluZyA9IE5PUk1BTElaSU5HLmdldChlZGl0b3IpO1xuICByZXR1cm4gaXNOb3JtYWxpemluZyA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6IGlzTm9ybWFsaXppbmc7XG59O1xuXG52YXIgaXNTdGFydCA9IChlZGl0b3IsIHBvaW50LCBhdCkgPT4ge1xuICAvLyBQRVJGOiBJZiB0aGUgb2Zmc2V0IGlzbid0IGAwYCB3ZSBrbm93IGl0J3Mgbm90IHRoZSBzdGFydC5cbiAgaWYgKHBvaW50Lm9mZnNldCAhPT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBzdGFydCA9IEVkaXRvci5zdGFydChlZGl0b3IsIGF0KTtcbiAgcmV0dXJuIFBvaW50LmVxdWFscyhwb2ludCwgc3RhcnQpO1xufTtcblxudmFyIGxhc3QgPSAoZWRpdG9yLCBhdCkgPT4ge1xuICB2YXIgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIHtcbiAgICBlZGdlOiAnZW5kJ1xuICB9KTtcbiAgcmV0dXJuIEVkaXRvci5ub2RlKGVkaXRvciwgcGF0aCk7XG59O1xuXG52YXIgbGVhZiA9IGZ1bmN0aW9uIGxlYWYoZWRpdG9yLCBhdCkge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDoge307XG4gIHZhciBwYXRoID0gRWRpdG9yLnBhdGgoZWRpdG9yLCBhdCwgb3B0aW9ucyk7XG4gIHZhciBub2RlID0gTm9kZS5sZWFmKGVkaXRvciwgcGF0aCk7XG4gIHJldHVybiBbbm9kZSwgcGF0aF07XG59O1xuXG5mdW5jdGlvbiogbGV2ZWxzKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciB7XG4gICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgIHJldmVyc2UgPSBmYWxzZSxcbiAgICB2b2lkcyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICB2YXIge1xuICAgIG1hdGNoXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgbWF0Y2ggPSAoKSA9PiB0cnVlO1xuICB9XG5cbiAgaWYgKCFhdCkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBsZXZlbHMgPSBbXTtcbiAgdmFyIHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0KTtcblxuICBmb3IgKHZhciBbbiwgcF0gb2YgTm9kZS5sZXZlbHMoZWRpdG9yLCBwYXRoKSkge1xuICAgIGlmICghbWF0Y2gobiwgcCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGxldmVscy5wdXNoKFtuLCBwXSk7XG5cbiAgICBpZiAoIXZvaWRzICYmIEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBuKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgaWYgKHJldmVyc2UpIHtcbiAgICBsZXZlbHMucmV2ZXJzZSgpO1xuICB9XG5cbiAgeWllbGQqIGxldmVscztcbn1cblxudmFyIF9leGNsdWRlZCQxID0gW1widGV4dFwiXSxcbiAgICBfZXhjbHVkZWQyJDEgPSBbXCJ0ZXh0XCJdO1xudmFyIG1hcmtzID0gZnVuY3Rpb24gbWFya3MoZWRpdG9yKSB7XG4gIHZhciB7XG4gICAgbWFya3MsXG4gICAgc2VsZWN0aW9uXG4gIH0gPSBlZGl0b3I7XG5cbiAgaWYgKCFzZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIGlmIChtYXJrcykge1xuICAgIHJldHVybiBtYXJrcztcbiAgfVxuXG4gIGlmIChSYW5nZS5pc0V4cGFuZGVkKHNlbGVjdGlvbikpIHtcbiAgICB2YXIgW21hdGNoXSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dFxuICAgIH0pO1xuXG4gICAgaWYgKG1hdGNoKSB7XG4gICAgICB2YXIgW19ub2RlXSA9IG1hdGNoO1xuXG4gICAgICB2YXIgX3Jlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX25vZGUsIF9leGNsdWRlZCQxKTtcblxuICAgICAgcmV0dXJuIF9yZXN0O1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICB9XG5cbiAgdmFyIHtcbiAgICBhbmNob3JcbiAgfSA9IHNlbGVjdGlvbjtcbiAgdmFyIHtcbiAgICBwYXRoXG4gIH0gPSBhbmNob3I7XG4gIHZhciBbbm9kZV0gPSBFZGl0b3IubGVhZihlZGl0b3IsIHBhdGgpO1xuXG4gIGlmIChhbmNob3Iub2Zmc2V0ID09PSAwKSB7XG4gICAgdmFyIHByZXYgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7XG4gICAgICBhdDogcGF0aCxcbiAgICAgIG1hdGNoOiBUZXh0LmlzVGV4dFxuICAgIH0pO1xuICAgIHZhciBtYXJrZWRWb2lkID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgbWF0Y2g6IG4gPT4gRWxlbWVudC5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzVm9pZChlZGl0b3IsIG4pICYmIGVkaXRvci5tYXJrYWJsZVZvaWQobilcbiAgICB9KTtcblxuICAgIGlmICghbWFya2VkVm9pZCkge1xuICAgICAgdmFyIGJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgICAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pXG4gICAgICB9KTtcblxuICAgICAgaWYgKHByZXYgJiYgYmxvY2spIHtcbiAgICAgICAgdmFyIFtwcmV2Tm9kZSwgcHJldlBhdGhdID0gcHJldjtcbiAgICAgICAgdmFyIFssIGJsb2NrUGF0aF0gPSBibG9jaztcblxuICAgICAgICBpZiAoUGF0aC5pc0FuY2VzdG9yKGJsb2NrUGF0aCwgcHJldlBhdGgpKSB7XG4gICAgICAgICAgbm9kZSA9IHByZXZOb2RlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMiQxKTtcblxuICByZXR1cm4gcmVzdDtcbn07XG5cbnZhciBuZXh0ID0gZnVuY3Rpb24gbmV4dChlZGl0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICB2YXIge1xuICAgIG1vZGUgPSAnbG93ZXN0JyxcbiAgICB2b2lkcyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICB2YXIge1xuICAgIG1hdGNoLFxuICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvblxuICB9ID0gb3B0aW9ucztcblxuICBpZiAoIWF0KSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIHBvaW50QWZ0ZXJMb2NhdGlvbiA9IEVkaXRvci5hZnRlcihlZGl0b3IsIGF0LCB7XG4gICAgdm9pZHNcbiAgfSk7XG4gIGlmICghcG9pbnRBZnRlckxvY2F0aW9uKSByZXR1cm47XG4gIHZhciBbLCB0b10gPSBFZGl0b3IubGFzdChlZGl0b3IsIFtdKTtcbiAgdmFyIHNwYW4gPSBbcG9pbnRBZnRlckxvY2F0aW9uLnBhdGgsIHRvXTtcblxuICBpZiAoUGF0aC5pc1BhdGgoYXQpICYmIGF0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgdGhlIG5leHQgbm9kZSBmcm9tIHRoZSByb290IG5vZGUhXCIpO1xuICB9XG5cbiAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICB2YXIgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgYXQpO1xuXG4gICAgICBtYXRjaCA9IG4gPT4gcGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaCA9ICgpID0+IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIFtuZXh0XSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICBhdDogc3BhbixcbiAgICBtYXRjaCxcbiAgICBtb2RlLFxuICAgIHZvaWRzXG4gIH0pO1xuICByZXR1cm4gbmV4dDtcbn07XG5cbnZhciBub2RlID0gZnVuY3Rpb24gbm9kZShlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHBhdGggPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCBvcHRpb25zKTtcbiAgdmFyIG5vZGUgPSBOb2RlLmdldChlZGl0b3IsIHBhdGgpO1xuICByZXR1cm4gW25vZGUsIHBhdGhdO1xufTtcblxuZnVuY3Rpb24qIG5vZGVzKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciB7XG4gICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgIG1vZGUgPSAnYWxsJyxcbiAgICB1bml2ZXJzYWwgPSBmYWxzZSxcbiAgICByZXZlcnNlID0gZmFsc2UsXG4gICAgdm9pZHMgPSBmYWxzZSxcbiAgICBpZ25vcmVOb25TZWxlY3RhYmxlID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIHZhciB7XG4gICAgbWF0Y2hcbiAgfSA9IG9wdGlvbnM7XG5cbiAgaWYgKCFtYXRjaCkge1xuICAgIG1hdGNoID0gKCkgPT4gdHJ1ZTtcbiAgfVxuXG4gIGlmICghYXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgZnJvbTtcbiAgdmFyIHRvO1xuXG4gIGlmIChTcGFuLmlzU3BhbihhdCkpIHtcbiAgICBmcm9tID0gYXRbMF07XG4gICAgdG8gPSBhdFsxXTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgZmlyc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7XG4gICAgICBlZGdlOiAnc3RhcnQnXG4gICAgfSk7XG4gICAgdmFyIGxhc3QgPSBFZGl0b3IucGF0aChlZGl0b3IsIGF0LCB7XG4gICAgICBlZGdlOiAnZW5kJ1xuICAgIH0pO1xuICAgIGZyb20gPSByZXZlcnNlID8gbGFzdCA6IGZpcnN0O1xuICAgIHRvID0gcmV2ZXJzZSA/IGZpcnN0IDogbGFzdDtcbiAgfVxuXG4gIHZhciBub2RlRW50cmllcyA9IE5vZGUubm9kZXMoZWRpdG9yLCB7XG4gICAgcmV2ZXJzZSxcbiAgICBmcm9tLFxuICAgIHRvLFxuICAgIHBhc3M6IF9yZWYgPT4ge1xuICAgICAgdmFyIFtub2RlXSA9IF9yZWY7XG4gICAgICBpZiAoIUVsZW1lbnQuaXNFbGVtZW50KG5vZGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICBpZiAoIXZvaWRzICYmIChFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkgfHwgRWRpdG9yLmlzRWxlbWVudFJlYWRPbmx5KGVkaXRvciwgbm9kZSkpKSByZXR1cm4gdHJ1ZTtcbiAgICAgIGlmIChpZ25vcmVOb25TZWxlY3RhYmxlICYmICFFZGl0b3IuaXNTZWxlY3RhYmxlKGVkaXRvciwgbm9kZSkpIHJldHVybiB0cnVlO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSk7XG4gIHZhciBtYXRjaGVzID0gW107XG4gIHZhciBoaXQ7XG5cbiAgZm9yICh2YXIgW25vZGUsIHBhdGhdIG9mIG5vZGVFbnRyaWVzKSB7XG4gICAgaWYgKGlnbm9yZU5vblNlbGVjdGFibGUgJiYgRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgIUVkaXRvci5pc1NlbGVjdGFibGUoZWRpdG9yLCBub2RlKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgdmFyIGlzTG93ZXIgPSBoaXQgJiYgUGF0aC5jb21wYXJlKHBhdGgsIGhpdFsxXSkgPT09IDA7IC8vIEluIGhpZ2hlc3QgbW9kZSBhbnkgbm9kZSBsb3dlciB0aGFuIHRoZSBsYXN0IGhpdCBpcyBub3QgYSBtYXRjaC5cblxuICAgIGlmIChtb2RlID09PSAnaGlnaGVzdCcgJiYgaXNMb3dlcikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuXG4gICAgaWYgKCFtYXRjaChub2RlLCBwYXRoKSkge1xuICAgICAgLy8gSWYgd2UndmUgYXJyaXZlZCBhdCBhIGxlYWYgdGV4dCBub2RlIHRoYXQgaXMgbm90IGxvd2VyIHRoYW4gdGhlIGxhc3RcbiAgICAgIC8vIGhpdCwgdGhlbiB3ZSd2ZSBmb3VuZCBhIGJyYW5jaCB0aGF0IGRvZXNuJ3QgaW5jbHVkZSBhIG1hdGNoLCB3aGljaFxuICAgICAgLy8gbWVhbnMgdGhlIG1hdGNoIGlzIG5vdCB1bml2ZXJzYWwuXG4gICAgICBpZiAodW5pdmVyc2FsICYmICFpc0xvd2VyICYmIFRleHQuaXNUZXh0KG5vZGUpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH0gLy8gSWYgdGhlcmUncyBhIG1hdGNoIGFuZCBpdCdzIGxvd2VyIHRoYW4gdGhlIGxhc3QsIHVwZGF0ZSB0aGUgaGl0LlxuXG5cbiAgICBpZiAobW9kZSA9PT0gJ2xvd2VzdCcgJiYgaXNMb3dlcikge1xuICAgICAgaGl0ID0gW25vZGUsIHBhdGhdO1xuICAgICAgY29udGludWU7XG4gICAgfSAvLyBJbiBsb3dlc3QgbW9kZSB3ZSBlbWl0IHRoZSBsYXN0IGhpdCwgb25jZSBpdCdzIGd1YXJhbnRlZWQgbG93ZXN0LlxuXG5cbiAgICB2YXIgZW1pdCA9IG1vZGUgPT09ICdsb3dlc3QnID8gaGl0IDogW25vZGUsIHBhdGhdO1xuXG4gICAgaWYgKGVtaXQpIHtcbiAgICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgICAgbWF0Y2hlcy5wdXNoKGVtaXQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgeWllbGQgZW1pdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBoaXQgPSBbbm9kZSwgcGF0aF07XG4gIH0gLy8gU2luY2UgbG93ZXN0IGlzIGFsd2F5cyBlbWl0dGluZyBvbmUgYmVoaW5kLCBjYXRjaCB1cCBhdCB0aGUgZW5kLlxuXG5cbiAgaWYgKG1vZGUgPT09ICdsb3dlc3QnICYmIGhpdCkge1xuICAgIGlmICh1bml2ZXJzYWwpIHtcbiAgICAgIG1hdGNoZXMucHVzaChoaXQpO1xuICAgIH0gZWxzZSB7XG4gICAgICB5aWVsZCBoaXQ7XG4gICAgfVxuICB9IC8vIFVuaXZlcnNhbCBkZWZlcnMgdG8gZW5zdXJlIHRoYXQgdGhlIG1hdGNoIG9jY3VycyBpbiBldmVyeSBicmFuY2gsIHNvIHdlXG4gIC8vIHlpZWxkIGFsbCBvZiB0aGUgbWF0Y2hlcyBhZnRlciBpdGVyYXRpbmcuXG5cblxuICBpZiAodW5pdmVyc2FsKSB7XG4gICAgeWllbGQqIG1hdGNoZXM7XG4gIH1cbn1cblxudmFyIG5vcm1hbGl6ZSA9IGZ1bmN0aW9uIG5vcm1hbGl6ZShlZGl0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICB2YXIge1xuICAgIGZvcmNlID0gZmFsc2UsXG4gICAgb3BlcmF0aW9uXG4gIH0gPSBvcHRpb25zO1xuXG4gIHZhciBnZXREaXJ0eVBhdGhzID0gZWRpdG9yID0+IHtcbiAgICByZXR1cm4gRElSVFlfUEFUSFMuZ2V0KGVkaXRvcikgfHwgW107XG4gIH07XG5cbiAgdmFyIGdldERpcnR5UGF0aEtleXMgPSBlZGl0b3IgPT4ge1xuICAgIHJldHVybiBESVJUWV9QQVRIX0tFWVMuZ2V0KGVkaXRvcikgfHwgbmV3IFNldCgpO1xuICB9O1xuXG4gIHZhciBwb3BEaXJ0eVBhdGggPSBlZGl0b3IgPT4ge1xuICAgIHZhciBwYXRoID0gZ2V0RGlydHlQYXRocyhlZGl0b3IpLnBvcCgpO1xuICAgIHZhciBrZXkgPSBwYXRoLmpvaW4oJywnKTtcbiAgICBnZXREaXJ0eVBhdGhLZXlzKGVkaXRvcikuZGVsZXRlKGtleSk7XG4gICAgcmV0dXJuIHBhdGg7XG4gIH07XG5cbiAgaWYgKCFFZGl0b3IuaXNOb3JtYWxpemluZyhlZGl0b3IpKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGZvcmNlKSB7XG4gICAgdmFyIGFsbFBhdGhzID0gQXJyYXkuZnJvbShOb2RlLm5vZGVzKGVkaXRvciksIF9yZWYgPT4ge1xuICAgICAgdmFyIFssIHBdID0gX3JlZjtcbiAgICAgIHJldHVybiBwO1xuICAgIH0pO1xuICAgIHZhciBhbGxQYXRoS2V5cyA9IG5ldyBTZXQoYWxsUGF0aHMubWFwKHAgPT4gcC5qb2luKCcsJykpKTtcbiAgICBESVJUWV9QQVRIUy5zZXQoZWRpdG9yLCBhbGxQYXRocyk7XG4gICAgRElSVFlfUEFUSF9LRVlTLnNldChlZGl0b3IsIGFsbFBhdGhLZXlzKTtcbiAgfVxuXG4gIGlmIChnZXREaXJ0eVBhdGhzKGVkaXRvcikubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICAvKlxyXG4gICAgICBGaXggZGlydHkgZWxlbWVudHMgd2l0aCBubyBjaGlsZHJlbi5cclxuICAgICAgZWRpdG9yLm5vcm1hbGl6ZU5vZGUoKSBkb2VzIGZpeCB0aGlzLCBidXQgc29tZSBub3JtYWxpemF0aW9uIGZpeGVzIGFsc28gcmVxdWlyZSBpdCB0byB3b3JrLlxyXG4gICAgICBSdW5uaW5nIGFuIGluaXRpYWwgcGFzcyBhdm9pZHMgdGhlIGNhdGNoLTIyIHJhY2UgY29uZGl0aW9uLlxyXG4gICAgKi9cbiAgICBmb3IgKHZhciBkaXJ0eVBhdGggb2YgZ2V0RGlydHlQYXRocyhlZGl0b3IpKSB7XG4gICAgICBpZiAoTm9kZS5oYXMoZWRpdG9yLCBkaXJ0eVBhdGgpKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IEVkaXRvci5ub2RlKGVkaXRvciwgZGlydHlQYXRoKTtcbiAgICAgICAgdmFyIFtub2RlLCBfXSA9IGVudHJ5O1xuICAgICAgICAvKlxyXG4gICAgICAgICAgVGhlIGRlZmF1bHQgbm9ybWFsaXplciBpbnNlcnRzIGFuIGVtcHR5IHRleHQgbm9kZSBpbiB0aGlzIHNjZW5hcmlvLCBidXQgaXQgY2FuIGJlIGN1c3RvbWlzZWQuXHJcbiAgICAgICAgICBTbyB0aGVyZSBpcyBzb21lIHJpc2sgaGVyZS5cclxuICAgICAgICAgICAgICAgICAgIEFzIGxvbmcgYXMgdGhlIG5vcm1hbGl6ZXIgb25seSBpbnNlcnRzIGNoaWxkIG5vZGVzIGZvciB0aGlzIGNhc2UgaXQgaXMgc2FmZSB0byBkbyBpbiBhbnkgb3JkZXI7XHJcbiAgICAgICAgICBieSBkZWZpbml0aW9uIGFkZGluZyBjaGlsZHJlbiB0byBhbiBlbXB0eSBub2RlIGNhbid0IGNhdXNlIG90aGVyIHBhdGhzIHRvIGNoYW5nZS5cclxuICAgICAgICAqL1xuXG4gICAgICAgIGlmIChFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBub2RlLmNoaWxkcmVuLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGVkaXRvci5ub3JtYWxpemVOb2RlKGVudHJ5LCB7XG4gICAgICAgICAgICBvcGVyYXRpb25cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBkaXJ0eVBhdGhzID0gZ2V0RGlydHlQYXRocyhlZGl0b3IpO1xuICAgIHZhciBpbml0aWFsRGlydHlQYXRoc0xlbmd0aCA9IGRpcnR5UGF0aHMubGVuZ3RoO1xuICAgIHZhciBpdGVyYXRpb24gPSAwO1xuXG4gICAgd2hpbGUgKGRpcnR5UGF0aHMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBpZiAoIWVkaXRvci5zaG91bGROb3JtYWxpemUoe1xuICAgICAgICBkaXJ0eVBhdGhzLFxuICAgICAgICBpdGVyYXRpb24sXG4gICAgICAgIGluaXRpYWxEaXJ0eVBhdGhzTGVuZ3RoLFxuICAgICAgICBvcGVyYXRpb25cbiAgICAgIH0pKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIF9kaXJ0eVBhdGggPSBwb3BEaXJ0eVBhdGgoZWRpdG9yKTsgLy8gSWYgdGhlIG5vZGUgZG9lc24ndCBleGlzdCBpbiB0aGUgdHJlZSwgaXQgZG9lcyBub3QgbmVlZCB0byBiZSBub3JtYWxpemVkLlxuXG5cbiAgICAgIGlmIChOb2RlLmhhcyhlZGl0b3IsIF9kaXJ0eVBhdGgpKSB7XG4gICAgICAgIHZhciBfZW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIF9kaXJ0eVBhdGgpO1xuXG4gICAgICAgIGVkaXRvci5ub3JtYWxpemVOb2RlKF9lbnRyeSwge1xuICAgICAgICAgIG9wZXJhdGlvblxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaXRlcmF0aW9uKys7XG4gICAgICBkaXJ0eVBhdGhzID0gZ2V0RGlydHlQYXRocyhlZGl0b3IpO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgcGFyZW50ID0gZnVuY3Rpb24gcGFyZW50KGVkaXRvciwgYXQpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIgcGF0aCA9IEVkaXRvci5wYXRoKGVkaXRvciwgYXQsIG9wdGlvbnMpO1xuICB2YXIgcGFyZW50UGF0aCA9IFBhdGgucGFyZW50KHBhdGgpO1xuICB2YXIgZW50cnkgPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhcmVudFBhdGgpO1xuICByZXR1cm4gZW50cnk7XG59O1xuXG52YXIgcGF0aFJlZiA9IGZ1bmN0aW9uIHBhdGhSZWYoZWRpdG9yLCBwYXRoKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICBhZmZpbml0eSA9ICdmb3J3YXJkJ1xuICB9ID0gb3B0aW9ucztcbiAgdmFyIHJlZiA9IHtcbiAgICBjdXJyZW50OiBwYXRoLFxuICAgIGFmZmluaXR5LFxuXG4gICAgdW5yZWYoKSB7XG4gICAgICB2YXIge1xuICAgICAgICBjdXJyZW50XG4gICAgICB9ID0gcmVmO1xuICAgICAgdmFyIHBhdGhSZWZzID0gRWRpdG9yLnBhdGhSZWZzKGVkaXRvcik7XG4gICAgICBwYXRoUmVmcy5kZWxldGUocmVmKTtcbiAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICB9O1xuICB2YXIgcmVmcyA9IEVkaXRvci5wYXRoUmVmcyhlZGl0b3IpO1xuICByZWZzLmFkZChyZWYpO1xuICByZXR1cm4gcmVmO1xufTtcblxudmFyIHBhdGhSZWZzID0gZWRpdG9yID0+IHtcbiAgdmFyIHJlZnMgPSBQQVRIX1JFRlMuZ2V0KGVkaXRvcik7XG5cbiAgaWYgKCFyZWZzKSB7XG4gICAgcmVmcyA9IG5ldyBTZXQoKTtcbiAgICBQQVRIX1JFRlMuc2V0KGVkaXRvciwgcmVmcyk7XG4gIH1cblxuICByZXR1cm4gcmVmcztcbn07XG5cbnZhciBwYXRoID0gZnVuY3Rpb24gcGF0aChlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICBkZXB0aCxcbiAgICBlZGdlXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICBpZiAoZWRnZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgdmFyIFssIGZpcnN0UGF0aF0gPSBOb2RlLmZpcnN0KGVkaXRvciwgYXQpO1xuICAgICAgYXQgPSBmaXJzdFBhdGg7XG4gICAgfSBlbHNlIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgICAgdmFyIFssIGxhc3RQYXRoXSA9IE5vZGUubGFzdChlZGl0b3IsIGF0KTtcbiAgICAgIGF0ID0gbGFzdFBhdGg7XG4gICAgfVxuICB9XG5cbiAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICAgIGF0ID0gUmFuZ2Uuc3RhcnQoYXQpO1xuICAgIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgIGF0ID0gUmFuZ2UuZW5kKGF0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXQgPSBQYXRoLmNvbW1vbihhdC5hbmNob3IucGF0aCwgYXQuZm9jdXMucGF0aCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKFBvaW50LmlzUG9pbnQoYXQpKSB7XG4gICAgYXQgPSBhdC5wYXRoO1xuICB9XG5cbiAgaWYgKGRlcHRoICE9IG51bGwpIHtcbiAgICBhdCA9IGF0LnNsaWNlKDAsIGRlcHRoKTtcbiAgfVxuXG4gIHJldHVybiBhdDtcbn07XG5cbnZhciBwb2ludFJlZiA9IGZ1bmN0aW9uIHBvaW50UmVmKGVkaXRvciwgcG9pbnQpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICB2YXIge1xuICAgIGFmZmluaXR5ID0gJ2ZvcndhcmQnXG4gIH0gPSBvcHRpb25zO1xuICB2YXIgcmVmID0ge1xuICAgIGN1cnJlbnQ6IHBvaW50LFxuICAgIGFmZmluaXR5LFxuXG4gICAgdW5yZWYoKSB7XG4gICAgICB2YXIge1xuICAgICAgICBjdXJyZW50XG4gICAgICB9ID0gcmVmO1xuICAgICAgdmFyIHBvaW50UmVmcyA9IEVkaXRvci5wb2ludFJlZnMoZWRpdG9yKTtcbiAgICAgIHBvaW50UmVmcy5kZWxldGUocmVmKTtcbiAgICAgIHJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgIHJldHVybiBjdXJyZW50O1xuICAgIH1cblxuICB9O1xuICB2YXIgcmVmcyA9IEVkaXRvci5wb2ludFJlZnMoZWRpdG9yKTtcbiAgcmVmcy5hZGQocmVmKTtcbiAgcmV0dXJuIHJlZjtcbn07XG5cbnZhciBwb2ludFJlZnMgPSBlZGl0b3IgPT4ge1xuICB2YXIgcmVmcyA9IFBPSU5UX1JFRlMuZ2V0KGVkaXRvcik7XG5cbiAgaWYgKCFyZWZzKSB7XG4gICAgcmVmcyA9IG5ldyBTZXQoKTtcbiAgICBQT0lOVF9SRUZTLnNldChlZGl0b3IsIHJlZnMpO1xuICB9XG5cbiAgcmV0dXJuIHJlZnM7XG59O1xuXG52YXIgcG9pbnQgPSBmdW5jdGlvbiBwb2ludChlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICBlZGdlID0gJ3N0YXJ0J1xuICB9ID0gb3B0aW9ucztcblxuICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgdmFyIHBhdGg7XG5cbiAgICBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICAgIHZhciBbLCBsYXN0UGF0aF0gPSBOb2RlLmxhc3QoZWRpdG9yLCBhdCk7XG4gICAgICBwYXRoID0gbGFzdFBhdGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBbLCBmaXJzdFBhdGhdID0gTm9kZS5maXJzdChlZGl0b3IsIGF0KTtcbiAgICAgIHBhdGggPSBmaXJzdFBhdGg7XG4gICAgfVxuXG4gICAgdmFyIG5vZGUgPSBOb2RlLmdldChlZGl0b3IsIHBhdGgpO1xuXG4gICAgaWYgKCFUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgXCIuY29uY2F0KGVkZ2UsIFwiIHBvaW50IGluIHRoZSBub2RlIGF0IHBhdGggW1wiKS5jb25jYXQoYXQsIFwiXSBiZWNhdXNlIGl0IGhhcyBubyBcIikuY29uY2F0KGVkZ2UsIFwiIHRleHQgbm9kZS5cIikpO1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICBwYXRoLFxuICAgICAgb2Zmc2V0OiBlZGdlID09PSAnZW5kJyA/IG5vZGUudGV4dC5sZW5ndGggOiAwXG4gICAgfTtcbiAgfVxuXG4gIGlmIChSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgIHZhciBbc3RhcnQsIGVuZF0gPSBSYW5nZS5lZGdlcyhhdCk7XG4gICAgcmV0dXJuIGVkZ2UgPT09ICdzdGFydCcgPyBzdGFydCA6IGVuZDtcbiAgfVxuXG4gIHJldHVybiBhdDtcbn07XG5cbmZ1bmN0aW9uKiBwb3NpdGlvbnMoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIHtcbiAgICBhdCA9IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgdW5pdCA9ICdvZmZzZXQnLFxuICAgIHJldmVyc2UgPSBmYWxzZSxcbiAgICB2b2lkcyA9IGZhbHNlLFxuICAgIGlnbm9yZU5vblNlbGVjdGFibGUgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcblxuICBpZiAoIWF0KSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qKlxyXG4gICAqIEFsZ29yaXRobSBub3RlczpcclxuICAgKlxyXG4gICAqIEVhY2ggc3RlcCBgZGlzdGFuY2VgIGlzIGR5bmFtaWMgZGVwZW5kaW5nIG9uIHRoZSB1bmRlcmx5aW5nIHRleHRcclxuICAgKiBhbmQgdGhlIGB1bml0YCBzcGVjaWZpZWQuICBFYWNoIHN0ZXAsIGUuZy4sIGEgbGluZSBvciB3b3JkLCBtYXlcclxuICAgKiBzcGFuIG11bHRpcGxlIHRleHQgbm9kZXMsIHNvIHdlIGl0ZXJhdGUgdGhyb3VnaCB0aGUgdGV4dCBib3RoIG9uXHJcbiAgICogdHdvIGxldmVscyBpbiBzdGVwLXN5bmM6XHJcbiAgICpcclxuICAgKiBgbGVhZlRleHRgIHN0b3JlcyB0aGUgdGV4dCBvbiBhIHRleHQgbGVhZiBsZXZlbCwgYW5kIGlzIGFkdmFuY2VkXHJcbiAgICogdGhyb3VnaCB1c2luZyB0aGUgY291bnRlcnMgYGxlYWZUZXh0T2Zmc2V0YCBhbmQgYGxlYWZUZXh0UmVtYWluaW5nYC5cclxuICAgKlxyXG4gICAqIGBibG9ja1RleHRgIHN0b3JlcyB0aGUgdGV4dCBvbiBhIGJsb2NrIGxldmVsLCBhbmQgaXMgc2hvcnRlbmVkXHJcbiAgICogYnkgYGRpc3RhbmNlYCBldmVyeSB0aW1lIGl0IGlzIGFkdmFuY2VkLlxyXG4gICAqXHJcbiAgICogV2Ugb25seSBtYWludGFpbiBhIHdpbmRvdyBvZiBvbmUgYmxvY2tUZXh0IGFuZCBvbmUgbGVhZlRleHQgYmVjYXVzZVxyXG4gICAqIGEgYmxvY2sgbm9kZSBhbHdheXMgYXBwZWFycyBiZWZvcmUgYWxsIG9mIGl0cyBsZWFmIG5vZGVzLlxyXG4gICAqL1xuXG5cbiAgdmFyIHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgYXQpO1xuICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpO1xuICB2YXIgZmlyc3QgPSByZXZlcnNlID8gZW5kIDogc3RhcnQ7XG4gIHZhciBpc05ld0Jsb2NrID0gZmFsc2U7XG4gIHZhciBibG9ja1RleHQgPSAnJztcbiAgdmFyIGRpc3RhbmNlID0gMDsgLy8gRGlzdGFuY2UgZm9yIGxlYWZUZXh0IHRvIGNhdGNoIHVwIHRvIGJsb2NrVGV4dC5cblxuICB2YXIgbGVhZlRleHRSZW1haW5pbmcgPSAwO1xuICB2YXIgbGVhZlRleHRPZmZzZXQgPSAwOyAvLyBJdGVyYXRlIHRocm91Z2ggYWxsIG5vZGVzIGluIHJhbmdlLCBncmFiYmluZyBlbnRpcmUgdGV4dHVhbCBjb250ZW50XG4gIC8vIG9mIGJsb2NrIG5vZGVzIGluIGJsb2NrVGV4dCwgYW5kIHRleHQgbm9kZXMgaW4gbGVhZlRleHQuXG4gIC8vIEV4cGxvaXRzIHRoZSBmYWN0IHRoYXQgbm9kZXMgYXJlIHNlcXVlbmNlZCBpbiBzdWNoIGEgd2F5IHRoYXQgd2UgZmlyc3RcbiAgLy8gZW5jb3VudGVyIHRoZSBibG9jayBub2RlLCB0aGVuIGFsbCBvZiBpdHMgdGV4dCBub2Rlcywgc28gd2hlbiBpdGVyYXRpbmdcbiAgLy8gdGhyb3VnaCB0aGUgYmxvY2tUZXh0IGFuZCBsZWFmVGV4dCB3ZSBqdXN0IG5lZWQgdG8gcmVtZW1iZXIgYSB3aW5kb3cgb2ZcbiAgLy8gb25lIGJsb2NrIG5vZGUgYW5kIGxlYWYgbm9kZSwgcmVzcGVjdGl2ZWx5LlxuXG4gIGZvciAodmFyIFtub2RlLCBwYXRoXSBvZiBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgYXQsXG4gICAgcmV2ZXJzZSxcbiAgICB2b2lkcyxcbiAgICBpZ25vcmVOb25TZWxlY3RhYmxlXG4gIH0pKSB7XG4gICAgLypcclxuICAgICAqIEVMRU1FTlQgTk9ERSAtIFlpZWxkIHBvc2l0aW9uKHMpIGZvciB2b2lkcywgY29sbGVjdCBibG9ja1RleHQgZm9yIGJsb2Nrc1xyXG4gICAgICovXG4gICAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgICAvLyBWb2lkIG5vZGVzIGFyZSBhIHNwZWNpYWwgY2FzZSwgc28gYnkgZGVmYXVsdCB3ZSB3aWxsIGFsd2F5c1xuICAgICAgLy8geWllbGQgdGhlaXIgZmlyc3QgcG9pbnQuIElmIHRoZSBgdm9pZHNgIG9wdGlvbiBpcyBzZXQgdG8gdHJ1ZSxcbiAgICAgIC8vIHRoZW4gd2Ugd2lsbCBpdGVyYXRlIG92ZXIgdGhlaXIgY29udGVudC5cbiAgICAgIGlmICghdm9pZHMgJiYgKGVkaXRvci5pc1ZvaWQobm9kZSkgfHwgZWRpdG9yLmlzRWxlbWVudFJlYWRPbmx5KG5vZGUpKSkge1xuICAgICAgICB5aWVsZCBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBwYXRoKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9IC8vIElubGluZSBlbGVtZW50IG5vZGVzIGFyZSBpZ25vcmVkIGFzIHRoZXkgZG9uJ3QgdGhlbXNlbHZlc1xuICAgICAgLy8gY29udHJpYnV0ZSB0byBgYmxvY2tUZXh0YCBvciBgbGVhZlRleHRgIC0gdGhlaXIgcGFyZW50IGFuZFxuICAgICAgLy8gY2hpbGRyZW4gZG8uXG5cblxuICAgICAgaWYgKGVkaXRvci5pc0lubGluZShub2RlKSkgY29udGludWU7IC8vIEJsb2NrIGVsZW1lbnQgbm9kZSAtIHNldCBgYmxvY2tUZXh0YCB0byBpdHMgdGV4dCBjb250ZW50LlxuXG4gICAgICBpZiAoRWRpdG9yLmhhc0lubGluZXMoZWRpdG9yLCBub2RlKSkge1xuICAgICAgICAvLyBXZSBhbHdheXMgZXhoYXVzdCBibG9jayBub2RlcyBiZWZvcmUgZW5jb3VudGVyaW5nIGEgbmV3IG9uZTpcbiAgICAgICAgLy8gICBjb25zb2xlLmFzc2VydChibG9ja1RleHQgPT09ICcnLFxuICAgICAgICAvLyAgICAgYGJsb2NrVGV4dD0nJHtibG9ja1RleHR9JyAtIGArXG4gICAgICAgIC8vICAgICBgbm90IGV4aGF1c3RlZCBiZWZvcmUgbmV3IGJsb2NrIG5vZGVgLCBwYXRoKVxuICAgICAgICAvLyBFbnN1cmUgcmFuZ2UgY29uc2lkZXJlZCBpcyBjYXBwZWQgdG8gYHJhbmdlYCwgaW4gdGhlXG4gICAgICAgIC8vIHN0YXJ0L2VuZCBlZGdlIGNhc2VzIHdoZXJlIGJsb2NrIGV4dGVuZHMgYmV5b25kIHJhbmdlLlxuICAgICAgICAvLyBFcXVpdmFsZW50IHRvIHRoaXMsIGJ1dCBwcmVzdW1hYmx5IG1vcmUgcGVyZm9ybWFudDpcbiAgICAgICAgLy8gICBibG9ja1JhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgLi4uRWRpdG9yLmVkZ2VzKGVkaXRvciwgcGF0aCkpXG4gICAgICAgIC8vICAgYmxvY2tSYW5nZSA9IFJhbmdlLmludGVyc2VjdGlvbihyYW5nZSwgYmxvY2tSYW5nZSkgLy8gaW50ZXJzZWN0XG4gICAgICAgIC8vICAgYmxvY2tUZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIGJsb2NrUmFuZ2UsIHsgdm9pZHMgfSlcbiAgICAgICAgdmFyIGUgPSBQYXRoLmlzQW5jZXN0b3IocGF0aCwgZW5kLnBhdGgpID8gZW5kIDogRWRpdG9yLmVuZChlZGl0b3IsIHBhdGgpO1xuICAgICAgICB2YXIgcyA9IFBhdGguaXNBbmNlc3RvcihwYXRoLCBzdGFydC5wYXRoKSA/IHN0YXJ0IDogRWRpdG9yLnN0YXJ0KGVkaXRvciwgcGF0aCk7XG4gICAgICAgIGJsb2NrVGV4dCA9IEVkaXRvci5zdHJpbmcoZWRpdG9yLCB7XG4gICAgICAgICAgYW5jaG9yOiBzLFxuICAgICAgICAgIGZvY3VzOiBlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgICAgaXNOZXdCbG9jayA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIC8qXHJcbiAgICAgKiBURVhUIExFQUYgTk9ERSAtIEl0ZXJhdGUgdGhyb3VnaCB0ZXh0IGNvbnRlbnQsIHlpZWxkaW5nXHJcbiAgICAgKiBwb3NpdGlvbnMgZXZlcnkgYGRpc3RhbmNlYCBvZmZzZXQgYWNjb3JkaW5nIHRvIGB1bml0YC5cclxuICAgICAqL1xuXG5cbiAgICBpZiAoVGV4dC5pc1RleHQobm9kZSkpIHtcbiAgICAgIHZhciBpc0ZpcnN0ID0gUGF0aC5lcXVhbHMocGF0aCwgZmlyc3QucGF0aCk7IC8vIFByb29mIHRoYXQgd2UgYWx3YXlzIGV4aGF1c3QgdGV4dCBub2RlcyBiZWZvcmUgZW5jb3VudGVyaW5nIGEgbmV3IG9uZTpcbiAgICAgIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCxcbiAgICAgIC8vICAgICBgbGVhZlRleHRSZW1haW5pbmc9JHtsZWFmVGV4dFJlbWFpbmluZ30gLSBgK1xuICAgICAgLy8gICAgIGBub3QgZXhoYXVzdGVkIGJlZm9yZSBuZXcgbGVhZiB0ZXh0IG5vZGVgLCBwYXRoKVxuICAgICAgLy8gUmVzZXQgYGxlYWZUZXh0YCBjb3VudGVycyBmb3IgbmV3IHRleHQgbm9kZS5cblxuICAgICAgaWYgKGlzRmlyc3QpIHtcbiAgICAgICAgbGVhZlRleHRSZW1haW5pbmcgPSByZXZlcnNlID8gZmlyc3Qub2Zmc2V0IDogbm9kZS50ZXh0Lmxlbmd0aCAtIGZpcnN0Lm9mZnNldDtcbiAgICAgICAgbGVhZlRleHRPZmZzZXQgPSBmaXJzdC5vZmZzZXQ7IC8vIFdvcmtzIGZvciByZXZlcnNlIHRvby5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxlYWZUZXh0UmVtYWluaW5nID0gbm9kZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgbGVhZlRleHRPZmZzZXQgPSByZXZlcnNlID8gbGVhZlRleHRSZW1haW5pbmcgOiAwO1xuICAgICAgfSAvLyBZaWVsZCBwb3NpdGlvbiBhdCB0aGUgc3RhcnQgb2Ygbm9kZSAocG90ZW50aWFsbHkpLlxuXG5cbiAgICAgIGlmIChpc0ZpcnN0IHx8IGlzTmV3QmxvY2sgfHwgdW5pdCA9PT0gJ29mZnNldCcpIHtcbiAgICAgICAgeWllbGQge1xuICAgICAgICAgIHBhdGgsXG4gICAgICAgICAgb2Zmc2V0OiBsZWFmVGV4dE9mZnNldFxuICAgICAgICB9O1xuICAgICAgICBpc05ld0Jsb2NrID0gZmFsc2U7XG4gICAgICB9IC8vIFlpZWxkIHBvc2l0aW9ucyBldmVyeSAoZHluYW1pY2FsbHkgY2FsY3VsYXRlZCkgYGRpc3RhbmNlYCBvZmZzZXQuXG5cblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgLy8gSWYgYGxlYWZUZXh0YCBoYXMgY2F1Z2h0IHVwIHdpdGggYGJsb2NrVGV4dGAgKGRpc3RhbmNlPTApLFxuICAgICAgICAvLyBhbmQgaWYgYmxvY2tUZXh0IGlzIGV4aGF1c3RlZCwgYnJlYWsgdG8gZ2V0IGFub3RoZXIgYmxvY2sgbm9kZSxcbiAgICAgICAgLy8gb3RoZXJ3aXNlIGFkdmFuY2UgYmxvY2tUZXh0IGZvcndhcmQgYnkgdGhlIG5ldyBgZGlzdGFuY2VgLlxuICAgICAgICBpZiAoZGlzdGFuY2UgPT09IDApIHtcbiAgICAgICAgICBpZiAoYmxvY2tUZXh0ID09PSAnJykgYnJlYWs7XG4gICAgICAgICAgZGlzdGFuY2UgPSBjYWxjRGlzdGFuY2UoYmxvY2tUZXh0LCB1bml0LCByZXZlcnNlKTsgLy8gU3BsaXQgdGhlIHN0cmluZyBhdCB0aGUgcHJldmlvdXNseSBmb3VuZCBkaXN0YW5jZSBhbmQgdXNlIHRoZVxuICAgICAgICAgIC8vIHJlbWFpbmluZyBzdHJpbmcgZm9yIHRoZSBuZXh0IGl0ZXJhdGlvbi5cblxuICAgICAgICAgIGJsb2NrVGV4dCA9IHNwbGl0QnlDaGFyYWN0ZXJEaXN0YW5jZShibG9ja1RleHQsIGRpc3RhbmNlLCByZXZlcnNlKVsxXTtcbiAgICAgICAgfSAvLyBBZHZhbmNlIGBsZWFmVGV4dGAgYnkgdGhlIGN1cnJlbnQgYGRpc3RhbmNlYC5cblxuXG4gICAgICAgIGxlYWZUZXh0T2Zmc2V0ID0gcmV2ZXJzZSA/IGxlYWZUZXh0T2Zmc2V0IC0gZGlzdGFuY2UgOiBsZWFmVGV4dE9mZnNldCArIGRpc3RhbmNlO1xuICAgICAgICBsZWFmVGV4dFJlbWFpbmluZyA9IGxlYWZUZXh0UmVtYWluaW5nIC0gZGlzdGFuY2U7IC8vIElmIGBsZWFmVGV4dGAgaXMgZXhoYXVzdGVkLCBicmVhayB0byBnZXQgYSBuZXcgbGVhZiBub2RlXG4gICAgICAgIC8vIGFuZCBzZXQgZGlzdGFuY2UgdG8gdGhlIG92ZXJmbG93IGFtb3VudCwgc28gd2UnbGwgKG1heWJlKVxuICAgICAgICAvLyBjYXRjaCB1cCB0byBibG9ja1RleHQgaW4gdGhlIG5leHQgbGVhZiB0ZXh0IG5vZGUuXG5cbiAgICAgICAgaWYgKGxlYWZUZXh0UmVtYWluaW5nIDwgMCkge1xuICAgICAgICAgIGRpc3RhbmNlID0gLWxlYWZUZXh0UmVtYWluaW5nO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9IC8vIFN1Y2Nlc3NmdWxseSB3YWxrZWQgYGRpc3RhbmNlYCBvZmZzZXRzIHRocm91Z2ggYGxlYWZUZXh0YFxuICAgICAgICAvLyB0byBjYXRjaCB1cCB3aXRoIGBibG9ja1RleHRgLCBzbyB3ZSBjYW4gcmVzZXQgYGRpc3RhbmNlYFxuICAgICAgICAvLyBhbmQgeWllbGQgdGhpcyBwb3NpdGlvbiBpbiB0aGlzIG5vZGUuXG5cblxuICAgICAgICBkaXN0YW5jZSA9IDA7XG4gICAgICAgIHlpZWxkIHtcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIG9mZnNldDogbGVhZlRleHRPZmZzZXRcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICB9XG4gIH0gLy8gUHJvb2YgdGhhdCB1cG9uIGNvbXBsZXRpb24sIHdlJ3ZlIGV4YWh1c3RlZCBib3RoIGxlYWYgYW5kIGJsb2NrIHRleHQ6XG4gIC8vICAgY29uc29sZS5hc3NlcnQobGVhZlRleHRSZW1haW5pbmcgPD0gMCwgXCJsZWFmVGV4dCB3YXNuJ3QgZXhoYXVzdGVkXCIpXG4gIC8vICAgY29uc29sZS5hc3NlcnQoYmxvY2tUZXh0ID09PSAnJywgXCJibG9ja1RleHQgd2Fzbid0IGV4aGF1c3RlZFwiKVxuICAvLyBIZWxwZXI6XG4gIC8vIFJldHVybiB0aGUgZGlzdGFuY2UgaW4gb2Zmc2V0cyBmb3IgYSBzdGVwIG9mIHNpemUgYHVuaXRgIG9uIGdpdmVuIHN0cmluZy5cblxuXG4gIGZ1bmN0aW9uIGNhbGNEaXN0YW5jZSh0ZXh0LCB1bml0LCByZXZlcnNlKSB7XG4gICAgaWYgKHVuaXQgPT09ICdjaGFyYWN0ZXInKSB7XG4gICAgICByZXR1cm4gZ2V0Q2hhcmFjdGVyRGlzdGFuY2UodGV4dCwgcmV2ZXJzZSk7XG4gICAgfSBlbHNlIGlmICh1bml0ID09PSAnd29yZCcpIHtcbiAgICAgIHJldHVybiBnZXRXb3JkRGlzdGFuY2UodGV4dCwgcmV2ZXJzZSk7XG4gICAgfSBlbHNlIGlmICh1bml0ID09PSAnbGluZScgfHwgdW5pdCA9PT0gJ2Jsb2NrJykge1xuICAgICAgcmV0dXJuIHRleHQubGVuZ3RoO1xuICAgIH1cblxuICAgIHJldHVybiAxO1xuICB9XG59XG5cbnZhciBwcmV2aW91cyA9IGZ1bmN0aW9uIHByZXZpb3VzKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciB7XG4gICAgbW9kZSA9ICdsb3dlc3QnLFxuICAgIHZvaWRzID0gZmFsc2VcbiAgfSA9IG9wdGlvbnM7XG4gIHZhciB7XG4gICAgbWF0Y2gsXG4gICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmICghYXQpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICB2YXIgcG9pbnRCZWZvcmVMb2NhdGlvbiA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBhdCwge1xuICAgIHZvaWRzXG4gIH0pO1xuXG4gIGlmICghcG9pbnRCZWZvcmVMb2NhdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIHZhciBbLCB0b10gPSBFZGl0b3IuZmlyc3QoZWRpdG9yLCBbXSk7IC8vIFRoZSBzZWFyY2ggbG9jYXRpb24gaXMgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIGRvY3VtZW50IHRvIHRoZSBwYXRoIG9mXG4gIC8vIHRoZSBwb2ludCBiZWZvcmUgdGhlIGxvY2F0aW9uIHBhc3NlZCBpblxuXG4gIHZhciBzcGFuID0gW3BvaW50QmVmb3JlTG9jYXRpb24ucGF0aCwgdG9dO1xuXG4gIGlmIChQYXRoLmlzUGF0aChhdCkgJiYgYXQubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0aGUgcHJldmlvdXMgbm9kZSBmcm9tIHRoZSByb290IG5vZGUhXCIpO1xuICB9XG5cbiAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICB2YXIgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgYXQpO1xuXG4gICAgICBtYXRjaCA9IG4gPT4gcGFyZW50LmNoaWxkcmVuLmluY2x1ZGVzKG4pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYXRjaCA9ICgpID0+IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIFtwcmV2aW91c10gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICBhdDogc3BhbixcbiAgICBtYXRjaCxcbiAgICBtb2RlLFxuICAgIHZvaWRzXG4gIH0pO1xuICByZXR1cm4gcHJldmlvdXM7XG59O1xuXG52YXIgcmFuZ2VSZWYgPSBmdW5jdGlvbiByYW5nZVJlZihlZGl0b3IsIHJhbmdlKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICBhZmZpbml0eSA9ICdmb3J3YXJkJ1xuICB9ID0gb3B0aW9ucztcbiAgdmFyIHJlZiA9IHtcbiAgICBjdXJyZW50OiByYW5nZSxcbiAgICBhZmZpbml0eSxcblxuICAgIHVucmVmKCkge1xuICAgICAgdmFyIHtcbiAgICAgICAgY3VycmVudFxuICAgICAgfSA9IHJlZjtcbiAgICAgIHZhciByYW5nZVJlZnMgPSBFZGl0b3IucmFuZ2VSZWZzKGVkaXRvcik7XG4gICAgICByYW5nZVJlZnMuZGVsZXRlKHJlZik7XG4gICAgICByZWYuY3VycmVudCA9IG51bGw7XG4gICAgICByZXR1cm4gY3VycmVudDtcbiAgICB9XG5cbiAgfTtcbiAgdmFyIHJlZnMgPSBFZGl0b3IucmFuZ2VSZWZzKGVkaXRvcik7XG4gIHJlZnMuYWRkKHJlZik7XG4gIHJldHVybiByZWY7XG59O1xuXG52YXIgcmFuZ2VSZWZzID0gZWRpdG9yID0+IHtcbiAgdmFyIHJlZnMgPSBSQU5HRV9SRUZTLmdldChlZGl0b3IpO1xuXG4gIGlmICghcmVmcykge1xuICAgIHJlZnMgPSBuZXcgU2V0KCk7XG4gICAgUkFOR0VfUkVGUy5zZXQoZWRpdG9yLCByZWZzKTtcbiAgfVxuXG4gIHJldHVybiByZWZzO1xufTtcblxudmFyIHJhbmdlID0gKGVkaXRvciwgYXQsIHRvKSA9PiB7XG4gIGlmIChSYW5nZS5pc1JhbmdlKGF0KSAmJiAhdG8pIHtcbiAgICByZXR1cm4gYXQ7XG4gIH1cblxuICB2YXIgc3RhcnQgPSBFZGl0b3Iuc3RhcnQoZWRpdG9yLCBhdCk7XG4gIHZhciBlbmQgPSBFZGl0b3IuZW5kKGVkaXRvciwgdG8gfHwgYXQpO1xuICByZXR1cm4ge1xuICAgIGFuY2hvcjogc3RhcnQsXG4gICAgZm9jdXM6IGVuZFxuICB9O1xufTtcblxuZnVuY3Rpb24gb3duS2V5cyQyKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQyKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMihPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDIoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgcmVtb3ZlTWFyayA9IChlZGl0b3IsIGtleSkgPT4ge1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuXG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICB2YXIgbWF0Y2ggPSAobm9kZSwgcGF0aCkgPT4ge1xuICAgICAgaWYgKCFUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIG1hcmtzIGNhbiBvbmx5IGJlIGFwcGxpZWQgdG8gdGV4dFxuICAgICAgfVxuXG4gICAgICB2YXIgW3BhcmVudE5vZGUsIHBhcmVudFBhdGhdID0gRWRpdG9yLnBhcmVudChlZGl0b3IsIHBhdGgpO1xuICAgICAgcmV0dXJuICFlZGl0b3IuaXNWb2lkKHBhcmVudE5vZGUpIHx8IGVkaXRvci5tYXJrYWJsZVZvaWQocGFyZW50Tm9kZSk7XG4gICAgfTtcblxuICAgIHZhciBleHBhbmRlZFNlbGVjdGlvbiA9IFJhbmdlLmlzRXhwYW5kZWQoc2VsZWN0aW9uKTtcbiAgICB2YXIgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCA9IGZhbHNlO1xuXG4gICAgaWYgKCFleHBhbmRlZFNlbGVjdGlvbikge1xuICAgICAgdmFyIFtzZWxlY3RlZE5vZGUsIHNlbGVjdGVkUGF0aF0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHNlbGVjdGlvbik7XG5cbiAgICAgIGlmIChzZWxlY3RlZE5vZGUgJiYgbWF0Y2goc2VsZWN0ZWROb2RlLCBzZWxlY3RlZFBhdGgpKSB7XG4gICAgICAgIHZhciBbcGFyZW50Tm9kZV0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgc2VsZWN0ZWRQYXRoKTtcbiAgICAgICAgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCA9IHBhcmVudE5vZGUgJiYgZWRpdG9yLm1hcmthYmxlVm9pZChwYXJlbnROb2RlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoZXhwYW5kZWRTZWxlY3Rpb24gfHwgbWFya0FjY2VwdGluZ1ZvaWRTZWxlY3RlZCkge1xuICAgICAgVHJhbnNmb3Jtcy51bnNldE5vZGVzKGVkaXRvciwga2V5LCB7XG4gICAgICAgIG1hdGNoLFxuICAgICAgICBzcGxpdDogdHJ1ZSxcbiAgICAgICAgdm9pZHM6IHRydWVcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWFya3MgPSBfb2JqZWN0U3ByZWFkJDIoe30sIEVkaXRvci5tYXJrcyhlZGl0b3IpIHx8IHt9KTtcblxuICAgICAgZGVsZXRlIG1hcmtzW2tleV07XG4gICAgICBlZGl0b3IubWFya3MgPSBtYXJrcztcblxuICAgICAgaWYgKCFGTFVTSElORy5nZXQoZWRpdG9yKSkge1xuICAgICAgICBlZGl0b3Iub25DaGFuZ2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbnZhciBzZXROb3JtYWxpemluZyA9IChlZGl0b3IsIGlzTm9ybWFsaXppbmcpID0+IHtcbiAgTk9STUFMSVpJTkcuc2V0KGVkaXRvciwgaXNOb3JtYWxpemluZyk7XG59O1xuXG52YXIgc3RhcnQgPSAoZWRpdG9yLCBhdCkgPT4ge1xuICByZXR1cm4gRWRpdG9yLnBvaW50KGVkaXRvciwgYXQsIHtcbiAgICBlZGdlOiAnc3RhcnQnXG4gIH0pO1xufTtcblxudmFyIHN0cmluZyA9IGZ1bmN0aW9uIHN0cmluZyhlZGl0b3IsIGF0KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICB2b2lkcyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdCk7XG4gIHZhciBbc3RhcnQsIGVuZF0gPSBSYW5nZS5lZGdlcyhyYW5nZSk7XG4gIHZhciB0ZXh0ID0gJyc7XG5cbiAgZm9yICh2YXIgW25vZGUsIHBhdGhdIG9mIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICBhdDogcmFuZ2UsXG4gICAgbWF0Y2g6IFRleHQuaXNUZXh0LFxuICAgIHZvaWRzXG4gIH0pKSB7XG4gICAgdmFyIHQgPSBub2RlLnRleHQ7XG5cbiAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgZW5kLnBhdGgpKSB7XG4gICAgICB0ID0gdC5zbGljZSgwLCBlbmQub2Zmc2V0KTtcbiAgICB9XG5cbiAgICBpZiAoUGF0aC5lcXVhbHMocGF0aCwgc3RhcnQucGF0aCkpIHtcbiAgICAgIHQgPSB0LnNsaWNlKHN0YXJ0Lm9mZnNldCk7XG4gICAgfVxuXG4gICAgdGV4dCArPSB0O1xuICB9XG5cbiAgcmV0dXJuIHRleHQ7XG59O1xuXG52YXIgdW5oYW5nUmFuZ2UgPSBmdW5jdGlvbiB1bmhhbmdSYW5nZShlZGl0b3IsIHJhbmdlKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICB2b2lkcyA9IGZhbHNlXG4gIH0gPSBvcHRpb25zO1xuICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMocmFuZ2UpOyAvLyBQRVJGOiBleGl0IGVhcmx5IGlmIHdlIGNhbiBndWFyYW50ZWUgdGhhdCB0aGUgcmFuZ2UgaXNuJ3QgaGFuZ2luZy5cblxuICBpZiAoc3RhcnQub2Zmc2V0ICE9PSAwIHx8IGVuZC5vZmZzZXQgIT09IDAgfHwgUmFuZ2UuaXNDb2xsYXBzZWQocmFuZ2UpIHx8IFBhdGguaGFzUHJldmlvdXMoZW5kLnBhdGgpKSB7XG4gICAgcmV0dXJuIHJhbmdlO1xuICB9XG5cbiAgdmFyIGVuZEJsb2NrID0gRWRpdG9yLmFib3ZlKGVkaXRvciwge1xuICAgIGF0OiBlbmQsXG4gICAgbWF0Y2g6IG4gPT4gRWxlbWVudC5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKSxcbiAgICB2b2lkc1xuICB9KTtcbiAgdmFyIGJsb2NrUGF0aCA9IGVuZEJsb2NrID8gZW5kQmxvY2tbMV0gOiBbXTtcbiAgdmFyIGZpcnN0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgc3RhcnQpO1xuICB2YXIgYmVmb3JlID0ge1xuICAgIGFuY2hvcjogZmlyc3QsXG4gICAgZm9jdXM6IGVuZFxuICB9O1xuICB2YXIgc2tpcCA9IHRydWU7XG5cbiAgZm9yICh2YXIgW25vZGUsIHBhdGhdIG9mIEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICBhdDogYmVmb3JlLFxuICAgIG1hdGNoOiBUZXh0LmlzVGV4dCxcbiAgICByZXZlcnNlOiB0cnVlLFxuICAgIHZvaWRzXG4gIH0pKSB7XG4gICAgaWYgKHNraXApIHtcbiAgICAgIHNraXAgPSBmYWxzZTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cblxuICAgIGlmIChub2RlLnRleHQgIT09ICcnIHx8IFBhdGguaXNCZWZvcmUocGF0aCwgYmxvY2tQYXRoKSkge1xuICAgICAgZW5kID0ge1xuICAgICAgICBwYXRoLFxuICAgICAgICBvZmZzZXQ6IG5vZGUudGV4dC5sZW5ndGhcbiAgICAgIH07XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGFuY2hvcjogc3RhcnQsXG4gICAgZm9jdXM6IGVuZFxuICB9O1xufTtcblxudmFyIHdpdGhvdXROb3JtYWxpemluZyA9IChlZGl0b3IsIGZuKSA9PiB7XG4gIHZhciB2YWx1ZSA9IEVkaXRvci5pc05vcm1hbGl6aW5nKGVkaXRvcik7XG4gIEVkaXRvci5zZXROb3JtYWxpemluZyhlZGl0b3IsIGZhbHNlKTtcblxuICB0cnkge1xuICAgIGZuKCk7XG4gIH0gZmluYWxseSB7XG4gICAgRWRpdG9yLnNldE5vcm1hbGl6aW5nKGVkaXRvciwgdmFsdWUpO1xuICB9XG5cbiAgRWRpdG9yLm5vcm1hbGl6ZShlZGl0b3IpO1xufTtcblxudmFyIGRlbGV0ZVRleHQgPSBmdW5jdGlvbiBkZWxldGVUZXh0KGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgdmFyIF9FZGl0b3Ikdm9pZCwgX0VkaXRvciR2b2lkMjtcblxuICAgIHZhciB7XG4gICAgICByZXZlcnNlID0gZmFsc2UsXG4gICAgICB1bml0ID0gJ2NoYXJhY3RlcicsXG4gICAgICBkaXN0YW5jZSA9IDEsXG4gICAgICB2b2lkcyA9IGZhbHNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIGhhbmdpbmcgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKCFhdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpc0NvbGxhcHNlZCA9IGZhbHNlO1xuXG4gICAgaWYgKFJhbmdlLmlzUmFuZ2UoYXQpICYmIFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgaXNDb2xsYXBzZWQgPSB0cnVlO1xuICAgICAgYXQgPSBhdC5hbmNob3I7XG4gICAgfVxuXG4gICAgaWYgKFBvaW50LmlzUG9pbnQoYXQpKSB7XG4gICAgICB2YXIgZnVydGhlc3RWb2lkID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICAgIGF0LFxuICAgICAgICBtb2RlOiAnaGlnaGVzdCdcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIXZvaWRzICYmIGZ1cnRoZXN0Vm9pZCkge1xuICAgICAgICB2YXIgWywgdm9pZFBhdGhdID0gZnVydGhlc3RWb2lkO1xuICAgICAgICBhdCA9IHZvaWRQYXRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgICAgdW5pdCxcbiAgICAgICAgICBkaXN0YW5jZVxuICAgICAgICB9O1xuICAgICAgICB2YXIgdGFyZ2V0ID0gcmV2ZXJzZSA/IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBhdCwgb3B0cykgfHwgRWRpdG9yLnN0YXJ0KGVkaXRvciwgW10pIDogRWRpdG9yLmFmdGVyKGVkaXRvciwgYXQsIG9wdHMpIHx8IEVkaXRvci5lbmQoZWRpdG9yLCBbXSk7XG4gICAgICAgIGF0ID0ge1xuICAgICAgICAgIGFuY2hvcjogYXQsXG4gICAgICAgICAgZm9jdXM6IHRhcmdldFxuICAgICAgICB9O1xuICAgICAgICBoYW5naW5nID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdCxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIWhhbmdpbmcpIHtcbiAgICAgIHZhciBbLCBfZW5kXSA9IFJhbmdlLmVkZ2VzKGF0KTtcbiAgICAgIHZhciBlbmRPZkRvYyA9IEVkaXRvci5lbmQoZWRpdG9yLCBbXSk7XG5cbiAgICAgIGlmICghUG9pbnQuZXF1YWxzKF9lbmQsIGVuZE9mRG9jKSkge1xuICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0LCB7XG4gICAgICAgICAgdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIFtzdGFydCwgZW5kXSA9IFJhbmdlLmVkZ2VzKGF0KTtcbiAgICB2YXIgc3RhcnRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICBhdDogc3RhcnQsXG4gICAgICB2b2lkc1xuICAgIH0pO1xuICAgIHZhciBlbmRCbG9jayA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICBhdDogZW5kLFxuICAgICAgdm9pZHNcbiAgICB9KTtcbiAgICB2YXIgaXNBY3Jvc3NCbG9ja3MgPSBzdGFydEJsb2NrICYmIGVuZEJsb2NrICYmICFQYXRoLmVxdWFscyhzdGFydEJsb2NrWzFdLCBlbmRCbG9ja1sxXSk7XG4gICAgdmFyIGlzU2luZ2xlVGV4dCA9IFBhdGguZXF1YWxzKHN0YXJ0LnBhdGgsIGVuZC5wYXRoKTtcbiAgICB2YXIgc3RhcnROb25FZGl0YWJsZSA9IHZvaWRzID8gbnVsbCA6IChfRWRpdG9yJHZvaWQgPSBFZGl0b3Iudm9pZChlZGl0b3IsIHtcbiAgICAgIGF0OiBzdGFydCxcbiAgICAgIG1vZGU6ICdoaWdoZXN0J1xuICAgIH0pKSAhPT0gbnVsbCAmJiBfRWRpdG9yJHZvaWQgIT09IHZvaWQgMCA/IF9FZGl0b3Ikdm9pZCA6IEVkaXRvci5lbGVtZW50UmVhZE9ubHkoZWRpdG9yLCB7XG4gICAgICBhdDogc3RhcnQsXG4gICAgICBtb2RlOiAnaGlnaGVzdCdcbiAgICB9KTtcbiAgICB2YXIgZW5kTm9uRWRpdGFibGUgPSB2b2lkcyA/IG51bGwgOiAoX0VkaXRvciR2b2lkMiA9IEVkaXRvci52b2lkKGVkaXRvciwge1xuICAgICAgYXQ6IGVuZCxcbiAgICAgIG1vZGU6ICdoaWdoZXN0J1xuICAgIH0pKSAhPT0gbnVsbCAmJiBfRWRpdG9yJHZvaWQyICE9PSB2b2lkIDAgPyBfRWRpdG9yJHZvaWQyIDogRWRpdG9yLmVsZW1lbnRSZWFkT25seShlZGl0b3IsIHtcbiAgICAgIGF0OiBlbmQsXG4gICAgICBtb2RlOiAnaGlnaGVzdCdcbiAgICB9KTsgLy8gSWYgdGhlIHN0YXJ0IG9yIGVuZCBwb2ludHMgYXJlIGluc2lkZSBhbiBpbmxpbmUgdm9pZCwgbnVkZ2UgdGhlbSBvdXQuXG5cbiAgICBpZiAoc3RhcnROb25FZGl0YWJsZSkge1xuICAgICAgdmFyIGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBzdGFydCk7XG5cbiAgICAgIGlmIChiZWZvcmUgJiYgc3RhcnRCbG9jayAmJiBQYXRoLmlzQW5jZXN0b3Ioc3RhcnRCbG9ja1sxXSwgYmVmb3JlLnBhdGgpKSB7XG4gICAgICAgIHN0YXJ0ID0gYmVmb3JlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChlbmROb25FZGl0YWJsZSkge1xuICAgICAgdmFyIGFmdGVyID0gRWRpdG9yLmFmdGVyKGVkaXRvciwgZW5kKTtcblxuICAgICAgaWYgKGFmdGVyICYmIGVuZEJsb2NrICYmIFBhdGguaXNBbmNlc3RvcihlbmRCbG9ja1sxXSwgYWZ0ZXIucGF0aCkpIHtcbiAgICAgICAgZW5kID0gYWZ0ZXI7XG4gICAgICB9XG4gICAgfSAvLyBHZXQgdGhlIGhpZ2hlc3Qgbm9kZXMgdGhhdCBhcmUgY29tcGxldGVseSBpbnNpZGUgdGhlIHJhbmdlLCBhcyB3ZWxsIGFzXG4gICAgLy8gdGhlIHN0YXJ0IGFuZCBlbmQgbm9kZXMuXG5cblxuICAgIHZhciBtYXRjaGVzID0gW107XG4gICAgdmFyIGxhc3RQYXRoO1xuXG4gICAgZm9yICh2YXIgZW50cnkgb2YgRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICB2b2lkc1xuICAgIH0pKSB7XG4gICAgICB2YXIgW25vZGUsIHBhdGhdID0gZW50cnk7XG5cbiAgICAgIGlmIChsYXN0UGF0aCAmJiBQYXRoLmNvbXBhcmUocGF0aCwgbGFzdFBhdGgpID09PSAwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIXZvaWRzICYmIEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIChFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkgfHwgRWRpdG9yLmlzRWxlbWVudFJlYWRPbmx5KGVkaXRvciwgbm9kZSkpIHx8ICFQYXRoLmlzQ29tbW9uKHBhdGgsIHN0YXJ0LnBhdGgpICYmICFQYXRoLmlzQ29tbW9uKHBhdGgsIGVuZC5wYXRoKSkge1xuICAgICAgICBtYXRjaGVzLnB1c2goZW50cnkpO1xuICAgICAgICBsYXN0UGF0aCA9IHBhdGg7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHBhdGhSZWZzID0gQXJyYXkuZnJvbShtYXRjaGVzLCBfcmVmID0+IHtcbiAgICAgIHZhciBbLCBwXSA9IF9yZWY7XG4gICAgICByZXR1cm4gRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBwKTtcbiAgICB9KTtcbiAgICB2YXIgc3RhcnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBzdGFydCk7XG4gICAgdmFyIGVuZFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZCk7XG4gICAgdmFyIHJlbW92ZWRUZXh0ID0gJyc7XG5cbiAgICBpZiAoIWlzU2luZ2xlVGV4dCAmJiAhc3RhcnROb25FZGl0YWJsZSkge1xuICAgICAgdmFyIF9wb2ludCA9IHN0YXJ0UmVmLmN1cnJlbnQ7XG4gICAgICB2YXIgW19ub2RlXSA9IEVkaXRvci5sZWFmKGVkaXRvciwgX3BvaW50KTtcbiAgICAgIHZhciB7XG4gICAgICAgIHBhdGg6IF9wYXRoXG4gICAgICB9ID0gX3BvaW50O1xuICAgICAgdmFyIHtcbiAgICAgICAgb2Zmc2V0XG4gICAgICB9ID0gc3RhcnQ7XG5cbiAgICAgIHZhciB0ZXh0ID0gX25vZGUudGV4dC5zbGljZShvZmZzZXQpO1xuXG4gICAgICBpZiAodGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ3JlbW92ZV90ZXh0JyxcbiAgICAgICAgICBwYXRoOiBfcGF0aCxcbiAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgdGV4dFxuICAgICAgICB9KTtcbiAgICAgICAgcmVtb3ZlZFRleHQgPSB0ZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhdGhSZWZzLnJldmVyc2UoKS5tYXAociA9PiByLnVucmVmKCkpLmZpbHRlcihyID0+IHIgIT09IG51bGwpLmZvckVhY2gocCA9PiBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgYXQ6IHAsXG4gICAgICB2b2lkc1xuICAgIH0pKTtcblxuICAgIGlmICghZW5kTm9uRWRpdGFibGUpIHtcbiAgICAgIHZhciBfcG9pbnQyID0gZW5kUmVmLmN1cnJlbnQ7XG4gICAgICB2YXIgW19ub2RlMl0gPSBFZGl0b3IubGVhZihlZGl0b3IsIF9wb2ludDIpO1xuICAgICAgdmFyIHtcbiAgICAgICAgcGF0aDogX3BhdGgyXG4gICAgICB9ID0gX3BvaW50MjtcblxuICAgICAgdmFyIF9vZmZzZXQgPSBpc1NpbmdsZVRleHQgPyBzdGFydC5vZmZzZXQgOiAwO1xuXG4gICAgICB2YXIgX3RleHQgPSBfbm9kZTIudGV4dC5zbGljZShfb2Zmc2V0LCBlbmQub2Zmc2V0KTtcblxuICAgICAgaWYgKF90ZXh0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgZWRpdG9yLmFwcGx5KHtcbiAgICAgICAgICB0eXBlOiAncmVtb3ZlX3RleHQnLFxuICAgICAgICAgIHBhdGg6IF9wYXRoMixcbiAgICAgICAgICBvZmZzZXQ6IF9vZmZzZXQsXG4gICAgICAgICAgdGV4dDogX3RleHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJlbW92ZWRUZXh0ID0gX3RleHQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKCFpc1NpbmdsZVRleHQgJiYgaXNBY3Jvc3NCbG9ja3MgJiYgZW5kUmVmLmN1cnJlbnQgJiYgc3RhcnRSZWYuY3VycmVudCkge1xuICAgICAgVHJhbnNmb3Jtcy5tZXJnZU5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogZW5kUmVmLmN1cnJlbnQsXG4gICAgICAgIGhhbmdpbmc6IHRydWUsXG4gICAgICAgIHZvaWRzXG4gICAgICB9KTtcbiAgICB9IC8vIEZvciBUaGFpIHNjcmlwdCwgZGVsZXRpbmcgTiBjaGFyYWN0ZXIocykgYmFja3dhcmQgc2hvdWxkIGRlbGV0ZVxuICAgIC8vIE4gY29kZSBwb2ludChzKSBpbnN0ZWFkIG9mIGFuIGVudGlyZSBncmFwaGVtZSBjbHVzdGVyLlxuICAgIC8vIFRoZXJlZm9yZSwgdGhlIHJlbWFpbmluZyBjb2RlIHBvaW50cyBzaG91bGQgYmUgaW5zZXJ0ZWQgYmFjay5cblxuXG4gICAgaWYgKGlzQ29sbGFwc2VkICYmIHJldmVyc2UgJiYgdW5pdCA9PT0gJ2NoYXJhY3RlcicgJiYgcmVtb3ZlZFRleHQubGVuZ3RoID4gMSAmJiByZW1vdmVkVGV4dC5tYXRjaCgvW1xcdTBFMDAtXFx1MEU3Rl0rLykpIHtcbiAgICAgIFRyYW5zZm9ybXMuaW5zZXJ0VGV4dChlZGl0b3IsIHJlbW92ZWRUZXh0LnNsaWNlKDAsIHJlbW92ZWRUZXh0Lmxlbmd0aCAtIGRpc3RhbmNlKSk7XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0VW5yZWYgPSBzdGFydFJlZi51bnJlZigpO1xuICAgIHZhciBlbmRVbnJlZiA9IGVuZFJlZi51bnJlZigpO1xuICAgIHZhciBwb2ludCA9IHJldmVyc2UgPyBzdGFydFVucmVmIHx8IGVuZFVucmVmIDogZW5kVW5yZWYgfHwgc3RhcnRVbnJlZjtcblxuICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwgJiYgcG9pbnQpIHtcbiAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgcG9pbnQpO1xuICAgIH1cbiAgfSk7XG59O1xuXG52YXIgaW5zZXJ0RnJhZ21lbnQgPSBmdW5jdGlvbiBpbnNlcnRGcmFnbWVudChlZGl0b3IsIGZyYWdtZW50KSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICB2YXIge1xuICAgICAgaGFuZ2luZyA9IGZhbHNlLFxuICAgICAgdm9pZHMgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBhdCA9IGdldERlZmF1bHRJbnNlcnRMb2NhdGlvbihlZGl0b3IpXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoIWZyYWdtZW50Lmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgaWYgKCFoYW5naW5nKSB7XG4gICAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQsIHtcbiAgICAgICAgICB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbLCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpO1xuXG4gICAgICAgIGlmICghdm9pZHMgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IGVuZFxuICAgICAgICB9KSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludFJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGVuZCk7XG4gICAgICAgIFRyYW5zZm9ybXMuZGVsZXRlKGVkaXRvciwge1xuICAgICAgICAgIGF0XG4gICAgICAgIH0pO1xuICAgICAgICBhdCA9IHBvaW50UmVmLnVucmVmKCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChQYXRoLmlzUGF0aChhdCkpIHtcbiAgICAgIGF0ID0gRWRpdG9yLnN0YXJ0KGVkaXRvciwgYXQpO1xuICAgIH1cblxuICAgIGlmICghdm9pZHMgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICBhdFxuICAgIH0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfSAvLyBJZiB0aGUgaW5zZXJ0IHBvaW50IGlzIGF0IHRoZSBlZGdlIG9mIGFuIGlubGluZSBub2RlLCBtb3ZlIGl0IG91dHNpZGVcbiAgICAvLyBpbnN0ZWFkIHNpbmNlIGl0IHdpbGwgbmVlZCB0byBiZSBzcGxpdCBvdGhlcndpc2UuXG5cblxuICAgIHZhciBpbmxpbmVFbGVtZW50TWF0Y2ggPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBhdCxcbiAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pLFxuICAgICAgbW9kZTogJ2hpZ2hlc3QnLFxuICAgICAgdm9pZHNcbiAgICB9KTtcblxuICAgIGlmIChpbmxpbmVFbGVtZW50TWF0Y2gpIHtcbiAgICAgIHZhciBbLCBfaW5saW5lUGF0aF0gPSBpbmxpbmVFbGVtZW50TWF0Y2g7XG5cbiAgICAgIGlmIChFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgX2lubGluZVBhdGgpKSB7XG4gICAgICAgIHZhciBhZnRlciA9IEVkaXRvci5hZnRlcihlZGl0b3IsIF9pbmxpbmVQYXRoKTtcbiAgICAgICAgYXQgPSBhZnRlcjtcbiAgICAgIH0gZWxzZSBpZiAoRWRpdG9yLmlzU3RhcnQoZWRpdG9yLCBhdCwgX2lubGluZVBhdGgpKSB7XG4gICAgICAgIHZhciBiZWZvcmUgPSBFZGl0b3IuYmVmb3JlKGVkaXRvciwgX2lubGluZVBhdGgpO1xuICAgICAgICBhdCA9IGJlZm9yZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgYmxvY2tNYXRjaCA9IEVkaXRvci5hYm92ZShlZGl0b3IsIHtcbiAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbiksXG4gICAgICBhdCxcbiAgICAgIHZvaWRzXG4gICAgfSk7XG4gICAgdmFyIFssIGJsb2NrUGF0aF0gPSBibG9ja01hdGNoO1xuICAgIHZhciBpc0Jsb2NrU3RhcnQgPSBFZGl0b3IuaXNTdGFydChlZGl0b3IsIGF0LCBibG9ja1BhdGgpO1xuICAgIHZhciBpc0Jsb2NrRW5kID0gRWRpdG9yLmlzRW5kKGVkaXRvciwgYXQsIGJsb2NrUGF0aCk7XG4gICAgdmFyIGlzQmxvY2tFbXB0eSA9IGlzQmxvY2tTdGFydCAmJiBpc0Jsb2NrRW5kO1xuICAgIHZhciBtZXJnZVN0YXJ0ID0gIWlzQmxvY2tTdGFydCB8fCBpc0Jsb2NrU3RhcnQgJiYgaXNCbG9ja0VuZDtcbiAgICB2YXIgbWVyZ2VFbmQgPSAhaXNCbG9ja0VuZDtcbiAgICB2YXIgWywgZmlyc3RQYXRoXSA9IE5vZGUuZmlyc3Qoe1xuICAgICAgY2hpbGRyZW46IGZyYWdtZW50XG4gICAgfSwgW10pO1xuICAgIHZhciBbLCBsYXN0UGF0aF0gPSBOb2RlLmxhc3Qoe1xuICAgICAgY2hpbGRyZW46IGZyYWdtZW50XG4gICAgfSwgW10pO1xuICAgIHZhciBtYXRjaGVzID0gW107XG5cbiAgICB2YXIgbWF0Y2hlciA9IF9yZWYgPT4ge1xuICAgICAgdmFyIFtuLCBwXSA9IF9yZWY7XG4gICAgICB2YXIgaXNSb290ID0gcC5sZW5ndGggPT09IDA7XG5cbiAgICAgIGlmIChpc1Jvb3QpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNCbG9ja0VtcHR5KSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAobWVyZ2VTdGFydCAmJiBQYXRoLmlzQW5jZXN0b3IocCwgZmlyc3RQYXRoKSAmJiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiAhZWRpdG9yLmlzVm9pZChuKSAmJiAhZWRpdG9yLmlzSW5saW5lKG4pKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1lcmdlRW5kICYmIFBhdGguaXNBbmNlc3RvcihwLCBsYXN0UGF0aCkgJiYgRWxlbWVudC5pc0VsZW1lbnQobikgJiYgIWVkaXRvci5pc1ZvaWQobikgJiYgIWVkaXRvci5pc0lubGluZShuKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBlbnRyeSBvZiBOb2RlLm5vZGVzKHtcbiAgICAgIGNoaWxkcmVuOiBmcmFnbWVudFxuICAgIH0sIHtcbiAgICAgIHBhc3M6IG1hdGNoZXJcbiAgICB9KSkge1xuICAgICAgaWYgKG1hdGNoZXIoZW50cnkpKSB7XG4gICAgICAgIG1hdGNoZXMucHVzaChlbnRyeSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHN0YXJ0cyA9IFtdO1xuICAgIHZhciBtaWRkbGVzID0gW107XG4gICAgdmFyIGVuZHMgPSBbXTtcbiAgICB2YXIgc3RhcnRpbmcgPSB0cnVlO1xuICAgIHZhciBoYXNCbG9ja3MgPSBmYWxzZTtcblxuICAgIGZvciAodmFyIFtub2RlXSBvZiBtYXRjaGVzKSB7XG4gICAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQobm9kZSkgJiYgIWVkaXRvci5pc0lubGluZShub2RlKSkge1xuICAgICAgICBzdGFydGluZyA9IGZhbHNlO1xuICAgICAgICBoYXNCbG9ja3MgPSB0cnVlO1xuICAgICAgICBtaWRkbGVzLnB1c2gobm9kZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0aW5nKSB7XG4gICAgICAgIHN0YXJ0cy5wdXNoKG5vZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZW5kcy5wdXNoKG5vZGUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBbaW5saW5lTWF0Y2hdID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBtYXRjaDogbiA9PiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSxcbiAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgIHZvaWRzXG4gICAgfSk7XG4gICAgdmFyIFssIGlubGluZVBhdGhdID0gaW5saW5lTWF0Y2g7XG4gICAgdmFyIGlzSW5saW5lU3RhcnQgPSBFZGl0b3IuaXNTdGFydChlZGl0b3IsIGF0LCBpbmxpbmVQYXRoKTtcbiAgICB2YXIgaXNJbmxpbmVFbmQgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBhdCwgaW5saW5lUGF0aCk7XG4gICAgdmFyIG1pZGRsZVJlZiA9IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgaXNCbG9ja0VuZCAmJiAhZW5kcy5sZW5ndGggPyBQYXRoLm5leHQoYmxvY2tQYXRoKSA6IGJsb2NrUGF0aCk7XG4gICAgdmFyIGVuZFJlZiA9IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgaXNJbmxpbmVFbmQgPyBQYXRoLm5leHQoaW5saW5lUGF0aCkgOiBpbmxpbmVQYXRoKTtcbiAgICBUcmFuc2Zvcm1zLnNwbGl0Tm9kZXMoZWRpdG9yLCB7XG4gICAgICBhdCxcbiAgICAgIG1hdGNoOiBuID0+IGhhc0Jsb2NrcyA/IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbikgOiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSxcbiAgICAgIG1vZGU6IGhhc0Jsb2NrcyA/ICdsb3dlc3QnIDogJ2hpZ2hlc3QnLFxuICAgICAgYWx3YXlzOiBoYXNCbG9ja3MgJiYgKCFpc0Jsb2NrU3RhcnQgfHwgc3RhcnRzLmxlbmd0aCA+IDApICYmICghaXNCbG9ja0VuZCB8fCBlbmRzLmxlbmd0aCA+IDApLFxuICAgICAgdm9pZHNcbiAgICB9KTtcbiAgICB2YXIgc3RhcnRSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsICFpc0lubGluZVN0YXJ0IHx8IGlzSW5saW5lU3RhcnQgJiYgaXNJbmxpbmVFbmQgPyBQYXRoLm5leHQoaW5saW5lUGF0aCkgOiBpbmxpbmVQYXRoKTtcbiAgICBUcmFuc2Zvcm1zLmluc2VydE5vZGVzKGVkaXRvciwgc3RhcnRzLCB7XG4gICAgICBhdDogc3RhcnRSZWYuY3VycmVudCxcbiAgICAgIG1hdGNoOiBuID0+IFRleHQuaXNUZXh0KG4pIHx8IEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pLFxuICAgICAgbW9kZTogJ2hpZ2hlc3QnLFxuICAgICAgdm9pZHNcbiAgICB9KTtcblxuICAgIGlmIChpc0Jsb2NrRW1wdHkgJiYgIXN0YXJ0cy5sZW5ndGggJiYgbWlkZGxlcy5sZW5ndGggJiYgIWVuZHMubGVuZ3RoKSB7XG4gICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgICAgYXQ6IGJsb2NrUGF0aCxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBtaWRkbGVzLCB7XG4gICAgICBhdDogbWlkZGxlUmVmLmN1cnJlbnQsXG4gICAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pLFxuICAgICAgbW9kZTogJ2xvd2VzdCcsXG4gICAgICB2b2lkc1xuICAgIH0pO1xuICAgIFRyYW5zZm9ybXMuaW5zZXJ0Tm9kZXMoZWRpdG9yLCBlbmRzLCB7XG4gICAgICBhdDogZW5kUmVmLmN1cnJlbnQsXG4gICAgICBtYXRjaDogbiA9PiBUZXh0LmlzVGV4dChuKSB8fCBFZGl0b3IuaXNJbmxpbmUoZWRpdG9yLCBuKSxcbiAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgIHZvaWRzXG4gICAgfSk7XG5cbiAgICBpZiAoIW9wdGlvbnMuYXQpIHtcbiAgICAgIHZhciBwYXRoO1xuXG4gICAgICBpZiAoZW5kcy5sZW5ndGggPiAwICYmIGVuZFJlZi5jdXJyZW50KSB7XG4gICAgICAgIHBhdGggPSBQYXRoLnByZXZpb3VzKGVuZFJlZi5jdXJyZW50KTtcbiAgICAgIH0gZWxzZSBpZiAobWlkZGxlcy5sZW5ndGggPiAwICYmIG1pZGRsZVJlZi5jdXJyZW50KSB7XG4gICAgICAgIHBhdGggPSBQYXRoLnByZXZpb3VzKG1pZGRsZVJlZi5jdXJyZW50KTtcbiAgICAgIH0gZWxzZSBpZiAoc3RhcnRSZWYuY3VycmVudCkge1xuICAgICAgICBwYXRoID0gUGF0aC5wcmV2aW91cyhzdGFydFJlZi5jdXJyZW50KTtcbiAgICAgIH1cblxuICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgdmFyIF9lbmQgPSBFZGl0b3IuZW5kKGVkaXRvciwgcGF0aCk7XG5cbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBfZW5kKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFJlZi51bnJlZigpO1xuICAgIG1pZGRsZVJlZi51bnJlZigpO1xuICAgIGVuZFJlZi51bnJlZigpO1xuICB9KTtcbn07XG5cbnZhciBjb2xsYXBzZSA9IGZ1bmN0aW9uIGNvbGxhcHNlKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIHZhciB7XG4gICAgZWRnZSA9ICdhbmNob3InXG4gIH0gPSBvcHRpb25zO1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuXG4gIGlmICghc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdhbmNob3InKSB7XG4gICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBzZWxlY3Rpb24uYW5jaG9yKTtcbiAgfSBlbHNlIGlmIChlZGdlID09PSAnZm9jdXMnKSB7XG4gICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBzZWxlY3Rpb24uZm9jdXMpO1xuICB9IGVsc2UgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICB2YXIgW3N0YXJ0XSA9IFJhbmdlLmVkZ2VzKHNlbGVjdGlvbik7XG4gICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBzdGFydCk7XG4gIH0gZWxzZSBpZiAoZWRnZSA9PT0gJ2VuZCcpIHtcbiAgICB2YXIgWywgZW5kXSA9IFJhbmdlLmVkZ2VzKHNlbGVjdGlvbik7XG4gICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBlbmQpO1xuICB9XG59O1xuXG52YXIgZGVzZWxlY3QgPSBlZGl0b3IgPT4ge1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuXG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgdHlwZTogJ3NldF9zZWxlY3Rpb24nLFxuICAgICAgcHJvcGVydGllczogc2VsZWN0aW9uLFxuICAgICAgbmV3UHJvcGVydGllczogbnVsbFxuICAgIH0pO1xuICB9XG59O1xuXG52YXIgbW92ZSA9IGZ1bmN0aW9uIG1vdmUoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgdmFyIHtcbiAgICBzZWxlY3Rpb25cbiAgfSA9IGVkaXRvcjtcbiAgdmFyIHtcbiAgICBkaXN0YW5jZSA9IDEsXG4gICAgdW5pdCA9ICdjaGFyYWN0ZXInLFxuICAgIHJldmVyc2UgPSBmYWxzZVxuICB9ID0gb3B0aW9ucztcbiAgdmFyIHtcbiAgICBlZGdlID0gbnVsbFxuICB9ID0gb3B0aW9ucztcblxuICBpZiAoIXNlbGVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChlZGdlID09PSAnc3RhcnQnKSB7XG4gICAgZWRnZSA9IFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uKSA/ICdmb2N1cycgOiAnYW5jaG9yJztcbiAgfVxuXG4gIGlmIChlZGdlID09PSAnZW5kJykge1xuICAgIGVkZ2UgPSBSYW5nZS5pc0JhY2t3YXJkKHNlbGVjdGlvbikgPyAnYW5jaG9yJyA6ICdmb2N1cyc7XG4gIH1cblxuICB2YXIge1xuICAgIGFuY2hvcixcbiAgICBmb2N1c1xuICB9ID0gc2VsZWN0aW9uO1xuICB2YXIgb3B0cyA9IHtcbiAgICBkaXN0YW5jZSxcbiAgICB1bml0LFxuICAgIGlnbm9yZU5vblNlbGVjdGFibGU6IHRydWVcbiAgfTtcbiAgdmFyIHByb3BzID0ge307XG5cbiAgaWYgKGVkZ2UgPT0gbnVsbCB8fCBlZGdlID09PSAnYW5jaG9yJykge1xuICAgIHZhciBwb2ludCA9IHJldmVyc2UgPyBFZGl0b3IuYmVmb3JlKGVkaXRvciwgYW5jaG9yLCBvcHRzKSA6IEVkaXRvci5hZnRlcihlZGl0b3IsIGFuY2hvciwgb3B0cyk7XG5cbiAgICBpZiAocG9pbnQpIHtcbiAgICAgIHByb3BzLmFuY2hvciA9IHBvaW50O1xuICAgIH1cbiAgfVxuXG4gIGlmIChlZGdlID09IG51bGwgfHwgZWRnZSA9PT0gJ2ZvY3VzJykge1xuICAgIHZhciBfcG9pbnQgPSByZXZlcnNlID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIGZvY3VzLCBvcHRzKSA6IEVkaXRvci5hZnRlcihlZGl0b3IsIGZvY3VzLCBvcHRzKTtcblxuICAgIGlmIChfcG9pbnQpIHtcbiAgICAgIHByb3BzLmZvY3VzID0gX3BvaW50O1xuICAgIH1cbiAgfVxuXG4gIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGVkaXRvciwgcHJvcHMpO1xufTtcblxudmFyIHNlbGVjdCA9IChlZGl0b3IsIHRhcmdldCkgPT4ge1xuICB2YXIge1xuICAgIHNlbGVjdGlvblxuICB9ID0gZWRpdG9yO1xuICB0YXJnZXQgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCB0YXJnZXQpO1xuXG4gIGlmIChzZWxlY3Rpb24pIHtcbiAgICBUcmFuc2Zvcm1zLnNldFNlbGVjdGlvbihlZGl0b3IsIHRhcmdldCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFSYW5nZS5pc1JhbmdlKHRhcmdldCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJXaGVuIHNldHRpbmcgdGhlIHNlbGVjdGlvbiBhbmQgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIGlzIGBudWxsYCB5b3UgbXVzdCBwcm92aWRlIGF0IGxlYXN0IGFuIGBhbmNob3JgIGFuZCBgZm9jdXNgLCBidXQgeW91IHBhc3NlZDogXCIuY29uY2F0KFNjcnViYmVyLnN0cmluZ2lmeSh0YXJnZXQpKSk7XG4gIH1cblxuICBlZGl0b3IuYXBwbHkoe1xuICAgIHR5cGU6ICdzZXRfc2VsZWN0aW9uJyxcbiAgICBwcm9wZXJ0aWVzOiBzZWxlY3Rpb24sXG4gICAgbmV3UHJvcGVydGllczogdGFyZ2V0XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gb3duS2V5cyQxKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSB7IHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsgfSBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCQxKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMkMShPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzJDEoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG52YXIgc2V0UG9pbnQgPSBmdW5jdGlvbiBzZXRQb2ludChlZGl0b3IsIHByb3BzKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcbiAgdmFyIHtcbiAgICBzZWxlY3Rpb25cbiAgfSA9IGVkaXRvcjtcbiAgdmFyIHtcbiAgICBlZGdlID0gJ2JvdGgnXG4gIH0gPSBvcHRpb25zO1xuXG4gIGlmICghc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKGVkZ2UgPT09ICdzdGFydCcpIHtcbiAgICBlZGdlID0gUmFuZ2UuaXNCYWNrd2FyZChzZWxlY3Rpb24pID8gJ2ZvY3VzJyA6ICdhbmNob3InO1xuICB9XG5cbiAgaWYgKGVkZ2UgPT09ICdlbmQnKSB7XG4gICAgZWRnZSA9IFJhbmdlLmlzQmFja3dhcmQoc2VsZWN0aW9uKSA/ICdhbmNob3InIDogJ2ZvY3VzJztcbiAgfVxuXG4gIHZhciB7XG4gICAgYW5jaG9yLFxuICAgIGZvY3VzXG4gIH0gPSBzZWxlY3Rpb247XG4gIHZhciBwb2ludCA9IGVkZ2UgPT09ICdhbmNob3InID8gYW5jaG9yIDogZm9jdXM7XG4gIFRyYW5zZm9ybXMuc2V0U2VsZWN0aW9uKGVkaXRvciwge1xuICAgIFtlZGdlID09PSAnYW5jaG9yJyA/ICdhbmNob3InIDogJ2ZvY3VzJ106IF9vYmplY3RTcHJlYWQkMShfb2JqZWN0U3ByZWFkJDEoe30sIHBvaW50KSwgcHJvcHMpXG4gIH0pO1xufTtcblxudmFyIHNldFNlbGVjdGlvbiA9IChlZGl0b3IsIHByb3BzKSA9PiB7XG4gIHZhciB7XG4gICAgc2VsZWN0aW9uXG4gIH0gPSBlZGl0b3I7XG4gIHZhciBvbGRQcm9wcyA9IHt9O1xuICB2YXIgbmV3UHJvcHMgPSB7fTtcblxuICBpZiAoIXNlbGVjdGlvbikge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGZvciAodmFyIGsgaW4gcHJvcHMpIHtcbiAgICBpZiAoayA9PT0gJ2FuY2hvcicgJiYgcHJvcHMuYW5jaG9yICE9IG51bGwgJiYgIVBvaW50LmVxdWFscyhwcm9wcy5hbmNob3IsIHNlbGVjdGlvbi5hbmNob3IpIHx8IGsgPT09ICdmb2N1cycgJiYgcHJvcHMuZm9jdXMgIT0gbnVsbCAmJiAhUG9pbnQuZXF1YWxzKHByb3BzLmZvY3VzLCBzZWxlY3Rpb24uZm9jdXMpIHx8IGsgIT09ICdhbmNob3InICYmIGsgIT09ICdmb2N1cycgJiYgcHJvcHNba10gIT09IHNlbGVjdGlvbltrXSkge1xuICAgICAgb2xkUHJvcHNba10gPSBzZWxlY3Rpb25ba107XG4gICAgICBuZXdQcm9wc1trXSA9IHByb3BzW2tdO1xuICAgIH1cbiAgfVxuXG4gIGlmIChPYmplY3Qua2V5cyhvbGRQcm9wcykubGVuZ3RoID4gMCkge1xuICAgIGVkaXRvci5hcHBseSh7XG4gICAgICB0eXBlOiAnc2V0X3NlbGVjdGlvbicsXG4gICAgICBwcm9wZXJ0aWVzOiBvbGRQcm9wcyxcbiAgICAgIG5ld1Byb3BlcnRpZXM6IG5ld1Byb3BzXG4gICAgfSk7XG4gIH1cbn07XG5cbnZhciBpbnNlcnROb2RlcyA9IGZ1bmN0aW9uIGluc2VydE5vZGVzKGVkaXRvciwgbm9kZXMpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBoYW5naW5nID0gZmFsc2UsXG4gICAgICB2b2lkcyA9IGZhbHNlLFxuICAgICAgbW9kZSA9ICdsb3dlc3QnXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIGF0LFxuICAgICAgbWF0Y2gsXG4gICAgICBzZWxlY3RcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIGlmIChOb2RlLmlzTm9kZShub2RlcykpIHtcbiAgICAgIG5vZGVzID0gW25vZGVzXTtcbiAgICB9XG5cbiAgICBpZiAobm9kZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIFtub2RlXSA9IG5vZGVzO1xuXG4gICAgaWYgKCFhdCkge1xuICAgICAgYXQgPSBnZXREZWZhdWx0SW5zZXJ0TG9jYXRpb24oZWRpdG9yKTtcbiAgICAgIHNlbGVjdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKHNlbGVjdCA9PSBudWxsKSB7XG4gICAgICBzZWxlY3QgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgIGlmICghaGFuZ2luZykge1xuICAgICAgICBhdCA9IEVkaXRvci51bmhhbmdSYW5nZShlZGl0b3IsIGF0LCB7XG4gICAgICAgICAgdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChSYW5nZS5pc0NvbGxhcHNlZChhdCkpIHtcbiAgICAgICAgYXQgPSBhdC5hbmNob3I7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgWywgZW5kXSA9IFJhbmdlLmVkZ2VzKGF0KTtcbiAgICAgICAgdmFyIHBvaW50UmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgZW5kKTtcbiAgICAgICAgVHJhbnNmb3Jtcy5kZWxldGUoZWRpdG9yLCB7XG4gICAgICAgICAgYXRcbiAgICAgICAgfSk7XG4gICAgICAgIGF0ID0gcG9pbnRSZWYudW5yZWYoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoUG9pbnQuaXNQb2ludChhdCkpIHtcbiAgICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgICAgIG1hdGNoID0gbiA9PiBUZXh0LmlzVGV4dChuKTtcbiAgICAgICAgfSBlbHNlIGlmIChlZGl0b3IuaXNJbmxpbmUobm9kZSkpIHtcbiAgICAgICAgICBtYXRjaCA9IG4gPT4gVGV4dC5pc1RleHQobikgfHwgRWRpdG9yLmlzSW5saW5lKGVkaXRvciwgbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbWF0Y2ggPSBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIFtlbnRyeV0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBhdC5wYXRoLFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgdmFyIFssIG1hdGNoUGF0aF0gPSBlbnRyeTtcbiAgICAgICAgdmFyIHBhdGhSZWYgPSBFZGl0b3IucGF0aFJlZihlZGl0b3IsIG1hdGNoUGF0aCk7XG4gICAgICAgIHZhciBpc0F0RW5kID0gRWRpdG9yLmlzRW5kKGVkaXRvciwgYXQsIG1hdGNoUGF0aCk7XG4gICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdCxcbiAgICAgICAgICBtYXRjaCxcbiAgICAgICAgICBtb2RlLFxuICAgICAgICAgIHZvaWRzXG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcbiAgICAgICAgYXQgPSBpc0F0RW5kID8gUGF0aC5uZXh0KHBhdGgpIDogcGF0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcGFyZW50UGF0aCA9IFBhdGgucGFyZW50KGF0KTtcbiAgICB2YXIgaW5kZXggPSBhdFthdC5sZW5ndGggLSAxXTtcblxuICAgIGlmICghdm9pZHMgJiYgRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICBhdDogcGFyZW50UGF0aFxuICAgIH0pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX25vZGUgb2Ygbm9kZXMpIHtcbiAgICAgIHZhciBfcGF0aCA9IHBhcmVudFBhdGguY29uY2F0KGluZGV4KTtcblxuICAgICAgaW5kZXgrKztcbiAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgIHR5cGU6ICdpbnNlcnRfbm9kZScsXG4gICAgICAgIHBhdGg6IF9wYXRoLFxuICAgICAgICBub2RlOiBfbm9kZVxuICAgICAgfSk7XG4gICAgICBhdCA9IFBhdGgubmV4dChhdCk7XG4gICAgfVxuXG4gICAgYXQgPSBQYXRoLnByZXZpb3VzKGF0KTtcblxuICAgIGlmIChzZWxlY3QpIHtcbiAgICAgIHZhciBwb2ludCA9IEVkaXRvci5lbmQoZWRpdG9yLCBhdCk7XG5cbiAgICAgIGlmIChwb2ludCkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIHBvaW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxudmFyIGxpZnROb2RlcyA9IGZ1bmN0aW9uIGxpZnROb2RlcyhlZGl0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBhdCA9IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICBtb2RlID0gJ2xvd2VzdCcsXG4gICAgICB2b2lkcyA9IGZhbHNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIG1hdGNoXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgbWF0Y2ggPSBQYXRoLmlzUGF0aChhdCkgPyBtYXRjaFBhdGgoZWRpdG9yLCBhdCkgOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgfVxuXG4gICAgaWYgKCFhdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBtYXRjaGVzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBtYXRjaCxcbiAgICAgIG1vZGUsXG4gICAgICB2b2lkc1xuICAgIH0pO1xuICAgIHZhciBwYXRoUmVmcyA9IEFycmF5LmZyb20obWF0Y2hlcywgX3JlZiA9PiB7XG4gICAgICB2YXIgWywgcF0gPSBfcmVmO1xuICAgICAgcmV0dXJuIEVkaXRvci5wYXRoUmVmKGVkaXRvciwgcCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBwYXRoUmVmIG9mIHBhdGhSZWZzKSB7XG4gICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcblxuICAgICAgaWYgKHBhdGgubGVuZ3RoIDwgMikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgbGlmdCBub2RlIGF0IGEgcGF0aCBbXCIuY29uY2F0KHBhdGgsIFwiXSBiZWNhdXNlIGl0IGhhcyBhIGRlcHRoIG9mIGxlc3MgdGhhbiBgMmAuXCIpKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHBhcmVudE5vZGVFbnRyeSA9IEVkaXRvci5ub2RlKGVkaXRvciwgUGF0aC5wYXJlbnQocGF0aCkpO1xuICAgICAgdmFyIFtwYXJlbnQsIHBhcmVudFBhdGhdID0gcGFyZW50Tm9kZUVudHJ5O1xuICAgICAgdmFyIGluZGV4ID0gcGF0aFtwYXRoLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIHtcbiAgICAgICAgbGVuZ3RoXG4gICAgICB9ID0gcGFyZW50LmNoaWxkcmVuO1xuXG4gICAgICBpZiAobGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHZhciB0b1BhdGggPSBQYXRoLm5leHQocGFyZW50UGF0aCk7XG4gICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBwYXRoLFxuICAgICAgICAgIHRvOiB0b1BhdGgsXG4gICAgICAgICAgdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICAgIFRyYW5zZm9ybXMucmVtb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgYXQ6IHBhcmVudFBhdGgsXG4gICAgICAgICAgdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgIFRyYW5zZm9ybXMubW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICAgIGF0OiBwYXRoLFxuICAgICAgICAgIHRvOiBwYXJlbnRQYXRoLFxuICAgICAgICAgIHZvaWRzXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChpbmRleCA9PT0gbGVuZ3RoIC0gMSkge1xuICAgICAgICB2YXIgX3RvUGF0aCA9IFBhdGgubmV4dChwYXJlbnRQYXRoKTtcblxuICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogcGF0aCxcbiAgICAgICAgICB0bzogX3RvUGF0aCxcbiAgICAgICAgICB2b2lkc1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzcGxpdFBhdGggPSBQYXRoLm5leHQocGF0aCk7XG5cbiAgICAgICAgdmFyIF90b1BhdGgyID0gUGF0aC5uZXh0KHBhcmVudFBhdGgpO1xuXG4gICAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogc3BsaXRQYXRoLFxuICAgICAgICAgIHZvaWRzXG4gICAgICAgIH0pO1xuICAgICAgICBUcmFuc2Zvcm1zLm1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgICBhdDogcGF0aCxcbiAgICAgICAgICB0bzogX3RvUGF0aDIsXG4gICAgICAgICAgdm9pZHNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBfZXhjbHVkZWQgPSBbXCJ0ZXh0XCJdLFxuICAgIF9leGNsdWRlZDIgPSBbXCJjaGlsZHJlblwiXTtcblxudmFyIGhhc1NpbmdsZUNoaWxkTmVzdCA9IChlZGl0b3IsIG5vZGUpID0+IHtcbiAgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpKSB7XG4gICAgdmFyIGVsZW1lbnQgPSBub2RlO1xuXG4gICAgaWYgKEVkaXRvci5pc1ZvaWQoZWRpdG9yLCBub2RlKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIGlmIChlbGVtZW50LmNoaWxkcmVuLmxlbmd0aCA9PT0gMSkge1xuICAgICAgcmV0dXJuIGhhc1NpbmdsZUNoaWxkTmVzdChlZGl0b3IsIGVsZW1lbnQuY2hpbGRyZW5bMF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9IGVsc2UgaWYgKEVkaXRvci5pc0VkaXRvcihub2RlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxudmFyIG1lcmdlTm9kZXMgPSBmdW5jdGlvbiBtZXJnZU5vZGVzKGVkaXRvcikge1xuICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gIEVkaXRvci53aXRob3V0Tm9ybWFsaXppbmcoZWRpdG9yLCAoKSA9PiB7XG4gICAgdmFyIHtcbiAgICAgIG1hdGNoLFxuICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIGhhbmdpbmcgPSBmYWxzZSxcbiAgICAgIHZvaWRzID0gZmFsc2UsXG4gICAgICBtb2RlID0gJ2xvd2VzdCdcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgaWYgKFBhdGguaXNQYXRoKGF0KSkge1xuICAgICAgICB2YXIgW3BhcmVudF0gPSBFZGl0b3IucGFyZW50KGVkaXRvciwgYXQpO1xuXG4gICAgICAgIG1hdGNoID0gbiA9PiBwYXJlbnQuY2hpbGRyZW4uaW5jbHVkZXMobik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtYXRjaCA9IG4gPT4gRWxlbWVudC5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWhhbmdpbmcgJiYgUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQsIHtcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSkge1xuICAgICAgICBhdCA9IGF0LmFuY2hvcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBbLCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpO1xuICAgICAgICB2YXIgcG9pbnRSZWYgPSBFZGl0b3IucG9pbnRSZWYoZWRpdG9yLCBlbmQpO1xuICAgICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgICAgICBhdFxuICAgICAgICB9KTtcbiAgICAgICAgYXQgPSBwb2ludFJlZi51bnJlZigpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwpIHtcbiAgICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBbY3VycmVudF0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICBhdCxcbiAgICAgIG1hdGNoLFxuICAgICAgdm9pZHMsXG4gICAgICBtb2RlXG4gICAgfSk7XG4gICAgdmFyIHByZXYgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7XG4gICAgICBhdCxcbiAgICAgIG1hdGNoLFxuICAgICAgdm9pZHMsXG4gICAgICBtb2RlXG4gICAgfSk7XG5cbiAgICBpZiAoIWN1cnJlbnQgfHwgIXByZXYpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgW25vZGUsIHBhdGhdID0gY3VycmVudDtcbiAgICB2YXIgW3ByZXZOb2RlLCBwcmV2UGF0aF0gPSBwcmV2O1xuXG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwIHx8IHByZXZQYXRoLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBuZXdQYXRoID0gUGF0aC5uZXh0KHByZXZQYXRoKTtcbiAgICB2YXIgY29tbW9uUGF0aCA9IFBhdGguY29tbW9uKHBhdGgsIHByZXZQYXRoKTtcbiAgICB2YXIgaXNQcmV2aW91c1NpYmxpbmcgPSBQYXRoLmlzU2libGluZyhwYXRoLCBwcmV2UGF0aCk7XG4gICAgdmFyIGxldmVscyA9IEFycmF5LmZyb20oRWRpdG9yLmxldmVscyhlZGl0b3IsIHtcbiAgICAgIGF0OiBwYXRoXG4gICAgfSksIF9yZWYgPT4ge1xuICAgICAgdmFyIFtuXSA9IF9yZWY7XG4gICAgICByZXR1cm4gbjtcbiAgICB9KS5zbGljZShjb21tb25QYXRoLmxlbmd0aCkuc2xpY2UoMCwgLTEpOyAvLyBEZXRlcm1pbmUgaWYgdGhlIG1lcmdlIHdpbGwgbGVhdmUgYW4gYW5jZXN0b3Igb2YgdGhlIHBhdGggZW1wdHkgYXMgYVxuICAgIC8vIHJlc3VsdCwgaW4gd2hpY2ggY2FzZSB3ZSdsbCB3YW50IHRvIHJlbW92ZSBpdCBhZnRlciBtZXJnaW5nLlxuXG4gICAgdmFyIGVtcHR5QW5jZXN0b3IgPSBFZGl0b3IuYWJvdmUoZWRpdG9yLCB7XG4gICAgICBhdDogcGF0aCxcbiAgICAgIG1vZGU6ICdoaWdoZXN0JyxcbiAgICAgIG1hdGNoOiBuID0+IGxldmVscy5pbmNsdWRlcyhuKSAmJiBoYXNTaW5nbGVDaGlsZE5lc3QoZWRpdG9yLCBuKVxuICAgIH0pO1xuICAgIHZhciBlbXB0eVJlZiA9IGVtcHR5QW5jZXN0b3IgJiYgRWRpdG9yLnBhdGhSZWYoZWRpdG9yLCBlbXB0eUFuY2VzdG9yWzFdKTtcbiAgICB2YXIgcHJvcGVydGllcztcbiAgICB2YXIgcG9zaXRpb247IC8vIEVuc3VyZSB0aGF0IHRoZSBub2RlcyBhcmUgZXF1aXZhbGVudCwgYW5kIGZpZ3VyZSBvdXQgd2hhdCB0aGUgcG9zaXRpb25cbiAgICAvLyBhbmQgZXh0cmEgcHJvcGVydGllcyBvZiB0aGUgbWVyZ2Ugd2lsbCBiZS5cblxuICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSAmJiBUZXh0LmlzVGV4dChwcmV2Tm9kZSkpIHtcbiAgICAgIHZhciByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG5vZGUsIF9leGNsdWRlZCk7XG5cbiAgICAgIHBvc2l0aW9uID0gcHJldk5vZGUudGV4dC5sZW5ndGg7XG4gICAgICBwcm9wZXJ0aWVzID0gcmVzdDtcbiAgICB9IGVsc2UgaWYgKEVsZW1lbnQuaXNFbGVtZW50KG5vZGUpICYmIEVsZW1lbnQuaXNFbGVtZW50KHByZXZOb2RlKSkge1xuICAgICAgdmFyIHJlc3QgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMik7XG5cbiAgICAgIHBvc2l0aW9uID0gcHJldk5vZGUuY2hpbGRyZW4ubGVuZ3RoO1xuICAgICAgcHJvcGVydGllcyA9IHJlc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBtZXJnZSB0aGUgbm9kZSBhdCBwYXRoIFtcIi5jb25jYXQocGF0aCwgXCJdIHdpdGggdGhlIHByZXZpb3VzIHNpYmxpbmcgYmVjYXVzZSBpdCBpcyBub3QgdGhlIHNhbWUga2luZDogXCIpLmNvbmNhdChTY3J1YmJlci5zdHJpbmdpZnkobm9kZSksIFwiIFwiKS5jb25jYXQoU2NydWJiZXIuc3RyaW5naWZ5KHByZXZOb2RlKSkpO1xuICAgIH0gLy8gSWYgdGhlIG5vZGUgaXNuJ3QgYWxyZWFkeSB0aGUgbmV4dCBzaWJsaW5nIG9mIHRoZSBwcmV2aW91cyBub2RlLCBtb3ZlXG4gICAgLy8gaXQgc28gdGhhdCBpdCBpcyBiZWZvcmUgbWVyZ2luZy5cblxuXG4gICAgaWYgKCFpc1ByZXZpb3VzU2libGluZykge1xuICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiBwYXRoLFxuICAgICAgICB0bzogbmV3UGF0aCxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgIH0gLy8gSWYgdGhlcmUgd2FzIGdvaW5nIHRvIGJlIGFuIGVtcHR5IGFuY2VzdG9yIG9mIHRoZSBub2RlIHRoYXQgd2FzIG1lcmdlZCxcbiAgICAvLyB3ZSByZW1vdmUgaXQgZnJvbSB0aGUgdHJlZS5cblxuXG4gICAgaWYgKGVtcHR5UmVmKSB7XG4gICAgICBUcmFuc2Zvcm1zLnJlbW92ZU5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogZW1wdHlSZWYuY3VycmVudCxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgIH0gLy8gSWYgdGhlIHRhcmdldCBub2RlIHRoYXQgd2UncmUgbWVyZ2luZyB3aXRoIGlzIGVtcHR5LCByZW1vdmUgaXQgaW5zdGVhZFxuICAgIC8vIG9mIG1lcmdpbmcgdGhlIHR3by4gVGhpcyBpcyBhIGNvbW1vbiByaWNoIHRleHQgZWRpdG9yIGJlaGF2aW9yIHRvXG4gICAgLy8gcHJldmVudCBsb3NpbmcgZm9ybWF0dGluZyB3aGVuIGRlbGV0aW5nIGVudGlyZSBub2RlcyB3aGVuIHlvdSBoYXZlIGFcbiAgICAvLyBoYW5naW5nIHNlbGVjdGlvbi5cbiAgICAvLyBpZiBwcmV2Tm9kZSBpcyBmaXJzdCBjaGlsZCBpbiBwYXJlbnQsZG9uJ3QgcmVtb3ZlIGl0LlxuXG5cbiAgICBpZiAoRWxlbWVudC5pc0VsZW1lbnQocHJldk5vZGUpICYmIEVkaXRvci5pc0VtcHR5KGVkaXRvciwgcHJldk5vZGUpIHx8IFRleHQuaXNUZXh0KHByZXZOb2RlKSAmJiBwcmV2Tm9kZS50ZXh0ID09PSAnJyAmJiBwcmV2UGF0aFtwcmV2UGF0aC5sZW5ndGggLSAxXSAhPT0gMCkge1xuICAgICAgVHJhbnNmb3Jtcy5yZW1vdmVOb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHByZXZQYXRoLFxuICAgICAgICB2b2lkc1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgIHR5cGU6ICdtZXJnZV9ub2RlJyxcbiAgICAgICAgcGF0aDogbmV3UGF0aCxcbiAgICAgICAgcG9zaXRpb24sXG4gICAgICAgIHByb3BlcnRpZXNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbXB0eVJlZikge1xuICAgICAgZW1wdHlSZWYudW5yZWYoKTtcbiAgICB9XG4gIH0pO1xufTtcblxudmFyIG1vdmVOb2RlcyA9IChlZGl0b3IsIG9wdGlvbnMpID0+IHtcbiAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICB2YXIge1xuICAgICAgdG8sXG4gICAgICBhdCA9IGVkaXRvci5zZWxlY3Rpb24sXG4gICAgICBtb2RlID0gJ2xvd2VzdCcsXG4gICAgICB2b2lkcyA9IGZhbHNlXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIG1hdGNoXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoIWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpIDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgIH1cblxuICAgIHZhciB0b1JlZiA9IEVkaXRvci5wYXRoUmVmKGVkaXRvciwgdG8pO1xuICAgIHZhciB0YXJnZXRzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBtYXRjaCxcbiAgICAgIG1vZGUsXG4gICAgICB2b2lkc1xuICAgIH0pO1xuICAgIHZhciBwYXRoUmVmcyA9IEFycmF5LmZyb20odGFyZ2V0cywgX3JlZiA9PiB7XG4gICAgICB2YXIgWywgcF0gPSBfcmVmO1xuICAgICAgcmV0dXJuIEVkaXRvci5wYXRoUmVmKGVkaXRvciwgcCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBwYXRoUmVmIG9mIHBhdGhSZWZzKSB7XG4gICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcbiAgICAgIHZhciBuZXdQYXRoID0gdG9SZWYuY3VycmVudDtcblxuICAgICAgaWYgKHBhdGgubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ21vdmVfbm9kZScsXG4gICAgICAgICAgcGF0aCxcbiAgICAgICAgICBuZXdQYXRoXG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAodG9SZWYuY3VycmVudCAmJiBQYXRoLmlzU2libGluZyhuZXdQYXRoLCBwYXRoKSAmJiBQYXRoLmlzQWZ0ZXIobmV3UGF0aCwgcGF0aCkpIHtcbiAgICAgICAgLy8gV2hlbiBwZXJmb3JtaW5nIGEgc2libGluZyBtb3ZlIHRvIGEgbGF0ZXIgaW5kZXgsIHRoZSBwYXRoIGF0IHRoZSBkZXN0aW5hdGlvbiBpcyBzaGlmdGVkXG4gICAgICAgIC8vIHRvIGJlZm9yZSB0aGUgaW5zZXJ0aW9uIHBvaW50IGluc3RlYWQgb2YgYWZ0ZXIuIFRvIGVuc3VyZSBvdXIgZ3JvdXAgb2Ygbm9kZXMgYXJlIGluc2VydGVkXG4gICAgICAgIC8vIGluIHRoZSBjb3JyZWN0IG9yZGVyIHdlIGluY3JlbWVudCB0b1JlZiB0byBhY2NvdW50IGZvciB0aGF0XG4gICAgICAgIHRvUmVmLmN1cnJlbnQgPSBQYXRoLm5leHQodG9SZWYuY3VycmVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdG9SZWYudW5yZWYoKTtcbiAgfSk7XG59O1xuXG52YXIgcmVtb3ZlTm9kZXMgPSBmdW5jdGlvbiByZW1vdmVOb2RlcyhlZGl0b3IpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBoYW5naW5nID0gZmFsc2UsXG4gICAgICB2b2lkcyA9IGZhbHNlLFxuICAgICAgbW9kZSA9ICdsb3dlc3QnXG4gICAgfSA9IG9wdGlvbnM7XG4gICAgdmFyIHtcbiAgICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIG1hdGNoXG4gICAgfSA9IG9wdGlvbnM7XG5cbiAgICBpZiAoIWF0KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgIG1hdGNoID0gUGF0aC5pc1BhdGgoYXQpID8gbWF0Y2hQYXRoKGVkaXRvciwgYXQpIDogbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgIH1cblxuICAgIGlmICghaGFuZ2luZyAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgYXQgPSBFZGl0b3IudW5oYW5nUmFuZ2UoZWRpdG9yLCBhdCwge1xuICAgICAgICB2b2lkc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgdmFyIGRlcHRocyA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgIGF0LFxuICAgICAgbWF0Y2gsXG4gICAgICBtb2RlLFxuICAgICAgdm9pZHNcbiAgICB9KTtcbiAgICB2YXIgcGF0aFJlZnMgPSBBcnJheS5mcm9tKGRlcHRocywgX3JlZiA9PiB7XG4gICAgICB2YXIgWywgcF0gPSBfcmVmO1xuICAgICAgcmV0dXJuIEVkaXRvci5wYXRoUmVmKGVkaXRvciwgcCk7XG4gICAgfSk7XG5cbiAgICBmb3IgKHZhciBwYXRoUmVmIG9mIHBhdGhSZWZzKSB7XG4gICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcblxuICAgICAgaWYgKHBhdGgpIHtcbiAgICAgICAgdmFyIFtub2RlXSA9IEVkaXRvci5ub2RlKGVkaXRvciwgcGF0aCk7XG4gICAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ3JlbW92ZV9ub2RlJyxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIG5vZGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciBzZXROb2RlcyA9IGZ1bmN0aW9uIHNldE5vZGVzKGVkaXRvciwgcHJvcHMpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBtYXRjaCxcbiAgICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIGNvbXBhcmUsXG4gICAgICBtZXJnZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBoYW5naW5nID0gZmFsc2UsXG4gICAgICBtb2RlID0gJ2xvd2VzdCcsXG4gICAgICBzcGxpdCA9IGZhbHNlLFxuICAgICAgdm9pZHMgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKCFhdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICBtYXRjaCA9IFBhdGguaXNQYXRoKGF0KSA/IG1hdGNoUGF0aChlZGl0b3IsIGF0KSA6IG4gPT4gRWxlbWVudC5pc0VsZW1lbnQobikgJiYgRWRpdG9yLmlzQmxvY2soZWRpdG9yLCBuKTtcbiAgICB9XG5cbiAgICBpZiAoIWhhbmdpbmcgJiYgUmFuZ2UuaXNSYW5nZShhdCkpIHtcbiAgICAgIGF0ID0gRWRpdG9yLnVuaGFuZ1JhbmdlKGVkaXRvciwgYXQsIHtcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChzcGxpdCAmJiBSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKGF0KSAmJiBFZGl0b3IubGVhZihlZGl0b3IsIGF0LmFuY2hvcilbMF0udGV4dC5sZW5ndGggPiAwKSB7XG4gICAgICAgIC8vIElmIHRoZSByYW5nZSBpcyBjb2xsYXBzZWQgaW4gYSBub24tZW1wdHkgbm9kZSBhbmQgJ3NwbGl0JyBpcyB0cnVlLCB0aGVyZSdzIG5vdGhpbmcgdG9cbiAgICAgICAgLy8gc2V0IHRoYXQgd29uJ3QgZ2V0IG5vcm1hbGl6ZWQgYXdheVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciByYW5nZVJlZiA9IEVkaXRvci5yYW5nZVJlZihlZGl0b3IsIGF0LCB7XG4gICAgICAgIGFmZmluaXR5OiAnaW53YXJkJ1xuICAgICAgfSk7XG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpO1xuICAgICAgdmFyIHNwbGl0TW9kZSA9IG1vZGUgPT09ICdsb3dlc3QnID8gJ2xvd2VzdCcgOiAnaGlnaGVzdCc7XG4gICAgICB2YXIgZW5kQXRFbmRPZk5vZGUgPSBFZGl0b3IuaXNFbmQoZWRpdG9yLCBlbmQsIGVuZC5wYXRoKTtcbiAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IGVuZCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIG1vZGU6IHNwbGl0TW9kZSxcbiAgICAgICAgdm9pZHMsXG4gICAgICAgIGFsd2F5czogIWVuZEF0RW5kT2ZOb2RlXG4gICAgICB9KTtcbiAgICAgIHZhciBzdGFydEF0U3RhcnRPZk5vZGUgPSBFZGl0b3IuaXNTdGFydChlZGl0b3IsIHN0YXJ0LCBzdGFydC5wYXRoKTtcbiAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHN0YXJ0LFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbW9kZTogc3BsaXRNb2RlLFxuICAgICAgICB2b2lkcyxcbiAgICAgICAgYWx3YXlzOiAhc3RhcnRBdFN0YXJ0T2ZOb2RlXG4gICAgICB9KTtcbiAgICAgIGF0ID0gcmFuZ2VSZWYudW5yZWYoKTtcblxuICAgICAgaWYgKG9wdGlvbnMuYXQgPT0gbnVsbCkge1xuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIGF0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIWNvbXBhcmUpIHtcbiAgICAgIGNvbXBhcmUgPSAocHJvcCwgbm9kZVByb3ApID0+IHByb3AgIT09IG5vZGVQcm9wO1xuICAgIH1cblxuICAgIGZvciAodmFyIFtub2RlLCBwYXRoXSBvZiBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICBhdCxcbiAgICAgIG1hdGNoLFxuICAgICAgbW9kZSxcbiAgICAgIHZvaWRzXG4gICAgfSkpIHtcbiAgICAgIHZhciBwcm9wZXJ0aWVzID0ge307XG4gICAgICB2YXIgbmV3UHJvcGVydGllcyA9IHt9OyAvLyBZb3UgY2FuJ3Qgc2V0IHByb3BlcnRpZXMgb24gdGhlIGVkaXRvciBub2RlLlxuXG4gICAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBoYXNDaGFuZ2VzID0gZmFsc2U7XG5cbiAgICAgIGZvciAodmFyIGsgaW4gcHJvcHMpIHtcbiAgICAgICAgaWYgKGsgPT09ICdjaGlsZHJlbicgfHwgayA9PT0gJ3RleHQnKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29tcGFyZShwcm9wc1trXSwgbm9kZVtrXSkpIHtcbiAgICAgICAgICBoYXNDaGFuZ2VzID0gdHJ1ZTsgLy8gT21pdCBuZXcgcHJvcGVydGllcyBmcm9tIHRoZSBvbGQgcHJvcGVydGllcyBsaXN0XG5cbiAgICAgICAgICBpZiAobm9kZS5oYXNPd25Qcm9wZXJ0eShrKSkgcHJvcGVydGllc1trXSA9IG5vZGVba107IC8vIE9taXQgcHJvcGVydGllcyB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIGZyb20gdGhlIG5ldyBwcm9wZXJ0aWVzIGxpc3RcblxuICAgICAgICAgIGlmIChtZXJnZSkge1xuICAgICAgICAgICAgaWYgKHByb3BzW2tdICE9IG51bGwpIG5ld1Byb3BlcnRpZXNba10gPSBtZXJnZShub2RlW2tdLCBwcm9wc1trXSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwcm9wc1trXSAhPSBudWxsKSBuZXdQcm9wZXJ0aWVzW2tdID0gcHJvcHNba107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChoYXNDaGFuZ2VzKSB7XG4gICAgICAgIGVkaXRvci5hcHBseSh7XG4gICAgICAgICAgdHlwZTogJ3NldF9ub2RlJyxcbiAgICAgICAgICBwYXRoLFxuICAgICAgICAgIHByb3BlcnRpZXMsXG4gICAgICAgICAgbmV3UHJvcGVydGllc1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXHJcbiAqIENvbnZlcnQgYSByYW5nZSBpbnRvIGEgcG9pbnQgYnkgZGVsZXRpbmcgaXQncyBjb250ZW50LlxyXG4gKi9cblxudmFyIGRlbGV0ZVJhbmdlID0gKGVkaXRvciwgcmFuZ2UpID0+IHtcbiAgaWYgKFJhbmdlLmlzQ29sbGFwc2VkKHJhbmdlKSkge1xuICAgIHJldHVybiByYW5nZS5hbmNob3I7XG4gIH0gZWxzZSB7XG4gICAgdmFyIFssIGVuZF0gPSBSYW5nZS5lZGdlcyhyYW5nZSk7XG4gICAgdmFyIHBvaW50UmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgZW5kKTtcbiAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgIGF0OiByYW5nZVxuICAgIH0pO1xuICAgIHJldHVybiBwb2ludFJlZi51bnJlZigpO1xuICB9XG59O1xuXG52YXIgc3BsaXROb2RlcyA9IGZ1bmN0aW9uIHNwbGl0Tm9kZXMoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICB2YXIge1xuICAgICAgbW9kZSA9ICdsb3dlc3QnLFxuICAgICAgdm9pZHMgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBtYXRjaCxcbiAgICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvbixcbiAgICAgIGhlaWdodCA9IDAsXG4gICAgICBhbHdheXMgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKG1hdGNoID09IG51bGwpIHtcbiAgICAgIG1hdGNoID0gbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pO1xuICAgIH1cblxuICAgIGlmIChSYW5nZS5pc1JhbmdlKGF0KSkge1xuICAgICAgYXQgPSBkZWxldGVSYW5nZShlZGl0b3IsIGF0KTtcbiAgICB9IC8vIElmIHRoZSB0YXJnZXQgaXMgYSBwYXRoLCB0aGUgZGVmYXVsdCBoZWlnaHQtc2tpcHBpbmcgYW5kIHBvc2l0aW9uXG4gICAgLy8gY291bnRlcnMgbmVlZCB0byBhY2NvdW50IGZvciB1cyBwb3RlbnRpYWxseSBzcGxpdHRpbmcgYXQgYSBub24tbGVhZi5cblxuXG4gICAgaWYgKFBhdGguaXNQYXRoKGF0KSkge1xuICAgICAgdmFyIHBhdGggPSBhdDtcbiAgICAgIHZhciBwb2ludCA9IEVkaXRvci5wb2ludChlZGl0b3IsIHBhdGgpO1xuICAgICAgdmFyIFtwYXJlbnRdID0gRWRpdG9yLnBhcmVudChlZGl0b3IsIHBhdGgpO1xuXG4gICAgICBtYXRjaCA9IG4gPT4gbiA9PT0gcGFyZW50O1xuXG4gICAgICBoZWlnaHQgPSBwb2ludC5wYXRoLmxlbmd0aCAtIHBhdGgubGVuZ3RoICsgMTtcbiAgICAgIGF0ID0gcG9pbnQ7XG4gICAgICBhbHdheXMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgYmVmb3JlUmVmID0gRWRpdG9yLnBvaW50UmVmKGVkaXRvciwgYXQsIHtcbiAgICAgIGFmZmluaXR5OiAnYmFja3dhcmQnXG4gICAgfSk7XG4gICAgdmFyIGFmdGVyUmVmO1xuXG4gICAgdHJ5IHtcbiAgICAgIHZhciBbaGlnaGVzdF0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0LFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgbW9kZSxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoIWhpZ2hlc3QpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgdm9pZE1hdGNoID0gRWRpdG9yLnZvaWQoZWRpdG9yLCB7XG4gICAgICAgIGF0LFxuICAgICAgICBtb2RlOiAnaGlnaGVzdCdcbiAgICAgIH0pO1xuICAgICAgdmFyIG51ZGdlID0gMDtcblxuICAgICAgaWYgKCF2b2lkcyAmJiB2b2lkTWF0Y2gpIHtcbiAgICAgICAgdmFyIFt2b2lkTm9kZSwgdm9pZFBhdGhdID0gdm9pZE1hdGNoO1xuXG4gICAgICAgIGlmIChFbGVtZW50LmlzRWxlbWVudCh2b2lkTm9kZSkgJiYgZWRpdG9yLmlzSW5saW5lKHZvaWROb2RlKSkge1xuICAgICAgICAgIHZhciBhZnRlciA9IEVkaXRvci5hZnRlcihlZGl0b3IsIHZvaWRQYXRoKTtcblxuICAgICAgICAgIGlmICghYWZ0ZXIpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0ge1xuICAgICAgICAgICAgICB0ZXh0OiAnJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHZhciBhZnRlclBhdGggPSBQYXRoLm5leHQodm9pZFBhdGgpO1xuICAgICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHRleHQsIHtcbiAgICAgICAgICAgICAgYXQ6IGFmdGVyUGF0aCxcbiAgICAgICAgICAgICAgdm9pZHNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYWZ0ZXIgPSBFZGl0b3IucG9pbnQoZWRpdG9yLCBhZnRlclBhdGgpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGF0ID0gYWZ0ZXI7XG4gICAgICAgICAgYWx3YXlzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzaWJsaW5nSGVpZ2h0ID0gYXQucGF0aC5sZW5ndGggLSB2b2lkUGF0aC5sZW5ndGg7XG4gICAgICAgIGhlaWdodCA9IHNpYmxpbmdIZWlnaHQgKyAxO1xuICAgICAgICBhbHdheXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBhZnRlclJlZiA9IEVkaXRvci5wb2ludFJlZihlZGl0b3IsIGF0KTtcbiAgICAgIHZhciBkZXB0aCA9IGF0LnBhdGgubGVuZ3RoIC0gaGVpZ2h0O1xuICAgICAgdmFyIFssIGhpZ2hlc3RQYXRoXSA9IGhpZ2hlc3Q7XG4gICAgICB2YXIgbG93ZXN0UGF0aCA9IGF0LnBhdGguc2xpY2UoMCwgZGVwdGgpO1xuICAgICAgdmFyIHBvc2l0aW9uID0gaGVpZ2h0ID09PSAwID8gYXQub2Zmc2V0IDogYXQucGF0aFtkZXB0aF0gKyBudWRnZTtcblxuICAgICAgZm9yICh2YXIgW25vZGUsIF9wYXRoXSBvZiBFZGl0b3IubGV2ZWxzKGVkaXRvciwge1xuICAgICAgICBhdDogbG93ZXN0UGF0aCxcbiAgICAgICAgcmV2ZXJzZTogdHJ1ZSxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChfcGF0aC5sZW5ndGggPCBoaWdoZXN0UGF0aC5sZW5ndGggfHwgX3BhdGgubGVuZ3RoID09PSAwIHx8ICF2b2lkcyAmJiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBFZGl0b3IuaXNWb2lkKGVkaXRvciwgbm9kZSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBfcG9pbnQgPSBiZWZvcmVSZWYuY3VycmVudDtcbiAgICAgICAgdmFyIGlzRW5kID0gRWRpdG9yLmlzRW5kKGVkaXRvciwgX3BvaW50LCBfcGF0aCk7XG5cbiAgICAgICAgaWYgKGFsd2F5cyB8fCAhYmVmb3JlUmVmIHx8ICFFZGl0b3IuaXNFZGdlKGVkaXRvciwgX3BvaW50LCBfcGF0aCkpIHtcbiAgICAgICAgICBzcGxpdCA9IHRydWU7XG4gICAgICAgICAgdmFyIHByb3BlcnRpZXMgPSBOb2RlLmV4dHJhY3RQcm9wcyhub2RlKTtcbiAgICAgICAgICBlZGl0b3IuYXBwbHkoe1xuICAgICAgICAgICAgdHlwZTogJ3NwbGl0X25vZGUnLFxuICAgICAgICAgICAgcGF0aDogX3BhdGgsXG4gICAgICAgICAgICBwb3NpdGlvbixcbiAgICAgICAgICAgIHByb3BlcnRpZXNcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHBvc2l0aW9uID0gX3BhdGhbX3BhdGgubGVuZ3RoIC0gMV0gKyAoc3BsaXQgfHwgaXNFbmQgPyAxIDogMCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRpb25zLmF0ID09IG51bGwpIHtcbiAgICAgICAgdmFyIF9wb2ludDIgPSBhZnRlclJlZi5jdXJyZW50IHx8IEVkaXRvci5lbmQoZWRpdG9yLCBbXSk7XG5cbiAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBfcG9pbnQyKTtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgdmFyIF9hZnRlclJlZjtcblxuICAgICAgYmVmb3JlUmVmLnVucmVmKCk7XG4gICAgICAoX2FmdGVyUmVmID0gYWZ0ZXJSZWYpID09PSBudWxsIHx8IF9hZnRlclJlZiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FmdGVyUmVmLnVucmVmKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbnZhciB1bnNldE5vZGVzID0gZnVuY3Rpb24gdW5zZXROb2RlcyhlZGl0b3IsIHByb3BzKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDIgJiYgYXJndW1lbnRzWzJdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMl0gOiB7fTtcblxuICBpZiAoIUFycmF5LmlzQXJyYXkocHJvcHMpKSB7XG4gICAgcHJvcHMgPSBbcHJvcHNdO1xuICB9XG5cbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGZvciAodmFyIGtleSBvZiBwcm9wcykge1xuICAgIG9ialtrZXldID0gbnVsbDtcbiAgfVxuXG4gIFRyYW5zZm9ybXMuc2V0Tm9kZXMoZWRpdG9yLCBvYmosIG9wdGlvbnMpO1xufTtcblxudmFyIHVud3JhcE5vZGVzID0gZnVuY3Rpb24gdW53cmFwTm9kZXMoZWRpdG9yKSB7XG4gIHZhciBvcHRpb25zID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiB7fTtcbiAgRWRpdG9yLndpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsICgpID0+IHtcbiAgICB2YXIge1xuICAgICAgbW9kZSA9ICdsb3dlc3QnLFxuICAgICAgc3BsaXQgPSBmYWxzZSxcbiAgICAgIHZvaWRzID0gZmFsc2VcbiAgICB9ID0gb3B0aW9ucztcbiAgICB2YXIge1xuICAgICAgYXQgPSBlZGl0b3Iuc2VsZWN0aW9uLFxuICAgICAgbWF0Y2hcbiAgICB9ID0gb3B0aW9ucztcblxuICAgIGlmICghYXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgbWF0Y2ggPSBQYXRoLmlzUGF0aChhdCkgPyBtYXRjaFBhdGgoZWRpdG9yLCBhdCkgOiBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgfVxuXG4gICAgaWYgKFBhdGguaXNQYXRoKGF0KSkge1xuICAgICAgYXQgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBhdCk7XG4gICAgfVxuXG4gICAgdmFyIHJhbmdlUmVmID0gUmFuZ2UuaXNSYW5nZShhdCkgPyBFZGl0b3IucmFuZ2VSZWYoZWRpdG9yLCBhdCkgOiBudWxsO1xuICAgIHZhciBtYXRjaGVzID0gRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBtYXRjaCxcbiAgICAgIG1vZGUsXG4gICAgICB2b2lkc1xuICAgIH0pO1xuICAgIHZhciBwYXRoUmVmcyA9IEFycmF5LmZyb20obWF0Y2hlcywgX3JlZiA9PiB7XG4gICAgICB2YXIgWywgcF0gPSBfcmVmO1xuICAgICAgcmV0dXJuIEVkaXRvci5wYXRoUmVmKGVkaXRvciwgcCk7XG4gICAgfSAvLyB1bndyYXBOb2RlIHdpbGwgY2FsbCBsaWZ0Tm9kZSB3aGljaCBkb2VzIG5vdCBzdXBwb3J0IHNwbGl0dGluZyB0aGUgbm9kZSB3aGVuIG5lc3RlZC5cbiAgICAvLyBJZiB3ZSBkbyBub3QgcmV2ZXJzZSB0aGUgb3JkZXIgYW5kIGNhbGwgaXQgZnJvbSB0b3AgdG8gdGhlIGJvdHRvbSwgaXQgd2lsbCByZW1vdmUgYWxsIGJsb2Nrc1xuICAgIC8vIHRoYXQgd3JhcCB0YXJnZXQgbm9kZS4gU28gd2UgcmV2ZXJzZSB0aGUgb3JkZXIuXG4gICAgKS5yZXZlcnNlKCk7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChwYXRoUmVmKSB7XG4gICAgICB2YXIgcGF0aCA9IHBhdGhSZWYudW5yZWYoKTtcbiAgICAgIHZhciBbbm9kZV0gPSBFZGl0b3Iubm9kZShlZGl0b3IsIHBhdGgpO1xuICAgICAgdmFyIHJhbmdlID0gRWRpdG9yLnJhbmdlKGVkaXRvciwgcGF0aCk7XG5cbiAgICAgIGlmIChzcGxpdCAmJiByYW5nZVJlZikge1xuICAgICAgICByYW5nZSA9IFJhbmdlLmludGVyc2VjdGlvbihyYW5nZVJlZi5jdXJyZW50LCByYW5nZSk7XG4gICAgICB9XG5cbiAgICAgIFRyYW5zZm9ybXMubGlmdE5vZGVzKGVkaXRvciwge1xuICAgICAgICBhdDogcmFuZ2UsXG4gICAgICAgIG1hdGNoOiBuID0+IEVsZW1lbnQuaXNBbmNlc3Rvcihub2RlKSAmJiBub2RlLmNoaWxkcmVuLmluY2x1ZGVzKG4pLFxuICAgICAgICB2b2lkc1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIHBhdGhSZWYgb2YgcGF0aFJlZnMpIHtcbiAgICAgIF9sb29wKHBhdGhSZWYpO1xuICAgIH1cblxuICAgIGlmIChyYW5nZVJlZikge1xuICAgICAgcmFuZ2VSZWYudW5yZWYoKTtcbiAgICB9XG4gIH0pO1xufTtcblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgeyBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IH0ga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxudmFyIHdyYXBOb2RlcyA9IGZ1bmN0aW9uIHdyYXBOb2RlcyhlZGl0b3IsIGVsZW1lbnQpIHtcbiAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMiAmJiBhcmd1bWVudHNbMl0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1syXSA6IHt9O1xuICBFZGl0b3Iud2l0aG91dE5vcm1hbGl6aW5nKGVkaXRvciwgKCkgPT4ge1xuICAgIHZhciB7XG4gICAgICBtb2RlID0gJ2xvd2VzdCcsXG4gICAgICBzcGxpdCA9IGZhbHNlLFxuICAgICAgdm9pZHMgPSBmYWxzZVxuICAgIH0gPSBvcHRpb25zO1xuICAgIHZhciB7XG4gICAgICBtYXRjaCxcbiAgICAgIGF0ID0gZWRpdG9yLnNlbGVjdGlvblxuICAgIH0gPSBvcHRpb25zO1xuXG4gICAgaWYgKCFhdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChtYXRjaCA9PSBudWxsKSB7XG4gICAgICBpZiAoUGF0aC5pc1BhdGgoYXQpKSB7XG4gICAgICAgIG1hdGNoID0gbWF0Y2hQYXRoKGVkaXRvciwgYXQpO1xuICAgICAgfSBlbHNlIGlmIChlZGl0b3IuaXNJbmxpbmUoZWxlbWVudCkpIHtcbiAgICAgICAgbWF0Y2ggPSBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0lubGluZShlZGl0b3IsIG4pIHx8IFRleHQuaXNUZXh0KG4pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF0Y2ggPSBuID0+IEVsZW1lbnQuaXNFbGVtZW50KG4pICYmIEVkaXRvci5pc0Jsb2NrKGVkaXRvciwgbik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHNwbGl0ICYmIFJhbmdlLmlzUmFuZ2UoYXQpKSB7XG4gICAgICB2YXIgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpO1xuICAgICAgdmFyIHJhbmdlUmVmID0gRWRpdG9yLnJhbmdlUmVmKGVkaXRvciwgYXQsIHtcbiAgICAgICAgYWZmaW5pdHk6ICdpbndhcmQnXG4gICAgICB9KTtcbiAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IGVuZCxcbiAgICAgICAgbWF0Y2gsXG4gICAgICAgIHZvaWRzXG4gICAgICB9KTtcbiAgICAgIFRyYW5zZm9ybXMuc3BsaXROb2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHN0YXJ0LFxuICAgICAgICBtYXRjaCxcbiAgICAgICAgdm9pZHNcbiAgICAgIH0pO1xuICAgICAgYXQgPSByYW5nZVJlZi51bnJlZigpO1xuXG4gICAgICBpZiAob3B0aW9ucy5hdCA9PSBudWxsKSB7XG4gICAgICAgIFRyYW5zZm9ybXMuc2VsZWN0KGVkaXRvciwgYXQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByb290cyA9IEFycmF5LmZyb20oRWRpdG9yLm5vZGVzKGVkaXRvciwge1xuICAgICAgYXQsXG4gICAgICBtYXRjaDogZWRpdG9yLmlzSW5saW5lKGVsZW1lbnQpID8gbiA9PiBFbGVtZW50LmlzRWxlbWVudChuKSAmJiBFZGl0b3IuaXNCbG9jayhlZGl0b3IsIG4pIDogbiA9PiBFZGl0b3IuaXNFZGl0b3IobiksXG4gICAgICBtb2RlOiAnbG93ZXN0JyxcbiAgICAgIHZvaWRzXG4gICAgfSkpO1xuXG4gICAgZm9yICh2YXIgWywgcm9vdFBhdGhdIG9mIHJvb3RzKSB7XG4gICAgICB2YXIgYSA9IFJhbmdlLmlzUmFuZ2UoYXQpID8gUmFuZ2UuaW50ZXJzZWN0aW9uKGF0LCBFZGl0b3IucmFuZ2UoZWRpdG9yLCByb290UGF0aCkpIDogYXQ7XG5cbiAgICAgIGlmICghYSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1hdGNoZXMgPSBBcnJheS5mcm9tKEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgICAgYXQ6IGEsXG4gICAgICAgIG1hdGNoLFxuICAgICAgICBtb2RlLFxuICAgICAgICB2b2lkc1xuICAgICAgfSkpO1xuXG4gICAgICBpZiAobWF0Y2hlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBfcmV0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBbZmlyc3RdID0gbWF0Y2hlcztcbiAgICAgICAgICB2YXIgbGFzdCA9IG1hdGNoZXNbbWF0Y2hlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICB2YXIgWywgZmlyc3RQYXRoXSA9IGZpcnN0O1xuICAgICAgICAgIHZhciBbLCBsYXN0UGF0aF0gPSBsYXN0O1xuXG4gICAgICAgICAgaWYgKGZpcnN0UGF0aC5sZW5ndGggPT09IDAgJiYgbGFzdFBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAvLyBpZiB0aGVyZSdzIG5vIG1hdGNoaW5nIHBhcmVudCAtIHVzdWFsbHkgbWVhbnMgdGhlIG5vZGUgaXMgYW4gZWRpdG9yIC0gZG9uJ3QgZG8gYW55dGhpbmdcbiAgICAgICAgICAgIHJldHVybiBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGNvbW1vblBhdGggPSBQYXRoLmVxdWFscyhmaXJzdFBhdGgsIGxhc3RQYXRoKSA/IFBhdGgucGFyZW50KGZpcnN0UGF0aCkgOiBQYXRoLmNvbW1vbihmaXJzdFBhdGgsIGxhc3RQYXRoKTtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoZWRpdG9yLCBmaXJzdFBhdGgsIGxhc3RQYXRoKTtcbiAgICAgICAgICB2YXIgY29tbW9uTm9kZUVudHJ5ID0gRWRpdG9yLm5vZGUoZWRpdG9yLCBjb21tb25QYXRoKTtcbiAgICAgICAgICB2YXIgW2NvbW1vbk5vZGVdID0gY29tbW9uTm9kZUVudHJ5O1xuICAgICAgICAgIHZhciBkZXB0aCA9IGNvbW1vblBhdGgubGVuZ3RoICsgMTtcbiAgICAgICAgICB2YXIgd3JhcHBlclBhdGggPSBQYXRoLm5leHQobGFzdFBhdGguc2xpY2UoMCwgZGVwdGgpKTtcblxuICAgICAgICAgIHZhciB3cmFwcGVyID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBlbGVtZW50KSwge30sIHtcbiAgICAgICAgICAgIGNoaWxkcmVuOiBbXVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIHdyYXBwZXIsIHtcbiAgICAgICAgICAgIGF0OiB3cmFwcGVyUGF0aCxcbiAgICAgICAgICAgIHZvaWRzXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5tb3ZlTm9kZXMoZWRpdG9yLCB7XG4gICAgICAgICAgICBhdDogcmFuZ2UsXG4gICAgICAgICAgICBtYXRjaDogbiA9PiBFbGVtZW50LmlzQW5jZXN0b3IoY29tbW9uTm9kZSkgJiYgY29tbW9uTm9kZS5jaGlsZHJlbi5pbmNsdWRlcyhuKSxcbiAgICAgICAgICAgIHRvOiB3cmFwcGVyUGF0aC5jb25jYXQoMCksXG4gICAgICAgICAgICB2b2lkc1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KCk7XG5cbiAgICAgICAgaWYgKF9yZXQgPT09IFwiY29udGludWVcIikgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxyXG4gKiBDcmVhdGUgYSBuZXcgU2xhdGUgYEVkaXRvcmAgb2JqZWN0LlxyXG4gKi9cblxudmFyIGNyZWF0ZUVkaXRvciA9ICgpID0+IHtcbiAgdmFyIGVkaXRvciA9IHtcbiAgICBjaGlsZHJlbjogW10sXG4gICAgb3BlcmF0aW9uczogW10sXG4gICAgc2VsZWN0aW9uOiBudWxsLFxuICAgIG1hcmtzOiBudWxsLFxuICAgIGlzRWxlbWVudFJlYWRPbmx5OiAoKSA9PiBmYWxzZSxcbiAgICBpc0lubGluZTogKCkgPT4gZmFsc2UsXG4gICAgaXNTZWxlY3RhYmxlOiAoKSA9PiB0cnVlLFxuICAgIGlzVm9pZDogKCkgPT4gZmFsc2UsXG4gICAgbWFya2FibGVWb2lkOiAoKSA9PiBmYWxzZSxcbiAgICBvbkNoYW5nZTogKCkgPT4ge30sXG4gICAgLy8gQ29yZVxuICAgIGFwcGx5OiBmdW5jdGlvbiBhcHBseSQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhcHBseShlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgLy8gRWRpdG9yXG4gICAgYWRkTWFyazogZnVuY3Rpb24gYWRkTWFyayQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yKSwgX2tleTIgPSAwOyBfa2V5MiA8IF9sZW4yOyBfa2V5MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTJdID0gYXJndW1lbnRzW19rZXkyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGFkZE1hcmsoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGRlbGV0ZUJhY2t3YXJkOiBmdW5jdGlvbiBkZWxldGVCYWNrd2FyZCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zKSwgX2tleTMgPSAwOyBfa2V5MyA8IF9sZW4zOyBfa2V5MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTNdID0gYXJndW1lbnRzW19rZXkzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGRlbGV0ZUJhY2t3YXJkKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBkZWxldGVGb3J3YXJkOiBmdW5jdGlvbiBkZWxldGVGb3J3YXJkJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQpLCBfa2V5NCA9IDA7IF9rZXk0IDwgX2xlbjQ7IF9rZXk0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NF0gPSBhcmd1bWVudHNbX2tleTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlRm9yd2FyZChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZGVsZXRlRnJhZ21lbnQ6IGZ1bmN0aW9uIGRlbGV0ZUZyYWdtZW50JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUpLCBfa2V5NSA9IDA7IF9rZXk1IDwgX2xlbjU7IF9rZXk1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NV0gPSBhcmd1bWVudHNbX2tleTVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlRnJhZ21lbnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGdldEZyYWdtZW50OiBmdW5jdGlvbiBnZXRGcmFnbWVudCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42KSwgX2tleTYgPSAwOyBfa2V5NiA8IF9sZW42OyBfa2V5NisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTZdID0gYXJndW1lbnRzW19rZXk2XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGdldEZyYWdtZW50KGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBpbnNlcnRCcmVhazogZnVuY3Rpb24gaW5zZXJ0QnJlYWskMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNyksIF9rZXk3ID0gMDsgX2tleTcgPCBfbGVuNzsgX2tleTcrKykge1xuICAgICAgICBhcmdzW19rZXk3XSA9IGFyZ3VtZW50c1tfa2V5N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnNlcnRCcmVhayhlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgaW5zZXJ0U29mdEJyZWFrOiBmdW5jdGlvbiBpbnNlcnRTb2Z0QnJlYWskMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW44ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuOCksIF9rZXk4ID0gMDsgX2tleTggPCBfbGVuODsgX2tleTgrKykge1xuICAgICAgICBhcmdzW19rZXk4XSA9IGFyZ3VtZW50c1tfa2V5OF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnNlcnRTb2Z0QnJlYWsoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGluc2VydEZyYWdtZW50OiBmdW5jdGlvbiBpbnNlcnRGcmFnbWVudCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW45KSwgX2tleTkgPSAwOyBfa2V5OSA8IF9sZW45OyBfa2V5OSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTldID0gYXJndW1lbnRzW19rZXk5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGluc2VydEZyYWdtZW50KGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBpbnNlcnROb2RlOiBmdW5jdGlvbiBpbnNlcnROb2RlJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTAgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xMCksIF9rZXkxMCA9IDA7IF9rZXkxMCA8IF9sZW4xMDsgX2tleTEwKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTBdID0gYXJndW1lbnRzW19rZXkxMF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnNlcnROb2RlKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBpbnNlcnRUZXh0OiBmdW5jdGlvbiBpbnNlcnRUZXh0JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTEgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xMSksIF9rZXkxMSA9IDA7IF9rZXkxMSA8IF9sZW4xMTsgX2tleTExKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTFdID0gYXJndW1lbnRzW19rZXkxMV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpbnNlcnRUZXh0KGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBub3JtYWxpemVOb2RlOiBmdW5jdGlvbiBub3JtYWxpemVOb2RlJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xMiksIF9rZXkxMiA9IDA7IF9rZXkxMiA8IF9sZW4xMjsgX2tleTEyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTJdID0gYXJndW1lbnRzW19rZXkxMl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub3JtYWxpemVOb2RlKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICByZW1vdmVNYXJrOiBmdW5jdGlvbiByZW1vdmVNYXJrJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xMyksIF9rZXkxMyA9IDA7IF9rZXkxMyA8IF9sZW4xMzsgX2tleTEzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTNdID0gYXJndW1lbnRzW19rZXkxM107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByZW1vdmVNYXJrKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBnZXREaXJ0eVBhdGhzOiBmdW5jdGlvbiBnZXREaXJ0eVBhdGhzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xNCksIF9rZXkxNCA9IDA7IF9rZXkxNCA8IF9sZW4xNDsgX2tleTE0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTRdID0gYXJndW1lbnRzW19rZXkxNF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBnZXREaXJ0eVBhdGhzKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICBzaG91bGROb3JtYWxpemU6IGZ1bmN0aW9uIHNob3VsZE5vcm1hbGl6ZSQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjE1ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMTUpLCBfa2V5MTUgPSAwOyBfa2V5MTUgPCBfbGVuMTU7IF9rZXkxNSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTE1XSA9IGFyZ3VtZW50c1tfa2V5MTVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2hvdWxkTm9ybWFsaXplKGVkaXRvciwgLi4uYXJncyk7XG4gICAgfSxcbiAgICAvLyBFZGl0b3IgaW50ZXJmYWNlXG4gICAgYWJvdmU6IGZ1bmN0aW9uIGFib3ZlJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xNiksIF9rZXkxNiA9IDA7IF9rZXkxNiA8IF9sZW4xNjsgX2tleTE2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTZdID0gYXJndW1lbnRzW19rZXkxNl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhYm92ZShlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgYWZ0ZXI6IGZ1bmN0aW9uIGFmdGVyJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xNyksIF9rZXkxNyA9IDA7IF9rZXkxNyA8IF9sZW4xNzsgX2tleTE3KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTddID0gYXJndW1lbnRzW19rZXkxN107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBhZnRlcihlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgYmVmb3JlOiBmdW5jdGlvbiBiZWZvcmUkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4xOCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjE4KSwgX2tleTE4ID0gMDsgX2tleTE4IDwgX2xlbjE4OyBfa2V5MTgrKykge1xuICAgICAgICBhcmdzW19rZXkxOF0gPSBhcmd1bWVudHNbX2tleTE4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJlZm9yZShlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uIGNvbGxhcHNlJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMTkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4xOSksIF9rZXkxOSA9IDA7IF9rZXkxOSA8IF9sZW4xOTsgX2tleTE5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MTldID0gYXJndW1lbnRzW19rZXkxOV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBjb2xsYXBzZShlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZGVsZXRlOiBmdW5jdGlvbiBfZGVsZXRlKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjIwID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMjApLCBfa2V5MjAgPSAwOyBfa2V5MjAgPCBfbGVuMjA7IF9rZXkyMCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTIwXSA9IGFyZ3VtZW50c1tfa2V5MjBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGVsZXRlVGV4dChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZGVzZWxlY3Q6IGZ1bmN0aW9uIGRlc2VsZWN0JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMjEgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yMSksIF9rZXkyMSA9IDA7IF9rZXkyMSA8IF9sZW4yMTsgX2tleTIxKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MjFdID0gYXJndW1lbnRzW19rZXkyMV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBkZXNlbGVjdChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZWRnZXM6IGZ1bmN0aW9uIGVkZ2VzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yMiksIF9rZXkyMiA9IDA7IF9rZXkyMiA8IF9sZW4yMjsgX2tleTIyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5MjJdID0gYXJndW1lbnRzW19rZXkyMl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBlZGdlcyhlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZWxlbWVudFJlYWRPbmx5OiBmdW5jdGlvbiBlbGVtZW50UmVhZE9ubHkkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjIzKSwgX2tleTIzID0gMDsgX2tleTIzIDwgX2xlbjIzOyBfa2V5MjMrKykge1xuICAgICAgICBhcmdzW19rZXkyM10gPSBhcmd1bWVudHNbX2tleTIzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVsZW1lbnRSZWFkT25seShlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZW5kOiBmdW5jdGlvbiBlbmQkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yNCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjI0KSwgX2tleTI0ID0gMDsgX2tleTI0IDwgX2xlbjI0OyBfa2V5MjQrKykge1xuICAgICAgICBhcmdzW19rZXkyNF0gPSBhcmd1bWVudHNbX2tleTI0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGVuZChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZmlyc3Q6IGZ1bmN0aW9uIGZpcnN0JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMjUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yNSksIF9rZXkyNSA9IDA7IF9rZXkyNSA8IF9sZW4yNTsgX2tleTI1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MjVdID0gYXJndW1lbnRzW19rZXkyNV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmaXJzdChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZnJhZ21lbnQ6IGZ1bmN0aW9uIGZyYWdtZW50JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMjYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yNiksIF9rZXkyNiA9IDA7IF9rZXkyNiA8IF9sZW4yNjsgX2tleTI2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MjZdID0gYXJndW1lbnRzW19rZXkyNl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmcmFnbWVudChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgZ2V0TWFya3M6IGZ1bmN0aW9uIGdldE1hcmtzKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjI3ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMjcpLCBfa2V5MjcgPSAwOyBfa2V5MjcgPCBfbGVuMjc7IF9rZXkyNysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTI3XSA9IGFyZ3VtZW50c1tfa2V5MjddO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbWFya3MoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGhhc0Jsb2NrczogZnVuY3Rpb24gaGFzQmxvY2tzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMjggPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4yOCksIF9rZXkyOCA9IDA7IF9rZXkyOCA8IF9sZW4yODsgX2tleTI4KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MjhdID0gYXJndW1lbnRzW19rZXkyOF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBoYXNCbG9ja3MoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGhhc0lubGluZXM6IGZ1bmN0aW9uIGhhc0lubGluZXMkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4yOSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjI5KSwgX2tleTI5ID0gMDsgX2tleTI5IDwgX2xlbjI5OyBfa2V5MjkrKykge1xuICAgICAgICBhcmdzW19rZXkyOV0gPSBhcmd1bWVudHNbX2tleTI5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc0lubGluZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGhhc1BhdGg6IGZ1bmN0aW9uIGhhc1BhdGgkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zMCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMwKSwgX2tleTMwID0gMDsgX2tleTMwIDwgX2xlbjMwOyBfa2V5MzArKykge1xuICAgICAgICBhcmdzW19rZXkzMF0gPSBhcmd1bWVudHNbX2tleTMwXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGhhc1BhdGgoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGhhc1RleHRzOiBmdW5jdGlvbiBoYXNUZXh0cyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMxID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMzEpLCBfa2V5MzEgPSAwOyBfa2V5MzEgPCBfbGVuMzE7IF9rZXkzMSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTMxXSA9IGFyZ3VtZW50c1tfa2V5MzFdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaGFzVGV4dHMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGluc2VydE5vZGVzOiBmdW5jdGlvbiBpbnNlcnROb2RlcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjMyID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMzIpLCBfa2V5MzIgPSAwOyBfa2V5MzIgPCBfbGVuMzI7IF9rZXkzMisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTMyXSA9IGFyZ3VtZW50c1tfa2V5MzJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaW5zZXJ0Tm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzQmxvY2s6IGZ1bmN0aW9uIGlzQmxvY2skMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zMyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjMzKSwgX2tleTMzID0gMDsgX2tleTMzIDwgX2xlbjMzOyBfa2V5MzMrKykge1xuICAgICAgICBhcmdzW19rZXkzM10gPSBhcmd1bWVudHNbX2tleTMzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzQmxvY2soZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzRWRnZTogZnVuY3Rpb24gaXNFZGdlJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuMzQgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW4zNCksIF9rZXkzNCA9IDA7IF9rZXkzNCA8IF9sZW4zNDsgX2tleTM0KyspIHtcbiAgICAgICAgYXJnc1tfa2V5MzRdID0gYXJndW1lbnRzW19rZXkzNF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBpc0VkZ2UoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzRW1wdHk6IGZ1bmN0aW9uIGlzRW1wdHkkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zNSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjM1KSwgX2tleTM1ID0gMDsgX2tleTM1IDwgX2xlbjM1OyBfa2V5MzUrKykge1xuICAgICAgICBhcmdzW19rZXkzNV0gPSBhcmd1bWVudHNbX2tleTM1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzRW1wdHkoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzRW5kOiBmdW5jdGlvbiBpc0VuZCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjM2ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuMzYpLCBfa2V5MzYgPSAwOyBfa2V5MzYgPCBfbGVuMzY7IF9rZXkzNisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTM2XSA9IGFyZ3VtZW50c1tfa2V5MzZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gaXNFbmQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzTm9ybWFsaXppbmc6IGZ1bmN0aW9uIGlzTm9ybWFsaXppbmckMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zNyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjM3KSwgX2tleTM3ID0gMDsgX2tleTM3IDwgX2xlbjM3OyBfa2V5MzcrKykge1xuICAgICAgICBhcmdzW19rZXkzN10gPSBhcmd1bWVudHNbX2tleTM3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzTm9ybWFsaXppbmcoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGlzU3RhcnQ6IGZ1bmN0aW9uIGlzU3RhcnQkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zOCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjM4KSwgX2tleTM4ID0gMDsgX2tleTM4IDwgX2xlbjM4OyBfa2V5MzgrKykge1xuICAgICAgICBhcmdzW19rZXkzOF0gPSBhcmd1bWVudHNbX2tleTM4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGlzU3RhcnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGxhc3Q6IGZ1bmN0aW9uIGxhc3QkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW4zOSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjM5KSwgX2tleTM5ID0gMDsgX2tleTM5IDwgX2xlbjM5OyBfa2V5MzkrKykge1xuICAgICAgICBhcmdzW19rZXkzOV0gPSBhcmd1bWVudHNbX2tleTM5XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxhc3QoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGxlYWY6IGZ1bmN0aW9uIGxlYWYkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40MCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQwKSwgX2tleTQwID0gMDsgX2tleTQwIDwgX2xlbjQwOyBfa2V5NDArKykge1xuICAgICAgICBhcmdzW19rZXk0MF0gPSBhcmd1bWVudHNbX2tleTQwXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGxlYWYoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGxldmVsczogZnVuY3Rpb24gbGV2ZWxzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNDEgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40MSksIF9rZXk0MSA9IDA7IF9rZXk0MSA8IF9sZW40MTsgX2tleTQxKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NDFdID0gYXJndW1lbnRzW19rZXk0MV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsZXZlbHMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIGxpZnROb2RlczogZnVuY3Rpb24gbGlmdE5vZGVzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNDIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40MiksIF9rZXk0MiA9IDA7IF9rZXk0MiA8IF9sZW40MjsgX2tleTQyKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NDJdID0gYXJndW1lbnRzW19rZXk0Ml07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBsaWZ0Tm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG1lcmdlTm9kZXM6IGZ1bmN0aW9uIG1lcmdlTm9kZXMkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40MyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQzKSwgX2tleTQzID0gMDsgX2tleTQzIDwgX2xlbjQzOyBfa2V5NDMrKykge1xuICAgICAgICBhcmdzW19rZXk0M10gPSBhcmd1bWVudHNbX2tleTQzXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1lcmdlTm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40NCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQ0KSwgX2tleTQ0ID0gMDsgX2tleTQ0IDwgX2xlbjQ0OyBfa2V5NDQrKykge1xuICAgICAgICBhcmdzW19rZXk0NF0gPSBhcmd1bWVudHNbX2tleTQ0XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG1vdmUoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG1vdmVOb2RlczogZnVuY3Rpb24gbW92ZU5vZGVzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNDUgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40NSksIF9rZXk0NSA9IDA7IF9rZXk0NSA8IF9sZW40NTsgX2tleTQ1KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NDVdID0gYXJndW1lbnRzW19rZXk0NV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBtb3ZlTm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG5leHQ6IGZ1bmN0aW9uIG5leHQkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40NiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQ2KSwgX2tleTQ2ID0gMDsgX2tleTQ2IDwgX2xlbjQ2OyBfa2V5NDYrKykge1xuICAgICAgICBhcmdzW19rZXk0Nl0gPSBhcmd1bWVudHNbX2tleTQ2XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5leHQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG5vZGU6IGZ1bmN0aW9uIG5vZGUkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW40NyA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjQ3KSwgX2tleTQ3ID0gMDsgX2tleTQ3IDwgX2xlbjQ3OyBfa2V5NDcrKykge1xuICAgICAgICBhcmdzW19rZXk0N10gPSBhcmd1bWVudHNbX2tleTQ3XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG5vZGUoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG5vZGVzOiBmdW5jdGlvbiBub2RlcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjQ4ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNDgpLCBfa2V5NDggPSAwOyBfa2V5NDggPCBfbGVuNDg7IF9rZXk0OCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTQ4XSA9IGFyZ3VtZW50c1tfa2V5NDhdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gbm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIG5vcm1hbGl6ZTogZnVuY3Rpb24gbm9ybWFsaXplJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNDkgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW40OSksIF9rZXk0OSA9IDA7IF9rZXk0OSA8IF9sZW40OTsgX2tleTQ5KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NDldID0gYXJndW1lbnRzW19rZXk0OV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBub3JtYWxpemUoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBhcmVudDogZnVuY3Rpb24gcGFyZW50JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNTAgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41MCksIF9rZXk1MCA9IDA7IF9rZXk1MCA8IF9sZW41MDsgX2tleTUwKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NTBdID0gYXJndW1lbnRzW19rZXk1MF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwYXJlbnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBhdGg6IGZ1bmN0aW9uIHBhdGgkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW41MSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUxKSwgX2tleTUxID0gMDsgX2tleTUxIDwgX2xlbjUxOyBfa2V5NTErKykge1xuICAgICAgICBhcmdzW19rZXk1MV0gPSBhcmd1bWVudHNbX2tleTUxXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGgoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBhdGhSZWY6IGZ1bmN0aW9uIHBhdGhSZWYkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW41MiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjUyKSwgX2tleTUyID0gMDsgX2tleTUyIDwgX2xlbjUyOyBfa2V5NTIrKykge1xuICAgICAgICBhcmdzW19rZXk1Ml0gPSBhcmd1bWVudHNbX2tleTUyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHBhdGhSZWYoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBhdGhSZWZzOiBmdW5jdGlvbiBwYXRoUmVmcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjUzID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNTMpLCBfa2V5NTMgPSAwOyBfa2V5NTMgPCBfbGVuNTM7IF9rZXk1MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTUzXSA9IGFyZ3VtZW50c1tfa2V5NTNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcGF0aFJlZnMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBvaW50OiBmdW5jdGlvbiBwb2ludCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjU0ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNTQpLCBfa2V5NTQgPSAwOyBfa2V5NTQgPCBfbGVuNTQ7IF9rZXk1NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTU0XSA9IGFyZ3VtZW50c1tfa2V5NTRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9pbnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBvaW50UmVmOiBmdW5jdGlvbiBwb2ludFJlZiQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjU1ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNTUpLCBfa2V5NTUgPSAwOyBfa2V5NTUgPCBfbGVuNTU7IF9rZXk1NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTU1XSA9IGFyZ3VtZW50c1tfa2V5NTVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcG9pbnRSZWYoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBvaW50UmVmczogZnVuY3Rpb24gcG9pbnRSZWZzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNTYgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41NiksIF9rZXk1NiA9IDA7IF9rZXk1NiA8IF9sZW41NjsgX2tleTU2KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NTZdID0gYXJndW1lbnRzW19rZXk1Nl07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb2ludFJlZnMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHBvc2l0aW9uczogZnVuY3Rpb24gcG9zaXRpb25zJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNTcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW41NyksIF9rZXk1NyA9IDA7IF9rZXk1NyA8IF9sZW41NzsgX2tleTU3KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NTddID0gYXJndW1lbnRzW19rZXk1N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBwb3NpdGlvbnMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHByZXZpb3VzOiBmdW5jdGlvbiBwcmV2aW91cyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjU4ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNTgpLCBfa2V5NTggPSAwOyBfa2V5NTggPCBfbGVuNTg7IF9rZXk1OCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTU4XSA9IGFyZ3VtZW50c1tfa2V5NThdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHJhbmdlOiBmdW5jdGlvbiByYW5nZSQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjU5ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNTkpLCBfa2V5NTkgPSAwOyBfa2V5NTkgPCBfbGVuNTk7IF9rZXk1OSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTU5XSA9IGFyZ3VtZW50c1tfa2V5NTldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmFuZ2UoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHJhbmdlUmVmOiBmdW5jdGlvbiByYW5nZVJlZiQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjYwID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjApLCBfa2V5NjAgPSAwOyBfa2V5NjAgPCBfbGVuNjA7IF9rZXk2MCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTYwXSA9IGFyZ3VtZW50c1tfa2V5NjBdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmFuZ2VSZWYoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHJhbmdlUmVmczogZnVuY3Rpb24gcmFuZ2VSZWZzJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNjEgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42MSksIF9rZXk2MSA9IDA7IF9rZXk2MSA8IF9sZW42MTsgX2tleTYxKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NjFdID0gYXJndW1lbnRzW19rZXk2MV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiByYW5nZVJlZnMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHJlbW92ZU5vZGVzOiBmdW5jdGlvbiByZW1vdmVOb2RlcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjYyID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjIpLCBfa2V5NjIgPSAwOyBfa2V5NjIgPCBfbGVuNjI7IF9rZXk2MisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTYyXSA9IGFyZ3VtZW50c1tfa2V5NjJdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcmVtb3ZlTm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0JDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNjMgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42MyksIF9rZXk2MyA9IDA7IF9rZXk2MyA8IF9sZW42MzsgX2tleTYzKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NjNdID0gYXJndW1lbnRzW19rZXk2M107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZWxlY3QoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNldE5vZGVzOiBmdW5jdGlvbiBzZXROb2RlcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjY0ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjQpLCBfa2V5NjQgPSAwOyBfa2V5NjQgPCBfbGVuNjQ7IF9rZXk2NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTY0XSA9IGFyZ3VtZW50c1tfa2V5NjRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0Tm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNldE5vcm1hbGl6aW5nOiBmdW5jdGlvbiBzZXROb3JtYWxpemluZyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjY1ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjUpLCBfa2V5NjUgPSAwOyBfa2V5NjUgPCBfbGVuNjU7IF9rZXk2NSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTY1XSA9IGFyZ3VtZW50c1tfa2V5NjVdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0Tm9ybWFsaXppbmcoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNldFBvaW50OiBmdW5jdGlvbiBzZXRQb2ludCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjY2ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjYpLCBfa2V5NjYgPSAwOyBfa2V5NjYgPCBfbGVuNjY7IF9rZXk2NisrKSB7XG4gICAgICAgIGFyZ3NbX2tleTY2XSA9IGFyZ3VtZW50c1tfa2V5NjZdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc2V0UG9pbnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNldFNlbGVjdGlvbjogZnVuY3Rpb24gc2V0U2VsZWN0aW9uJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNjcgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW42NyksIF9rZXk2NyA9IDA7IF9rZXk2NyA8IF9sZW42NzsgX2tleTY3KyspIHtcbiAgICAgICAgYXJnc1tfa2V5NjddID0gYXJndW1lbnRzW19rZXk2N107XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzZXRTZWxlY3Rpb24oZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHNwbGl0Tm9kZXM6IGZ1bmN0aW9uIHNwbGl0Tm9kZXMkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW42OCA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjY4KSwgX2tleTY4ID0gMDsgX2tleTY4IDwgX2xlbjY4OyBfa2V5NjgrKykge1xuICAgICAgICBhcmdzW19rZXk2OF0gPSBhcmd1bWVudHNbX2tleTY4XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHNwbGl0Tm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjY5ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNjkpLCBfa2V5NjkgPSAwOyBfa2V5NjkgPCBfbGVuNjk7IF9rZXk2OSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTY5XSA9IGFyZ3VtZW50c1tfa2V5NjldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gc3RhcnQoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHN0cmluZzogZnVuY3Rpb24gc3RyaW5nJDEoKSB7XG4gICAgICBmb3IgKHZhciBfbGVuNzAgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gbmV3IEFycmF5KF9sZW43MCksIF9rZXk3MCA9IDA7IF9rZXk3MCA8IF9sZW43MDsgX2tleTcwKyspIHtcbiAgICAgICAgYXJnc1tfa2V5NzBdID0gYXJndW1lbnRzW19rZXk3MF07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBzdHJpbmcoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHVuaGFuZ1JhbmdlOiBmdW5jdGlvbiB1bmhhbmdSYW5nZSQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjcxID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNzEpLCBfa2V5NzEgPSAwOyBfa2V5NzEgPCBfbGVuNzE7IF9rZXk3MSsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTcxXSA9IGFyZ3VtZW50c1tfa2V5NzFdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW5oYW5nUmFuZ2UoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHVuc2V0Tm9kZXM6IGZ1bmN0aW9uIHVuc2V0Tm9kZXMkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43MiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjcyKSwgX2tleTcyID0gMDsgX2tleTcyIDwgX2xlbjcyOyBfa2V5NzIrKykge1xuICAgICAgICBhcmdzW19rZXk3Ml0gPSBhcmd1bWVudHNbX2tleTcyXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHVuc2V0Tm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHVud3JhcE5vZGVzOiBmdW5jdGlvbiB1bndyYXBOb2RlcyQxKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjczID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNzMpLCBfa2V5NzMgPSAwOyBfa2V5NzMgPCBfbGVuNzM7IF9rZXk3MysrKSB7XG4gICAgICAgIGFyZ3NbX2tleTczXSA9IGFyZ3VtZW50c1tfa2V5NzNdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdW53cmFwTm9kZXMoZWRpdG9yLCAuLi5hcmdzKTtcbiAgICB9LFxuICAgIHZvaWQ6IGZ1bmN0aW9uIF92b2lkKCkge1xuICAgICAgZm9yICh2YXIgX2xlbjc0ID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuNzQpLCBfa2V5NzQgPSAwOyBfa2V5NzQgPCBfbGVuNzQ7IF9rZXk3NCsrKSB7XG4gICAgICAgIGFyZ3NbX2tleTc0XSA9IGFyZ3VtZW50c1tfa2V5NzRdO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZ2V0Vm9pZChlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgd2l0aG91dE5vcm1hbGl6aW5nOiBmdW5jdGlvbiB3aXRob3V0Tm9ybWFsaXppbmckMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43NSA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjc1KSwgX2tleTc1ID0gMDsgX2tleTc1IDwgX2xlbjc1OyBfa2V5NzUrKykge1xuICAgICAgICBhcmdzW19rZXk3NV0gPSBhcmd1bWVudHNbX2tleTc1XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdpdGhvdXROb3JtYWxpemluZyhlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH0sXG4gICAgd3JhcE5vZGVzOiBmdW5jdGlvbiB3cmFwTm9kZXMkMSgpIHtcbiAgICAgIGZvciAodmFyIF9sZW43NiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBuZXcgQXJyYXkoX2xlbjc2KSwgX2tleTc2ID0gMDsgX2tleTc2IDwgX2xlbjc2OyBfa2V5NzYrKykge1xuICAgICAgICBhcmdzW19rZXk3Nl0gPSBhcmd1bWVudHNbX2tleTc2XTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHdyYXBOb2RlcyhlZGl0b3IsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGVkaXRvcjtcbn07XG5cbmV4cG9ydCB7IEVkaXRvciwgRWxlbWVudCwgTG9jYXRpb24sIE5vZGUsIE9wZXJhdGlvbiwgUGF0aCwgUGF0aFJlZiwgUG9pbnQsIFBvaW50UmVmLCBSYW5nZSwgUmFuZ2VSZWYsIFNjcnViYmVyLCBTcGFuLCBUZXh0LCBUcmFuc2Zvcm1zLCBhYm92ZSwgYWRkTWFyaywgYWZ0ZXIsIGFwcGx5LCBiZWZvcmUsIGNvbGxhcHNlLCBjcmVhdGVFZGl0b3IsIGRlbGV0ZUJhY2t3YXJkLCBkZWxldGVGb3J3YXJkLCBkZWxldGVGcmFnbWVudCwgZGVsZXRlVGV4dCwgZGVzZWxlY3QsIGVkZ2VzLCBlbGVtZW50UmVhZE9ubHksIGVuZCwgZmlyc3QsIGZyYWdtZW50LCBnZXREaXJ0eVBhdGhzLCBnZXRGcmFnbWVudCwgZ2V0Vm9pZCwgaGFzQmxvY2tzLCBoYXNJbmxpbmVzLCBoYXNQYXRoLCBoYXNUZXh0cywgaW5zZXJ0QnJlYWssIGluc2VydEZyYWdtZW50LCBpbnNlcnROb2RlLCBpbnNlcnROb2RlcywgaW5zZXJ0U29mdEJyZWFrLCBpbnNlcnRUZXh0LCBpc0Jsb2NrLCBpc0VkZ2UsIGlzRWRpdG9yLCBpc0VtcHR5LCBpc0VuZCwgaXNOb3JtYWxpemluZywgaXNTdGFydCwgbGFzdCwgbGVhZiwgbGV2ZWxzLCBsaWZ0Tm9kZXMsIG1hcmtzLCBtZXJnZU5vZGVzLCBtb3ZlLCBtb3ZlTm9kZXMsIG5leHQsIG5vZGUsIG5vZGVzLCBub3JtYWxpemUsIG5vcm1hbGl6ZU5vZGUsIHBhcmVudCwgcGF0aCwgcGF0aFJlZiwgcGF0aFJlZnMsIHBvaW50LCBwb2ludFJlZiwgcG9pbnRSZWZzLCBwb3NpdGlvbnMsIHByZXZpb3VzLCByYW5nZSwgcmFuZ2VSZWYsIHJhbmdlUmVmcywgcmVtb3ZlTWFyaywgcmVtb3ZlTm9kZXMsIHNlbGVjdCwgc2V0Tm9kZXMsIHNldE5vcm1hbGl6aW5nLCBzZXRQb2ludCwgc2V0U2VsZWN0aW9uLCBzaG91bGROb3JtYWxpemUsIHNwbGl0Tm9kZXMsIHN0YXJ0LCBzdHJpbmcsIHVuaGFuZ1JhbmdlLCB1bnNldE5vZGVzLCB1bndyYXBOb2Rlcywgd2l0aG91dE5vcm1hbGl6aW5nLCB3cmFwTm9kZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzLmpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/slate/dist/index.es.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/Live.tsx":
/*!*****************************!*\
  !*** ./components/Live.tsx ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/liveblocks.config */ \"(app-pages-browser)/./liveblocks.config.ts\");\n/* harmony import */ var _hooks_useInterval__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/hooks/useInterval */ \"(app-pages-browser)/./hooks/useInterval.ts\");\n/* harmony import */ var _types_type__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/types/type */ \"(app-pages-browser)/./types/type.ts\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/constants */ \"(app-pages-browser)/./constants/index.ts\");\n/* harmony import */ var _comments_Comments__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./comments/Comments */ \"(app-pages-browser)/./components/comments/Comments.tsx\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! . */ \"(app-pages-browser)/./components.json\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nconst Live = (param)=>{\n    let { canvasRef, undo, redo } = param;\n    _s();\n    /**\r\n   * useOthers returns the list of other users in the room.\r\n   *\r\n   * useOthers: https://liveblocks.io/docs/api-reference/liveblocks-react#useOthers\r\n   */ const others = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useOthers)();\n    /**\r\n   * useMyPresence returns the presence of the current user in the room.\r\n   * It also returns a function to update the presence of the current user.\r\n   *\r\n   * useMyPresence: https://liveblocks.io/docs/api-reference/liveblocks-react#useMyPresence\r\n   */ const [{ cursor }, updateMyPresence] = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useMyPresence)();\n    /**\r\n   * useBroadcastEvent is used to broadcast an event to all the other users in the room.\r\n   *\r\n   * useBroadcastEvent: https://liveblocks.io/docs/api-reference/liveblocks-react#useBroadcastEvent\r\n   */ const broadcast = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useBroadcastEvent)();\n    // store the reactions created on mouse click\n    const [reactions, setReactions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    // track the state of the cursor (hidden, chat, reaction, reaction selector)\n    const [cursorState, setCursorState] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Hidden\n    });\n    // set the reaction of the cursor\n    const setReaction = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((reaction)=>{\n        setCursorState({\n            mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Reaction,\n            reaction,\n            isPressed: false\n        });\n    }, []);\n    // Remove reactions that are not visible anymore (every 1 sec)\n    (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>{\n        setReactions((reactions)=>reactions.filter((reaction)=>reaction.timestamp > Date.now() - 4000));\n    }, 1000);\n    // Broadcast the reaction to other users (every 100ms)\n    (0,_hooks_useInterval__WEBPACK_IMPORTED_MODULE_3__[\"default\"])(()=>{\n        if (cursorState.mode === _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Reaction && cursorState.isPressed && cursor) {\n            // concat all the reactions created on mouse click\n            setReactions((reactions)=>reactions.concat([\n                    {\n                        point: {\n                            x: cursor.x,\n                            y: cursor.y\n                        },\n                        value: cursorState.reaction,\n                        timestamp: Date.now()\n                    }\n                ]));\n            // Broadcast the reaction to other users\n            broadcast({\n                x: cursor.x,\n                y: cursor.y,\n                value: cursorState.reaction\n            });\n        }\n    }, 100);\n    /**\r\n   * useEventListener is used to listen to events broadcasted by other\r\n   * users.\r\n   *\r\n   * useEventListener: https://liveblocks.io/docs/api-reference/liveblocks-react#useEventListener\r\n   */ (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useEventListener)((eventData)=>{\n        const event = eventData.event;\n        setReactions((reactions)=>reactions.concat([\n                {\n                    point: {\n                        x: event.x,\n                        y: event.y\n                    },\n                    value: event.value,\n                    timestamp: Date.now()\n                }\n            ]));\n    });\n    // Listen to keyboard events to change the cursor state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const onKeyUp = (e)=>{\n            if (e.key === \"/\") {\n                setCursorState({\n                    mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Chat,\n                    previousMessage: null,\n                    message: \"\"\n                });\n            } else if (e.key === \"Escape\") {\n                updateMyPresence({\n                    message: \"\"\n                });\n                setCursorState({\n                    mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Hidden\n                });\n            } else if (e.key === \"e\") {\n                setCursorState({\n                    mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.ReactionSelector\n                });\n            }\n        };\n        const onKeyDown = (e)=>{\n            if (e.key === \"/\") {\n                e.preventDefault();\n            }\n        };\n        window.addEventListener(\"keyup\", onKeyUp);\n        window.addEventListener(\"keydown\", onKeyDown);\n        return ()=>{\n            window.removeEventListener(\"keyup\", onKeyUp);\n            window.removeEventListener(\"keydown\", onKeyDown);\n        };\n    }, [\n        updateMyPresence\n    ]);\n    // Listen to mouse events to change the cursor state\n    const handlePointerMove = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        event.preventDefault();\n        // if cursor is not in reaction selector mode, update the cursor position\n        if (cursor == null || cursorState.mode !== _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.ReactionSelector) {\n            // get the cursor position in the canvas\n            const x = event.clientX - event.currentTarget.getBoundingClientRect().x;\n            const y = event.clientY - event.currentTarget.getBoundingClientRect().y;\n            // broadcast the cursor position to other users\n            updateMyPresence({\n                cursor: {\n                    x,\n                    y\n                }\n            });\n        }\n    }, []);\n    // Hide the cursor when the mouse leaves the canvas\n    const handlePointerLeave = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCursorState({\n            mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Hidden\n        });\n        updateMyPresence({\n            cursor: null,\n            message: null\n        });\n    }, []);\n    // Show the cursor when the mouse enters the canvas\n    const handlePointerDown = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event)=>{\n        // get the cursor position in the canvas\n        const x = event.clientX - event.currentTarget.getBoundingClientRect().x;\n        const y = event.clientY - event.currentTarget.getBoundingClientRect().y;\n        updateMyPresence({\n            cursor: {\n                x,\n                y\n            }\n        });\n        // if cursor is in reaction mode, set isPressed to true\n        setCursorState((state)=>cursorState.mode === _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Reaction ? {\n                ...state,\n                isPressed: true\n            } : state);\n    }, [\n        cursorState.mode,\n        setCursorState\n    ]);\n    // hide the cursor when the mouse is up\n    const handlePointerUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setCursorState((state)=>cursorState.mode === _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Reaction ? {\n                ...state,\n                isPressed: false\n            } : state);\n    }, [\n        cursorState.mode,\n        setCursorState\n    ]);\n    // trigger respective actions when the user clicks on the right menu\n    const handleContextMenuClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((key)=>{\n        switch(key){\n            case \"Chat\":\n                setCursorState({\n                    mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Chat,\n                    previousMessage: null,\n                    message: \"\"\n                });\n                break;\n            case \"Reactions\":\n                setCursorState({\n                    mode: _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.ReactionSelector\n                });\n                break;\n            case \"Undo\":\n                undo();\n                break;\n            case \"Redo\":\n                redo();\n                break;\n            default:\n                break;\n        }\n    }, []);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextMenu, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextMenuTrigger, {\n                className: \"relative flex h-full w-full flex-1 items-center justify-center\",\n                id: \"canvas\",\n                style: {\n                    cursor: cursorState.mode === _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.Chat ? \"none\" : \"auto\"\n                },\n                onPointerMove: handlePointerMove,\n                onPointerLeave: handlePointerLeave,\n                onPointerDown: handlePointerDown,\n                onPointerUp: handlePointerUp,\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n                        ref: canvasRef\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 235,\n                        columnNumber: 9\n                    }, undefined),\n                    reactions.map((reaction)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(___WEBPACK_IMPORTED_MODULE_7__.FlyingReaction, {\n                            x: reaction.point.x,\n                            y: reaction.point.y,\n                            timestamp: reaction.timestamp,\n                            value: reaction.value\n                        }, reaction.timestamp.toString(), false, {\n                            fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                            lineNumber: 239,\n                            columnNumber: 11\n                        }, undefined)),\n                    cursor && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(___WEBPACK_IMPORTED_MODULE_7__.CursorChat, {\n                        cursor: cursor,\n                        cursorState: cursorState,\n                        setCursorState: setCursorState,\n                        updateMyPresence: updateMyPresence\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 250,\n                        columnNumber: 11\n                    }, undefined),\n                    cursorState.mode === _types_type__WEBPACK_IMPORTED_MODULE_4__.CursorMode.ReactionSelector && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(___WEBPACK_IMPORTED_MODULE_7__.ReactionSelector, {\n                        setReaction: (reaction)=>{\n                            setReaction(reaction);\n                        }\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 260,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(___WEBPACK_IMPORTED_MODULE_7__.LiveCursors, {\n                        others: others\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 268,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_comments_Comments__WEBPACK_IMPORTED_MODULE_6__.Comments, {}, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 271,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextMenuContent, {\n                className: \"right-menu-content\",\n                children: _constants__WEBPACK_IMPORTED_MODULE_5__.shortcuts.map((item)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ContextMenuItem, {\n                        className: \"right-menu-item\",\n                        onClick: ()=>handleContextMenuClick(item.name),\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                children: item.name\n                            }, void 0, false, {\n                                fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                                lineNumber: 281,\n                                columnNumber: 13\n                            }, undefined),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-xs text-primary-grey-300\",\n                                children: item.shortcut\n                            }, void 0, false, {\n                                fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                                lineNumber: 282,\n                                columnNumber: 13\n                            }, undefined)\n                        ]\n                    }, item.key, true, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                        lineNumber: 276,\n                        columnNumber: 11\n                    }, undefined))\n            }, void 0, false, {\n                fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n                lineNumber: 274,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true, {\n        fileName: \"D:\\\\beshoy's figma\\\\components\\\\Live.tsx\",\n        lineNumber: 223,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Live, \"yQM87NQIUTStW2tq25aeRbQUvwk=\", false, function() {\n    return [\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useOthers,\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useMyPresence,\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useBroadcastEvent,\n        _hooks_useInterval__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        _hooks_useInterval__WEBPACK_IMPORTED_MODULE_3__[\"default\"],\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useEventListener\n    ];\n});\n_c = Live;\n/* harmony default export */ __webpack_exports__[\"default\"] = (Live);\nvar _c;\n$RefreshReg$(_c, \"Live\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvTGl2ZS50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBRXlEO0FBRTJDO0FBQ3REO0FBQ2tDO0FBQ3hDO0FBRU87QUFDK0I7QUFROUUsTUFBTWUsT0FBTztRQUFDLEVBQUVDLFNBQVMsRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQVM7O0lBQzVDOzs7O0dBSUMsR0FDRCxNQUFNQyxTQUFTYiw2REFBU0E7SUFFeEI7Ozs7O0dBS0MsR0FDRCxNQUFNLENBQUMsRUFBRWMsTUFBTSxFQUFFLEVBQUVDLGlCQUFpQixHQUFHaEIsaUVBQWFBO0lBRXBEOzs7O0dBSUMsR0FDRCxNQUFNaUIsWUFBWW5CLHFFQUFpQkE7SUFFbkMsNkNBQTZDO0lBQzdDLE1BQU0sQ0FBQ29CLFdBQVdDLGFBQWEsR0FBR3RCLCtDQUFRQSxDQUFhLEVBQUU7SUFFekQsNEVBQTRFO0lBQzVFLE1BQU0sQ0FBQ3VCLGFBQWFDLGVBQWUsR0FBR3hCLCtDQUFRQSxDQUFjO1FBQzFEeUIsTUFBTW5CLG1EQUFVQSxDQUFDb0IsTUFBTTtJQUN6QjtJQUVBLGlDQUFpQztJQUNqQyxNQUFNQyxjQUFjN0Isa0RBQVdBLENBQUMsQ0FBQzhCO1FBQy9CSixlQUFlO1lBQUVDLE1BQU1uQixtREFBVUEsQ0FBQ3VCLFFBQVE7WUFBRUQ7WUFBVUUsV0FBVztRQUFNO0lBQ3pFLEdBQUcsRUFBRTtJQUVMLDhEQUE4RDtJQUM5RHpCLDhEQUFXQSxDQUFDO1FBQ1ZpQixhQUFhLENBQUNELFlBQWNBLFVBQVVVLE1BQU0sQ0FBQyxDQUFDSCxXQUFhQSxTQUFTSSxTQUFTLEdBQUdDLEtBQUtDLEdBQUcsS0FBSztJQUMvRixHQUFHO0lBRUgsc0RBQXNEO0lBQ3REN0IsOERBQVdBLENBQUM7UUFDVixJQUFJa0IsWUFBWUUsSUFBSSxLQUFLbkIsbURBQVVBLENBQUN1QixRQUFRLElBQUlOLFlBQVlPLFNBQVMsSUFBSVosUUFBUTtZQUMvRSxrREFBa0Q7WUFDbERJLGFB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TCxLQUFLakMsR0FBRzs7Ozs7Ozs7Ozs7Ozs7OztBQVd6QjtHQTdRTS9COztRQU1XVCx5REFBU0E7UUFRZUQsNkRBQWFBO1FBT2xDRixpRUFBaUJBO1FBZ0JuQ0ksMERBQVdBO1FBS1hBLDBEQUFXQTtRQTRCWEgsZ0VBQWdCQTs7O0tBdEVaVztBQStRTiwrREFBZUEsSUFBSUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL0xpdmUudHN4P2E4MGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XHJcblxyXG5pbXBvcnQgeyB1c2VDYWxsYmFjaywgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gXCJyZWFjdFwiO1xyXG5cclxuaW1wb3J0IHsgdXNlQnJvYWRjYXN0RXZlbnQsIHVzZUV2ZW50TGlzdGVuZXIsIHVzZU15UHJlc2VuY2UsIHVzZU90aGVycyB9IGZyb20gXCJAL2xpdmVibG9ja3MuY29uZmlnXCI7XHJcbmltcG9ydCB1c2VJbnRlcnZhbCBmcm9tIFwiQC9ob29rcy91c2VJbnRlcnZhbFwiO1xyXG5pbXBvcnQgeyBDdXJzb3JNb2RlLCBDdXJzb3JTdGF0ZSwgUmVhY3Rpb24sIFJlYWN0aW9uRXZlbnQgfSBmcm9tIFwiQC90eXBlcy90eXBlXCI7XHJcbmltcG9ydCB7IHNob3J0Y3V0cyB9IGZyb20gXCJAL2NvbnN0YW50c1wiO1xyXG5cclxuaW1wb3J0IHsgQ29tbWVudHMgfSBmcm9tIFwiLi9jb21tZW50cy9Db21tZW50c1wiO1xyXG5pbXBvcnQgeyBDdXJzb3JDaGF0LCBGbHlpbmdSZWFjdGlvbiwgTGl2ZUN1cnNvcnMsIFJlYWN0aW9uU2VsZWN0b3IgfSBmcm9tIFwiLlwiO1xyXG5cclxudHlwZSBQcm9wcyA9IHtcclxuICBjYW52YXNSZWY6IFJlYWN0Lk11dGFibGVSZWZPYmplY3Q8SFRNTENhbnZhc0VsZW1lbnQgfCBudWxsPjtcclxuICB1bmRvOiAoKSA9PiB2b2lkO1xyXG4gIHJlZG86ICgpID0+IHZvaWQ7XHJcbn07XHJcblxyXG5jb25zdCBMaXZlID0gKHsgY2FudmFzUmVmLCB1bmRvLCByZWRvIH06IFByb3BzKSA9PiB7XHJcbiAgLyoqXHJcbiAgICogdXNlT3RoZXJzIHJldHVybnMgdGhlIGxpc3Qgb2Ygb3RoZXIgdXNlcnMgaW4gdGhlIHJvb20uXHJcbiAgICpcclxuICAgKiB1c2VPdGhlcnM6IGh0dHBzOi8vbGl2ZWJsb2Nrcy5pby9kb2NzL2FwaS1yZWZlcmVuY2UvbGl2ZWJsb2Nrcy1yZWFjdCN1c2VPdGhlcnNcclxuICAgKi9cclxuICBjb25zdCBvdGhlcnMgPSB1c2VPdGhlcnMoKTtcclxuXHJcbiAgLyoqXHJcbiAgICogdXNlTXlQcmVzZW5jZSByZXR1cm5zIHRoZSBwcmVzZW5jZSBvZiB0aGUgY3VycmVudCB1c2VyIGluIHRoZSByb29tLlxyXG4gICAqIEl0IGFsc28gcmV0dXJucyBhIGZ1bmN0aW9uIHRvIHVwZGF0ZSB0aGUgcHJlc2VuY2Ugb2YgdGhlIGN1cnJlbnQgdXNlci5cclxuICAgKlxyXG4gICAqIHVzZU15UHJlc2VuY2U6IGh0dHBzOi8vbGl2ZWJsb2Nrcy5pby9kb2NzL2FwaS1yZWZlcmVuY2UvbGl2ZWJsb2Nrcy1yZWFjdCN1c2VNeVByZXNlbmNlXHJcbiAgICovXHJcbiAgY29uc3QgW3sgY3Vyc29yIH0sIHVwZGF0ZU15UHJlc2VuY2VdID0gdXNlTXlQcmVzZW5jZSgpIGFzIGFueTtcclxuXHJcbiAgLyoqXHJcbiAgICogdXNlQnJvYWRjYXN0RXZlbnQgaXMgdXNlZCB0byBicm9hZGNhc3QgYW4gZXZlbnQgdG8gYWxsIHRoZSBvdGhlciB1c2VycyBpbiB0aGUgcm9vbS5cclxuICAgKlxyXG4gICAqIHVzZUJyb2FkY2FzdEV2ZW50OiBodHRwczovL2xpdmVibG9ja3MuaW8vZG9jcy9hcGktcmVmZXJlbmNlL2xpdmVibG9ja3MtcmVhY3QjdXNlQnJvYWRjYXN0RXZlbnRcclxuICAgKi9cclxuICBjb25zdCBicm9hZGNhc3QgPSB1c2VCcm9hZGNhc3RFdmVudCgpO1xyXG5cclxuICAvLyBzdG9yZSB0aGUgcmVhY3Rpb25zIGNyZWF0ZWQgb24gbW91c2UgY2xpY2tcclxuICBjb25zdCBbcmVhY3Rpb25zLCBzZXRSZWFjdGlvbnNdID0gdXNlU3RhdGU8UmVhY3Rpb25bXT4oW10pO1xyXG5cclxuICAvLyB0cmFjayB0aGUgc3RhdGUgb2YgdGhlIGN1cnNvciAoaGlkZGVuLCBjaGF0LCByZWFjdGlvbiwgcmVhY3Rpb24gc2VsZWN0b3IpXHJcbiAgY29uc3QgW2N1cnNvclN0YXRlLCBzZXRDdXJzb3JTdGF0ZV0gPSB1c2VTdGF0ZTxDdXJzb3JTdGF0ZT4oe1xyXG4gICAgbW9kZTogQ3Vyc29yTW9kZS5IaWRkZW4sXHJcbiAgfSk7XHJcblxyXG4gIC8vIHNldCB0aGUgcmVhY3Rpb24gb2YgdGhlIGN1cnNvclxyXG4gIGNvbnN0IHNldFJlYWN0aW9uID0gdXNlQ2FsbGJhY2soKHJlYWN0aW9uOiBzdHJpbmcpID0+IHtcclxuICAgIHNldEN1cnNvclN0YXRlKHsgbW9kZTogQ3Vyc29yTW9kZS5SZWFjdGlvbiwgcmVhY3Rpb24sIGlzUHJlc3NlZDogZmFsc2UgfSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBSZW1vdmUgcmVhY3Rpb25zIHRoYXQgYXJlIG5vdCB2aXNpYmxlIGFueW1vcmUgKGV2ZXJ5IDEgc2VjKVxyXG4gIHVzZUludGVydmFsKCgpID0+IHtcclxuICAgIHNldFJlYWN0aW9ucygocmVhY3Rpb25zKSA9PiByZWFjdGlvbnMuZmlsdGVyKChyZWFjdGlvbikgPT4gcmVhY3Rpb24udGltZXN0YW1wID4gRGF0ZS5ub3coKSAtIDQwMDApKTtcclxuICB9LCAxMDAwKTtcclxuXHJcbiAgLy8gQnJvYWRjYXN0IHRoZSByZWFjdGlvbiB0byBvdGhlciB1c2VycyAoZXZlcnkgMTAwbXMpXHJcbiAgdXNlSW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgaWYgKGN1cnNvclN0YXRlLm1vZGUgPT09IEN1cnNvck1vZGUuUmVhY3Rpb24gJiYgY3Vyc29yU3RhdGUuaXNQcmVzc2VkICYmIGN1cnNvcikge1xyXG4gICAgICAvLyBjb25jYXQgYWxsIHRoZSByZWFjdGlvbnMgY3JlYXRlZCBvbiBtb3VzZSBjbGlja1xyXG4gICAgICBzZXRSZWFjdGlvbnMoKHJlYWN0aW9ucykgPT5cclxuICAgICAgICByZWFjdGlvbnMuY29uY2F0KFtcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgcG9pbnQ6IHsgeDogY3Vyc29yLngsIHk6IGN1cnNvci55IH0sXHJcbiAgICAgICAgICAgIHZhbHVlOiBjdXJzb3JTdGF0ZS5yZWFjdGlvbixcclxuICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICAgICAgfSxcclxuICAgICAgICBdKVxyXG4gICAgICApO1xyXG5cclxuICAgICAgLy8gQnJvYWRjYXN0IHRoZSByZWFjdGlvbiB0byBvdGhlciB1c2Vyc1xyXG4gICAgICBicm9hZGNhc3Qoe1xyXG4gICAgICAgIHg6IGN1cnNvci54LFxyXG4gICAgICAgIHk6IGN1cnNvci55LFxyXG4gICAgICAgIHZhbHVlOiBjdXJzb3JTdGF0ZS5yZWFjdGlvbixcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgMTAwKTtcclxuXHJcbiAgLyoqXHJcbiAgICogdXNlRXZlbnRMaXN0ZW5lciBpcyB1c2VkIHRvIGxpc3RlbiB0byBldmVudHMgYnJvYWRjYXN0ZWQgYnkgb3RoZXJcclxuICAgKiB1c2Vycy5cclxuICAgKlxyXG4gICAqIHVzZUV2ZW50TGlzdGVuZXI6IGh0dHBzOi8vbGl2ZWJsb2Nrcy5pby9kb2NzL2FwaS1yZWZlcmVuY2UvbGl2ZWJsb2Nrcy1yZWFjdCN1c2VFdmVudExpc3RlbmVyXHJcbiAgICovXHJcbiAgdXNlRXZlbnRMaXN0ZW5lcigoZXZlbnREYXRhKSA9PiB7XHJcbiAgICBjb25zdCBldmVudCA9IGV2ZW50RGF0YS5ldmVudCBhcyBSZWFjdGlvbkV2ZW50O1xyXG4gICAgc2V0UmVhY3Rpb25zKChyZWFjdGlvbnMpID0+XHJcbiAgICAgIHJlYWN0aW9ucy5jb25jYXQoW1xyXG4gICAgICAgIHtcclxuICAgICAgICAgIHBvaW50OiB7IHg6IGV2ZW50LngsIHk6IGV2ZW50LnkgfSxcclxuICAgICAgICAgIHZhbHVlOiBldmVudC52YWx1ZSxcclxuICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcclxuICAgICAgICB9LFxyXG4gICAgICBdKVxyXG4gICAgKTtcclxuICB9KTtcclxuXHJcbiAgLy8gTGlzdGVuIHRvIGtleWJvYXJkIGV2ZW50cyB0byBjaGFuZ2UgdGhlIGN1cnNvciBzdGF0ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBjb25zdCBvbktleVVwID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcclxuICAgICAgaWYgKGUua2V5ID09PSBcIi9cIikge1xyXG4gICAgICAgIHNldEN1cnNvclN0YXRlKHtcclxuICAgICAgICAgIG1vZGU6IEN1cnNvck1vZGUuQ2hhdCxcclxuICAgICAgICAgIHByZXZpb3VzTWVzc2FnZTogbnVsbCxcclxuICAgICAgICAgIG1lc3NhZ2U6IFwiXCIsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgICB1cGRhdGVNeVByZXNlbmNlKHsgbWVzc2FnZTogXCJcIiB9KTtcclxuICAgICAgICBzZXRDdXJzb3JTdGF0ZSh7IG1vZGU6IEN1cnNvck1vZGUuSGlkZGVuIH0pO1xyXG4gICAgICB9IGVsc2UgaWYgKGUua2V5ID09PSBcImVcIikge1xyXG4gICAgICAgIHNldEN1cnNvclN0YXRlKHsgbW9kZTogQ3Vyc29yTW9kZS5SZWFjdGlvblNlbGVjdG9yIH0pO1xyXG4gICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IG9uS2V5RG93biA9IChlOiBLZXlib2FyZEV2ZW50KSA9PiB7XHJcbiAgICAgIGlmIChlLmtleSA9PT0gXCIvXCIpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBvbktleVVwKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xyXG5cclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgb25LZXlVcCk7XHJcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBvbktleURvd24pO1xyXG4gICAgfTtcclxuICB9LCBbdXBkYXRlTXlQcmVzZW5jZV0pO1xyXG5cclxuICAvLyBMaXN0ZW4gdG8gbW91c2UgZXZlbnRzIHRvIGNoYW5nZSB0aGUgY3Vyc29yIHN0YXRlXHJcbiAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSB1c2VDYWxsYmFjaygoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xyXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAvLyBpZiBjdXJzb3IgaXMgbm90IGluIHJlYWN0aW9uIHNlbGVjdG9yIG1vZGUsIHVwZGF0ZSB0aGUgY3Vyc29yIHBvc2l0aW9uXHJcbiAgICBpZiAoY3Vyc29yID09IG51bGwgfHwgY3Vyc29yU3RhdGUubW9kZSAhPT0gQ3Vyc29yTW9kZS5SZWFjdGlvblNlbGVjdG9yKSB7XHJcbiAgICAgIC8vIGdldCB0aGUgY3Vyc29yIHBvc2l0aW9uIGluIHRoZSBjYW52YXNcclxuICAgICAgY29uc3QgeCA9IGV2ZW50LmNsaWVudFggLSBldmVudC5jdXJyZW50VGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLng7XHJcbiAgICAgIGNvbnN0IHkgPSBldmVudC5jbGllbnRZIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS55O1xyXG5cclxuICAgICAgLy8gYnJvYWRjYXN0IHRoZSBjdXJzb3IgcG9zaXRpb24gdG8gb3RoZXIgdXNlcnNcclxuICAgICAgdXBkYXRlTXlQcmVzZW5jZSh7XHJcbiAgICAgICAgY3Vyc29yOiB7XHJcbiAgICAgICAgICB4LFxyXG4gICAgICAgICAgeSxcclxuICAgICAgICB9LFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIEhpZGUgdGhlIGN1cnNvciB3aGVuIHRoZSBtb3VzZSBsZWF2ZXMgdGhlIGNhbnZhc1xyXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJMZWF2ZSA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIHNldEN1cnNvclN0YXRlKHtcclxuICAgICAgbW9kZTogQ3Vyc29yTW9kZS5IaWRkZW4sXHJcbiAgICB9KTtcclxuICAgIHVwZGF0ZU15UHJlc2VuY2Uoe1xyXG4gICAgICBjdXJzb3I6IG51bGwsXHJcbiAgICAgIG1lc3NhZ2U6IG51bGwsXHJcbiAgICB9KTtcclxuICB9LCBbXSk7XHJcblxyXG4gIC8vIFNob3cgdGhlIGN1cnNvciB3aGVuIHRoZSBtb3VzZSBlbnRlcnMgdGhlIGNhbnZhc1xyXG4gIGNvbnN0IGhhbmRsZVBvaW50ZXJEb3duID0gdXNlQ2FsbGJhY2soXHJcbiAgICAoZXZlbnQ6IFJlYWN0LlBvaW50ZXJFdmVudCkgPT4ge1xyXG4gICAgICAvLyBnZXQgdGhlIGN1cnNvciBwb3NpdGlvbiBpbiB0aGUgY2FudmFzXHJcbiAgICAgIGNvbnN0IHggPSBldmVudC5jbGllbnRYIC0gZXZlbnQuY3VycmVudFRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS54O1xyXG4gICAgICBjb25zdCB5ID0gZXZlbnQuY2xpZW50WSAtIGV2ZW50LmN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkueTtcclxuXHJcbiAgICAgIHVwZGF0ZU15UHJlc2VuY2Uoe1xyXG4gICAgICAgIGN1cnNvcjoge1xyXG4gICAgICAgICAgeCxcclxuICAgICAgICAgIHksXHJcbiAgICAgICAgfSxcclxuICAgICAgfSk7XHJcblxyXG4gICAgICAvLyBpZiBjdXJzb3IgaXMgaW4gcmVhY3Rpb24gbW9kZSwgc2V0IGlzUHJlc3NlZCB0byB0cnVlXHJcbiAgICAgIHNldEN1cnNvclN0YXRlKChzdGF0ZTogQ3Vyc29yU3RhdGUpID0+XHJcbiAgICAgICAgY3Vyc29yU3RhdGUubW9kZSA9PT0gQ3Vyc29yTW9kZS5SZWFjdGlvbiA/IHsgLi4uc3RhdGUsIGlzUHJlc3NlZDogdHJ1ZSB9IDogc3RhdGVcclxuICAgICAgKTtcclxuICAgIH0sXHJcbiAgICBbY3Vyc29yU3RhdGUubW9kZSwgc2V0Q3Vyc29yU3RhdGVdXHJcbiAgKTtcclxuXHJcbiAgLy8gaGlkZSB0aGUgY3Vyc29yIHdoZW4gdGhlIG1vdXNlIGlzIHVwXHJcbiAgY29uc3QgaGFuZGxlUG9pbnRlclVwID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgc2V0Q3Vyc29yU3RhdGUoKHN0YXRlOiBDdXJzb3JTdGF0ZSkgPT5cclxuICAgICAgY3Vyc29yU3RhdGUubW9kZSA9PT0gQ3Vyc29yTW9kZS5SZWFjdGlvbiA/IHsgLi4uc3RhdGUsIGlzUHJlc3NlZDogZmFsc2UgfSA6IHN0YXRlXHJcbiAgICApO1xyXG4gIH0sIFtjdXJzb3JTdGF0ZS5tb2RlLCBzZXRDdXJzb3JTdGF0ZV0pO1xyXG5cclxuICAvLyB0cmlnZ2VyIHJlc3BlY3RpdmUgYWN0aW9ucyB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgcmlnaHQgbWVudVxyXG4gIGNvbnN0IGhhbmRsZUNvbnRleHRNZW51Q2xpY2sgPSB1c2VDYWxsYmFjaygoa2V5OiBzdHJpbmcpID0+IHtcclxuICAgIHN3aXRjaCAoa2V5KSB7XHJcbiAgICAgIGNhc2UgXCJDaGF0XCI6XHJcbiAgICAgICAgc2V0Q3Vyc29yU3RhdGUoe1xyXG4gICAgICAgICAgbW9kZTogQ3Vyc29yTW9kZS5DaGF0LFxyXG4gICAgICAgICAgcHJldmlvdXNNZXNzYWdlOiBudWxsLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCJcIixcclxuICAgICAgICB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJSZWFjdGlvbnNcIjpcclxuICAgICAgICBzZXRDdXJzb3JTdGF0ZSh7IG1vZGU6IEN1cnNvck1vZGUuUmVhY3Rpb25TZWxlY3RvciB9KTtcclxuICAgICAgICBicmVhaztcclxuXHJcbiAgICAgIGNhc2UgXCJVbmRvXCI6XHJcbiAgICAgICAgdW5kbygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgY2FzZSBcIlJlZG9cIjpcclxuICAgICAgICByZWRvKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG4gIH0sIFtdKTtcclxuXHJcbiAgcmV0dXJuIChcclxuICAgIDxDb250ZXh0TWVudT5cclxuICAgICAgPENvbnRleHRNZW51VHJpZ2dlclxyXG4gICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGZsZXggaC1mdWxsIHctZnVsbCBmbGV4LTEgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcclxuICAgICAgICBpZD1cImNhbnZhc1wiXHJcbiAgICAgICAgc3R5bGU9e3tcclxuICAgICAgICAgIGN1cnNvcjogY3Vyc29yU3RhdGUubW9kZSA9PT0gQ3Vyc29yTW9kZS5DaGF0ID8gXCJub25lXCIgOiBcImF1dG9cIixcclxuICAgICAgICB9fVxyXG4gICAgICAgIG9uUG9pbnRlck1vdmU9e2hhbmRsZVBvaW50ZXJNb3ZlfVxyXG4gICAgICAgIG9uUG9pbnRlckxlYXZlPXtoYW5kbGVQb2ludGVyTGVhdmV9XHJcbiAgICAgICAgb25Qb2ludGVyRG93bj17aGFuZGxlUG9pbnRlckRvd259XHJcbiAgICAgICAgb25Qb2ludGVyVXA9e2hhbmRsZVBvaW50ZXJVcH1cclxuICAgICAgPlxyXG4gICAgICAgIDxjYW52YXMgcmVmPXtjYW52YXNSZWZ9IC8+XHJcblxyXG4gICAgICAgIHsvKiBSZW5kZXIgdGhlIHJlYWN0aW9ucyAqL31cclxuICAgICAgICB7cmVhY3Rpb25zLm1hcCgocmVhY3Rpb24pID0+IChcclxuICAgICAgICAgIDxGbHlpbmdSZWFjdGlvblxyXG4gICAgICAgICAgICBrZXk9e3JlYWN0aW9uLnRpbWVzdGFtcC50b1N0cmluZygpfVxyXG4gICAgICAgICAgICB4PXtyZWFjdGlvbi5wb2ludC54fVxyXG4gICAgICAgICAgICB5PXtyZWFjdGlvbi5wb2ludC55fVxyXG4gICAgICAgICAgICB0aW1lc3RhbXA9e3JlYWN0aW9uLnRpbWVzdGFtcH1cclxuICAgICAgICAgICAgdmFsdWU9e3JlYWN0aW9uLnZhbHVlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApKX1cclxuXHJcbiAgICAgICAgey8qIElmIGN1cnNvciBpcyBpbiBjaGF0IG1vZGUsIHNob3cgdGhlIGNoYXQgY3Vyc29yICovfVxyXG4gICAgICAgIHtjdXJzb3IgJiYgKFxyXG4gICAgICAgICAgPEN1cnNvckNoYXRcclxuICAgICAgICAgICAgY3Vyc29yPXtjdXJzb3J9XHJcbiAgICAgICAgICAgIGN1cnNvclN0YXRlPXtjdXJzb3JTdGF0ZX1cclxuICAgICAgICAgICAgc2V0Q3Vyc29yU3RhdGU9e3NldEN1cnNvclN0YXRlfVxyXG4gICAgICAgICAgICB1cGRhdGVNeVByZXNlbmNlPXt1cGRhdGVNeVByZXNlbmNlfVxyXG4gICAgICAgICAgLz5cclxuICAgICAgICApfVxyXG5cclxuICAgICAgICB7LyogSWYgY3Vyc29yIGlzIGluIHJlYWN0aW9uIHNlbGVjdG9yIG1vZGUsIHNob3cgdGhlIHJlYWN0aW9uIHNlbGVjdG9yICovfVxyXG4gICAgICAgIHtjdXJzb3JTdGF0ZS5tb2RlID09PSBDdXJzb3JNb2RlLlJlYWN0aW9uU2VsZWN0b3IgJiYgKFxyXG4gICAgICAgICAgPFJlYWN0aW9uU2VsZWN0b3JcclxuICAgICAgICAgICAgc2V0UmVhY3Rpb249eyhyZWFjdGlvbikgPT4ge1xyXG4gICAgICAgICAgICAgIHNldFJlYWN0aW9uKHJlYWN0aW9uKTtcclxuICAgICAgICAgICAgfX1cclxuICAgICAgICAgIC8+XHJcbiAgICAgICAgKX1cclxuXHJcbiAgICAgICAgey8qIFNob3cgdGhlIGxpdmUgY3Vyc29ycyBvZiBvdGhlciB1c2VycyAqL31cclxuICAgICAgICA8TGl2ZUN1cnNvcnMgb3RoZXJzPXtvdGhlcnN9IC8+XHJcblxyXG4gICAgICAgIHsvKiBTaG93IHRoZSBjb21tZW50cyAqL31cclxuICAgICAgICA8Q29tbWVudHMgLz5cclxuICAgICAgPC9Db250ZXh0TWVudVRyaWdnZXI+XHJcblxyXG4gICAgICA8Q29udGV4dE1lbnVDb250ZW50IGNsYXNzTmFtZT1cInJpZ2h0LW1lbnUtY29udGVudFwiPlxyXG4gICAgICAgIHtzaG9ydGN1dHMubWFwKChpdGVtKSA9PiAoXHJcbiAgICAgICAgICA8Q29udGV4dE1lbnVJdGVtXHJcbiAgICAgICAgICAgIGtleT17aXRlbS5rZXl9XHJcbiAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpZ2h0LW1lbnUtaXRlbVwiXHJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZUNvbnRleHRNZW51Q2xpY2soaXRlbS5uYW1lKX1cclxuICAgICAgICAgID5cclxuICAgICAgICAgICAgPHA+e2l0ZW0ubmFtZX08L3A+XHJcbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteHMgdGV4dC1wcmltYXJ5LWdyZXktMzAwXCI+e2l0ZW0uc2hvcnRjdXR9PC9wPlxyXG4gICAgICAgICAgPC9Db250ZXh0TWVudUl0ZW0+XHJcbiAgICAgICAgKSl9XHJcbiAgICAgIDwvQ29udGV4dE1lbnVDb250ZW50PlxyXG4gICAgPC9Db250ZXh0TWVudT5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgTGl2ZTsiXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZUJyb2FkY2FzdEV2ZW50IiwidXNlRXZlbnRMaXN0ZW5lciIsInVzZU15UHJlc2VuY2UiLCJ1c2VPdGhlcnMiLCJ1c2VJbnRlcnZhbCIsIkN1cnNvck1vZGUiLCJzaG9ydGN1dHMiLCJDb21tZW50cyIsIkN1cnNvckNoYXQiLCJGbHlpbmdSZWFjdGlvbiIsIkxpdmVDdXJzb3JzIiwiUmVhY3Rpb25TZWxlY3RvciIsIkxpdmUiLCJjYW52YXNSZWYiLCJ1bmRvIiwicmVkbyIsIm90aGVycyIsImN1cnNvciIsInVwZGF0ZU15UHJlc2VuY2UiLCJicm9hZGNhc3QiLCJyZWFjdGlvbnMiLCJzZXRSZWFjdGlvbnMiLCJjdXJzb3JTdGF0ZSIsInNldEN1cnNvclN0YXRlIiwibW9kZSIsIkhpZGRlbiIsInNldFJlYWN0aW9uIiwicmVhY3Rpb24iLCJSZWFjdGlvbiIsImlzUHJlc3NlZCIsImZpbHRlciIsInRpbWVzdGFtcCIsIkRhdGUiLCJub3ciLCJjb25jYXQiLCJwb2ludCIsIngiLCJ5IiwidmFsdWUiLCJldmVudERhdGEiLCJldmVudCIsIm9uS2V5VXAiLCJlIiwia2V5IiwiQ2hhdCIsInByZXZpb3VzTWVzc2FnZSIsIm1lc3NhZ2UiLCJvbktleURvd24iLCJwcmV2ZW50RGVmYXVsdCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiaGFuZGxlUG9pbnRlck1vdmUiLCJjbGllbnRYIiwiY3VycmVudFRhcmdldCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudFkiLCJoYW5kbGVQb2ludGVyTGVhdmUiLCJoYW5kbGVQb2ludGVyRG93biIsInN0YXRlIiwiaGFuZGxlUG9pbnRlclVwIiwiaGFuZGxlQ29udGV4dE1lbnVDbGljayIsIkNvbnRleHRNZW51IiwiQ29udGV4dE1lbnVUcmlnZ2VyIiwiY2xhc3NOYW1lIiwiaWQiLCJzdHlsZSIsIm9uUG9pbnRlck1vdmUiLCJvblBvaW50ZXJMZWF2ZSIsIm9uUG9pbnRlckRvd24iLCJvblBvaW50ZXJVcCIsImNhbnZhcyIsInJlZiIsIm1hcCIsInRvU3RyaW5nIiwiQ29udGV4dE1lbnVDb250ZW50IiwiaXRlbSIsIkNvbnRleHRNZW51SXRlbSIsIm9uQ2xpY2siLCJuYW1lIiwicCIsInNob3J0Y3V0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/Live.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/comments/Comments.tsx":
/*!******************************************!*\
  !*** ./components/comments/Comments.tsx ***!
  \******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Comments: function() { return /* binding */ Comments; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var _components_comments_CommentsOverlay__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/components/comments/CommentsOverlay */ \"(app-pages-browser)/./components/comments/CommentsOverlay.tsx\");\n/* __next_internal_client_entry_do_not_use__ Comments auto */ \n\n\nconst Comments = ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.ClientSideSuspense, {\n        fallback: null,\n        children: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_comments_CommentsOverlay__WEBPACK_IMPORTED_MODULE_1__.CommentsOverlay, {}, void 0, false, {\n                fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\Comments.tsx\",\n                lineNumber: 9,\n                columnNumber: 12\n            }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\Comments.tsx\",\n        lineNumber: 8,\n        columnNumber: 3\n    }, undefined);\n_c = Comments;\nvar _c;\n$RefreshReg$(_c, \"Comments\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY29tbWVudHMvQ29tbWVudHMudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBRXVEO0FBRWlCO0FBRWpFLE1BQU1FLFdBQVcsa0JBQ3RCLDhEQUFDRixpRUFBa0JBO1FBQUNHLFVBQVU7a0JBQzNCLGtCQUFNLDhEQUFDRixpRkFBZUE7Ozs7Ozs7OztrQkFFekI7S0FKV0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9jb21tZW50cy9Db21tZW50cy50c3g/MmExNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgQ2xpZW50U2lkZVN1c3BlbnNlIH0gZnJvbSBcIkBsaXZlYmxvY2tzL3JlYWN0XCI7XG5cbmltcG9ydCB7IENvbW1lbnRzT3ZlcmxheSB9IGZyb20gXCJAL2NvbXBvbmVudHMvY29tbWVudHMvQ29tbWVudHNPdmVybGF5XCI7XG5cbmV4cG9ydCBjb25zdCBDb21tZW50cyA9ICgpID0+IChcbiAgPENsaWVudFNpZGVTdXNwZW5zZSBmYWxsYmFjaz17bnVsbH0+XG4gICAgeygpID0+IDxDb21tZW50c092ZXJsYXkgLz59XG4gIDwvQ2xpZW50U2lkZVN1c3BlbnNlPlxuKTtcbiJdLCJuYW1lcyI6WyJDbGllbnRTaWRlU3VzcGVuc2UiLCJDb21tZW50c092ZXJsYXkiLCJDb21tZW50cyIsImZhbGxiYWNrIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/comments/Comments.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/comments/CommentsOverlay.tsx":
/*!*************************************************!*\
  !*** ./components/comments/CommentsOverlay.tsx ***!
  \*************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommentsOverlay: function() { return /* binding */ CommentsOverlay; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/liveblocks.config */ \"(app-pages-browser)/./liveblocks.config.ts\");\n/* harmony import */ var _lib_useMaxZIndex__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/useMaxZIndex */ \"(app-pages-browser)/./lib/useMaxZIndex.ts\");\n/* harmony import */ var _PinnedThread__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./PinnedThread */ \"(app-pages-browser)/./components/comments/PinnedThread.tsx\");\n/* __next_internal_client_entry_do_not_use__ CommentsOverlay auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst CommentsOverlay = ()=>{\n    _s();\n    /**\n   * We're using the useThreads hook to get the list of threads\n   * in the room.\n   *\n   * useThreads: https://liveblocks.io/docs/api-reference/liveblocks-react#useThreads\n   */ const { threads } = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useThreads)();\n    // get the max z-index of a thread\n    const maxZIndex = (0,_lib_useMaxZIndex__WEBPACK_IMPORTED_MODULE_3__.useMaxZIndex)();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        children: threads.filter((thread)=>!thread.metadata.resolved).map((thread)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(OverlayThread, {\n                thread: thread,\n                maxZIndex: maxZIndex\n            }, thread.id, false, {\n                fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\CommentsOverlay.tsx\",\n                lineNumber: 33,\n                columnNumber: 11\n            }, undefined))\n    }, void 0, false, {\n        fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\CommentsOverlay.tsx\",\n        lineNumber: 29,\n        columnNumber: 5\n    }, undefined);\n};\n_s(CommentsOverlay, \"rvBTnfp2OEQANcCDWdcbwvw6HCY=\", false, function() {\n    return [\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useThreads,\n        _lib_useMaxZIndex__WEBPACK_IMPORTED_MODULE_3__.useMaxZIndex\n    ];\n});\n_c = CommentsOverlay;\nconst OverlayThread = (param)=>{\n    let { thread, maxZIndex } = param;\n    _s1();\n    /**\n   * We're using the useEditThreadMetadata hook to edit the metadata\n   * of a thread.\n   *\n   * useEditThreadMetadata: https://liveblocks.io/docs/api-reference/liveblocks-react#useEditThreadMetadata\n   */ const editThreadMetadata = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useEditThreadMetadata)();\n    /**\n   * We're using the useUser hook to get the user of the thread.\n   *\n   * useUser: https://liveblocks.io/docs/api-reference/liveblocks-react#useUser\n   */ const { isLoading } = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useUser)(thread.comments[0].userId);\n    // We're using a ref to get the thread element to position it\n    const threadRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    // If other thread(s) above, increase z-index on last element updated\n    const handleIncreaseZIndex = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (maxZIndex === thread.metadata.zIndex) {\n            return;\n        }\n        // Update the z-index of the thread in the room\n        editThreadMetadata({\n            threadId: thread.id,\n            metadata: {\n                zIndex: maxZIndex + 1\n            }\n        });\n    }, [\n        thread,\n        editThreadMetadata,\n        maxZIndex\n    ]);\n    if (isLoading) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        ref: threadRef,\n        id: \"thread-\".concat(thread.id),\n        className: \"absolute left-0 top-0 flex gap-5\",\n        style: {\n            transform: \"translate(\".concat(thread.metadata.x, \"px, \").concat(thread.metadata.y, \"px)\")\n        },\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PinnedThread__WEBPACK_IMPORTED_MODULE_4__.PinnedThread, {\n            thread: thread,\n            onFocus: handleIncreaseZIndex\n        }, void 0, false, {\n            fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\CommentsOverlay.tsx\",\n            lineNumber: 87,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\CommentsOverlay.tsx\",\n        lineNumber: 78,\n        columnNumber: 5\n    }, undefined);\n};\n_s1(OverlayThread, \"qVZeyiA1Bk/dV0w3tkBJCGPHEBQ=\", false, function() {\n    return [\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useEditThreadMetadata,\n        _liveblocks_config__WEBPACK_IMPORTED_MODULE_2__.useUser\n    ];\n});\n_c1 = OverlayThread;\nvar _c, _c1;\n$RefreshReg$(_c, \"CommentsOverlay\");\n$RefreshReg$(_c1, \"OverlayThread\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY29tbWVudHMvQ29tbWVudHNPdmVybGF5LnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFFNEM7QUFHcUQ7QUFDL0M7QUFFSjtBQU92QyxNQUFNTyxrQkFBa0I7O0lBQzdCOzs7OztHQUtDLEdBQ0QsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR0wsOERBQVVBO0lBRTlCLGtDQUFrQztJQUNsQyxNQUFNTSxZQUFZSiwrREFBWUE7SUFFOUIscUJBQ0UsOERBQUNLO2tCQUNFRixRQUNFRyxNQUFNLENBQUMsQ0FBQ0MsU0FBVyxDQUFDQSxPQUFPQyxRQUFRLENBQUNDLFFBQVEsRUFDNUNDLEdBQUcsQ0FBQyxDQUFDSCx1QkFDSiw4REFBQ0k7Z0JBQThCSixRQUFRQTtnQkFBUUgsV0FBV0E7ZUFBdENHLE9BQU9LLEVBQUU7Ozs7Ozs7Ozs7QUFJdkMsRUFBRTtHQXJCV1Y7O1FBT1NKLDBEQUFVQTtRQUdaRSwyREFBWUE7OztLQVZuQkU7QUF1QmIsTUFBTVMsZ0JBQWdCO1FBQUMsRUFBRUosTUFBTSxFQUFFSCxTQUFTLEVBQXNCOztJQUM5RDs7Ozs7R0FLQyxHQUNELE1BQU1TLHFCQUFxQmhCLHlFQUFxQkE7SUFFaEQ7Ozs7R0FJQyxHQUNELE1BQU0sRUFBRWlCLFNBQVMsRUFBRSxHQUFHZiwyREFBT0EsQ0FBQ1EsT0FBT1EsUUFBUSxDQUFDLEVBQUUsQ0FBQ0MsTUFBTTtJQUV2RCw2REFBNkQ7SUFDN0QsTUFBTUMsWUFBWXJCLDZDQUFNQSxDQUFpQjtJQUV6QyxxRUFBcUU7SUFDckUsTUFBTXNCLHVCQUF1QnZCLGtEQUFXQSxDQUFDO1FBQ3ZDLElBQUlTLGNBQWNHLE9BQU9DLFFBQVEsQ0FBQ1csTUFBTSxFQUFFO1lBQ3hDO1FBQ0Y7UUFFQSwrQ0FBK0M7UUFDL0NOLG1CQUFtQjtZQUNqQk8sVUFBVWIsT0FBT0ssRUFBRTtZQUNuQkosVUFBVTtnQkFDUlcsUUFBUWYsWUFBWTtZQUN0QjtRQUNGO0lBQ0YsR0FBRztRQUFDRztRQUFRTTtRQUFvQlQ7S0FBVTtJQUUxQyxJQUFJVSxXQUFXO1FBQ2IsT0FBTztJQUNUO0lBRUEscUJBQ0UsOERBQUNUO1FBQ0NnQixLQUFLSjtRQUNMTCxJQUFJLFVBQW9CLE9BQVZMLE9BQU9LLEVBQUU7UUFDdkJVLFdBQVU7UUFDVkMsT0FBTztZQUNMQyxXQUFXLGFBQXFDakIsT0FBeEJBLE9BQU9DLFFBQVEsQ0FBQ2lCLENBQUMsRUFBQyxRQUF3QixPQUFsQmxCLE9BQU9DLFFBQVEsQ0FBQ2tCLENBQUMsRUFBQztRQUNwRTtrQkFHQSw0RUFBQ3pCLHVEQUFZQTtZQUFDTSxRQUFRQTtZQUFRb0IsU0FBU1Q7Ozs7Ozs7Ozs7O0FBRzdDO0lBbkRNUDs7UUFPdUJkLHFFQUFxQkE7UUFPMUJFLHVEQUFPQTs7O01BZHpCWSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9jb21wb25lbnRzL2NvbW1lbnRzL0NvbW1lbnRzT3ZlcmxheS50c3g/NzcwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IHsgdXNlQ2FsbGJhY2ssIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgVGhyZWFkRGF0YSB9IGZyb20gXCJAbGl2ZWJsb2Nrcy9jbGllbnRcIjtcblxuaW1wb3J0IHsgVGhyZWFkTWV0YWRhdGEsIHVzZUVkaXRUaHJlYWRNZXRhZGF0YSwgdXNlVGhyZWFkcywgdXNlVXNlciB9IGZyb20gXCJAL2xpdmVibG9ja3MuY29uZmlnXCI7XG5pbXBvcnQgeyB1c2VNYXhaSW5kZXggfSBmcm9tIFwiQC9saWIvdXNlTWF4WkluZGV4XCI7XG5cbmltcG9ydCB7IFBpbm5lZFRocmVhZCB9IGZyb20gXCIuL1Bpbm5lZFRocmVhZFwiO1xuXG50eXBlIE92ZXJsYXlUaHJlYWRQcm9wcyA9IHtcbiAgdGhyZWFkOiBUaHJlYWREYXRhPFRocmVhZE1ldGFkYXRhPjtcbiAgbWF4WkluZGV4OiBudW1iZXI7XG59O1xuXG5leHBvcnQgY29uc3QgQ29tbWVudHNPdmVybGF5ID0gKCkgPT4ge1xuICAvKipcbiAgICogV2UncmUgdXNpbmcgdGhlIHVzZVRocmVhZHMgaG9vayB0byBnZXQgdGhlIGxpc3Qgb2YgdGhyZWFkc1xuICAgKiBpbiB0aGUgcm9vbS5cbiAgICpcbiAgICogdXNlVGhyZWFkczogaHR0cHM6Ly9saXZlYmxvY2tzLmlvL2RvY3MvYXBpLXJlZmVyZW5jZS9saXZlYmxvY2tzLXJlYWN0I3VzZVRocmVhZHNcbiAgICovXG4gIGNvbnN0IHsgdGhyZWFkcyB9ID0gdXNlVGhyZWFkcygpO1xuXG4gIC8vIGdldCB0aGUgbWF4IHotaW5kZXggb2YgYSB0aHJlYWRcbiAgY29uc3QgbWF4WkluZGV4ID0gdXNlTWF4WkluZGV4KCk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2PlxuICAgICAge3RocmVhZHNcbiAgICAgICAgLmZpbHRlcigodGhyZWFkKSA9PiAhdGhyZWFkLm1ldGFkYXRhLnJlc29sdmVkKVxuICAgICAgICAubWFwKCh0aHJlYWQpID0+IChcbiAgICAgICAgICA8T3ZlcmxheVRocmVhZCBrZXk9e3RocmVhZC5pZH0gdGhyZWFkPXt0aHJlYWR9IG1heFpJbmRleD17bWF4WkluZGV4fSAvPlxuICAgICAgICApKX1cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmNvbnN0IE92ZXJsYXlUaHJlYWQgPSAoeyB0aHJlYWQsIG1heFpJbmRleCB9OiBPdmVybGF5VGhyZWFkUHJvcHMpID0+IHtcbiAgLyoqXG4gICAqIFdlJ3JlIHVzaW5nIHRoZSB1c2VFZGl0VGhyZWFkTWV0YWRhdGEgaG9vayB0byBlZGl0IHRoZSBtZXRhZGF0YVxuICAgKiBvZiBhIHRocmVhZC5cbiAgICpcbiAgICogdXNlRWRpdFRocmVhZE1ldGFkYXRhOiBodHRwczovL2xpdmVibG9ja3MuaW8vZG9jcy9hcGktcmVmZXJlbmNlL2xpdmVibG9ja3MtcmVhY3QjdXNlRWRpdFRocmVhZE1ldGFkYXRhXG4gICAqL1xuICBjb25zdCBlZGl0VGhyZWFkTWV0YWRhdGEgPSB1c2VFZGl0VGhyZWFkTWV0YWRhdGEoKTtcblxuICAvKipcbiAgICogV2UncmUgdXNpbmcgdGhlIHVzZVVzZXIgaG9vayB0byBnZXQgdGhlIHVzZXIgb2YgdGhlIHRocmVhZC5cbiAgICpcbiAgICogdXNlVXNlcjogaHR0cHM6Ly9saXZlYmxvY2tzLmlvL2RvY3MvYXBpLXJlZmVyZW5jZS9saXZlYmxvY2tzLXJlYWN0I3VzZVVzZXJcbiAgICovXG4gIGNvbnN0IHsgaXNMb2FkaW5nIH0gPSB1c2VVc2VyKHRocmVhZC5jb21tZW50c1swXS51c2VySWQpO1xuXG4gIC8vIFdlJ3JlIHVzaW5nIGEgcmVmIHRvIGdldCB0aGUgdGhyZWFkIGVsZW1lbnQgdG8gcG9zaXRpb24gaXRcbiAgY29uc3QgdGhyZWFkUmVmID0gdXNlUmVmPEhUTUxEaXZFbGVtZW50PihudWxsKTtcblxuICAvLyBJZiBvdGhlciB0aHJlYWQocykgYWJvdmUsIGluY3JlYXNlIHotaW5kZXggb24gbGFzdCBlbGVtZW50IHVwZGF0ZWRcbiAgY29uc3QgaGFuZGxlSW5jcmVhc2VaSW5kZXggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgaWYgKG1heFpJbmRleCA9PT0gdGhyZWFkLm1ldGFkYXRhLnpJbmRleCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIFVwZGF0ZSB0aGUgei1pbmRleCBvZiB0aGUgdGhyZWFkIGluIHRoZSByb29tXG4gICAgZWRpdFRocmVhZE1ldGFkYXRhKHtcbiAgICAgIHRocmVhZElkOiB0aHJlYWQuaWQsXG4gICAgICBtZXRhZGF0YToge1xuICAgICAgICB6SW5kZXg6IG1heFpJbmRleCArIDEsXG4gICAgICB9LFxuICAgIH0pO1xuICB9LCBbdGhyZWFkLCBlZGl0VGhyZWFkTWV0YWRhdGEsIG1heFpJbmRleF0pO1xuXG4gIGlmIChpc0xvYWRpbmcpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIHJldHVybiAoXG4gICAgPGRpdlxuICAgICAgcmVmPXt0aHJlYWRSZWZ9XG4gICAgICBpZD17YHRocmVhZC0ke3RocmVhZC5pZH1gfVxuICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0wIHRvcC0wIGZsZXggZ2FwLTVcIlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgdHJhbnNmb3JtOiBgdHJhbnNsYXRlKCR7dGhyZWFkLm1ldGFkYXRhLnh9cHgsICR7dGhyZWFkLm1ldGFkYXRhLnl9cHgpYCxcbiAgICAgIH19XG4gICAgPlxuICAgICAgey8qIHJlbmRlciB0aGUgdGhyZWFkICovfVxuICAgICAgPFBpbm5lZFRocmVhZCB0aHJlYWQ9e3RocmVhZH0gb25Gb2N1cz17aGFuZGxlSW5jcmVhc2VaSW5kZXh9IC8+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuIl0sIm5hbWVzIjpbInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlRWRpdFRocmVhZE1ldGFkYXRhIiwidXNlVGhyZWFkcyIsInVzZVVzZXIiLCJ1c2VNYXhaSW5kZXgiLCJQaW5uZWRUaHJlYWQiLCJDb21tZW50c092ZXJsYXkiLCJ0aHJlYWRzIiwibWF4WkluZGV4IiwiZGl2IiwiZmlsdGVyIiwidGhyZWFkIiwibWV0YWRhdGEiLCJyZXNvbHZlZCIsIm1hcCIsIk92ZXJsYXlUaHJlYWQiLCJpZCIsImVkaXRUaHJlYWRNZXRhZGF0YSIsImlzTG9hZGluZyIsImNvbW1lbnRzIiwidXNlcklkIiwidGhyZWFkUmVmIiwiaGFuZGxlSW5jcmVhc2VaSW5kZXgiLCJ6SW5kZXgiLCJ0aHJlYWRJZCIsInJlZiIsImNsYXNzTmFtZSIsInN0eWxlIiwidHJhbnNmb3JtIiwieCIsInkiLCJvbkZvY3VzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/comments/CommentsOverlay.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./components/comments/PinnedThread.tsx":
/*!**********************************************!*\
  !*** ./components/comments/PinnedThread.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PinnedThread: function() { return /* binding */ PinnedThread; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/image */ \"(app-pages-browser)/./node_modules/next/dist/api/image.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _liveblocks_react_comments__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @liveblocks/react-comments */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Thread.mjs\");\n/* __next_internal_client_entry_do_not_use__ PinnedThread auto */ \nvar _s = $RefreshSig$();\n\n\n\nconst PinnedThread = (param)=>{\n    let { thread, onFocus, ...props } = param;\n    _s();\n    // Open pinned threads that have just been created\n    const startMinimized = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>Number(new Date()) - Number(new Date(thread.createdAt)) > 100, [\n        thread\n    ]);\n    const [minimized, setMinimized] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(startMinimized);\n    /**\n   * memoize the result of this function so that it doesn't change on every render but only when the thread changes\n   * Memo is used to optimize performance and avoid unnecessary re-renders.\n   *\n   * useMemo: https://react.dev/reference/react/useMemo\n   */ const memoizedContent = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"absolute flex cursor-pointer gap-4\",\n            ...props,\n            onClick: (e)=>{\n                onFocus(thread.id);\n                // check if click is on/in the composer\n                if (e.target && e.target.classList.contains(\"lb-icon\") && e.target.classList.contains(\"lb-button-icon\")) {\n                    return;\n                }\n                setMinimized(!minimized);\n            },\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"relative flex h-9 w-9 select-none items-center justify-center rounded-bl-full rounded-br-full rounded-tl-md rounded-tr-full bg-white shadow\",\n                    \"data-draggable\": true,\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(next_image__WEBPACK_IMPORTED_MODULE_1__[\"default\"], {\n                        src: \"https://liveblocks.io/avatars/avatar-\".concat(Math.floor(Math.random() * 30), \".png\"),\n                        alt: \"Dummy Name\",\n                        width: 28,\n                        height: 28,\n                        draggable: false,\n                        className: \"rounded-full\"\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\PinnedThread.tsx\",\n                        lineNumber: 55,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\PinnedThread.tsx\",\n                    lineNumber: 51,\n                    columnNumber: 9\n                }, undefined),\n                !minimized ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex min-w-60 flex-col overflow-hidden rounded-lg bg-white text-sm shadow\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_liveblocks_react_comments__WEBPACK_IMPORTED_MODULE_3__.Thread, {\n                        thread: thread,\n                        indentCommentContent: false,\n                        onKeyUp: (e)=>{\n                            e.stopPropagation();\n                        }\n                    }, void 0, false, {\n                        fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\PinnedThread.tsx\",\n                        lineNumber: 66,\n                        columnNumber: 13\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\PinnedThread.tsx\",\n                    lineNumber: 65,\n                    columnNumber: 11\n                }, undefined) : null\n            ]\n        }, void 0, true, {\n            fileName: \"D:\\\\beshoy's figma\\\\components\\\\comments\\\\PinnedThread.tsx\",\n            lineNumber: 33,\n            columnNumber: 7\n        }, undefined), [\n        thread.comments.length,\n        minimized\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: memoizedContent\n    }, void 0, false);\n};\n_s(PinnedThread, \"p5NY093bbDuEDD0Ry7GOy3bQHoI=\");\n_c = PinnedThread;\nvar _c;\n$RefreshReg$(_c, \"PinnedThread\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2NvbXBvbmVudHMvY29tbWVudHMvUGlubmVkVGhyZWFkLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUUrQjtBQUNXO0FBRVU7QUFTN0MsTUFBTUksZUFBZTtRQUFDLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdDLE9BQWM7O0lBQy9ELGtEQUFrRDtJQUNsRCxNQUFNQyxpQkFBaUJQLDhDQUFPQSxDQUM1QixJQUFNUSxPQUFPLElBQUlDLFVBQVVELE9BQU8sSUFBSUMsS0FBS0wsT0FBT00sU0FBUyxLQUFLLEtBQ2hFO1FBQUNOO0tBQU87SUFHVixNQUFNLENBQUNPLFdBQVdDLGFBQWEsR0FBR1gsK0NBQVFBLENBQUNNO0lBRTNDOzs7OztHQUtDLEdBRUQsTUFBTU0sa0JBQWtCYiw4Q0FBT0EsQ0FDN0Isa0JBQ0UsOERBQUNjO1lBQ0NDLFdBQVU7WUFDVCxHQUFHVCxLQUFLO1lBQ1RVLFNBQVMsQ0FBQ0M7Z0JBQ1JaLFFBQVFELE9BQU9jLEVBQUU7Z0JBRWpCLHVDQUF1QztnQkFDdkMsSUFDRUQsRUFBRUUsTUFBTSxJQUNSRixFQUFFRSxNQUFNLENBQUNDLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLGNBQzVCSixFQUFFRSxNQUFNLENBQUNDLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDLG1CQUM1QjtvQkFDQTtnQkFDRjtnQkFFQVQsYUFBYSxDQUFDRDtZQUNoQjs7OEJBRUEsOERBQUNHO29CQUNDQyxXQUFVO29CQUNWTyxrQkFBZ0I7OEJBRWhCLDRFQUFDdkIsa0RBQUtBO3dCQUNKd0IsS0FBSyx3Q0FBdUUsT0FBL0JDLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsTUFBTSxLQUFLLEtBQUk7d0JBQzVFQyxLQUFJO3dCQUNKQyxPQUFPO3dCQUNQQyxRQUFRO3dCQUNSQyxXQUFXO3dCQUNYZixXQUFVOzs7Ozs7Ozs7OztnQkFHYixDQUFDSiwwQkFDQSw4REFBQ0c7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNiLDhEQUFNQTt3QkFDTEUsUUFBUUE7d0JBQ1IyQixzQkFBc0I7d0JBQ3RCQyxTQUFTLENBQUNmOzRCQUNSQSxFQUFFZ0IsZUFBZTt3QkFDbkI7Ozs7Ozs7Ozs7Z0NBR0Y7Ozs7Ozt1QkFHUjtRQUFDN0IsT0FBTzhCLFFBQVEsQ0FBQ0MsTUFBTTtRQUFFeEI7S0FBVTtJQUdyQyxxQkFBTztrQkFBR0U7O0FBQ1osRUFBRTtHQWxFV1Y7S0FBQUEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vY29tcG9uZW50cy9jb21tZW50cy9QaW5uZWRUaHJlYWQudHN4PzY2ODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCI7XG5cbmltcG9ydCBJbWFnZSBmcm9tIFwibmV4dC9pbWFnZVwiO1xuaW1wb3J0IHsgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IFRocmVhZERhdGEgfSBmcm9tIFwiQGxpdmVibG9ja3MvY2xpZW50XCI7XG5pbXBvcnQgeyBUaHJlYWQgfSBmcm9tIFwiQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHNcIjtcblxuaW1wb3J0IHsgVGhyZWFkTWV0YWRhdGEgfSBmcm9tIFwiQC9saXZlYmxvY2tzLmNvbmZpZ1wiO1xuXG50eXBlIFByb3BzID0ge1xuICB0aHJlYWQ6IFRocmVhZERhdGE8VGhyZWFkTWV0YWRhdGE+O1xuICBvbkZvY3VzOiAodGhyZWFkSWQ6IHN0cmluZykgPT4gdm9pZDtcbn07XG5cbmV4cG9ydCBjb25zdCBQaW5uZWRUaHJlYWQgPSAoeyB0aHJlYWQsIG9uRm9jdXMsIC4uLnByb3BzIH06IFByb3BzKSA9PiB7XG4gIC8vIE9wZW4gcGlubmVkIHRocmVhZHMgdGhhdCBoYXZlIGp1c3QgYmVlbiBjcmVhdGVkXG4gIGNvbnN0IHN0YXJ0TWluaW1pemVkID0gdXNlTWVtbyhcbiAgICAoKSA9PiBOdW1iZXIobmV3IERhdGUoKSkgLSBOdW1iZXIobmV3IERhdGUodGhyZWFkLmNyZWF0ZWRBdCkpID4gMTAwLFxuICAgIFt0aHJlYWRdXG4gICk7XG5cbiAgY29uc3QgW21pbmltaXplZCwgc2V0TWluaW1pemVkXSA9IHVzZVN0YXRlKHN0YXJ0TWluaW1pemVkKTtcblxuICAvKipcbiAgICogbWVtb2l6ZSB0aGUgcmVzdWx0IG9mIHRoaXMgZnVuY3Rpb24gc28gdGhhdCBpdCBkb2Vzbid0IGNoYW5nZSBvbiBldmVyeSByZW5kZXIgYnV0IG9ubHkgd2hlbiB0aGUgdGhyZWFkIGNoYW5nZXNcbiAgICogTWVtbyBpcyB1c2VkIHRvIG9wdGltaXplIHBlcmZvcm1hbmNlIGFuZCBhdm9pZCB1bm5lY2Vzc2FyeSByZS1yZW5kZXJzLlxuICAgKlxuICAgKiB1c2VNZW1vOiBodHRwczovL3JlYWN0LmRldi9yZWZlcmVuY2UvcmVhY3QvdXNlTWVtb1xuICAgKi9cblxuICBjb25zdCBtZW1vaXplZENvbnRlbnQgPSB1c2VNZW1vKFxuICAgICgpID0+IChcbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3NOYW1lPSdhYnNvbHV0ZSBmbGV4IGN1cnNvci1wb2ludGVyIGdhcC00J1xuICAgICAgICB7Li4ucHJvcHN9XG4gICAgICAgIG9uQ2xpY2s9eyhlOiBhbnkpID0+IHtcbiAgICAgICAgICBvbkZvY3VzKHRocmVhZC5pZCk7XG5cbiAgICAgICAgICAvLyBjaGVjayBpZiBjbGljayBpcyBvbi9pbiB0aGUgY29tcG9zZXJcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICBlLnRhcmdldCAmJlxuICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGItaWNvblwiKSAmJlxuICAgICAgICAgICAgZS50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibGItYnV0dG9uLWljb25cIilcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZXRNaW5pbWl6ZWQoIW1pbmltaXplZCk7XG4gICAgICAgIH19XG4gICAgICA+XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzc05hbWU9J3JlbGF0aXZlIGZsZXggaC05IHctOSBzZWxlY3Qtbm9uZSBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgcm91bmRlZC1ibC1mdWxsIHJvdW5kZWQtYnItZnVsbCByb3VuZGVkLXRsLW1kIHJvdW5kZWQtdHItZnVsbCBiZy13aGl0ZSBzaGFkb3cnXG4gICAgICAgICAgZGF0YS1kcmFnZ2FibGU9e3RydWV9XG4gICAgICAgID5cbiAgICAgICAgICA8SW1hZ2VcbiAgICAgICAgICAgIHNyYz17YGh0dHBzOi8vbGl2ZWJsb2Nrcy5pby9hdmF0YXJzL2F2YXRhci0ke01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDMwKX0ucG5nYH1cbiAgICAgICAgICAgIGFsdD0nRHVtbXkgTmFtZSdcbiAgICAgICAgICAgIHdpZHRoPXsyOH1cbiAgICAgICAgICAgIGhlaWdodD17Mjh9XG4gICAgICAgICAgICBkcmFnZ2FibGU9e2ZhbHNlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPSdyb3VuZGVkLWZ1bGwnXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIHshbWluaW1pemVkID8gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPSdmbGV4IG1pbi13LTYwIGZsZXgtY29sIG92ZXJmbG93LWhpZGRlbiByb3VuZGVkLWxnIGJnLXdoaXRlIHRleHQtc20gc2hhZG93Jz5cbiAgICAgICAgICAgIDxUaHJlYWRcbiAgICAgICAgICAgICAgdGhyZWFkPXt0aHJlYWR9XG4gICAgICAgICAgICAgIGluZGVudENvbW1lbnRDb250ZW50PXtmYWxzZX1cbiAgICAgICAgICAgICAgb25LZXlVcD17KGUpID0+IHtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKSA6IG51bGx9XG4gICAgICA8L2Rpdj5cbiAgICApLFxuICAgIFt0aHJlYWQuY29tbWVudHMubGVuZ3RoLCBtaW5pbWl6ZWRdXG4gICk7XG5cbiAgcmV0dXJuIDw+e21lbW9pemVkQ29udGVudH08Lz47XG59O1xuIl0sIm5hbWVzIjpbIkltYWdlIiwidXNlTWVtbyIsInVzZVN0YXRlIiwiVGhyZWFkIiwiUGlubmVkVGhyZWFkIiwidGhyZWFkIiwib25Gb2N1cyIsInByb3BzIiwic3RhcnRNaW5pbWl6ZWQiLCJOdW1iZXIiLCJEYXRlIiwiY3JlYXRlZEF0IiwibWluaW1pemVkIiwic2V0TWluaW1pemVkIiwibWVtb2l6ZWRDb250ZW50IiwiZGl2IiwiY2xhc3NOYW1lIiwib25DbGljayIsImUiLCJpZCIsInRhcmdldCIsImNsYXNzTGlzdCIsImNvbnRhaW5zIiwiZGF0YS1kcmFnZ2FibGUiLCJzcmMiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJhbHQiLCJ3aWR0aCIsImhlaWdodCIsImRyYWdnYWJsZSIsImluZGVudENvbW1lbnRDb250ZW50Iiwib25LZXlVcCIsInN0b3BQcm9wYWdhdGlvbiIsImNvbW1lbnRzIiwibGVuZ3RoIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./components/comments/PinnedThread.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/useMaxZIndex.ts":
/*!*****************************!*\
  !*** ./lib/useMaxZIndex.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useMaxZIndex: function() { return /* binding */ useMaxZIndex; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _liveblocks_config__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/liveblocks.config */ \"(app-pages-browser)/./liveblocks.config.ts\");\n\n\n// Returns the highest z-index of all threads\nconst useMaxZIndex = ()=>{\n    // get all threads\n    const { threads } = (0,_liveblocks_config__WEBPACK_IMPORTED_MODULE_1__.useThreads)();\n    // calculate the max z-index\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        let max = 0;\n        for (const thread of threads){\n            // @ts-ignore\n            if (thread.metadata.zIndex > max) {\n                // @ts-ignore\n                max = thread.metadata.zIndex;\n            }\n        }\n        return max;\n    }, [\n        threads\n    ]);\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi91c2VNYXhaSW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFnQztBQUVpQjtBQUVqRCw2Q0FBNkM7QUFDdEMsTUFBTUUsZUFBZTtJQUMxQixrQkFBa0I7SUFDbEIsTUFBTSxFQUFFQyxPQUFPLEVBQUUsR0FBR0YsOERBQVVBO0lBRTlCLDRCQUE0QjtJQUM1QixPQUFPRCw4Q0FBT0EsQ0FBQztRQUNiLElBQUlJLE1BQU07UUFDVixLQUFLLE1BQU1DLFVBQVVGLFFBQVM7WUFDNUIsYUFBYTtZQUNiLElBQUlFLE9BQU9DLFFBQVEsQ0FBQ0MsTUFBTSxHQUFHSCxLQUFLO2dCQUNoQyxhQUFhO2dCQUNiQSxNQUFNQyxPQUFPQyxRQUFRLENBQUNDLE1BQU07WUFDOUI7UUFDRjtRQUNBLE9BQU9IO0lBQ1QsR0FBRztRQUFDRDtLQUFRO0FBQ2QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvdXNlTWF4WkluZGV4LnRzPzk3OWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlTWVtbyB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbXBvcnQgeyB1c2VUaHJlYWRzIH0gZnJvbSBcIkAvbGl2ZWJsb2Nrcy5jb25maWdcIjtcblxuLy8gUmV0dXJucyB0aGUgaGlnaGVzdCB6LWluZGV4IG9mIGFsbCB0aHJlYWRzXG5leHBvcnQgY29uc3QgdXNlTWF4WkluZGV4ID0gKCkgPT4ge1xuICAvLyBnZXQgYWxsIHRocmVhZHNcbiAgY29uc3QgeyB0aHJlYWRzIH0gPSB1c2VUaHJlYWRzKCk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSBtYXggei1pbmRleFxuICByZXR1cm4gdXNlTWVtbygoKSA9PiB7XG4gICAgbGV0IG1heCA9IDA7XG4gICAgZm9yIChjb25zdCB0aHJlYWQgb2YgdGhyZWFkcykge1xuICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgaWYgKHRocmVhZC5tZXRhZGF0YS56SW5kZXggPiBtYXgpIHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBtYXggPSB0aHJlYWQubWV0YWRhdGEuekluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWF4O1xuICB9LCBbdGhyZWFkc10pO1xufTtcbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwidXNlVGhyZWFkcyIsInVzZU1heFpJbmRleCIsInRocmVhZHMiLCJtYXgiLCJ0aHJlYWQiLCJtZXRhZGF0YSIsInpJbmRleCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/useMaxZIndex.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components.mjs ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComponentsContext: function() { return /* binding */ ComponentsContext; },\n/* harmony export */   ComponentsProvider: function() { return /* binding */ ComponentsProvider; },\n/* harmony export */   defaultComponents: function() { return /* binding */ defaultComponents; },\n/* harmony export */   useComponents: function() { return /* binding */ useComponents; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* __next_internal_client_entry_do_not_use__ ComponentsContext,ComponentsProvider,defaultComponents,useComponents auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst defaultComponents = {\n    Anchor: \"a\"\n};\nconst ComponentsContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useComponents(components) {\n    _s();\n    const contextComponents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComponentsContext);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultComponents,\n            ...contextComponents,\n            ...components\n        }), [\n        contextComponents,\n        components\n    ]);\n}\n_s(useComponents, \"FcZoNO24HXzM5P6P848XEnnFz2s=\");\nfunction ComponentsProvider(param) {\n    let { children, components: providerComponents } = param;\n    _s1();\n    const contextComponents = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComponentsContext);\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultComponents,\n            ...contextComponents,\n            ...providerComponents\n        }), [\n        contextComponents,\n        providerComponents\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComponentsContext.Provider, {\n        value: components\n    }, children);\n}\n_s1(ComponentsProvider, \"bahPNdhlb5a2XaeeNdcAk+O1i6A=\");\n_c = ComponentsProvider;\n //# sourceMappingURL=components.mjs.map\nvar _c;\n$RefreshReg$(_c, \"ComponentsProvider\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUMrQjtBQUM0QjtBQUUzRCxNQUFNSSxvQkFBb0I7SUFDeEJDLFFBQVE7QUFDVjtBQUNBLE1BQU1DLGtDQUFvQkwsb0RBQWFBLENBQ3JDLEtBQUs7QUFFUCxTQUFTTSxjQUFjQyxVQUFVOztJQUMvQixNQUFNQyxvQkFBb0JQLGlEQUFVQSxDQUFDSTtJQUNyQyxPQUFPSCw4Q0FBT0EsQ0FDWixJQUFPO1lBQ0wsR0FBR0MsaUJBQWlCO1lBQ3BCLEdBQUdLLGlCQUFpQjtZQUNwQixHQUFHRCxVQUFVO1FBQ2YsSUFDQTtRQUFDQztRQUFtQkQ7S0FBVztBQUVuQztHQVZTRDtBQVdULFNBQVNHLG1CQUFtQixLQUczQjtRQUgyQixFQUMxQkMsUUFBUSxFQUNSSCxZQUFZSSxrQkFBa0IsRUFDL0IsR0FIMkI7O0lBSTFCLE1BQU1ILG9CQUFvQlAsaURBQVVBLENBQUNJO0lBQ3JDLE1BQU1FLGFBQWFMLDhDQUFPQSxDQUN4QixJQUFPO1lBQ0wsR0FBR0MsaUJBQWlCO1lBQ3BCLEdBQUdLLGlCQUFpQjtZQUNwQixHQUFHRyxrQkFBa0I7UUFDdkIsSUFDQTtRQUFDSDtRQUFtQkc7S0FBbUI7SUFFekMsT0FBTyxhQUFhLGlCQUFHWixnREFBbUIsQ0FBQ00sa0JBQWtCUSxRQUFRLEVBQUU7UUFDckVDLE9BQU9QO0lBQ1QsR0FBR0c7QUFDTDtJQWhCU0Q7S0FBQUE7QUFrQjBFLENBQ25GLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb21wb25lbnRzLm1qcz9hOWVkIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0ge1xuICBBbmNob3I6IFwiYVwiXG59O1xuY29uc3QgQ29tcG9uZW50c0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KFxuICB2b2lkIDBcbik7XG5mdW5jdGlvbiB1c2VDb21wb25lbnRzKGNvbXBvbmVudHMpIHtcbiAgY29uc3QgY29udGV4dENvbXBvbmVudHMgPSB1c2VDb250ZXh0KENvbXBvbmVudHNDb250ZXh0KTtcbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIC4uLmRlZmF1bHRDb21wb25lbnRzLFxuICAgICAgLi4uY29udGV4dENvbXBvbmVudHMsXG4gICAgICAuLi5jb21wb25lbnRzXG4gICAgfSksXG4gICAgW2NvbnRleHRDb21wb25lbnRzLCBjb21wb25lbnRzXVxuICApO1xufVxuZnVuY3Rpb24gQ29tcG9uZW50c1Byb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG4gIGNvbXBvbmVudHM6IHByb3ZpZGVyQ29tcG9uZW50c1xufSkge1xuICBjb25zdCBjb250ZXh0Q29tcG9uZW50cyA9IHVzZUNvbnRleHQoQ29tcG9uZW50c0NvbnRleHQpO1xuICBjb25zdCBjb21wb25lbnRzID0gdXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgLi4uZGVmYXVsdENvbXBvbmVudHMsXG4gICAgICAuLi5jb250ZXh0Q29tcG9uZW50cyxcbiAgICAgIC4uLnByb3ZpZGVyQ29tcG9uZW50c1xuICAgIH0pLFxuICAgIFtjb250ZXh0Q29tcG9uZW50cywgcHJvdmlkZXJDb21wb25lbnRzXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29tcG9uZW50c1xuICB9LCBjaGlsZHJlbik7XG59XG5cbmV4cG9ydCB7IENvbXBvbmVudHNDb250ZXh0LCBDb21wb25lbnRzUHJvdmlkZXIsIGRlZmF1bHRDb21wb25lbnRzLCB1c2VDb21wb25lbnRzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wb25lbnRzLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlTWVtbyIsImRlZmF1bHRDb21wb25lbnRzIiwiQW5jaG9yIiwiQ29tcG9uZW50c0NvbnRleHQiLCJ1c2VDb21wb25lbnRzIiwiY29tcG9uZW50cyIsImNvbnRleHRDb21wb25lbnRzIiwiQ29tcG9uZW50c1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJwcm92aWRlckNvbXBvbmVudHMiLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Comment.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/Comment.mjs ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Comment: function() { return /* binding */ Comment; },\n/* harmony export */   CommentLink: function() { return /* binding */ CommentLink; },\n/* harmony export */   CommentMention: function() { return /* binding */ CommentMention; },\n/* harmony export */   CommentNonInteractiveLink: function() { return /* binding */ CommentNonInteractiveLink; },\n/* harmony export */   CommentNonInteractiveReaction: function() { return /* binding */ CommentNonInteractiveReaction; },\n/* harmony export */   CommentReaction: function() { return /* binding */ CommentReaction; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_toggle__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @radix-ui/react-toggle */ \"(app-pages-browser)/./node_modules/@radix-ui/react-toggle/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _icons_Check_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../icons/Check.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Check.mjs\");\n/* harmony import */ var _icons_Cross_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../icons/Cross.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Cross.mjs\");\n/* harmony import */ var _icons_Delete_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../icons/Delete.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Delete.mjs\");\n/* harmony import */ var _icons_Edit_mjs__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../icons/Edit.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Edit.mjs\");\n/* harmony import */ var _icons_Ellipsis_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../icons/Ellipsis.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Ellipsis.mjs\");\n/* harmony import */ var _icons_EmojiAdd_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../icons/EmojiAdd.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/EmojiAdd.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _primitives_Comment_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../primitives/Comment/index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/index.mjs\");\n/* harmony import */ var _primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../primitives/Composer/index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/index.mjs\");\n/* harmony import */ var _primitives_Timestamp_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../primitives/Timestamp.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Timestamp.mjs\");\n/* harmony import */ var _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../slate/plugins/mentions.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../utils/use-refs.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-refs.mjs\");\n/* harmony import */ var _utils_use_visible_mjs__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../utils/use-visible.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-visible.mjs\");\n/* harmony import */ var _Composer_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Composer.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Composer.mjs\");\n/* harmony import */ var _internal_Avatar_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./internal/Avatar.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Avatar.mjs\");\n/* harmony import */ var _internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./internal/Button.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs\");\n/* harmony import */ var _internal_Dropdown_mjs__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./internal/Dropdown.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Dropdown.mjs\");\n/* harmony import */ var _internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal/Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs\");\n/* harmony import */ var _internal_EmojiPicker_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./internal/EmojiPicker.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/EmojiPicker.mjs\");\n/* harmony import */ var _internal_List_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./internal/List.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/List.mjs\");\n/* harmony import */ var _internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internal/Tooltip.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs\");\n/* harmony import */ var _internal_User_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/User.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/User.mjs\");\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @radix-ui/react-dropdown-menu */ \"(app-pages-browser)/./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ Comment,CommentLink,CommentMention,CommentNonInteractiveLink,CommentNonInteractiveReaction,CommentReaction auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst REACTIONS_TRUNCATE = 5;\nfunction CommentMention(param) {\n    let { userId, className, ...props } = param;\n    _s();\n    const { [_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.kInternal]: { useCurrentUserId } } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle)();\n    const currentId = useCurrentUserId();\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Comment_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Mention, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-comment-mention\", className),\n        \"data-self\": userId === currentId ? \"\" : void 0,\n        ...props\n    }, _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_5__.MENTION_CHARACTER, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_User_mjs__WEBPACK_IMPORTED_MODULE_6__.User, {\n        userId\n    }));\n}\n_s(CommentMention, \"7KU9xbNS6t8l1N4pFLoxO16qv/g=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle\n    ];\n});\n_c = CommentMention;\nfunction CommentLink(param) {\n    let { href, children, className, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Comment_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Link, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-comment-link\", className),\n        href,\n        ...props\n    }, children);\n}\n_c1 = CommentLink;\nfunction CommentNonInteractiveLink(param) {\n    let { href: _href, children, className, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-comment-link\", className),\n        ...props\n    }, children);\n}\n_c2 = CommentNonInteractiveLink;\nconst CommentReactionButton = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s1((param, forwardedRef)=>{\n    let { reaction, overrides, className, ...props } = param;\n    _s1();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides)(overrides);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-comment-reaction\", className),\n        variant: \"outline\",\n        \"aria-label\": $.COMMENT_REACTION_DESCRIPTION(reaction.emoji, reaction.users.length),\n        ...props,\n        ref: forwardedRef\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_9__.Emoji, {\n        className: \"lb-comment-reaction-emoji\",\n        emoji: reaction.emoji\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-comment-reaction-count\"\n    }, reaction.users.length));\n}, \"HkLzMvR9RHfM6gTz7aUWSvecpO4=\", false, function() {\n    return [\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides\n    ];\n}));\n_c3 = CommentReactionButton;\nconst CommentReaction = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s2((param, forwardedRef)=>{\n    let { comment, reaction, overrides, disabled, ...props } = param;\n    _s2();\n    const { useAddReaction, useRemoveReaction } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useRoomContextBundle)();\n    const addReaction = useAddReaction();\n    const removeReaction = useRemoveReaction();\n    const { [_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.kInternal]: { useCurrentUserId } } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle)();\n    const currentId = useCurrentUserId();\n    const isActive = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return reaction.users.some((users)=>users.id === currentId);\n    }, [\n        currentId,\n        reaction\n    ]);\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides)(overrides);\n    const tooltipContent = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, $.COMMENT_REACTION_LIST(/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_List_mjs__WEBPACK_IMPORTED_MODULE_10__.List, {\n            values: reaction.users.map((users, index)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_User_mjs__WEBPACK_IMPORTED_MODULE_6__.User, {\n                    key: users.id,\n                    userId: users.id,\n                    capitalize: index === 0,\n                    replaceSelf: true\n                })),\n            formatRemaining: $.LIST_REMAINING_USERS,\n            truncate: REACTIONS_TRUNCATE\n        }), reaction.emoji, reaction.users.length)), [\n        $,\n        reaction\n    ]);\n    const handlePressedChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((isPressed)=>{\n        if (isPressed) {\n            addReaction({\n                threadId: comment.threadId,\n                commentId: comment.id,\n                emoji: reaction.emoji\n            });\n        } else {\n            removeReaction({\n                threadId: comment.threadId,\n                commentId: comment.id,\n                emoji: reaction.emoji\n            });\n        }\n    }, [\n        addReaction,\n        comment.threadId,\n        comment.id,\n        reaction.emoji,\n        removeReaction\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n        content: tooltipContent,\n        multiline: true,\n        className: \"lb-comment-reaction-tooltip\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_toggle__WEBPACK_IMPORTED_MODULE_12__.Root, {\n        asChild: true,\n        pressed: isActive,\n        onPressedChange: handlePressedChange,\n        disabled,\n        ref: forwardedRef\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentReactionButton, {\n        \"data-self\": isActive ? \"\" : void 0,\n        reaction,\n        overrides,\n        ...props\n    })));\n}, \"xfcvt/D6Tt1wAAiOFjk227Dvfv4=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useRoomContextBundle,\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides\n    ];\n}));\n_c4 = CommentReaction;\nconst CommentNonInteractiveReaction = /*#__PURE__*/ _s3((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c5 = _s3((param, forwardedRef)=>{\n    let { reaction, overrides, ...props } = param;\n    _s3();\n    const { [_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.kInternal]: { useCurrentUserId } } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle)();\n    const currentId = useCurrentUserId();\n    const isActive = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return reaction.users.some((users)=>users.id === currentId);\n    }, [\n        currentId,\n        reaction\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentReactionButton, {\n        disableable: false,\n        \"data-self\": isActive ? \"\" : void 0,\n        reaction,\n        overrides,\n        ...props,\n        ref: forwardedRef\n    });\n}, \"qrSiYM9n7lVt+p0KLqdv7djR0vc=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle\n    ];\n})), \"qrSiYM9n7lVt+p0KLqdv7djR0vc=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle\n    ];\n});\n_c6 = CommentNonInteractiveReaction;\nconst Comment = /*#__PURE__*/ _s4((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c7 = _s4((param, forwardedRef)=>{\n    let { comment, indentContent = true, showDeleted, showActions = \"hover\", showReactions = true, onAuthorClick, onMentionClick, onCommentEdit, onCommentDelete, overrides, className, additionalActions, additionalActionsClassName, markThreadAsReadWhenVisible, ...props } = param;\n    _s4();\n    const { useDeleteComment, useEditComment, useAddReaction, useRemoveReaction, useMarkThreadAsRead, useSelf } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useRoomContextBundle)();\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const mergedRefs = (0,_utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_13__.useRefs)(forwardedRef, ref);\n    const self = useSelf();\n    const deleteComment = useDeleteComment();\n    const editComment = useEditComment();\n    const addReaction = useAddReaction();\n    const removeReaction = useRemoveReaction();\n    const markThreadAsRead = useMarkThreadAsRead();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides)(overrides);\n    const [isEditing, setEditing] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isTarget, setTarget] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isMoreActionOpen, setMoreActionOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [isReactionActionOpen, setReactionActionOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const markVisibleThreadAsRead = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (markThreadAsReadWhenVisible) {\n            markThreadAsRead(markThreadAsReadWhenVisible);\n        }\n    }, [\n        markThreadAsRead,\n        markThreadAsReadWhenVisible\n    ]);\n    (0,_utils_use_visible_mjs__WEBPACK_IMPORTED_MODULE_14__.useVisibleCallback)(ref, markVisibleThreadAsRead, {\n        enabled: Boolean(markThreadAsReadWhenVisible)\n    });\n    const stopPropagation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.stopPropagation();\n    }, []);\n    const handleEdit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setEditing(true);\n    }, []);\n    const handleEditCancel = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.stopPropagation();\n        setEditing(false);\n    }, []);\n    const handleEditSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((param, event)=>{\n        let { body } = param;\n        onCommentEdit === null || onCommentEdit === void 0 ? void 0 : onCommentEdit(comment);\n        event.preventDefault();\n        setEditing(false);\n        editComment({\n            commentId: comment.id,\n            threadId: comment.threadId,\n            body\n        });\n    }, [\n        comment,\n        editComment,\n        onCommentEdit\n    ]);\n    const handleDelete = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        onCommentDelete === null || onCommentDelete === void 0 ? void 0 : onCommentDelete(comment);\n        deleteComment({\n            commentId: comment.id,\n            threadId: comment.threadId\n        });\n    }, [\n        comment,\n        deleteComment,\n        onCommentDelete\n    ]);\n    const handleAuthorClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onAuthorClick === null || onAuthorClick === void 0 ? void 0 : onAuthorClick(comment.userId, event);\n    }, [\n        comment.userId,\n        onAuthorClick\n    ]);\n    const handleReactionSelect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((emoji)=>{\n        const reactionIndex = comment.reactions.findIndex((reaction)=>reaction.emoji === emoji);\n        if (reactionIndex >= 0 && (self === null || self === void 0 ? void 0 : self.id) && comment.reactions[reactionIndex].users.some((user)=>user.id === (self === null || self === void 0 ? void 0 : self.id))) {\n            removeReaction({\n                threadId: comment.threadId,\n                commentId: comment.id,\n                emoji\n            });\n        } else {\n            addReaction({\n                threadId: comment.threadId,\n                commentId: comment.id,\n                emoji\n            });\n        }\n    }, [\n        addReaction,\n        comment.id,\n        comment.reactions,\n        comment.threadId,\n        removeReaction,\n        self === null || self === void 0 ? void 0 : self.id\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        const isWindowDefined = typeof window !== \"undefined\";\n        if (!isWindowDefined) return;\n        const hash = window.location.hash;\n        const commentId = hash.slice(1);\n        if (commentId === comment.id) {\n            setTarget(true);\n        }\n    }, []);\n    if (!showDeleted && !comment.body) {\n        return null;\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_15__.TooltipProvider, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        id: comment.id,\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-root lb-comment\", indentContent && \"lb-comment:indent-content\", showActions === \"hover\" && \"lb-comment:show-actions-hover\", (isMoreActionOpen || isReactionActionOpen) && \"lb-comment:action-open\", className),\n        \"data-deleted\": !comment.body ? \"\" : void 0,\n        \"data-editing\": isEditing ? \"\" : void 0,\n        \"data-target\": isTarget ? \"\" : void 0,\n        dir: $.dir,\n        ...props,\n        ref: mergedRefs\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-comment-header\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-comment-details\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Avatar_mjs__WEBPACK_IMPORTED_MODULE_16__.Avatar, {\n        className: \"lb-comment-avatar\",\n        userId: comment.userId,\n        onClick: handleAuthorClick\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-comment-details-labels\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_User_mjs__WEBPACK_IMPORTED_MODULE_6__.User, {\n        className: \"lb-comment-author\",\n        userId: comment.userId,\n        onClick: handleAuthorClick\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-comment-date\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Timestamp_mjs__WEBPACK_IMPORTED_MODULE_17__.Timestamp, {\n        locale: $.locale,\n        date: comment.createdAt,\n        className: \"lb-comment-date-created\"\n    }), comment.editedAt && comment.body && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \" \", /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-comment-date-edited\"\n    }, $.COMMENT_EDITED))))), showActions && !isEditing && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-comment-actions\", additionalActionsClassName)\n    }, additionalActions !== null && additionalActions !== void 0 ? additionalActions : null, showReactions && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_EmojiPicker_mjs__WEBPACK_IMPORTED_MODULE_18__.EmojiPicker, {\n        onEmojiSelect: handleReactionSelect,\n        onOpenChange: setReactionActionOpen\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n        content: $.COMMENT_ADD_REACTION\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_19__.PopoverTrigger, {\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        className: \"lb-comment-action\",\n        onClick: stopPropagation,\n        \"aria-label\": $.COMMENT_ADD_REACTION\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_EmojiAdd_mjs__WEBPACK_IMPORTED_MODULE_20__.EmojiAddIcon, {\n        className: \"lb-button-icon\"\n    }))))), comment.userId === (self === null || self === void 0 ? void 0 : self.id) && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Dropdown_mjs__WEBPACK_IMPORTED_MODULE_21__.Dropdown, {\n        open: isMoreActionOpen,\n        onOpenChange: setMoreActionOpen,\n        align: \"end\",\n        content: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Dropdown_mjs__WEBPACK_IMPORTED_MODULE_21__.DropdownItem, {\n            onSelect: handleEdit,\n            onClick: stopPropagation\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Edit_mjs__WEBPACK_IMPORTED_MODULE_22__.EditIcon, {\n            className: \"lb-dropdown-item-icon\"\n        }), $.COMMENT_EDIT), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Dropdown_mjs__WEBPACK_IMPORTED_MODULE_21__.DropdownItem, {\n            onSelect: handleDelete,\n            onClick: stopPropagation\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Delete_mjs__WEBPACK_IMPORTED_MODULE_23__.DeleteIcon, {\n            className: \"lb-dropdown-item-icon\"\n        }), $.COMMENT_DELETE))\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n        content: $.COMMENT_MORE\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_24__.DropdownMenuTrigger, {\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        className: \"lb-comment-action\",\n        disabled: !comment.body,\n        onClick: stopPropagation,\n        \"aria-label\": $.COMMENT_MORE\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Ellipsis_mjs__WEBPACK_IMPORTED_MODULE_25__.EllipsisIcon, {\n        className: \"lb-button-icon\"\n    }))))))), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-comment-content\"\n    }, isEditing ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Composer_mjs__WEBPACK_IMPORTED_MODULE_26__.Composer, {\n        className: \"lb-comment-composer\",\n        onComposerSubmit: handleEditSubmit,\n        defaultValue: comment.body,\n        autoFocus: true,\n        showAttribution: false,\n        actions: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n            content: $.COMMENT_EDIT_COMPOSER_CANCEL,\n            \"aria-label\": $.COMMENT_EDIT_COMPOSER_CANCEL\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n            className: \"lb-composer-action\",\n            onClick: handleEditCancel\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Cross_mjs__WEBPACK_IMPORTED_MODULE_27__.CrossIcon, {\n            className: \"lb-button-icon\"\n        }))), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.ShortcutTooltip, {\n            content: $.COMMENT_EDIT_COMPOSER_SAVE,\n            shortcut: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.ShortcutTooltipKey, {\n                name: \"enter\"\n            })\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_28__.Submit, {\n            asChild: true\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n            variant: \"primary\",\n            className: \"lb-composer-action\",\n            onClick: stopPropagation,\n            \"aria-label\": $.COMMENT_EDIT_COMPOSER_SAVE\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Check_mjs__WEBPACK_IMPORTED_MODULE_29__.CheckIcon, {\n            className: \"lb-button-icon\"\n        }))))),\n        overrides: {\n            COMPOSER_PLACEHOLDER: $.COMMENT_EDIT_COMPOSER_PLACEHOLDER\n        }\n    }) : comment.body ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Comment_index_mjs__WEBPACK_IMPORTED_MODULE_3__.Body, {\n        className: \"lb-comment-body\",\n        body: comment.body,\n        components: {\n            Mention: (param)=>{\n                let { userId } = param;\n                return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentMention, {\n                    userId,\n                    onClick: (event)=>onMentionClick === null || onMentionClick === void 0 ? void 0 : onMentionClick(userId, event)\n                });\n            },\n            Link: CommentLink\n        }\n    }), showReactions && comment.reactions.length > 0 && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-comment-reactions\"\n    }, comment.reactions.map((reaction)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentReaction, {\n            key: reaction.emoji,\n            comment,\n            reaction,\n            overrides\n        })), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_EmojiPicker_mjs__WEBPACK_IMPORTED_MODULE_18__.EmojiPicker, {\n        onEmojiSelect: handleReactionSelect\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_11__.Tooltip, {\n        content: $.COMMENT_ADD_REACTION\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_19__.PopoverTrigger, {\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_8__.Button, {\n        className: \"lb-comment-reaction lb-comment-reaction-add\",\n        variant: \"outline\",\n        onClick: stopPropagation,\n        \"aria-label\": $.COMMENT_ADD_REACTION\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_EmojiAdd_mjs__WEBPACK_IMPORTED_MODULE_20__.EmojiAddIcon, {\n        className: \"lb-button-icon\"\n    }))))))) : /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-comment-body\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n        className: \"lb-comment-deleted\"\n    }, $.COMMENT_DELETED)))));\n}, \"qpgvxJg88Hd/fq86tLO7rH+ngyw=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useRoomContextBundle,\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_13__.useRefs,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides,\n        _utils_use_visible_mjs__WEBPACK_IMPORTED_MODULE_14__.useVisibleCallback\n    ];\n})), \"qpgvxJg88Hd/fq86tLO7rH+ngyw=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useRoomContextBundle,\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_13__.useRefs,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_7__.useOverrides,\n        _utils_use_visible_mjs__WEBPACK_IMPORTED_MODULE_14__.useVisibleCallback\n    ];\n});\n_c8 = Comment;\n //# sourceMappingURL=Comment.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"CommentMention\");\n$RefreshReg$(_c1, \"CommentLink\");\n$RefreshReg$(_c2, \"CommentNonInteractiveLink\");\n$RefreshReg$(_c3, \"CommentReactionButton\");\n$RefreshReg$(_c4, \"CommentReaction\");\n$RefreshReg$(_c5, \"CommentNonInteractiveReaction$forwardRef\");\n$RefreshReg$(_c6, \"CommentNonInteractiveReaction\");\n$RefreshReg$(_c7, \"Comment$forwardRef\");\n$RefreshReg$(_c8, \"Comment\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvQ29tbWVudC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUM2QztBQUNvQztBQUN2QjtBQUM0QztBQUN2RDtBQUNBO0FBQ0U7QUFDSjtBQUNRO0FBQ0E7QUFDTDtBQUMwRTtBQUM5QztBQUNwQjtBQUNVO0FBQ1o7QUFDTjtBQUNjO0FBQ3BCO0FBQ0s7QUFDQTtBQUNrQjtBQUNwQjtBQUNZO0FBQ2Q7QUFDMkM7QUFDM0M7QUFDZTtBQUNEO0FBQ1c7QUFFcEUsTUFBTThDLHFCQUFxQjtBQUMzQixTQUFTQyxlQUFlLEtBSXZCO1FBSnVCLEVBQ3RCQyxNQUFNLEVBQ05DLFNBQVMsRUFDVCxHQUFHQyxPQUNKLEdBSnVCOztJQUt0QixNQUFNLEVBQ0osQ0FBQ2xELHVEQUFTQSxDQUFDLEVBQUUsRUFBRW1ELGdCQUFnQixFQUFFLEVBQ2xDLEdBQUdqRCx5RUFBc0JBO0lBQzFCLE1BQU1rRCxZQUFZRDtJQUNsQixPQUFPLGFBQWEsaUJBQUcvQyxnREFBNEIsQ0FBQ2lCLGtFQUFnQkEsRUFBRTtRQUNwRTRCLFdBQVdyQixrRUFBVUEsQ0FBQyxzQkFBc0JxQjtRQUM1QyxhQUFhRCxXQUFXSSxZQUFZLEtBQUssS0FBSztRQUM5QyxHQUFHRixLQUFLO0lBQ1YsR0FBR3ZCLDBFQUFpQkEsRUFBRSxhQUFhLGlCQUFHdkIsZ0RBQTRCLENBQUNzQyxvREFBSUEsRUFBRTtRQUN2RU07SUFDRjtBQUNGO0dBaEJTRDs7UUFPSDdDLHFFQUFzQkE7OztLQVBuQjZDO0FBaUJULFNBQVNPLFlBQVksS0FLcEI7UUFMb0IsRUFDbkJDLElBQUksRUFDSkMsUUFBUSxFQUNSUCxTQUFTLEVBQ1QsR0FBR0MsT0FDSixHQUxvQjtJQU1uQixPQUFPLGFBQWEsaUJBQUc5QyxnREFBNEIsQ0FBQ21CLCtEQUFh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QWU7QUFDdEI7O1FBOVBNdEwsbUVBQW9CQTtRQUVMNEIseURBQU9BO1FBT2hCWix3REFBWUE7UUFVdEJhLHVFQUFrQkE7Ozs7UUFuQmQ3QixtRUFBb0JBO1FBRUw0Qix5REFBT0E7UUFPaEJaLHdEQUFZQTtRQVV0QmEsdUVBQWtCQTs7OztBQThPcUcsQ0FDM0gsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvQ29tbWVudC5tanM/ZGZhYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBrSW50ZXJuYWwgfSBmcm9tICdAbGl2ZWJsb2Nrcy9jb3JlJztcbmltcG9ydCB7IHVzZVJvb21Db250ZXh0QnVuZGxlLCB1c2VTaGFyZWRDb250ZXh0QnVuZGxlIH0gZnJvbSAnQGxpdmVibG9ja3MvcmVhY3QnO1xuaW1wb3J0ICogYXMgVG9nZ2xlUHJpbWl0aXZlIGZyb20gJ0ByYWRpeC11aS9yZWFjdC10b2dnbGUnO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYsIHVzZU1lbW8sIHVzZUNhbGxiYWNrLCB1c2VSZWYsIHVzZVN0YXRlLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGVja0ljb24gfSBmcm9tICcuLi9pY29ucy9DaGVjay5tanMnO1xuaW1wb3J0IHsgQ3Jvc3NJY29uIH0gZnJvbSAnLi4vaWNvbnMvQ3Jvc3MubWpzJztcbmltcG9ydCB7IERlbGV0ZUljb24gfSBmcm9tICcuLi9pY29ucy9EZWxldGUubWpzJztcbmltcG9ydCB7IEVkaXRJY29uIH0gZnJvbSAnLi4vaWNvbnMvRWRpdC5tanMnO1xuaW1wb3J0IHsgRWxsaXBzaXNJY29uIH0gZnJvbSAnLi4vaWNvbnMvRWxsaXBzaXMubWpzJztcbmltcG9ydCB7IEVtb2ppQWRkSWNvbiB9IGZyb20gJy4uL2ljb25zL0Vtb2ppQWRkLm1qcyc7XG5pbXBvcnQgeyB1c2VPdmVycmlkZXMgfSBmcm9tICcuLi9vdmVycmlkZXMubWpzJztcbmltcG9ydCB7IEJvZHkgYXMgQ29tbWVudEJvZHksIE1lbnRpb24gYXMgQ29tbWVudE1lbnRpb24kMSwgTGluayBhcyBDb21tZW50TGluayQxIH0gZnJvbSAnLi4vcHJpbWl0aXZlcy9Db21tZW50L2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBTdWJtaXQgYXMgQ29tcG9zZXJTdWJtaXQgfSBmcm9tICcuLi9wcmltaXRpdmVzL0NvbXBvc2VyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBUaW1lc3RhbXAgfSBmcm9tICcuLi9wcmltaXRpdmVzL1RpbWVzdGFtcC5tanMnO1xuaW1wb3J0IHsgTUVOVElPTl9DSEFSQUNURVIgfSBmcm9tICcuLi9zbGF0ZS9wbHVnaW5zL21lbnRpb25zLm1qcyc7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSAnLi4vdXRpbHMvY2xhc3MtbmFtZXMubWpzJztcbmltcG9ydCB7IHVzZVJlZnMgfSBmcm9tICcuLi91dGlscy91c2UtcmVmcy5tanMnO1xuaW1wb3J0IHsgdXNlVmlzaWJsZUNhbGxiYWNrIH0gZnJvbSAnLi4vdXRpbHMvdXNlLXZpc2libGUubWpzJztcbmltcG9ydCB7IENvbXBvc2VyIH0gZnJvbSAnLi9Db21wb3Nlci5tanMnO1xuaW1wb3J0IHsgQXZhdGFyIH0gZnJvbSAnLi9pbnRlcm5hbC9BdmF0YXIubWpzJztcbmltcG9ydCB7IEJ1dHRvbiB9IGZyb20gJy4vaW50ZXJuYWwvQnV0dG9uLm1qcyc7XG5pbXBvcnQgeyBEcm9wZG93biwgRHJvcGRvd25JdGVtIH0gZnJvbSAnLi9pbnRlcm5hbC9Ecm9wZG93bi5tanMnO1xuaW1wb3J0IHsgRW1vamkgfSBmcm9tICcuL2ludGVybmFsL0Vtb2ppLm1qcyc7XG5pbXBvcnQgeyBFbW9qaVBpY2tlciB9IGZyb20gJy4vaW50ZXJuYWwvRW1vamlQaWNrZXIubWpzJztcbmltcG9ydCB7IExpc3QgfSBmcm9tICcuL2ludGVybmFsL0xpc3QubWpzJztcbmltcG9ydCB7IFRvb2x0aXAsIFNob3J0Y3V0VG9vbHRpcCwgU2hvcnRjdXRUb29sdGlwS2V5IH0gZnJvbSAnLi9pbnRlcm5hbC9Ub29sdGlwLm1qcyc7XG5pbXBvcnQgeyBVc2VyIH0gZnJvbSAnLi9pbnRlcm5hbC9Vc2VyLm1qcyc7XG5pbXBvcnQgeyBUb29sdGlwUHJvdmlkZXIgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdG9vbHRpcCc7XG5pbXBvcnQgeyBQb3BvdmVyVHJpZ2dlciB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1wb3BvdmVyJztcbmltcG9ydCB7IERyb3Bkb3duTWVudVRyaWdnZXIgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtZHJvcGRvd24tbWVudSc7XG5cbmNvbnN0IFJFQUNUSU9OU19UUlVOQ0FURSA9IDU7XG5mdW5jdGlvbiBDb21tZW50TWVudGlvbih7XG4gIHVzZXJJZCxcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCB7XG4gICAgW2tJbnRlcm5hbF06IHsgdXNlQ3VycmVudFVzZXJJZCB9XG4gIH0gPSB1c2VTaGFyZWRDb250ZXh0QnVuZGxlKCk7XG4gIGNvbnN0IGN1cnJlbnRJZCA9IHVzZUN1cnJlbnRVc2VySWQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbW1lbnRNZW50aW9uJDEsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1jb21tZW50LW1lbnRpb25cIiwgY2xhc3NOYW1lKSxcbiAgICBcImRhdGEtc2VsZlwiOiB1c2VySWQgPT09IGN1cnJlbnRJZCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgLi4ucHJvcHNcbiAgfSwgTUVOVElPTl9DSEFSQUNURVIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFVzZXIsIHtcbiAgICB1c2VySWRcbiAgfSkpO1xufVxuZnVuY3Rpb24gQ29tbWVudExpbmsoe1xuICBocmVmLFxuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudExpbmskMSwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcImxiLWNvbW1lbnQtbGlua1wiLCBjbGFzc05hbWUpLFxuICAgIGhyZWYsXG4gICAgLi4ucHJvcHNcbiAgfSwgY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gQ29tbWVudE5vbkludGVyYWN0aXZlTGluayh7XG4gIGhyZWY6IF9ocmVmLFxuICBjaGlsZHJlbixcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1jb21tZW50LWxpbmtcIiwgY2xhc3NOYW1lKSxcbiAgICAuLi5wcm9wc1xuICB9LCBjaGlsZHJlbik7XG59XG5jb25zdCBDb21tZW50UmVhY3Rpb25CdXR0b24gPSBmb3J3YXJkUmVmKCh7IHJlYWN0aW9uLCBvdmVycmlkZXMsIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0ICQgPSB1c2VPdmVycmlkZXMob3ZlcnJpZGVzKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcImxiLWNvbW1lbnQtcmVhY3Rpb25cIiwgY2xhc3NOYW1lKSxcbiAgICB2YXJpYW50OiBcIm91dGxpbmVcIixcbiAgICBcImFyaWEtbGFiZWxcIjogJC5DT01NRU5UX1JFQUNUSU9OX0RFU0NSSVBUSU9OKFxuICAgICAgcmVhY3Rpb24uZW1vamksXG4gICAgICByZWFjdGlvbi51c2Vycy5sZW5ndGhcbiAgICApLFxuICAgIC4uLnByb3BzLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtb2ppLCB7XG4gICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtcmVhY3Rpb24tZW1vamlcIixcbiAgICBlbW9qaTogcmVhY3Rpb24uZW1vamlcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtcmVhY3Rpb24tY291bnRcIlxuICB9LCByZWFjdGlvbi51c2Vycy5sZW5ndGgpKTtcbn0pO1xuY29uc3QgQ29tbWVudFJlYWN0aW9uID0gZm9yd2FyZFJlZigoeyBjb21tZW50LCByZWFjdGlvbiwgb3ZlcnJpZGVzLCBkaXNhYmxlZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIGNvbnN0IHsgdXNlQWRkUmVhY3Rpb24sIHVzZVJlbW92ZVJlYWN0aW9uIH0gPSB1c2VSb29tQ29udGV4dEJ1bmRsZSgpO1xuICBjb25zdCBhZGRSZWFjdGlvbiA9IHVzZUFkZFJlYWN0aW9uKCk7XG4gIGNvbnN0IHJlbW92ZVJlYWN0aW9uID0gdXNlUmVtb3ZlUmVhY3Rpb24oKTtcbiAgY29uc3Qge1xuICAgIFtrSW50ZXJuYWxdOiB7IHVzZUN1cnJlbnRVc2VySWQgfVxuICB9ID0gdXNlU2hhcmVkQ29udGV4dEJ1bmRsZSgpO1xuICBjb25zdCBjdXJyZW50SWQgPSB1c2VDdXJyZW50VXNlcklkKCk7XG4gIGNvbnN0IGlzQWN0aXZlID0gdXNlTWVtbygoKSA9PiB7XG4gICAgcmV0dXJuIHJlYWN0aW9uLnVzZXJzLnNvbWUoKHVzZXJzKSA9PiB1c2Vycy5pZCA9PT0gY3VycmVudElkKTtcbiAgfSwgW2N1cnJlbnRJZCwgcmVhY3Rpb25dKTtcbiAgY29uc3QgJCA9IHVzZU92ZXJyaWRlcyhvdmVycmlkZXMpO1xuICBjb25zdCB0b29sdGlwQ29udGVudCA9IHVzZU1lbW8oXG4gICAgKCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsICQuQ09NTUVOVF9SRUFDVElPTl9MSVNUKFxuICAgICAgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTGlzdCwge1xuICAgICAgICB2YWx1ZXM6IHJlYWN0aW9uLnVzZXJzLm1hcCgodXNlcnMsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChVc2VyLCB7XG4gICAgICAgICAga2V5OiB1c2Vycy5pZCxcbiAgICAgICAgICB1c2VySWQ6IHVzZXJzLmlkLFxuICAgICAgICAgIGNhcGl0YWxpemU6IGluZGV4ID09PSAwLFxuICAgICAgICAgIHJlcGxhY2VTZWxmOiB0cnVlXG4gICAgICAgIH0pKSxcbiAgICAgICAgZm9ybWF0UmVtYWluaW5nOiAkLkxJU1RfUkVNQUlOSU5HX1VTRVJTLFxuICAgICAgICB0cnVuY2F0ZTogUkVBQ1RJT05TX1RSVU5DQVRFXG4gICAgICB9KSxcbiAgICAgIHJlYWN0aW9uLmVtb2ppLFxuICAgICAgcmVhY3Rpb24udXNlcnMubGVuZ3RoXG4gICAgKSksXG4gICAgWyQsIHJlYWN0aW9uXVxuICApO1xuICBjb25zdCBoYW5kbGVQcmVzc2VkQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgKGlzUHJlc3NlZCkgPT4ge1xuICAgICAgaWYgKGlzUHJlc3NlZCkge1xuICAgICAgICBhZGRSZWFjdGlvbih7XG4gICAgICAgICAgdGhyZWFkSWQ6IGNvbW1lbnQudGhyZWFkSWQsXG4gICAgICAgICAgY29tbWVudElkOiBjb21tZW50LmlkLFxuICAgICAgICAgIGVtb2ppOiByZWFjdGlvbi5lbW9qaVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlbW92ZVJlYWN0aW9uKHtcbiAgICAgICAgICB0aHJlYWRJZDogY29tbWVudC50aHJlYWRJZCxcbiAgICAgICAgICBjb21tZW50SWQ6IGNvbW1lbnQuaWQsXG4gICAgICAgICAgZW1vamk6IHJlYWN0aW9uLmVtb2ppXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2FkZFJlYWN0aW9uLCBjb21tZW50LnRocmVhZElkLCBjb21tZW50LmlkLCByZWFjdGlvbi5lbW9qaSwgcmVtb3ZlUmVhY3Rpb25dXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgY29udGVudDogdG9vbHRpcENvbnRlbnQsXG4gICAgbXVsdGlsaW5lOiB0cnVlLFxuICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LXJlYWN0aW9uLXRvb2x0aXBcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb2dnbGVQcmltaXRpdmUuUm9vdCwge1xuICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgcHJlc3NlZDogaXNBY3RpdmUsXG4gICAgb25QcmVzc2VkQ2hhbmdlOiBoYW5kbGVQcmVzc2VkQ2hhbmdlLFxuICAgIGRpc2FibGVkLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbW1lbnRSZWFjdGlvbkJ1dHRvbiwge1xuICAgIFwiZGF0YS1zZWxmXCI6IGlzQWN0aXZlID8gXCJcIiA6IHZvaWQgMCxcbiAgICByZWFjdGlvbixcbiAgICBvdmVycmlkZXMsXG4gICAgLi4ucHJvcHNcbiAgfSkpKTtcbn0pO1xuY29uc3QgQ29tbWVudE5vbkludGVyYWN0aXZlUmVhY3Rpb24gPSBmb3J3YXJkUmVmKCh7IHJlYWN0aW9uLCBvdmVycmlkZXMsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCB7XG4gICAgW2tJbnRlcm5hbF06IHsgdXNlQ3VycmVudFVzZXJJZCB9XG4gIH0gPSB1c2VTaGFyZWRDb250ZXh0QnVuZGxlKCk7XG4gIGNvbnN0IGN1cnJlbnRJZCA9IHVzZUN1cnJlbnRVc2VySWQoKTtcbiAgY29uc3QgaXNBY3RpdmUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICByZXR1cm4gcmVhY3Rpb24udXNlcnMuc29tZSgodXNlcnMpID0+IHVzZXJzLmlkID09PSBjdXJyZW50SWQpO1xuICB9LCBbY3VycmVudElkLCByZWFjdGlvbl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudFJlYWN0aW9uQnV0dG9uLCB7XG4gICAgZGlzYWJsZWFibGU6IGZhbHNlLFxuICAgIFwiZGF0YS1zZWxmXCI6IGlzQWN0aXZlID8gXCJcIiA6IHZvaWQgMCxcbiAgICByZWFjdGlvbixcbiAgICBvdmVycmlkZXMsXG4gICAgLi4ucHJvcHMsXG4gICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgfSk7XG59KTtcbmNvbnN0IENvbW1lbnQgPSBmb3J3YXJkUmVmKFxuICAoe1xuICAgIGNvbW1lbnQsXG4gICAgaW5kZW50Q29udGVudCA9IHRydWUsXG4gICAgc2hvd0RlbGV0ZWQsXG4gICAgc2hvd0FjdGlvbnMgPSBcImhvdmVyXCIsXG4gICAgc2hvd1JlYWN0aW9ucyA9IHRydWUsXG4gICAgb25BdXRob3JDbGljayxcbiAgICBvbk1lbnRpb25DbGljayxcbiAgICBvbkNvbW1lbnRFZGl0LFxuICAgIG9uQ29tbWVudERlbGV0ZSxcbiAgICBvdmVycmlkZXMsXG4gICAgY2xhc3NOYW1lLFxuICAgIGFkZGl0aW9uYWxBY3Rpb25zLFxuICAgIGFkZGl0aW9uYWxBY3Rpb25zQ2xhc3NOYW1lLFxuICAgIG1hcmtUaHJlYWRBc1JlYWRXaGVuVmlzaWJsZSxcbiAgICAuLi5wcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICB1c2VEZWxldGVDb21tZW50LFxuICAgICAgdXNlRWRpdENvbW1lbnQsXG4gICAgICB1c2VBZGRSZWFjdGlvbixcbiAgICAgIHVzZVJlbW92ZVJlYWN0aW9uLFxuICAgICAgdXNlTWFya1RocmVhZEFzUmVhZCxcbiAgICAgIHVzZVNlbGZcbiAgICB9ID0gdXNlUm9vbUNvbnRleHRCdW5kbGUoKTtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgbWVyZ2VkUmVmcyA9IHVzZVJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IHNlbGYgPSB1c2VTZWxmKCk7XG4gICAgY29uc3QgZGVsZXRlQ29tbWVudCA9IHVzZURlbGV0ZUNvbW1lbnQoKTtcbiAgICBjb25zdCBlZGl0Q29tbWVudCA9IHVzZUVkaXRDb21tZW50KCk7XG4gICAgY29uc3QgYWRkUmVhY3Rpb24gPSB1c2VBZGRSZWFjdGlvbigpO1xuICAgIGNvbnN0IHJlbW92ZVJlYWN0aW9uID0gdXNlUmVtb3ZlUmVhY3Rpb24oKTtcbiAgICBjb25zdCBtYXJrVGhyZWFkQXNSZWFkID0gdXNlTWFya1RocmVhZEFzUmVhZCgpO1xuICAgIGNvbnN0ICQgPSB1c2VPdmVycmlkZXMob3ZlcnJpZGVzKTtcbiAgICBjb25zdCBbaXNFZGl0aW5nLCBzZXRFZGl0aW5nXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNUYXJnZXQsIHNldFRhcmdldF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2lzTW9yZUFjdGlvbk9wZW4sIHNldE1vcmVBY3Rpb25PcGVuXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNSZWFjdGlvbkFjdGlvbk9wZW4sIHNldFJlYWN0aW9uQWN0aW9uT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgbWFya1Zpc2libGVUaHJlYWRBc1JlYWQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBpZiAobWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlKSB7XG4gICAgICAgIG1hcmtUaHJlYWRBc1JlYWQobWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlKTtcbiAgICAgIH1cbiAgICB9LCBbbWFya1RocmVhZEFzUmVhZCwgbWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlXSk7XG4gICAgdXNlVmlzaWJsZUNhbGxiYWNrKHJlZiwgbWFya1Zpc2libGVUaHJlYWRBc1JlYWQsIHtcbiAgICAgIGVuYWJsZWQ6IEJvb2xlYW4obWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlKVxuICAgIH0pO1xuICAgIGNvbnN0IHN0b3BQcm9wYWdhdGlvbiA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZUVkaXQgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBzZXRFZGl0aW5nKHRydWUpO1xuICAgIH0sIFtdKTtcbiAgICBjb25zdCBoYW5kbGVFZGl0Q2FuY2VsID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIHNldEVkaXRpbmcoZmFsc2UpO1xuICAgICAgfSxcbiAgICAgIFtdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVFZGl0U3VibWl0ID0gdXNlQ2FsbGJhY2soXG4gICAgICAoeyBib2R5IH0sIGV2ZW50KSA9PiB7XG4gICAgICAgIG9uQ29tbWVudEVkaXQ/Lihjb21tZW50KTtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgc2V0RWRpdGluZyhmYWxzZSk7XG4gICAgICAgIGVkaXRDb21tZW50KHtcbiAgICAgICAgICBjb21tZW50SWQ6IGNvbW1lbnQuaWQsXG4gICAgICAgICAgdGhyZWFkSWQ6IGNvbW1lbnQudGhyZWFkSWQsXG4gICAgICAgICAgYm9keVxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICBbY29tbWVudCwgZWRpdENvbW1lbnQsIG9uQ29tbWVudEVkaXRdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVEZWxldGUgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBvbkNvbW1lbnREZWxldGU/Lihjb21tZW50KTtcbiAgICAgIGRlbGV0ZUNvbW1lbnQoe1xuICAgICAgICBjb21tZW50SWQ6IGNvbW1lbnQuaWQsXG4gICAgICAgIHRocmVhZElkOiBjb21tZW50LnRocmVhZElkXG4gICAgICB9KTtcbiAgICB9LCBbY29tbWVudCwgZGVsZXRlQ29tbWVudCwgb25Db21tZW50RGVsZXRlXSk7XG4gICAgY29uc3QgaGFuZGxlQXV0aG9yQ2xpY2sgPSB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBvbkF1dGhvckNsaWNrPy4oY29tbWVudC51c2VySWQsIGV2ZW50KTtcbiAgICAgIH0sXG4gICAgICBbY29tbWVudC51c2VySWQsIG9uQXV0aG9yQ2xpY2tdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVSZWFjdGlvblNlbGVjdCA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGVtb2ppKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlYWN0aW9uSW5kZXggPSBjb21tZW50LnJlYWN0aW9ucy5maW5kSW5kZXgoXG4gICAgICAgICAgKHJlYWN0aW9uKSA9PiByZWFjdGlvbi5lbW9qaSA9PT0gZW1vamlcbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHJlYWN0aW9uSW5kZXggPj0gMCAmJiBzZWxmPy5pZCAmJiBjb21tZW50LnJlYWN0aW9uc1tyZWFjdGlvbkluZGV4XS51c2Vycy5zb21lKFxuICAgICAgICAgICh1c2VyKSA9PiB1c2VyLmlkID09PSBzZWxmPy5pZFxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVtb3ZlUmVhY3Rpb24oe1xuICAgICAgICAgICAgdGhyZWFkSWQ6IGNvbW1lbnQudGhyZWFkSWQsXG4gICAgICAgICAgICBjb21tZW50SWQ6IGNvbW1lbnQuaWQsXG4gICAgICAgICAgICBlbW9qaVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGFkZFJlYWN0aW9uKHtcbiAgICAgICAgICAgIHRocmVhZElkOiBjb21tZW50LnRocmVhZElkLFxuICAgICAgICAgICAgY29tbWVudElkOiBjb21tZW50LmlkLFxuICAgICAgICAgICAgZW1vamlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtcbiAgICAgICAgYWRkUmVhY3Rpb24sXG4gICAgICAgIGNvbW1lbnQuaWQsXG4gICAgICAgIGNvbW1lbnQucmVhY3Rpb25zLFxuICAgICAgICBjb21tZW50LnRocmVhZElkLFxuICAgICAgICByZW1vdmVSZWFjdGlvbixcbiAgICAgICAgc2VsZj8uaWRcbiAgICAgIF1cbiAgICApO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBjb25zdCBpc1dpbmRvd0RlZmluZWQgPSB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKCFpc1dpbmRvd0RlZmluZWQpXG4gICAgICAgIHJldHVybjtcbiAgICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcbiAgICAgIGNvbnN0IGNvbW1lbnRJZCA9IGhhc2guc2xpY2UoMSk7XG4gICAgICBpZiAoY29tbWVudElkID09PSBjb21tZW50LmlkKSB7XG4gICAgICAgIHNldFRhcmdldCh0cnVlKTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgaWYgKCFzaG93RGVsZXRlZCAmJiAhY29tbWVudC5ib2R5KSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBQcm92aWRlciwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgaWQ6IGNvbW1lbnQuaWQsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXG4gICAgICAgIFwibGItcm9vdCBsYi1jb21tZW50XCIsXG4gICAgICAgIGluZGVudENvbnRlbnQgJiYgXCJsYi1jb21tZW50OmluZGVudC1jb250ZW50XCIsXG4gICAgICAgIHNob3dBY3Rpb25zID09PSBcImhvdmVyXCIgJiYgXCJsYi1jb21tZW50OnNob3ctYWN0aW9ucy1ob3ZlclwiLFxuICAgICAgICAoaXNNb3JlQWN0aW9uT3BlbiB8fCBpc1JlYWN0aW9uQWN0aW9uT3BlbikgJiYgXCJsYi1jb21tZW50OmFjdGlvbi1vcGVuXCIsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKSxcbiAgICAgIFwiZGF0YS1kZWxldGVkXCI6ICFjb21tZW50LmJvZHkgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgXCJkYXRhLWVkaXRpbmdcIjogaXNFZGl0aW5nID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS10YXJnZXRcIjogaXNUYXJnZXQgPyBcIlwiIDogdm9pZCAwLFxuICAgICAgZGlyOiAkLmRpcixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBtZXJnZWRSZWZzXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtaGVhZGVyXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItY29tbWVudC1kZXRhaWxzXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBdmF0YXIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LWF2YXRhclwiLFxuICAgICAgdXNlcklkOiBjb21tZW50LnVzZXJJZCxcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUF1dGhvckNsaWNrXG4gICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItY29tbWVudC1kZXRhaWxzLWxhYmVsc1wiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVXNlciwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtYXV0aG9yXCIsXG4gICAgICB1c2VySWQ6IGNvbW1lbnQudXNlcklkLFxuICAgICAgb25DbGljazogaGFuZGxlQXV0aG9yQ2xpY2tcbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LWRhdGVcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRpbWVzdGFtcCwge1xuICAgICAgbG9jYWxlOiAkLmxvY2FsZSxcbiAgICAgIGRhdGU6IGNvbW1lbnQuY3JlYXRlZEF0LFxuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtZGF0ZS1jcmVhdGVkXCJcbiAgICB9KSwgY29tbWVudC5lZGl0ZWRBdCAmJiBjb21tZW50LmJvZHkgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIFwiIFwiLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtZGF0ZS1lZGl0ZWRcIlxuICAgIH0sICQuQ09NTUVOVF9FRElURUQpKSkpKSwgc2hvd0FjdGlvbnMgJiYgIWlzRWRpdGluZyAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXG4gICAgICAgIFwibGItY29tbWVudC1hY3Rpb25zXCIsXG4gICAgICAgIGFkZGl0aW9uYWxBY3Rpb25zQ2xhc3NOYW1lXG4gICAgICApXG4gICAgfSwgYWRkaXRpb25hbEFjdGlvbnMgPz8gbnVsbCwgc2hvd1JlYWN0aW9ucyAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbW9qaVBpY2tlciwge1xuICAgICAgb25FbW9qaVNlbGVjdDogaGFuZGxlUmVhY3Rpb25TZWxlY3QsXG4gICAgICBvbk9wZW5DaGFuZ2U6IHNldFJlYWN0aW9uQWN0aW9uT3BlblxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcbiAgICAgIGNvbnRlbnQ6ICQuQ09NTUVOVF9BRERfUkVBQ1RJT05cbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChQb3BvdmVyVHJpZ2dlciwge1xuICAgICAgYXNDaGlsZDogdHJ1ZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtYWN0aW9uXCIsXG4gICAgICBvbkNsaWNrOiBzdG9wUHJvcGFnYXRpb24sXG4gICAgICBcImFyaWEtbGFiZWxcIjogJC5DT01NRU5UX0FERF9SRUFDVElPTlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtb2ppQWRkSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWJ1dHRvbi1pY29uXCJcbiAgICB9KSkpKSksIGNvbW1lbnQudXNlcklkID09PSBzZWxmPy5pZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcm9wZG93biwge1xuICAgICAgb3BlbjogaXNNb3JlQWN0aW9uT3BlbixcbiAgICAgIG9uT3BlbkNoYW5nZTogc2V0TW9yZUFjdGlvbk9wZW4sXG4gICAgICBhbGlnbjogXCJlbmRcIixcbiAgICAgIGNvbnRlbnQ6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcm9wZG93bkl0ZW0sIHtcbiAgICAgICAgb25TZWxlY3Q6IGhhbmRsZUVkaXQsXG4gICAgICAgIG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvblxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRWRpdEljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxiLWRyb3Bkb3duLWl0ZW0taWNvblwiXG4gICAgICB9KSwgJC5DT01NRU5UX0VESVQpLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEcm9wZG93bkl0ZW0sIHtcbiAgICAgICAgb25TZWxlY3Q6IGhhbmRsZURlbGV0ZSxcbiAgICAgICAgb25DbGljazogc3RvcFByb3BhZ2F0aW9uXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChEZWxldGVJY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi1kcm9wZG93bi1pdGVtLWljb25cIlxuICAgICAgfSksICQuQ09NTUVOVF9ERUxFVEUpKVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcbiAgICAgIGNvbnRlbnQ6ICQuQ09NTUVOVF9NT1JFXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25NZW51VHJpZ2dlciwge1xuICAgICAgYXNDaGlsZDogdHJ1ZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtYWN0aW9uXCIsXG4gICAgICBkaXNhYmxlZDogIWNvbW1lbnQuYm9keSxcbiAgICAgIG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiAkLkNPTU1FTlRfTU9SRVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVsbGlwc2lzSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWJ1dHRvbi1pY29uXCJcbiAgICB9KSkpKSkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtY29udGVudFwiXG4gICAgfSwgaXNFZGl0aW5nID8gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LWNvbXBvc2VyXCIsXG4gICAgICBvbkNvbXBvc2VyU3VibWl0OiBoYW5kbGVFZGl0U3VibWl0LFxuICAgICAgZGVmYXVsdFZhbHVlOiBjb21tZW50LmJvZHksXG4gICAgICBhdXRvRm9jdXM6IHRydWUsXG4gICAgICBzaG93QXR0cmlidXRpb246IGZhbHNlLFxuICAgICAgYWN0aW9uczogLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXAsIHtcbiAgICAgICAgY29udGVudDogJC5DT01NRU5UX0VESVRfQ09NUE9TRVJfQ0FOQ0VMLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogJC5DT01NRU5UX0VESVRfQ09NUE9TRVJfQ0FOQ0VMXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbXBvc2VyLWFjdGlvblwiLFxuICAgICAgICBvbkNsaWNrOiBoYW5kbGVFZGl0Q2FuY2VsXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDcm9zc0ljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImxiLWJ1dHRvbi1pY29uXCJcbiAgICAgIH0pKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNob3J0Y3V0VG9vbHRpcCwge1xuICAgICAgICBjb250ZW50OiAkLkNPTU1FTlRfRURJVF9DT01QT1NFUl9TQVZFLFxuICAgICAgICBzaG9ydGN1dDogLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU2hvcnRjdXRUb29sdGlwS2V5LCB7XG4gICAgICAgICAgbmFtZTogXCJlbnRlclwiXG4gICAgICAgIH0pXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlclN1Ym1pdCwge1xuICAgICAgICBhc0NoaWxkOiB0cnVlXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgICAgdmFyaWFudDogXCJwcmltYXJ5XCIsXG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1hY3Rpb25cIixcbiAgICAgICAgb25DbGljazogc3RvcFByb3BhZ2F0aW9uLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogJC5DT01NRU5UX0VESVRfQ09NUE9TRVJfU0FWRVxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ2hlY2tJY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi1idXR0b24taWNvblwiXG4gICAgICB9KSkpKSksXG4gICAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgQ09NUE9TRVJfUExBQ0VIT0xERVI6ICQuQ09NTUVOVF9FRElUX0NPTVBPU0VSX1BMQUNFSE9MREVSXG4gICAgICB9XG4gICAgfSkgOiBjb21tZW50LmJvZHkgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSZWFjdF9fZGVmYXVsdC5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudEJvZHksIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LWJvZHlcIixcbiAgICAgIGJvZHk6IGNvbW1lbnQuYm9keSxcbiAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgTWVudGlvbjogKHsgdXNlcklkIH0pID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbW1lbnRNZW50aW9uLCB7XG4gICAgICAgICAgdXNlcklkLFxuICAgICAgICAgIG9uQ2xpY2s6IChldmVudCkgPT4gb25NZW50aW9uQ2xpY2s/Lih1c2VySWQsIGV2ZW50KVxuICAgICAgICB9KSxcbiAgICAgICAgTGluazogQ29tbWVudExpbmtcbiAgICAgIH1cbiAgICB9KSwgc2hvd1JlYWN0aW9ucyAmJiBjb21tZW50LnJlYWN0aW9ucy5sZW5ndGggPiAwICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LXJlYWN0aW9uc1wiXG4gICAgfSwgY29tbWVudC5yZWFjdGlvbnMubWFwKChyZWFjdGlvbikgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudFJlYWN0aW9uLCB7XG4gICAgICBrZXk6IHJlYWN0aW9uLmVtb2ppLFxuICAgICAgY29tbWVudCxcbiAgICAgIHJlYWN0aW9uLFxuICAgICAgb3ZlcnJpZGVzXG4gICAgfSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbW9qaVBpY2tlciwge1xuICAgICAgb25FbW9qaVNlbGVjdDogaGFuZGxlUmVhY3Rpb25TZWxlY3RcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICBjb250ZW50OiAkLkNPTU1FTlRfQUREX1JFQUNUSU9OXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlclRyaWdnZXIsIHtcbiAgICAgIGFzQ2hpbGQ6IHRydWVcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LXJlYWN0aW9uIGxiLWNvbW1lbnQtcmVhY3Rpb24tYWRkXCIsXG4gICAgICB2YXJpYW50OiBcIm91dGxpbmVcIixcbiAgICAgIG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbixcbiAgICAgIFwiYXJpYS1sYWJlbFwiOiAkLkNPTU1FTlRfQUREX1JFQUNUSU9OXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamlBZGRJY29uLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItYnV0dG9uLWljb25cIlxuICAgIH0pKSkpKSkpIDogLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtYm9keVwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21tZW50LWRlbGV0ZWRcIlxuICAgIH0sICQuQ09NTUVOVF9ERUxFVEVEKSkpKSk7XG4gIH1cbik7XG5cbmV4cG9ydCB7IENvbW1lbnQsIENvbW1lbnRMaW5rLCBDb21tZW50TWVudGlvbiwgQ29tbWVudE5vbkludGVyYWN0aXZlTGluaywgQ29tbWVudE5vbkludGVyYWN0aXZlUmVhY3Rpb24sIENvbW1lbnRSZWFjdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29tbWVudC5tanMubWFwXG4iXSwibmFtZXMiOlsia0ludGVybmFsIiwidXNlUm9vbUNvbnRleHRCdW5kbGUiLCJ1c2VTaGFyZWRDb250ZXh0QnVuZGxlIiwiVG9nZ2xlUHJpbWl0aXZlIiwiUmVhY3RfX2RlZmF1bHQiLCJmb3J3YXJkUmVmIiwidXNlTWVtbyIsInVzZUNhbGxiYWNrIiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJDaGVja0ljb24iLCJDcm9zc0ljb24iLCJEZWxldGVJY29uIiwiRWRpdEljb24iLCJFbGxpcHNpc0ljb24iLCJFbW9qaUFkZEljb24iLCJ1c2VPdmVycmlkZXMiLCJCb2R5IiwiQ29tbWVudEJvZHkiLCJNZW50aW9uIiwiQ29tbWVudE1lbnRpb24kMSIsIkxpbmsiLCJDb21tZW50TGluayQxIiwiU3VibWl0IiwiQ29tcG9zZXJTdWJtaXQiLCJUaW1lc3RhbXAiLCJNRU5USU9OX0NIQVJBQ1RFUiIsImNsYXNzTmFtZXMiLCJ1c2VSZWZzIiwidXNlVmlzaWJsZUNhbGxiYWNrIiwiQ29tcG9zZXIiLCJBdmF0YXIiLCJCdXR0b24iLCJEcm9wZG93biIsIkRyb3Bkb3duSXRlbSIsIkVtb2ppIiwiRW1vamlQaWNrZXIiLCJMaXN0IiwiVG9vbHRpcCIsIlNob3J0Y3V0VG9vbHRpcCIsIlNob3J0Y3V0VG9vbHRpcEtleSIsIlVzZXIiLCJUb29sdGlwUHJvdmlkZXIiLCJQb3BvdmVyVHJpZ2dlciIsIkRyb3Bkb3duTWVudVRyaWdnZXIiLCJSRUFDVElPTlNfVFJVTkNBVEUiLCJDb21tZW50TWVudGlvbiIsInVzZXJJZCIsImNsYXNzTmFtZSIsInByb3BzIiwidXNlQ3VycmVudFVzZXJJZCIsImN1cnJlbnRJZCIsImNyZWF0ZUVsZW1lbnQiLCJDb21tZW50TGluayIsImhyZWYiLCJjaGlsZHJlbiIsIkNvbW1lbnROb25JbnRlcmFjdGl2ZUxpbmsiLCJfaHJlZiIsIkNvbW1lbnRSZWFjdGlvbkJ1dHRvbiIsImZvcndhcmRlZFJlZiIsInJlYWN0aW9uIiwib3ZlcnJpZGVzIiwiJCIsInZhcmlhbnQiLCJDT01NRU5UX1JFQUNUSU9OX0RFU0NSSVBUSU9OIiwiZW1vamkiLCJ1c2VycyIsImxlbmd0aCIsInJlZiIsIkNvbW1lbnRSZWFjdGlvbiIsImNvbW1lbnQiLCJkaXNhYmxlZCIsInVzZUFkZFJlYWN0aW9uIiwidXNlUmVtb3ZlUmVhY3Rpb24iLCJhZGRSZWFjdGlvbiIsInJlbW92ZVJlYWN0aW9uIiwiaXNBY3RpdmUiLCJzb21lIiwiaWQiLCJ0b29sdGlwQ29udGVudCIsIkNPTU1FTlRfUkVBQ1RJT05fTElTVCIsInZhbHVlcyIsIm1hcCIsImluZGV4Iiwia2V5IiwiY2FwaXRhbGl6ZSIsInJlcGxhY2VTZWxmIiwiZm9ybWF0UmVtYWluaW5nIiwiTElTVF9SRU1BSU5JTkdfVVNFUlMiLCJ0cnVuY2F0ZSIsImhhbmRsZVByZXNzZWRDaGFuZ2UiLCJpc1ByZXNzZWQiLCJ0aHJlYWRJZCIsImNvbW1lbnRJZCIsImNvbnRlbnQiLCJtdWx0aWxpbmUiLCJSb290IiwiYXNDaGlsZCIsInByZXNzZWQiLCJvblByZXNzZWRDaGFuZ2UiLCJDb21tZW50Tm9uSW50ZXJhY3RpdmVSZWFjdGlvbiIsImRpc2FibGVhYmxlIiwiQ29tbWVudCIsImluZGVudENvbnRlbnQiLCJzaG93RGVsZXRlZCIsInNob3dBY3Rpb25zIiwic2hvd1JlYWN0aW9ucyIsIm9uQXV0aG9yQ2xpY2siLCJvbk1lbnRpb25DbGljayIsIm9uQ29tbWVudEVkaXQiLCJvbkNvbW1lbnREZWxldGUiLCJhZGRpdGlvbmFsQWN0aW9ucyIsImFkZGl0aW9uYWxBY3Rpb25zQ2xhc3NOYW1lIiwibWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlIiwidXNlRGVsZXRlQ29tbWVudCIsInVzZUVkaXRDb21tZW50IiwidXNlTWFya1RocmVhZEFzUmVhZCIsInVzZVNlbGYiLCJtZXJnZWRSZWZzIiwic2VsZiIsImRlbGV0ZUNvbW1lbnQiLCJlZGl0Q29tbWVudCIsIm1hcmtUaHJlYWRBc1JlYWQiLCJpc0VkaXRpbmciLCJzZXRFZGl0aW5nIiwiaXNUYXJnZXQiLCJzZXRUYXJnZXQiLCJpc01vcmVBY3Rpb25PcGVuIiwic2V0TW9yZUFjdGlvbk9wZW4iLCJpc1JlYWN0aW9uQWN0aW9uT3BlbiIsInNldFJlYWN0aW9uQWN0aW9uT3BlbiIsIm1hcmtWaXNpYmxlVGhyZWFkQXNSZWFkIiwiZW5hYmxlZCIsIkJvb2xlYW4iLCJzdG9wUHJvcGFnYXRpb24iLCJldmVudCIsImhhbmRsZUVkaXQiLCJoYW5kbGVFZGl0Q2FuY2VsIiwiaGFuZGxlRWRpdFN1Ym1pdCIsImJvZHkiLCJwcmV2ZW50RGVmYXVsdCIsImhhbmRsZURlbGV0ZSIsImhhbmRsZUF1dGhvckNsaWNrIiwiaGFuZGxlUmVhY3Rpb25TZWxlY3QiLCJyZWFjdGlvbkluZGV4IiwicmVhY3Rpb25zIiwiZmluZEluZGV4IiwidXNlciIsImlzV2luZG93RGVmaW5lZCIsIndpbmRvdyIsImhhc2giLCJsb2NhdGlvbiIsInNsaWNlIiwiZGlyIiwib25DbGljayIsImxvY2FsZSIsImRhdGUiLCJjcmVhdGVkQXQiLCJlZGl0ZWRBdCIsIkZyYWdtZW50IiwiQ09NTUVOVF9FRElURUQiLCJvbkVtb2ppU2VsZWN0Iiwib25PcGVuQ2hhbmdlIiwiQ09NTUVOVF9BRERfUkVBQ1RJT04iLCJvcGVuIiwiYWxpZ24iLCJvblNlbGVjdCIsIkNPTU1FTlRfRURJVCIsIkNPTU1FTlRfREVMRVRFIiwiQ09NTUVOVF9NT1JFIiwib25Db21wb3NlclN1Ym1pdCIsImRlZmF1bHRWYWx1ZSIsImF1dG9Gb2N1cyIsInNob3dBdHRyaWJ1dGlvbiIsImFjdGlvbnMiLCJDT01NRU5UX0VESVRfQ09NUE9TRVJfQ0FOQ0VMIiwiQ09NTUVOVF9FRElUX0NPTVBPU0VSX1NBVkUiLCJzaG9ydGN1dCIsIm5hbWUiLCJDT01QT1NFUl9QTEFDRUhPTERFUiIsIkNPTU1FTlRfRURJVF9DT01QT1NFUl9QTEFDRUhPTERFUiIsImNvbXBvbmVudHMiLCJDT01NRU5UX0RFTEVURUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Comment.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Composer.mjs":
/*!******************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/Composer.mjs ***!
  \******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Composer: function() { return /* binding */ Composer; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _icons_Emoji_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../icons/Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Emoji.mjs\");\n/* harmony import */ var _icons_Mention_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../icons/Mention.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Mention.mjs\");\n/* harmony import */ var _icons_Send_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../icons/Send.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Send.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../primitives/Composer/index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/index.mjs\");\n/* harmony import */ var _primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../primitives/Composer/contexts.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/contexts.mjs\");\n/* harmony import */ var _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../slate/plugins/mentions.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_use_controllable_state_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../utils/use-controllable-state.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-controllable-state.mjs\");\n/* harmony import */ var _internal_Attribution_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./internal/Attribution.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Attribution.mjs\");\n/* harmony import */ var _internal_Avatar_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./internal/Avatar.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Avatar.mjs\");\n/* harmony import */ var _internal_Button_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./internal/Button.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs\");\n/* harmony import */ var _internal_EmojiPicker_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./internal/EmojiPicker.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/EmojiPicker.mjs\");\n/* harmony import */ var _internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./internal/Tooltip.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs\");\n/* harmony import */ var _internal_User_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./internal/User.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/User.mjs\");\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ Composer auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfunction ComposerInsertMentionEditorAction(param) {\n    let { label, className, onClick, ...props } = param;\n    _s();\n    const { createMention } = (0,_primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer)();\n    const preventDefault = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.preventDefault();\n    }, []);\n    const handleClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onClick === null || onClick === void 0 ? void 0 : onClick(event);\n        if (!event.isDefaultPrevented()) {\n            event.stopPropagation();\n            createMention();\n        }\n    }, [\n        createMention,\n        onClick\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_2__.Tooltip, {\n        content: label\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-composer-editor-action\", className),\n        onMouseDown: preventDefault,\n        onClick: handleClick,\n        \"aria-label\": label,\n        ...props\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Mention_mjs__WEBPACK_IMPORTED_MODULE_5__.MentionIcon, {\n        className: \"lb-button-icon\"\n    })));\n}\n_s(ComposerInsertMentionEditorAction, \"9XiB6RcmcSQauobZrFUj/fm48MA=\", false, function() {\n    return [\n        _primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer\n    ];\n});\n_c = ComposerInsertMentionEditorAction;\nfunction ComposerInsertEmojiEditorAction(param) {\n    let { label, onPickerOpenChange, className, ...props } = param;\n    _s1();\n    const { insertText } = (0,_primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer)();\n    const preventDefault = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.preventDefault();\n    }, []);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_EmojiPicker_mjs__WEBPACK_IMPORTED_MODULE_6__.EmojiPicker, {\n        onEmojiSelect: insertText,\n        onOpenChange: onPickerOpenChange\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_2__.Tooltip, {\n        content: label\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_7__.PopoverTrigger, {\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-composer-editor-action\", className),\n        onMouseDown: preventDefault,\n        \"aria-label\": label,\n        ...props\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Emoji_mjs__WEBPACK_IMPORTED_MODULE_8__.EmojiIcon, {\n        className: \"lb-button-icon\"\n    })))));\n}\n_s1(ComposerInsertEmojiEditorAction, \"t1xU3H2/il2jk1Bi7DlF019rZKQ=\", false, function() {\n    return [\n        _primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer\n    ];\n});\n_c1 = ComposerInsertEmojiEditorAction;\nfunction ComposerMention(param) {\n    let { userId } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Mention, {\n        className: \"lb-composer-mention\"\n    }, _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_10__.MENTION_CHARACTER, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_User_mjs__WEBPACK_IMPORTED_MODULE_11__.User, {\n        userId\n    }));\n}\n_c2 = ComposerMention;\nfunction ComposerMentionSuggestions(param) {\n    let { userIds } = param;\n    return userIds.length > 0 ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Suggestions, {\n        className: \"lb-root lb-portal lb-elevation lb-composer-suggestions lb-composer-mention-suggestions\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.SuggestionsList, {\n        className: \"lb-composer-suggestions-list lb-composer-mention-suggestions-list\"\n    }, userIds.map((userId)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.SuggestionsListItem, {\n            key: userId,\n            className: \"lb-composer-suggestions-list-item lb-composer-mention-suggestion\",\n            value: userId\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Avatar_mjs__WEBPACK_IMPORTED_MODULE_12__.Avatar, {\n            userId,\n            className: \"lb-composer-mention-suggestion-avatar\"\n        }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_User_mjs__WEBPACK_IMPORTED_MODULE_11__.User, {\n            userId,\n            className: \"lb-composer-mention-suggestion-user\"\n        }))))) : null;\n}\n_c3 = ComposerMentionSuggestions;\nfunction ComposerLink(param) {\n    let { href, children } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Link, {\n        href,\n        className: \"lb-composer-link\"\n    }, children);\n}\n_c4 = ComposerLink;\nconst editorComponents = {\n    Mention: ComposerMention,\n    MentionSuggestions: ComposerMentionSuggestions,\n    Link: ComposerLink\n};\nconst ComposerWithContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s2((param, forwardedRef)=>{\n    let { defaultValue, disabled, autoFocus, collapsed: controlledCollapsed, defaultCollapsed, onCollapsedChange: controlledOnCollapsedChange, actions, overrides, showAttribution, onFocus, onBlur, className, ...props } = param;\n    _s2();\n    const { [_liveblocks_core__WEBPACK_IMPORTED_MODULE_13__.kInternal]: { hasResolveMentionSuggestions } } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_14__.useRoomContextBundle)();\n    const { isEmpty } = (0,_primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer)();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_15__.useOverrides)(overrides);\n    const [isEmojiPickerOpen, setEmojiPickerOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [collapsed, onCollapsedChange] = (0,_utils_use_controllable_state_mjs__WEBPACK_IMPORTED_MODULE_16__.useControllableState)(controlledCollapsed === void 0 && defaultCollapsed === void 0 ? false : controlledCollapsed, controlledOnCollapsedChange, defaultCollapsed);\n    const preventDefault = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.preventDefault();\n    }, []);\n    const stopPropagation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.stopPropagation();\n    }, []);\n    const handleEditorClick = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.stopPropagation();\n        if (isEmpty) {\n            onCollapsedChange === null || onCollapsedChange === void 0 ? void 0 : onCollapsedChange(false);\n        }\n    }, [\n        isEmpty,\n        onCollapsedChange\n    ]);\n    const handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onFocus === null || onFocus === void 0 ? void 0 : onFocus(event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if (isEmpty) {\n            onCollapsedChange === null || onCollapsedChange === void 0 ? void 0 : onCollapsedChange(false);\n        }\n    }, [\n        isEmpty,\n        onCollapsedChange,\n        onFocus\n    ]);\n    const handleBlur = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        const isOutside = !event.currentTarget.contains(event.relatedTarget);\n        if (isOutside && isEmpty && !isEmojiPickerOpen) {\n            onCollapsedChange === null || onCollapsedChange === void 0 ? void 0 : onCollapsedChange(true);\n        }\n    }, [\n        isEmojiPickerOpen,\n        isEmpty,\n        onBlur,\n        onCollapsedChange\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-root lb-composer lb-composer-form\", className),\n        dir: $.dir,\n        ...props,\n        ref: forwardedRef,\n        \"data-collapsed\": collapsed ? \"\" : void 0,\n        onFocus: handleFocus,\n        onBlur: handleBlur\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Editor, {\n        className: \"lb-composer-editor\",\n        onClick: handleEditorClick,\n        placeholder: $.COMPOSER_PLACEHOLDER,\n        defaultValue,\n        disabled,\n        autoFocus,\n        components: editorComponents,\n        dir: $.dir\n    }), !collapsed && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-composer-footer\"\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-composer-editor-actions\"\n    }, hasResolveMentionSuggestions && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerInsertMentionEditorAction, {\n        label: $.COMPOSER_INSERT_MENTION\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerInsertEmojiEditorAction, {\n        label: $.COMPOSER_INSERT_EMOJI,\n        onPickerOpenChange: setEmojiPickerOpen\n    })), showAttribution && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Attribution_mjs__WEBPACK_IMPORTED_MODULE_17__.Attribution, null), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-composer-actions\"\n    }, actions !== null && actions !== void 0 ? actions : /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_2__.ShortcutTooltip, {\n        content: $.COMPOSER_SEND,\n        shortcut: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_2__.ShortcutTooltipKey, {\n            name: \"enter\"\n        })\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Submit, {\n        disabled,\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_3__.Button, {\n        onMouseDown: preventDefault,\n        onClick: stopPropagation,\n        className: \"lb-composer-action\",\n        variant: \"primary\",\n        \"aria-label\": $.COMPOSER_SEND\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Send_mjs__WEBPACK_IMPORTED_MODULE_18__.SendIcon, null))))))));\n}, \"HzVnmL4VtNf2PN3qtTnnF3HNEeE=\", false, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_14__.useRoomContextBundle,\n        _primitives_Composer_contexts_mjs__WEBPACK_IMPORTED_MODULE_1__.useComposer,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_15__.useOverrides,\n        _utils_use_controllable_state_mjs__WEBPACK_IMPORTED_MODULE_16__.useControllableState\n    ];\n}));\n_c5 = ComposerWithContext;\nconst Composer = /*#__PURE__*/ _s3((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c6 = _s3((param, forwardedRef)=>{\n    let { threadId, commentId, metadata, onComposerSubmit, ...props } = param;\n    _s3();\n    const { useCreateThread, useCreateComment, useEditComment } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_14__.useRoomContextBundle)();\n    const createThread = useCreateThread();\n    const createComment = useCreateComment();\n    const editComment = useEditComment();\n    const handleCommentSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((comment, event)=>{\n        onComposerSubmit === null || onComposerSubmit === void 0 ? void 0 : onComposerSubmit(comment, event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if (commentId && threadId) {\n            editComment({\n                commentId,\n                threadId,\n                body: comment.body\n            });\n        } else if (threadId) {\n            createComment({\n                threadId,\n                body: comment.body\n            });\n        } else {\n            createThread({\n                body: comment.body,\n                metadata: metadata !== null && metadata !== void 0 ? metadata : {}\n            });\n        }\n    }, [\n        commentId,\n        createComment,\n        createThread,\n        editComment,\n        metadata,\n        onComposerSubmit,\n        threadId\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_19__.TooltipProvider, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_Composer_index_mjs__WEBPACK_IMPORTED_MODULE_9__.Form, {\n        onComposerSubmit: handleCommentSubmit,\n        asChild: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerWithContext, {\n        ...props,\n        ref: forwardedRef\n    })));\n}, \"QGkd1yDHbJjI1cYf02cUukY6v9c=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_14__.useRoomContextBundle\n    ];\n})), \"QGkd1yDHbJjI1cYf02cUukY6v9c=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_14__.useRoomContextBundle\n    ];\n});\n_c7 = Composer;\n //# sourceMappingURL=Composer.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"ComposerInsertMentionEditorAction\");\n$RefreshReg$(_c1, \"ComposerInsertEmojiEditorAction\");\n$RefreshReg$(_c2, \"ComposerMention\");\n$RefreshReg$(_c3, \"ComposerMentionSuggestions\");\n$RefreshReg$(_c4, \"ComposerLink\");\n$RefreshReg$(_c5, \"ComposerWithContext\");\n$RefreshReg$(_c6, \"Composer$forwardRef\");\n$RefreshReg$(_c7, \"Composer\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvQ29tcG9zZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDNkM7QUFDWTtBQUNpQjtBQUMzQjtBQUNJO0FBQ047QUFDRztBQUNzUTtBQUNwUDtBQUNBO0FBQ1o7QUFDcUI7QUFDbEI7QUFDVjtBQUNBO0FBQ1U7QUFDNkI7QUFDM0M7QUFDZTtBQUNEO0FBRXpELFNBQVN3QyxrQ0FBa0MsS0FLMUM7UUFMMEMsRUFDekNDLEtBQUssRUFDTEMsU0FBUyxFQUNUQyxPQUFPLEVBQ1AsR0FBR0MsT0FDSixHQUwwQzs7SUFNekMsTUFBTSxFQUFFQyxhQUFhLEVBQUUsR0FBR25CLDhFQUFXQTtJQUNyQyxNQUFNb0IsaUJBQWlCekMsa0RBQVdBLENBQUMsQ0FBQzBDO1FBQ2xDQSxNQUFNRCxjQUFjO0lBQ3RCLEdBQUcsRUFBRTtJQUNMLE1BQU1FLGNBQWMzQyxrREFBV0EsQ0FDN0IsQ0FBQzBDO1FBQ0NKLG9CQUFBQSw4QkFBQUEsUUFBVUk7UUFDVixJQUFJLENBQUNBLE1BQU1FLGtCQUFrQixJQUFJO1lBQy9CRixNQUFNRyxlQUFlO1lBQ3JCTDtRQUNGO0lBQ0YsR0FDQTtRQUFDQTtRQUFlRjtLQUFRO0lBRTFCLE9BQU8sYUFBYSxpQkFBR3pDLGdEQUE0QixDQUFDa0MsMERBQU9BLEVBQUU7UUFDM0RnQixTQUFTWDtJQUNYLEdBQUcsYUFBYSxpQkFBR3ZDLGdEQUE0QixDQUFDOEIsd0RBQU1BLEVBQUU7UUFDdERVLFdBQVdkLGtFQUFVQSxDQUFDLDZCQUE2QmM7UUFDbkRXLGFBQWFQO1FBQ2JILFNBQVNLO1FBQ1QsY0FBY1A7UUFDZCxHQUFHRyxLQUFLO0lBQ1YsR0FBRyxhQUFhLGlCQUFHMUMsZ0RBQTRCLENBQUNLLDJEQUFXQSxFQUFFO1FBQzNEbUMsV0FBVztJQUNiO0FBQ0Y7R0EvQlNGOztRQU1t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Q3pCUyxZQUFZO2dCQUNWUjtnQkFDQUQ7Z0JBQ0FZLE1BQU1ELFFBQVFDLElBQUk7WUFDcEI7UUFDRixPQUFPLElBQUlaLFVBQVU7WUFDbkJRLGNBQWM7Z0JBQ1pSO2dCQUNBWSxNQUFNRCxRQUFRQyxJQUFJO1lBQ3BCO1FBQ0YsT0FBTztZQUNMTCxhQUFhO2dCQUNYSyxNQUFNRCxRQUFRQyxJQUFJO2dCQUNsQlYsVUFBVUEscUJBQUFBLHNCQUFBQSxXQUFZLENBQUM7WUFDekI7UUFDRjtJQUNGLEdBQ0E7UUFDRUQ7UUFDQU87UUFDQUQ7UUFDQUU7UUFDQVA7UUFDQUM7UUFDQUg7S0FDRDtJQUVILE9BQU8sYUFBYSxpQkFBRy9HLGdEQUE0QixDQUFDb0MscUVBQWVBLEVBQUUsTUFBTSxhQUFhLGlCQUFHcEMsZ0RBQTRCLENBQUNhLGdFQUFZQSxFQUFFO1FBQ3BJcUcsa0JBQWtCTztRQUNsQmhFLFNBQVM7SUFDWCxHQUFHLGFBQWEsaUJBQUd6RCxnREFBNEIsQ0FBQ3VFLHFCQUFxQjtRQUNuRSxHQUFHN0IsS0FBSztRQUNSeUQsS0FBSzNCO0lBQ1A7QUFDRjs7UUE3Q2dFekUsb0VBQW9CQTs7OztRQUFwQkEsb0VBQW9CQTs7OztBQWdEbEUsQ0FDcEIscUNBQXFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvQ29tcG9zZXIubWpzP2VjMjYiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0IHsga0ludGVybmFsIH0gZnJvbSAnQGxpdmVibG9ja3MvY29yZSc7XG5pbXBvcnQgeyB1c2VSb29tQ29udGV4dEJ1bmRsZSB9IGZyb20gJ0BsaXZlYmxvY2tzL3JlYWN0JztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2sgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFbW9qaUljb24gfSBmcm9tICcuLi9pY29ucy9FbW9qaS5tanMnO1xuaW1wb3J0IHsgTWVudGlvbkljb24gfSBmcm9tICcuLi9pY29ucy9NZW50aW9uLm1qcyc7XG5pbXBvcnQgeyBTZW5kSWNvbiB9IGZyb20gJy4uL2ljb25zL1NlbmQubWpzJztcbmltcG9ydCB7IHVzZU92ZXJyaWRlcyB9IGZyb20gJy4uL292ZXJyaWRlcy5tanMnO1xuaW1wb3J0IHsgRWRpdG9yIGFzIENvbXBvc2VyRWRpdG9yLCBTdWJtaXQgYXMgQ29tcG9zZXJTdWJtaXQsIEZvcm0gYXMgQ29tcG9zZXJGb3JtLCBNZW50aW9uIGFzIENvbXBvc2VyTWVudGlvbiQxLCBTdWdnZXN0aW9ucyBhcyBDb21wb3NlclN1Z2dlc3Rpb25zLCBTdWdnZXN0aW9uc0xpc3QgYXMgQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3QsIFN1Z2dlc3Rpb25zTGlzdEl0ZW0gYXMgQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3RJdGVtLCBMaW5rIGFzIENvbXBvc2VyTGluayQxIH0gZnJvbSAnLi4vcHJpbWl0aXZlcy9Db21wb3Nlci9pbmRleC5tanMnO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXIgfSBmcm9tICcuLi9wcmltaXRpdmVzL0NvbXBvc2VyL2NvbnRleHRzLm1qcyc7XG5pbXBvcnQgeyBNRU5USU9OX0NIQVJBQ1RFUiB9IGZyb20gJy4uL3NsYXRlL3BsdWdpbnMvbWVudGlvbnMubWpzJztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICcuLi91dGlscy9jbGFzcy1uYW1lcy5tanMnO1xuaW1wb3J0IHsgdXNlQ29udHJvbGxhYmxlU3RhdGUgfSBmcm9tICcuLi91dGlscy91c2UtY29udHJvbGxhYmxlLXN0YXRlLm1qcyc7XG5pbXBvcnQgeyBBdHRyaWJ1dGlvbiB9IGZyb20gJy4vaW50ZXJuYWwvQXR0cmlidXRpb24ubWpzJztcbmltcG9ydCB7IEF2YXRhciB9IGZyb20gJy4vaW50ZXJuYWwvQXZhdGFyLm1qcyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL2ludGVybmFsL0J1dHRvbi5tanMnO1xuaW1wb3J0IHsgRW1vamlQaWNrZXIgfSBmcm9tICcuL2ludGVybmFsL0Vtb2ppUGlja2VyLm1qcyc7XG5pbXBvcnQgeyBTaG9ydGN1dFRvb2x0aXAsIFNob3J0Y3V0VG9vbHRpcEtleSwgVG9vbHRpcCB9IGZyb20gJy4vaW50ZXJuYWwvVG9vbHRpcC5tanMnO1xuaW1wb3J0IHsgVXNlciB9IGZyb20gJy4vaW50ZXJuYWwvVXNlci5tanMnO1xuaW1wb3J0IHsgVG9vbHRpcFByb3ZpZGVyIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXAnO1xuaW1wb3J0IHsgUG9wb3ZlclRyaWdnZXIgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtcG9wb3Zlcic7XG5cbmZ1bmN0aW9uIENvbXBvc2VySW5zZXJ0TWVudGlvbkVkaXRvckFjdGlvbih7XG4gIGxhYmVsLFxuICBjbGFzc05hbWUsXG4gIG9uQ2xpY2ssXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IHsgY3JlYXRlTWVudGlvbiB9ID0gdXNlQ29tcG9zZXIoKTtcbiAgY29uc3QgcHJldmVudERlZmF1bHQgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICB9LCBbXSk7XG4gIGNvbnN0IGhhbmRsZUNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgKGV2ZW50KSA9PiB7XG4gICAgICBvbkNsaWNrPy4oZXZlbnQpO1xuICAgICAgaWYgKCFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgY3JlYXRlTWVudGlvbigpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2NyZWF0ZU1lbnRpb24sIG9uQ2xpY2tdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgY29udGVudDogbGFiZWxcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItY29tcG9zZXItZWRpdG9yLWFjdGlvblwiLCBjbGFzc05hbWUpLFxuICAgIG9uTW91c2VEb3duOiBwcmV2ZW50RGVmYXVsdCxcbiAgICBvbkNsaWNrOiBoYW5kbGVDbGljayxcbiAgICBcImFyaWEtbGFiZWxcIjogbGFiZWwsXG4gICAgLi4ucHJvcHNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWVudGlvbkljb24sIHtcbiAgICBjbGFzc05hbWU6IFwibGItYnV0dG9uLWljb25cIlxuICB9KSkpO1xufVxuZnVuY3Rpb24gQ29tcG9zZXJJbnNlcnRFbW9qaUVkaXRvckFjdGlvbih7XG4gIGxhYmVsLFxuICBvblBpY2tlck9wZW5DaGFuZ2UsXG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgeyBpbnNlcnRUZXh0IH0gPSB1c2VDb21wb3NlcigpO1xuICBjb25zdCBwcmV2ZW50RGVmYXVsdCA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gIH0sIFtdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtb2ppUGlja2VyLCB7XG4gICAgb25FbW9qaVNlbGVjdDogaW5zZXJ0VGV4dCxcbiAgICBvbk9wZW5DaGFuZ2U6IG9uUGlja2VyT3BlbkNoYW5nZVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgY29udGVudDogbGFiZWxcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUG9wb3ZlclRyaWdnZXIsIHtcbiAgICBhc0NoaWxkOiB0cnVlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEJ1dHRvbiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcImxiLWNvbXBvc2VyLWVkaXRvci1hY3Rpb25cIiwgY2xhc3NOYW1lKSxcbiAgICBvbk1vdXNlRG93bjogcHJldmVudERlZmF1bHQsXG4gICAgXCJhcmlhLWxhYmVsXCI6IGxhYmVsLFxuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtb2ppSWNvbiwge1xuICAgIGNsYXNzTmFtZTogXCJsYi1idXR0b24taWNvblwiXG4gIH0pKSkpKTtcbn1cbmZ1bmN0aW9uIENvbXBvc2VyTWVudGlvbih7IHVzZXJJZCB9KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3Nlck1lbnRpb24kMSwge1xuICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1tZW50aW9uXCJcbiAgfSwgTUVOVElPTl9DSEFSQUNURVIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFVzZXIsIHtcbiAgICB1c2VySWRcbiAgfSkpO1xufVxuZnVuY3Rpb24gQ29tcG9zZXJNZW50aW9uU3VnZ2VzdGlvbnMoe1xuICB1c2VySWRzXG59KSB7XG4gIHJldHVybiB1c2VySWRzLmxlbmd0aCA+IDAgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlclN1Z2dlc3Rpb25zLCB7XG4gICAgY2xhc3NOYW1lOiBcImxiLXJvb3QgbGItcG9ydGFsIGxiLWVsZXZhdGlvbiBsYi1jb21wb3Nlci1zdWdnZXN0aW9ucyBsYi1jb21wb3Nlci1tZW50aW9uLXN1Z2dlc3Rpb25zXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3QsIHtcbiAgICBjbGFzc05hbWU6IFwibGItY29tcG9zZXItc3VnZ2VzdGlvbnMtbGlzdCBsYi1jb21wb3Nlci1tZW50aW9uLXN1Z2dlc3Rpb25zLWxpc3RcIlxuICB9LCB1c2VySWRzLm1hcCgodXNlcklkKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlclN1Z2dlc3Rpb25zTGlzdEl0ZW0sIHtcbiAgICBrZXk6IHVzZXJJZCxcbiAgICBjbGFzc05hbWU6IFwibGItY29tcG9zZXItc3VnZ2VzdGlvbnMtbGlzdC1pdGVtIGxiLWNvbXBvc2VyLW1lbnRpb24tc3VnZ2VzdGlvblwiLFxuICAgIHZhbHVlOiB1c2VySWRcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQXZhdGFyLCB7XG4gICAgdXNlcklkLFxuICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1tZW50aW9uLXN1Z2dlc3Rpb24tYXZhdGFyXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFVzZXIsIHtcbiAgICB1c2VySWQsXG4gICAgY2xhc3NOYW1lOiBcImxiLWNvbXBvc2VyLW1lbnRpb24tc3VnZ2VzdGlvbi11c2VyXCJcbiAgfSkpKSkpIDogbnVsbDtcbn1cbmZ1bmN0aW9uIENvbXBvc2VyTGluayh7IGhyZWYsIGNoaWxkcmVuIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyTGluayQxLCB7XG4gICAgaHJlZixcbiAgICBjbGFzc05hbWU6IFwibGItY29tcG9zZXItbGlua1wiXG4gIH0sIGNoaWxkcmVuKTtcbn1cbmNvbnN0IGVkaXRvckNvbXBvbmVudHMgPSB7XG4gIE1lbnRpb246IENvbXBvc2VyTWVudGlvbixcbiAgTWVudGlvblN1Z2dlc3Rpb25zOiBDb21wb3Nlck1lbnRpb25TdWdnZXN0aW9ucyxcbiAgTGluazogQ29tcG9zZXJMaW5rXG59O1xuY29uc3QgQ29tcG9zZXJXaXRoQ29udGV4dCA9IGZvcndhcmRSZWYoXG4gICh7XG4gICAgZGVmYXVsdFZhbHVlLFxuICAgIGRpc2FibGVkLFxuICAgIGF1dG9Gb2N1cyxcbiAgICBjb2xsYXBzZWQ6IGNvbnRyb2xsZWRDb2xsYXBzZWQsXG4gICAgZGVmYXVsdENvbGxhcHNlZCxcbiAgICBvbkNvbGxhcHNlZENoYW5nZTogY29udHJvbGxlZE9uQ29sbGFwc2VkQ2hhbmdlLFxuICAgIGFjdGlvbnMsXG4gICAgb3ZlcnJpZGVzLFxuICAgIHNob3dBdHRyaWJ1dGlvbixcbiAgICBvbkZvY3VzLFxuICAgIG9uQmx1cixcbiAgICBjbGFzc05hbWUsXG4gICAgLi4ucHJvcHNcbiAgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3Qge1xuICAgICAgW2tJbnRlcm5hbF06IHsgaGFzUmVzb2x2ZU1lbnRpb25TdWdnZXN0aW9ucyB9XG4gICAgfSA9IHVzZVJvb21Db250ZXh0QnVuZGxlKCk7XG4gICAgY29uc3QgeyBpc0VtcHR5IH0gPSB1c2VDb21wb3NlcigpO1xuICAgIGNvbnN0ICQgPSB1c2VPdmVycmlkZXMob3ZlcnJpZGVzKTtcbiAgICBjb25zdCBbaXNFbW9qaVBpY2tlck9wZW4sIHNldEVtb2ppUGlja2VyT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW2NvbGxhcHNlZCwgb25Db2xsYXBzZWRDaGFuZ2VdID0gdXNlQ29udHJvbGxhYmxlU3RhdGUoXG4gICAgICBjb250cm9sbGVkQ29sbGFwc2VkID09PSB2b2lkIDAgJiYgZGVmYXVsdENvbGxhcHNlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBjb250cm9sbGVkQ29sbGFwc2VkLFxuICAgICAgY29udHJvbGxlZE9uQ29sbGFwc2VkQ2hhbmdlLFxuICAgICAgZGVmYXVsdENvbGxhcHNlZFxuICAgICk7XG4gICAgY29uc3QgcHJldmVudERlZmF1bHQgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IHN0b3BQcm9wYWdhdGlvbiA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZUVkaXRvckNsaWNrID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgIGlmIChpc0VtcHR5KSB7XG4gICAgICAgICAgb25Db2xsYXBzZWRDaGFuZ2U/LihmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbaXNFbXB0eSwgb25Db2xsYXBzZWRDaGFuZ2VdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVGb2N1cyA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uRm9jdXM/LihldmVudCk7XG4gICAgICAgIGlmIChldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNFbXB0eSkge1xuICAgICAgICAgIG9uQ29sbGFwc2VkQ2hhbmdlPy4oZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2lzRW1wdHksIG9uQ29sbGFwc2VkQ2hhbmdlLCBvbkZvY3VzXVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlQmx1ciA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uQmx1cj8uKGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGlzT3V0c2lkZSA9ICFldmVudC5jdXJyZW50VGFyZ2V0LmNvbnRhaW5zKGV2ZW50LnJlbGF0ZWRUYXJnZXQpO1xuICAgICAgICBpZiAoaXNPdXRzaWRlICYmIGlzRW1wdHkgJiYgIWlzRW1vamlQaWNrZXJPcGVuKSB7XG4gICAgICAgICAgb25Db2xsYXBzZWRDaGFuZ2U/Lih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtpc0Vtb2ppUGlja2VyT3BlbiwgaXNFbXB0eSwgb25CbHVyLCBvbkNvbGxhcHNlZENoYW5nZV1cbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImZvcm1cIiwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFxuICAgICAgICBcImxiLXJvb3QgbGItY29tcG9zZXIgbGItY29tcG9zZXItZm9ybVwiLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICBkaXI6ICQuZGlyLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgIFwiZGF0YS1jb2xsYXBzZWRcIjogY29sbGFwc2VkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzLFxuICAgICAgb25CbHVyOiBoYW5kbGVCbHVyXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJFZGl0b3IsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1lZGl0b3JcIixcbiAgICAgIG9uQ2xpY2s6IGhhbmRsZUVkaXRvckNsaWNrLFxuICAgICAgcGxhY2Vob2xkZXI6ICQuQ09NUE9TRVJfUExBQ0VIT0xERVIsXG4gICAgICBkZWZhdWx0VmFsdWUsXG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGF1dG9Gb2N1cyxcbiAgICAgIGNvbXBvbmVudHM6IGVkaXRvckNvbXBvbmVudHMsXG4gICAgICBkaXI6ICQuZGlyXG4gICAgfSksICFjb2xsYXBzZWQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbXBvc2VyLWZvb3RlclwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbXBvc2VyLWVkaXRvci1hY3Rpb25zXCJcbiAgICB9LCBoYXNSZXNvbHZlTWVudGlvblN1Z2dlc3Rpb25zICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VySW5zZXJ0TWVudGlvbkVkaXRvckFjdGlvbiwge1xuICAgICAgbGFiZWw6ICQuQ09NUE9TRVJfSU5TRVJUX01FTlRJT05cbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJJbnNlcnRFbW9qaUVkaXRvckFjdGlvbiwge1xuICAgICAgbGFiZWw6ICQuQ09NUE9TRVJfSU5TRVJUX0VNT0pJLFxuICAgICAgb25QaWNrZXJPcGVuQ2hhbmdlOiBzZXRFbW9qaVBpY2tlck9wZW5cbiAgICB9KSksIHNob3dBdHRyaWJ1dGlvbiAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBdHRyaWJ1dGlvbiwgbnVsbCksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1hY3Rpb25zXCJcbiAgICB9LCBhY3Rpb25zID8/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlYWN0X19kZWZhdWx0LkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTaG9ydGN1dFRvb2x0aXAsIHtcbiAgICAgIGNvbnRlbnQ6ICQuQ09NUE9TRVJfU0VORCxcbiAgICAgIHNob3J0Y3V0OiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTaG9ydGN1dFRvb2x0aXBLZXksIHtcbiAgICAgICAgbmFtZTogXCJlbnRlclwiXG4gICAgICB9KVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyU3VibWl0LCB7XG4gICAgICBkaXNhYmxlZCxcbiAgICAgIGFzQ2hpbGQ6IHRydWVcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChCdXR0b24sIHtcbiAgICAgIG9uTW91c2VEb3duOiBwcmV2ZW50RGVmYXVsdCxcbiAgICAgIG9uQ2xpY2s6IHN0b3BQcm9wYWdhdGlvbixcbiAgICAgIGNsYXNzTmFtZTogXCJsYi1jb21wb3Nlci1hY3Rpb25cIixcbiAgICAgIHZhcmlhbnQ6IFwicHJpbWFyeVwiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6ICQuQ09NUE9TRVJfU0VORFxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNlbmRJY29uLCBudWxsKSkpKSkpKSk7XG4gIH1cbik7XG5jb25zdCBDb21wb3NlciA9IGZvcndhcmRSZWYoXG4gICh7XG4gICAgdGhyZWFkSWQsXG4gICAgY29tbWVudElkLFxuICAgIG1ldGFkYXRhLFxuICAgIG9uQ29tcG9zZXJTdWJtaXQsXG4gICAgLi4ucHJvcHNcbiAgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgeyB1c2VDcmVhdGVUaHJlYWQsIHVzZUNyZWF0ZUNvbW1lbnQsIHVzZUVkaXRDb21tZW50IH0gPSB1c2VSb29tQ29udGV4dEJ1bmRsZSgpO1xuICAgIGNvbnN0IGNyZWF0ZVRocmVhZCA9IHVzZUNyZWF0ZVRocmVhZCgpO1xuICAgIGNvbnN0IGNyZWF0ZUNvbW1lbnQgPSB1c2VDcmVhdGVDb21tZW50KCk7XG4gICAgY29uc3QgZWRpdENvbW1lbnQgPSB1c2VFZGl0Q29tbWVudCgpO1xuICAgIGNvbnN0IGhhbmRsZUNvbW1lbnRTdWJtaXQgPSB1c2VDYWxsYmFjayhcbiAgICAgIChjb21tZW50LCBldmVudCkgPT4ge1xuICAgICAgICBvbkNvbXBvc2VyU3VibWl0Py4oY29tbWVudCwgZXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbW1lbnRJZCAmJiB0aHJlYWRJZCkge1xuICAgICAgICAgIGVkaXRDb21tZW50KHtcbiAgICAgICAgICAgIGNvbW1lbnRJZCxcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgYm9keTogY29tbWVudC5ib2R5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhyZWFkSWQpIHtcbiAgICAgICAgICBjcmVhdGVDb21tZW50KHtcbiAgICAgICAgICAgIHRocmVhZElkLFxuICAgICAgICAgICAgYm9keTogY29tbWVudC5ib2R5XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3JlYXRlVGhyZWFkKHtcbiAgICAgICAgICAgIGJvZHk6IGNvbW1lbnQuYm9keSxcbiAgICAgICAgICAgIG1ldGFkYXRhOiBtZXRhZGF0YSA/PyB7fVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW1xuICAgICAgICBjb21tZW50SWQsXG4gICAgICAgIGNyZWF0ZUNvbW1lbnQsXG4gICAgICAgIGNyZWF0ZVRocmVhZCxcbiAgICAgICAgZWRpdENvbW1lbnQsXG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBvbkNvbXBvc2VyU3VibWl0LFxuICAgICAgICB0aHJlYWRJZFxuICAgICAgXVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBQcm92aWRlciwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJGb3JtLCB7XG4gICAgICBvbkNvbXBvc2VyU3VibWl0OiBoYW5kbGVDb21tZW50U3VibWl0LFxuICAgICAgYXNDaGlsZDogdHJ1ZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyV2l0aENvbnRleHQsIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9KSkpO1xuICB9XG4pO1xuXG5leHBvcnQgeyBDb21wb3NlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Q29tcG9zZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbImtJbnRlcm5hbCIsInVzZVJvb21Db250ZXh0QnVuZGxlIiwiUmVhY3RfX2RlZmF1bHQiLCJmb3J3YXJkUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkVtb2ppSWNvbiIsIk1lbnRpb25JY29uIiwiU2VuZEljb24iLCJ1c2VPdmVycmlkZXMiLCJFZGl0b3IiLCJDb21wb3NlckVkaXRvciIsIlN1Ym1pdCIsIkNvbXBvc2VyU3VibWl0IiwiRm9ybSIsIkNvbXBvc2VyRm9ybSIsIk1lbnRpb24iLCJDb21wb3Nlck1lbnRpb24kMSIsIlN1Z2dlc3Rpb25zIiwiQ29tcG9zZXJTdWdnZXN0aW9ucyIsIlN1Z2dlc3Rpb25zTGlzdCIsIkNvbXBvc2VyU3VnZ2VzdGlvbnNMaXN0IiwiU3VnZ2VzdGlvbnNMaXN0SXRlbSIsIkNvbXBvc2VyU3VnZ2VzdGlvbnNMaXN0SXRlbSIsIkxpbmsiLCJDb21wb3NlckxpbmskMSIsInVzZUNvbXBvc2VyIiwiTUVOVElPTl9DSEFSQUNURVIiLCJjbGFzc05hbWVzIiwidXNlQ29udHJvbGxhYmxlU3RhdGUiLCJBdHRyaWJ1dGlvbiIsIkF2YXRhciIsIkJ1dHRvbiIsIkVtb2ppUGlja2VyIiwiU2hvcnRjdXRUb29sdGlwIiwiU2hvcnRjdXRUb29sdGlwS2V5IiwiVG9vbHRpcCIsIlVzZXIiLCJUb29sdGlwUHJvdmlkZXIiLCJQb3BvdmVyVHJpZ2dlciIsIkNvbXBvc2VySW5zZXJ0TWVudGlvbkVkaXRvckFjdGlvbiIsImxhYmVsIiwiY2xhc3NOYW1lIiwib25DbGljayIsInByb3BzIiwiY3JlYXRlTWVudGlvbiIsInByZXZlbnREZWZhdWx0IiwiZXZlbnQiLCJoYW5kbGVDbGljayIsImlzRGVmYXVsdFByZXZlbnRlZCIsInN0b3BQcm9wYWdhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJjb250ZW50Iiwib25Nb3VzZURvd24iLCJDb21wb3Nlckluc2VydEVtb2ppRWRpdG9yQWN0aW9uIiwib25QaWNrZXJPcGVuQ2hhbmdlIiwiaW5zZXJ0VGV4dCIsIm9uRW1vamlTZWxlY3QiLCJvbk9wZW5DaGFuZ2UiLCJhc0NoaWxkIiwiQ29tcG9zZXJNZW50aW9uIiwidXNlcklkIiwiQ29tcG9zZXJNZW50aW9uU3VnZ2VzdGlvbnMiLCJ1c2VySWRzIiwibGVuZ3RoIiwibWFwIiwia2V5IiwidmFsdWUiLCJDb21wb3NlckxpbmsiLCJocmVmIiwiY2hpbGRyZW4iLCJlZGl0b3JDb21wb25lbnRzIiwiTWVudGlvblN1Z2dlc3Rpb25zIiwiQ29tcG9zZXJXaXRoQ29udGV4dCIsImZvcndhcmRlZFJlZiIsImRlZmF1bHRWYWx1ZSIsImRpc2FibGVkIiwiYXV0b0ZvY3VzIiwiY29sbGFwc2VkIiwiY29udHJvbGxlZENvbGxhcHNlZCIsImRlZmF1bHRDb2xsYXBzZWQiLCJvbkNvbGxhcHNlZENoYW5nZSIsImNvbnRyb2xsZWRPbkNvbGxhcHNlZENoYW5nZSIsImFjdGlvbnMiLCJvdmVycmlkZXMiLCJzaG93QXR0cmlidXRpb24iLCJvbkZvY3VzIiwib25CbHVyIiwiaGFzUmVzb2x2ZU1lbnRpb25TdWdnZXN0aW9ucyIsImlzRW1wdHkiLCIkIiwiaXNFbW9qaVBpY2tlck9wZW4iLCJzZXRFbW9qaVBpY2tlck9wZW4iLCJoYW5kbGVFZGl0b3JDbGljayIsImhhbmRsZUZvY3VzIiwiaGFuZGxlQmx1ciIsImlzT3V0c2lkZSIsImN1cnJlbnRUYXJnZXQiLCJjb250YWlucyIsInJlbGF0ZWRUYXJnZXQiLCJkaXIiLCJyZWYiLCJwbGFjZWhvbGRlciIsIkNPTVBPU0VSX1BMQUNFSE9MREVSIiwiY29tcG9uZW50cyIsIkNPTVBPU0VSX0lOU0VSVF9NRU5USU9OIiwiQ09NUE9TRVJfSU5TRVJUX0VNT0pJIiwiRnJhZ21lbnQiLCJDT01QT1NFUl9TRU5EIiwic2hvcnRjdXQiLCJuYW1lIiwidmFyaWFudCIsIkNvbXBvc2VyIiwidGhyZWFkSWQiLCJjb21tZW50SWQiLCJtZXRhZGF0YSIsIm9uQ29tcG9zZXJTdWJtaXQiLCJ1c2VDcmVhdGVUaHJlYWQiLCJ1c2VDcmVhdGVDb21tZW50IiwidXNlRWRpdENvbW1lbnQiLCJjcmVhdGVUaHJlYWQiLCJjcmVhdGVDb21tZW50IiwiZWRpdENvbW1lbnQiLCJoYW5kbGVDb21tZW50U3VibWl0IiwiY29tbWVudCIsImJvZHkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Composer.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Thread.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/Thread.mjs ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Thread: function() { return /* binding */ Thread; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_toggle__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/react-toggle */ \"(app-pages-browser)/./node_modules/@radix-ui/react-toggle/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _icons_ArrowDown_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../icons/ArrowDown.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/ArrowDown.mjs\");\n/* harmony import */ var _icons_Resolve_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../icons/Resolve.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolve.mjs\");\n/* harmony import */ var _icons_Resolved_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../icons/Resolved.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolved.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_find_last_index_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/find-last-index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/find-last-index.mjs\");\n/* harmony import */ var _Comment_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Comment.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Comment.mjs\");\n/* harmony import */ var _Composer_mjs__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Composer.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Composer.mjs\");\n/* harmony import */ var _internal_Button_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./internal/Button.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs\");\n/* harmony import */ var _internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./internal/Tooltip.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs\");\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* __next_internal_client_entry_do_not_use__ Thread auto */ var _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst Thread = /*#__PURE__*/ _s((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c = _s((param, forwardedRef)=>{\n    let { thread, indentCommentContent = true, showActions = \"hover\", showDeletedComments, showResolveAction = true, showReactions = true, showComposer = \"collapsed\", onResolvedChange, onCommentEdit, onCommentDelete, onThreadDelete, onAuthorClick, onMentionClick, overrides, className, ...props } = param;\n    _s();\n    const { useEditThreadMetadata, useThreadSubscription } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_1__.useRoomContextBundle)();\n    const editThreadMetadata = useEditThreadMetadata();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides)(overrides);\n    const firstCommentIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return showDeletedComments ? 0 : thread.comments.findIndex((comment)=>comment.body);\n    }, [\n        showDeletedComments,\n        thread.comments\n    ]);\n    const lastCommentIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return showDeletedComments ? thread.comments.length - 1 : (0,_utils_find_last_index_mjs__WEBPACK_IMPORTED_MODULE_3__.findLastIndex)(thread.comments, (comment)=>comment.body);\n    }, [\n        showDeletedComments,\n        thread.comments\n    ]);\n    const { status: subscriptionStatus, unreadSince } = useThreadSubscription(thread.id);\n    const unreadIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        if (subscriptionStatus !== \"subscribed\") {\n            return;\n        }\n        if (unreadSince === null) {\n            return firstCommentIndex;\n        }\n        const unreadIndex2 = thread.comments.findIndex((comment)=>(showDeletedComments ? true : comment.body) && comment.createdAt > unreadSince);\n        return unreadIndex2 >= 0 && unreadIndex2 < thread.comments.length ? unreadIndex2 : void 0;\n    }, [\n        firstCommentIndex,\n        showDeletedComments,\n        subscriptionStatus,\n        thread.comments,\n        unreadSince\n    ]);\n    const [newIndex, setNewIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const newIndicatorIndex = newIndex === void 0 ? unreadIndex : newIndex;\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (unreadIndex) {\n            setNewIndex((persistedUnreadIndex)=>Math.min(persistedUnreadIndex !== null && persistedUnreadIndex !== void 0 ? persistedUnreadIndex : Infinity, unreadIndex));\n        }\n    }, [\n        unreadIndex\n    ]);\n    const stopPropagation = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.stopPropagation();\n    }, []);\n    const handleResolvedChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((resolved)=>{\n        onResolvedChange === null || onResolvedChange === void 0 ? void 0 : onResolvedChange(resolved);\n        editThreadMetadata({\n            threadId: thread.id,\n            metadata: {\n                resolved\n            }\n        });\n    }, [\n        editThreadMetadata,\n        onResolvedChange,\n        thread.id\n    ]);\n    const handleCommentDelete = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((comment)=>{\n        onCommentDelete === null || onCommentDelete === void 0 ? void 0 : onCommentDelete(comment);\n        const filteredComments = thread.comments.filter((comment2)=>comment2.body);\n        if (filteredComments.length <= 1) {\n            onThreadDelete === null || onThreadDelete === void 0 ? void 0 : onThreadDelete(thread);\n        }\n    }, [\n        onCommentDelete,\n        onThreadDelete,\n        thread\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_4__.TooltipProvider, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_5__.classNames)(\"lb-root lb-thread\", showActions === \"hover\" && \"lb-thread:show-actions-hover\", className),\n        \"data-resolved\": thread.metadata.resolved ? \"\" : void 0,\n        \"data-unread\": unreadIndex !== void 0 ? \"\" : void 0,\n        dir: $.dir,\n        ...props,\n        ref: forwardedRef\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"lb-thread-comments\"\n    }, thread.comments.map((comment, index)=>{\n        const isFirstComment = index === firstCommentIndex;\n        const isUnread = unreadIndex !== void 0 && index >= unreadIndex;\n        const children = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Comment_mjs__WEBPACK_IMPORTED_MODULE_6__.Comment, {\n            key: comment.id,\n            className: \"lb-thread-comment\",\n            \"data-unread\": isUnread ? \"\" : void 0,\n            comment,\n            indentContent: indentCommentContent,\n            showDeleted: showDeletedComments,\n            showActions,\n            showReactions,\n            onCommentEdit,\n            onCommentDelete: handleCommentDelete,\n            onAuthorClick,\n            onMentionClick,\n            markThreadAsReadWhenVisible: index === lastCommentIndex && isUnread ? thread.id : void 0,\n            additionalActionsClassName: isFirstComment ? \"lb-thread-actions\" : void 0,\n            additionalActions: isFirstComment && showResolveAction ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Tooltip_mjs__WEBPACK_IMPORTED_MODULE_7__.Tooltip, {\n                content: thread.metadata.resolved ? $.THREAD_UNRESOLVE : $.THREAD_RESOLVE\n            }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_radix_ui_react_toggle__WEBPACK_IMPORTED_MODULE_8__.Root, {\n                pressed: thread.metadata.resolved,\n                onPressedChange: handleResolvedChange,\n                asChild: true\n            }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Button_mjs__WEBPACK_IMPORTED_MODULE_9__.Button, {\n                className: \"lb-comment-action\",\n                onClick: stopPropagation,\n                \"aria-label\": thread.metadata.resolved ? $.THREAD_UNRESOLVE : $.THREAD_RESOLVE\n            }, thread.metadata.resolved ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Resolved_mjs__WEBPACK_IMPORTED_MODULE_10__.ResolvedIcon, {\n                className: \"lb-button-icon\"\n            }) : /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_Resolve_mjs__WEBPACK_IMPORTED_MODULE_11__.ResolveIcon, {\n                className: \"lb-button-icon\"\n            })))) : null\n        });\n        return index === newIndicatorIndex && newIndicatorIndex !== firstCommentIndex && newIndicatorIndex <= lastCommentIndex ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            key: comment.id\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            className: \"lb-thread-new-indicator\",\n            \"aria-label\": $.THREAD_NEW_INDICATOR_DESCRIPTION\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: \"lb-thread-new-indicator-label\"\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_icons_ArrowDown_mjs__WEBPACK_IMPORTED_MODULE_12__.ArrowDownIcon, {\n            className: \"lb-thread-new-indicator-label-icon\"\n        }), $.THREAD_NEW_INDICATOR)), children) : children;\n    })), showComposer && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_Composer_mjs__WEBPACK_IMPORTED_MODULE_13__.Composer, {\n        className: \"lb-thread-composer\",\n        threadId: thread.id,\n        defaultCollapsed: showComposer === \"collapsed\" ? true : void 0,\n        overrides: {\n            COMPOSER_PLACEHOLDER: $.THREAD_COMPOSER_PLACEHOLDER,\n            COMPOSER_SEND: $.THREAD_COMPOSER_SEND\n        }\n    })));\n}, \"KwnN1ThZ2lYfsjXWrZQqJhsMfAU=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_1__.useRoomContextBundle,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides\n    ];\n})), \"KwnN1ThZ2lYfsjXWrZQqJhsMfAU=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_1__.useRoomContextBundle,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides\n    ];\n});\n_c1 = Thread;\n //# sourceMappingURL=Thread.mjs.map\nvar _c, _c1;\n$RefreshReg$(_c, \"Thread$forwardRef\");\n$RefreshReg$(_c1, \"Thread\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvVGhyZWFkLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ3lEO0FBQ0M7QUFDOEM7QUFDakQ7QUFDSjtBQUNFO0FBQ0w7QUFDTTtBQUNPO0FBQ3JCO0FBQ0U7QUFDSztBQUNFO0FBQ1M7QUFFMUQsTUFBTW9CLHVCQUFTakIsR0FBQUEsaURBQVVBLFNBQ3ZCLFFBaUJHa0I7UUFqQkYsRUFDQ0MsTUFBTSxFQUNOQyx1QkFBdUIsSUFBSSxFQUMzQkMsY0FBYyxPQUFPLEVBQ3JCQyxtQkFBbUIsRUFDbkJDLG9CQUFvQixJQUFJLEVBQ3hCQyxnQkFBZ0IsSUFBSSxFQUNwQkMsZUFBZSxXQUFXLEVBQzFCQyxnQkFBZ0IsRUFDaEJDLGFBQWEsRUFDYkMsZUFBZSxFQUNmQyxjQUFjLEVBQ2RDLGFBQWEsRUFDYkMsY0FBYyxFQUNkQyxTQUFTLEVBQ1RDLFNBQVMsRUFDVCxHQUFHQyxPQUNKOztJQUNDLE1BQU0sRUFBRUMscUJBQXFCLEVBQUVDLHFCQUFxQixFQUFFLEdBQUd2Qyx1RUFBb0JBO0lBQzdFLE1BQU13QyxxQkFBcUJGO0lBQzNCLE1BQU1HLElBQUk3Qiw0REFBWUEsQ0FBQ3VCO0lBQ3ZCLE1BQU1PLG9CQUFvQnRDLDhDQUFPQSxDQUFDO1FBQ2hDLE9BQU9xQixzQkFBc0IsSUFBSUgsT0FBT3FCLFFBQVEsQ0FBQ0MsU0FBUyxDQUFDLENBQUNDLFVBQVlBLFFBQVFDLElBQUk7SUFDdEYsR0FBRztRQUFDckI7UUFBcUJILE9BQU9xQixRQUFRO0tBQUM7SUFDekMsTUFBTUksbUJBQW1CM0MsOENBQU9BLENBQUM7UUFDL0IsT0FBT3FCLHNCQUFzQkgsT0FBT3FCLFFBQVEsQ0FBQ0ssTUFBTSxHQUFHLElBQUlsQyx5RUFBYUEsQ0FBQ1EsT0FBT3FCLFFBQVEsRUFBRSxDQUFDRSxVQUFZQSxRQUFRQyxJQUFJO0lB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QUdsRCxnREFBNEIsQ0FBQyxPQUFPO1lBQ3JEa0MsV0FBVztZQUNYLGNBQWNLLEVBQUVzRCxnQ0FBZ0M7UUFDbEQsR0FBRyxhQUFhLGlCQUFHN0YsZ0RBQTRCLENBQUMsUUFBUTtZQUN0RGtDLFdBQVc7UUFDYixHQUFHLGFBQWEsaUJBQUdsQyxnREFBNEIsQ0FBQ08sZ0VBQWFBLEVBQUU7WUFDN0QyQixXQUFXO1FBQ2IsSUFBSUssRUFBRXVELG9CQUFvQixJQUFJaEIsWUFBWUE7SUFDNUMsS0FBS3BELGdCQUFnQixhQUFhLGlCQUFHMUIsZ0RBQTRCLENBQUNjLG9EQUFRQSxFQUFFO1FBQzFFb0IsV0FBVztRQUNYK0IsVUFBVTdDLE9BQU84QixFQUFFO1FBQ25CNkMsa0JBQWtCckUsaUJBQWlCLGNBQWMsT0FBTyxLQUFLO1FBQzdETyxXQUFXO1lBQ1QrRCxzQkFBc0J6RCxFQUFFMEQsMkJBQTJCO1lBQ25EQyxlQUFlM0QsRUFBRTRELG9CQUFvQjtRQUN2QztJQUNGO0FBQ0Y7O1FBL0gyRHJHLG1FQUFvQkE7UUFFbkVZLHdEQUFZQTs7OztRQUZtQ1osbUVBQW9CQTtRQUVuRVksd0RBQVlBOzs7O0FBZ0lSLENBQ2xCLG1DQUFtQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb21wb25lbnRzL1RocmVhZC5tanM/ZDJhMyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyB1c2VSb29tQ29udGV4dEJ1bmRsZSB9IGZyb20gJ0BsaXZlYmxvY2tzL3JlYWN0JztcbmltcG9ydCAqIGFzIFRvZ2dsZVByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtdG9nZ2xlJztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmLCB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBBcnJvd0Rvd25JY29uIH0gZnJvbSAnLi4vaWNvbnMvQXJyb3dEb3duLm1qcyc7XG5pbXBvcnQgeyBSZXNvbHZlSWNvbiB9IGZyb20gJy4uL2ljb25zL1Jlc29sdmUubWpzJztcbmltcG9ydCB7IFJlc29sdmVkSWNvbiB9IGZyb20gJy4uL2ljb25zL1Jlc29sdmVkLm1qcyc7XG5pbXBvcnQgeyB1c2VPdmVycmlkZXMgfSBmcm9tICcuLi9vdmVycmlkZXMubWpzJztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICcuLi91dGlscy9jbGFzcy1uYW1lcy5tanMnO1xuaW1wb3J0IHsgZmluZExhc3RJbmRleCB9IGZyb20gJy4uL3V0aWxzL2ZpbmQtbGFzdC1pbmRleC5tanMnO1xuaW1wb3J0IHsgQ29tbWVudCB9IGZyb20gJy4vQ29tbWVudC5tanMnO1xuaW1wb3J0IHsgQ29tcG9zZXIgfSBmcm9tICcuL0NvbXBvc2VyLm1qcyc7XG5pbXBvcnQgeyBCdXR0b24gfSBmcm9tICcuL2ludGVybmFsL0J1dHRvbi5tanMnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJy4vaW50ZXJuYWwvVG9vbHRpcC5tanMnO1xuaW1wb3J0IHsgVG9vbHRpcFByb3ZpZGVyIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXAnO1xuXG5jb25zdCBUaHJlYWQgPSBmb3J3YXJkUmVmKFxuICAoe1xuICAgIHRocmVhZCxcbiAgICBpbmRlbnRDb21tZW50Q29udGVudCA9IHRydWUsXG4gICAgc2hvd0FjdGlvbnMgPSBcImhvdmVyXCIsXG4gICAgc2hvd0RlbGV0ZWRDb21tZW50cyxcbiAgICBzaG93UmVzb2x2ZUFjdGlvbiA9IHRydWUsXG4gICAgc2hvd1JlYWN0aW9ucyA9IHRydWUsXG4gICAgc2hvd0NvbXBvc2VyID0gXCJjb2xsYXBzZWRcIixcbiAgICBvblJlc29sdmVkQ2hhbmdlLFxuICAgIG9uQ29tbWVudEVkaXQsXG4gICAgb25Db21tZW50RGVsZXRlLFxuICAgIG9uVGhyZWFkRGVsZXRlLFxuICAgIG9uQXV0aG9yQ2xpY2ssXG4gICAgb25NZW50aW9uQ2xpY2ssXG4gICAgb3ZlcnJpZGVzLFxuICAgIGNsYXNzTmFtZSxcbiAgICAuLi5wcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7IHVzZUVkaXRUaHJlYWRNZXRhZGF0YSwgdXNlVGhyZWFkU3Vic2NyaXB0aW9uIH0gPSB1c2VSb29tQ29udGV4dEJ1bmRsZSgpO1xuICAgIGNvbnN0IGVkaXRUaHJlYWRNZXRhZGF0YSA9IHVzZUVkaXRUaHJlYWRNZXRhZGF0YSgpO1xuICAgIGNvbnN0ICQgPSB1c2VPdmVycmlkZXMob3ZlcnJpZGVzKTtcbiAgICBjb25zdCBmaXJzdENvbW1lbnRJbmRleCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIHNob3dEZWxldGVkQ29tbWVudHMgPyAwIDogdGhyZWFkLmNvbW1lbnRzLmZpbmRJbmRleCgoY29tbWVudCkgPT4gY29tbWVudC5ib2R5KTtcbiAgICB9LCBbc2hvd0RlbGV0ZWRDb21tZW50cywgdGhyZWFkLmNvbW1lbnRzXSk7XG4gICAgY29uc3QgbGFzdENvbW1lbnRJbmRleCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgICAgcmV0dXJuIHNob3dEZWxldGVkQ29tbWVudHMgPyB0aHJlYWQuY29tbWVudHMubGVuZ3RoIC0gMSA6IGZpbmRMYXN0SW5kZXgodGhyZWFkLmNvbW1lbnRzLCAoY29tbWVudCkgPT4gY29tbWVudC5ib2R5KTtcbiAgICB9LCBbc2hvd0RlbGV0ZWRDb21tZW50cywgdGhyZWFkLmNvbW1lbnRzXSk7XG4gICAgY29uc3QgeyBzdGF0dXM6IHN1YnNjcmlwdGlvblN0YXR1cywgdW5yZWFkU2luY2UgfSA9IHVzZVRocmVhZFN1YnNjcmlwdGlvbihcbiAgICAgIHRocmVhZC5pZFxuICAgICk7XG4gICAgY29uc3QgdW5yZWFkSW5kZXggPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIGlmIChzdWJzY3JpcHRpb25TdGF0dXMgIT09IFwic3Vic2NyaWJlZFwiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmICh1bnJlYWRTaW5jZSA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gZmlyc3RDb21tZW50SW5kZXg7XG4gICAgICB9XG4gICAgICBjb25zdCB1bnJlYWRJbmRleDIgPSB0aHJlYWQuY29tbWVudHMuZmluZEluZGV4KFxuICAgICAgICAoY29tbWVudCkgPT4gKHNob3dEZWxldGVkQ29tbWVudHMgPyB0cnVlIDogY29tbWVudC5ib2R5KSAmJiBjb21tZW50LmNyZWF0ZWRBdCA+IHVucmVhZFNpbmNlXG4gICAgICApO1xuICAgICAgcmV0dXJuIHVucmVhZEluZGV4MiA+PSAwICYmIHVucmVhZEluZGV4MiA8IHRocmVhZC5jb21tZW50cy5sZW5ndGggPyB1bnJlYWRJbmRleDIgOiB2b2lkIDA7XG4gICAgfSwgW1xuICAgICAgZmlyc3RDb21tZW50SW5kZXgsXG4gICAgICBzaG93RGVsZXRlZENvbW1lbnRzLFxuICAgICAgc3Vic2NyaXB0aW9uU3RhdHVzLFxuICAgICAgdGhyZWFkLmNvbW1lbnRzLFxuICAgICAgdW5yZWFkU2luY2VcbiAgICBdKTtcbiAgICBjb25zdCBbbmV3SW5kZXgsIHNldE5ld0luZGV4XSA9IHVzZVN0YXRlKCk7XG4gICAgY29uc3QgbmV3SW5kaWNhdG9ySW5kZXggPSBuZXdJbmRleCA9PT0gdm9pZCAwID8gdW5yZWFkSW5kZXggOiBuZXdJbmRleDtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHVucmVhZEluZGV4KSB7XG4gICAgICAgIHNldE5ld0luZGV4KFxuICAgICAgICAgIChwZXJzaXN0ZWRVbnJlYWRJbmRleCkgPT4gTWF0aC5taW4ocGVyc2lzdGVkVW5yZWFkSW5kZXggPz8gSW5maW5pdHksIHVucmVhZEluZGV4KVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0sIFt1bnJlYWRJbmRleF0pO1xuICAgIGNvbnN0IHN0b3BQcm9wYWdhdGlvbiA9IHVzZUNhbGxiYWNrKChldmVudCkgPT4ge1xuICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZVJlc29sdmVkQ2hhbmdlID0gdXNlQ2FsbGJhY2soXG4gICAgICAocmVzb2x2ZWQpID0+IHtcbiAgICAgICAgb25SZXNvbHZlZENoYW5nZT8uKHJlc29sdmVkKTtcbiAgICAgICAgZWRpdFRocmVhZE1ldGFkYXRhKHsgdGhyZWFkSWQ6IHRocmVhZC5pZCwgbWV0YWRhdGE6IHsgcmVzb2x2ZWQgfSB9KTtcbiAgICAgIH0sXG4gICAgICBbZWRpdFRocmVhZE1ldGFkYXRhLCBvblJlc29sdmVkQ2hhbmdlLCB0aHJlYWQuaWRdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVDb21tZW50RGVsZXRlID0gdXNlQ2FsbGJhY2soXG4gICAgICAoY29tbWVudCkgPT4ge1xuICAgICAgICBvbkNvbW1lbnREZWxldGU/Lihjb21tZW50KTtcbiAgICAgICAgY29uc3QgZmlsdGVyZWRDb21tZW50cyA9IHRocmVhZC5jb21tZW50cy5maWx0ZXIoXG4gICAgICAgICAgKGNvbW1lbnQyKSA9PiBjb21tZW50Mi5ib2R5XG4gICAgICAgICk7XG4gICAgICAgIGlmIChmaWx0ZXJlZENvbW1lbnRzLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgb25UaHJlYWREZWxldGU/Lih0aHJlYWQpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW29uQ29tbWVudERlbGV0ZSwgb25UaHJlYWREZWxldGUsIHRocmVhZF1cbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwUHJvdmlkZXIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcbiAgICAgICAgXCJsYi1yb290IGxiLXRocmVhZFwiLFxuICAgICAgICBzaG93QWN0aW9ucyA9PT0gXCJob3ZlclwiICYmIFwibGItdGhyZWFkOnNob3ctYWN0aW9ucy1ob3ZlclwiLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICBcImRhdGEtcmVzb2x2ZWRcIjogdGhyZWFkLm1ldGFkYXRhLnJlc29sdmVkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgIFwiZGF0YS11bnJlYWRcIjogdW5yZWFkSW5kZXggIT09IHZvaWQgMCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgICBkaXI6ICQuZGlyLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi10aHJlYWQtY29tbWVudHNcIlxuICAgIH0sIHRocmVhZC5jb21tZW50cy5tYXAoKGNvbW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBjb25zdCBpc0ZpcnN0Q29tbWVudCA9IGluZGV4ID09PSBmaXJzdENvbW1lbnRJbmRleDtcbiAgICAgIGNvbnN0IGlzVW5yZWFkID0gdW5yZWFkSW5kZXggIT09IHZvaWQgMCAmJiBpbmRleCA+PSB1bnJlYWRJbmRleDtcbiAgICAgIGNvbnN0IGNoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudCwge1xuICAgICAgICBrZXk6IGNvbW1lbnQuaWQsXG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi10aHJlYWQtY29tbWVudFwiLFxuICAgICAgICBcImRhdGEtdW5yZWFkXCI6IGlzVW5yZWFkID8gXCJcIiA6IHZvaWQgMCxcbiAgICAgICAgY29tbWVudCxcbiAgICAgICAgaW5kZW50Q29udGVudDogaW5kZW50Q29tbWVudENvbnRlbnQsXG4gICAgICAgIHNob3dEZWxldGVkOiBzaG93RGVsZXRlZENvbW1lbnRzLFxuICAgICAgICBzaG93QWN0aW9ucyxcbiAgICAgICAgc2hvd1JlYWN0aW9ucyxcbiAgICAgICAgb25Db21tZW50RWRpdCxcbiAgICAgICAgb25Db21tZW50RGVsZXRlOiBoYW5kbGVDb21tZW50RGVsZXRlLFxuICAgICAgICBvbkF1dGhvckNsaWNrLFxuICAgICAgICBvbk1lbnRpb25DbGljayxcbiAgICAgICAgbWFya1RocmVhZEFzUmVhZFdoZW5WaXNpYmxlOiBpbmRleCA9PT0gbGFzdENvbW1lbnRJbmRleCAmJiBpc1VucmVhZCA/IHRocmVhZC5pZCA6IHZvaWQgMCxcbiAgICAgICAgYWRkaXRpb25hbEFjdGlvbnNDbGFzc05hbWU6IGlzRmlyc3RDb21tZW50ID8gXCJsYi10aHJlYWQtYWN0aW9uc1wiIDogdm9pZCAwLFxuICAgICAgICBhZGRpdGlvbmFsQWN0aW9uczogaXNGaXJzdENvbW1lbnQgJiYgc2hvd1Jlc29sdmVBY3Rpb24gPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgICAgICAgY29udGVudDogdGhyZWFkLm1ldGFkYXRhLnJlc29sdmVkID8gJC5USFJFQURfVU5SRVNPTFZFIDogJC5USFJFQURfUkVTT0xWRVxuICAgICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb2dnbGVQcmltaXRpdmUuUm9vdCwge1xuICAgICAgICAgIHByZXNzZWQ6IHRocmVhZC5tZXRhZGF0YS5yZXNvbHZlZCxcbiAgICAgICAgICBvblByZXNzZWRDaGFuZ2U6IGhhbmRsZVJlc29sdmVkQ2hhbmdlLFxuICAgICAgICAgIGFzQ2hpbGQ6IHRydWVcbiAgICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQnV0dG9uLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBcImxiLWNvbW1lbnQtYWN0aW9uXCIsXG4gICAgICAgICAgb25DbGljazogc3RvcFByb3BhZ2F0aW9uLFxuICAgICAgICAgIFwiYXJpYS1sYWJlbFwiOiB0aHJlYWQubWV0YWRhdGEucmVzb2x2ZWQgPyAkLlRIUkVBRF9VTlJFU09MVkUgOiAkLlRIUkVBRF9SRVNPTFZFXG4gICAgICAgIH0sIHRocmVhZC5tZXRhZGF0YS5yZXNvbHZlZCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFJlc29sdmVkSWNvbiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJsYi1idXR0b24taWNvblwiXG4gICAgICAgIH0pIDogLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVzb2x2ZUljb24sIHtcbiAgICAgICAgICBjbGFzc05hbWU6IFwibGItYnV0dG9uLWljb25cIlxuICAgICAgICB9KSkpKSA6IG51bGxcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluZGV4ID09PSBuZXdJbmRpY2F0b3JJbmRleCAmJiBuZXdJbmRpY2F0b3JJbmRleCAhPT0gZmlyc3RDb21tZW50SW5kZXggJiYgbmV3SW5kaWNhdG9ySW5kZXggPD0gbGFzdENvbW1lbnRJbmRleCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCB7XG4gICAgICAgIGtleTogY29tbWVudC5pZFxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibGItdGhyZWFkLW5ldy1pbmRpY2F0b3JcIixcbiAgICAgICAgXCJhcmlhLWxhYmVsXCI6ICQuVEhSRUFEX05FV19JTkRJQ0FUT1JfREVTQ1JJUFRJT05cbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi10aHJlYWQtbmV3LWluZGljYXRvci1sYWJlbFwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChBcnJvd0Rvd25JY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYi10aHJlYWQtbmV3LWluZGljYXRvci1sYWJlbC1pY29uXCJcbiAgICAgIH0pLCAkLlRIUkVBRF9ORVdfSU5ESUNBVE9SKSksIGNoaWxkcmVuKSA6IGNoaWxkcmVuO1xuICAgIH0pKSwgc2hvd0NvbXBvc2VyICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItdGhyZWFkLWNvbXBvc2VyXCIsXG4gICAgICB0aHJlYWRJZDogdGhyZWFkLmlkLFxuICAgICAgZGVmYXVsdENvbGxhcHNlZDogc2hvd0NvbXBvc2VyID09PSBcImNvbGxhcHNlZFwiID8gdHJ1ZSA6IHZvaWQgMCxcbiAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICBDT01QT1NFUl9QTEFDRUhPTERFUjogJC5USFJFQURfQ09NUE9TRVJfUExBQ0VIT0xERVIsXG4gICAgICAgIENPTVBPU0VSX1NFTkQ6ICQuVEhSRUFEX0NPTVBPU0VSX1NFTkRcbiAgICAgIH1cbiAgICB9KSkpO1xuICB9XG4pO1xuXG5leHBvcnQgeyBUaHJlYWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVRocmVhZC5tanMubWFwXG4iXSwibmFtZXMiOlsidXNlUm9vbUNvbnRleHRCdW5kbGUiLCJUb2dnbGVQcmltaXRpdmUiLCJSZWFjdF9fZGVmYXVsdCIsImZvcndhcmRSZWYiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJ1c2VFZmZlY3QiLCJ1c2VDYWxsYmFjayIsIkZyYWdtZW50IiwiQXJyb3dEb3duSWNvbiIsIlJlc29sdmVJY29uIiwiUmVzb2x2ZWRJY29uIiwidXNlT3ZlcnJpZGVzIiwiY2xhc3NOYW1lcyIsImZpbmRMYXN0SW5kZXgiLCJDb21tZW50IiwiQ29tcG9zZXIiLCJCdXR0b24iLCJUb29sdGlwIiwiVG9vbHRpcFByb3ZpZGVyIiwiVGhyZWFkIiwiZm9yd2FyZGVkUmVmIiwidGhyZWFkIiwiaW5kZW50Q29tbWVudENvbnRlbnQiLCJzaG93QWN0aW9ucyIsInNob3dEZWxldGVkQ29tbWVudHMiLCJzaG93UmVzb2x2ZUFjdGlvbiIsInNob3dSZWFjdGlvbnMiLCJzaG93Q29tcG9zZXIiLCJvblJlc29sdmVkQ2hhbmdlIiwib25Db21tZW50RWRpdCIsIm9uQ29tbWVudERlbGV0ZSIsIm9uVGhyZWFkRGVsZXRlIiwib25BdXRob3JDbGljayIsIm9uTWVudGlvbkNsaWNrIiwib3ZlcnJpZGVzIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJ1c2VFZGl0VGhyZWFkTWV0YWRhdGEiLCJ1c2VUaHJlYWRTdWJzY3JpcHRpb24iLCJlZGl0VGhyZWFkTWV0YWRhdGEiLCIkIiwiZmlyc3RDb21tZW50SW5kZXgiLCJjb21tZW50cyIsImZpbmRJbmRleCIsImNvbW1lbnQiLCJib2R5IiwibGFzdENvbW1lbnRJbmRleCIsImxlbmd0aCIsInN0YXR1cyIsInN1YnNjcmlwdGlvblN0YXR1cyIsInVucmVhZFNpbmNlIiwiaWQiLCJ1bnJlYWRJbmRleCIsInVucmVhZEluZGV4MiIsImNyZWF0ZWRBdCIsIm5ld0luZGV4Iiwic2V0TmV3SW5kZXgiLCJuZXdJbmRpY2F0b3JJbmRleCIsInBlcnNpc3RlZFVucmVhZEluZGV4IiwiTWF0aCIsIm1pbiIsIkluZmluaXR5Iiwic3RvcFByb3BhZ2F0aW9uIiwiZXZlbnQiLCJoYW5kbGVSZXNvbHZlZENoYW5nZSIsInJlc29sdmVkIiwidGhyZWFkSWQiLCJtZXRhZGF0YSIsImhhbmRsZUNvbW1lbnREZWxldGUiLCJmaWx0ZXJlZENvbW1lbnRzIiwiZmlsdGVyIiwiY29tbWVudDIiLCJjcmVhdGVFbGVtZW50IiwiZGlyIiwicmVmIiwibWFwIiwiaW5kZXgiLCJpc0ZpcnN0Q29tbWVudCIsImlzVW5yZWFkIiwiY2hpbGRyZW4iLCJrZXkiLCJpbmRlbnRDb250ZW50Iiwic2hvd0RlbGV0ZWQiLCJtYXJrVGhyZWFkQXNSZWFkV2hlblZpc2libGUiLCJhZGRpdGlvbmFsQWN0aW9uc0NsYXNzTmFtZSIsImFkZGl0aW9uYWxBY3Rpb25zIiwiY29udGVudCIsIlRIUkVBRF9VTlJFU09MVkUiLCJUSFJFQURfUkVTT0xWRSIsIlJvb3QiLCJwcmVzc2VkIiwib25QcmVzc2VkQ2hhbmdlIiwiYXNDaGlsZCIsIm9uQ2xpY2siLCJUSFJFQURfTkVXX0lORElDQVRPUl9ERVNDUklQVElPTiIsIlRIUkVBRF9ORVdfSU5ESUNBVE9SIiwiZGVmYXVsdENvbGxhcHNlZCIsIkNPTVBPU0VSX1BMQUNFSE9MREVSIiwiVEhSRUFEX0NPTVBPU0VSX1BMQUNFSE9MREVSIiwiQ09NUE9TRVJfU0VORCIsIlRIUkVBRF9DT01QT1NFUl9TRU5EIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/Thread.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Attribution.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Attribution.mjs ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Attribution: function() { return /* binding */ Attribution; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n\n\n\nfunction Attribution({ className, ...props }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", {\n    href: \"https://liveblocks.io\",\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__.classNames)(\"lb-composer-attribution\", className),\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 384 72\",\n    \"aria-label\": \"Made with Liveblocks\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M86 10h-8v50h8V10Zm16 14h-8v36h8V24Zm0-15h-8v9h8V9Zm13 15h-9l12 36h10l13-36h-9l-9 28-8-28Zm44-1c-11 0-18 8-18 19s7 19 18 19c8 0 15-4 17-13h-8c-1 4-5 6-9 6-6 0-9-3-9-10h27c0-10-6-21-18-21Zm0 7c5 0 9 3 9 8h-18c0-5 4-8 9-8Zm42-7c-4 0-8 2-11 6V10h-8v50h8v-5c3 4 7 6 11 6 11 0 16-9 16-19s-5-19-16-19Zm-2 32c-7 0-9-7-9-13s2-13 9-13 9 7 9 13-2 13-9 13Zm32-45h-8v50h8V10Zm24 51c11 0 18-8 18-19s-8-19-18-19c-11 0-19 8-19 19s7 19 19 19Zm0-6c-8 0-10-7-10-13s2-13 10-13c7 0 9 7 9 13s-2 13-9 13Zm39 6c8 0 15-4 17-12l-8-1c-2 4-4 6-9 6-7 0-9-6-9-12s2-12 9-12c5 0 8 3 8 7l9-1c-2-8-9-13-17-13-11 0-18 9-18 19 0 11 7 19 18 19Zm30-14 4-4 10 17h10l-15-23 15-13h-11l-13 13V10h-9v50h9V47Zm39 14c8 0 16-3 16-12 0-8-8-10-15-11-2-1-7-1-7-5 0-3 3-4 6-4 4 0 7 3 7 7l8-1c-1-9-8-12-15-12s-15 3-15 11 9 10 15 11c3 1 8 2 8 5 0 4-4 5-7 5-5 0-8-3-9-7l-8 1c1 8 9 12 16 12ZM41 27H0l12 12v17l29-29ZM20 60h40L48 48V32L20 60Z\",\n    fill: \"currentColor\"\n  })));\n}\n\n\n//# sourceMappingURL=Attribution.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvQXR0cmlidXRpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNzQjs7QUFFekQsdUJBQXVCLHFCQUFxQjtBQUM1Qyx5QkFBeUIsZ0RBQTRCO0FBQ3JEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQVU7QUFDekI7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUV1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb21wb25lbnRzL2ludGVybmFsL0F0dHJpYnV0aW9uLm1qcz81MmJiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2xhc3MtbmFtZXMubWpzJztcblxuZnVuY3Rpb24gQXR0cmlidXRpb24oeyBjbGFzc05hbWUsIC4uLnByb3BzIH0pIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7XG4gICAgaHJlZjogXCJodHRwczovL2xpdmVibG9ja3MuaW9cIixcbiAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXJcIixcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1jb21wb3Nlci1hdHRyaWJ1dGlvblwiLCBjbGFzc05hbWUpLFxuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICB4bWxuczogXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLFxuICAgIHZpZXdCb3g6IFwiMCAwIDM4NCA3MlwiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiBcIk1hZGUgd2l0aCBMaXZlYmxvY2tzXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBmaWxsUnVsZTogXCJldmVub2RkXCIsXG4gICAgY2xpcFJ1bGU6IFwiZXZlbm9kZFwiLFxuICAgIGQ6IFwiTTg2IDEwaC04djUwaDhWMTBabTE2IDE0aC04djM2aDhWMjRabTAtMTVoLTh2OWg4VjlabTEzIDE1aC05bDEyIDM2aDEwbDEzLTM2aC05bC05IDI4LTgtMjhabTQ0LTFjLTExIDAtMTggOC0xOCAxOXM3IDE5IDE4IDE5YzggMCAxNS00IDE3LTEzaC04Yy0xIDQtNSA2LTkgNi02IDAtOS0zLTktMTBoMjdjMC0xMC02LTIxLTE4LTIxWm0wIDdjNSAwIDkgMyA5IDhoLTE4YzAtNSA0LTggOS04Wm00Mi03Yy00IDAtOCAyLTExIDZWMTBoLTh2NTBoOHYtNWMzIDQgNyA2IDExIDYgMTEgMCAxNi05IDE2LTE5cy01LTE5LTE2LTE5Wm0tMiAzMmMtNyAwLTktNy05LTEzczItMTMgOS0xMyA5IDcgOSAxMy0yIDEzLTkgMTNabTMyLTQ1aC04djUwaDhWMTBabTI0IDUxYzExIDAgMTgtOCAxOC0xOXMtOC0xOS0xOC0xOWMtMTEgMC0xOSA4LTE5IDE5czcgMTkgMTkgMTlabTAtNmMtOCAwLTEwLTctMTAtMTNzMi0xMyAxMC0xM2M3IDAgOSA3IDkgMTNzLTIgMTMtOSAxM1ptMzkgNmM4IDAgMTUtNCAxNy0xMmwtOC0xYy0yIDQtNCA2LTkgNi03IDAtOS02LTktMTJzMi0xMiA5LTEyYzUgMCA4IDMgOCA3bDktMWMtMi04LTktMTMtMTctMTMtMTEgMC0xOCA5LTE4IDE5IDAgMTEgNyAxOSAxOCAxOVptMzAtMTQgNC00IDEwIDE3aDEwbC0xNS0yMyAxNS0xM2gtMTFsLTEzIDEzVjEwaC05djUwaDlWNDdabTM5IDE0YzggMCAxNi0zIDE2LTEyIDAtOC04LTEwLTE1LTExLTItMS03LTEtNy01IDAtMyAzLTQgNi00IDQgMCA3IDMgNyA3bDgtMWMtMS05LTgtMTItMTUtMTJzLTE1IDMtMTUgMTEgOSAxMCAxNSAxMWMzIDEgOCAyIDggNSAwIDQtNCA1LTcgNS01IDAtOC0zLTktN2wtOCAxYzEgOCA5IDEyIDE2IDEyWk00MSAyN0gwbDEyIDEydjE3bDI5LTI5Wk0yMCA2MGg0MEw0OCA0OFYzMkwyMCA2MFpcIixcbiAgICBmaWxsOiBcImN1cnJlbnRDb2xvclwiXG4gIH0pKSk7XG59XG5cbmV4cG9ydCB7IEF0dHJpYnV0aW9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdHRyaWJ1dGlvbi5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Attribution.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Avatar.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Avatar.mjs ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Avatar: function() { return /* binding */ Avatar; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_get_initials_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/get-initials.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/get-initials.mjs\");\n/* __next_internal_client_entry_do_not_use__ Avatar auto */ var _s = $RefreshSig$();\n\n\n\n\nfunction Avatar(param) {\n    let { userId, className, ...props } = param;\n    _s();\n    const { useUser } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_1__.useSharedContextBundle)();\n    const { user, isLoading } = useUser(userId);\n    const resolvedUserName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>user === null || user === void 0 ? void 0 : user.name, [\n        user\n    ]);\n    const resolvedUserAvatar = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>user === null || user === void 0 ? void 0 : user.avatar, [\n        user\n    ]);\n    const resolvedUserInitials = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>resolvedUserName ? (0,_utils_get_initials_mjs__WEBPACK_IMPORTED_MODULE_2__.getInitials)(resolvedUserName) : void 0, [\n        resolvedUserName\n    ]);\n    const resolvedUserIdInitials = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>!isLoading && !user ? (0,_utils_get_initials_mjs__WEBPACK_IMPORTED_MODULE_2__.getInitials)(userId) : void 0, [\n        isLoading,\n        user,\n        userId\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_3__.classNames)(\"lb-avatar\", className),\n        \"data-loading\": isLoading ? \"\" : void 0,\n        ...props\n    }, resolvedUserAvatar && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lb-avatar-image\",\n        src: resolvedUserAvatar,\n        alt: resolvedUserName\n    }), resolvedUserInitials ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-avatar-fallback\",\n        \"aria-hidden\": true\n    }, resolvedUserInitials) : resolvedUserIdInitials ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"lb-avatar-fallback\",\n        \"aria-label\": userId,\n        title: userId\n    }, resolvedUserIdInitials) : null);\n}\n_s(Avatar, \"Hhz+KA6BMQE8xB0b96e4C5/SEfU=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_1__.useSharedContextBundle\n    ];\n});\n_c = Avatar;\n //# sourceMappingURL=Avatar.mjs.map\nvar _c;\n$RefreshReg$(_c, \"Avatar\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvQXZhdGFyLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDMkQ7QUFDWDtBQUNTO0FBQ0U7QUFFM0QsU0FBU0ssT0FBTyxLQUErQjtRQUEvQixFQUFFQyxNQUFNLEVBQUVDLFNBQVMsRUFBRSxHQUFHQyxPQUFPLEdBQS9COztJQUNkLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdULHlFQUFzQkE7SUFDMUMsTUFBTSxFQUFFVSxJQUFJLEVBQUVDLFNBQVMsRUFBRSxHQUFHRixRQUFRSDtJQUNwQyxNQUFNTSxtQkFBbUJWLDhDQUFPQSxDQUFDLElBQU1RLGlCQUFBQSwyQkFBQUEsS0FBTUcsSUFBSSxFQUFFO1FBQUNIO0tBQUs7SUFDekQsTUFBTUkscUJBQXFCWiw4Q0FBT0EsQ0FBQyxJQUFNUSxpQkFBQUEsMkJBQUFBLEtBQU1LLE1BQU0sRUFBRTtRQUFDTDtLQUFLO0lBQzdELE1BQU1NLHVCQUF1QmQsOENBQU9BLENBQ2xDLElBQU1VLG1CQUFtQlIsb0VBQVdBLENBQUNRLG9CQUFvQixLQUFLLEdBQzlEO1FBQUNBO0tBQWlCO0lBRXBCLE1BQU1LLHlCQUF5QmYsOENBQU9BLENBQ3BDLElBQU0sQ0FBQ1MsYUFBYSxDQUFDRCxPQUFPTixvRUFBV0EsQ0FBQ0UsVUFBVSxLQUFLLEdBQ3ZEO1FBQUNLO1FBQVdEO1FBQU1KO0tBQU87SUFFM0IsT0FBTyxhQUFhLGlCQUFHTCxnREFBNEIsQ0FBQyxPQUFPO1FBQ3pETSxXQUFXSixrRUFBVUEsQ0FBQyxhQUFhSTtRQUNuQyxnQkFBZ0JJLFlBQVksS0FBSyxLQUFLO1FBQ3RDLEdBQUdILEtBQUs7SUFDVixHQUFHTSxzQkFBc0IsYUFBYSxpQkFBR2IsZ0RBQTRCLENBQUMsT0FBTztRQUMzRU0sV0FBVztRQUNYWSxLQUFLTDtRQUNMTSxLQUFLUjtJQUNQLElBQUlJLHVCQUF1QixhQUFhLGlCQUFHZixnREFBNEIsQ0FBQyxRQUFRO1FBQzlFTSxXQUFXO1FBQ1gsZUFBZTtJQUNqQixHQUFHUyx3QkFBd0JDLHlCQUF5QixhQUFhLGlCQUFHaEIsZ0RBQTRCLENBQUMsUUFBUTtRQUN2R00sV0FBVztRQUNYLGNBQWNEO1FBQ2RlLE9BQU9mO0lBQ1QsR0FBR1csMEJBQTBCO0FBQy9CO0dBN0JTWjs7UUFDYUwscUVBQXNCQTs7O0tBRG5DSztBQStCUyxDQUNsQixtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvY29tcG9uZW50cy9pbnRlcm5hbC9BdmF0YXIubWpzPzc1ODAiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuaW1wb3J0IHsgdXNlU2hhcmVkQ29udGV4dEJ1bmRsZSB9IGZyb20gJ0BsaXZlYmxvY2tzL3JlYWN0JztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NsYXNzLW5hbWVzLm1qcyc7XG5pbXBvcnQgeyBnZXRJbml0aWFscyB9IGZyb20gJy4uLy4uL3V0aWxzL2dldC1pbml0aWFscy5tanMnO1xuXG5mdW5jdGlvbiBBdmF0YXIoeyB1c2VySWQsIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSkge1xuICBjb25zdCB7IHVzZVVzZXIgfSA9IHVzZVNoYXJlZENvbnRleHRCdW5kbGUoKTtcbiAgY29uc3QgeyB1c2VyLCBpc0xvYWRpbmcgfSA9IHVzZVVzZXIodXNlcklkKTtcbiAgY29uc3QgcmVzb2x2ZWRVc2VyTmFtZSA9IHVzZU1lbW8oKCkgPT4gdXNlcj8ubmFtZSwgW3VzZXJdKTtcbiAgY29uc3QgcmVzb2x2ZWRVc2VyQXZhdGFyID0gdXNlTWVtbygoKSA9PiB1c2VyPy5hdmF0YXIsIFt1c2VyXSk7XG4gIGNvbnN0IHJlc29sdmVkVXNlckluaXRpYWxzID0gdXNlTWVtbyhcbiAgICAoKSA9PiByZXNvbHZlZFVzZXJOYW1lID8gZ2V0SW5pdGlhbHMocmVzb2x2ZWRVc2VyTmFtZSkgOiB2b2lkIDAsXG4gICAgW3Jlc29sdmVkVXNlck5hbWVdXG4gICk7XG4gIGNvbnN0IHJlc29sdmVkVXNlcklkSW5pdGlhbHMgPSB1c2VNZW1vKFxuICAgICgpID0+ICFpc0xvYWRpbmcgJiYgIXVzZXIgPyBnZXRJbml0aWFscyh1c2VySWQpIDogdm9pZCAwLFxuICAgIFtpc0xvYWRpbmcsIHVzZXIsIHVzZXJJZF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1hdmF0YXJcIiwgY2xhc3NOYW1lKSxcbiAgICBcImRhdGEtbG9hZGluZ1wiOiBpc0xvYWRpbmcgPyBcIlwiIDogdm9pZCAwLFxuICAgIC4uLnByb3BzXG4gIH0sIHJlc29sdmVkVXNlckF2YXRhciAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgY2xhc3NOYW1lOiBcImxiLWF2YXRhci1pbWFnZVwiLFxuICAgIHNyYzogcmVzb2x2ZWRVc2VyQXZhdGFyLFxuICAgIGFsdDogcmVzb2x2ZWRVc2VyTmFtZVxuICB9KSwgcmVzb2x2ZWRVc2VySW5pdGlhbHMgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJsYi1hdmF0YXItZmFsbGJhY2tcIixcbiAgICBcImFyaWEtaGlkZGVuXCI6IHRydWVcbiAgfSwgcmVzb2x2ZWRVc2VySW5pdGlhbHMpIDogcmVzb2x2ZWRVc2VySWRJbml0aWFscyA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcImxiLWF2YXRhci1mYWxsYmFja1wiLFxuICAgIFwiYXJpYS1sYWJlbFwiOiB1c2VySWQsXG4gICAgdGl0bGU6IHVzZXJJZFxuICB9LCByZXNvbHZlZFVzZXJJZEluaXRpYWxzKSA6IG51bGwpO1xufVxuXG5leHBvcnQgeyBBdmF0YXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUF2YXRhci5tanMubWFwXG4iXSwibmFtZXMiOlsidXNlU2hhcmVkQ29udGV4dEJ1bmRsZSIsIlJlYWN0X19kZWZhdWx0IiwidXNlTWVtbyIsImNsYXNzTmFtZXMiLCJnZXRJbml0aWFscyIsIkF2YXRhciIsInVzZXJJZCIsImNsYXNzTmFtZSIsInByb3BzIiwidXNlVXNlciIsInVzZXIiLCJpc0xvYWRpbmciLCJyZXNvbHZlZFVzZXJOYW1lIiwibmFtZSIsInJlc29sdmVkVXNlckF2YXRhciIsImF2YXRhciIsInJlc29sdmVkVXNlckluaXRpYWxzIiwicmVzb2x2ZWRVc2VySWRJbml0aWFscyIsImNyZWF0ZUVsZW1lbnQiLCJzcmMiLCJhbHQiLCJ0aXRsZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Avatar.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs":
/*!*************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs ***!
  \*************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Button: function() { return /* binding */ Button; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* __next_internal_client_entry_do_not_use__ Button auto */ \n\nconst Button = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c = (param, forwardedRef)=>{\n    let { variant = \"default\", disableable = true, className, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n        type: \"button\",\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__.classNames)(\"lb-button\", !disableable && \"lb-button:non-disableable\", className),\n        \"data-variant\": variant,\n        ...props,\n        ref: forwardedRef\n    });\n});\n_c1 = Button;\n //# sourceMappingURL=Button.mjs.map\nvar _c, _c1;\n$RefreshReg$(_c, \"Button$forwardRef\");\n$RefreshReg$(_c1, \"Button\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvQnV0dG9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7NERBQ21EO0FBQ007QUFFekQsTUFBTUcsdUJBQVNGLGlEQUFVQSxNQUN2QixRQUFtRUc7UUFBbEUsRUFBRUMsVUFBVSxTQUFTLEVBQUVDLGNBQWMsSUFBSSxFQUFFQyxTQUFTLEVBQUUsR0FBR0MsT0FBTztJQUMvRCxPQUFPLGFBQWEsaUJBQUdSLGdEQUE0QixDQUFDLFVBQVU7UUFDNURVLE1BQU07UUFDTkgsV0FBV0wsa0VBQVVBLENBQ25CLGFBQ0EsQ0FBQ0ksZUFBZSw2QkFDaEJDO1FBRUYsZ0JBQWdCRjtRQUNoQixHQUFHRyxLQUFLO1FBQ1JHLEtBQUtQO0lBQ1A7QUFDRjs7QUFHZ0IsQ0FDbEIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvQnV0dG9uLm1qcz8yODJlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NsYXNzLW5hbWVzLm1qcyc7XG5cbmNvbnN0IEJ1dHRvbiA9IGZvcndhcmRSZWYoXG4gICh7IHZhcmlhbnQgPSBcImRlZmF1bHRcIiwgZGlzYWJsZWFibGUgPSB0cnVlLCBjbGFzc05hbWUsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICB0eXBlOiBcImJ1dHRvblwiLFxuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFxuICAgICAgICBcImxiLWJ1dHRvblwiLFxuICAgICAgICAhZGlzYWJsZWFibGUgJiYgXCJsYi1idXR0b246bm9uLWRpc2FibGVhYmxlXCIsXG4gICAgICAgIGNsYXNzTmFtZVxuICAgICAgKSxcbiAgICAgIFwiZGF0YS12YXJpYW50XCI6IHZhcmlhbnQsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSk7XG4gIH1cbik7XG5cbmV4cG9ydCB7IEJ1dHRvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QnV0dG9uLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJSZWFjdF9fZGVmYXVsdCIsImZvcndhcmRSZWYiLCJjbGFzc05hbWVzIiwiQnV0dG9uIiwiZm9yd2FyZGVkUmVmIiwidmFyaWFudCIsImRpc2FibGVhYmxlIiwiY2xhc3NOYW1lIiwicHJvcHMiLCJjcmVhdGVFbGVtZW50IiwidHlwZSIsInJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Button.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Dropdown.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Dropdown.mjs ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Dropdown: function() { return /* binding */ Dropdown; },\n/* harmony export */   DropdownItem: function() { return /* binding */ DropdownItem; },\n/* harmony export */   DropdownTrigger: function() { return /* reexport safe */ _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__.DropdownMenuTrigger; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @radix-ui/react-dropdown-menu */ \"(app-pages-browser)/./node_modules/@radix-ui/react-dropdown-menu/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _config_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs\");\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* __next_internal_client_entry_do_not_use__ DropdownTrigger,Dropdown,DropdownItem auto */ var _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction Dropdown(param) {\n    let { children, content, defaultOpen, open, onOpenChange, className, ...props } = param;\n    _s();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides)();\n    const { portalContainer } = (0,_config_mjs__WEBPACK_IMPORTED_MODULE_3__.useCommentsConfig)();\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__.Root, {\n        defaultOpen,\n        open,\n        onOpenChange,\n        dir: $.dir\n    }, children, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__.Portal, {\n        container: portalContainer\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__.Content, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-root lb-portal lb-elevation lb-dropdown\", className),\n        sideOffset: _constants_mjs__WEBPACK_IMPORTED_MODULE_5__.FLOATING_ELEMENT_SIDE_OFFSET,\n        collisionPadding: _constants_mjs__WEBPACK_IMPORTED_MODULE_5__.FLOATING_ELEMENT_COLLISION_PADDING,\n        ...props\n    }, content)));\n}\n_s(Dropdown, \"slKYsdvm9vgQFzjkeAEKppwnAwc=\", false, function() {\n    return [\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides,\n        _config_mjs__WEBPACK_IMPORTED_MODULE_3__.useCommentsConfig\n    ];\n});\n_c = Dropdown;\nconst DropdownItem = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_c1 = (param, forwardedRef)=>{\n    let { children, className, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_dropdown_menu__WEBPACK_IMPORTED_MODULE_0__.DropdownMenuItem, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-dropdown-item\", className),\n        ...props,\n        ref: forwardedRef\n    }, children);\n});\n_c2 = DropdownItem;\n //# sourceMappingURL=Dropdown.mjs.map\nvar _c, _c1, _c2;\n$RefreshReg$(_c, \"Dropdown\");\n$RefreshReg$(_c1, \"DropdownItem$forwardRef\");\n$RefreshReg$(_c2, \"DropdownItem\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvRHJvcGRvd24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDdUU7QUFDZ0I7QUFDcEM7QUFDRTtBQUNrRDtBQUNwRDtBQUNNO0FBRXpELFNBQVNVLFNBQVMsS0FRakI7UUFSaUIsRUFDaEJDLFFBQVEsRUFDUkMsT0FBTyxFQUNQQyxXQUFXLEVBQ1hDLElBQUksRUFDSkMsWUFBWSxFQUNaQyxTQUFTLEVBQ1QsR0FBR0MsT0FDSixHQVJpQjs7SUFTaEIsTUFBTUMsSUFBSVYsNERBQVlBO0lBQ3RCLE1BQU0sRUFBRVcsZUFBZSxFQUFFLEdBQUdkLDhEQUFpQkE7SUFDN0MsT0FBTyxhQUFhLGlCQUFHRixnREFBNEIsQ0FBQ0gsK0RBQTBCLEVBQUU7UUFDOUVhO1FBQ0FDO1FBQ0FDO1FBQ0FPLEtBQUtKLEVBQUVJLEdBQUc7SUFDWixHQUFHWCxVQUFVLGFBQWEsaUJBQUdSLGdEQUE0QixDQUFDSCxpRUFBNEIsRUFBRTtRQUN0RndCLFdBQVdMO0lBQ2IsR0FBRyxhQUFhLGlCQUFHaEIsZ0RBQTRCLENBQUNILGtFQUE2QixFQUFFO1FBQzdFZ0IsV0FBV1Asa0VBQVVBLENBQ25CLDhDQUNBTztRQUVGVSxZQUFZcEIsd0VBQTRCQTtRQUN4Q3FCLGtCQUFrQnBCLDhFQUFrQ0E7UUFDcEQsR0FBR1UsS0FBSztJQUNWLEdBQUdMO0FBQ0w7R0EzQlNGOztRQVNHRix3REFBWUE7UUFDTUgsMERBQWlCQTs7O0tBVnRDSztBQTRCVCxNQUFNa0IsNkJBQWV4QixpREFBVUEsT0FBQyxRQUFvQ3lCO1FBQW5DLEVBQUVsQixRQUFRLEVBQUVLLFNBQVMsRUFBRSxHQUFHQyxPQUFPO0lBQ2hFLE9BQU8sYUFBYSxpQkFBR2QsZ0RBQTRCLENBQUNILDJFQUFzQyxFQUFFO1FBQzFGZ0IsV0FBV1Asa0VBQVVBLENBQUMsb0JBQW9CTztRQUMxQyxHQUFHQyxLQUFLO1FBQ1JjLEtBQUtGO0lBQ1AsR0FBR2xCO0FBQ0w7O0FBRWtDLENBQ2xDLHFDQUFxQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb21wb25lbnRzL2ludGVybmFsL0Ryb3Bkb3duLm1qcz8xZTgxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCAqIGFzIERyb3Bkb3duTWVudVByaW1pdGl2ZSBmcm9tICdAcmFkaXgtdWkvcmVhY3QtZHJvcGRvd24tbWVudSc7XG5leHBvcnQgeyBEcm9wZG93bk1lbnVUcmlnZ2VyIGFzIERyb3Bkb3duVHJpZ2dlciB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC1kcm9wZG93bi1tZW51JztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29tbWVudHNDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcubWpzJztcbmltcG9ydCB7IEZMT0FUSU5HX0VMRU1FTlRfU0lERV9PRkZTRVQsIEZMT0FUSU5HX0VMRU1FTlRfQ09MTElTSU9OX1BBRERJTkcgfSBmcm9tICcuLi8uLi9jb25zdGFudHMubWpzJztcbmltcG9ydCB7IHVzZU92ZXJyaWRlcyB9IGZyb20gJy4uLy4uL292ZXJyaWRlcy5tanMnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NsYXNzLW5hbWVzLm1qcyc7XG5cbmZ1bmN0aW9uIERyb3Bkb3duKHtcbiAgY2hpbGRyZW4sXG4gIGNvbnRlbnQsXG4gIGRlZmF1bHRPcGVuLFxuICBvcGVuLFxuICBvbk9wZW5DaGFuZ2UsXG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgJCA9IHVzZU92ZXJyaWRlcygpO1xuICBjb25zdCB7IHBvcnRhbENvbnRhaW5lciB9ID0gdXNlQ29tbWVudHNDb25maWcoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duTWVudVByaW1pdGl2ZS5Sb290LCB7XG4gICAgZGVmYXVsdE9wZW4sXG4gICAgb3BlbixcbiAgICBvbk9wZW5DaGFuZ2UsXG4gICAgZGlyOiAkLmRpclxuICB9LCBjaGlsZHJlbiwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25NZW51UHJpbWl0aXZlLlBvcnRhbCwge1xuICAgIGNvbnRhaW5lcjogcG9ydGFsQ29udGFpbmVyXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KERyb3Bkb3duTWVudVByaW1pdGl2ZS5Db250ZW50LCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFxuICAgICAgXCJsYi1yb290IGxiLXBvcnRhbCBsYi1lbGV2YXRpb24gbGItZHJvcGRvd25cIixcbiAgICAgIGNsYXNzTmFtZVxuICAgICksXG4gICAgc2lkZU9mZnNldDogRkxPQVRJTkdfRUxFTUVOVF9TSURFX09GRlNFVCxcbiAgICBjb2xsaXNpb25QYWRkaW5nOiBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HLFxuICAgIC4uLnByb3BzXG4gIH0sIGNvbnRlbnQpKSk7XG59XG5jb25zdCBEcm9wZG93bkl0ZW0gPSBmb3J3YXJkUmVmKCh7IGNoaWxkcmVuLCBjbGFzc05hbWUsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRHJvcGRvd25NZW51UHJpbWl0aXZlLkRyb3Bkb3duTWVudUl0ZW0sIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1kcm9wZG93bi1pdGVtXCIsIGNsYXNzTmFtZSksXG4gICAgLi4ucHJvcHMsXG4gICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgfSwgY2hpbGRyZW4pO1xufSk7XG5cbmV4cG9ydCB7IERyb3Bkb3duLCBEcm9wZG93bkl0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURyb3Bkb3duLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJEcm9wZG93bk1lbnVQcmltaXRpdmUiLCJEcm9wZG93bk1lbnVUcmlnZ2VyIiwiRHJvcGRvd25UcmlnZ2VyIiwiUmVhY3RfX2RlZmF1bHQiLCJmb3J3YXJkUmVmIiwidXNlQ29tbWVudHNDb25maWciLCJGTE9BVElOR19FTEVNRU5UX1NJREVfT0ZGU0VUIiwiRkxPQVRJTkdfRUxFTUVOVF9DT0xMSVNJT05fUEFERElORyIsInVzZU92ZXJyaWRlcyIsImNsYXNzTmFtZXMiLCJEcm9wZG93biIsImNoaWxkcmVuIiwiY29udGVudCIsImRlZmF1bHRPcGVuIiwib3BlbiIsIm9uT3BlbkNoYW5nZSIsImNsYXNzTmFtZSIsInByb3BzIiwiJCIsInBvcnRhbENvbnRhaW5lciIsImNyZWF0ZUVsZW1lbnQiLCJSb290IiwiZGlyIiwiUG9ydGFsIiwiY29udGFpbmVyIiwiQ29udGVudCIsInNpZGVPZmZzZXQiLCJjb2xsaXNpb25QYWRkaW5nIiwiRHJvcGRvd25JdGVtIiwiZm9yd2FyZGVkUmVmIiwiRHJvcGRvd25NZW51SXRlbSIsInJlZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Dropdown.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Emoji: function() { return /* binding */ Emoji; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _primitives_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../primitives/internal/Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/internal/Emoji.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n\n\n\n\nconst Emoji = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ className, ...props }, forwardedRef) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_primitives_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_1__.Emoji, {\n      className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji\", className),\n      ...props,\n      ref: forwardedRef\n    });\n  }\n);\n\n\n//# sourceMappingURL=Emoji.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvRW1vamkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBbUQ7QUFDb0I7QUFDZDs7QUFFekQsY0FBYyxpREFBVTtBQUN4QixLQUFLLHFCQUFxQjtBQUMxQiwyQkFBMkIsZ0RBQTRCLENBQUMsaUVBQU87QUFDL0QsaUJBQWlCLGtFQUFVO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvY29tcG9uZW50cy9pbnRlcm5hbC9FbW9qaS5tanM/NjhjNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVtb2ppIGFzIEVtb2ppJDEgfSBmcm9tICcuLi8uLi9wcmltaXRpdmVzL2ludGVybmFsL0Vtb2ppLm1qcyc7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2xhc3MtbmFtZXMubWpzJztcblxuY29uc3QgRW1vamkgPSBmb3J3YXJkUmVmKFxuICAoeyBjbGFzc05hbWUsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbW9qaSQxLCB7XG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1lbW9qaVwiLCBjbGFzc05hbWUpLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0pO1xuICB9XG4pO1xuXG5leHBvcnQgeyBFbW9qaSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW1vamkubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/EmojiPicker.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/EmojiPicker.mjs ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmojiPicker: function() { return /* binding */ EmojiPicker; },\n/* harmony export */   EmojiPickerTrigger: function() { return /* reexport safe */ _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_0__.PopoverTrigger; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @radix-ui/react-popover */ \"(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _config_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../config.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs\");\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n/* harmony import */ var _icons_Search_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../icons/Search.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Search.mjs\");\n/* harmony import */ var _icons_Spinner_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icons/Spinner.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Spinner.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _primitives_EmojiPicker_index_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../primitives/EmojiPicker/index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/index.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _Emoji_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\nfunction EmojiPickerLoading({\n  className,\n  ...props\n}) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-loading\", className),\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_icons_Spinner_mjs__WEBPACK_IMPORTED_MODULE_3__.SpinnerIcon, null));\n}\nfunction EmojiPickerEmpty({\n  className,\n  ...props\n}) {\n  const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_4__.useOverrides)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-empty\", className),\n    ...props\n  }, $.EMOJI_PICKER_EMPTY);\n}\nfunction EmojiPickerError({\n  error,\n  className,\n  ...props\n}) {\n  const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_4__.useOverrides)();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-error\", className),\n    ...props\n  }, $.EMOJI_PICKER_ERROR(error));\n}\nfunction EmojiPickerCategoryHeader({\n  category,\n  className,\n  ...props\n}) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-category-header\", className),\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"span\", {\n    className: \"lb-emoji-picker-category-header-title\"\n  }, category));\n}\nfunction EmojiPickerGrid({\n  children,\n  className,\n  ...props\n}) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-grid\", className),\n    ...props\n  }, children);\n}\nfunction EmojiPickerRow({\n  attributes,\n  children,\n  className,\n  ...props\n}) {\n  const isFirstRow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => attributes.categoryRowIndex === 0,\n    [attributes.categoryRowIndex]\n  );\n  const isLastRow = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(\n    () => attributes.categoryRowIndex === attributes.categoryRowsCount - 1,\n    [attributes.categoryRowIndex, attributes.categoryRowsCount]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-row\", className),\n    \"data-first\": isFirstRow ? \"\" : void 0,\n    \"data-last\": isLastRow ? \"\" : void 0,\n    ...props\n  }, children);\n}\nfunction EmojiPickerEmoji({\n  emoji,\n  className,\n  ...props\n}) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"button\", {\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\"lb-emoji-picker-emoji\", className),\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_Emoji_mjs__WEBPACK_IMPORTED_MODULE_5__.Emoji, {\n    emoji\n  }));\n}\nconst EmojiPicker = (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(\n  ({ onEmojiSelect, onOpenChange, children, className, ...props }, forwardedRef) => {\n    const [isOpen, setOpen] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const { portalContainer } = (0,_config_mjs__WEBPACK_IMPORTED_MODULE_6__.useCommentsConfig)();\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_4__.useOverrides)();\n    const handleOpenChange = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (isOpen2) => {\n        setOpen(isOpen2);\n        onOpenChange?.(isOpen2);\n      },\n      [onOpenChange]\n    );\n    const handleEmojiSelect = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(\n      (emoji) => {\n        setOpen(false);\n        onEmojiSelect?.(emoji);\n      },\n      [onEmojiSelect]\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_0__.Root, {\n      open: isOpen,\n      onOpenChange: handleOpenChange\n    }, children, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_0__.Portal, {\n      container: portalContainer\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_0__.Content, {\n      side: \"top\",\n      align: \"center\",\n      sideOffset: _constants_mjs__WEBPACK_IMPORTED_MODULE_7__.FLOATING_ELEMENT_SIDE_OFFSET,\n      collisionPadding: _constants_mjs__WEBPACK_IMPORTED_MODULE_7__.FLOATING_ELEMENT_COLLISION_PADDING,\n      className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_2__.classNames)(\n        \"lb-root lb-portal lb-elevation lb-emoji-picker\",\n        className\n      ),\n      ...props,\n      ref: forwardedRef\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_primitives_EmojiPicker_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Root, {\n      onEmojiSelect: handleEmojiSelect,\n      locale: $.locale\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n      className: \"lb-emoji-picker-header\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"div\", {\n      className: \"lb-emoji-picker-search-container\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_primitives_EmojiPicker_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Search, {\n      className: \"lb-emoji-picker-search\",\n      placeholder: $.EMOJI_PICKER_SEARCH_PLACEHOLDER,\n      autoFocus: true\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_icons_Search_mjs__WEBPACK_IMPORTED_MODULE_9__.SearchIcon, {\n      className: \"lb-emoji-picker-search-icon\"\n    }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_primitives_EmojiPicker_index_mjs__WEBPACK_IMPORTED_MODULE_8__.Content, {\n      className: \"lb-emoji-picker-content\",\n      components: {\n        Loading: EmojiPickerLoading,\n        Empty: EmojiPickerEmpty,\n        Error: EmojiPickerError,\n        CategoryHeader: EmojiPickerCategoryHeader,\n        Grid: EmojiPickerGrid,\n        Row: EmojiPickerRow,\n        Emoji: EmojiPickerEmoji\n      }\n    })))));\n  }\n);\n\n\n//# sourceMappingURL=EmojiPicker.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvRW1vamlQaWNrZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUE0RDtBQUNtQjtBQUNJO0FBQzlCO0FBQ2tEO0FBQ25EO0FBQ0U7QUFDSDtBQUMwRjtBQUNwRjtBQUNyQjs7QUFFcEM7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5QixnREFBNEI7QUFDckQsZUFBZSxrRUFBVTtBQUN6QjtBQUNBLEdBQUcsa0JBQWtCLGdEQUE0QixDQUFDLDJEQUFXO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELFlBQVksNERBQVk7QUFDeEIseUJBQXlCLGdEQUE0QjtBQUNyRCxlQUFlLGtFQUFVO0FBQ3pCO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0QsWUFBWSw0REFBWTtBQUN4Qix5QkFBeUIsZ0RBQTRCO0FBQ3JELGVBQWUsa0VBQVU7QUFDekI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsZ0RBQTRCO0FBQ3JELGVBQWUsa0VBQVU7QUFDekI7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCx5QkFBeUIsZ0RBQTRCO0FBQ3JELGVBQWUsa0VBQVU7QUFDekI7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHFCQUFxQiw4Q0FBTztBQUM1QjtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsOENBQU87QUFDM0I7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLGdEQUE0QjtBQUNyRCxlQUFlLGtFQUFVO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELHlCQUF5QixnREFBNEI7QUFDckQsZUFBZSxrRUFBVTtBQUN6QjtBQUNBLEdBQUcsa0JBQWtCLGdEQUE0QixDQUFDLDZDQUFLO0FBQ3ZEO0FBQ0EsR0FBRztBQUNIO0FBQ0Esb0JBQW9CLGlEQUFVO0FBQzlCLEtBQUssNERBQTREO0FBQ2pFLDhCQUE4QiwrQ0FBUTtBQUN0QyxZQUFZLGtCQUFrQixFQUFFLDhEQUFpQjtBQUNqRCxjQUFjLDREQUFZO0FBQzFCLDZCQUE2QixrREFBVztBQUN4QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDhCQUE4QixrREFBVztBQUN6QztBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLDJCQUEyQixnREFBNEIsQ0FBQyx5REFBcUI7QUFDN0U7QUFDQTtBQUNBLEtBQUssNEJBQTRCLGdEQUE0QixDQUFDLDJEQUF1QjtBQUNyRjtBQUNBLEtBQUssa0JBQWtCLGdEQUE0QixDQUFDLDREQUF3QjtBQUM1RTtBQUNBO0FBQ0Esa0JBQWtCLHdFQUE0QjtBQUM5Qyx3QkFBd0IsOEVBQWtDO0FBQzFELGlCQUFpQixrRUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrQkFBa0IsZ0RBQTRCLENBQUMsbUVBQWU7QUFDbkU7QUFDQTtBQUNBLEtBQUssa0JBQWtCLGdEQUE0QjtBQUNuRDtBQUNBLEtBQUssa0JBQWtCLGdEQUE0QjtBQUNuRDtBQUNBLEtBQUssa0JBQWtCLGdEQUE0QixDQUFDLHFFQUFpQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxLQUFLLG1CQUFtQixnREFBNEIsQ0FBQyx5REFBVTtBQUMvRDtBQUNBLEtBQUsscUJBQXFCLGdEQUE0QixDQUFDLHNFQUFrQjtBQUN6RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUV1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb21wb25lbnRzL2ludGVybmFsL0Vtb2ppUGlja2VyLm1qcz8xOTM1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIFBvcG92ZXJQcmltaXRpdmUgZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXInO1xuZXhwb3J0IHsgUG9wb3ZlclRyaWdnZXIgYXMgRW1vamlQaWNrZXJUcmlnZ2VyIH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXInO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYsIHVzZVN0YXRlLCB1c2VDYWxsYmFjaywgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUNvbW1lbnRzQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnLm1qcyc7XG5pbXBvcnQgeyBGTE9BVElOR19FTEVNRU5UX1NJREVfT0ZGU0VULCBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBTZWFyY2hJY29uIH0gZnJvbSAnLi4vLi4vaWNvbnMvU2VhcmNoLm1qcyc7XG5pbXBvcnQgeyBTcGlubmVySWNvbiB9IGZyb20gJy4uLy4uL2ljb25zL1NwaW5uZXIubWpzJztcbmltcG9ydCB7IHVzZU92ZXJyaWRlcyB9IGZyb20gJy4uLy4uL292ZXJyaWRlcy5tanMnO1xuaW1wb3J0IHsgUm9vdCBhcyBFbW9qaVBpY2tlclJvb3QsIFNlYXJjaCBhcyBFbW9qaVBpY2tlclNlYXJjaCwgQ29udGVudCBhcyBFbW9qaVBpY2tlckNvbnRlbnQgfSBmcm9tICcuLi8uLi9wcmltaXRpdmVzL0Vtb2ppUGlja2VyL2luZGV4Lm1qcyc7XG5pbXBvcnQgeyBjbGFzc05hbWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2xhc3MtbmFtZXMubWpzJztcbmltcG9ydCB7IEVtb2ppIH0gZnJvbSAnLi9FbW9qaS5tanMnO1xuXG5mdW5jdGlvbiBFbW9qaVBpY2tlckxvYWRpbmcoe1xuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItZW1vamktcGlja2VyLWxvYWRpbmdcIiwgY2xhc3NOYW1lKSxcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChTcGlubmVySWNvbiwgbnVsbCkpO1xufVxuZnVuY3Rpb24gRW1vamlQaWNrZXJFbXB0eSh7XG4gIGNsYXNzTmFtZSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgJCA9IHVzZU92ZXJyaWRlcygpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcImxiLWVtb2ppLXBpY2tlci1lbXB0eVwiLCBjbGFzc05hbWUpLFxuICAgIC4uLnByb3BzXG4gIH0sICQuRU1PSklfUElDS0VSX0VNUFRZKTtcbn1cbmZ1bmN0aW9uIEVtb2ppUGlja2VyRXJyb3Ioe1xuICBlcnJvcixcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCAkID0gdXNlT3ZlcnJpZGVzKCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItZW1vamktcGlja2VyLWVycm9yXCIsIGNsYXNzTmFtZSksXG4gICAgLi4ucHJvcHNcbiAgfSwgJC5FTU9KSV9QSUNLRVJfRVJST1IoZXJyb3IpKTtcbn1cbmZ1bmN0aW9uIEVtb2ppUGlja2VyQ2F0ZWdvcnlIZWFkZXIoe1xuICBjYXRlZ29yeSxcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY2xhc3NOYW1lcyhcImxiLWVtb2ppLXBpY2tlci1jYXRlZ29yeS1oZWFkZXJcIiwgY2xhc3NOYW1lKSxcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJsYi1lbW9qaS1waWNrZXItY2F0ZWdvcnktaGVhZGVyLXRpdGxlXCJcbiAgfSwgY2F0ZWdvcnkpKTtcbn1cbmZ1bmN0aW9uIEVtb2ppUGlja2VyR3JpZCh7XG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItZW1vamktcGlja2VyLWdyaWRcIiwgY2xhc3NOYW1lKSxcbiAgICAuLi5wcm9wc1xuICB9LCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiBFbW9qaVBpY2tlclJvdyh7XG4gIGF0dHJpYnV0ZXMsXG4gIGNoaWxkcmVuLFxuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59KSB7XG4gIGNvbnN0IGlzRmlyc3RSb3cgPSB1c2VNZW1vKFxuICAgICgpID0+IGF0dHJpYnV0ZXMuY2F0ZWdvcnlSb3dJbmRleCA9PT0gMCxcbiAgICBbYXR0cmlidXRlcy5jYXRlZ29yeVJvd0luZGV4XVxuICApO1xuICBjb25zdCBpc0xhc3RSb3cgPSB1c2VNZW1vKFxuICAgICgpID0+IGF0dHJpYnV0ZXMuY2F0ZWdvcnlSb3dJbmRleCA9PT0gYXR0cmlidXRlcy5jYXRlZ29yeVJvd3NDb3VudCAtIDEsXG4gICAgW2F0dHJpYnV0ZXMuY2F0ZWdvcnlSb3dJbmRleCwgYXR0cmlidXRlcy5jYXRlZ29yeVJvd3NDb3VudF1cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1lbW9qaS1waWNrZXItcm93XCIsIGNsYXNzTmFtZSksXG4gICAgXCJkYXRhLWZpcnN0XCI6IGlzRmlyc3RSb3cgPyBcIlwiIDogdm9pZCAwLFxuICAgIFwiZGF0YS1sYXN0XCI6IGlzTGFzdFJvdyA/IFwiXCIgOiB2b2lkIDAsXG4gICAgLi4ucHJvcHNcbiAgfSwgY2hpbGRyZW4pO1xufVxuZnVuY3Rpb24gRW1vamlQaWNrZXJFbW9qaSh7XG4gIGVtb2ppLFxuICBjbGFzc05hbWUsXG4gIC4uLnByb3BzXG59KSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItZW1vamktcGlja2VyLWVtb2ppXCIsIGNsYXNzTmFtZSksXG4gICAgLi4ucHJvcHNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamksIHtcbiAgICBlbW9qaVxuICB9KSk7XG59XG5jb25zdCBFbW9qaVBpY2tlciA9IGZvcndhcmRSZWYoXG4gICh7IG9uRW1vamlTZWxlY3QsIG9uT3BlbkNoYW5nZSwgY2hpbGRyZW4sIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgW2lzT3Blbiwgc2V0T3Blbl0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgeyBwb3J0YWxDb250YWluZXIgfSA9IHVzZUNvbW1lbnRzQ29uZmlnKCk7XG4gICAgY29uc3QgJCA9IHVzZU92ZXJyaWRlcygpO1xuICAgIGNvbnN0IGhhbmRsZU9wZW5DaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAgIChpc09wZW4yKSA9PiB7XG4gICAgICAgIHNldE9wZW4oaXNPcGVuMik7XG4gICAgICAgIG9uT3BlbkNoYW5nZT8uKGlzT3BlbjIpO1xuICAgICAgfSxcbiAgICAgIFtvbk9wZW5DaGFuZ2VdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVFbW9qaVNlbGVjdCA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGVtb2ppKSA9PiB7XG4gICAgICAgIHNldE9wZW4oZmFsc2UpO1xuICAgICAgICBvbkVtb2ppU2VsZWN0Py4oZW1vamkpO1xuICAgICAgfSxcbiAgICAgIFtvbkVtb2ppU2VsZWN0XVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJQcmltaXRpdmUuUm9vdCwge1xuICAgICAgb3BlbjogaXNPcGVuLFxuICAgICAgb25PcGVuQ2hhbmdlOiBoYW5kbGVPcGVuQ2hhbmdlXG4gICAgfSwgY2hpbGRyZW4sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJQcmltaXRpdmUuUG9ydGFsLCB7XG4gICAgICBjb250YWluZXI6IHBvcnRhbENvbnRhaW5lclxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBvcG92ZXJQcmltaXRpdmUuQ29udGVudCwge1xuICAgICAgc2lkZTogXCJ0b3BcIixcbiAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgc2lkZU9mZnNldDogRkxPQVRJTkdfRUxFTUVOVF9TSURFX09GRlNFVCxcbiAgICAgIGNvbGxpc2lvblBhZGRpbmc6IEZMT0FUSU5HX0VMRU1FTlRfQ09MTElTSU9OX1BBRERJTkcsXG4gICAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXG4gICAgICAgIFwibGItcm9vdCBsYi1wb3J0YWwgbGItZWxldmF0aW9uIGxiLWVtb2ppLXBpY2tlclwiLFxuICAgICAgICBjbGFzc05hbWVcbiAgICAgICksXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamlQaWNrZXJSb290LCB7XG4gICAgICBvbkVtb2ppU2VsZWN0OiBoYW5kbGVFbW9qaVNlbGVjdCxcbiAgICAgIGxvY2FsZTogJC5sb2NhbGVcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItZW1vamktcGlja2VyLWhlYWRlclwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWVtb2ppLXBpY2tlci1zZWFyY2gtY29udGFpbmVyXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbW9qaVBpY2tlclNlYXJjaCwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWVtb2ppLXBpY2tlci1zZWFyY2hcIixcbiAgICAgIHBsYWNlaG9sZGVyOiAkLkVNT0pJX1BJQ0tFUl9TRUFSQ0hfUExBQ0VIT0xERVIsXG4gICAgICBhdXRvRm9jdXM6IHRydWVcbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoU2VhcmNoSWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcImxiLWVtb2ppLXBpY2tlci1zZWFyY2gtaWNvblwiXG4gICAgfSkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamlQaWNrZXJDb250ZW50LCB7XG4gICAgICBjbGFzc05hbWU6IFwibGItZW1vamktcGlja2VyLWNvbnRlbnRcIixcbiAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgTG9hZGluZzogRW1vamlQaWNrZXJMb2FkaW5nLFxuICAgICAgICBFbXB0eTogRW1vamlQaWNrZXJFbXB0eSxcbiAgICAgICAgRXJyb3I6IEVtb2ppUGlja2VyRXJyb3IsXG4gICAgICAgIENhdGVnb3J5SGVhZGVyOiBFbW9qaVBpY2tlckNhdGVnb3J5SGVhZGVyLFxuICAgICAgICBHcmlkOiBFbW9qaVBpY2tlckdyaWQsXG4gICAgICAgIFJvdzogRW1vamlQaWNrZXJSb3csXG4gICAgICAgIEVtb2ppOiBFbW9qaVBpY2tlckVtb2ppXG4gICAgICB9XG4gICAgfSkpKSkpO1xuICB9XG4pO1xuXG5leHBvcnQgeyBFbW9qaVBpY2tlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW1vamlQaWNrZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/EmojiPicker.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ICON_HEIGHT: function() { return /* binding */ ICON_HEIGHT; },\n/* harmony export */   ICON_WIDTH: function() { return /* binding */ ICON_WIDTH; },\n/* harmony export */   Icon: function() { return /* binding */ Icon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n\n\n\nconst ICON_WIDTH = 20;\nconst ICON_HEIGHT = 20;\nfunction Icon({ children, className, ...props }) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    width: ICON_WIDTH,\n    height: ICON_HEIGHT,\n    viewBox: `0 0 ${ICON_WIDTH} ${ICON_HEIGHT}`,\n    fill: \"none\",\n    stroke: \"currentColor\",\n    strokeWidth: 1.5,\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    role: \"presentation\",\n    className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_1__.classNames)(\"lb-icon\", className),\n    ...props\n  }, children);\n}\n\n\n//# sourceMappingURL=Icon.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvSWNvbi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBbUM7QUFDc0I7O0FBRXpEO0FBQ0E7QUFDQSxnQkFBZ0IsK0JBQStCO0FBQy9DLHlCQUF5QixnREFBNEI7QUFDckQ7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFlBQVksRUFBRSxZQUFZO0FBQzlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsa0VBQVU7QUFDekI7QUFDQSxHQUFHO0FBQ0g7O0FBRXlDO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvSWNvbi5tanM/ZjUzZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NsYXNzLW5hbWVzLm1qcyc7XG5cbmNvbnN0IElDT05fV0lEVEggPSAyMDtcbmNvbnN0IElDT05fSEVJR0hUID0gMjA7XG5mdW5jdGlvbiBJY29uKHsgY2hpbGRyZW4sIGNsYXNzTmFtZSwgLi4ucHJvcHMgfSkge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwge1xuICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgd2lkdGg6IElDT05fV0lEVEgsXG4gICAgaGVpZ2h0OiBJQ09OX0hFSUdIVCxcbiAgICB2aWV3Qm94OiBgMCAwICR7SUNPTl9XSURUSH0gJHtJQ09OX0hFSUdIVH1gLFxuICAgIGZpbGw6IFwibm9uZVwiLFxuICAgIHN0cm9rZTogXCJjdXJyZW50Q29sb3JcIixcbiAgICBzdHJva2VXaWR0aDogMS41LFxuICAgIHN0cm9rZUxpbmVjYXA6IFwicm91bmRcIixcbiAgICBzdHJva2VMaW5lam9pbjogXCJyb3VuZFwiLFxuICAgIHJvbGU6IFwicHJlc2VudGF0aW9uXCIsXG4gICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItaWNvblwiLCBjbGFzc05hbWUpLFxuICAgIC4uLnByb3BzXG4gIH0sIGNoaWxkcmVuKTtcbn1cblxuZXhwb3J0IHsgSUNPTl9IRUlHSFQsIElDT05fV0lEVEgsIEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUljb24ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/List.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/List.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   List: function() { return /* binding */ List; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_intl_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/intl.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/intl.mjs\");\n\n\n\n\n\n\nconst List = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ values, formatRemaining, truncate, locale, className, asChild, ...props }, forwardedRef) => {\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.Slot : \"span\";\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_2__.useOverrides)();\n    const formatRemainingWithDefault = formatRemaining ?? $.LIST_REMAINING;\n    const formattedList = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n      const elements = truncate && truncate < values.length - 1 ? [\n        ...values.slice(0, truncate),\n        formatRemainingWithDefault(values.length - truncate)\n      ] : [...values];\n      const placeholders = Array(elements.length).fill(\".\");\n      const parts = (0,_utils_intl_mjs__WEBPACK_IMPORTED_MODULE_3__.listFormat)(locale).formatToParts(placeholders);\n      return parts.map(\n        (part) => part.type === \"element\" ? elements.shift() : part.value\n      );\n    }, [formatRemainingWithDefault, locale, truncate, values]);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n      className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-list\", className),\n      ...props,\n      ref: forwardedRef\n    }, formattedList);\n  }\n);\n\n\n//# sourceMappingURL=List.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvTGlzdC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTRDO0FBQ2dCO0FBQ1Q7QUFDTTtBQUNQOztBQUVsRCxhQUFhLGlEQUFVO0FBQ3ZCLEtBQUsseUVBQXlFO0FBQzlFLGdDQUFnQyxzREFBSTtBQUNwQyxjQUFjLDREQUFZO0FBQzFCO0FBQ0EsMEJBQTBCLDhDQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsMkRBQVU7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLDJCQUEyQixnREFBNEI7QUFDdkQsaUJBQWlCLGtFQUFVO0FBQzNCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvY29tcG9uZW50cy9pbnRlcm5hbC9MaXN0Lm1qcz8xYzI1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNsb3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3Qtc2xvdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgZm9yd2FyZFJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU92ZXJyaWRlcyB9IGZyb20gJy4uLy4uL292ZXJyaWRlcy5tanMnO1xuaW1wb3J0IHsgY2xhc3NOYW1lcyB9IGZyb20gJy4uLy4uL3V0aWxzL2NsYXNzLW5hbWVzLm1qcyc7XG5pbXBvcnQgeyBsaXN0Rm9ybWF0IH0gZnJvbSAnLi4vLi4vdXRpbHMvaW50bC5tanMnO1xuXG5jb25zdCBMaXN0ID0gZm9yd2FyZFJlZihcbiAgKHsgdmFsdWVzLCBmb3JtYXRSZW1haW5pbmcsIHRydW5jYXRlLCBsb2NhbGUsIGNsYXNzTmFtZSwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcInNwYW5cIjtcbiAgICBjb25zdCAkID0gdXNlT3ZlcnJpZGVzKCk7XG4gICAgY29uc3QgZm9ybWF0UmVtYWluaW5nV2l0aERlZmF1bHQgPSBmb3JtYXRSZW1haW5pbmcgPz8gJC5MSVNUX1JFTUFJTklORztcbiAgICBjb25zdCBmb3JtYXR0ZWRMaXN0ID0gdXNlTWVtbygoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50cyA9IHRydW5jYXRlICYmIHRydW5jYXRlIDwgdmFsdWVzLmxlbmd0aCAtIDEgPyBbXG4gICAgICAgIC4uLnZhbHVlcy5zbGljZSgwLCB0cnVuY2F0ZSksXG4gICAgICAgIGZvcm1hdFJlbWFpbmluZ1dpdGhEZWZhdWx0KHZhbHVlcy5sZW5ndGggLSB0cnVuY2F0ZSlcbiAgICAgIF0gOiBbLi4udmFsdWVzXTtcbiAgICAgIGNvbnN0IHBsYWNlaG9sZGVycyA9IEFycmF5KGVsZW1lbnRzLmxlbmd0aCkuZmlsbChcIi5cIik7XG4gICAgICBjb25zdCBwYXJ0cyA9IGxpc3RGb3JtYXQobG9jYWxlKS5mb3JtYXRUb1BhcnRzKHBsYWNlaG9sZGVycyk7XG4gICAgICByZXR1cm4gcGFydHMubWFwKFxuICAgICAgICAocGFydCkgPT4gcGFydC50eXBlID09PSBcImVsZW1lbnRcIiA/IGVsZW1lbnRzLnNoaWZ0KCkgOiBwYXJ0LnZhbHVlXG4gICAgICApO1xuICAgIH0sIFtmb3JtYXRSZW1haW5pbmdXaXRoRGVmYXVsdCwgbG9jYWxlLCB0cnVuY2F0ZSwgdmFsdWVzXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFwibGItbGlzdFwiLCBjbGFzc05hbWUpLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0sIGZvcm1hdHRlZExpc3QpO1xuICB9XG4pO1xuXG5leHBvcnQgeyBMaXN0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1MaXN0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/List.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ShortcutTooltip: function() { return /* binding */ ShortcutTooltip; },\n/* harmony export */   ShortcutTooltipKey: function() { return /* binding */ ShortcutTooltipKey; },\n/* harmony export */   Tooltip: function() { return /* binding */ Tooltip; },\n/* harmony export */   TooltipProvider: function() { return /* reexport safe */ _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__.TooltipProvider; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @radix-ui/react-tooltip */ \"(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _config_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../config.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs\");\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* harmony import */ var _utils_is_apple_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/is-apple.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-apple.mjs\");\n/* __next_internal_client_entry_do_not_use__ TooltipProvider,ShortcutTooltip,ShortcutTooltipKey,Tooltip auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\nconst KEYS = {\n    alt: ()=>({\n            title: \"Alt\",\n            key: \"\"\n        }),\n    mod: ()=>(0,_utils_is_apple_mjs__WEBPACK_IMPORTED_MODULE_2__.isApple)() ? {\n            title: \"Command\",\n            key: \"\"\n        } : {\n            title: \"Ctrl\",\n            key: \"\"\n        },\n    shift: ()=>{\n        return {\n            title: \"Shift\",\n            key: \"\"\n        };\n    },\n    enter: ()=>{\n        return {\n            title: \"Enter\",\n            key: \"\"\n        };\n    }\n};\nconst Tooltip = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_s((param, forwardedRef)=>{\n    let { children, content, multiline, className, ...props } = param;\n    _s();\n    const { portalContainer } = (0,_config_mjs__WEBPACK_IMPORTED_MODULE_3__.useCommentsConfig)();\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__.Root, {\n        disableHoverableContent: true\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__.Trigger, {\n        asChild: true,\n        ref: forwardedRef\n    }, children), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__.Portal, {\n        container: portalContainer\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_0__.Content, {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_4__.classNames)(\"lb-root lb-portal lb-tooltip\", multiline && \"lb-tooltip:multiline\", className),\n        side: \"top\",\n        align: \"center\",\n        sideOffset: _constants_mjs__WEBPACK_IMPORTED_MODULE_5__.FLOATING_ELEMENT_SIDE_OFFSET,\n        collisionPadding: _constants_mjs__WEBPACK_IMPORTED_MODULE_5__.FLOATING_ELEMENT_COLLISION_PADDING,\n        ...props\n    }, content)));\n}, \"s6rBqOKAx1zeUTU/UvkLZ4W4wwg=\", false, function() {\n    return [\n        _config_mjs__WEBPACK_IMPORTED_MODULE_3__.useCommentsConfig\n    ];\n}));\n_c = Tooltip;\nconst ShortcutTooltip = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(_c1 = (param, forwardedRef)=>{\n    let { children, content, shortcut, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(Tooltip, {\n        content: /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(react__WEBPACK_IMPORTED_MODULE_1__.Fragment, null, content, shortcut && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"kbd\", {\n            className: \"lb-tooltip-shortcut\"\n        }, shortcut)),\n        ...props,\n        ref: forwardedRef\n    }, children);\n});\n_c2 = ShortcutTooltip;\nfunction ShortcutTooltipKey(param) {\n    let { name, ...props } = param;\n    _s1();\n    const { title, key } = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        var _KEYS_name;\n        return (_KEYS_name = KEYS[name]) === null || _KEYS_name === void 0 ? void 0 : _KEYS_name.call(KEYS);\n    }, [\n        name\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_1__.createElement(\"abbr\", {\n        title,\n        ...props\n    }, key);\n}\n_s1(ShortcutTooltipKey, \"nhpg07Zhn9yABrfaOBn/jichgms=\");\n_c3 = ShortcutTooltipKey;\n //# sourceMappingURL=Tooltip.mjs.map\nvar _c, _c1, _c2, _c3;\n$RefreshReg$(_c, \"Tooltip\");\n$RefreshReg$(_c1, \"ShortcutTooltip$forwardRef\");\n$RefreshReg$(_c2, \"ShortcutTooltip\");\n$RefreshReg$(_c3, \"ShortcutTooltipKey\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvVG9vbHRpcC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFDNEQ7QUFDRjtBQUNFO0FBQ1A7QUFDa0Q7QUFDOUM7QUFDTjtBQUVuRCxNQUFNVSxPQUFPO0lBQ1hDLEtBQUssSUFBTztZQUFFQyxPQUFPO1lBQU9DLEtBQUs7UUFBUztJQUMxQ0MsS0FBSyxJQUFNTCw0REFBT0EsS0FBSztZQUFFRyxPQUFPO1lBQVdDLEtBQUs7UUFBUyxJQUFJO1lBQUVELE9BQU87WUFBUUMsS0FBSztRQUFTO0lBQzVGRSxPQUFPO1FBQ0wsT0FBTztZQUFFSCxPQUFPO1lBQVNDLEtBQUs7UUFBUztJQUN6QztJQUNBRyxPQUFPO1FBQ0wsT0FBTztZQUFFSixPQUFPO1lBQVNDLEtBQUs7UUFBUztJQUN6QztBQUNGO0FBQ0EsTUFBTUksd0JBQVVkLGlEQUFVQSxJQUN4QixRQUF3RGU7UUFBdkQsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFLEdBQUdDLE9BQU87O0lBQ3BELE1BQU0sRUFBRUMsZUFBZSxFQUFFLEdBQUduQiw4REFBaUJBO0lBQzdDLE9BQU8sYUFBYSxpQkFBR0gsZ0RBQTRCLENBQUNGLHlEQUFxQixFQUFFO1FBQ3pFMkIseUJBQXlCO0lBQzNCLEdBQUcsYUFBYSxpQkFBR3pCLGdEQUE0QixDQUFDRiw0REFBd0IsRUFBRTtRQUN4RTZCLFNBQVM7UUFDVEMsS0FBS1o7SUFDUCxHQUFHQyxXQUFXLGFBQWEsaUJBQUdqQixnREFBNEIsQ0FBQ0YsMkRBQXVCLEVBQUU7UUFDbEZnQyxXQUFXUjtJQUNiLEdBQUcsYUFBYSxpQkFBR3RCLGdEQUE0QixDQUFDRiw0REFBd0IsRUFBRTtRQUN4RXNCLFdBQVdkLGtFQUFVQSxDQUNuQixnQ0FDQWEsYUFBYSx3QkFDYkM7UUFFRlksTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLFlBQVk5Qix3RUFBNEJBO1FBQ3hDK0Isa0JBQWtCOUIsOEVBQWtDQTtRQUNwRCxHQUFHZ0IsS0FBSztJQUNWLEdBQUdIO0FBQ0w7O1FBcEI4QmYsMERBQWlCQTs7O0tBRjNDWTtBQXdCTixNQUFNcUIsZ0NBQWtCbkMsaURBQVVBLE9BQUMsUUFBNENlO1FBQTNDLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFbUIsUUFBUSxFQUFFLEdBQUdoQixPQUFPO0lBQzNFLE9BQU8sYUFBYSxpQkFBR3JCLGdEQUE0QixDQUFDZSxTQUFTO1FBQzNERyxTQUFTLGFBQWEsaUJBQUdsQixnREFBNEIsQ0FBQ0EsMkNBQXVCLEVBQUUsTUFBTWtCLFNBQVNtQixZQUFZLGFBQWEsaUJBQUdyQyxnREFBNEIsQ0FBQyxPQUFPO1lBQzVKb0IsV0FBVztRQUNiLEdBQUdpQjtRQUNILEdBQUdoQixLQUFLO1FBQ1JPLEtBQUtaO0lBQ1AsR0FBR0M7QUFDTDs7QUFDQSxTQUFTc0IsbUJBQW1CLEtBRzNCO1FBSDJCLEVBQzFCQyxJQUFJLEVBQ0osR0FBR25CLE9BQ0osR0FIMkI7O0lBSTFCLE1BQU0sRUFBRVgsS0FBSyxFQUFFQyxHQUFHLEVBQUUsR0FBR1QsOENBQU9BLENBQUM7WUFBTU07Z0JBQUFBLGFBQUFBLElBQUksQ0FBQ2dDLEtBQUssY0FBVmhDLGlDQUFBQSxnQkFBQUE7T0FBZ0I7UUFBQ2dDO0tBQUs7SUFDM0QsT0FBTyxhQUFhLGlCQUFHeEMsZ0RBQTRCLENBQUMsUUFBUTtRQUMxRFU7UUFDQSxHQUFHVyxLQUFLO0lBQ1YsR0FBR1Y7QUFDTDtJQVRTNEI7TUFBQUE7QUFXK0MsQ0FDeEQsb0NBQW9DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvVG9vbHRpcC5tanM/OTJjNyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgKiBhcyBUb29sdGlwUHJpbWl0aXZlIGZyb20gJ0ByYWRpeC11aS9yZWFjdC10b29sdGlwJztcbmV4cG9ydCB7IFRvb2x0aXBQcm92aWRlciB9IGZyb20gJ0ByYWRpeC11aS9yZWFjdC10b29sdGlwJztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBmb3J3YXJkUmVmLCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlQ29tbWVudHNDb25maWcgfSBmcm9tICcuLi8uLi9jb25maWcubWpzJztcbmltcG9ydCB7IEZMT0FUSU5HX0VMRU1FTlRfU0lERV9PRkZTRVQsIEZMT0FUSU5HX0VMRU1FTlRfQ09MTElTSU9OX1BBRERJTkcgfSBmcm9tICcuLi8uLi9jb25zdGFudHMubWpzJztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICcuLi8uLi91dGlscy9jbGFzcy1uYW1lcy5tanMnO1xuaW1wb3J0IHsgaXNBcHBsZSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLWFwcGxlLm1qcyc7XG5cbmNvbnN0IEtFWVMgPSB7XG4gIGFsdDogKCkgPT4gKHsgdGl0bGU6IFwiQWx0XCIsIGtleTogXCJcXHUyMzI1XCIgfSksXG4gIG1vZDogKCkgPT4gaXNBcHBsZSgpID8geyB0aXRsZTogXCJDb21tYW5kXCIsIGtleTogXCJcXHUyMzE4XCIgfSA6IHsgdGl0bGU6IFwiQ3RybFwiLCBrZXk6IFwiXFx1MjMwM1wiIH0sXG4gIHNoaWZ0OiAoKSA9PiB7XG4gICAgcmV0dXJuIHsgdGl0bGU6IFwiU2hpZnRcIiwga2V5OiBcIlxcdTIxRTdcIiB9O1xuICB9LFxuICBlbnRlcjogKCkgPT4ge1xuICAgIHJldHVybiB7IHRpdGxlOiBcIkVudGVyXCIsIGtleTogXCJcXHUyM0NFXCIgfTtcbiAgfVxufTtcbmNvbnN0IFRvb2x0aXAgPSBmb3J3YXJkUmVmKFxuICAoeyBjaGlsZHJlbiwgY29udGVudCwgbXVsdGlsaW5lLCBjbGFzc05hbWUsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHsgcG9ydGFsQ29udGFpbmVyIH0gPSB1c2VDb21tZW50c0NvbmZpZygpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwUHJpbWl0aXZlLlJvb3QsIHtcbiAgICAgIGRpc2FibGVIb3ZlcmFibGVDb250ZW50OiB0cnVlXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoVG9vbHRpcFByaW1pdGl2ZS5UcmlnZ2VyLCB7XG4gICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9LCBjaGlsZHJlbiksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBQcmltaXRpdmUuUG9ydGFsLCB7XG4gICAgICBjb250YWluZXI6IHBvcnRhbENvbnRhaW5lclxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFRvb2x0aXBQcmltaXRpdmUuQ29udGVudCwge1xuICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKFxuICAgICAgICBcImxiLXJvb3QgbGItcG9ydGFsIGxiLXRvb2x0aXBcIixcbiAgICAgICAgbXVsdGlsaW5lICYmIFwibGItdG9vbHRpcDptdWx0aWxpbmVcIixcbiAgICAgICAgY2xhc3NOYW1lXG4gICAgICApLFxuICAgICAgc2lkZTogXCJ0b3BcIixcbiAgICAgIGFsaWduOiBcImNlbnRlclwiLFxuICAgICAgc2lkZU9mZnNldDogRkxPQVRJTkdfRUxFTUVOVF9TSURFX09GRlNFVCxcbiAgICAgIGNvbGxpc2lvblBhZGRpbmc6IEZMT0FUSU5HX0VMRU1FTlRfQ09MTElTSU9OX1BBRERJTkcsXG4gICAgICAuLi5wcm9wc1xuICAgIH0sIGNvbnRlbnQpKSk7XG4gIH1cbik7XG5jb25zdCBTaG9ydGN1dFRvb2x0aXAgPSBmb3J3YXJkUmVmKCh7IGNoaWxkcmVuLCBjb250ZW50LCBzaG9ydGN1dCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChUb29sdGlwLCB7XG4gICAgY29udGVudDogLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUmVhY3RfX2RlZmF1bHQuRnJhZ21lbnQsIG51bGwsIGNvbnRlbnQsIHNob3J0Y3V0ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwia2JkXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJsYi10b29sdGlwLXNob3J0Y3V0XCJcbiAgICB9LCBzaG9ydGN1dCkpLFxuICAgIC4uLnByb3BzLFxuICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gIH0sIGNoaWxkcmVuKTtcbn0pO1xuZnVuY3Rpb24gU2hvcnRjdXRUb29sdGlwS2V5KHtcbiAgbmFtZSxcbiAgLi4ucHJvcHNcbn0pIHtcbiAgY29uc3QgeyB0aXRsZSwga2V5IH0gPSB1c2VNZW1vKCgpID0+IEtFWVNbbmFtZV0/LigpLCBbbmFtZV0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJhYmJyXCIsIHtcbiAgICB0aXRsZSxcbiAgICAuLi5wcm9wc1xuICB9LCBrZXkpO1xufVxuXG5leHBvcnQgeyBTaG9ydGN1dFRvb2x0aXAsIFNob3J0Y3V0VG9vbHRpcEtleSwgVG9vbHRpcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VG9vbHRpcC5tanMubWFwXG4iXSwibmFtZXMiOlsiVG9vbHRpcFByaW1pdGl2ZSIsIlRvb2x0aXBQcm92aWRlciIsIlJlYWN0X19kZWZhdWx0IiwiZm9yd2FyZFJlZiIsInVzZU1lbW8iLCJ1c2VDb21tZW50c0NvbmZpZyIsIkZMT0FUSU5HX0VMRU1FTlRfU0lERV9PRkZTRVQiLCJGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HIiwiY2xhc3NOYW1lcyIsImlzQXBwbGUiLCJLRVlTIiwiYWx0IiwidGl0bGUiLCJrZXkiLCJtb2QiLCJzaGlmdCIsImVudGVyIiwiVG9vbHRpcCIsImZvcndhcmRlZFJlZiIsImNoaWxkcmVuIiwiY29udGVudCIsIm11bHRpbGluZSIsImNsYXNzTmFtZSIsInByb3BzIiwicG9ydGFsQ29udGFpbmVyIiwiY3JlYXRlRWxlbWVudCIsIlJvb3QiLCJkaXNhYmxlSG92ZXJhYmxlQ29udGVudCIsIlRyaWdnZXIiLCJhc0NoaWxkIiwicmVmIiwiUG9ydGFsIiwiY29udGFpbmVyIiwiQ29udGVudCIsInNpZGUiLCJhbGlnbiIsInNpZGVPZmZzZXQiLCJjb2xsaXNpb25QYWRkaW5nIiwiU2hvcnRjdXRUb29sdGlwIiwic2hvcnRjdXQiLCJGcmFnbWVudCIsIlNob3J0Y3V0VG9vbHRpcEtleSIsIm5hbWUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Tooltip.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/User.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/components/internal/User.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   User: function() { return /* binding */ User; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* harmony import */ var _utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../utils/capitalize.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs\");\n/* harmony import */ var _utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../utils/class-names.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\");\n/* __next_internal_client_entry_do_not_use__ User auto */ var _s = $RefreshSig$();\n\n\n\n\n\n\nfunction User(param) {\n    let { userId, replaceSelf, capitalize: shouldCapitalize, className, ...props } = param;\n    _s();\n    const { useUser, [_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.kInternal]: { useCurrentUserId } } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle)();\n    const currentId = useCurrentUserId();\n    const { user, isLoading } = useUser(userId);\n    const $ = (0,_overrides_mjs__WEBPACK_IMPORTED_MODULE_3__.useOverrides)();\n    const resolvedUserName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        var _user_name;\n        const name = replaceSelf && currentId === userId ? $.USER_SELF : (_user_name = user === null || user === void 0 ? void 0 : user.name) !== null && _user_name !== void 0 ? _user_name : $.USER_UNKNOWN;\n        return shouldCapitalize ? (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_4__.capitalize)(name) : name;\n    }, [\n        replaceSelf,\n        currentId,\n        userId,\n        $.USER_SELF,\n        $.USER_UNKNOWN,\n        user === null || user === void 0 ? void 0 : user.name,\n        shouldCapitalize\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: (0,_utils_class_names_mjs__WEBPACK_IMPORTED_MODULE_5__.classNames)(\"lb-name lb-user\", className),\n        \"data-loading\": isLoading ? \"\" : void 0,\n        ...props\n    }, isLoading ? null : resolvedUserName);\n}\n_s(User, \"80JWzF4KM6sWeqmjZzSkZCEA93o=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_2__.useSharedContextBundle,\n        _overrides_mjs__WEBPACK_IMPORTED_MODULE_3__.useOverrides\n    ];\n});\n_c = User;\n //# sourceMappingURL=User.mjs.map\nvar _c;\n$RefreshReg$(_c, \"User\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvVXNlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDNkM7QUFDYztBQUNYO0FBQ0c7QUFDSztBQUNDO0FBRXpELFNBQVNPLEtBQUssS0FNYjtRQU5hLEVBQ1pDLE1BQU0sRUFDTkMsV0FBVyxFQUNYSixZQUFZSyxnQkFBZ0IsRUFDNUJDLFNBQVMsRUFDVCxHQUFHQyxPQUNKLEdBTmE7O0lBT1osTUFBTSxFQUNKQyxPQUFPLEVBQ1AsQ0FBQ2IsdURBQVNBLENBQUMsRUFBRSxFQUFFYyxnQkFBZ0IsRUFBRSxFQUNsQyxHQUFHYix5RUFBc0JBO0lBQzFCLE1BQU1jLFlBQVlEO0lBQ2xCLE1BQU0sRUFBRUUsSUFBSSxFQUFFQyxTQUFTLEVBQUUsR0FBR0osUUFBUUw7SUFDcEMsTUFBTVUsSUFBSWQsNERBQVlBO0lBQ3RCLE1BQU1lLG1CQUFtQmhCLDhDQUFPQSxDQUFDO1lBQ2tDYTtRQUFqRSxNQUFNSSxPQUFPWCxlQUFlTSxjQUFjUCxTQUFTVSxFQUFFRyxTQUFTLEdBQUdMLENBQUFBLGFBQUFBLGlCQUFBQSwyQkFBQUEsS0FBTUksSUFBSSxjQUFWSix3QkFBQUEsYUFBY0UsRUFBRUksWUFBWTtRQUM3RixPQUFPWixtQkFBbUJMLGlFQUFVQSxDQUFDZSxRQUFRQTtJQUMvQyxHQUFHO1FBQ0RYO1FBQ0FNO1FBQ0FQO1FBQ0FVLEVBQUVHLFNBQVM7UUFDWEgsRUFBRUksWUFBWTtRQUNkTixpQkFBQUEsMkJBQUFBLEtBQU1JLElBQUk7UUFDVlY7S0FDRDtJQUNELE9BQU8sYUFBYSxpQkFBR1IsZ0RBQTRCLENBQUMsUUFBUTtRQUMxRFMsV0FBV0wsa0VBQVVBLENBQUMsbUJBQW1CSztRQUN6QyxnQkFBZ0JNLFlBQVksS0FBSyxLQUFLO1FBQ3RDLEdBQUdMLEtBQUs7SUFDVixHQUFHSyxZQUFZLE9BQU9FO0FBQ3hCO0dBL0JTWjs7UUFVSE4scUVBQXNCQTtRQUdoQkcsd0RBQVlBOzs7S0FiZkc7QUFpQ08sQ0FDaEIsaUNBQWlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbXBvbmVudHMvaW50ZXJuYWwvVXNlci5tanM/MGNmMCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBrSW50ZXJuYWwgfSBmcm9tICdAbGl2ZWJsb2Nrcy9jb3JlJztcbmltcG9ydCB7IHVzZVNoYXJlZENvbnRleHRCdW5kbGUgfSBmcm9tICdAbGl2ZWJsb2Nrcy9yZWFjdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZU92ZXJyaWRlcyB9IGZyb20gJy4uLy4uL292ZXJyaWRlcy5tanMnO1xuaW1wb3J0IHsgY2FwaXRhbGl6ZSB9IGZyb20gJy4uLy4uL3V0aWxzL2NhcGl0YWxpemUubWpzJztcbmltcG9ydCB7IGNsYXNzTmFtZXMgfSBmcm9tICcuLi8uLi91dGlscy9jbGFzcy1uYW1lcy5tanMnO1xuXG5mdW5jdGlvbiBVc2VyKHtcbiAgdXNlcklkLFxuICByZXBsYWNlU2VsZixcbiAgY2FwaXRhbGl6ZTogc2hvdWxkQ2FwaXRhbGl6ZSxcbiAgY2xhc3NOYW1lLFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCB7XG4gICAgdXNlVXNlcixcbiAgICBba0ludGVybmFsXTogeyB1c2VDdXJyZW50VXNlcklkIH1cbiAgfSA9IHVzZVNoYXJlZENvbnRleHRCdW5kbGUoKTtcbiAgY29uc3QgY3VycmVudElkID0gdXNlQ3VycmVudFVzZXJJZCgpO1xuICBjb25zdCB7IHVzZXIsIGlzTG9hZGluZyB9ID0gdXNlVXNlcih1c2VySWQpO1xuICBjb25zdCAkID0gdXNlT3ZlcnJpZGVzKCk7XG4gIGNvbnN0IHJlc29sdmVkVXNlck5hbWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBuYW1lID0gcmVwbGFjZVNlbGYgJiYgY3VycmVudElkID09PSB1c2VySWQgPyAkLlVTRVJfU0VMRiA6IHVzZXI/Lm5hbWUgPz8gJC5VU0VSX1VOS05PV047XG4gICAgcmV0dXJuIHNob3VsZENhcGl0YWxpemUgPyBjYXBpdGFsaXplKG5hbWUpIDogbmFtZTtcbiAgfSwgW1xuICAgIHJlcGxhY2VTZWxmLFxuICAgIGN1cnJlbnRJZCxcbiAgICB1c2VySWQsXG4gICAgJC5VU0VSX1NFTEYsXG4gICAgJC5VU0VSX1VOS05PV04sXG4gICAgdXNlcj8ubmFtZSxcbiAgICBzaG91bGRDYXBpdGFsaXplXG4gIF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZXMoXCJsYi1uYW1lIGxiLXVzZXJcIiwgY2xhc3NOYW1lKSxcbiAgICBcImRhdGEtbG9hZGluZ1wiOiBpc0xvYWRpbmcgPyBcIlwiIDogdm9pZCAwLFxuICAgIC4uLnByb3BzXG4gIH0sIGlzTG9hZGluZyA/IG51bGwgOiByZXNvbHZlZFVzZXJOYW1lKTtcbn1cblxuZXhwb3J0IHsgVXNlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXNlci5tanMubWFwXG4iXSwibmFtZXMiOlsia0ludGVybmFsIiwidXNlU2hhcmVkQ29udGV4dEJ1bmRsZSIsIlJlYWN0X19kZWZhdWx0IiwidXNlTWVtbyIsInVzZU92ZXJyaWRlcyIsImNhcGl0YWxpemUiLCJjbGFzc05hbWVzIiwiVXNlciIsInVzZXJJZCIsInJlcGxhY2VTZWxmIiwic2hvdWxkQ2FwaXRhbGl6ZSIsImNsYXNzTmFtZSIsInByb3BzIiwidXNlVXNlciIsInVzZUN1cnJlbnRVc2VySWQiLCJjdXJyZW50SWQiLCJ1c2VyIiwiaXNMb2FkaW5nIiwiJCIsInJlc29sdmVkVXNlck5hbWUiLCJuYW1lIiwiVVNFUl9TRUxGIiwiVVNFUl9VTktOT1dOIiwiY3JlYXRlRWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/User.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs":
/*!*****************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/config.mjs ***!
  \*****************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CommentsConfig: function() { return /* binding */ CommentsConfig; },\n/* harmony export */   useCommentsConfig: function() { return /* binding */ useCommentsConfig; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components.mjs\");\n/* harmony import */ var _overrides_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./overrides.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\");\n/* __next_internal_client_entry_do_not_use__ CommentsConfig,useCommentsConfig auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst CommentsConfigContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)({});\nfunction useCommentsConfig() {\n    _s();\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(CommentsConfigContext);\n}\n_s(useCommentsConfig, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nfunction CommentsConfig(param) {\n    let { overrides, components, portalContainer, children } = param;\n    _s1();\n    const commentsConfig = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            portalContainer\n        }), [\n        portalContainer\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentsConfigContext.Provider, {\n        value: commentsConfig\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_overrides_mjs__WEBPACK_IMPORTED_MODULE_1__.OverridesProvider, {\n        overrides\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_mjs__WEBPACK_IMPORTED_MODULE_2__.ComponentsProvider, {\n        components\n    }, children)));\n}\n_s1(CommentsConfig, \"RjcldNqTeR1zvNcs8WMDiPV4cOs=\");\n_c = CommentsConfig;\n //# sourceMappingURL=config.mjs.map\nvar _c;\n$RefreshReg$(_c, \"CommentsConfig\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbmZpZy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQzJFO0FBQ3JCO0FBQ0Y7QUFFcEQsTUFBTU0sc0NBQXdCTCxvREFBYUEsQ0FBQyxDQUFDO0FBQzdDLFNBQVNNOztJQUNQLE9BQU9MLGlEQUFVQSxDQUFDSTtBQUNwQjtHQUZTQztBQUdULFNBQVNDLGVBQWUsS0FLdkI7UUFMdUIsRUFDdEJDLFNBQVMsRUFDVEMsVUFBVSxFQUNWQyxlQUFlLEVBQ2ZDLFFBQVEsRUFDVCxHQUx1Qjs7SUFNdEIsTUFBTUMsaUJBQWlCViw4Q0FBT0EsQ0FDNUIsSUFBTztZQUFFUTtRQUFnQixJQUN6QjtRQUFDQTtLQUFnQjtJQUVuQixPQUFPLGFBQWEsaUJBQUdYLGdEQUE0QixDQUFDTSxzQkFBc0JTLFFBQVEsRUFBRTtRQUNsRkMsT0FBT0g7SUFDVCxHQUFHLGFBQWEsaUJBQUdiLGdEQUE0QixDQUFDSyw2REFBaUJBLEVBQUU7UUFDakVJO0lBQ0YsR0FBRyxhQUFhLGlCQUFHVCxnREFBNEIsQ0FBQ0ksK0RBQWtCQSxFQUFFO1FBQ2xFTTtJQUNGLEdBQUdFO0FBQ0w7SUFqQlNKO0tBQUFBO0FBbUJvQyxDQUM3QyxtQ0FBbUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvY29uZmlnLm1qcz9kZmU5Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCBSZWFjdF9fZGVmYXVsdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgQ29tcG9uZW50c1Byb3ZpZGVyIH0gZnJvbSAnLi9jb21wb25lbnRzLm1qcyc7XG5pbXBvcnQgeyBPdmVycmlkZXNQcm92aWRlciB9IGZyb20gJy4vb3ZlcnJpZGVzLm1qcyc7XG5cbmNvbnN0IENvbW1lbnRzQ29uZmlnQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoe30pO1xuZnVuY3Rpb24gdXNlQ29tbWVudHNDb25maWcoKSB7XG4gIHJldHVybiB1c2VDb250ZXh0KENvbW1lbnRzQ29uZmlnQ29udGV4dCk7XG59XG5mdW5jdGlvbiBDb21tZW50c0NvbmZpZyh7XG4gIG92ZXJyaWRlcyxcbiAgY29tcG9uZW50cyxcbiAgcG9ydGFsQ29udGFpbmVyLFxuICBjaGlsZHJlblxufSkge1xuICBjb25zdCBjb21tZW50c0NvbmZpZyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHsgcG9ydGFsQ29udGFpbmVyIH0pLFxuICAgIFtwb3J0YWxDb250YWluZXJdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21tZW50c0NvbmZpZ0NvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZTogY29tbWVudHNDb25maWdcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoT3ZlcnJpZGVzUHJvdmlkZXIsIHtcbiAgICBvdmVycmlkZXNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50c1Byb3ZpZGVyLCB7XG4gICAgY29tcG9uZW50c1xuICB9LCBjaGlsZHJlbikpKTtcbn1cblxuZXhwb3J0IHsgQ29tbWVudHNDb25maWcsIHVzZUNvbW1lbnRzQ29uZmlnIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25maWcubWpzLm1hcFxuIl0sIm5hbWVzIjpbIlJlYWN0X19kZWZhdWx0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VNZW1vIiwiQ29tcG9uZW50c1Byb3ZpZGVyIiwiT3ZlcnJpZGVzUHJvdmlkZXIiLCJDb21tZW50c0NvbmZpZ0NvbnRleHQiLCJ1c2VDb21tZW50c0NvbmZpZyIsIkNvbW1lbnRzQ29uZmlnIiwib3ZlcnJpZGVzIiwiY29tcG9uZW50cyIsInBvcnRhbENvbnRhaW5lciIsImNoaWxkcmVuIiwiY29tbWVudHNDb25maWciLCJjcmVhdGVFbGVtZW50IiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/constants.mjs ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EMOJI_FONT_FAMILY: function() { return /* binding */ EMOJI_FONT_FAMILY; },\n/* harmony export */   FLOATING_ELEMENT_COLLISION_PADDING: function() { return /* binding */ FLOATING_ELEMENT_COLLISION_PADDING; },\n/* harmony export */   FLOATING_ELEMENT_SIDE_OFFSET: function() { return /* binding */ FLOATING_ELEMENT_SIDE_OFFSET; }\n/* harmony export */ });\nconst FLOATING_ELEMENT_SIDE_OFFSET = 6;\nconst FLOATING_ELEMENT_COLLISION_PADDING = 10;\nconst EMOJI_FONT_FAMILY = \"'Apple Color Emoji', 'Noto Color Emoji', 'Twemoji Mozilla', 'Android Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', EmojiSymbols, sans-serif\";\n\n\n//# sourceMappingURL=constants.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2NvbnN0YW50cy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTtBQUNBOztBQUUrRjtBQUMvRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9jb25zdGFudHMubWpzPzc1MzEiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgRkxPQVRJTkdfRUxFTUVOVF9TSURFX09GRlNFVCA9IDY7XG5jb25zdCBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HID0gMTA7XG5jb25zdCBFTU9KSV9GT05UX0ZBTUlMWSA9IFwiJ0FwcGxlIENvbG9yIEVtb2ppJywgJ05vdG8gQ29sb3IgRW1vamknLCAnVHdlbW9qaSBNb3ppbGxhJywgJ0FuZHJvaWQgRW1vamknLCAnU2Vnb2UgVUkgRW1vamknLCAnU2Vnb2UgVUkgU3ltYm9sJywgRW1vamlTeW1ib2xzLCBzYW5zLXNlcmlmXCI7XG5cbmV4cG9ydCB7IEVNT0pJX0ZPTlRfRkFNSUxZLCBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HLCBGTE9BVElOR19FTEVNRU5UX1NJREVfT0ZGU0VUIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdGFudHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/ArrowDown.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/ArrowDown.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ArrowDownIcon: function() { return /* binding */ ArrowDownIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction ArrowDownIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 4v12m6-6-6 6-6-6\"\n  }));\n}\n\n\n//# sourceMappingURL=ArrowDown.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Fycm93RG93bi5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DO0FBQ29COztBQUV2RDtBQUNBLHlCQUF5QixnREFBNEIsQ0FBQywrREFBSTtBQUMxRDtBQUNBLEdBQUcsa0JBQWtCLGdEQUE0QjtBQUNqRDtBQUNBLEdBQUc7QUFDSDs7QUFFeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvaWNvbnMvQXJyb3dEb3duLm1qcz9hYzdkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIEFycm93RG93bkljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwIDR2MTJtNi02LTYgNi02LTZcIlxuICB9KSk7XG59XG5cbmV4cG9ydCB7IEFycm93RG93bkljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFycm93RG93bi5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/ArrowDown.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Check.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Check.mjs ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CheckIcon: function() { return /* binding */ CheckIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction CheckIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M16 6L8 14L4 10\"\n  }));\n}\n\n\n//# sourceMappingURL=Check.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0NoZWNrLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0EsR0FBRztBQUNIOztBQUVxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9pY29ucy9DaGVjay5tanM/MzE5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwvSWNvbi5tanMnO1xuXG5mdW5jdGlvbiBDaGVja0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE2IDZMOCAxNEw0IDEwXCJcbiAgfSkpO1xufVxuXG5leHBvcnQgeyBDaGVja0ljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoZWNrLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Check.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Cross.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Cross.mjs ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CrossIcon: function() { return /* binding */ CrossIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction CrossIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15 5L5 15\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5 5L15 15\"\n  }));\n}\n\n\n//# sourceMappingURL=Cross.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Nyb3NzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRztBQUNIOztBQUVxQjtBQUNyQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9pY29ucy9Dcm9zcy5tanM/YTFhMyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiB9IGZyb20gJy4uL2NvbXBvbmVudHMvaW50ZXJuYWwvSWNvbi5tanMnO1xuXG5mdW5jdGlvbiBDcm9zc0ljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE1IDVMNSAxNVwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTUgNUwxNSAxNVwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgQ3Jvc3NJY29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Dcm9zcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Cross.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Delete.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Delete.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DeleteIcon: function() { return /* binding */ DeleteIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction DeleteIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4.5 6.5h11M14 6.5V14a1.5 1.5 0 0 1-1.5 1.5h-5A1.5 1.5 0 0 1 6 14V6.5M7.5 6.5V5a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v1.5\"\n  }));\n}\n\n\n//# sourceMappingURL=Delete.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0RlbGV0ZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DO0FBQ29COztBQUV2RDtBQUNBLHlCQUF5QixnREFBNEIsQ0FBQywrREFBSTtBQUMxRDtBQUNBLEdBQUcsa0JBQWtCLGdEQUE0QjtBQUNqRDtBQUNBLEdBQUc7QUFDSDs7QUFFc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvaWNvbnMvRGVsZXRlLm1qcz80NjZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIERlbGV0ZUljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTQuNSA2LjVoMTFNMTQgNi41VjE0YTEuNSAxLjUgMCAwIDEtMS41IDEuNWgtNUExLjUgMS41IDAgMCAxIDYgMTRWNi41TTcuNSA2LjVWNWExIDEgMCAwIDEgMS0xaDNhMSAxIDAgMCAxIDEgMXYxLjVcIlxuICB9KSk7XG59XG5cbmV4cG9ydCB7IERlbGV0ZUljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPURlbGV0ZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Delete.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Edit.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Edit.mjs ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EditIcon: function() { return /* binding */ EditIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction EditIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"m11.784 5.797-6.13 6.138a4 4 0 0 0-1.03 1.775L4 16l2.285-.624a4 4 0 0 0 1.776-1.032l6.145-6.152m-2.422-2.395 1.244-1.246c.608-.608 1.826-.81 2.53-.104.7.7.499 1.893-.122 2.515l-1.23 1.23m-2.422-2.395 2.422 2.395\"\n  }));\n}\n\n\n//# sourceMappingURL=Edit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0VkaXQubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNvQjs7QUFFdkQ7QUFDQSx5QkFBeUIsZ0RBQTRCLENBQUMsK0RBQUk7QUFDMUQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQSxHQUFHO0FBQ0g7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0VkaXQubWpzP2UxYWIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsL0ljb24ubWpzJztcblxuZnVuY3Rpb24gRWRpdEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwibTExLjc4NCA1Ljc5Ny02LjEzIDYuMTM4YTQgNCAwIDAgMC0xLjAzIDEuNzc1TDQgMTZsMi4yODUtLjYyNGE0IDQgMCAwIDAgMS43NzYtMS4wMzJsNi4xNDUtNi4xNTJtLTIuNDIyLTIuMzk1IDEuMjQ0LTEuMjQ2Yy42MDgtLjYwOCAxLjgyNi0uODEgMi41My0uMTA0LjcuNy40OTkgMS44OTMtLjEyMiAyLjUxNWwtMS4yMyAxLjIzbS0yLjQyMi0yLjM5NSAyLjQyMiAyLjM5NVwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgRWRpdEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVkaXQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Edit.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Ellipsis.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Ellipsis.mjs ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EllipsisIcon: function() { return /* binding */ EllipsisIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction EllipsisIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    fill: \"currentColor\",\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 5,\n    cy: 10,\n    r: 0.75\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 10,\n    cy: 10,\n    r: 0.75\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 15,\n    cy: 10,\n    r: 0.75\n  }));\n}\n\n\n//# sourceMappingURL=Ellipsis.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0VsbGlwc2lzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0E7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLEdBQUcsbUJBQW1CLGdEQUE0QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0VsbGlwc2lzLm1qcz8xNDQzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIEVsbGlwc2lzSWNvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIGZpbGw6IFwiY3VycmVudENvbG9yXCIsXG4gICAgLi4ucHJvcHNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGN4OiA1LFxuICAgIGN5OiAxMCxcbiAgICByOiAwLjc1XG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IDEwLFxuICAgIGN5OiAxMCxcbiAgICByOiAwLjc1XG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IDE1LFxuICAgIGN5OiAxMCxcbiAgICByOiAwLjc1XG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgRWxsaXBzaXNJY29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FbGxpcHNpcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Ellipsis.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Emoji.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Emoji.mjs ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmojiIcon: function() { return /* binding */ EmojiIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction EmojiIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 17a7 7 0 1 0 0-14 7 7 0 0 0 0 14Z\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h.007\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 8h.007\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 8,\n    cy: 8,\n    r: 0.25\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 12,\n    cy: 8,\n    r: 0.25\n  }));\n}\n\n\n//# sourceMappingURL=Emoji.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Vtb2ppLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLEdBQUcsbUJBQW1CLGdEQUE0QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Vtb2ppLm1qcz8zMTRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIEVtb2ppSWNvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAgMTdhNyA3IDAgMSAwIDAtMTQgNyA3IDAgMCAwIDAgMTRaXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNy41IDExLjVTOC4yNSAxMyAxMCAxM3MyLjUtMS41IDIuNS0xLjVNOCA4aC4wMDdcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiA4aC4wMDdcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGN4OiA4LFxuICAgIGN5OiA4LFxuICAgIHI6IDAuMjVcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogMTIsXG4gICAgY3k6IDgsXG4gICAgcjogMC4yNVxuICB9KSk7XG59XG5cbmV4cG9ydCB7IEVtb2ppSWNvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW1vamkubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Emoji.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/EmojiAdd.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/EmojiAdd.mjs ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmojiAddIcon: function() { return /* binding */ EmojiAddIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction EmojiAddIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M11 3.07A7 7 0 1 0 16.93 9\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.5 11.5S8.25 13 10 13s2.5-1.5 2.5-1.5M8 8h0\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 8h0\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M13 5h4m-2-2v4\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: \"8\",\n    cy: \"8\",\n    r: \".25\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: \"12\",\n    cy: \"8\",\n    r: \".25\"\n  }));\n}\n\n\n//# sourceMappingURL=EmojiAdd.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Vtb2ppQWRkLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBLEdBQUcsbUJBQW1CLGdEQUE0QjtBQUNsRDtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL0Vtb2ppQWRkLm1qcz80ZTYwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIEVtb2ppQWRkSWNvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTEgMy4wN0E3IDcgMCAxIDAgMTYuOTMgOVwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTcuNSAxMS41UzguMjUgMTMgMTAgMTNzMi41LTEuNSAyLjUtMS41TTggOGgwXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTIgOGgwXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTMgNWg0bS0yLTJ2NFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IFwiOFwiLFxuICAgIGN5OiBcIjhcIixcbiAgICByOiBcIi4yNVwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImNpcmNsZVwiLCB7XG4gICAgY3g6IFwiMTJcIixcbiAgICBjeTogXCI4XCIsXG4gICAgcjogXCIuMjVcIlxuICB9KSk7XG59XG5cbmV4cG9ydCB7IEVtb2ppQWRkSWNvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9RW1vamlBZGQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/EmojiAdd.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Mention.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Mention.mjs ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MentionIcon: function() { return /* binding */ MentionIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction MentionIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10 13a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M13 7v3.7c0 1.105.855 2.1 1.9 2.1a2.12 2.12 0 0 0 2.1-2.1V10a7 7 0 1 0-2.8 5.6\"\n  }));\n}\n\n\n//# sourceMappingURL=Mention.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL01lbnRpb24ubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNvQjs7QUFFdkQ7QUFDQSx5QkFBeUIsZ0RBQTRCLENBQUMsK0RBQUk7QUFDMUQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQSxHQUFHLG1CQUFtQixnREFBNEI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7O0FBRXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL01lbnRpb24ubWpzP2VkNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsL0ljb24ubWpzJztcblxuZnVuY3Rpb24gTWVudGlvbkljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEwIDEzYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNlpcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMyA3djMuN2MwIDEuMTA1Ljg1NSAyLjEgMS45IDIuMWEyLjEyIDIuMTIgMCAwIDAgMi4xLTIuMVYxMGE3IDcgMCAxIDAtMi44IDUuNlwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgTWVudGlvbkljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU1lbnRpb24ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Mention.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolve.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Resolve.mjs ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResolveIcon: function() { return /* binding */ ResolveIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction ResolveIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 10,\n    cy: 10,\n    r: 7\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"m13 8-4 4-2-2\"\n  }));\n}\n\n\n//# sourceMappingURL=Resolve.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1Jlc29sdmUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNvQjs7QUFFdkQ7QUFDQSx5QkFBeUIsZ0RBQTRCLENBQUMsK0RBQUk7QUFDMUQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0EsR0FBRztBQUNIOztBQUV1QjtBQUN2QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9pY29ucy9SZXNvbHZlLm1qcz9jYzdhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIFJlc29sdmVJY29uKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgLi4ucHJvcHNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjaXJjbGVcIiwge1xuICAgIGN4OiAxMCxcbiAgICBjeTogMTAsXG4gICAgcjogN1xuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIm0xMyA4LTQgNC0yLTJcIlxuICB9KSk7XG59XG5cbmV4cG9ydCB7IFJlc29sdmVJY29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvbHZlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolve.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolved.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Resolved.mjs ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ResolvedIcon: function() { return /* binding */ ResolvedIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction ResolvedIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    cx: 10,\n    cy: 10,\n    r: 7,\n    fill: \"currentColor\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"m13 8-4 4-2-2\",\n    stroke: \"var(--lb-icon-background)\"\n  }));\n}\n\n\n//# sourceMappingURL=Resolved.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1Jlc29sdmVkLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBbUM7QUFDb0I7O0FBRXZEO0FBQ0EseUJBQXlCLGdEQUE0QixDQUFDLCtEQUFJO0FBQzFEO0FBQ0EsR0FBRyxrQkFBa0IsZ0RBQTRCO0FBQ2pEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQTRCO0FBQ2xEO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRXdCO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1Jlc29sdmVkLm1qcz8wMjQ0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIFJlc29sdmVkSWNvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgIC4uLnByb3BzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBjeDogMTAsXG4gICAgY3k6IDEwLFxuICAgIHI6IDcsXG4gICAgZmlsbDogXCJjdXJyZW50Q29sb3JcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIm0xMyA4LTQgNC0yLTJcIixcbiAgICBzdHJva2U6IFwidmFyKC0tbGItaWNvbi1iYWNrZ3JvdW5kKVwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgUmVzb2x2ZWRJY29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1SZXNvbHZlZC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Resolved.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Search.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Search.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SearchIcon: function() { return /* binding */ SearchIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction SearchIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M9 15A6 6 0 1 0 9 3a6 6 0 0 0 0 12Zm7.5 1.5-3.25-3.25\"\n  }));\n}\n\n\n//# sourceMappingURL=Search.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1NlYXJjaC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQW1DO0FBQ29COztBQUV2RDtBQUNBLHlCQUF5QixnREFBNEIsQ0FBQywrREFBSTtBQUMxRDtBQUNBLEdBQUcsa0JBQWtCLGdEQUE0QjtBQUNqRDtBQUNBLEdBQUc7QUFDSDs7QUFFc0I7QUFDdEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvaWNvbnMvU2VhcmNoLm1qcz9jODMxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdF9fZGVmYXVsdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBJY29uIH0gZnJvbSAnLi4vY29tcG9uZW50cy9pbnRlcm5hbC9JY29uLm1qcyc7XG5cbmZ1bmN0aW9uIFNlYXJjaEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTkgMTVBNiA2IDAgMSAwIDkgM2E2IDYgMCAwIDAgMCAxMlptNy41IDEuNS0zLjI1LTMuMjVcIlxuICB9KSk7XG59XG5cbmV4cG9ydCB7IFNlYXJjaEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlYXJjaC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Search.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Send.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Send.mjs ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SendIcon: function() { return /* binding */ SendIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction SendIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"m5 16 12-6L5 4l2 6-2 6ZM7 10h10\"\n  }));\n}\n\n\n//# sourceMappingURL=Send.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1NlbmQubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUNvQjs7QUFFdkQ7QUFDQSx5QkFBeUIsZ0RBQTRCLENBQUMsK0RBQUk7QUFDMUQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQSxHQUFHO0FBQ0g7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1NlbmQubWpzPzYzOWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0X19kZWZhdWx0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEljb24gfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsL0ljb24ubWpzJztcblxuZnVuY3Rpb24gU2VuZEljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwibTUgMTYgMTItNkw1IDRsMiA2LTIgNlpNNyAxMGgxMFwiXG4gIH0pKTtcbn1cblxuZXhwb3J0IHsgU2VuZEljb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNlbmQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Send.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Spinner.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/icons/Spinner.mjs ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   SpinnerIcon: function() { return /* binding */ SpinnerIcon; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../components/internal/Icon.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Icon.mjs\");\n\n\n\nfunction SpinnerIcon(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.Icon, {\n    ...props\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M3 10a7 7 0 0 1 7-7\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"animateTransform\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    attributeName: \"transform\",\n    type: \"rotate\",\n    dur: \"0.75s\",\n    values: `0 ${_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.ICON_WIDTH / 2} ${_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.ICON_HEIGHT / 2};360 ${_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.ICON_WIDTH / 2} ${_components_internal_Icon_mjs__WEBPACK_IMPORTED_MODULE_1__.ICON_HEIGHT / 2}`,\n    repeatCount: \"indefinite\"\n  })));\n}\n\n\n//# sourceMappingURL=Spinner.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L2ljb25zL1NwaW5uZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFtQztBQUM2Qzs7QUFFaEY7QUFDQSx5QkFBeUIsZ0RBQTRCLENBQUMsK0RBQUk7QUFDMUQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQSxHQUFHLGtCQUFrQixnREFBNEI7QUFDakQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIscUVBQVUsTUFBTSxFQUFFLHNFQUFXLE1BQU0sTUFBTSxxRUFBVSxNQUFNLEVBQUUsc0VBQVcsS0FBSztBQUM1RjtBQUNBLEdBQUc7QUFDSDs7QUFFdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvaWNvbnMvU3Bpbm5lci5tanM/YzIyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgSWNvbiwgSUNPTl9XSURUSCwgSUNPTl9IRUlHSFQgfSBmcm9tICcuLi9jb21wb25lbnRzL2ludGVybmFsL0ljb24ubWpzJztcblxuZnVuY3Rpb24gU3Bpbm5lckljb24ocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAuLi5wcm9wc1xuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTMgMTBhNyA3IDAgMCAxIDctN1wiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiYW5pbWF0ZVRyYW5zZm9ybVwiLCB7XG4gICAgeG1sbnM6IFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIixcbiAgICBhdHRyaWJ1dGVOYW1lOiBcInRyYW5zZm9ybVwiLFxuICAgIHR5cGU6IFwicm90YXRlXCIsXG4gICAgZHVyOiBcIjAuNzVzXCIsXG4gICAgdmFsdWVzOiBgMCAke0lDT05fV0lEVEggLyAyfSAke0lDT05fSEVJR0hUIC8gMn07MzYwICR7SUNPTl9XSURUSCAvIDJ9ICR7SUNPTl9IRUlHSFQgLyAyfWAsXG4gICAgcmVwZWF0Q291bnQ6IFwiaW5kZWZpbml0ZVwiXG4gIH0pKSk7XG59XG5cbmV4cG9ydCB7IFNwaW5uZXJJY29uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TcGlubmVyLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/icons/Spinner.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs":
/*!********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/overrides.mjs ***!
  \********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OverridesContext: function() { return /* binding */ OverridesContext; },\n/* harmony export */   OverridesProvider: function() { return /* binding */ OverridesProvider; },\n/* harmony export */   defaultOverrides: function() { return /* binding */ defaultOverrides; },\n/* harmony export */   useOverrides: function() { return /* binding */ useOverrides; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _components_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./components/internal/Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/components/internal/Emoji.mjs\");\n/* harmony import */ var _utils_pluralize_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/pluralize.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/pluralize.mjs\");\n/* __next_internal_client_entry_do_not_use__ OverridesContext,OverridesProvider,defaultOverrides,useOverrides auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\nconst defaultOverrides = {\n    locale: \"en\",\n    dir: \"ltr\",\n    USER_SELF: \"you\",\n    USER_UNKNOWN: \"Anonymous\",\n    LIST_REMAINING: (count)=>\"\".concat(count, \" more\"),\n    LIST_REMAINING_USERS: (count)=>\"\".concat(count, \" \").concat((0,_utils_pluralize_mjs__WEBPACK_IMPORTED_MODULE_1__.pluralize)(count, \"other\")),\n    LIST_REMAINING_COMMENTS: (count)=>\"\".concat(count, \" more \").concat((0,_utils_pluralize_mjs__WEBPACK_IMPORTED_MODULE_1__.pluralize)(count, \"comment\")),\n    EMOJI_PICKER_SEARCH_PLACEHOLDER: \"Search\",\n    EMOJI_PICKER_EMPTY: \"No emoji found.\",\n    EMOJI_PICKER_ERROR: ()=>\"There was an error while getting the list of emoji.\",\n    COMPOSER_INSERT_MENTION: \"Mention someone\",\n    COMPOSER_INSERT_EMOJI: \"Add emoji\",\n    COMPOSER_PLACEHOLDER: \"Write a comment\",\n    COMPOSER_SEND: \"Send\",\n    COMMENT_EDITED: \"(edited)\",\n    COMMENT_DELETED: \"This comment has been deleted.\",\n    COMMENT_MORE: \"More\",\n    COMMENT_EDIT: \"Edit comment\",\n    COMMENT_EDIT_COMPOSER_PLACEHOLDER: \"Edit comment\",\n    COMMENT_EDIT_COMPOSER_CANCEL: \"Cancel\",\n    COMMENT_EDIT_COMPOSER_SAVE: \"Save\",\n    COMMENT_DELETE: \"Delete comment\",\n    COMMENT_ADD_REACTION: \"Add reaction\",\n    COMMENT_REACTION_LIST: (list, emoji)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, list, \" reacted with \", /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_2__.Emoji, {\n            emoji\n        })),\n    COMMENT_REACTION_DESCRIPTION: (emoji, count)=>\"\".concat(count, \" \").concat((0,_utils_pluralize_mjs__WEBPACK_IMPORTED_MODULE_1__.pluralize)(count, \"reaction\"), \", react with \").concat(emoji),\n    THREAD_RESOLVE: \"Resolve thread\",\n    THREAD_UNRESOLVE: \"Re-open thread\",\n    THREAD_NEW_INDICATOR: \"New\",\n    THREAD_NEW_INDICATOR_DESCRIPTION: \"New comments\",\n    THREAD_COMPOSER_PLACEHOLDER: \"Reply to thread\",\n    THREAD_COMPOSER_SEND: \"Reply\",\n    INBOX_NOTIFICATION_MORE: \"More\",\n    INBOX_NOTIFICATION_MARK_AS_READ: \"Mark as read\",\n    INBOX_NOTIFICATION_THREAD_COMMENTS_LIST: (list, room)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, list, \" commented\", room ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \" in \", room) : /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \" in a thread\")),\n    INBOX_NOTIFICATION_THREAD_MENTION: (user, room)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, user, \" mentioned you\", room ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, \" in \", room) : null)\n};\nconst OverridesContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);\nfunction useOverrides(overrides) {\n    _s();\n    const contextOverrides = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OverridesContext);\n    return (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultOverrides,\n            ...contextOverrides,\n            ...overrides\n        }), [\n        contextOverrides,\n        overrides\n    ]);\n}\n_s(useOverrides, \"GNeaWEULs5MvXJDJTAdvxQKhdG4=\");\nfunction OverridesProvider(param) {\n    let { children, overrides: providerOverrides } = param;\n    _s1();\n    const contextOverrides = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(OverridesContext);\n    const overrides = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultOverrides,\n            ...contextOverrides,\n            ...providerOverrides\n        }), [\n        contextOverrides,\n        providerOverrides\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(OverridesContext.Provider, {\n        value: overrides\n    }, children);\n}\n_s1(OverridesProvider, \"pbInLaya2AnCR7j2Cw6qOeSB3sQ=\");\n_c = OverridesProvider;\n //# sourceMappingURL=overrides.mjs.map\nvar _c;\n$RefreshReg$(_c, \"OverridesProvider\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L292ZXJyaWRlcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFDK0I7QUFDNEI7QUFDSDtBQUNOO0FBRWxELE1BQU1NLG1CQUFtQjtJQUN2QkMsUUFBUTtJQUNSQyxLQUFLO0lBQ0xDLFdBQVc7SUFDWEMsY0FBYztJQUNkQyxnQkFBZ0IsQ0FBQ0MsUUFBVSxHQUFTLE9BQU5BLE9BQU07SUFDcENDLHNCQUFzQixDQUFDRCxRQUFVLEdBQVlQLE9BQVRPLE9BQU0sS0FBNkIsT0FBMUJQLCtEQUFTQSxDQUFDTyxPQUFPO0lBQzlERSx5QkFBeUIsQ0FBQ0YsUUFBVSxHQUFpQlAsT0FBZE8sT0FBTSxVQUFvQyxPQUE1QlAsK0RBQVNBLENBQUNPLE9BQU87SUFDdEVHLGlDQUFpQztJQUNqQ0Msb0JBQW9CO0lBQ3BCQyxvQkFBb0IsSUFBTTtJQUMxQkMseUJBQXlCO0lBQ3pCQyx1QkFBdUI7SUFDdkJDLHNCQUFzQjtJQUN0QkMsZUFBZTtJQUNmQyxnQkFBZ0I7SUFDaEJDLGlCQUFpQjtJQUNqQkMsY0FBYztJQUNkQyxjQUFjO0lBQ2RDLG1DQUFtQztJQUNuQ0MsOEJBQThCO0lBQzlCQyw0QkFBNEI7SUFDNUJDLGdCQUFnQjtJQUNoQkMsc0JBQXNCO0lBQ3RCQyx1QkFBdUIsQ0FBQ0MsTUFBTUMsUUFBVSxhQUFhLGlCQUFHakMsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTWdDLE1BQU0sa0JBQWtCLGFBQWEsaUJBQUdoQyxnREFBbUIsQ0FBQ0ksaUVBQUtBLEVBQUU7WUFDbks2QjtRQUNGO0lBQ0FHLDhCQUE4QixDQUFDSCxPQUFPckIsUUFBVSxHQUFZUCxPQUFUTyxPQUFNLEtBQStDcUIsT0FBNUM1QiwrREFBU0EsQ0FBQ08sT0FBTyxhQUFZLGlCQUFxQixPQUFOcUI7SUFDeEdJLGdCQUFnQjtJQUNoQkMsa0JBQWtCO0lBQ2xCQyxzQkFBc0I7SUFDdEJDLGtDQUFrQztJQUNsQ0MsNkJBQTZCO0lBQzdCQyxzQkFBc0I7SUFDdEJDLHlCQUF5QjtJQUN6QkMsaUNBQWlDO0lBQ2pDQyx5Q0FBeUMsQ0FBQ2IsTUFBTWMsT0FBUyxhQUFhLGlCQUFHOUMsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTWdDLE1BQU0sY0FBY2MsT0FBTyxhQUFhLGlCQUFHOUMsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTSxRQUFROEMsUUFBUSxhQUFhLGlCQUFHOUMsZ0RBQW1CLENBQUNBLDJDQUFjLEVBQUUsTUFBTTtJQUNsUitDLG1DQUFtQyxDQUFDQyxNQUFNRixPQUFTLGFBQWEsaUJBQUc5QyxnREFBbUIsQ0FBQ0EsMkNBQWMsRUFBRSxNQUFNZ0QsTUFBTSxrQkFBa0JGLE9BQU8sYUFBYSxpQkFBRzlDLGdEQUFtQixDQUFDQSwyQ0FBYyxFQUFFLE1BQU0sUUFBUThDLFFBQVE7QUFDeE47QUFDQSxNQUFNRyxpQ0FBbUJoRCxvREFBYUEsQ0FBQyxLQUFLO0FBQzVDLFNBQVNpRCxhQUFhQyxTQUFTOztJQUM3QixNQUFNQyxtQkFBbUJsRCxpREFBVUEsQ0FBQytDO0lBQ3BDLE9BQU85Qyw4Q0FBT0EsQ0FDWixJQUFPO1lBQ0wsR0FBR0csZ0JBQWdCO1lBQ25CLEdBQUc4QyxnQkFBZ0I7WUFDbkIsR0FBR0QsU0FBUztRQUNkLElBQ0E7UUFBQ0M7UUFBa0JEO0tBQVU7QUFFakM7R0FWU0Q7QUFXVCxTQUFTRyxrQkFBa0IsS0FHMUI7UUFIMEIsRUFDekJDLFFBQVEsRUFDUkgsV0FBV0ksaUJBQWlCLEVBQzdCLEdBSDBCOztJQUl6QixNQUFNSCxtQkFBbUJsRCxpREFBVUEsQ0FBQytDO0lBQ3BDLE1BQU1FLFlBQVloRCw4Q0FBT0EsQ0FDdkIsSUFBTztZQUNMLEdBQUdHLGdCQUFnQjtZQUNuQixHQUFHOEMsZ0JBQWdCO1lBQ25CLEdBQUdHLGlCQUFpQjtRQUN0QixJQUNBO1FBQUNIO1FBQWtCRztLQUFrQjtJQUV2QyxPQUFPLGFBQWEsaUJBQUd2RCxnREFBbUIsQ0FBQ2lELGlCQUFpQk8sUUFBUSxFQUFFO1FBQ3BFQyxPQUFPTjtJQUNULEdBQUdHO0FBQ0w7SUFoQlNEO0tBQUFBO0FBa0JzRSxDQUMvRSxzQ0FBc0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvb3ZlcnJpZGVzLm1qcz9lNTQxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBFbW9qaSB9IGZyb20gJy4vY29tcG9uZW50cy9pbnRlcm5hbC9FbW9qaS5tanMnO1xuaW1wb3J0IHsgcGx1cmFsaXplIH0gZnJvbSAnLi91dGlscy9wbHVyYWxpemUubWpzJztcblxuY29uc3QgZGVmYXVsdE92ZXJyaWRlcyA9IHtcbiAgbG9jYWxlOiBcImVuXCIsXG4gIGRpcjogXCJsdHJcIixcbiAgVVNFUl9TRUxGOiBcInlvdVwiLFxuICBVU0VSX1VOS05PV046IFwiQW5vbnltb3VzXCIsXG4gIExJU1RfUkVNQUlOSU5HOiAoY291bnQpID0+IGAke2NvdW50fSBtb3JlYCxcbiAgTElTVF9SRU1BSU5JTkdfVVNFUlM6IChjb3VudCkgPT4gYCR7Y291bnR9ICR7cGx1cmFsaXplKGNvdW50LCBcIm90aGVyXCIpfWAsXG4gIExJU1RfUkVNQUlOSU5HX0NPTU1FTlRTOiAoY291bnQpID0+IGAke2NvdW50fSBtb3JlICR7cGx1cmFsaXplKGNvdW50LCBcImNvbW1lbnRcIil9YCxcbiAgRU1PSklfUElDS0VSX1NFQVJDSF9QTEFDRUhPTERFUjogXCJTZWFyY2hcXHUyMDI2XCIsXG4gIEVNT0pJX1BJQ0tFUl9FTVBUWTogXCJObyBlbW9qaSBmb3VuZC5cIixcbiAgRU1PSklfUElDS0VSX0VSUk9SOiAoKSA9PiBcIlRoZXJlIHdhcyBhbiBlcnJvciB3aGlsZSBnZXR0aW5nIHRoZSBsaXN0IG9mIGVtb2ppLlwiLFxuICBDT01QT1NFUl9JTlNFUlRfTUVOVElPTjogXCJNZW50aW9uIHNvbWVvbmVcIixcbiAgQ09NUE9TRVJfSU5TRVJUX0VNT0pJOiBcIkFkZCBlbW9qaVwiLFxuICBDT01QT1NFUl9QTEFDRUhPTERFUjogXCJXcml0ZSBhIGNvbW1lbnRcXHUyMDI2XCIsXG4gIENPTVBPU0VSX1NFTkQ6IFwiU2VuZFwiLFxuICBDT01NRU5UX0VESVRFRDogXCIoZWRpdGVkKVwiLFxuICBDT01NRU5UX0RFTEVURUQ6IFwiVGhpcyBjb21tZW50IGhhcyBiZWVuIGRlbGV0ZWQuXCIsXG4gIENPTU1FTlRfTU9SRTogXCJNb3JlXCIsXG4gIENPTU1FTlRfRURJVDogXCJFZGl0IGNvbW1lbnRcIixcbiAgQ09NTUVOVF9FRElUX0NPTVBPU0VSX1BMQUNFSE9MREVSOiBcIkVkaXQgY29tbWVudFxcdTIwMjZcIixcbiAgQ09NTUVOVF9FRElUX0NPTVBPU0VSX0NBTkNFTDogXCJDYW5jZWxcIixcbiAgQ09NTUVOVF9FRElUX0NPTVBPU0VSX1NBVkU6IFwiU2F2ZVwiLFxuICBDT01NRU5UX0RFTEVURTogXCJEZWxldGUgY29tbWVudFwiLFxuICBDT01NRU5UX0FERF9SRUFDVElPTjogXCJBZGQgcmVhY3Rpb25cIixcbiAgQ09NTUVOVF9SRUFDVElPTl9MSVNUOiAobGlzdCwgZW1vamkpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBsaXN0LCBcIiByZWFjdGVkIHdpdGggXCIsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KEVtb2ppLCB7XG4gICAgZW1vamlcbiAgfSkpLFxuICBDT01NRU5UX1JFQUNUSU9OX0RFU0NSSVBUSU9OOiAoZW1vamksIGNvdW50KSA9PiBgJHtjb3VudH0gJHtwbHVyYWxpemUoY291bnQsIFwicmVhY3Rpb25cIil9LCByZWFjdCB3aXRoICR7ZW1vaml9YCxcbiAgVEhSRUFEX1JFU09MVkU6IFwiUmVzb2x2ZSB0aHJlYWRcIixcbiAgVEhSRUFEX1VOUkVTT0xWRTogXCJSZS1vcGVuIHRocmVhZFwiLFxuICBUSFJFQURfTkVXX0lORElDQVRPUjogXCJOZXdcIixcbiAgVEhSRUFEX05FV19JTkRJQ0FUT1JfREVTQ1JJUFRJT046IFwiTmV3IGNvbW1lbnRzXCIsXG4gIFRIUkVBRF9DT01QT1NFUl9QTEFDRUhPTERFUjogXCJSZXBseSB0byB0aHJlYWRcXHUyMDI2XCIsXG4gIFRIUkVBRF9DT01QT1NFUl9TRU5EOiBcIlJlcGx5XCIsXG4gIElOQk9YX05PVElGSUNBVElPTl9NT1JFOiBcIk1vcmVcIixcbiAgSU5CT1hfTk9USUZJQ0FUSU9OX01BUktfQVNfUkVBRDogXCJNYXJrIGFzIHJlYWRcIixcbiAgSU5CT1hfTk9USUZJQ0FUSU9OX1RIUkVBRF9DT01NRU5UU19MSVNUOiAobGlzdCwgcm9vbSkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIGxpc3QsIFwiIGNvbW1lbnRlZFwiLCByb29tID8gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmVhY3QuRnJhZ21lbnQsIG51bGwsIFwiIGluIFwiLCByb29tKSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBcIiBpbiBhIHRocmVhZFwiKSksXG4gIElOQk9YX05PVElGSUNBVElPTl9USFJFQURfTUVOVElPTjogKHVzZXIsIHJvb20pID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB1c2VyLCBcIiBtZW50aW9uZWQgeW91XCIsIHJvb20gPyAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCwgXCIgaW4gXCIsIHJvb20pIDogbnVsbClcbn07XG5jb25zdCBPdmVycmlkZXNDb250ZXh0ID0gY3JlYXRlQ29udGV4dCh2b2lkIDApO1xuZnVuY3Rpb24gdXNlT3ZlcnJpZGVzKG92ZXJyaWRlcykge1xuICBjb25zdCBjb250ZXh0T3ZlcnJpZGVzID0gdXNlQ29udGV4dChPdmVycmlkZXNDb250ZXh0KTtcbiAgcmV0dXJuIHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIC4uLmRlZmF1bHRPdmVycmlkZXMsXG4gICAgICAuLi5jb250ZXh0T3ZlcnJpZGVzLFxuICAgICAgLi4ub3ZlcnJpZGVzXG4gICAgfSksXG4gICAgW2NvbnRleHRPdmVycmlkZXMsIG92ZXJyaWRlc11cbiAgKTtcbn1cbmZ1bmN0aW9uIE92ZXJyaWRlc1Byb3ZpZGVyKHtcbiAgY2hpbGRyZW4sXG4gIG92ZXJyaWRlczogcHJvdmlkZXJPdmVycmlkZXNcbn0pIHtcbiAgY29uc3QgY29udGV4dE92ZXJyaWRlcyA9IHVzZUNvbnRleHQoT3ZlcnJpZGVzQ29udGV4dCk7XG4gIGNvbnN0IG92ZXJyaWRlcyA9IHVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIC4uLmRlZmF1bHRPdmVycmlkZXMsXG4gICAgICAuLi5jb250ZXh0T3ZlcnJpZGVzLFxuICAgICAgLi4ucHJvdmlkZXJPdmVycmlkZXNcbiAgICB9KSxcbiAgICBbY29udGV4dE92ZXJyaWRlcywgcHJvdmlkZXJPdmVycmlkZXNdXG4gICk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChPdmVycmlkZXNDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IG92ZXJyaWRlc1xuICB9LCBjaGlsZHJlbik7XG59XG5cbmV4cG9ydCB7IE92ZXJyaWRlc0NvbnRleHQsIE92ZXJyaWRlc1Byb3ZpZGVyLCBkZWZhdWx0T3ZlcnJpZGVzLCB1c2VPdmVycmlkZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW92ZXJyaWRlcy5tanMubWFwXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZU1lbW8iLCJFbW9qaSIsInBsdXJhbGl6ZSIsImRlZmF1bHRPdmVycmlkZXMiLCJsb2NhbGUiLCJkaXIiLCJVU0VSX1NFTEYiLCJVU0VSX1VOS05PV04iLCJMSVNUX1JFTUFJTklORyIsImNvdW50IiwiTElTVF9SRU1BSU5JTkdfVVNFUlMiLCJMSVNUX1JFTUFJTklOR19DT01NRU5UUyIsIkVNT0pJX1BJQ0tFUl9TRUFSQ0hfUExBQ0VIT0xERVIiLCJFTU9KSV9QSUNLRVJfRU1QVFkiLCJFTU9KSV9QSUNLRVJfRVJST1IiLCJDT01QT1NFUl9JTlNFUlRfTUVOVElPTiIsIkNPTVBPU0VSX0lOU0VSVF9FTU9KSSIsIkNPTVBPU0VSX1BMQUNFSE9MREVSIiwiQ09NUE9TRVJfU0VORCIsIkNPTU1FTlRfRURJVEVEIiwiQ09NTUVOVF9ERUxFVEVEIiwiQ09NTUVOVF9NT1JFIiwiQ09NTUVOVF9FRElUIiwiQ09NTUVOVF9FRElUX0NPTVBPU0VSX1BMQUNFSE9MREVSIiwiQ09NTUVOVF9FRElUX0NPTVBPU0VSX0NBTkNFTCIsIkNPTU1FTlRfRURJVF9DT01QT1NFUl9TQVZFIiwiQ09NTUVOVF9ERUxFVEUiLCJDT01NRU5UX0FERF9SRUFDVElPTiIsIkNPTU1FTlRfUkVBQ1RJT05fTElTVCIsImxpc3QiLCJlbW9qaSIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsIkNPTU1FTlRfUkVBQ1RJT05fREVTQ1JJUFRJT04iLCJUSFJFQURfUkVTT0xWRSIsIlRIUkVBRF9VTlJFU09MVkUiLCJUSFJFQURfTkVXX0lORElDQVRPUiIsIlRIUkVBRF9ORVdfSU5ESUNBVE9SX0RFU0NSSVBUSU9OIiwiVEhSRUFEX0NPTVBPU0VSX1BMQUNFSE9MREVSIiwiVEhSRUFEX0NPTVBPU0VSX1NFTkQiLCJJTkJPWF9OT1RJRklDQVRJT05fTU9SRSIsIklOQk9YX05PVElGSUNBVElPTl9NQVJLX0FTX1JFQUQiLCJJTkJPWF9OT1RJRklDQVRJT05fVEhSRUFEX0NPTU1FTlRTX0xJU1QiLCJyb29tIiwiSU5CT1hfTk9USUZJQ0FUSU9OX1RIUkVBRF9NRU5USU9OIiwidXNlciIsIk92ZXJyaWRlc0NvbnRleHQiLCJ1c2VPdmVycmlkZXMiLCJvdmVycmlkZXMiLCJjb250ZXh0T3ZlcnJpZGVzIiwiT3ZlcnJpZGVzUHJvdmlkZXIiLCJjaGlsZHJlbiIsInByb3ZpZGVyT3ZlcnJpZGVzIiwiUHJvdmlkZXIiLCJ2YWx1ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/overrides.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/index.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Comment/index.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Body: function() { return /* binding */ CommentBody; },\n/* harmony export */   Link: function() { return /* binding */ CommentLink; },\n/* harmony export */   Mention: function() { return /* binding */ CommentMention; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../slate/plugins/mentions.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs\");\n\n\n\n\n\nconst COMMENT_MENTION_NAME = \"CommentMention\";\nconst COMMENT_BODY_NAME = \"CommentBody\";\nconst COMMENT_LINK_NAME = \"CommentLink\";\nconst CommentMention = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ children, asChild, ...props }, forwardedRef) => {\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.Slot : \"span\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n      ...props,\n      ref: forwardedRef\n    }, children);\n  }\n);\nconst CommentLink = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ children, asChild, ...props }, forwardedRef) => {\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.Slot : \"a\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n      target: \"_blank\",\n      rel: \"noopener noreferrer nofollow\",\n      ...props,\n      ref: forwardedRef\n    }, children);\n  }\n);\nconst defaultBodyComponents = {\n  Mention: ({ userId }) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentMention, null, _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.MENTION_CHARACTER, userId);\n  },\n  Link: ({ href, children }) => {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CommentLink, {\n      href\n    }, children);\n  }\n};\nconst CommentBody = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ body, components, asChild, ...props }, forwardedRef) => {\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.Slot : \"div\";\n    const { Mention, Link } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(\n      () => ({ ...defaultBodyComponents, ...components }),\n      [components]\n    );\n    if (!body || !body?.content) {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n      ...props,\n      ref: forwardedRef\n    }, body.content.map((block, index) => {\n      switch (block.type) {\n        case \"paragraph\":\n          return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n            key: index\n          }, block.children.map((inline, index2) => {\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.isCommentBodyMention)(inline)) {\n              return inline.id ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Mention, {\n                userId: inline.id,\n                key: index2\n              }) : null;\n            }\n            if ((0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.isCommentBodyLink)(inline)) {\n              const href = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_3__.toAbsoluteUrl)(inline.url) ?? inline.url;\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link, {\n                href,\n                key: index2\n              }, inline.url);\n            }\n            let children = inline.text;\n            if (inline.bold) {\n              children = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", {\n                key: index2\n              }, children);\n            }\n            if (inline.italic) {\n              children = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", {\n                key: index2\n              }, children);\n            }\n            if (inline.strikethrough) {\n              children = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"s\", {\n                key: index2\n              }, children);\n            }\n            if (inline.code) {\n              children = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", {\n                key: index2\n              }, children);\n            }\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n              key: index2\n            }, children);\n          }));\n        default:\n          return null;\n      }\n    }));\n  }\n);\nif (true) {\n  CommentBody.displayName = COMMENT_BODY_NAME;\n  CommentMention.displayName = COMMENT_MENTION_NAME;\n  CommentLink.displayName = COMMENT_LINK_NAME;\n}\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tbWVudC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE0QztBQUNnQjtBQUNTO0FBQ2dCOztBQUVyRjtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsaURBQVU7QUFDakMsS0FBSyw2QkFBNkI7QUFDbEMsZ0NBQWdDLHNEQUFJO0FBQ3BDLDJCQUEyQixnREFBNEI7QUFDdkQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esb0JBQW9CLGlEQUFVO0FBQzlCLEtBQUssNkJBQTZCO0FBQ2xDLGdDQUFnQyxzREFBSTtBQUNwQywyQkFBMkIsZ0RBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLGNBQWMsUUFBUTtBQUN0QiwyQkFBMkIsZ0RBQTRCLHVCQUF1QiwwRUFBaUI7QUFDL0YsR0FBRztBQUNILFdBQVcsZ0JBQWdCO0FBQzNCLDJCQUEyQixnREFBNEI7QUFDdkQ7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLG9CQUFvQixpREFBVTtBQUM5QixLQUFLLHFDQUFxQztBQUMxQyxnQ0FBZ0Msc0RBQUk7QUFDcEMsWUFBWSxnQkFBZ0IsRUFBRSw4Q0FBTztBQUNyQyxlQUFlLHlDQUF5QztBQUN4RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGdEQUE0QjtBQUN2RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxpQ0FBaUMsZ0RBQTRCO0FBQzdEO0FBQ0EsV0FBVztBQUNYLGdCQUFnQixnRUFBb0I7QUFDcEMsaURBQWlELGdEQUE0QjtBQUM3RTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0EsZ0JBQWdCLDZEQUFpQjtBQUNqQywyQkFBMkIseURBQWE7QUFDeEMscUNBQXFDLGdEQUE0QjtBQUNqRTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QyxnREFBNEI7QUFDckU7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLHlDQUF5QyxnREFBNEI7QUFDckU7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLHlDQUF5QyxnREFBNEI7QUFDckU7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBLHlDQUF5QyxnREFBNEI7QUFDckU7QUFDQSxlQUFlO0FBQ2Y7QUFDQSxtQ0FBbUMsZ0RBQTRCO0FBQy9EO0FBQ0EsYUFBYTtBQUNiLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUksSUFBcUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7O0FBRStFO0FBQy9FIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tbWVudC9pbmRleC5tanM/MDRmOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTbG90IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXNsb3QnO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYsIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBNRU5USU9OX0NIQVJBQ1RFUiB9IGZyb20gJy4uLy4uL3NsYXRlL3BsdWdpbnMvbWVudGlvbnMubWpzJztcbmltcG9ydCB7IGlzQ29tbWVudEJvZHlNZW50aW9uLCBpc0NvbW1lbnRCb2R5TGluaywgdG9BYnNvbHV0ZVVybCB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuY29uc3QgQ09NTUVOVF9NRU5USU9OX05BTUUgPSBcIkNvbW1lbnRNZW50aW9uXCI7XG5jb25zdCBDT01NRU5UX0JPRFlfTkFNRSA9IFwiQ29tbWVudEJvZHlcIjtcbmNvbnN0IENPTU1FTlRfTElOS19OQU1FID0gXCJDb21tZW50TGlua1wiO1xuY29uc3QgQ29tbWVudE1lbnRpb24gPSBmb3J3YXJkUmVmKFxuICAoeyBjaGlsZHJlbiwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcInNwYW5cIjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG4pO1xuY29uc3QgQ29tbWVudExpbmsgPSBmb3J3YXJkUmVmKFxuICAoeyBjaGlsZHJlbiwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcImFcIjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICByZWw6IFwibm9vcGVuZXIgbm9yZWZlcnJlciBub2ZvbGxvd1wiLFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfVxuKTtcbmNvbnN0IGRlZmF1bHRCb2R5Q29tcG9uZW50cyA9IHtcbiAgTWVudGlvbjogKHsgdXNlcklkIH0pID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tbWVudE1lbnRpb24sIG51bGwsIE1FTlRJT05fQ0hBUkFDVEVSLCB1c2VySWQpO1xuICB9LFxuICBMaW5rOiAoeyBocmVmLCBjaGlsZHJlbiB9KSA9PiB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbW1lbnRMaW5rLCB7XG4gICAgICBocmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG59O1xuY29uc3QgQ29tbWVudEJvZHkgPSBmb3J3YXJkUmVmKFxuICAoeyBib2R5LCBjb21wb25lbnRzLCBhc0NoaWxkLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBhc0NoaWxkID8gU2xvdCA6IFwiZGl2XCI7XG4gICAgY29uc3QgeyBNZW50aW9uLCBMaW5rIH0gPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gKHsgLi4uZGVmYXVsdEJvZHlDb21wb25lbnRzLCAuLi5jb21wb25lbnRzIH0pLFxuICAgICAgW2NvbXBvbmVudHNdXG4gICAgKTtcbiAgICBpZiAoIWJvZHkgfHwgIWJvZHk/LmNvbnRlbnQpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgYm9keS5jb250ZW50Lm1hcCgoYmxvY2ssIGluZGV4KSA9PiB7XG4gICAgICBzd2l0Y2ggKGJsb2NrLnR5cGUpIHtcbiAgICAgICAgY2FzZSBcInBhcmFncmFwaFwiOlxuICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInBcIiwge1xuICAgICAgICAgICAga2V5OiBpbmRleFxuICAgICAgICAgIH0sIGJsb2NrLmNoaWxkcmVuLm1hcCgoaW5saW5lLCBpbmRleDIpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0NvbW1lbnRCb2R5TWVudGlvbihpbmxpbmUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBpbmxpbmUuaWQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNZW50aW9uLCB7XG4gICAgICAgICAgICAgICAgdXNlcklkOiBpbmxpbmUuaWQsXG4gICAgICAgICAgICAgICAga2V5OiBpbmRleDJcbiAgICAgICAgICAgICAgfSkgOiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzQ29tbWVudEJvZHlMaW5rKGlubGluZSkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IHRvQWJzb2x1dGVVcmwoaW5saW5lLnVybCkgPz8gaW5saW5lLnVybDtcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICAgICAgICAgICAgICBocmVmLFxuICAgICAgICAgICAgICAgIGtleTogaW5kZXgyXG4gICAgICAgICAgICAgIH0sIGlubGluZS51cmwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGNoaWxkcmVuID0gaW5saW5lLnRleHQ7XG4gICAgICAgICAgICBpZiAoaW5saW5lLmJvbGQpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInN0cm9uZ1wiLCB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleDJcbiAgICAgICAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlubGluZS5pdGFsaWMpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImVtXCIsIHtcbiAgICAgICAgICAgICAgICBrZXk6IGluZGV4MlxuICAgICAgICAgICAgICB9LCBjaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaW5saW5lLnN0cmlrZXRocm91Z2gpIHtcbiAgICAgICAgICAgICAgY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcInNcIiwge1xuICAgICAgICAgICAgICAgIGtleTogaW5kZXgyXG4gICAgICAgICAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpbmxpbmUuY29kZSkge1xuICAgICAgICAgICAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiY29kZVwiLCB7XG4gICAgICAgICAgICAgICAga2V5OiBpbmRleDJcbiAgICAgICAgICAgICAgfSwgY2hpbGRyZW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgyXG4gICAgICAgICAgICB9LCBjaGlsZHJlbik7XG4gICAgICAgICAgfSkpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgIH0pKTtcbiAgfVxuKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgQ29tbWVudEJvZHkuZGlzcGxheU5hbWUgPSBDT01NRU5UX0JPRFlfTkFNRTtcbiAgQ29tbWVudE1lbnRpb24uZGlzcGxheU5hbWUgPSBDT01NRU5UX01FTlRJT05fTkFNRTtcbiAgQ29tbWVudExpbmsuZGlzcGxheU5hbWUgPSBDT01NRU5UX0xJTktfTkFNRTtcbn1cblxuZXhwb3J0IHsgQ29tbWVudEJvZHkgYXMgQm9keSwgQ29tbWVudExpbmsgYXMgTGluaywgQ29tbWVudE1lbnRpb24gYXMgTWVudGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isCommentBodyLink: function() { return /* binding */ isCommentBodyLink; },\n/* harmony export */   isCommentBodyMention: function() { return /* binding */ isCommentBodyMention; },\n/* harmony export */   isCommentBodyText: function() { return /* binding */ isCommentBodyText; },\n/* harmony export */   toAbsoluteUrl: function() { return /* binding */ toAbsoluteUrl; }\n/* harmony export */ });\nfunction isCommentBodyText(element) {\n  return \"text\" in element && typeof element.text === \"string\";\n}\nfunction isCommentBodyMention(element) {\n  return \"type\" in element && element.type === \"mention\";\n}\nfunction isCommentBodyLink(element) {\n  return \"type\" in element && element.type === \"link\";\n}\nfunction toAbsoluteUrl(url) {\n  if (url.startsWith(\"http://\") || url.startsWith(\"https://\")) {\n    return url;\n  } else if (url.startsWith(\"www.\")) {\n    return \"https://\" + url;\n  }\n  return;\n}\n\n\n//# sourceMappingURL=utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tbWVudC91dGlscy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTs7QUFFcUY7QUFDckYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvcHJpbWl0aXZlcy9Db21tZW50L3V0aWxzLm1qcz8xOTIzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzQ29tbWVudEJvZHlUZXh0KGVsZW1lbnQpIHtcbiAgcmV0dXJuIFwidGV4dFwiIGluIGVsZW1lbnQgJiYgdHlwZW9mIGVsZW1lbnQudGV4dCA9PT0gXCJzdHJpbmdcIjtcbn1cbmZ1bmN0aW9uIGlzQ29tbWVudEJvZHlNZW50aW9uKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFwidHlwZVwiIGluIGVsZW1lbnQgJiYgZWxlbWVudC50eXBlID09PSBcIm1lbnRpb25cIjtcbn1cbmZ1bmN0aW9uIGlzQ29tbWVudEJvZHlMaW5rKGVsZW1lbnQpIHtcbiAgcmV0dXJuIFwidHlwZVwiIGluIGVsZW1lbnQgJiYgZWxlbWVudC50eXBlID09PSBcImxpbmtcIjtcbn1cbmZ1bmN0aW9uIHRvQWJzb2x1dGVVcmwodXJsKSB7XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcImh0dHA6Ly9cIikgfHwgdXJsLnN0YXJ0c1dpdGgoXCJodHRwczovL1wiKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH0gZWxzZSBpZiAodXJsLnN0YXJ0c1dpdGgoXCJ3d3cuXCIpKSB7XG4gICAgcmV0dXJuIFwiaHR0cHM6Ly9cIiArIHVybDtcbiAgfVxuICByZXR1cm47XG59XG5cbmV4cG9ydCB7IGlzQ29tbWVudEJvZHlMaW5rLCBpc0NvbW1lbnRCb2R5TWVudGlvbiwgaXNDb21tZW50Qm9keVRleHQsIHRvQWJzb2x1dGVVcmwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWxzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/contexts.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Composer/contexts.mjs ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ComposerContext: function() { return /* binding */ ComposerContext; },\n/* harmony export */   ComposerEditorContext: function() { return /* binding */ ComposerEditorContext; },\n/* harmony export */   ComposerSuggestionsContext: function() { return /* binding */ ComposerSuggestionsContext; },\n/* harmony export */   useComposer: function() { return /* binding */ useComposer; },\n/* harmony export */   useComposerEditorContext: function() { return /* binding */ useComposerEditorContext; },\n/* harmony export */   useComposerSuggestionsContext: function() { return /* binding */ useComposerSuggestionsContext; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\nconst ComposerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nconst ComposerEditorContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nconst ComposerSuggestionsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction useComposerEditorContext() {\n  const composerEditorContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComposerEditorContext);\n  return (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.nn)(\n    composerEditorContext,\n    \"Composer.Form is missing from the React tree.\"\n  );\n}\nfunction useComposer() {\n  const composerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComposerContext);\n  return (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.nn)(composerContext, \"Composer.Form is missing from the React tree.\");\n}\nfunction useComposerSuggestionsContext(source = \"useComposerSuggestionsContext\") {\n  const composerSuggestionsContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(ComposerSuggestionsContext);\n  return (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.nn)(\n    composerSuggestionsContext,\n    `${source} can\\u2019t be used outside of Composer.Editor.`\n  );\n}\n\n\n//# sourceMappingURL=contexts.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tcG9zZXIvY29udGV4dHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQXNDO0FBQ1k7O0FBRWxELHdCQUF3QixvREFBYTtBQUNyQyw4QkFBOEIsb0RBQWE7QUFDM0MsbUNBQW1DLG9EQUFhO0FBQ2hEO0FBQ0EsZ0NBQWdDLGlEQUFVO0FBQzFDLFNBQVMsb0RBQUU7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGlEQUFVO0FBQ3BDLFNBQVMsb0RBQUU7QUFDWDtBQUNBO0FBQ0EscUNBQXFDLGlEQUFVO0FBQy9DLFNBQVMsb0RBQUU7QUFDWDtBQUNBLE9BQU8sUUFBUTtBQUNmO0FBQ0E7O0FBRW9KO0FBQ3BKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tcG9zZXIvY29udGV4dHMubWpzP2VkZjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm4gfSBmcm9tICdAbGl2ZWJsb2Nrcy9jb3JlJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IENvbXBvc2VyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQobnVsbCk7XG5jb25zdCBDb21wb3NlckVkaXRvckNvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuY29uc3QgQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQgPSBjcmVhdGVDb250ZXh0KG51bGwpO1xuZnVuY3Rpb24gdXNlQ29tcG9zZXJFZGl0b3JDb250ZXh0KCkge1xuICBjb25zdCBjb21wb3NlckVkaXRvckNvbnRleHQgPSB1c2VDb250ZXh0KENvbXBvc2VyRWRpdG9yQ29udGV4dCk7XG4gIHJldHVybiBubihcbiAgICBjb21wb3NlckVkaXRvckNvbnRleHQsXG4gICAgXCJDb21wb3Nlci5Gb3JtIGlzIG1pc3NpbmcgZnJvbSB0aGUgUmVhY3QgdHJlZS5cIlxuICApO1xufVxuZnVuY3Rpb24gdXNlQ29tcG9zZXIoKSB7XG4gIGNvbnN0IGNvbXBvc2VyQ29udGV4dCA9IHVzZUNvbnRleHQoQ29tcG9zZXJDb250ZXh0KTtcbiAgcmV0dXJuIG5uKGNvbXBvc2VyQ29udGV4dCwgXCJDb21wb3Nlci5Gb3JtIGlzIG1pc3NpbmcgZnJvbSB0aGUgUmVhY3QgdHJlZS5cIik7XG59XG5mdW5jdGlvbiB1c2VDb21wb3NlclN1Z2dlc3Rpb25zQ29udGV4dChzb3VyY2UgPSBcInVzZUNvbXBvc2VyU3VnZ2VzdGlvbnNDb250ZXh0XCIpIHtcbiAgY29uc3QgY29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQgPSB1c2VDb250ZXh0KENvbXBvc2VyU3VnZ2VzdGlvbnNDb250ZXh0KTtcbiAgcmV0dXJuIG5uKFxuICAgIGNvbXBvc2VyU3VnZ2VzdGlvbnNDb250ZXh0LFxuICAgIGAke3NvdXJjZX0gY2FuXFx1MjAxOXQgYmUgdXNlZCBvdXRzaWRlIG9mIENvbXBvc2VyLkVkaXRvci5gXG4gICk7XG59XG5cbmV4cG9ydCB7IENvbXBvc2VyQ29udGV4dCwgQ29tcG9zZXJFZGl0b3JDb250ZXh0LCBDb21wb3NlclN1Z2dlc3Rpb25zQ29udGV4dCwgdXNlQ29tcG9zZXIsIHVzZUNvbXBvc2VyRWRpdG9yQ29udGV4dCwgdXNlQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRleHRzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/contexts.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/index.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Composer/index.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Editor: function() { return /* binding */ ComposerEditor; },\n/* harmony export */   Form: function() { return /* binding */ ComposerForm; },\n/* harmony export */   Link: function() { return /* binding */ ComposerLink; },\n/* harmony export */   Mention: function() { return /* binding */ ComposerMention; },\n/* harmony export */   Submit: function() { return /* binding */ ComposerSubmit; },\n/* harmony export */   Suggestions: function() { return /* binding */ ComposerSuggestions; },\n/* harmony export */   SuggestionsList: function() { return /* binding */ ComposerSuggestionsList; },\n/* harmony export */   SuggestionsListItem: function() { return /* binding */ ComposerSuggestionsListItem; }\n/* harmony export */ });\n/* harmony import */ var _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @floating-ui/react-dom */ \"(app-pages-browser)/./node_modules/@floating-ui/dom/dist/floating-ui.dom.mjs\");\n/* harmony import */ var _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @floating-ui/react-dom */ \"(app-pages-browser)/./node_modules/@floating-ui/react-dom/dist/floating-ui.react-dom.mjs\");\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var _liveblocks_react__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! @liveblocks/react */ \"(app-pages-browser)/./node_modules/@liveblocks/react/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var slate_history__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! slate-history */ \"(app-pages-browser)/./node_modules/slate-history/dist/index.es.js\");\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! slate-react */ \"(app-pages-browser)/./node_modules/slate-react/dist/index.es.js\");\n/* harmony import */ var _config_mjs__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../config.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/config.mjs\");\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n/* harmony import */ var _slate_plugins_auto_formatting_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../slate/plugins/auto-formatting.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-formatting.mjs\");\n/* harmony import */ var _slate_plugins_auto_links_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../slate/plugins/auto-links.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-links.mjs\");\n/* harmony import */ var _slate_plugins_empty_clear_formatting_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../slate/plugins/empty-clear-formatting.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/empty-clear-formatting.mjs\");\n/* harmony import */ var _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../slate/plugins/mentions.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\");\n/* harmony import */ var _slate_utils_get_dom_range_mjs__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../slate/utils/get-dom-range.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-dom-range.mjs\");\n/* harmony import */ var _slate_utils_is_empty_mjs__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ../../slate/utils/is-empty.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty.mjs\");\n/* harmony import */ var _slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ../../slate/utils/marks.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/marks.mjs\");\n/* harmony import */ var _utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ../../utils/is-key.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-key.mjs\");\n/* harmony import */ var _utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../../utils/Persist.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Persist.mjs\");\n/* harmony import */ var _utils_Portal_mjs__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../../utils/Portal.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Portal.mjs\");\n/* harmony import */ var _utils_request_submit_mjs__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ../../utils/request-submit.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-submit.mjs\");\n/* harmony import */ var _utils_use_id_mjs__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ../../utils/use-id.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-id.mjs\");\n/* harmony import */ var _utils_use_index_mjs__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../../utils/use-index.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-index.mjs\");\n/* harmony import */ var _utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../../utils/use-initial.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-initial.mjs\");\n/* harmony import */ var _utils_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../../utils/use-layout-effect.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs\");\n/* harmony import */ var _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../../utils/use-refs.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-refs.mjs\");\n/* harmony import */ var _Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Comment/utils.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs\");\n/* harmony import */ var _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./contexts.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/contexts.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./utils.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/utils.mjs\");\n/* __next_internal_client_entry_do_not_use__ Editor,Form,Link,Mention,Submit,Suggestions,SuggestionsList,SuggestionsListItem auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$(), _s3 = $RefreshSig$(), _s4 = $RefreshSig$(), _s5 = $RefreshSig$(), _s6 = $RefreshSig$(), _s7 = $RefreshSig$(), _s8 = $RefreshSig$(), _s9 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst MENTION_SUGGESTIONS_POSITION = \"top\";\nconst COMPOSER_MENTION_NAME = \"ComposerMention\";\nconst COMPOSER_LINK_NAME = \"ComposerLink\";\nconst COMPOSER_SUGGESTIONS_NAME = \"ComposerSuggestions\";\nconst COMPOSER_SUGGESTIONS_LIST_NAME = \"ComposerSuggestionsList\";\nconst COMPOSER_SUGGESTIONS_LIST_ITEM_NAME = \"ComposerSuggestionsListItem\";\nconst COMPOSER_SUBMIT_NAME = \"ComposerSubmit\";\nconst COMPOSER_EDITOR_NAME = \"ComposerEditor\";\nconst COMPOSER_FORM_NAME = \"ComposerForm\";\nconst emptyCommentBody = {\n    version: 1,\n    content: [\n        {\n            type: \"paragraph\",\n            children: [\n                {\n                    text: \"\"\n                }\n            ]\n        }\n    ]\n};\nfunction createComposerEditor() {\n    return (0,_slate_plugins_auto_links_mjs__WEBPACK_IMPORTED_MODULE_1__.withAutoLinks)((0,_slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.withMentions)((0,_slate_plugins_empty_clear_formatting_mjs__WEBPACK_IMPORTED_MODULE_3__.withEmptyClearFormatting)((0,_slate_plugins_auto_formatting_mjs__WEBPACK_IMPORTED_MODULE_4__.withAutoFormatting)((0,slate_history__WEBPACK_IMPORTED_MODULE_5__.withHistory)((0,slate_react__WEBPACK_IMPORTED_MODULE_6__.withReact)((0,slate__WEBPACK_IMPORTED_MODULE_7__.createEditor)()))))));\n}\nfunction ComposerEditorMentionWrapper(param) {\n    let { Mention, attributes, children, element } = param;\n    _s();\n    const isSelected = (0,slate_react__WEBPACK_IMPORTED_MODULE_6__.useSelected)();\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ...attributes\n    }, element.id ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Mention, {\n        userId: element.id,\n        isSelected\n    }) : null, children);\n}\n_s(ComposerEditorMentionWrapper, \"OYGSumvo5DcXbO1BwyOi6u9vfx4=\", false, function() {\n    return [\n        slate_react__WEBPACK_IMPORTED_MODULE_6__.useSelected\n    ];\n});\n_c = ComposerEditorMentionWrapper;\nfunction ComposerEditorLinkWrapper(param) {\n    let { Link, attributes, element, children } = param;\n    _s1();\n    const href = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        var _toAbsoluteUrl;\n        return (_toAbsoluteUrl = (0,_Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_8__.toAbsoluteUrl)(element.url)) !== null && _toAbsoluteUrl !== void 0 ? _toAbsoluteUrl : element.url;\n    }, [\n        element.url\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ...attributes\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Link, {\n        href\n    }, children));\n}\n_s1(ComposerEditorLinkWrapper, \"QWYmeuprjsHzJtKSUavMJsHVCCk=\");\n_c1 = ComposerEditorLinkWrapper;\nfunction ComposerEditorMentionSuggestionsWrapper(param) {\n    let { id, itemId, userIds, selectedUserId, setSelectedUserId, mentionDraft, onItemSelect, position = MENTION_SUGGESTIONS_POSITION, dir, MentionSuggestions } = param;\n    _s2();\n    const editor = (0,slate_react__WEBPACK_IMPORTED_MODULE_6__.useSlateStatic)();\n    const { isFocused } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer)();\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const [contentZIndex, setContentZIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const contentRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(setContent, [\n        setContent\n    ]);\n    const { portalContainer } = (0,_config_mjs__WEBPACK_IMPORTED_MODULE_10__.useCommentsConfig)();\n    const floatingOptions = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        const detectOverflowOptions = {\n            padding: _constants_mjs__WEBPACK_IMPORTED_MODULE_11__.FLOATING_ELEMENT_COLLISION_PADDING\n        };\n        return {\n            strategy: \"fixed\",\n            placement: (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_12__.getPlacementFromPosition)(position, dir),\n            middleware: [\n                (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.flip)({\n                    ...detectOverflowOptions,\n                    crossAxis: false\n                }),\n                (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.hide)(detectOverflowOptions),\n                (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.shift)({\n                    ...detectOverflowOptions,\n                    limiter: (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.limitShift)()\n                }),\n                (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.size)({\n                    ...detectOverflowOptions,\n                    apply (param) {\n                        let { availableWidth, availableHeight, elements } = param;\n                        elements.floating.style.setProperty(\"--lb-composer-suggestions-available-width\", \"\".concat(availableWidth, \"px\"));\n                        elements.floating.style.setProperty(\"--lb-composer-suggestions-available-height\", \"\".concat(availableHeight, \"px\"));\n                    }\n                })\n            ],\n            whileElementsMounted: _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_13__.autoUpdate\n        };\n    }, [\n        position,\n        dir\n    ]);\n    const { refs: { setReference, setFloating }, strategy, isPositioned, placement, x, y } = (0,_floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_14__.useFloating)(floatingOptions);\n    (0,_utils_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_15__.useLayoutEffect)(()=>{\n        if (content) {\n            setContentZIndex(window.getComputedStyle(content).zIndex);\n        }\n    }, [\n        content\n    ]);\n    (0,_utils_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_15__.useLayoutEffect)(()=>{\n        if (!mentionDraft) {\n            return;\n        }\n        const domRange = (0,_slate_utils_get_dom_range_mjs__WEBPACK_IMPORTED_MODULE_16__.getDOMRange)(editor, mentionDraft.range);\n        if (domRange) {\n            setReference({\n                getBoundingClientRect: ()=>domRange.getBoundingClientRect(),\n                getClientRects: ()=>domRange.getClientRects()\n            });\n        }\n    }, [\n        setReference,\n        editor,\n        mentionDraft\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__.Persist, null, (mentionDraft === null || mentionDraft === void 0 ? void 0 : mentionDraft.range) && isFocused && userIds ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.ComposerSuggestionsContext.Provider, {\n        value: {\n            id,\n            itemId,\n            selectedValue: selectedUserId,\n            setSelectedValue: setSelectedUserId,\n            onItemSelect,\n            placement,\n            dir,\n            ref: contentRef\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_utils_Portal_mjs__WEBPACK_IMPORTED_MODULE_18__.Portal, {\n        ref: setFloating,\n        container: portalContainer,\n        style: {\n            position: strategy,\n            top: 0,\n            left: 0,\n            transform: isPositioned ? \"translate3d(\".concat(Math.round(x), \"px, \").concat(Math.round(y), \"px, 0)\") : \"translate3d(0, -200%, 0)\",\n            minWidth: \"max-content\",\n            zIndex: contentZIndex\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(MentionSuggestions, {\n        userIds,\n        selectedUserId\n    }))) : null);\n}\n_s2(ComposerEditorMentionSuggestionsWrapper, \"CrEELRpjz57QKAo4KRY32vyE9DA=\", false, function() {\n    return [\n        slate_react__WEBPACK_IMPORTED_MODULE_6__.useSlateStatic,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer,\n        _config_mjs__WEBPACK_IMPORTED_MODULE_10__.useCommentsConfig,\n        _floating_ui_react_dom__WEBPACK_IMPORTED_MODULE_14__.useFloating\n    ];\n});\n_c2 = ComposerEditorMentionSuggestionsWrapper;\nfunction ComposerEditorElement(param) {\n    let { Mention, Link, ...props } = param;\n    const { attributes, children, element } = props;\n    switch(element.type){\n        case \"mention\":\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerEditorMentionWrapper, {\n                Mention,\n                ...props\n            });\n        case \"auto-link\":\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerEditorLinkWrapper, {\n                Link,\n                ...props\n            });\n        case \"paragraph\":\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"p\", {\n                ...attributes,\n                style: {\n                    position: \"relative\"\n                }\n            }, children);\n        default:\n            return null;\n    }\n}\n_c3 = ComposerEditorElement;\nfunction ComposerEditorLeaf(param) {\n    let { attributes, children, leaf } = param;\n    if (leaf.bold) {\n        children = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"strong\", null, children);\n    }\n    if (leaf.italic) {\n        children = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", null, children);\n    }\n    if (leaf.strikethrough) {\n        children = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"s\", null, children);\n    }\n    if (leaf.code) {\n        children = /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", null, children);\n    }\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ...attributes\n    }, children);\n}\n_c4 = ComposerEditorLeaf;\nfunction ComposerEditorPlaceholder(param) {\n    let { attributes, children } = param;\n    const { opacity: _opacity, ...style } = attributes.style;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        ...attributes,\n        style,\n        \"data-placeholder\": \"\"\n    }, children);\n}\n_c5 = ComposerEditorPlaceholder;\nconst ComposerMention = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s3((param, forwardedRef)=>{\n    let { children, asChild, ...props } = param;\n    _s3();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"span\";\n    const isSelected = (0,slate_react__WEBPACK_IMPORTED_MODULE_6__.useSelected)();\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        \"data-selected\": isSelected || void 0,\n        ...props,\n        ref: forwardedRef\n    }, children);\n}, \"OYGSumvo5DcXbO1BwyOi6u9vfx4=\", false, function() {\n    return [\n        slate_react__WEBPACK_IMPORTED_MODULE_6__.useSelected\n    ];\n}));\n_c6 = ComposerMention;\nconst ComposerLink = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((param, forwardedRef)=>{\n    let { children, asChild, ...props } = param;\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"a\";\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        target: \"_blank\",\n        rel: \"noopener noreferrer nofollow\",\n        ...props,\n        ref: forwardedRef\n    }, children);\n});\n_c7 = ComposerLink;\nconst ComposerSuggestions = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s4((param, forwardedRef)=>{\n    let { children, style, asChild, ...props } = param;\n    _s4();\n    const [isPresent] = (0,_utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__.usePersist)();\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { ref: contentRef, placement, dir } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext)(COMPOSER_SUGGESTIONS_NAME);\n    const mergedRefs = (0,_utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs)(forwardedRef, contentRef, ref);\n    const [side, align] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>(0,_utils_mjs__WEBPACK_IMPORTED_MODULE_12__.getSideAndAlignFromPlacement)(placement), [\n        placement\n    ]);\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"div\";\n    (0,_utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__.useAnimationPersist)(ref);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        dir,\n        ...props,\n        \"data-state\": isPresent ? \"open\" : \"closed\",\n        \"data-side\": side,\n        \"data-align\": align,\n        style: {\n            display: \"flex\",\n            flexDirection: \"column\",\n            maxHeight: \"var(--lb-composer-suggestions-available-height)\",\n            overflowY: \"auto\",\n            ...style\n        },\n        ref: mergedRefs\n    }, children);\n}, \"RsaC/pfUaIbysLcCluZUtLB12aY=\", false, function() {\n    return [\n        _utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__.usePersist,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext,\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs,\n        _utils_Persist_mjs__WEBPACK_IMPORTED_MODULE_17__.useAnimationPersist\n    ];\n}));\n_c8 = ComposerSuggestions;\nconst ComposerSuggestionsList = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s5((param, forwardedRef)=>{\n    let { children, asChild, ...props } = param;\n    _s5();\n    const { id } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext)(COMPOSER_SUGGESTIONS_LIST_NAME);\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"ul\";\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        role: \"listbox\",\n        id,\n        \"aria-label\": \"Suggestions list\",\n        ...props,\n        ref: forwardedRef\n    }, children);\n}, \"36OqXq3gbSBl87uzuSEw2+hGf6c=\", false, function() {\n    return [\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext\n    ];\n}));\n_c9 = ComposerSuggestionsList;\nconst ComposerSuggestionsListItem = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_s6((param, forwardedRef)=>{\n    let { value, children, onPointerMove, onPointerDown, asChild, ...props } = param;\n    _s6();\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const mergedRefs = (0,_utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs)(forwardedRef, ref);\n    const { selectedValue, setSelectedValue, itemId, onItemSelect } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext)(COMPOSER_SUGGESTIONS_LIST_ITEM_NAME);\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"li\";\n    const isSelected = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>selectedValue === value, [\n        selectedValue,\n        value\n    ]);\n    const id = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>itemId(value), [\n        itemId,\n        value\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if ((ref === null || ref === void 0 ? void 0 : ref.current) && isSelected) {\n            ref.current.scrollIntoView({\n                block: \"nearest\"\n            });\n        }\n    }, [\n        isSelected\n    ]);\n    const handlePointerMove = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onPointerMove === null || onPointerMove === void 0 ? void 0 : onPointerMove(event);\n        if (!event.isDefaultPrevented()) {\n            setSelectedValue(value);\n        }\n    }, [\n        onPointerMove,\n        setSelectedValue,\n        value\n    ]);\n    const handlePointerDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onPointerDown === null || onPointerDown === void 0 ? void 0 : onPointerDown(event);\n        if (!event.isDefaultPrevented()) {\n            const target = event.target;\n            if (target.hasPointerCapture(event.pointerId)) {\n                target.releasePointerCapture(event.pointerId);\n            }\n            if (event.button === 0 && event.ctrlKey === false) {\n                onItemSelect(value);\n                event.preventDefault();\n            }\n        }\n    }, [\n        onItemSelect,\n        onPointerDown,\n        value\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        role: \"option\",\n        id,\n        \"data-selected\": isSelected || void 0,\n        \"aria-selected\": isSelected || void 0,\n        onPointerMove: handlePointerMove,\n        onPointerDown: handlePointerDown,\n        ...props,\n        ref: mergedRefs\n    }, children);\n}, \"hwHUKgeG+l07hInwbVYeshJ3aXw=\", false, function() {\n    return [\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerSuggestionsContext\n    ];\n}));\n_c10 = ComposerSuggestionsListItem;\nconst defaultEditorComponents = {\n    Link: (param)=>{\n        let { href, children } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerLink, {\n            href\n        }, children);\n    },\n    Mention: (param)=>{\n        let { userId } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerMention, null, _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.MENTION_CHARACTER, userId);\n    },\n    MentionSuggestions: (param)=>{\n        let { userIds } = param;\n        return userIds.length > 0 ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerSuggestions, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerSuggestionsList, null, userIds.map((userId)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerSuggestionsListItem, {\n                key: userId,\n                value: userId\n            }, userId)))) : null;\n    }\n};\nconst ComposerEditor = /*#__PURE__*/ _s7((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c11 = _s7((param, forwardedRef)=>{\n    let { defaultValue, onKeyDown, onFocus, onBlur, disabled, autoFocus, components, dir, ...props } = param;\n    _s7();\n    const { [_liveblocks_core__WEBPACK_IMPORTED_MODULE_21__.kInternal]: { useMentionSuggestions }, useSelf } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle)();\n    const self = useSelf();\n    const isDisabled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>disabled || !(self === null || self === void 0 ? void 0 : self.canComment), [\n        disabled,\n        self === null || self === void 0 ? void 0 : self.canComment\n    ]);\n    const { editor, validate, setFocused } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerEditorContext)();\n    const { submit, focus, select, isEmpty, isFocused } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer)();\n    const initialBody = (0,_utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial)(defaultValue !== null && defaultValue !== void 0 ? defaultValue : emptyCommentBody);\n    const initialEditorValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_12__.commentBodyToComposerBody)(initialBody);\n    }, [\n        initialBody\n    ]);\n    const { Link, Mention, MentionSuggestions } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultEditorComponents,\n            ...components\n        }), [\n        components\n    ]);\n    const [mentionDraft, setMentionDraft] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const mentionSuggestions = useMentionSuggestions(mentionDraft === null || mentionDraft === void 0 ? void 0 : mentionDraft.text);\n    var _mentionSuggestions_length;\n    const [selectedMentionSuggestionIndex, setPreviousSelectedMentionSuggestionIndex, setNextSelectedMentionSuggestionIndex, setSelectedMentionSuggestionIndex] = (0,_utils_use_index_mjs__WEBPACK_IMPORTED_MODULE_24__.useIndex)(0, (_mentionSuggestions_length = mentionSuggestions === null || mentionSuggestions === void 0 ? void 0 : mentionSuggestions.length) !== null && _mentionSuggestions_length !== void 0 ? _mentionSuggestions_length : 0);\n    const id = (0,_utils_use_id_mjs__WEBPACK_IMPORTED_MODULE_25__.useId)();\n    const suggestionsListId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>\"liveblocks-suggestions-list-\".concat(id), [\n        id\n    ]);\n    const suggestionsListItemId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((userId)=>userId ? \"liveblocks-suggestions-list-item-\".concat(id, \"-\").concat(userId) : void 0, [\n        id\n    ]);\n    const renderElement = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((props2)=>{\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerEditorElement, {\n            Mention,\n            Link,\n            ...props2\n        });\n    }, [\n        Link,\n        Mention\n    ]);\n    const handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value)=>{\n        validate(value);\n        setMentionDraft((0,_slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.getMentionDraftAtSelection)(editor));\n    }, [\n        editor,\n        validate\n    ]);\n    const createMention = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((userId)=>{\n        if (!mentionDraft || !userId) {\n            return;\n        }\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, mentionDraft.range);\n        (0,_slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.insertMention)(editor, userId);\n        setMentionDraft(void 0);\n        setSelectedMentionSuggestionIndex(0);\n    }, [\n        editor,\n        mentionDraft,\n        setSelectedMentionSuggestionIndex\n    ]);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onKeyDown === null || onKeyDown === void 0 ? void 0 : onKeyDown(event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"ArrowLeft\")) {\n            (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.leaveMarkEdge)(editor, \"start\");\n        }\n        if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"ArrowRight\")) {\n            (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.leaveMarkEdge)(editor, \"end\");\n        }\n        if (mentionDraft && (mentionSuggestions === null || mentionSuggestions === void 0 ? void 0 : mentionSuggestions.length)) {\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"ArrowDown\")) {\n                event.preventDefault();\n                setNextSelectedMentionSuggestionIndex();\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"ArrowUp\")) {\n                event.preventDefault();\n                setPreviousSelectedMentionSuggestionIndex();\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Enter\") || (0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Tab\")) {\n                event.preventDefault();\n                const userId = mentionSuggestions === null || mentionSuggestions === void 0 ? void 0 : mentionSuggestions[selectedMentionSuggestionIndex];\n                createMention(userId);\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Escape\")) {\n                event.preventDefault();\n                setMentionDraft(void 0);\n                setSelectedMentionSuggestionIndex(0);\n            }\n        } else {\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Escape\")) {\n                event.preventDefault();\n                slate_react__WEBPACK_IMPORTED_MODULE_6__.ReactEditor.blur(editor);\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Enter\", {\n                shift: false\n            }) && !isEmpty) {\n                event.preventDefault();\n                submit();\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"Enter\", {\n                shift: true\n            })) {\n                event.preventDefault();\n                editor.insertBreak();\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"b\", {\n                mod: true\n            })) {\n                event.preventDefault();\n                (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.toggleMark)(editor, \"bold\");\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"i\", {\n                mod: true\n            })) {\n                event.preventDefault();\n                (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.toggleMark)(editor, \"italic\");\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"s\", {\n                mod: true,\n                shift: true\n            })) {\n                event.preventDefault();\n                (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.toggleMark)(editor, \"strikethrough\");\n            }\n            if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_26__.isKey)(event, \"e\", {\n                mod: true\n            })) {\n                event.preventDefault();\n                (0,_slate_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_27__.toggleMark)(editor, \"code\");\n            }\n        }\n    }, [\n        createMention,\n        editor,\n        isEmpty,\n        mentionDraft,\n        mentionSuggestions,\n        selectedMentionSuggestionIndex,\n        onKeyDown,\n        setNextSelectedMentionSuggestionIndex,\n        setPreviousSelectedMentionSuggestionIndex,\n        setSelectedMentionSuggestionIndex,\n        submit\n    ]);\n    const handleFocus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onFocus === null || onFocus === void 0 ? void 0 : onFocus(event);\n        if (!event.isDefaultPrevented()) {\n            setFocused(true);\n        }\n    }, [\n        onFocus,\n        setFocused\n    ]);\n    const handleBlur = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onBlur === null || onBlur === void 0 ? void 0 : onBlur(event);\n        if (!event.isDefaultPrevented()) {\n            setFocused(false);\n        }\n    }, [\n        onBlur,\n        setFocused\n    ]);\n    const selectedMentionSuggestionUserId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>mentionSuggestions === null || mentionSuggestions === void 0 ? void 0 : mentionSuggestions[selectedMentionSuggestionIndex], [\n        selectedMentionSuggestionIndex,\n        mentionSuggestions\n    ]);\n    const setSelectedMentionSuggestionUserId = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((userId)=>{\n        const index = mentionSuggestions === null || mentionSuggestions === void 0 ? void 0 : mentionSuggestions.indexOf(userId);\n        if (index !== void 0 && index >= 0) {\n            setSelectedMentionSuggestionIndex(index);\n        }\n    }, [\n        setSelectedMentionSuggestionIndex,\n        mentionSuggestions\n    ]);\n    const propsWhileSuggesting = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>mentionDraft ? {\n            role: \"combobox\",\n            \"aria-autocomplete\": \"list\",\n            \"aria-expanded\": true,\n            \"aria-controls\": suggestionsListId,\n            \"aria-activedescendant\": suggestionsListItemId(selectedMentionSuggestionUserId)\n        } : {}, [\n        mentionDraft,\n        suggestionsListId,\n        suggestionsListItemId,\n        selectedMentionSuggestionUserId\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle)(forwardedRef, ()=>{\n        return slate_react__WEBPACK_IMPORTED_MODULE_6__.ReactEditor.toDOMNode(editor, editor);\n    }, [\n        editor\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (autoFocus) {\n            focus();\n        }\n    }, [\n        autoFocus,\n        editor,\n        focus\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (isFocused && editor.selection === null) {\n            select();\n        }\n    }, [\n        editor,\n        select,\n        isFocused\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(slate_react__WEBPACK_IMPORTED_MODULE_6__.Slate, {\n        editor,\n        initialValue: initialEditorValue,\n        onChange: handleChange\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(slate_react__WEBPACK_IMPORTED_MODULE_6__.Editable, {\n        dir,\n        enterKeyHint: mentionDraft ? \"enter\" : \"send\",\n        autoCapitalize: \"sentences\",\n        \"aria-label\": \"Composer editor\",\n        \"data-focused\": isFocused || void 0,\n        \"data-disabled\": isDisabled || void 0,\n        ...propsWhileSuggesting,\n        ...props,\n        readOnly: isDisabled,\n        disabled: isDisabled,\n        onKeyDown: handleKeyDown,\n        onFocus: handleFocus,\n        onBlur: handleBlur,\n        renderElement,\n        renderLeaf: ComposerEditorLeaf,\n        renderPlaceholder: ComposerEditorPlaceholder\n    }), /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ComposerEditorMentionSuggestionsWrapper, {\n        dir,\n        mentionDraft,\n        selectedUserId: selectedMentionSuggestionUserId,\n        setSelectedUserId: setSelectedMentionSuggestionUserId,\n        userIds: mentionSuggestions,\n        id: suggestionsListId,\n        itemId: suggestionsListItemId,\n        onItemSelect: createMention,\n        MentionSuggestions\n    }));\n}, \"SGoGA8LtSLbb1bLRbLzED258BAs=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerEditorContext,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer,\n        _utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial,\n        _utils_use_index_mjs__WEBPACK_IMPORTED_MODULE_24__.useIndex,\n        _utils_use_id_mjs__WEBPACK_IMPORTED_MODULE_25__.useId\n    ];\n})), \"SGoGA8LtSLbb1bLRbLzED258BAs=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposerEditorContext,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer,\n        _utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial,\n        _utils_use_index_mjs__WEBPACK_IMPORTED_MODULE_24__.useIndex,\n        _utils_use_id_mjs__WEBPACK_IMPORTED_MODULE_25__.useId\n    ];\n});\n_c12 = ComposerEditor;\nconst ComposerForm = /*#__PURE__*/ _s8((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c13 = _s8((param, forwardedRef)=>{\n    let { children, onSubmit, onComposerSubmit, asChild, ...props } = param;\n    _s8();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"form\";\n    const editor = (0,_utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial)(createComposerEditor);\n    const [isEmpty$1, setEmpty] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const [isFocused, setFocused] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const mergedRefs = (0,_utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs)(forwardedRef, ref);\n    const validate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value)=>{\n        setEmpty((0,_slate_utils_is_empty_mjs__WEBPACK_IMPORTED_MODULE_28__.isEmpty)(editor, value));\n    }, [\n        editor\n    ]);\n    const submit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (ref.current) {\n            (0,_utils_request_submit_mjs__WEBPACK_IMPORTED_MODULE_29__.requestSubmit)(ref.current);\n        }\n    }, []);\n    const clear = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.delete(editor, {\n            at: {\n                anchor: slate__WEBPACK_IMPORTED_MODULE_7__.Editor.start(editor, []),\n                focus: slate__WEBPACK_IMPORTED_MODULE_7__.Editor.end(editor, [])\n            }\n        });\n    }, [\n        editor\n    ]);\n    const select = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, {\n            anchor: slate__WEBPACK_IMPORTED_MODULE_7__.Editor.end(editor, []),\n            focus: slate__WEBPACK_IMPORTED_MODULE_7__.Editor.end(editor, [])\n        });\n    }, [\n        editor\n    ]);\n    const focus = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(function() {\n        let resetSelection = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : true;\n        if (!slate_react__WEBPACK_IMPORTED_MODULE_6__.ReactEditor.isFocused(editor)) {\n            slate__WEBPACK_IMPORTED_MODULE_7__.Transforms.select(editor, resetSelection || !editor.selection ? slate__WEBPACK_IMPORTED_MODULE_7__.Editor.end(editor, []) : editor.selection);\n            slate_react__WEBPACK_IMPORTED_MODULE_6__.ReactEditor.focus(editor);\n        }\n    }, [\n        editor\n    ]);\n    const blur = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        slate_react__WEBPACK_IMPORTED_MODULE_6__.ReactEditor.blur(editor);\n    }, [\n        editor\n    ]);\n    const onSubmitEnd = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        clear();\n        blur();\n    }, [\n        blur,\n        clear\n    ]);\n    const createMention = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        focus();\n        (0,_slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_2__.insertMentionCharacter)(editor);\n    }, [\n        editor,\n        focus\n    ]);\n    const insertText$1 = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((text)=>{\n        focus(false);\n        (0,slate__WEBPACK_IMPORTED_MODULE_7__.insertText)(editor, text);\n    }, [\n        editor,\n        focus\n    ]);\n    const handleSubmit = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onSubmit === null || onSubmit === void 0 ? void 0 : onSubmit(event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        const body = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_12__.composerBodyToCommentBody)(editor.children);\n        const comment = {\n            body\n        };\n        const promise = onComposerSubmit === null || onComposerSubmit === void 0 ? void 0 : onComposerSubmit(comment, event);\n        event.preventDefault();\n        if (promise) {\n            promise.then(onSubmitEnd);\n        } else {\n            onSubmitEnd();\n        }\n    }, [\n        editor.children,\n        onComposerSubmit,\n        onSubmit,\n        onSubmitEnd\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.ComposerEditorContext.Provider, {\n        value: {\n            editor,\n            validate,\n            setFocused\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.ComposerContext.Provider, {\n        value: {\n            isFocused,\n            isEmpty: isEmpty$1,\n            submit,\n            clear,\n            select,\n            focus,\n            blur,\n            createMention,\n            insertText: insertText$1\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        ...props,\n        onSubmit: handleSubmit,\n        ref: mergedRefs\n    }, children)));\n}, \"Ly6rsBv2dSPmdOpiSDDfuHhocxM=\", false, function() {\n    return [\n        _utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial,\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs\n    ];\n})), \"Ly6rsBv2dSPmdOpiSDDfuHhocxM=\", false, function() {\n    return [\n        _utils_use_initial_mjs__WEBPACK_IMPORTED_MODULE_23__.useInitial,\n        _utils_use_refs_mjs__WEBPACK_IMPORTED_MODULE_20__.useRefs\n    ];\n});\n_c14 = ComposerForm;\nconst ComposerSubmit = /*#__PURE__*/ _s9((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c15 = _s9((param, forwardedRef)=>{\n    let { children, disabled, asChild, ...props } = param;\n    _s9();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_19__.Slot : \"button\";\n    const { useSelf } = (0,_liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle)();\n    const { isEmpty } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer)();\n    const self = useSelf();\n    const isDisabled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>disabled || isEmpty || !(self === null || self === void 0 ? void 0 : self.canComment), [\n        disabled,\n        isEmpty,\n        self === null || self === void 0 ? void 0 : self.canComment\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        type: \"submit\",\n        ...props,\n        ref: forwardedRef,\n        disabled: isDisabled\n    }, children);\n}, \"kUh5kU1v3zWB4u/jg33Sy1eyb+k=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer\n    ];\n})), \"kUh5kU1v3zWB4u/jg33Sy1eyb+k=\", true, function() {\n    return [\n        _liveblocks_react__WEBPACK_IMPORTED_MODULE_22__.useRoomContextBundle,\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_9__.useComposer\n    ];\n});\n_c16 = ComposerSubmit;\nif (true) {\n    ComposerEditor.displayName = COMPOSER_EDITOR_NAME;\n    ComposerForm.displayName = COMPOSER_FORM_NAME;\n    ComposerMention.displayName = COMPOSER_MENTION_NAME;\n    ComposerLink.displayName = COMPOSER_LINK_NAME;\n    ComposerSubmit.displayName = COMPOSER_SUBMIT_NAME;\n    ComposerSuggestions.displayName = COMPOSER_SUGGESTIONS_NAME;\n    ComposerSuggestionsList.displayName = COMPOSER_SUGGESTIONS_LIST_NAME;\n    ComposerSuggestionsListItem.displayName = COMPOSER_SUGGESTIONS_LIST_ITEM_NAME;\n}\n //# sourceMappingURL=index.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15, _c16;\n$RefreshReg$(_c, \"ComposerEditorMentionWrapper\");\n$RefreshReg$(_c1, \"ComposerEditorLinkWrapper\");\n$RefreshReg$(_c2, \"ComposerEditorMentionSuggestionsWrapper\");\n$RefreshReg$(_c3, \"ComposerEditorElement\");\n$RefreshReg$(_c4, \"ComposerEditorLeaf\");\n$RefreshReg$(_c5, \"ComposerEditorPlaceholder\");\n$RefreshReg$(_c6, \"ComposerMention\");\n$RefreshReg$(_c7, \"ComposerLink\");\n$RefreshReg$(_c8, \"ComposerSuggestions\");\n$RefreshReg$(_c9, \"ComposerSuggestionsList\");\n$RefreshReg$(_c10, \"ComposerSuggestionsListItem\");\n$RefreshReg$(_c11, \"ComposerEditor$forwardRef\");\n$RefreshReg$(_c12, \"ComposerEditor\");\n$RefreshReg$(_c13, \"ComposerForm$forwardRef\");\n$RefreshReg$(_c14, \"ComposerForm\");\n$RefreshReg$(_c15, \"ComposerSubmit$forwardRef\");\n$RefreshReg$(_c16, \"ComposerSubmit\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tcG9zZXIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUNzRztBQUN6RDtBQUNZO0FBQ2I7QUFDK0U7QUFDdEQ7QUFDekI7QUFDdUQ7QUFDOUM7QUFDb0I7QUFDSTtBQUNWO0FBQ3VCO0FBQzREO0FBQ3BGO0FBQ1Q7QUFDZTtBQUN6QjtBQUNvQztBQUNuQztBQUNlO0FBQ2hCO0FBQ007QUFDSTtBQUNXO0FBQ2pCO0FBQ0U7QUFDcUg7QUFDL0I7QUFFM0ksTUFBTWlFLCtCQUErQjtBQUNyQyxNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLDRCQUE0QjtBQUNsQyxNQUFNQyxpQ0FBaUM7QUFDdkMsTUFBTUMsc0NBQXNDO0FBQzVDLE1BQU1DLHVCQUF1QjtBQUM3QixNQUFNQyx1QkFBdUI7QUFDN0IsTUFBTUMscUJBQXFCO0FBQzNCLE1BQU1DLG1CQUFtQjtJQUN2QkMsU0FBUztJQUNUQyxTQUFTO1FBQUM7WUFBRUMsTUFBTTtZQUFhQyxVQUFVO2dCQUFDO29CQUFFQyxNQUFNO2dCQUFHO2FBQUU7UUFBQztLQUFFO0FBQzVEO0FBQ0EsU0FBU0M7SUFDUCxPQUFPaEQsNEVBQWFBLENBQ2xCTSx5RUFBWUEsQ0FDVkwsbUdBQXdCQSxDQUN0QkYsc0ZBQWtCQSxDQUFDVCwwREFBV0EsQ0FBQ00sc0RBQVNBLENBQUNQLG1EQUFZQTtBQUk3RDtBQUNBLFNBQVM0RCw2QkFBNkIsS0FLckM7UUFMcUMsRUFDcENDLE9BQU8sRUFDUEMsVUFBVSxFQUNWTCxRQUFRLEVBQ1JNLE9BQU8sRUFDUixHQUxxQzs7SUFNcEMsTUFBTUMsYUFBYTlELHdEQUFXQTtJQUM5QixPQUFPLGFBQWEsaUJBQUdiLGdEQUE0QixDQUFDLFFBQVE7UUFDMUQs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QUFhLGlCQUFHMU0sZ0RBQTRCLENBQUMySixXQUFXO1FBQzdEeEYsTUFBTTtRQUNOLEdBQUcyRSxLQUFLO1FBQ1JULEtBQUtvQjtRQUNMMEMsVUFBVU07SUFDWixHQUFHckk7QUFDTDs7UUFic0J0RSxvRUFBb0JBO1FBQ3BCaUQsc0RBQVdBOzs7O1FBRFhqRCxvRUFBb0JBO1FBQ3BCaUQsc0RBQVdBOzs7O0FBY25DLElBQUl1TixJQUFxQyxFQUFFO0lBQ3pDeEUsZUFBZXlFLFdBQVcsR0FBR3pNO0lBQzdCb0wsYUFBYXFCLFdBQVcsR0FBR3hNO0lBQzNCeUYsZ0JBQWdCK0csV0FBVyxHQUFHL007SUFDOUJvRyxhQUFhMkcsV0FBVyxHQUFHOU07SUFDM0I0TSxlQUFlRSxXQUFXLEdBQUcxTTtJQUM3QmtHLG9CQUFvQndHLFdBQVcsR0FBRzdNO0lBQ2xDOEcsd0JBQXdCK0YsV0FBVyxHQUFHNU07SUFDdEMrRyw0QkFBNEI2RixXQUFXLEdBQUczTTtBQUM1QztBQUUwUSxDQUMxUSxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvcHJpbWl0aXZlcy9Db21wb3Nlci9pbmRleC5tanM/OGFkYSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBmbGlwLCBoaWRlLCBzaGlmdCwgbGltaXRTaGlmdCwgc2l6ZSwgYXV0b1VwZGF0ZSwgdXNlRmxvYXRpbmcgfSBmcm9tICdAZmxvYXRpbmctdWkvcmVhY3QtZG9tJztcbmltcG9ydCB7IGtJbnRlcm5hbCB9IGZyb20gJ0BsaXZlYmxvY2tzL2NvcmUnO1xuaW1wb3J0IHsgdXNlUm9vbUNvbnRleHRCdW5kbGUgfSBmcm9tICdAbGl2ZWJsb2Nrcy9yZWFjdCc7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXNsb3QnO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYsIHVzZVJlZiwgdXNlTWVtbywgdXNlRWZmZWN0LCB1c2VDYWxsYmFjaywgdXNlU3RhdGUsIHVzZUltcGVyYXRpdmVIYW5kbGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBUcmFuc2Zvcm1zLCBFZGl0b3IsIGluc2VydFRleHQsIGNyZWF0ZUVkaXRvciB9IGZyb20gJ3NsYXRlJztcbmltcG9ydCB7IHdpdGhIaXN0b3J5IH0gZnJvbSAnc2xhdGUtaGlzdG9yeSc7XG5pbXBvcnQgeyB1c2VTZWxlY3RlZCwgUmVhY3RFZGl0b3IsIFNsYXRlLCBFZGl0YWJsZSwgdXNlU2xhdGVTdGF0aWMsIHdpdGhSZWFjdCB9IGZyb20gJ3NsYXRlLXJlYWN0JztcbmltcG9ydCB7IHVzZUNvbW1lbnRzQ29uZmlnIH0gZnJvbSAnLi4vLi4vY29uZmlnLm1qcyc7XG5pbXBvcnQgeyBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyB3aXRoQXV0b0Zvcm1hdHRpbmcgfSBmcm9tICcuLi8uLi9zbGF0ZS9wbHVnaW5zL2F1dG8tZm9ybWF0dGluZy5tanMnO1xuaW1wb3J0IHsgd2l0aEF1dG9MaW5rcyB9IGZyb20gJy4uLy4uL3NsYXRlL3BsdWdpbnMvYXV0by1saW5rcy5tanMnO1xuaW1wb3J0IHsgd2l0aEVtcHR5Q2xlYXJGb3JtYXR0aW5nIH0gZnJvbSAnLi4vLi4vc2xhdGUvcGx1Z2lucy9lbXB0eS1jbGVhci1mb3JtYXR0aW5nLm1qcyc7XG5pbXBvcnQgeyBnZXRNZW50aW9uRHJhZnRBdFNlbGVjdGlvbiwgaW5zZXJ0TWVudGlvbiwgaW5zZXJ0TWVudGlvbkNoYXJhY3RlciwgTUVOVElPTl9DSEFSQUNURVIsIHdpdGhNZW50aW9ucyB9IGZyb20gJy4uLy4uL3NsYXRlL3BsdWdpbnMvbWVudGlvbnMubWpzJztcbmltcG9ydCB7IGdldERPTVJhbmdlIH0gZnJvbSAnLi4vLi4vc2xhdGUvdXRpbHMvZ2V0LWRvbS1yYW5nZS5tanMnO1xuaW1wb3J0IHsgaXNFbXB0eSB9IGZyb20gJy4uLy4uL3NsYXRlL3V0aWxzL2lzLWVtcHR5Lm1qcyc7XG5pbXBvcnQgeyBsZWF2ZU1hcmtFZGdlLCB0b2dnbGVNYXJrIH0gZnJvbSAnLi4vLi4vc2xhdGUvdXRpbHMvbWFya3MubWpzJztcbmltcG9ydCB7IGlzS2V5IH0gZnJvbSAnLi4vLi4vdXRpbHMvaXMta2V5Lm1qcyc7XG5pbXBvcnQgeyB1c2VQZXJzaXN0LCB1c2VBbmltYXRpb25QZXJzaXN0LCBQZXJzaXN0IH0gZnJvbSAnLi4vLi4vdXRpbHMvUGVyc2lzdC5tanMnO1xuaW1wb3J0IHsgUG9ydGFsIH0gZnJvbSAnLi4vLi4vdXRpbHMvUG9ydGFsLm1qcyc7XG5pbXBvcnQgeyByZXF1ZXN0U3VibWl0IH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdC1zdWJtaXQubWpzJztcbmltcG9ydCB7IHVzZUlkIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLWlkLm1qcyc7XG5pbXBvcnQgeyB1c2VJbmRleCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pbmRleC5tanMnO1xuaW1wb3J0IHsgdXNlSW5pdGlhbCB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1pbml0aWFsLm1qcyc7XG5pbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfSBmcm9tICcuLi8uLi91dGlscy91c2UtbGF5b3V0LWVmZmVjdC5tanMnO1xuaW1wb3J0IHsgdXNlUmVmcyB9IGZyb20gJy4uLy4uL3V0aWxzL3VzZS1yZWZzLm1qcyc7XG5pbXBvcnQgeyB0b0Fic29sdXRlVXJsIH0gZnJvbSAnLi4vQ29tbWVudC91dGlscy5tanMnO1xuaW1wb3J0IHsgdXNlQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQsIHVzZUNvbXBvc2VyRWRpdG9yQ29udGV4dCwgdXNlQ29tcG9zZXIsIENvbXBvc2VyRWRpdG9yQ29udGV4dCwgQ29tcG9zZXJDb250ZXh0LCBDb21wb3NlclN1Z2dlc3Rpb25zQ29udGV4dCB9IGZyb20gJy4vY29udGV4dHMubWpzJztcbmltcG9ydCB7IGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQsIGNvbW1lbnRCb2R5VG9Db21wb3NlckJvZHksIGNvbXBvc2VyQm9keVRvQ29tbWVudEJvZHksIGdldFBsYWNlbWVudEZyb21Qb3NpdGlvbiB9IGZyb20gJy4vdXRpbHMubWpzJztcblxuY29uc3QgTUVOVElPTl9TVUdHRVNUSU9OU19QT1NJVElPTiA9IFwidG9wXCI7XG5jb25zdCBDT01QT1NFUl9NRU5USU9OX05BTUUgPSBcIkNvbXBvc2VyTWVudGlvblwiO1xuY29uc3QgQ09NUE9TRVJfTElOS19OQU1FID0gXCJDb21wb3NlckxpbmtcIjtcbmNvbnN0IENPTVBPU0VSX1NVR0dFU1RJT05TX05BTUUgPSBcIkNvbXBvc2VyU3VnZ2VzdGlvbnNcIjtcbmNvbnN0IENPTVBPU0VSX1NVR0dFU1RJT05TX0xJU1RfTkFNRSA9IFwiQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3RcIjtcbmNvbnN0IENPTVBPU0VSX1NVR0dFU1RJT05TX0xJU1RfSVRFTV9OQU1FID0gXCJDb21wb3NlclN1Z2dlc3Rpb25zTGlzdEl0ZW1cIjtcbmNvbnN0IENPTVBPU0VSX1NVQk1JVF9OQU1FID0gXCJDb21wb3NlclN1Ym1pdFwiO1xuY29uc3QgQ09NUE9TRVJfRURJVE9SX05BTUUgPSBcIkNvbXBvc2VyRWRpdG9yXCI7XG5jb25zdCBDT01QT1NFUl9GT1JNX05BTUUgPSBcIkNvbXBvc2VyRm9ybVwiO1xuY29uc3QgZW1wdHlDb21tZW50Qm9keSA9IHtcbiAgdmVyc2lvbjogMSxcbiAgY29udGVudDogW3sgdHlwZTogXCJwYXJhZ3JhcGhcIiwgY2hpbGRyZW46IFt7IHRleHQ6IFwiXCIgfV0gfV1cbn07XG5mdW5jdGlvbiBjcmVhdGVDb21wb3NlckVkaXRvcigpIHtcbiAgcmV0dXJuIHdpdGhBdXRvTGlua3MoXG4gICAgd2l0aE1lbnRpb25zKFxuICAgICAgd2l0aEVtcHR5Q2xlYXJGb3JtYXR0aW5nKFxuICAgICAgICB3aXRoQXV0b0Zvcm1hdHRpbmcod2l0aEhpc3Rvcnkod2l0aFJlYWN0KGNyZWF0ZUVkaXRvcigpKSkpXG4gICAgICApXG4gICAgKVxuICApO1xufVxuZnVuY3Rpb24gQ29tcG9zZXJFZGl0b3JNZW50aW9uV3JhcHBlcih7XG4gIE1lbnRpb24sXG4gIGF0dHJpYnV0ZXMsXG4gIGNoaWxkcmVuLFxuICBlbGVtZW50XG59KSB7XG4gIGNvbnN0IGlzU2VsZWN0ZWQgPSB1c2VTZWxlY3RlZCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAuLi5hdHRyaWJ1dGVzXG4gIH0sIGVsZW1lbnQuaWQgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChNZW50aW9uLCB7XG4gICAgdXNlcklkOiBlbGVtZW50LmlkLFxuICAgIGlzU2VsZWN0ZWRcbiAgfSkgOiBudWxsLCBjaGlsZHJlbik7XG59XG5mdW5jdGlvbiBDb21wb3NlckVkaXRvckxpbmtXcmFwcGVyKHtcbiAgTGluayxcbiAgYXR0cmlidXRlcyxcbiAgZWxlbWVudCxcbiAgY2hpbGRyZW5cbn0pIHtcbiAgY29uc3QgaHJlZiA9IHVzZU1lbW8oXG4gICAgKCkgPT4gdG9BYnNvbHV0ZVVybChlbGVtZW50LnVybCkgPz8gZWxlbWVudC51cmwsXG4gICAgW2VsZW1lbnQudXJsXVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAuLi5hdHRyaWJ1dGVzXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KExpbmssIHtcbiAgICBocmVmXG4gIH0sIGNoaWxkcmVuKSk7XG59XG5mdW5jdGlvbiBDb21wb3NlckVkaXRvck1lbnRpb25TdWdnZXN0aW9uc1dyYXBwZXIoe1xuICBpZCxcbiAgaXRlbUlkLFxuICB1c2VySWRzLFxuICBzZWxlY3RlZFVzZXJJZCxcbiAgc2V0U2VsZWN0ZWRVc2VySWQsXG4gIG1lbnRpb25EcmFmdCxcbiAgb25JdGVtU2VsZWN0LFxuICBwb3NpdGlvbiA9IE1FTlRJT05fU1VHR0VTVElPTlNfUE9TSVRJT04sXG4gIGRpcixcbiAgTWVudGlvblN1Z2dlc3Rpb25zXG59KSB7XG4gIGNvbnN0IGVkaXRvciA9IHVzZVNsYXRlU3RhdGljKCk7XG4gIGNvbnN0IHsgaXNGb2N1c2VkIH0gPSB1c2VDb21wb3NlcigpO1xuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW2NvbnRlbnRaSW5kZXgsIHNldENvbnRlbnRaSW5kZXhdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgY29udGVudFJlZiA9IHVzZUNhbGxiYWNrKHNldENvbnRlbnQsIFtzZXRDb250ZW50XSk7XG4gIGNvbnN0IHsgcG9ydGFsQ29udGFpbmVyIH0gPSB1c2VDb21tZW50c0NvbmZpZygpO1xuICBjb25zdCBmbG9hdGluZ09wdGlvbnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkZXRlY3RPdmVyZmxvd09wdGlvbnMgPSB7XG4gICAgICBwYWRkaW5nOiBGTE9BVElOR19FTEVNRU5UX0NPTExJU0lPTl9QQURESU5HXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgc3RyYXRlZ3k6IFwiZml4ZWRcIixcbiAgICAgIHBsYWNlbWVudDogZ2V0UGxhY2VtZW50RnJvbVBvc2l0aW9uKHBvc2l0aW9uLCBkaXIpLFxuICAgICAgbWlkZGxld2FyZTogW1xuICAgICAgICBmbGlwKHsgLi4uZGV0ZWN0T3ZlcmZsb3dPcHRpb25zLCBjcm9zc0F4aXM6IGZhbHNlIH0pLFxuICAgICAgICBoaWRlKGRldGVjdE92ZXJmbG93T3B0aW9ucyksXG4gICAgICAgIHNoaWZ0KHtcbiAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgbGltaXRlcjogbGltaXRTaGlmdCgpXG4gICAgICAgIH0pLFxuICAgICAgICBzaXplKHtcbiAgICAgICAgICAuLi5kZXRlY3RPdmVyZmxvd09wdGlvbnMsXG4gICAgICAgICAgYXBwbHkoeyBhdmFpbGFibGVXaWR0aCwgYXZhaWxhYmxlSGVpZ2h0LCBlbGVtZW50cyB9KSB7XG4gICAgICAgICAgICBlbGVtZW50cy5mbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgXCItLWxiLWNvbXBvc2VyLXN1Z2dlc3Rpb25zLWF2YWlsYWJsZS13aWR0aFwiLFxuICAgICAgICAgICAgICBgJHthdmFpbGFibGVXaWR0aH1weGBcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBlbGVtZW50cy5mbG9hdGluZy5zdHlsZS5zZXRQcm9wZXJ0eShcbiAgICAgICAgICAgICAgXCItLWxiLWNvbXBvc2VyLXN1Z2dlc3Rpb25zLWF2YWlsYWJsZS1oZWlnaHRcIixcbiAgICAgICAgICAgICAgYCR7YXZhaWxhYmxlSGVpZ2h0fXB4YFxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICBdLFxuICAgICAgd2hpbGVFbGVtZW50c01vdW50ZWQ6IGF1dG9VcGRhdGVcbiAgICB9O1xuICB9LCBbcG9zaXRpb24sIGRpcl0pO1xuICBjb25zdCB7XG4gICAgcmVmczogeyBzZXRSZWZlcmVuY2UsIHNldEZsb2F0aW5nIH0sXG4gICAgc3RyYXRlZ3ksXG4gICAgaXNQb3NpdGlvbmVkLFxuICAgIHBsYWNlbWVudCxcbiAgICB4LFxuICAgIHlcbiAgfSA9IHVzZUZsb2F0aW5nKGZsb2F0aW5nT3B0aW9ucyk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNvbnRlbnQpIHtcbiAgICAgIHNldENvbnRlbnRaSW5kZXgod2luZG93LmdldENvbXB1dGVkU3R5bGUoY29udGVudCkuekluZGV4KTtcbiAgICB9XG4gIH0sIFtjb250ZW50XSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFtZW50aW9uRHJhZnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZG9tUmFuZ2UgPSBnZXRET01SYW5nZShlZGl0b3IsIG1lbnRpb25EcmFmdC5yYW5nZSk7XG4gICAgaWYgKGRvbVJhbmdlKSB7XG4gICAgICBzZXRSZWZlcmVuY2Uoe1xuICAgICAgICBnZXRCb3VuZGluZ0NsaWVudFJlY3Q6ICgpID0+IGRvbVJhbmdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICBnZXRDbGllbnRSZWN0czogKCkgPT4gZG9tUmFuZ2UuZ2V0Q2xpZW50UmVjdHMoKVxuICAgICAgfSk7XG4gICAgfVxuICB9LCBbc2V0UmVmZXJlbmNlLCBlZGl0b3IsIG1lbnRpb25EcmFmdF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUGVyc2lzdCwgbnVsbCwgbWVudGlvbkRyYWZ0Py5yYW5nZSAmJiBpc0ZvY3VzZWQgJiYgdXNlcklkcyA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyU3VnZ2VzdGlvbnNDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IHtcbiAgICAgIGlkLFxuICAgICAgaXRlbUlkLFxuICAgICAgc2VsZWN0ZWRWYWx1ZTogc2VsZWN0ZWRVc2VySWQsXG4gICAgICBzZXRTZWxlY3RlZFZhbHVlOiBzZXRTZWxlY3RlZFVzZXJJZCxcbiAgICAgIG9uSXRlbVNlbGVjdCxcbiAgICAgIHBsYWNlbWVudCxcbiAgICAgIGRpcixcbiAgICAgIHJlZjogY29udGVudFJlZlxuICAgIH1cbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoUG9ydGFsLCB7XG4gICAgcmVmOiBzZXRGbG9hdGluZyxcbiAgICBjb250YWluZXI6IHBvcnRhbENvbnRhaW5lcixcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246IHN0cmF0ZWd5LFxuICAgICAgdG9wOiAwLFxuICAgICAgbGVmdDogMCxcbiAgICAgIHRyYW5zZm9ybTogaXNQb3NpdGlvbmVkID8gYHRyYW5zbGF0ZTNkKCR7TWF0aC5yb3VuZCh4KX1weCwgJHtNYXRoLnJvdW5kKHkpfXB4LCAwKWAgOiBcInRyYW5zbGF0ZTNkKDAsIC0yMDAlLCAwKVwiLFxuICAgICAgbWluV2lkdGg6IFwibWF4LWNvbnRlbnRcIixcbiAgICAgIHpJbmRleDogY29udGVudFpJbmRleFxuICAgIH1cbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTWVudGlvblN1Z2dlc3Rpb25zLCB7XG4gICAgdXNlcklkcyxcbiAgICBzZWxlY3RlZFVzZXJJZFxuICB9KSkpIDogbnVsbCk7XG59XG5mdW5jdGlvbiBDb21wb3NlckVkaXRvckVsZW1lbnQoe1xuICBNZW50aW9uLFxuICBMaW5rLFxuICAuLi5wcm9wc1xufSkge1xuICBjb25zdCB7IGF0dHJpYnV0ZXMsIGNoaWxkcmVuLCBlbGVtZW50IH0gPSBwcm9wcztcbiAgc3dpdGNoIChlbGVtZW50LnR5cGUpIHtcbiAgICBjYXNlIFwibWVudGlvblwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyRWRpdG9yTWVudGlvbldyYXBwZXIsIHtcbiAgICAgICAgTWVudGlvbixcbiAgICAgICAgLi4ucHJvcHNcbiAgICAgIH0pO1xuICAgIGNhc2UgXCJhdXRvLWxpbmtcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlckVkaXRvckxpbmtXcmFwcGVyLCB7XG4gICAgICAgIExpbmssXG4gICAgICAgIC4uLnByb3BzXG4gICAgICB9KTtcbiAgICBjYXNlIFwicGFyYWdyYXBoXCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIHtcbiAgICAgICAgLi4uYXR0cmlidXRlcyxcbiAgICAgICAgc3R5bGU6IHsgcG9zaXRpb246IFwicmVsYXRpdmVcIiB9XG4gICAgICB9LCBjaGlsZHJlbik7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBDb21wb3NlckVkaXRvckxlYWYoeyBhdHRyaWJ1dGVzLCBjaGlsZHJlbiwgbGVhZiB9KSB7XG4gIGlmIChsZWFmLmJvbGQpIHtcbiAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3Ryb25nXCIsIG51bGwsIGNoaWxkcmVuKTtcbiAgfVxuICBpZiAobGVhZi5pdGFsaWMpIHtcbiAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZW1cIiwgbnVsbCwgY2hpbGRyZW4pO1xuICB9XG4gIGlmIChsZWFmLnN0cmlrZXRocm91Z2gpIHtcbiAgICBjaGlsZHJlbiA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic1wiLCBudWxsLCBjaGlsZHJlbik7XG4gIH1cbiAgaWYgKGxlYWYuY29kZSkge1xuICAgIGNoaWxkcmVuID0gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJjb2RlXCIsIG51bGwsIGNoaWxkcmVuKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAuLi5hdHRyaWJ1dGVzXG4gIH0sIGNoaWxkcmVuKTtcbn1cbmZ1bmN0aW9uIENvbXBvc2VyRWRpdG9yUGxhY2Vob2xkZXIoe1xuICBhdHRyaWJ1dGVzLFxuICBjaGlsZHJlblxufSkge1xuICBjb25zdCB7IG9wYWNpdHk6IF9vcGFjaXR5LCAuLi5zdHlsZSB9ID0gYXR0cmlidXRlcy5zdHlsZTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgLi4uYXR0cmlidXRlcyxcbiAgICBzdHlsZSxcbiAgICBcImRhdGEtcGxhY2Vob2xkZXJcIjogXCJcIlxuICB9LCBjaGlsZHJlbik7XG59XG5jb25zdCBDb21wb3Nlck1lbnRpb24gPSBmb3J3YXJkUmVmKFxuICAoeyBjaGlsZHJlbiwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcInNwYW5cIjtcbiAgICBjb25zdCBpc1NlbGVjdGVkID0gdXNlU2VsZWN0ZWQoKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9uZW50LCB7XG4gICAgICBcImRhdGEtc2VsZWN0ZWRcIjogaXNTZWxlY3RlZCB8fCB2b2lkIDAsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG4pO1xuY29uc3QgQ29tcG9zZXJMaW5rID0gZm9yd2FyZFJlZihcbiAgKHsgY2hpbGRyZW4sIGFzQ2hpbGQsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGFzQ2hpbGQgPyBTbG90IDogXCJhXCI7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgcmVsOiBcIm5vb3BlbmVyIG5vcmVmZXJyZXIgbm9mb2xsb3dcIixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9LCBjaGlsZHJlbik7XG4gIH1cbik7XG5jb25zdCBDb21wb3NlclN1Z2dlc3Rpb25zID0gZm9yd2FyZFJlZigoeyBjaGlsZHJlbiwgc3R5bGUsIGFzQ2hpbGQsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICBjb25zdCBbaXNQcmVzZW50XSA9IHVzZVBlcnNpc3QoKTtcbiAgY29uc3QgcmVmID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCB7XG4gICAgcmVmOiBjb250ZW50UmVmLFxuICAgIHBsYWNlbWVudCxcbiAgICBkaXJcbiAgfSA9IHVzZUNvbXBvc2VyU3VnZ2VzdGlvbnNDb250ZXh0KENPTVBPU0VSX1NVR0dFU1RJT05TX05BTUUpO1xuICBjb25zdCBtZXJnZWRSZWZzID0gdXNlUmVmcyhmb3J3YXJkZWRSZWYsIGNvbnRlbnRSZWYsIHJlZik7XG4gIGNvbnN0IFtzaWRlLCBhbGlnbl0gPSB1c2VNZW1vKFxuICAgICgpID0+IGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQocGxhY2VtZW50KSxcbiAgICBbcGxhY2VtZW50XVxuICApO1xuICBjb25zdCBDb21wb25lbnQgPSBhc0NoaWxkID8gU2xvdCA6IFwiZGl2XCI7XG4gIHVzZUFuaW1hdGlvblBlcnNpc3QocmVmKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgIGRpcixcbiAgICAuLi5wcm9wcyxcbiAgICBcImRhdGEtc3RhdGVcIjogaXNQcmVzZW50ID8gXCJvcGVuXCIgOiBcImNsb3NlZFwiLFxuICAgIFwiZGF0YS1zaWRlXCI6IHNpZGUsXG4gICAgXCJkYXRhLWFsaWduXCI6IGFsaWduLFxuICAgIHN0eWxlOiB7XG4gICAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICAgIGZsZXhEaXJlY3Rpb246IFwiY29sdW1uXCIsXG4gICAgICBtYXhIZWlnaHQ6IFwidmFyKC0tbGItY29tcG9zZXItc3VnZ2VzdGlvbnMtYXZhaWxhYmxlLWhlaWdodClcIixcbiAgICAgIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gICAgICAuLi5zdHlsZVxuICAgIH0sXG4gICAgcmVmOiBtZXJnZWRSZWZzXG4gIH0sIGNoaWxkcmVuKTtcbn0pO1xuY29uc3QgQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3QgPSBmb3J3YXJkUmVmKCh7IGNoaWxkcmVuLCBhc0NoaWxkLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgY29uc3QgeyBpZCB9ID0gdXNlQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQoQ09NUE9TRVJfU1VHR0VTVElPTlNfTElTVF9OQU1FKTtcbiAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcInVsXCI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICByb2xlOiBcImxpc3Rib3hcIixcbiAgICBpZCxcbiAgICBcImFyaWEtbGFiZWxcIjogXCJTdWdnZXN0aW9ucyBsaXN0XCIsXG4gICAgLi4ucHJvcHMsXG4gICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgfSwgY2hpbGRyZW4pO1xufSk7XG5jb25zdCBDb21wb3NlclN1Z2dlc3Rpb25zTGlzdEl0ZW0gPSBmb3J3YXJkUmVmKFxuICAoeyB2YWx1ZSwgY2hpbGRyZW4sIG9uUG9pbnRlck1vdmUsIG9uUG9pbnRlckRvd24sIGFzQ2hpbGQsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IHJlZiA9IHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBtZXJnZWRSZWZzID0gdXNlUmVmcyhmb3J3YXJkZWRSZWYsIHJlZik7XG4gICAgY29uc3QgeyBzZWxlY3RlZFZhbHVlLCBzZXRTZWxlY3RlZFZhbHVlLCBpdGVtSWQsIG9uSXRlbVNlbGVjdCB9ID0gdXNlQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQoQ09NUE9TRVJfU1VHR0VTVElPTlNfTElTVF9JVEVNX05BTUUpO1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGFzQ2hpbGQgPyBTbG90IDogXCJsaVwiO1xuICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gc2VsZWN0ZWRWYWx1ZSA9PT0gdmFsdWUsXG4gICAgICBbc2VsZWN0ZWRWYWx1ZSwgdmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBpZCA9IHVzZU1lbW8oKCkgPT4gaXRlbUlkKHZhbHVlKSwgW2l0ZW1JZCwgdmFsdWVdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKHJlZj8uY3VycmVudCAmJiBpc1NlbGVjdGVkKSB7XG4gICAgICAgIHJlZi5jdXJyZW50LnNjcm9sbEludG9WaWV3KHsgYmxvY2s6IFwibmVhcmVzdFwiIH0pO1xuICAgICAgfVxuICAgIH0sIFtpc1NlbGVjdGVkXSk7XG4gICAgY29uc3QgaGFuZGxlUG9pbnRlck1vdmUgPSB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBvblBvaW50ZXJNb3ZlPy4oZXZlbnQpO1xuICAgICAgICBpZiAoIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgc2V0U2VsZWN0ZWRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbb25Qb2ludGVyTW92ZSwgc2V0U2VsZWN0ZWRWYWx1ZSwgdmFsdWVdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVQb2ludGVyRG93biA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uUG9pbnRlckRvd24/LihldmVudCk7XG4gICAgICAgIGlmICghZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICBjb25zdCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XG4gICAgICAgICAgaWYgKHRhcmdldC5oYXNQb2ludGVyQ2FwdHVyZShldmVudC5wb2ludGVySWQpKSB7XG4gICAgICAgICAgICB0YXJnZXQucmVsZWFzZVBvaW50ZXJDYXB0dXJlKGV2ZW50LnBvaW50ZXJJZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChldmVudC5idXR0b24gPT09IDAgJiYgZXZlbnQuY3RybEtleSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIG9uSXRlbVNlbGVjdCh2YWx1ZSk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtvbkl0ZW1TZWxlY3QsIG9uUG9pbnRlckRvd24sIHZhbHVlXVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgcm9sZTogXCJvcHRpb25cIixcbiAgICAgIGlkLFxuICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGlzU2VsZWN0ZWQgfHwgdm9pZCAwLFxuICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGlzU2VsZWN0ZWQgfHwgdm9pZCAwLFxuICAgICAgb25Qb2ludGVyTW92ZTogaGFuZGxlUG9pbnRlck1vdmUsXG4gICAgICBvblBvaW50ZXJEb3duOiBoYW5kbGVQb2ludGVyRG93bixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBtZXJnZWRSZWZzXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG4pO1xuY29uc3QgZGVmYXVsdEVkaXRvckNvbXBvbmVudHMgPSB7XG4gIExpbms6ICh7IGhyZWYsIGNoaWxkcmVuIH0pID0+IHtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJMaW5rLCB7XG4gICAgICBocmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9LFxuICBNZW50aW9uOiAoeyB1c2VySWQgfSkgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3Nlck1lbnRpb24sIG51bGwsIE1FTlRJT05fQ0hBUkFDVEVSLCB1c2VySWQpO1xuICB9LFxuICBNZW50aW9uU3VnZ2VzdGlvbnM6ICh7IHVzZXJJZHMgfSkgPT4ge1xuICAgIHJldHVybiB1c2VySWRzLmxlbmd0aCA+IDAgPyAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlclN1Z2dlc3Rpb25zLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlclN1Z2dlc3Rpb25zTGlzdCwgbnVsbCwgdXNlcklkcy5tYXAoKHVzZXJJZCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3RJdGVtLCB7XG4gICAgICBrZXk6IHVzZXJJZCxcbiAgICAgIHZhbHVlOiB1c2VySWRcbiAgICB9LCB1c2VySWQpKSkpIDogbnVsbDtcbiAgfVxufTtcbmNvbnN0IENvbXBvc2VyRWRpdG9yID0gZm9yd2FyZFJlZihcbiAgKHtcbiAgICBkZWZhdWx0VmFsdWUsXG4gICAgb25LZXlEb3duLFxuICAgIG9uRm9jdXMsXG4gICAgb25CbHVyLFxuICAgIGRpc2FibGVkLFxuICAgIGF1dG9Gb2N1cyxcbiAgICBjb21wb25lbnRzLFxuICAgIGRpcixcbiAgICAuLi5wcm9wc1xuICB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCB7XG4gICAgICBba0ludGVybmFsXTogeyB1c2VNZW50aW9uU3VnZ2VzdGlvbnMgfSxcbiAgICAgIHVzZVNlbGZcbiAgICB9ID0gdXNlUm9vbUNvbnRleHRCdW5kbGUoKTtcbiAgICBjb25zdCBzZWxmID0gdXNlU2VsZigpO1xuICAgIGNvbnN0IGlzRGlzYWJsZWQgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gZGlzYWJsZWQgfHwgIXNlbGY/LmNhbkNvbW1lbnQsXG4gICAgICBbZGlzYWJsZWQsIHNlbGY/LmNhbkNvbW1lbnRdXG4gICAgKTtcbiAgICBjb25zdCB7IGVkaXRvciwgdmFsaWRhdGUsIHNldEZvY3VzZWQgfSA9IHVzZUNvbXBvc2VyRWRpdG9yQ29udGV4dCgpO1xuICAgIGNvbnN0IHsgc3VibWl0LCBmb2N1cywgc2VsZWN0LCBpc0VtcHR5LCBpc0ZvY3VzZWQgfSA9IHVzZUNvbXBvc2VyKCk7XG4gICAgY29uc3QgaW5pdGlhbEJvZHkgPSB1c2VJbml0aWFsKGRlZmF1bHRWYWx1ZSA/PyBlbXB0eUNvbW1lbnRCb2R5KTtcbiAgICBjb25zdCBpbml0aWFsRWRpdG9yVmFsdWUgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBjb21tZW50Qm9keVRvQ29tcG9zZXJCb2R5KGluaXRpYWxCb2R5KTtcbiAgICB9LCBbaW5pdGlhbEJvZHldKTtcbiAgICBjb25zdCB7IExpbmssIE1lbnRpb24sIE1lbnRpb25TdWdnZXN0aW9ucyB9ID0gdXNlTWVtbyhcbiAgICAgICgpID0+ICh7IC4uLmRlZmF1bHRFZGl0b3JDb21wb25lbnRzLCAuLi5jb21wb25lbnRzIH0pLFxuICAgICAgW2NvbXBvbmVudHNdXG4gICAgKTtcbiAgICBjb25zdCBbbWVudGlvbkRyYWZ0LCBzZXRNZW50aW9uRHJhZnRdID0gdXNlU3RhdGUoKTtcbiAgICBjb25zdCBtZW50aW9uU3VnZ2VzdGlvbnMgPSB1c2VNZW50aW9uU3VnZ2VzdGlvbnMobWVudGlvbkRyYWZ0Py50ZXh0KTtcbiAgICBjb25zdCBbXG4gICAgICBzZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgsXG4gICAgICBzZXRQcmV2aW91c1NlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleCxcbiAgICAgIHNldE5leHRTZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgsXG4gICAgICBzZXRTZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXhcbiAgICBdID0gdXNlSW5kZXgoMCwgbWVudGlvblN1Z2dlc3Rpb25zPy5sZW5ndGggPz8gMCk7XG4gICAgY29uc3QgaWQgPSB1c2VJZCgpO1xuICAgIGNvbnN0IHN1Z2dlc3Rpb25zTGlzdElkID0gdXNlTWVtbyhcbiAgICAgICgpID0+IGBsaXZlYmxvY2tzLXN1Z2dlc3Rpb25zLWxpc3QtJHtpZH1gLFxuICAgICAgW2lkXVxuICAgICk7XG4gICAgY29uc3Qgc3VnZ2VzdGlvbnNMaXN0SXRlbUlkID0gdXNlQ2FsbGJhY2soXG4gICAgICAodXNlcklkKSA9PiB1c2VySWQgPyBgbGl2ZWJsb2Nrcy1zdWdnZXN0aW9ucy1saXN0LWl0ZW0tJHtpZH0tJHt1c2VySWR9YCA6IHZvaWQgMCxcbiAgICAgIFtpZF1cbiAgICApO1xuICAgIGNvbnN0IHJlbmRlckVsZW1lbnQgPSB1c2VDYWxsYmFjayhcbiAgICAgIChwcm9wczIpID0+IHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvc2VyRWRpdG9yRWxlbWVudCwge1xuICAgICAgICAgIE1lbnRpb24sXG4gICAgICAgICAgTGluayxcbiAgICAgICAgICAuLi5wcm9wczJcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgW0xpbmssIE1lbnRpb25dXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVDaGFuZ2UgPSB1c2VDYWxsYmFjayhcbiAgICAgICh2YWx1ZSkgPT4ge1xuICAgICAgICB2YWxpZGF0ZSh2YWx1ZSk7XG4gICAgICAgIHNldE1lbnRpb25EcmFmdChnZXRNZW50aW9uRHJhZnRBdFNlbGVjdGlvbihlZGl0b3IpKTtcbiAgICAgIH0sXG4gICAgICBbZWRpdG9yLCB2YWxpZGF0ZV1cbiAgICApO1xuICAgIGNvbnN0IGNyZWF0ZU1lbnRpb24gPSB1c2VDYWxsYmFjayhcbiAgICAgICh1c2VySWQpID0+IHtcbiAgICAgICAgaWYgKCFtZW50aW9uRHJhZnQgfHwgIXVzZXJJZCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBUcmFuc2Zvcm1zLnNlbGVjdChlZGl0b3IsIG1lbnRpb25EcmFmdC5yYW5nZSk7XG4gICAgICAgIGluc2VydE1lbnRpb24oZWRpdG9yLCB1c2VySWQpO1xuICAgICAgICBzZXRNZW50aW9uRHJhZnQodm9pZCAwKTtcbiAgICAgICAgc2V0U2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4KDApO1xuICAgICAgfSxcbiAgICAgIFtlZGl0b3IsIG1lbnRpb25EcmFmdCwgc2V0U2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4XVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlS2V5RG93biA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uS2V5RG93bj8uKGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0tleShldmVudCwgXCJBcnJvd0xlZnRcIikpIHtcbiAgICAgICAgICBsZWF2ZU1hcmtFZGdlKGVkaXRvciwgXCJzdGFydFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNLZXkoZXZlbnQsIFwiQXJyb3dSaWdodFwiKSkge1xuICAgICAgICAgIGxlYXZlTWFya0VkZ2UoZWRpdG9yLCBcImVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWVudGlvbkRyYWZ0ICYmIG1lbnRpb25TdWdnZXN0aW9ucz8ubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcIkFycm93RG93blwiKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldE5leHRTZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcIkFycm93VXBcIikpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzZXRQcmV2aW91c1NlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNLZXkoZXZlbnQsIFwiRW50ZXJcIikgfHwgaXNLZXkoZXZlbnQsIFwiVGFiXCIpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgY29uc3QgdXNlcklkID0gbWVudGlvblN1Z2dlc3Rpb25zPy5bc2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4XTtcbiAgICAgICAgICAgIGNyZWF0ZU1lbnRpb24odXNlcklkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcIkVzY2FwZVwiKSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNldE1lbnRpb25EcmFmdCh2b2lkIDApO1xuICAgICAgICAgICAgc2V0U2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4KDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNLZXkoZXZlbnQsIFwiRXNjYXBlXCIpKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgUmVhY3RFZGl0b3IuYmx1cihlZGl0b3IpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNLZXkoZXZlbnQsIFwiRW50ZXJcIiwgeyBzaGlmdDogZmFsc2UgfSkgJiYgIWlzRW1wdHkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBzdWJtaXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcIkVudGVyXCIsIHsgc2hpZnQ6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlZGl0b3IuaW5zZXJ0QnJlYWsoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcImJcIiwgeyBtb2Q6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0b2dnbGVNYXJrKGVkaXRvciwgXCJib2xkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXNLZXkoZXZlbnQsIFwiaVwiLCB7IG1vZDogdHJ1ZSB9KSkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRvZ2dsZU1hcmsoZWRpdG9yLCBcIml0YWxpY1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcInNcIiwgeyBtb2Q6IHRydWUsIHNoaWZ0OiB0cnVlIH0pKSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdG9nZ2xlTWFyayhlZGl0b3IsIFwic3RyaWtldGhyb3VnaFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzS2V5KGV2ZW50LCBcImVcIiwgeyBtb2Q6IHRydWUgfSkpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0b2dnbGVNYXJrKGVkaXRvciwgXCJjb2RlXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtcbiAgICAgICAgY3JlYXRlTWVudGlvbixcbiAgICAgICAgZWRpdG9yLFxuICAgICAgICBpc0VtcHR5LFxuICAgICAgICBtZW50aW9uRHJhZnQsXG4gICAgICAgIG1lbnRpb25TdWdnZXN0aW9ucyxcbiAgICAgICAgc2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4LFxuICAgICAgICBvbktleURvd24sXG4gICAgICAgIHNldE5leHRTZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgsXG4gICAgICAgIHNldFByZXZpb3VzU2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4LFxuICAgICAgICBzZXRTZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgsXG4gICAgICAgIHN1Ym1pdFxuICAgICAgXVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlRm9jdXMgPSB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBvbkZvY3VzPy4oZXZlbnQpO1xuICAgICAgICBpZiAoIWV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgc2V0Rm9jdXNlZCh0cnVlKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtvbkZvY3VzLCBzZXRGb2N1c2VkXVxuICAgICk7XG4gICAgY29uc3QgaGFuZGxlQmx1ciA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uQmx1cj8uKGV2ZW50KTtcbiAgICAgICAgaWYgKCFldmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkge1xuICAgICAgICAgIHNldEZvY3VzZWQoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW29uQmx1ciwgc2V0Rm9jdXNlZF1cbiAgICApO1xuICAgIGNvbnN0IHNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWQgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gbWVudGlvblN1Z2dlc3Rpb25zPy5bc2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4XSxcbiAgICAgIFtzZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uSW5kZXgsIG1lbnRpb25TdWdnZXN0aW9uc11cbiAgICApO1xuICAgIGNvbnN0IHNldFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWQgPSB1c2VDYWxsYmFjayhcbiAgICAgICh1c2VySWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBtZW50aW9uU3VnZ2VzdGlvbnM/LmluZGV4T2YodXNlcklkKTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSB2b2lkIDAgJiYgaW5kZXggPj0gMCkge1xuICAgICAgICAgIHNldFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleChpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBbc2V0U2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4LCBtZW50aW9uU3VnZ2VzdGlvbnNdXG4gICAgKTtcbiAgICBjb25zdCBwcm9wc1doaWxlU3VnZ2VzdGluZyA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiBtZW50aW9uRHJhZnQgPyB7XG4gICAgICAgIHJvbGU6IFwiY29tYm9ib3hcIixcbiAgICAgICAgXCJhcmlhLWF1dG9jb21wbGV0ZVwiOiBcImxpc3RcIixcbiAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IHRydWUsXG4gICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBzdWdnZXN0aW9uc0xpc3RJZCxcbiAgICAgICAgXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIjogc3VnZ2VzdGlvbnNMaXN0SXRlbUlkKFxuICAgICAgICAgIHNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWRcbiAgICAgICAgKVxuICAgICAgfSA6IHt9LFxuICAgICAgW1xuICAgICAgICBtZW50aW9uRHJhZnQsXG4gICAgICAgIHN1Z2dlc3Rpb25zTGlzdElkLFxuICAgICAgICBzdWdnZXN0aW9uc0xpc3RJdGVtSWQsXG4gICAgICAgIHNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWRcbiAgICAgIF1cbiAgICApO1xuICAgIHVzZUltcGVyYXRpdmVIYW5kbGUoXG4gICAgICBmb3J3YXJkZWRSZWYsXG4gICAgICAoKSA9PiB7XG4gICAgICAgIHJldHVybiBSZWFjdEVkaXRvci50b0RPTU5vZGUoZWRpdG9yLCBlZGl0b3IpO1xuICAgICAgfSxcbiAgICAgIFtlZGl0b3JdXG4gICAgKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGF1dG9Gb2N1cykge1xuICAgICAgICBmb2N1cygpO1xuICAgICAgfVxuICAgIH0sIFthdXRvRm9jdXMsIGVkaXRvciwgZm9jdXNdKTtcbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgaWYgKGlzRm9jdXNlZCAmJiBlZGl0b3Iuc2VsZWN0aW9uID09PSBudWxsKSB7XG4gICAgICAgIHNlbGVjdCgpO1xuICAgICAgfVxuICAgIH0sIFtlZGl0b3IsIHNlbGVjdCwgaXNGb2N1c2VkXSk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFNsYXRlLCB7XG4gICAgICBlZGl0b3IsXG4gICAgICBpbml0aWFsVmFsdWU6IGluaXRpYWxFZGl0b3JWYWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2VcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFZGl0YWJsZSwge1xuICAgICAgZGlyLFxuICAgICAgZW50ZXJLZXlIaW50OiBtZW50aW9uRHJhZnQgPyBcImVudGVyXCIgOiBcInNlbmRcIixcbiAgICAgIGF1dG9DYXBpdGFsaXplOiBcInNlbnRlbmNlc1wiLFxuICAgICAgXCJhcmlhLWxhYmVsXCI6IFwiQ29tcG9zZXIgZWRpdG9yXCIsXG4gICAgICBcImRhdGEtZm9jdXNlZFwiOiBpc0ZvY3VzZWQgfHwgdm9pZCAwLFxuICAgICAgXCJkYXRhLWRpc2FibGVkXCI6IGlzRGlzYWJsZWQgfHwgdm9pZCAwLFxuICAgICAgLi4ucHJvcHNXaGlsZVN1Z2dlc3RpbmcsXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlYWRPbmx5OiBpc0Rpc2FibGVkLFxuICAgICAgZGlzYWJsZWQ6IGlzRGlzYWJsZWQsXG4gICAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgICBvbkZvY3VzOiBoYW5kbGVGb2N1cyxcbiAgICAgIG9uQmx1cjogaGFuZGxlQmx1cixcbiAgICAgIHJlbmRlckVsZW1lbnQsXG4gICAgICByZW5kZXJMZWFmOiBDb21wb3NlckVkaXRvckxlYWYsXG4gICAgICByZW5kZXJQbGFjZWhvbGRlcjogQ29tcG9zZXJFZGl0b3JQbGFjZWhvbGRlclxuICAgIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlckVkaXRvck1lbnRpb25TdWdnZXN0aW9uc1dyYXBwZXIsIHtcbiAgICAgIGRpcixcbiAgICAgIG1lbnRpb25EcmFmdCxcbiAgICAgIHNlbGVjdGVkVXNlcklkOiBzZWxlY3RlZE1lbnRpb25TdWdnZXN0aW9uVXNlcklkLFxuICAgICAgc2V0U2VsZWN0ZWRVc2VySWQ6IHNldFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWQsXG4gICAgICB1c2VySWRzOiBtZW50aW9uU3VnZ2VzdGlvbnMsXG4gICAgICBpZDogc3VnZ2VzdGlvbnNMaXN0SWQsXG4gICAgICBpdGVtSWQ6IHN1Z2dlc3Rpb25zTGlzdEl0ZW1JZCxcbiAgICAgIG9uSXRlbVNlbGVjdDogY3JlYXRlTWVudGlvbixcbiAgICAgIE1lbnRpb25TdWdnZXN0aW9uc1xuICAgIH0pKTtcbiAgfVxuKTtcbmNvbnN0IENvbXBvc2VyRm9ybSA9IGZvcndhcmRSZWYoXG4gICh7IGNoaWxkcmVuLCBvblN1Ym1pdCwgb25Db21wb3NlclN1Ym1pdCwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcImZvcm1cIjtcbiAgICBjb25zdCBlZGl0b3IgPSB1c2VJbml0aWFsKGNyZWF0ZUNvbXBvc2VyRWRpdG9yKTtcbiAgICBjb25zdCBbaXNFbXB0eSQxLCBzZXRFbXB0eV0gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgICBjb25zdCBbaXNGb2N1c2VkLCBzZXRGb2N1c2VkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCByZWYgPSB1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgbWVyZ2VkUmVmcyA9IHVzZVJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IHZhbGlkYXRlID0gdXNlQ2FsbGJhY2soXG4gICAgICAodmFsdWUpID0+IHtcbiAgICAgICAgc2V0RW1wdHkoaXNFbXB0eShlZGl0b3IsIHZhbHVlKSk7XG4gICAgICB9LFxuICAgICAgW2VkaXRvcl1cbiAgICApO1xuICAgIGNvbnN0IHN1Ym1pdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgICByZXF1ZXN0U3VibWl0KHJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICB9LCBbXSk7XG4gICAgY29uc3QgY2xlYXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICAgICAgYXQ6IHtcbiAgICAgICAgICBhbmNob3I6IEVkaXRvci5zdGFydChlZGl0b3IsIFtdKSxcbiAgICAgICAgICBmb2N1czogRWRpdG9yLmVuZChlZGl0b3IsIFtdKVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LCBbZWRpdG9yXSk7XG4gICAgY29uc3Qgc2VsZWN0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCB7XG4gICAgICAgIGFuY2hvcjogRWRpdG9yLmVuZChlZGl0b3IsIFtdKSxcbiAgICAgICAgZm9jdXM6IEVkaXRvci5lbmQoZWRpdG9yLCBbXSlcbiAgICAgIH0pO1xuICAgIH0sIFtlZGl0b3JdKTtcbiAgICBjb25zdCBmb2N1cyA9IHVzZUNhbGxiYWNrKFxuICAgICAgKHJlc2V0U2VsZWN0aW9uID0gdHJ1ZSkgPT4ge1xuICAgICAgICBpZiAoIVJlYWN0RWRpdG9yLmlzRm9jdXNlZChlZGl0b3IpKSB7XG4gICAgICAgICAgVHJhbnNmb3Jtcy5zZWxlY3QoXG4gICAgICAgICAgICBlZGl0b3IsXG4gICAgICAgICAgICByZXNldFNlbGVjdGlvbiB8fCAhZWRpdG9yLnNlbGVjdGlvbiA/IEVkaXRvci5lbmQoZWRpdG9yLCBbXSkgOiBlZGl0b3Iuc2VsZWN0aW9uXG4gICAgICAgICAgKTtcbiAgICAgICAgICBSZWFjdEVkaXRvci5mb2N1cyhlZGl0b3IpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgW2VkaXRvcl1cbiAgICApO1xuICAgIGNvbnN0IGJsdXIgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgICBSZWFjdEVkaXRvci5ibHVyKGVkaXRvcik7XG4gICAgfSwgW2VkaXRvcl0pO1xuICAgIGNvbnN0IG9uU3VibWl0RW5kID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgY2xlYXIoKTtcbiAgICAgIGJsdXIoKTtcbiAgICB9LCBbYmx1ciwgY2xlYXJdKTtcbiAgICBjb25zdCBjcmVhdGVNZW50aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgZm9jdXMoKTtcbiAgICAgIGluc2VydE1lbnRpb25DaGFyYWN0ZXIoZWRpdG9yKTtcbiAgICB9LCBbZWRpdG9yLCBmb2N1c10pO1xuICAgIGNvbnN0IGluc2VydFRleHQkMSA9IHVzZUNhbGxiYWNrKFxuICAgICAgKHRleHQpID0+IHtcbiAgICAgICAgZm9jdXMoZmFsc2UpO1xuICAgICAgICBpbnNlcnRUZXh0KGVkaXRvciwgdGV4dCk7XG4gICAgICB9LFxuICAgICAgW2VkaXRvciwgZm9jdXNdXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVTdWJtaXQgPSB1c2VDYWxsYmFjayhcbiAgICAgIChldmVudCkgPT4ge1xuICAgICAgICBvblN1Ym1pdD8uKGV2ZW50KTtcbiAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSBjb21wb3NlckJvZHlUb0NvbW1lbnRCb2R5KFxuICAgICAgICAgIGVkaXRvci5jaGlsZHJlblxuICAgICAgICApO1xuICAgICAgICBjb25zdCBjb21tZW50ID0geyBib2R5IH07XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSBvbkNvbXBvc2VyU3VibWl0Py4oY29tbWVudCwgZXZlbnQpO1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgIHByb21pc2UudGhlbihvblN1Ym1pdEVuZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWJtaXRFbmQoKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtlZGl0b3IuY2hpbGRyZW4sIG9uQ29tcG9zZXJTdWJtaXQsIG9uU3VibWl0LCBvblN1Ym1pdEVuZF1cbiAgICApO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlckVkaXRvckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGVkaXRvcixcbiAgICAgICAgdmFsaWRhdGUsXG4gICAgICAgIHNldEZvY3VzZWRcbiAgICAgIH1cbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb3NlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGlzRm9jdXNlZCxcbiAgICAgICAgaXNFbXB0eTogaXNFbXB0eSQxLFxuICAgICAgICBzdWJtaXQsXG4gICAgICAgIGNsZWFyLFxuICAgICAgICBzZWxlY3QsXG4gICAgICAgIGZvY3VzLFxuICAgICAgICBibHVyLFxuICAgICAgICBjcmVhdGVNZW50aW9uLFxuICAgICAgICBpbnNlcnRUZXh0OiBpbnNlcnRUZXh0JDFcbiAgICAgIH1cbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgb25TdWJtaXQ6IGhhbmRsZVN1Ym1pdCxcbiAgICAgIHJlZjogbWVyZ2VkUmVmc1xuICAgIH0sIGNoaWxkcmVuKSkpO1xuICB9XG4pO1xuY29uc3QgQ29tcG9zZXJTdWJtaXQgPSBmb3J3YXJkUmVmKFxuICAoeyBjaGlsZHJlbiwgZGlzYWJsZWQsIGFzQ2hpbGQsIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIGNvbnN0IENvbXBvbmVudCA9IGFzQ2hpbGQgPyBTbG90IDogXCJidXR0b25cIjtcbiAgICBjb25zdCB7IHVzZVNlbGYgfSA9IHVzZVJvb21Db250ZXh0QnVuZGxlKCk7XG4gICAgY29uc3QgeyBpc0VtcHR5IH0gPSB1c2VDb21wb3NlcigpO1xuICAgIGNvbnN0IHNlbGYgPSB1c2VTZWxmKCk7XG4gICAgY29uc3QgaXNEaXNhYmxlZCA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiBkaXNhYmxlZCB8fCBpc0VtcHR5IHx8ICFzZWxmPy5jYW5Db21tZW50LFxuICAgICAgW2Rpc2FibGVkLCBpc0VtcHR5LCBzZWxmPy5jYW5Db21tZW50XVxuICAgICk7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KENvbXBvbmVudCwge1xuICAgICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkaXNhYmxlZDogaXNEaXNhYmxlZFxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfVxuKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgQ29tcG9zZXJFZGl0b3IuZGlzcGxheU5hbWUgPSBDT01QT1NFUl9FRElUT1JfTkFNRTtcbiAgQ29tcG9zZXJGb3JtLmRpc3BsYXlOYW1lID0gQ09NUE9TRVJfRk9STV9OQU1FO1xuICBDb21wb3Nlck1lbnRpb24uZGlzcGxheU5hbWUgPSBDT01QT1NFUl9NRU5USU9OX05BTUU7XG4gIENvbXBvc2VyTGluay5kaXNwbGF5TmFtZSA9IENPTVBPU0VSX0xJTktfTkFNRTtcbiAgQ29tcG9zZXJTdWJtaXQuZGlzcGxheU5hbWUgPSBDT01QT1NFUl9TVUJNSVRfTkFNRTtcbiAgQ29tcG9zZXJTdWdnZXN0aW9ucy5kaXNwbGF5TmFtZSA9IENPTVBPU0VSX1NVR0dFU1RJT05TX05BTUU7XG4gIENvbXBvc2VyU3VnZ2VzdGlvbnNMaXN0LmRpc3BsYXlOYW1lID0gQ09NUE9TRVJfU1VHR0VTVElPTlNfTElTVF9OQU1FO1xuICBDb21wb3NlclN1Z2dlc3Rpb25zTGlzdEl0ZW0uZGlzcGxheU5hbWUgPSBDT01QT1NFUl9TVUdHRVNUSU9OU19MSVNUX0lURU1fTkFNRTtcbn1cblxuZXhwb3J0IHsgQ29tcG9zZXJFZGl0b3IgYXMgRWRpdG9yLCBDb21wb3NlckZvcm0gYXMgRm9ybSwgQ29tcG9zZXJMaW5rIGFzIExpbmssIENvbXBvc2VyTWVudGlvbiBhcyBNZW50aW9uLCBDb21wb3NlclN1Ym1pdCBhcyBTdWJtaXQsIENvbXBvc2VyU3VnZ2VzdGlvbnMgYXMgU3VnZ2VzdGlvbnMsIENvbXBvc2VyU3VnZ2VzdGlvbnNMaXN0IGFzIFN1Z2dlc3Rpb25zTGlzdCwgQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3RJdGVtIGFzIFN1Z2dlc3Rpb25zTGlzdEl0ZW0gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJmbGlwIiwiaGlkZSIsInNoaWZ0IiwibGltaXRTaGlmdCIsInNpemUiLCJhdXRvVXBkYXRlIiwidXNlRmxvYXRpbmciLCJrSW50ZXJuYWwiLCJ1c2VSb29tQ29udGV4dEJ1bmRsZSIsIlNsb3QiLCJSZWFjdF9fZGVmYXVsdCIsImZvcndhcmRSZWYiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlRWZmZWN0IiwidXNlQ2FsbGJhY2siLCJ1c2VTdGF0ZSIsInVzZUltcGVyYXRpdmVIYW5kbGUiLCJUcmFuc2Zvcm1zIiwiRWRpdG9yIiwiaW5zZXJ0VGV4dCIsImNyZWF0ZUVkaXRvciIsIndpdGhIaXN0b3J5IiwidXNlU2VsZWN0ZWQiLCJSZWFjdEVkaXRvciIsIlNsYXRlIiwiRWRpdGFibGUiLCJ1c2VTbGF0ZVN0YXRpYyIsIndpdGhSZWFjdCIsInVzZUNvbW1lbnRzQ29uZmlnIiwiRkxPQVRJTkdfRUxFTUVOVF9DT0xMSVNJT05fUEFERElORyIsIndpdGhBdXRvRm9ybWF0dGluZyIsIndpdGhBdXRvTGlua3MiLCJ3aXRoRW1wdHlDbGVhckZvcm1hdHRpbmciLCJnZXRNZW50aW9uRHJhZnRBdFNlbGVjdGlvbiIsImluc2VydE1lbnRpb24iLCJpbnNlcnRNZW50aW9uQ2hhcmFjdGVyIiwiTUVOVElPTl9DSEFSQUNURVIiLCJ3aXRoTWVudGlvbnMiLCJnZXRET01SYW5nZSIsImlzRW1wdHkiLCJsZWF2ZU1hcmtFZGdlIiwidG9nZ2xlTWFyayIsImlzS2V5IiwidXNlUGVyc2lzdCIsInVzZUFuaW1hdGlvblBlcnNpc3QiLCJQZXJzaXN0IiwiUG9ydGFsIiwicmVxdWVzdFN1Ym1pdCIsInVzZUlkIiwidXNlSW5kZXgiLCJ1c2VJbml0aWFsIiwidXNlTGF5b3V0RWZmZWN0IiwidXNlUmVmcyIsInRvQWJzb2x1dGVVcmwiLCJ1c2VDb21wb3NlclN1Z2dlc3Rpb25zQ29udGV4dCIsInVzZUNvbXBvc2VyRWRpdG9yQ29udGV4dCIsInVzZUNvbXBvc2VyIiwiQ29tcG9zZXJFZGl0b3JDb250ZXh0IiwiQ29tcG9zZXJDb250ZXh0IiwiQ29tcG9zZXJTdWdnZXN0aW9uc0NvbnRleHQiLCJnZXRTaWRlQW5kQWxpZ25Gcm9tUGxhY2VtZW50IiwiY29tbWVudEJvZHlUb0NvbXBvc2VyQm9keSIsImNvbXBvc2VyQm9keVRvQ29tbWVudEJvZHkiLCJnZXRQbGFjZW1lbnRGcm9tUG9zaXRpb24iLCJNRU5USU9OX1NVR0dFU1RJT05TX1BPU0lUSU9OIiwiQ09NUE9TRVJfTUVOVElPTl9OQU1FIiwiQ09NUE9TRVJfTElOS19OQU1FIiwiQ09NUE9TRVJfU1VHR0VTVElPTlNfTkFNRSIsIkNPTVBPU0VSX1NVR0dFU1RJT05TX0xJU1RfTkFNRSIsIkNPTVBPU0VSX1NVR0dFU1RJT05TX0xJU1RfSVRFTV9OQU1FIiwiQ09NUE9TRVJfU1VCTUlUX05BTUUiLCJDT01QT1NFUl9FRElUT1JfTkFNRSIsIkNPTVBPU0VSX0ZPUk1fTkFNRSIsImVtcHR5Q29tbWVudEJvZHkiLCJ2ZXJzaW9uIiwiY29udGVudCIsInR5cGUiLCJjaGlsZHJlbiIsInRleHQiLCJjcmVhdGVDb21wb3NlckVkaXRvciIsIkNvbXBvc2VyRWRpdG9yTWVudGlvbldyYXBwZXIiLCJNZW50aW9uIiwiYXR0cmlidXRlcyIsImVsZW1lbnQiLCJpc1NlbGVjdGVkIiwiY3JlYXRlRWxlbWVudCIsImlkIiwidXNlcklkIiwiQ29tcG9zZXJFZGl0b3JMaW5rV3JhcHBlciIsIkxpbmsiLCJocmVmIiwidXJsIiwiQ29tcG9zZXJFZGl0b3JNZW50aW9uU3VnZ2VzdGlvbnNXcmFwcGVyIiwiaXRlbUlkIiwidXNlcklkcyIsInNlbGVjdGVkVXNlcklkIiwic2V0U2VsZWN0ZWRVc2VySWQiLCJtZW50aW9uRHJhZnQiLCJvbkl0ZW1TZWxlY3QiLCJwb3NpdGlvbiIsImRpciIsIk1lbnRpb25TdWdnZXN0aW9ucyIsImVkaXRvciIsImlzRm9jdXNlZCIsInNldENvbnRlbnQiLCJjb250ZW50WkluZGV4Iiwic2V0Q29udGVudFpJbmRleCIsImNvbnRlbnRSZWYiLCJwb3J0YWxDb250YWluZXIiLCJmbG9hdGluZ09wdGlvbnMiLCJkZXRlY3RPdmVyZmxvd09wdGlvbnMiLCJwYWRkaW5nIiwic3RyYXRlZ3kiLCJwbGFjZW1lbnQiLCJtaWRkbGV3YXJlIiwiY3Jvc3NBeGlzIiwibGltaXRlciIsImFwcGx5IiwiYXZhaWxhYmxlV2lkdGgiLCJhdmFpbGFibGVIZWlnaHQiLCJlbGVtZW50cyIsImZsb2F0aW5nIiwic3R5bGUiLCJzZXRQcm9wZXJ0eSIsIndoaWxlRWxlbWVudHNNb3VudGVkIiwicmVmcyIsInNldFJlZmVyZW5jZSIsInNldEZsb2F0aW5nIiwiaXNQb3NpdGlvbmVkIiwieCIsInkiLCJ3aW5kb3ciLCJnZXRDb21wdXRlZFN0eWxlIiwiekluZGV4IiwiZG9tUmFuZ2UiLCJyYW5nZSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImdldENsaWVudFJlY3RzIiwiUHJvdmlkZXIiLCJ2YWx1ZSIsInNlbGVjdGVkVmFsdWUiLCJzZXRTZWxlY3RlZFZhbHVlIiwicmVmIiwiY29udGFpbmVyIiwidG9wIiwibGVmdCIsInRyYW5zZm9ybSIsIk1hdGgiLCJyb3VuZCIsIm1pbldpZHRoIiwiQ29tcG9zZXJFZGl0b3JFbGVtZW50IiwicHJvcHMiLCJDb21wb3NlckVkaXRvckxlYWYiLCJsZWFmIiwiYm9sZCIsIml0YWxpYyIsInN0cmlrZXRocm91Z2giLCJjb2RlIiwiQ29tcG9zZXJFZGl0b3JQbGFjZWhvbGRlciIsIm9wYWNpdHkiLCJfb3BhY2l0eSIsIkNvbXBvc2VyTWVudGlvbiIsImZvcndhcmRlZFJlZiIsImFzQ2hpbGQiLCJDb21wb25lbnQiLCJDb21wb3NlckxpbmsiLCJ0YXJnZXQiLCJyZWwiLCJDb21wb3NlclN1Z2dlc3Rpb25zIiwiaXNQcmVzZW50IiwibWVyZ2VkUmVmcyIsInNpZGUiLCJhbGlnbiIsImRpc3BsYXkiLCJmbGV4RGlyZWN0aW9uIiwibWF4SGVpZ2h0Iiwib3ZlcmZsb3dZIiwiQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3QiLCJyb2xlIiwiQ29tcG9zZXJTdWdnZXN0aW9uc0xpc3RJdGVtIiwib25Qb2ludGVyTW92ZSIsIm9uUG9pbnRlckRvd24iLCJjdXJyZW50Iiwic2Nyb2xsSW50b1ZpZXciLCJibG9jayIsImhhbmRsZVBvaW50ZXJNb3ZlIiwiZXZlbnQiLCJpc0RlZmF1bHRQcmV2ZW50ZWQiLCJoYW5kbGVQb2ludGVyRG93biIsImhhc1BvaW50ZXJDYXB0dXJlIiwicG9pbnRlcklkIiwicmVsZWFzZVBvaW50ZXJDYXB0dXJlIiwiYnV0dG9uIiwiY3RybEtleSIsInByZXZlbnREZWZhdWx0IiwiZGVmYXVsdEVkaXRvckNvbXBvbmVudHMiLCJsZW5ndGgiLCJtYXAiLCJrZXkiLCJDb21wb3NlckVkaXRvciIsImRlZmF1bHRWYWx1ZSIsIm9uS2V5RG93biIsIm9uRm9jdXMiLCJvbkJsdXIiLCJkaXNhYmxlZCIsImF1dG9Gb2N1cyIsImNvbXBvbmVudHMiLCJ1c2VNZW50aW9uU3VnZ2VzdGlvbnMiLCJ1c2VTZWxmIiwic2VsZiIsImlzRGlzYWJsZWQiLCJjYW5Db21tZW50IiwidmFsaWRhdGUiLCJzZXRGb2N1c2VkIiwic3VibWl0IiwiZm9jdXMiLCJzZWxlY3QiLCJpbml0aWFsQm9keSIsImluaXRpYWxFZGl0b3JWYWx1ZSIsInNldE1lbnRpb25EcmFmdCIsIm1lbnRpb25TdWdnZXN0aW9ucyIsInNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleCIsInNldFByZXZpb3VzU2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvbkluZGV4Iiwic2V0TmV4dFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleCIsInNldFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25JbmRleCIsInN1Z2dlc3Rpb25zTGlzdElkIiwic3VnZ2VzdGlvbnNMaXN0SXRlbUlkIiwicmVuZGVyRWxlbWVudCIsInByb3BzMiIsImhhbmRsZUNoYW5nZSIsImNyZWF0ZU1lbnRpb24iLCJoYW5kbGVLZXlEb3duIiwiYmx1ciIsImluc2VydEJyZWFrIiwibW9kIiwiaGFuZGxlRm9jdXMiLCJoYW5kbGVCbHVyIiwic2VsZWN0ZWRNZW50aW9uU3VnZ2VzdGlvblVzZXJJZCIsInNldFNlbGVjdGVkTWVudGlvblN1Z2dlc3Rpb25Vc2VySWQiLCJpbmRleCIsImluZGV4T2YiLCJwcm9wc1doaWxlU3VnZ2VzdGluZyIsInRvRE9NTm9kZSIsInNlbGVjdGlvbiIsImluaXRpYWxWYWx1ZSIsIm9uQ2hhbmdlIiwiZW50ZXJLZXlIaW50IiwiYXV0b0NhcGl0YWxpemUiLCJyZWFkT25seSIsInJlbmRlckxlYWYiLCJyZW5kZXJQbGFjZWhvbGRlciIsIkNvbXBvc2VyRm9ybSIsIm9uU3VibWl0Iiwib25Db21wb3NlclN1Ym1pdCIsImlzRW1wdHkkMSIsInNldEVtcHR5IiwiY2xlYXIiLCJkZWxldGUiLCJhdCIsImFuY2hvciIsInN0YXJ0IiwiZW5kIiwicmVzZXRTZWxlY3Rpb24iLCJvblN1Ym1pdEVuZCIsImluc2VydFRleHQkMSIsImhhbmRsZVN1Ym1pdCIsImJvZHkiLCJjb21tZW50IiwicHJvbWlzZSIsInRoZW4iLCJDb21wb3NlclN1Ym1pdCIsInByb2Nlc3MiLCJkaXNwbGF5TmFtZSIsIkZvcm0iLCJTdWJtaXQiLCJTdWdnZXN0aW9ucyIsIlN1Z2dlc3Rpb25zTGlzdCIsIlN1Z2dlc3Rpb25zTGlzdEl0ZW0iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/utils.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Composer/utils.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   commentBodyLinkToComposerBodyLink: function() { return /* binding */ commentBodyLinkToComposerBodyLink; },\n/* harmony export */   commentBodyMentionToComposerBodyMention: function() { return /* binding */ commentBodyMentionToComposerBodyMention; },\n/* harmony export */   commentBodyToComposerBody: function() { return /* binding */ commentBodyToComposerBody; },\n/* harmony export */   composerBodyAutoLinkToCommentBodyLink: function() { return /* binding */ composerBodyAutoLinkToCommentBodyLink; },\n/* harmony export */   composerBodyMentionToCommentBodyMention: function() { return /* binding */ composerBodyMentionToCommentBodyMention; },\n/* harmony export */   composerBodyToCommentBody: function() { return /* binding */ composerBodyToCommentBody; },\n/* harmony export */   getPlacementFromPosition: function() { return /* binding */ getPlacementFromPosition; },\n/* harmony export */   getSideAndAlignFromPlacement: function() { return /* binding */ getSideAndAlignFromPlacement; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var _slate_plugins_auto_links_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../slate/plugins/auto-links.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-links.mjs\");\n/* harmony import */ var _slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../slate/plugins/mentions.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\");\n/* harmony import */ var _utils_exists_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/exists.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/exists.mjs\");\n/* harmony import */ var _Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Comment/utils.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Comment/utils.mjs\");\n\n\n\n\n\n\nfunction composerBodyMentionToCommentBodyMention(mention) {\n  return {\n    type: \"mention\",\n    id: mention.id\n  };\n}\nfunction composerBodyAutoLinkToCommentBodyLink(link) {\n  return {\n    type: \"link\",\n    url: link.url\n  };\n}\nfunction commentBodyMentionToComposerBodyMention(mention) {\n  return {\n    type: \"mention\",\n    id: mention.id,\n    children: [{ text: \"\" }]\n  };\n}\nfunction commentBodyLinkToComposerBodyLink(link) {\n  return {\n    type: \"auto-link\",\n    url: link.url,\n    children: [\n      {\n        text: link.url\n      }\n    ]\n  };\n}\nfunction composerBodyToCommentBody(body) {\n  return {\n    version: 1,\n    content: body.map((block) => {\n      const children = block.children.map((inline) => {\n        if ((0,_slate_plugins_mentions_mjs__WEBPACK_IMPORTED_MODULE_0__.isComposerBodyMention)(inline)) {\n          return composerBodyMentionToCommentBodyMention(inline);\n        }\n        if ((0,_slate_plugins_auto_links_mjs__WEBPACK_IMPORTED_MODULE_1__.isComposerBodyAutoLink)(inline)) {\n          return composerBodyAutoLinkToCommentBodyLink(inline);\n        }\n        if (slate__WEBPACK_IMPORTED_MODULE_2__.Text.isText(inline)) {\n          return inline;\n        }\n        return null;\n      }).filter(_utils_exists_mjs__WEBPACK_IMPORTED_MODULE_3__.exists);\n      return {\n        ...block,\n        children\n      };\n    })\n  };\n}\nconst emptyComposerBody = [];\nfunction commentBodyToComposerBody(body) {\n  if (!body || !body?.content) {\n    return emptyComposerBody;\n  }\n  return body.content.map((block) => {\n    const children = block.children.map((inline) => {\n      if ((0,_Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.isCommentBodyMention)(inline)) {\n        return commentBodyMentionToComposerBodyMention(inline);\n      }\n      if ((0,_Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.isCommentBodyLink)(inline)) {\n        return commentBodyLinkToComposerBodyLink(inline);\n      }\n      if ((0,_Comment_utils_mjs__WEBPACK_IMPORTED_MODULE_4__.isCommentBodyText)(inline)) {\n        return inline;\n      }\n      return null;\n    }).filter(_utils_exists_mjs__WEBPACK_IMPORTED_MODULE_3__.exists);\n    return {\n      ...block,\n      children\n    };\n  });\n}\nfunction getPlacementFromPosition(position, direction = \"ltr\") {\n  return `${position}-${direction === \"rtl\" ? \"end\" : \"start\"}`;\n}\nfunction getSideAndAlignFromPlacement(placement) {\n  const [side, align = \"center\"] = placement.split(\"-\");\n  return [side, align];\n}\n\n\n//# sourceMappingURL=utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvQ29tcG9zZXIvdXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkI7QUFDK0M7QUFDSDtBQUN6QjtBQUNrRDs7QUFFbEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtGQUFxQjtBQUNqQztBQUNBO0FBQ0EsWUFBWSxxRkFBc0I7QUFDbEM7QUFDQTtBQUNBLFlBQVksdUNBQUk7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsT0FBTyxTQUFTLHFEQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsd0VBQW9CO0FBQzlCO0FBQ0E7QUFDQSxVQUFVLHFFQUFpQjtBQUMzQjtBQUNBO0FBQ0EsVUFBVSxxRUFBaUI7QUFDM0I7QUFDQTtBQUNBO0FBQ0EsS0FBSyxTQUFTLHFEQUFNO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxZQUFZLFNBQVMsR0FBRyxzQ0FBc0M7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb1I7QUFDcFIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvcHJpbWl0aXZlcy9Db21wb3Nlci91dGlscy5tanM/MGZjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0IH0gZnJvbSAnc2xhdGUnO1xuaW1wb3J0IHsgaXNDb21wb3NlckJvZHlBdXRvTGluayB9IGZyb20gJy4uLy4uL3NsYXRlL3BsdWdpbnMvYXV0by1saW5rcy5tanMnO1xuaW1wb3J0IHsgaXNDb21wb3NlckJvZHlNZW50aW9uIH0gZnJvbSAnLi4vLi4vc2xhdGUvcGx1Z2lucy9tZW50aW9ucy5tanMnO1xuaW1wb3J0IHsgZXhpc3RzIH0gZnJvbSAnLi4vLi4vdXRpbHMvZXhpc3RzLm1qcyc7XG5pbXBvcnQgeyBpc0NvbW1lbnRCb2R5TWVudGlvbiwgaXNDb21tZW50Qm9keUxpbmssIGlzQ29tbWVudEJvZHlUZXh0IH0gZnJvbSAnLi4vQ29tbWVudC91dGlscy5tanMnO1xuXG5mdW5jdGlvbiBjb21wb3NlckJvZHlNZW50aW9uVG9Db21tZW50Qm9keU1lbnRpb24obWVudGlvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwibWVudGlvblwiLFxuICAgIGlkOiBtZW50aW9uLmlkXG4gIH07XG59XG5mdW5jdGlvbiBjb21wb3NlckJvZHlBdXRvTGlua1RvQ29tbWVudEJvZHlMaW5rKGxpbmspIHtcbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcImxpbmtcIixcbiAgICB1cmw6IGxpbmsudXJsXG4gIH07XG59XG5mdW5jdGlvbiBjb21tZW50Qm9keU1lbnRpb25Ub0NvbXBvc2VyQm9keU1lbnRpb24obWVudGlvbikge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwibWVudGlvblwiLFxuICAgIGlkOiBtZW50aW9uLmlkLFxuICAgIGNoaWxkcmVuOiBbeyB0ZXh0OiBcIlwiIH1dXG4gIH07XG59XG5mdW5jdGlvbiBjb21tZW50Qm9keUxpbmtUb0NvbXBvc2VyQm9keUxpbmsobGluaykge1xuICByZXR1cm4ge1xuICAgIHR5cGU6IFwiYXV0by1saW5rXCIsXG4gICAgdXJsOiBsaW5rLnVybCxcbiAgICBjaGlsZHJlbjogW1xuICAgICAge1xuICAgICAgICB0ZXh0OiBsaW5rLnVybFxuICAgICAgfVxuICAgIF1cbiAgfTtcbn1cbmZ1bmN0aW9uIGNvbXBvc2VyQm9keVRvQ29tbWVudEJvZHkoYm9keSkge1xuICByZXR1cm4ge1xuICAgIHZlcnNpb246IDEsXG4gICAgY29udGVudDogYm9keS5tYXAoKGJsb2NrKSA9PiB7XG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGJsb2NrLmNoaWxkcmVuLm1hcCgoaW5saW5lKSA9PiB7XG4gICAgICAgIGlmIChpc0NvbXBvc2VyQm9keU1lbnRpb24oaW5saW5lKSkge1xuICAgICAgICAgIHJldHVybiBjb21wb3NlckJvZHlNZW50aW9uVG9Db21tZW50Qm9keU1lbnRpb24oaW5saW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNDb21wb3NlckJvZHlBdXRvTGluayhpbmxpbmUpKSB7XG4gICAgICAgICAgcmV0dXJuIGNvbXBvc2VyQm9keUF1dG9MaW5rVG9Db21tZW50Qm9keUxpbmsoaW5saW5lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVGV4dC5pc1RleHQoaW5saW5lKSkge1xuICAgICAgICAgIHJldHVybiBpbmxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KS5maWx0ZXIoZXhpc3RzKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLmJsb2NrLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgfTtcbiAgICB9KVxuICB9O1xufVxuY29uc3QgZW1wdHlDb21wb3NlckJvZHkgPSBbXTtcbmZ1bmN0aW9uIGNvbW1lbnRCb2R5VG9Db21wb3NlckJvZHkoYm9keSkge1xuICBpZiAoIWJvZHkgfHwgIWJvZHk/LmNvbnRlbnQpIHtcbiAgICByZXR1cm4gZW1wdHlDb21wb3NlckJvZHk7XG4gIH1cbiAgcmV0dXJuIGJvZHkuY29udGVudC5tYXAoKGJsb2NrKSA9PiB7XG4gICAgY29uc3QgY2hpbGRyZW4gPSBibG9jay5jaGlsZHJlbi5tYXAoKGlubGluZSkgPT4ge1xuICAgICAgaWYgKGlzQ29tbWVudEJvZHlNZW50aW9uKGlubGluZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRCb2R5TWVudGlvblRvQ29tcG9zZXJCb2R5TWVudGlvbihpbmxpbmUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbWVudEJvZHlMaW5rKGlubGluZSkpIHtcbiAgICAgICAgcmV0dXJuIGNvbW1lbnRCb2R5TGlua1RvQ29tcG9zZXJCb2R5TGluayhpbmxpbmUpO1xuICAgICAgfVxuICAgICAgaWYgKGlzQ29tbWVudEJvZHlUZXh0KGlubGluZSkpIHtcbiAgICAgICAgcmV0dXJuIGlubGluZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pLmZpbHRlcihleGlzdHMpO1xuICAgIHJldHVybiB7XG4gICAgICAuLi5ibG9jayxcbiAgICAgIGNoaWxkcmVuXG4gICAgfTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRQbGFjZW1lbnRGcm9tUG9zaXRpb24ocG9zaXRpb24sIGRpcmVjdGlvbiA9IFwibHRyXCIpIHtcbiAgcmV0dXJuIGAke3Bvc2l0aW9ufS0ke2RpcmVjdGlvbiA9PT0gXCJydGxcIiA/IFwiZW5kXCIgOiBcInN0YXJ0XCJ9YDtcbn1cbmZ1bmN0aW9uIGdldFNpZGVBbmRBbGlnbkZyb21QbGFjZW1lbnQocGxhY2VtZW50KSB7XG4gIGNvbnN0IFtzaWRlLCBhbGlnbiA9IFwiY2VudGVyXCJdID0gcGxhY2VtZW50LnNwbGl0KFwiLVwiKTtcbiAgcmV0dXJuIFtzaWRlLCBhbGlnbl07XG59XG5cbmV4cG9ydCB7IGNvbW1lbnRCb2R5TGlua1RvQ29tcG9zZXJCb2R5TGluaywgY29tbWVudEJvZHlNZW50aW9uVG9Db21wb3NlckJvZHlNZW50aW9uLCBjb21tZW50Qm9keVRvQ29tcG9zZXJCb2R5LCBjb21wb3NlckJvZHlBdXRvTGlua1RvQ29tbWVudEJvZHlMaW5rLCBjb21wb3NlckJvZHlNZW50aW9uVG9Db21tZW50Qm9keU1lbnRpb24sIGNvbXBvc2VyQm9keVRvQ29tbWVudEJvZHksIGdldFBsYWNlbWVudEZyb21Qb3NpdGlvbiwgZ2V0U2lkZUFuZEFsaWduRnJvbVBsYWNlbWVudCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Composer/utils.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/contexts.mjs":
/*!******************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/contexts.mjs ***!
  \******************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   EmojiPickerContext: function() { return /* binding */ EmojiPickerContext; },\n/* harmony export */   useEmojiPicker: function() { return /* binding */ useEmojiPicker; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\nconst EmojiPickerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(\n  null\n);\nfunction useEmojiPicker() {\n  const emojiPickerContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(EmojiPickerContext);\n  return (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.nn)(\n    emojiPickerContext,\n    \"EmojiPicker.Root is missing from the React tree.\"\n  );\n}\n\n\n//# sourceMappingURL=contexts.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvRW1vamlQaWNrZXIvY29udGV4dHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBc0M7QUFDWTs7QUFFbEQsMkJBQTJCLG9EQUFhO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QixpREFBVTtBQUN2QyxTQUFTLG9EQUFFO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7O0FBRThDO0FBQzlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvRW1vamlQaWNrZXIvY29udGV4dHMubWpzPzIwYzYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgbm4gfSBmcm9tICdAbGl2ZWJsb2Nrcy9jb3JlJztcbmltcG9ydCB7IGNyZWF0ZUNvbnRleHQsIHVzZUNvbnRleHQgfSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IEVtb2ppUGlja2VyQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoXG4gIG51bGxcbik7XG5mdW5jdGlvbiB1c2VFbW9qaVBpY2tlcigpIHtcbiAgY29uc3QgZW1vamlQaWNrZXJDb250ZXh0ID0gdXNlQ29udGV4dChFbW9qaVBpY2tlckNvbnRleHQpO1xuICByZXR1cm4gbm4oXG4gICAgZW1vamlQaWNrZXJDb250ZXh0LFxuICAgIFwiRW1vamlQaWNrZXIuUm9vdCBpcyBtaXNzaW5nIGZyb20gdGhlIFJlYWN0IHRyZWUuXCJcbiAgKTtcbn1cblxuZXhwb3J0IHsgRW1vamlQaWNrZXJDb250ZXh0LCB1c2VFbW9qaVBpY2tlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGV4dHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/contexts.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/index.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/index.mjs ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Content: function() { return /* binding */ EmojiPickerContent; },\n/* harmony export */   Root: function() { return /* binding */ EmojiPickerRoot; },\n/* harmony export */   Search: function() { return /* binding */ EmojiPickerSearch; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_virtuoso__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react-virtuoso */ \"(app-pages-browser)/./node_modules/react-virtuoso/dist/index.mjs\");\n/* harmony import */ var _utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../utils/is-key.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-key.mjs\");\n/* harmony import */ var _utils_request_idle_callback_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../utils/request-idle-callback.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-idle-callback.mjs\");\n/* harmony import */ var _utils_use_transition_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/use-transition.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-transition.mjs\");\n/* harmony import */ var _utils_visually_hidden_mjs__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../utils/visually-hidden.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/visually-hidden.mjs\");\n/* harmony import */ var _internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../internal/Emoji.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/internal/Emoji.mjs\");\n/* harmony import */ var _contexts_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./contexts.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/contexts.mjs\");\n/* harmony import */ var _utils_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/utils.mjs\");\n/* __next_internal_client_entry_do_not_use__ Content,Root,Search auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\nconst DEFAULT_COLUMNS = 10;\nconst DEFAULT_LOCALE = \"en\";\nconst LOADING_MINIMUM_TIMEOUT = 100;\nconst EMOJIPICKER_ROOT_NAME = \"EmojiPickerRoot\";\nconst EMOJIPICKER_CONTENT_NAME = \"EmojiPickerContent\";\nconst EMOJIPICKER_SEARCH_NAME = \"EmojiPickerSearch\";\nfunction EmojiPickerRoot(param) {\n    let { columns = DEFAULT_COLUMNS, locale = DEFAULT_LOCALE, onEmojiSelect, children } = param;\n    _s();\n    const emojiData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)();\n    const search = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(\"\");\n    const [, startEmojisTransition] = (0,_utils_use_transition_mjs__WEBPACK_IMPORTED_MODULE_1__.useTransition)();\n    const [data, setData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)();\n    const [selectedColumnIndex, setSelectedColumnIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [selectedRowIndex, setSelectedRowIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(0);\n    const [interaction, setInteraction] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(\"none\");\n    const selectCurrentEmoji = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (onEmojiSelect) {\n            var _data_rows_selectedRowIndex;\n            const emoji = data === null || data === void 0 ? void 0 : (_data_rows_selectedRowIndex = data.rows[selectedRowIndex]) === null || _data_rows_selectedRowIndex === void 0 ? void 0 : _data_rows_selectedRowIndex[selectedColumnIndex];\n            if (emoji) {\n                onEmojiSelect(emoji.emoji);\n            }\n        }\n    }, [\n        data === null || data === void 0 ? void 0 : data.rows,\n        onEmojiSelect,\n        selectedColumnIndex,\n        selectedRowIndex\n    ]);\n    const resetSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        setSelectedColumnIndex(0);\n        setSelectedRowIndex(0);\n    }, []);\n    const setPointerSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((columnIndex, rowIndex)=>{\n        setInteraction(\"pointer\");\n        setSelectedColumnIndex(columnIndex);\n        setSelectedRowIndex(rowIndex);\n    }, []);\n    const moveSelection = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((direction, event)=>{\n        if (!data) {\n            return;\n        }\n        event.preventDefault();\n        if (interaction === \"none\") {\n            setInteraction(\"keyboard\");\n            return;\n        }\n        setInteraction(\"keyboard\");\n        switch(direction){\n            case \"left\":\n                {\n                    if (selectedColumnIndex === 0) {\n                        const previousRowIndex = selectedRowIndex - 1;\n                        const previousRow = data.rows[previousRowIndex];\n                        if (previousRow) {\n                            setSelectedRowIndex(previousRowIndex);\n                            setSelectedColumnIndex(previousRow.length - 1);\n                        }\n                    } else {\n                        setSelectedColumnIndex(selectedColumnIndex - 1);\n                    }\n                    break;\n                }\n            case \"right\":\n                {\n                    const currentRow = data.rows[selectedRowIndex];\n                    if (selectedColumnIndex === currentRow.length - 1) {\n                        const nextRowIndex = selectedRowIndex + 1;\n                        const nextRow = data.rows[nextRowIndex];\n                        if (nextRow) {\n                            setSelectedRowIndex(nextRowIndex);\n                            setSelectedColumnIndex(0);\n                        }\n                    } else {\n                        setSelectedColumnIndex(selectedColumnIndex + 1);\n                    }\n                    break;\n                }\n            case \"up\":\n                {\n                    const previousRow = data.rows[selectedRowIndex - 1];\n                    if (previousRow) {\n                        setSelectedRowIndex(selectedRowIndex - 1);\n                        if (!previousRow[selectedColumnIndex]) {\n                            setSelectedColumnIndex(previousRow.length - 1);\n                        }\n                    }\n                    break;\n                }\n            case \"down\":\n                {\n                    const nextRow = data.rows[selectedRowIndex + 1];\n                    if (nextRow) {\n                        setSelectedRowIndex(selectedRowIndex + 1);\n                        if (!nextRow[selectedColumnIndex]) {\n                            setSelectedColumnIndex(nextRow.length - 1);\n                        }\n                    }\n                    break;\n                }\n        }\n    }, [\n        data,\n        interaction,\n        selectedColumnIndex,\n        selectedRowIndex\n    ]);\n    const updateEmojis = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!emojiData.current) {\n            return;\n        }\n        startEmojisTransition(()=>{\n            setData(()=>{\n                if (!emojiData.current) {\n                    return;\n                }\n                const filteredEmojis = (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.filterEmojis)(emojiData.current.emojis, search.current);\n                return (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.generateEmojiPickerData)(filteredEmojis, emojiData.current.categories, columns);\n            });\n            resetSelection();\n        });\n    }, [\n        columns,\n        resetSelection\n    ]);\n    const handleSearch = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value)=>{\n        search.current = value;\n        updateEmojis();\n    }, [\n        updateEmojis\n    ]);\n    const initializeEmojiData = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(async (locale2)=>{\n        try {\n            emojiData.current = await (0,_utils_mjs__WEBPACK_IMPORTED_MODULE_2__.getEmojiData)(locale2);\n            updateEmojis();\n        } catch (error2) {\n            setError(error2);\n        }\n    }, [\n        updateEmojis\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        let idleCallbackId;\n        const timeoutId = setTimeout(()=>{\n            idleCallbackId = (0,_utils_request_idle_callback_mjs__WEBPACK_IMPORTED_MODULE_3__.requestIdleCallback)(()=>{\n                initializeEmojiData(locale);\n            });\n        }, LOADING_MINIMUM_TIMEOUT);\n        return ()=>{\n            clearTimeout(timeoutId);\n            (0,_utils_request_idle_callback_mjs__WEBPACK_IMPORTED_MODULE_3__.cancelIdleCallback)(idleCallbackId);\n        };\n    }, [\n        locale\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (interaction === \"none\") {\n            resetSelection();\n        }\n    }, [\n        interaction\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.EmojiPickerContext.Provider, {\n        value: {\n            data,\n            error,\n            isLoading: !data && !error,\n            columns,\n            onSearch: handleSearch,\n            onEmojiSelect,\n            selectCurrentEmoji,\n            selectedRowIndex,\n            selectedColumnIndex,\n            moveSelection,\n            setPointerSelection,\n            interaction,\n            setInteraction\n        }\n    }, children);\n}\n_s(EmojiPickerRoot, \"ttLa9y1H4t1NZPYPEXWno3YTzoI=\", false, function() {\n    return [\n        _utils_use_transition_mjs__WEBPACK_IMPORTED_MODULE_1__.useTransition\n    ];\n});\n_c = EmojiPickerRoot;\nconst EmojiPickerSearch = /*#__PURE__*/ _s1((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c1 = _s1((param, forwardedRef)=>{\n    let { asChild, value, defaultValue, onChange, ...props } = param;\n    _s1();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__.Slot : \"input\";\n    const { onSearch, selectCurrentEmoji, moveSelection, interaction, setInteraction } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker)();\n    const handleChange = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        onChange === null || onChange === void 0 ? void 0 : onChange(event);\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        const value2 = event.target.value;\n        setInteraction(value2 ? \"keyboard\" : \"none\");\n        onSearch(value2);\n    }, [\n        onChange,\n        onSearch,\n        setInteraction\n    ]);\n    const handleKeyDown = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        if (event.isDefaultPrevented()) {\n            return;\n        }\n        if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__.isKey)(event, \"ArrowLeft\")) {\n            moveSelection(\"left\", event);\n        } else if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__.isKey)(event, \"ArrowRight\")) {\n            moveSelection(\"right\", event);\n        } else if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__.isKey)(event, \"ArrowUp\")) {\n            moveSelection(\"up\", event);\n        } else if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__.isKey)(event, \"ArrowDown\")) {\n            moveSelection(\"down\", event);\n        } else if ((0,_utils_is_key_mjs__WEBPACK_IMPORTED_MODULE_6__.isKey)(event, \"Enter\")) {\n            if (interaction !== \"none\") {\n                event.preventDefault();\n                selectCurrentEmoji();\n            }\n        }\n    }, [\n        interaction,\n        moveSelection,\n        selectCurrentEmoji\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        onSearch(value ? String(value) : defaultValue ? String(defaultValue) : \"\");\n    }, []);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        type: \"search\",\n        value,\n        defaultValue,\n        onChange: handleChange,\n        onKeyDown: handleKeyDown,\n        ...props,\n        ref: forwardedRef\n    });\n}, \"RcHoLWSsfszCOV/9d6mF2rg0UrU=\", false, function() {\n    return [\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker\n    ];\n})), \"RcHoLWSsfszCOV/9d6mF2rg0UrU=\", false, function() {\n    return [\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker\n    ];\n});\n_c2 = EmojiPickerSearch;\nconst defaultContentComponents = {\n    CategoryHeader: (param)=>{\n        let { category, ...props } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        }, category);\n    },\n    Row: (param)=>{\n        let { children, attributes, ...props } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        }, children);\n    },\n    Emoji: (param)=>{\n        let { emoji, ...props } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n            ...props\n        }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(_internal_Emoji_mjs__WEBPACK_IMPORTED_MODULE_7__.Emoji, {\n            emoji\n        }));\n    },\n    Loading: (props)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        }),\n    Empty: (props)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        }),\n    Grid: (props)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        }),\n    Error: (param)=>{\n        let { error, ...props } = param;\n        return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n            ...props\n        });\n    }\n};\nconst placeholderRowAttributes = {\n    rowIndex: -1,\n    categoryRowIndex: -1,\n    categoryRowsCount: 0\n};\nconst VirtuosoScroller = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c3 = (param, forwardedRef)=>{\n    let { children, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ...props,\n        tabIndex: -1,\n        \"data-test-id\": void 0,\n        ref: forwardedRef\n    }, children);\n});\n_c4 = VirtuosoScroller;\nconst VirtuosoTopList = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c5 = (param, forwardedRef)=>{\n    let { children, ...props } = param;\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        ...props,\n        \"data-test-id\": void 0,\n        ref: forwardedRef\n    }, children);\n});\n_c6 = VirtuosoTopList;\nconst EmojiPickerContent = /*#__PURE__*/ _s2((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c7 = _s2((param, forwardedRef)=>{\n    let { components, asChild, ...props } = param;\n    _s2();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_5__.Slot : \"div\";\n    const virtuosoRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const { data, error, isLoading, columns, onEmojiSelect, selectedColumnIndex, selectedRowIndex, setPointerSelection, interaction, setInteraction } = (0,_contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker)();\n    const selectedEmoji = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>{\n        var _data_rows_selectedRowIndex;\n        return data === null || data === void 0 ? void 0 : (_data_rows_selectedRowIndex = data.rows[selectedRowIndex]) === null || _data_rows_selectedRowIndex === void 0 ? void 0 : _data_rows_selectedRowIndex[selectedColumnIndex];\n    }, [\n        data === null || data === void 0 ? void 0 : data.rows,\n        selectedColumnIndex,\n        selectedRowIndex\n    ]);\n    const { Loading, Empty, Error, CategoryHeader, Grid, Row, Emoji } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>({\n            ...defaultContentComponents,\n            ...components\n        }), [\n        components\n    ]);\n    const VirtuosoList = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>/*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)((param, forwardedRef2)=>{\n            let { children, ...props2 } = param;\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n                role: \"grid\",\n                \"aria-colcount\": columns,\n                ...props2,\n                \"data-test-id\": void 0,\n                ref: forwardedRef2\n            }, children);\n        }), [\n        columns\n    ]);\n    const placeholderColumns = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>Array(columns).fill(\"\\uD83C\\uDF2B\"), [\n        columns\n    ]);\n    const preventDefault = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((event)=>{\n        event.preventDefault();\n    }, []);\n    const handleEmojiPointerLeave = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (interaction === \"pointer\") {\n            setInteraction(\"none\");\n        }\n    }, [\n        interaction,\n        setInteraction\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (interaction === \"keyboard\") {\n            var _virtuosoRef_current;\n            (_virtuosoRef_current = virtuosoRef.current) === null || _virtuosoRef_current === void 0 ? void 0 : _virtuosoRef_current.scrollIntoView({\n                index: selectedRowIndex,\n                behavior: \"auto\"\n            });\n        }\n    }, [\n        interaction,\n        selectedRowIndex\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        ...props,\n        ref: forwardedRef\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        style: {\n            visibility: \"hidden\",\n            height: 0\n        }\n    }, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Row, {\n        attributes: placeholderRowAttributes\n    }, placeholderColumns.map((placeholder, index)=>/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Emoji, {\n            emoji: placeholder,\n            key: index\n        })))), isLoading ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Loading, null) : error ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Error, {\n        error\n    }) : data.count === 0 ? /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Empty, null) : /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Grid, null, /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_virtuoso__WEBPACK_IMPORTED_MODULE_8__.GroupedVirtuoso, {\n        ref: virtuosoRef,\n        components: {\n            Scroller: VirtuosoScroller,\n            List: VirtuosoList,\n            TopItemList: VirtuosoTopList\n        },\n        groupCounts: data.categoriesRowCounts,\n        groupContent: (groupIndex)=>{\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CategoryHeader, {\n                category: data.categories[groupIndex]\n            });\n        },\n        itemContent: (rowIndex, groupIndex)=>{\n            const categoryRowIndex = data.categoriesRowIndices[groupIndex].indexOf(rowIndex);\n            const categoryRowsCount = data.categoriesRowCounts[groupIndex];\n            return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Row, {\n                attributes: {\n                    rowIndex,\n                    categoryRowIndex,\n                    categoryRowsCount\n                }\n            }, data.rows[rowIndex].map((emoji, columnIndex)=>{\n                const isSelected = interaction !== \"none\" && selectedColumnIndex === columnIndex && selectedRowIndex === rowIndex;\n                return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Emoji, {\n                    key: emoji.emoji,\n                    role: \"gridcell\",\n                    \"aria-colindex\": columnIndex,\n                    \"aria-selected\": isSelected || void 0,\n                    \"data-selected\": isSelected || void 0,\n                    onMouseDown: preventDefault,\n                    tabIndex: -1,\n                    onPointerEnter: ()=>{\n                        setPointerSelection(columnIndex, rowIndex);\n                    },\n                    onPointerLeave: handleEmojiPointerLeave,\n                    onClick: (event)=>{\n                        onEmojiSelect === null || onEmojiSelect === void 0 ? void 0 : onEmojiSelect(emoji.emoji);\n                        event.stopPropagation();\n                    },\n                    emoji: emoji.emoji\n                });\n            }));\n        }\n    })), selectedEmoji && interaction !== \"none\" && /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        \"aria-live\": \"polite\",\n        style: _utils_visually_hidden_mjs__WEBPACK_IMPORTED_MODULE_9__.visuallyHidden\n    }, selectedEmoji.name));\n}, \"K7vDtYi6B2lu6U34lL5UXGFo4fU=\", false, function() {\n    return [\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker\n    ];\n})), \"K7vDtYi6B2lu6U34lL5UXGFo4fU=\", false, function() {\n    return [\n        _contexts_mjs__WEBPACK_IMPORTED_MODULE_4__.useEmojiPicker\n    ];\n});\n_c8 = EmojiPickerContent;\nif (true) {\n    EmojiPickerRoot.displayName = EMOJIPICKER_ROOT_NAME;\n    EmojiPickerContent.displayName = EMOJIPICKER_CONTENT_NAME;\n    EmojiPickerSearch.displayName = EMOJIPICKER_SEARCH_NAME;\n}\n //# sourceMappingURL=index.mjs.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n$RefreshReg$(_c, \"EmojiPickerRoot\");\n$RefreshReg$(_c1, \"EmojiPickerSearch$forwardRef\");\n$RefreshReg$(_c2, \"EmojiPickerSearch\");\n$RefreshReg$(_c3, \"VirtuosoScroller$forwardRef\");\n$RefreshReg$(_c4, \"VirtuosoScroller\");\n$RefreshReg$(_c5, \"VirtuosoTopList$forwardRef\");\n$RefreshReg$(_c6, \"VirtuosoTopList\");\n$RefreshReg$(_c7, \"EmojiPickerContent$forwardRef\");\n$RefreshReg$(_c8, \"EmojiPickerContent\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvRW1vamlQaWNrZXIvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQzRDO0FBQzBEO0FBQ3JEO0FBQ0Y7QUFDaUQ7QUFDakM7QUFDRTtBQUNuQjtBQUNzQjtBQUNjO0FBRWxGLE1BQU1vQixrQkFBa0I7QUFDeEIsTUFBTUMsaUJBQWlCO0FBQ3ZCLE1BQU1DLDBCQUEwQjtBQUNoQyxNQUFNQyx3QkFBd0I7QUFDOUIsTUFBTUMsMkJBQTJCO0FBQ2pDLE1BQU1DLDBCQUEwQjtBQUNoQyxTQUFTQyxnQkFBZ0IsS0FLeEI7UUFMd0IsRUFDdkJDLFVBQVVQLGVBQWUsRUFDekJRLFNBQVNQLGNBQWMsRUFDdkJRLGFBQWEsRUFDYkMsUUFBUSxFQUNULEdBTHdCOztJQU12QixNQUFNQyxZQUFZMUIsNkNBQU1BO0lBQ3hCLE1BQU0yQixTQUFTM0IsNkNBQU1BLENBQUM7SUFDdEIsTUFBTSxHQUFHNEIsc0JBQXNCLEdBQUdyQix3RUFBYUE7SUFDL0MsTUFBTSxDQUFDc0IsTUFBTUMsUUFBUSxHQUFHNUIsK0NBQVFBO0lBQ2hDLE1BQU0sQ0FBQzZCLE9BQU9DLFNBQVMsR0FBRzlCLCtDQUFRQTtJQUNsQyxNQUFNLENBQUMrQixxQkFBcUJDLHVCQUF1QixHQUFHaEMsK0NBQVFBLENBQUM7SUFDL0QsTUFBTSxDQUFDaUMsa0JBQWtCQyxvQkFBb0IsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQ3pELE1BQU0sQ0FBQ21DLGFBQWFDLGVBQWUsR0FBR3BDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU1xQyxxQkFBcUJ6QyxrREFBV0EsQ0FBQztRQUNyQyxJQUFJMEIsZUFBZTtnQkFDSEs7WUFBZCxNQUFNVyxRQUFRWCxpQkFBQUEsNEJBQUFBLDhCQUFBQSxLQUFNWSxJQUFJLENBQUNOLGlCQUFpQixjQUE1Qk4sa0RBQUFBLDJCQUE4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RixrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvcHJpbWl0aXZlcy9FbW9qaVBpY2tlci9pbmRleC5tanM/OWRhNCJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXNsb3QnO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYsIHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiwgdXNlTWVtbywgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBHcm91cGVkVmlydHVvc28gfSBmcm9tICdyZWFjdC12aXJ0dW9zbyc7XG5pbXBvcnQgeyBpc0tleSB9IGZyb20gJy4uLy4uL3V0aWxzL2lzLWtleS5tanMnO1xuaW1wb3J0IHsgcmVxdWVzdElkbGVDYWxsYmFjaywgY2FuY2VsSWRsZUNhbGxiYWNrIH0gZnJvbSAnLi4vLi4vdXRpbHMvcmVxdWVzdC1pZGxlLWNhbGxiYWNrLm1qcyc7XG5pbXBvcnQgeyB1c2VUcmFuc2l0aW9uIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXNlLXRyYW5zaXRpb24ubWpzJztcbmltcG9ydCB7IHZpc3VhbGx5SGlkZGVuIH0gZnJvbSAnLi4vLi4vdXRpbHMvdmlzdWFsbHktaGlkZGVuLm1qcyc7XG5pbXBvcnQgeyBFbW9qaSB9IGZyb20gJy4uL2ludGVybmFsL0Vtb2ppLm1qcyc7XG5pbXBvcnQgeyB1c2VFbW9qaVBpY2tlciwgRW1vamlQaWNrZXJDb250ZXh0IH0gZnJvbSAnLi9jb250ZXh0cy5tanMnO1xuaW1wb3J0IHsgZmlsdGVyRW1vamlzLCBnZW5lcmF0ZUVtb2ppUGlja2VyRGF0YSwgZ2V0RW1vamlEYXRhIH0gZnJvbSAnLi91dGlscy5tanMnO1xuXG5jb25zdCBERUZBVUxUX0NPTFVNTlMgPSAxMDtcbmNvbnN0IERFRkFVTFRfTE9DQUxFID0gXCJlblwiO1xuY29uc3QgTE9BRElOR19NSU5JTVVNX1RJTUVPVVQgPSAxMDA7XG5jb25zdCBFTU9KSVBJQ0tFUl9ST09UX05BTUUgPSBcIkVtb2ppUGlja2VyUm9vdFwiO1xuY29uc3QgRU1PSklQSUNLRVJfQ09OVEVOVF9OQU1FID0gXCJFbW9qaVBpY2tlckNvbnRlbnRcIjtcbmNvbnN0IEVNT0pJUElDS0VSX1NFQVJDSF9OQU1FID0gXCJFbW9qaVBpY2tlclNlYXJjaFwiO1xuZnVuY3Rpb24gRW1vamlQaWNrZXJSb290KHtcbiAgY29sdW1ucyA9IERFRkFVTFRfQ09MVU1OUyxcbiAgbG9jYWxlID0gREVGQVVMVF9MT0NBTEUsXG4gIG9uRW1vamlTZWxlY3QsXG4gIGNoaWxkcmVuXG59KSB7XG4gIGNvbnN0IGVtb2ppRGF0YSA9IHVzZVJlZigpO1xuICBjb25zdCBzZWFyY2ggPSB1c2VSZWYoXCJcIik7XG4gIGNvbnN0IFssIHN0YXJ0RW1vamlzVHJhbnNpdGlvbl0gPSB1c2VUcmFuc2l0aW9uKCk7XG4gIGNvbnN0IFtkYXRhLCBzZXREYXRhXSA9IHVzZVN0YXRlKCk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoKTtcbiAgY29uc3QgW3NlbGVjdGVkQ29sdW1uSW5kZXgsIHNldFNlbGVjdGVkQ29sdW1uSW5kZXhdID0gdXNlU3RhdGUoMCk7XG4gIGNvbnN0IFtzZWxlY3RlZFJvd0luZGV4LCBzZXRTZWxlY3RlZFJvd0luZGV4XSA9IHVzZVN0YXRlKDApO1xuICBjb25zdCBbaW50ZXJhY3Rpb24sIHNldEludGVyYWN0aW9uXSA9IHVzZVN0YXRlKFwibm9uZVwiKTtcbiAgY29uc3Qgc2VsZWN0Q3VycmVudEVtb2ppID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmIChvbkVtb2ppU2VsZWN0KSB7XG4gICAgICBjb25zdCBlbW9qaSA9IGRhdGE/LnJvd3Nbc2VsZWN0ZWRSb3dJbmRleF0/LltzZWxlY3RlZENvbHVtbkluZGV4XTtcbiAgICAgIGlmIChlbW9qaSkge1xuICAgICAgICBvbkVtb2ppU2VsZWN0KGVtb2ppLmVtb2ppKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIFtkYXRhPy5yb3dzLCBvbkVtb2ppU2VsZWN0LCBzZWxlY3RlZENvbHVtbkluZGV4LCBzZWxlY3RlZFJvd0luZGV4XSk7XG4gIGNvbnN0IHJlc2V0U2VsZWN0aW9uID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgoMCk7XG4gICAgc2V0U2VsZWN0ZWRSb3dJbmRleCgwKTtcbiAgfSwgW10pO1xuICBjb25zdCBzZXRQb2ludGVyU2VsZWN0aW9uID0gdXNlQ2FsbGJhY2soXG4gICAgKGNvbHVtbkluZGV4LCByb3dJbmRleCkgPT4ge1xuICAgICAgc2V0SW50ZXJhY3Rpb24oXCJwb2ludGVyXCIpO1xuICAgICAgc2V0U2VsZWN0ZWRDb2x1bW5JbmRleChjb2x1bW5JbmRleCk7XG4gICAgICBzZXRTZWxlY3RlZFJvd0luZGV4KHJvd0luZGV4KTtcbiAgICB9LFxuICAgIFtdXG4gICk7XG4gIGNvbnN0IG1vdmVTZWxlY3Rpb24gPSB1c2VDYWxsYmFjayhcbiAgICAoZGlyZWN0aW9uLCBldmVudCkgPT4ge1xuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24gPT09IFwibm9uZVwiKSB7XG4gICAgICAgIHNldEludGVyYWN0aW9uKFwia2V5Ym9hcmRcIik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHNldEludGVyYWN0aW9uKFwia2V5Ym9hcmRcIik7XG4gICAgICBzd2l0Y2ggKGRpcmVjdGlvbikge1xuICAgICAgICBjYXNlIFwibGVmdFwiOiB7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkQ29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm93SW5kZXggPSBzZWxlY3RlZFJvd0luZGV4IC0gMTtcbiAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm93ID0gZGF0YS5yb3dzW3ByZXZpb3VzUm93SW5kZXhdO1xuICAgICAgICAgICAgaWYgKHByZXZpb3VzUm93KSB7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkUm93SW5kZXgocHJldmlvdXNSb3dJbmRleCk7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgocHJldmlvdXNSb3cubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgoc2VsZWN0ZWRDb2x1bW5JbmRleCAtIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwicmlnaHRcIjoge1xuICAgICAgICAgIGNvbnN0IGN1cnJlbnRSb3cgPSBkYXRhLnJvd3Nbc2VsZWN0ZWRSb3dJbmRleF07XG4gICAgICAgICAgaWYgKHNlbGVjdGVkQ29sdW1uSW5kZXggPT09IGN1cnJlbnRSb3cubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFJvd0luZGV4ID0gc2VsZWN0ZWRSb3dJbmRleCArIDE7XG4gICAgICAgICAgICBjb25zdCBuZXh0Um93ID0gZGF0YS5yb3dzW25leHRSb3dJbmRleF07XG4gICAgICAgICAgICBpZiAobmV4dFJvdykge1xuICAgICAgICAgICAgICBzZXRTZWxlY3RlZFJvd0luZGV4KG5leHRSb3dJbmRleCk7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgoMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgoc2VsZWN0ZWRDb2x1bW5JbmRleCArIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidXBcIjoge1xuICAgICAgICAgIGNvbnN0IHByZXZpb3VzUm93ID0gZGF0YS5yb3dzW3NlbGVjdGVkUm93SW5kZXggLSAxXTtcbiAgICAgICAgICBpZiAocHJldmlvdXNSb3cpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkUm93SW5kZXgoc2VsZWN0ZWRSb3dJbmRleCAtIDEpO1xuICAgICAgICAgICAgaWYgKCFwcmV2aW91c1Jvd1tzZWxlY3RlZENvbHVtbkluZGV4XSkge1xuICAgICAgICAgICAgICBzZXRTZWxlY3RlZENvbHVtbkluZGV4KHByZXZpb3VzUm93Lmxlbmd0aCAtIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZG93blwiOiB7XG4gICAgICAgICAgY29uc3QgbmV4dFJvdyA9IGRhdGEucm93c1tzZWxlY3RlZFJvd0luZGV4ICsgMV07XG4gICAgICAgICAgaWYgKG5leHRSb3cpIHtcbiAgICAgICAgICAgIHNldFNlbGVjdGVkUm93SW5kZXgoc2VsZWN0ZWRSb3dJbmRleCArIDEpO1xuICAgICAgICAgICAgaWYgKCFuZXh0Um93W3NlbGVjdGVkQ29sdW1uSW5kZXhdKSB7XG4gICAgICAgICAgICAgIHNldFNlbGVjdGVkQ29sdW1uSW5kZXgobmV4dFJvdy5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtkYXRhLCBpbnRlcmFjdGlvbiwgc2VsZWN0ZWRDb2x1bW5JbmRleCwgc2VsZWN0ZWRSb3dJbmRleF1cbiAgKTtcbiAgY29uc3QgdXBkYXRlRW1vamlzID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIGlmICghZW1vamlEYXRhLmN1cnJlbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3RhcnRFbW9qaXNUcmFuc2l0aW9uKCgpID0+IHtcbiAgICAgIHNldERhdGEoKCkgPT4ge1xuICAgICAgICBpZiAoIWVtb2ppRGF0YS5jdXJyZW50KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpbHRlcmVkRW1vamlzID0gZmlsdGVyRW1vamlzKFxuICAgICAgICAgIGVtb2ppRGF0YS5jdXJyZW50LmVtb2ppcyxcbiAgICAgICAgICBzZWFyY2guY3VycmVudFxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gZ2VuZXJhdGVFbW9qaVBpY2tlckRhdGEoXG4gICAgICAgICAgZmlsdGVyZWRFbW9qaXMsXG4gICAgICAgICAgZW1vamlEYXRhLmN1cnJlbnQuY2F0ZWdvcmllcyxcbiAgICAgICAgICBjb2x1bW5zXG4gICAgICAgICk7XG4gICAgICB9KTtcbiAgICAgIHJlc2V0U2VsZWN0aW9uKCk7XG4gICAgfSk7XG4gIH0sIFtjb2x1bW5zLCByZXNldFNlbGVjdGlvbl0pO1xuICBjb25zdCBoYW5kbGVTZWFyY2ggPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHNlYXJjaC5jdXJyZW50ID0gdmFsdWU7XG4gICAgICB1cGRhdGVFbW9qaXMoKTtcbiAgICB9LFxuICAgIFt1cGRhdGVFbW9qaXNdXG4gICk7XG4gIGNvbnN0IGluaXRpYWxpemVFbW9qaURhdGEgPSB1c2VDYWxsYmFjayhcbiAgICBhc3luYyAobG9jYWxlMikgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZW1vamlEYXRhLmN1cnJlbnQgPSBhd2FpdCBnZXRFbW9qaURhdGEobG9jYWxlMik7XG4gICAgICAgIHVwZGF0ZUVtb2ppcygpO1xuICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgIHNldEVycm9yKGVycm9yMik7XG4gICAgICB9XG4gICAgfSxcbiAgICBbdXBkYXRlRW1vamlzXVxuICApO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGxldCBpZGxlQ2FsbGJhY2tJZDtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIGlkbGVDYWxsYmFja0lkID0gcmVxdWVzdElkbGVDYWxsYmFjaygoKSA9PiB7XG4gICAgICAgIGluaXRpYWxpemVFbW9qaURhdGEobG9jYWxlKTtcbiAgICAgIH0pO1xuICAgIH0sIExPQURJTkdfTUlOSU1VTV9USU1FT1VUKTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICBjYW5jZWxJZGxlQ2FsbGJhY2soaWRsZUNhbGxiYWNrSWQpO1xuICAgIH07XG4gIH0sIFtsb2NhbGVdKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoaW50ZXJhY3Rpb24gPT09IFwibm9uZVwiKSB7XG4gICAgICByZXNldFNlbGVjdGlvbigpO1xuICAgIH1cbiAgfSwgW2ludGVyYWN0aW9uXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChFbW9qaVBpY2tlckNvbnRleHQuUHJvdmlkZXIsIHtcbiAgICB2YWx1ZToge1xuICAgICAgZGF0YSxcbiAgICAgIGVycm9yLFxuICAgICAgaXNMb2FkaW5nOiAhZGF0YSAmJiAhZXJyb3IsXG4gICAgICBjb2x1bW5zLFxuICAgICAgb25TZWFyY2g6IGhhbmRsZVNlYXJjaCxcbiAgICAgIG9uRW1vamlTZWxlY3QsXG4gICAgICBzZWxlY3RDdXJyZW50RW1vamksXG4gICAgICBzZWxlY3RlZFJvd0luZGV4LFxuICAgICAgc2VsZWN0ZWRDb2x1bW5JbmRleCxcbiAgICAgIG1vdmVTZWxlY3Rpb24sXG4gICAgICBzZXRQb2ludGVyU2VsZWN0aW9uLFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBzZXRJbnRlcmFjdGlvblxuICAgIH1cbiAgfSwgY2hpbGRyZW4pO1xufVxuY29uc3QgRW1vamlQaWNrZXJTZWFyY2ggPSBmb3J3YXJkUmVmKFxuICAoeyBhc0NoaWxkLCB2YWx1ZSwgZGVmYXVsdFZhbHVlLCBvbkNoYW5nZSwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcImlucHV0XCI7XG4gICAgY29uc3Qge1xuICAgICAgb25TZWFyY2gsXG4gICAgICBzZWxlY3RDdXJyZW50RW1vamksXG4gICAgICBtb3ZlU2VsZWN0aW9uLFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBzZXRJbnRlcmFjdGlvblxuICAgIH0gPSB1c2VFbW9qaVBpY2tlcigpO1xuICAgIGNvbnN0IGhhbmRsZUNoYW5nZSA9IHVzZUNhbGxiYWNrKFxuICAgICAgKGV2ZW50KSA9PiB7XG4gICAgICAgIG9uQ2hhbmdlPy4oZXZlbnQpO1xuICAgICAgICBpZiAoZXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWUyID0gZXZlbnQudGFyZ2V0LnZhbHVlO1xuICAgICAgICBzZXRJbnRlcmFjdGlvbih2YWx1ZTIgPyBcImtleWJvYXJkXCIgOiBcIm5vbmVcIik7XG4gICAgICAgIG9uU2VhcmNoKHZhbHVlMik7XG4gICAgICB9LFxuICAgICAgW29uQ2hhbmdlLCBvblNlYXJjaCwgc2V0SW50ZXJhY3Rpb25dXG4gICAgKTtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gdXNlQ2FsbGJhY2soXG4gICAgICAoZXZlbnQpID0+IHtcbiAgICAgICAgaWYgKGV2ZW50LmlzRGVmYXVsdFByZXZlbnRlZCgpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0tleShldmVudCwgXCJBcnJvd0xlZnRcIikpIHtcbiAgICAgICAgICBtb3ZlU2VsZWN0aW9uKFwibGVmdFwiLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNLZXkoZXZlbnQsIFwiQXJyb3dSaWdodFwiKSkge1xuICAgICAgICAgIG1vdmVTZWxlY3Rpb24oXCJyaWdodFwiLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNLZXkoZXZlbnQsIFwiQXJyb3dVcFwiKSkge1xuICAgICAgICAgIG1vdmVTZWxlY3Rpb24oXCJ1cFwiLCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNLZXkoZXZlbnQsIFwiQXJyb3dEb3duXCIpKSB7XG4gICAgICAgICAgbW92ZVNlbGVjdGlvbihcImRvd25cIiwgZXZlbnQpO1xuICAgICAgICB9IGVsc2UgaWYgKGlzS2V5KGV2ZW50LCBcIkVudGVyXCIpKSB7XG4gICAgICAgICAgaWYgKGludGVyYWN0aW9uICE9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHNlbGVjdEN1cnJlbnRFbW9qaSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFtpbnRlcmFjdGlvbiwgbW92ZVNlbGVjdGlvbiwgc2VsZWN0Q3VycmVudEVtb2ppXVxuICAgICk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgIG9uU2VhcmNoKFxuICAgICAgICB2YWx1ZSA/IFN0cmluZyh2YWx1ZSkgOiBkZWZhdWx0VmFsdWUgPyBTdHJpbmcoZGVmYXVsdFZhbHVlKSA6IFwiXCJcbiAgICAgICk7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgIHR5cGU6IFwic2VhcmNoXCIsXG4gICAgICB2YWx1ZSxcbiAgICAgIGRlZmF1bHRWYWx1ZSxcbiAgICAgIG9uQ2hhbmdlOiBoYW5kbGVDaGFuZ2UsXG4gICAgICBvbktleURvd246IGhhbmRsZUtleURvd24sXG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSk7XG4gIH1cbik7XG5jb25zdCBkZWZhdWx0Q29udGVudENvbXBvbmVudHMgPSB7XG4gIENhdGVnb3J5SGVhZGVyOiAoeyBjYXRlZ29yeSwgLi4ucHJvcHMgfSkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIC4uLnByb3BzXG4gIH0sIGNhdGVnb3J5KSxcbiAgUm93OiAoeyBjaGlsZHJlbiwgYXR0cmlidXRlcywgLi4ucHJvcHMgfSkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIC4uLnByb3BzXG4gIH0sIGNoaWxkcmVuKSxcbiAgRW1vamk6ICh7IGVtb2ppLCAuLi5wcm9wcyB9KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgLi4ucHJvcHNcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamksIHtcbiAgICBlbW9qaVxuICB9KSksXG4gIExvYWRpbmc6IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIC4uLnByb3BzXG4gIH0pLFxuICBFbXB0eTogKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgLi4ucHJvcHNcbiAgfSksXG4gIEdyaWQ6IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIC4uLnByb3BzXG4gIH0pLFxuICBFcnJvcjogKHsgZXJyb3IsIC4uLnByb3BzIH0pID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAuLi5wcm9wc1xuICB9KVxufTtcbmNvbnN0IHBsYWNlaG9sZGVyUm93QXR0cmlidXRlcyA9IHtcbiAgcm93SW5kZXg6IC0xLFxuICBjYXRlZ29yeVJvd0luZGV4OiAtMSxcbiAgY2F0ZWdvcnlSb3dzQ291bnQ6IDBcbn07XG5jb25zdCBWaXJ0dW9zb1Njcm9sbGVyID0gZm9yd2FyZFJlZihcbiAgKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIHRhYkluZGV4OiAtMSxcbiAgICAgIFwiZGF0YS10ZXN0LWlkXCI6IHZvaWQgMCxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG4pO1xuY29uc3QgVmlydHVvc29Ub3BMaXN0ID0gZm9yd2FyZFJlZihcbiAgKHsgY2hpbGRyZW4sIC4uLnByb3BzIH0sIGZvcndhcmRlZFJlZikgPT4ge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAuLi5wcm9wcyxcbiAgICAgIFwiZGF0YS10ZXN0LWlkXCI6IHZvaWQgMCxcbiAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSwgY2hpbGRyZW4pO1xuICB9XG4pO1xuY29uc3QgRW1vamlQaWNrZXJDb250ZW50ID0gZm9yd2FyZFJlZihcbiAgKHsgY29tcG9uZW50cywgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcImRpdlwiO1xuICAgIGNvbnN0IHZpcnR1b3NvUmVmID0gdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IHtcbiAgICAgIGRhdGEsXG4gICAgICBlcnJvcixcbiAgICAgIGlzTG9hZGluZyxcbiAgICAgIGNvbHVtbnMsXG4gICAgICBvbkVtb2ppU2VsZWN0LFxuICAgICAgc2VsZWN0ZWRDb2x1bW5JbmRleCxcbiAgICAgIHNlbGVjdGVkUm93SW5kZXgsXG4gICAgICBzZXRQb2ludGVyU2VsZWN0aW9uLFxuICAgICAgaW50ZXJhY3Rpb24sXG4gICAgICBzZXRJbnRlcmFjdGlvblxuICAgIH0gPSB1c2VFbW9qaVBpY2tlcigpO1xuICAgIGNvbnN0IHNlbGVjdGVkRW1vamkgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gZGF0YT8ucm93c1tzZWxlY3RlZFJvd0luZGV4XT8uW3NlbGVjdGVkQ29sdW1uSW5kZXhdLFxuICAgICAgW2RhdGE/LnJvd3MsIHNlbGVjdGVkQ29sdW1uSW5kZXgsIHNlbGVjdGVkUm93SW5kZXhdXG4gICAgKTtcbiAgICBjb25zdCB7IExvYWRpbmcsIEVtcHR5LCBFcnJvciwgQ2F0ZWdvcnlIZWFkZXIsIEdyaWQsIFJvdywgRW1vamkgfSA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiAoeyAuLi5kZWZhdWx0Q29udGVudENvbXBvbmVudHMsIC4uLmNvbXBvbmVudHMgfSksXG4gICAgICBbY29tcG9uZW50c11cbiAgICApO1xuICAgIGNvbnN0IFZpcnR1b3NvTGlzdCA9IHVzZU1lbW8oXG4gICAgICAoKSA9PiBmb3J3YXJkUmVmKFxuICAgICAgICAoeyBjaGlsZHJlbiwgLi4ucHJvcHMyIH0sIGZvcndhcmRlZFJlZjIpID0+IHtcbiAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgcm9sZTogXCJncmlkXCIsXG4gICAgICAgICAgICBcImFyaWEtY29sY291bnRcIjogY29sdW1ucyxcbiAgICAgICAgICAgIC4uLnByb3BzMixcbiAgICAgICAgICAgIFwiZGF0YS10ZXN0LWlkXCI6IHZvaWQgMCxcbiAgICAgICAgICAgIHJlZjogZm9yd2FyZGVkUmVmMlxuICAgICAgICAgIH0sIGNoaWxkcmVuKTtcbiAgICAgICAgfVxuICAgICAgKSxcbiAgICAgIFtjb2x1bW5zXVxuICAgICk7XG4gICAgY29uc3QgcGxhY2Vob2xkZXJDb2x1bW5zID0gdXNlTWVtbyhcbiAgICAgICgpID0+IEFycmF5KGNvbHVtbnMpLmZpbGwoXCJcXHV7MUYzMkJ9XFx1RkUwRlwiKSxcbiAgICAgIFtjb2x1bW5zXVxuICAgICk7XG4gICAgY29uc3QgcHJldmVudERlZmF1bHQgPSB1c2VDYWxsYmFjaygoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSwgW10pO1xuICAgIGNvbnN0IGhhbmRsZUVtb2ppUG9pbnRlckxlYXZlID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgICAgaWYgKGludGVyYWN0aW9uID09PSBcInBvaW50ZXJcIikge1xuICAgICAgICBzZXRJbnRlcmFjdGlvbihcIm5vbmVcIik7XG4gICAgICB9XG4gICAgfSwgW2ludGVyYWN0aW9uLCBzZXRJbnRlcmFjdGlvbl0pO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICBpZiAoaW50ZXJhY3Rpb24gPT09IFwia2V5Ym9hcmRcIikge1xuICAgICAgICB2aXJ0dW9zb1JlZi5jdXJyZW50Py5zY3JvbGxJbnRvVmlldyh7XG4gICAgICAgICAgaW5kZXg6IHNlbGVjdGVkUm93SW5kZXgsXG4gICAgICAgICAgYmVoYXZpb3I6IFwiYXV0b1wiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIFtpbnRlcmFjdGlvbiwgc2VsZWN0ZWRSb3dJbmRleF0pO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBzdHlsZToge1xuICAgICAgICB2aXNpYmlsaXR5OiBcImhpZGRlblwiLFxuICAgICAgICBoZWlnaHQ6IDBcbiAgICAgIH1cbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb3csIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHBsYWNlaG9sZGVyUm93QXR0cmlidXRlc1xuICAgIH0sIHBsYWNlaG9sZGVyQ29sdW1ucy5tYXAoKHBsYWNlaG9sZGVyLCBpbmRleCkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoRW1vamksIHtcbiAgICAgIGVtb2ppOiBwbGFjZWhvbGRlcixcbiAgICAgIGtleTogaW5kZXhcbiAgICB9KSkpKSwgaXNMb2FkaW5nID8gLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoTG9hZGluZywgbnVsbCkgOiBlcnJvciA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVycm9yLCB7XG4gICAgICBlcnJvclxuICAgIH0pIDogZGF0YS5jb3VudCA9PT0gMCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtcHR5LCBudWxsKSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEdyaWQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEdyb3VwZWRWaXJ0dW9zbywge1xuICAgICAgcmVmOiB2aXJ0dW9zb1JlZixcbiAgICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgU2Nyb2xsZXI6IFZpcnR1b3NvU2Nyb2xsZXIsXG4gICAgICAgIExpc3Q6IFZpcnR1b3NvTGlzdCxcbiAgICAgICAgVG9wSXRlbUxpc3Q6IFZpcnR1b3NvVG9wTGlzdFxuICAgICAgfSxcbiAgICAgIGdyb3VwQ291bnRzOiBkYXRhLmNhdGVnb3JpZXNSb3dDb3VudHMsXG4gICAgICBncm91cENvbnRlbnQ6IChncm91cEluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDYXRlZ29yeUhlYWRlciwge1xuICAgICAgICAgIGNhdGVnb3J5OiBkYXRhLmNhdGVnb3JpZXNbZ3JvdXBJbmRleF1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgaXRlbUNvbnRlbnQ6IChyb3dJbmRleCwgZ3JvdXBJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBjYXRlZ29yeVJvd0luZGV4ID0gZGF0YS5jYXRlZ29yaWVzUm93SW5kaWNlc1tncm91cEluZGV4XS5pbmRleE9mKHJvd0luZGV4KTtcbiAgICAgICAgY29uc3QgY2F0ZWdvcnlSb3dzQ291bnQgPSBkYXRhLmNhdGVnb3JpZXNSb3dDb3VudHNbZ3JvdXBJbmRleF07XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChSb3csIHtcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICByb3dJbmRleCxcbiAgICAgICAgICAgIGNhdGVnb3J5Um93SW5kZXgsXG4gICAgICAgICAgICBjYXRlZ29yeVJvd3NDb3VudFxuICAgICAgICAgIH1cbiAgICAgICAgfSwgZGF0YS5yb3dzW3Jvd0luZGV4XS5tYXAoKGVtb2ppLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSBpbnRlcmFjdGlvbiAhPT0gXCJub25lXCIgJiYgc2VsZWN0ZWRDb2x1bW5JbmRleCA9PT0gY29sdW1uSW5kZXggJiYgc2VsZWN0ZWRSb3dJbmRleCA9PT0gcm93SW5kZXg7XG4gICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KEVtb2ppLCB7XG4gICAgICAgICAgICBrZXk6IGVtb2ppLmVtb2ppLFxuICAgICAgICAgICAgcm9sZTogXCJncmlkY2VsbFwiLFxuICAgICAgICAgICAgXCJhcmlhLWNvbGluZGV4XCI6IGNvbHVtbkluZGV4LFxuICAgICAgICAgICAgXCJhcmlhLXNlbGVjdGVkXCI6IGlzU2VsZWN0ZWQgfHwgdm9pZCAwLFxuICAgICAgICAgICAgXCJkYXRhLXNlbGVjdGVkXCI6IGlzU2VsZWN0ZWQgfHwgdm9pZCAwLFxuICAgICAgICAgICAgb25Nb3VzZURvd246IHByZXZlbnREZWZhdWx0LFxuICAgICAgICAgICAgdGFiSW5kZXg6IC0xLFxuICAgICAgICAgICAgb25Qb2ludGVyRW50ZXI6ICgpID0+IHtcbiAgICAgICAgICAgICAgc2V0UG9pbnRlclNlbGVjdGlvbihjb2x1bW5JbmRleCwgcm93SW5kZXgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uUG9pbnRlckxlYXZlOiBoYW5kbGVFbW9qaVBvaW50ZXJMZWF2ZSxcbiAgICAgICAgICAgIG9uQ2xpY2s6IChldmVudCkgPT4ge1xuICAgICAgICAgICAgICBvbkVtb2ppU2VsZWN0Py4oZW1vamkuZW1vamkpO1xuICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbW9qaTogZW1vamkuZW1vamlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0pKSwgc2VsZWN0ZWRFbW9qaSAmJiBpbnRlcmFjdGlvbiAhPT0gXCJub25lXCIgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0X19kZWZhdWx0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgXCJhcmlhLWxpdmVcIjogXCJwb2xpdGVcIixcbiAgICAgIHN0eWxlOiB2aXN1YWxseUhpZGRlblxuICAgIH0sIHNlbGVjdGVkRW1vamkubmFtZSkpO1xuICB9XG4pO1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIikge1xuICBFbW9qaVBpY2tlclJvb3QuZGlzcGxheU5hbWUgPSBFTU9KSVBJQ0tFUl9ST09UX05BTUU7XG4gIEVtb2ppUGlja2VyQ29udGVudC5kaXNwbGF5TmFtZSA9IEVNT0pJUElDS0VSX0NPTlRFTlRfTkFNRTtcbiAgRW1vamlQaWNrZXJTZWFyY2guZGlzcGxheU5hbWUgPSBFTU9KSVBJQ0tFUl9TRUFSQ0hfTkFNRTtcbn1cblxuZXhwb3J0IHsgRW1vamlQaWNrZXJDb250ZW50IGFzIENvbnRlbnQsIEVtb2ppUGlja2VyUm9vdCBhcyBSb290LCBFbW9qaVBpY2tlclNlYXJjaCBhcyBTZWFyY2ggfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJTbG90IiwiUmVhY3RfX2RlZmF1bHQiLCJmb3J3YXJkUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJ1c2VNZW1vIiwidXNlU3RhdGUiLCJHcm91cGVkVmlydHVvc28iLCJpc0tleSIsInJlcXVlc3RJZGxlQ2FsbGJhY2siLCJjYW5jZWxJZGxlQ2FsbGJhY2siLCJ1c2VUcmFuc2l0aW9uIiwidmlzdWFsbHlIaWRkZW4iLCJFbW9qaSIsInVzZUVtb2ppUGlja2VyIiwiRW1vamlQaWNrZXJDb250ZXh0IiwiZmlsdGVyRW1vamlzIiwiZ2VuZXJhdGVFbW9qaVBpY2tlckRhdGEiLCJnZXRFbW9qaURhdGEiLCJERUZBVUxUX0NPTFVNTlMiLCJERUZBVUxUX0xPQ0FMRSIsIkxPQURJTkdfTUlOSU1VTV9USU1FT1VUIiwiRU1PSklQSUNLRVJfUk9PVF9OQU1FIiwiRU1PSklQSUNLRVJfQ09OVEVOVF9OQU1FIiwiRU1PSklQSUNLRVJfU0VBUkNIX05BTUUiLCJFbW9qaVBpY2tlclJvb3QiLCJjb2x1bW5zIiwibG9jYWxlIiwib25FbW9qaVNlbGVjdCIsImNoaWxkcmVuIiwiZW1vamlEYXRhIiwic2VhcmNoIiwic3RhcnRFbW9qaXNUcmFuc2l0aW9uIiwiZGF0YSIsInNldERhdGEiLCJlcnJvciIsInNldEVycm9yIiwic2VsZWN0ZWRDb2x1bW5JbmRleCIsInNldFNlbGVjdGVkQ29sdW1uSW5kZXgiLCJzZWxlY3RlZFJvd0luZGV4Iiwic2V0U2VsZWN0ZWRSb3dJbmRleCIsImludGVyYWN0aW9uIiwic2V0SW50ZXJhY3Rpb24iLCJzZWxlY3RDdXJyZW50RW1vamkiLCJlbW9qaSIsInJvd3MiLCJyZXNldFNlbGVjdGlvbiIsInNldFBvaW50ZXJTZWxlY3Rpb24iLCJjb2x1bW5JbmRleCIsInJvd0luZGV4IiwibW92ZVNlbGVjdGlvbiIsImRpcmVjdGlvbiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJwcmV2aW91c1Jvd0luZGV4IiwicHJldmlvdXNSb3ciLCJsZW5ndGgiLCJjdXJyZW50Um93IiwibmV4dFJvd0luZGV4IiwibmV4dFJvdyIsInVwZGF0ZUVtb2ppcyIsImN1cnJlbnQiLCJmaWx0ZXJlZEVtb2ppcyIsImVtb2ppcyIsImNhdGVnb3JpZXMiLCJoYW5kbGVTZWFyY2giLCJ2YWx1ZSIsImluaXRpYWxpemVFbW9qaURhdGEiLCJsb2NhbGUyIiwiZXJyb3IyIiwiaWRsZUNhbGxiYWNrSWQiLCJ0aW1lb3V0SWQiLCJzZXRUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwiaXNMb2FkaW5nIiwib25TZWFyY2giLCJFbW9qaVBpY2tlclNlYXJjaCIsImZvcndhcmRlZFJlZiIsImFzQ2hpbGQiLCJkZWZhdWx0VmFsdWUiLCJvbkNoYW5nZSIsInByb3BzIiwiQ29tcG9uZW50IiwiaGFuZGxlQ2hhbmdlIiwiaXNEZWZhdWx0UHJldmVudGVkIiwidmFsdWUyIiwidGFyZ2V0IiwiaGFuZGxlS2V5RG93biIsIlN0cmluZyIsInR5cGUiLCJvbktleURvd24iLCJyZWYiLCJkZWZhdWx0Q29udGVudENvbXBvbmVudHMiLCJDYXRlZ29yeUhlYWRlciIsImNhdGVnb3J5IiwiUm93IiwiYXR0cmlidXRlcyIsIkxvYWRpbmciLCJFbXB0eSIsIkdyaWQiLCJFcnJvciIsInBsYWNlaG9sZGVyUm93QXR0cmlidXRlcyIsImNhdGVnb3J5Um93SW5kZXgiLCJjYXRlZ29yeVJvd3NDb3VudCIsIlZpcnR1b3NvU2Nyb2xsZXIiLCJ0YWJJbmRleCIsIlZpcnR1b3NvVG9wTGlzdCIsIkVtb2ppUGlja2VyQ29udGVudCIsImNvbXBvbmVudHMiLCJ2aXJ0dW9zb1JlZiIsInNlbGVjdGVkRW1vamkiLCJWaXJ0dW9zb0xpc3QiLCJmb3J3YXJkZWRSZWYyIiwicHJvcHMyIiwicm9sZSIsInBsYWNlaG9sZGVyQ29sdW1ucyIsIkFycmF5IiwiZmlsbCIsImhhbmRsZUVtb2ppUG9pbnRlckxlYXZlIiwic2Nyb2xsSW50b1ZpZXciLCJpbmRleCIsImJlaGF2aW9yIiwic3R5bGUiLCJ2aXNpYmlsaXR5IiwiaGVpZ2h0IiwibWFwIiwicGxhY2Vob2xkZXIiLCJrZXkiLCJjb3VudCIsIlNjcm9sbGVyIiwiTGlzdCIsIlRvcEl0ZW1MaXN0IiwiZ3JvdXBDb3VudHMiLCJjYXRlZ29yaWVzUm93Q291bnRzIiwiZ3JvdXBDb250ZW50IiwiZ3JvdXBJbmRleCIsIml0ZW1Db250ZW50IiwiY2F0ZWdvcmllc1Jvd0luZGljZXMiLCJpbmRleE9mIiwiaXNTZWxlY3RlZCIsIm9uTW91c2VEb3duIiwib25Qb2ludGVyRW50ZXIiLCJvblBvaW50ZXJMZWF2ZSIsIm9uQ2xpY2siLCJzdG9wUHJvcGFnYXRpb24iLCJuYW1lIiwicHJvY2VzcyIsImRpc3BsYXlOYW1lIiwiQ29udGVudCIsIlJvb3QiLCJTZWFyY2giXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/utils.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/utils.mjs ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   filterEmojis: function() { return /* binding */ filterEmojis; },\n/* harmony export */   generateEmojiPickerData: function() { return /* binding */ generateEmojiPickerData; },\n/* harmony export */   getEmojiData: function() { return /* binding */ getEmojiData; }\n/* harmony export */ });\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n/* harmony import */ var _utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/capitalize.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs\");\n/* harmony import */ var _utils_chunk_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../utils/chunk.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/chunk.mjs\");\n\n\n\n\nconst EMOJIBASE_VERSION = \"15.3.0\";\nconst EMOJIBASE_CDN_URL = `https://cdn.jsdelivr.net/npm/emojibase-data@${EMOJIBASE_VERSION}`;\nconst EMOJIBASE_EMOJIS_URL = (locale) => `${EMOJIBASE_CDN_URL}/${locale}/data.json`;\nconst EMOJIBASE_MESSAGES_URL = (locale) => `${EMOJIBASE_CDN_URL}/${locale}/messages.json`;\nconst EMOJIBASE_LOCALES = [\n  \"bn\",\n  \"da\",\n  \"de\",\n  \"en\",\n  \"en-gb\",\n  \"es\",\n  \"es-mx\",\n  \"et\",\n  \"fi\",\n  \"fr\",\n  \"hi\",\n  \"hu\",\n  \"it\",\n  \"ja\",\n  \"ko\",\n  \"lt\",\n  \"ms\",\n  \"nb\",\n  \"nl\",\n  \"pl\",\n  \"pt\",\n  \"ru\",\n  \"sv\",\n  \"th\",\n  \"uk\",\n  \"zh\",\n  \"zh-hant\"\n];\nconst EMOJIBASE_DEFAULT_LOCALE = \"en\";\nconst CACHE_EMOJI_DATA_KEY = (locale) => `lb-emoji-data-${locale}`;\nconst CACHE_EMOJI_METADATA_KEY = (locale) => `lb-emoji-metadata-${locale}`;\nconst CACHE_EMOJI_SESSION_METADATA_KEY = \"lb-emoji-metadata\";\nconst EMOJI_DETECTION_CANVAS_WIDTH = 20;\nconst EMOJI_DETECTION_CANVAS_HEIGHT = 25;\nconst EMOJI_DETECTION_COUNTRY_FLAG = \"\\u{1F1EB}\\u{1F1F7}\";\nfunction generateRangeIndices(start, end) {\n  const range = [];\n  for (let i = start; i <= end; i++) {\n    range.push(i);\n  }\n  return range;\n}\nfunction getStorageItem(storage, key) {\n  const item = storage.getItem(key);\n  return item ? JSON.parse(item) : null;\n}\nfunction setStorageItem(storage, key, value) {\n  storage.setItem(key, JSON.stringify(value));\n}\nasync function fetchEtag(url) {\n  try {\n    const response = await fetch(url, { method: \"HEAD\" });\n    return response.headers.get(\"etag\");\n  } catch (error) {\n    return null;\n  }\n}\nfunction getEmojibaseSupportedLocale(locale) {\n  return EMOJIBASE_LOCALES.includes(locale) ? locale : EMOJIBASE_DEFAULT_LOCALE;\n}\nasync function fetchEmojibaseData(locale) {\n  const [{ emojis, emojisEtag }, { messages, messagesEtag }] = await Promise.all([\n    fetch(EMOJIBASE_EMOJIS_URL(locale)).then(async (response) => {\n      return {\n        emojis: await response.json(),\n        emojisEtag: response.headers.get(\"etag\")\n      };\n    }),\n    fetch(EMOJIBASE_MESSAGES_URL(locale)).then(async (response) => {\n      return {\n        messages: await response.json(),\n        messagesEtag: response.headers.get(\"etag\")\n      };\n    })\n  ]);\n  return {\n    emojis,\n    messages,\n    emojisEtag,\n    messagesEtag\n  };\n}\nasync function fetchEmojibaseEtags(locale) {\n  const [emojisEtag, messagesEtag] = await Promise.all([\n    fetchEtag(EMOJIBASE_EMOJIS_URL(locale)),\n    fetchEtag(EMOJIBASE_MESSAGES_URL(locale))\n  ]);\n  return {\n    emojisEtag,\n    messagesEtag\n  };\n}\nasync function fetchEmojiData(locale) {\n  const { emojis, emojisEtag, messages, messagesEtag } = await fetchEmojibaseData(locale);\n  const countryFlagsSubgroup = messages.subgroups.find(\n    (subgroup) => subgroup.key === \"subdivision-flag\"\n  );\n  const filteredGroups = messages.groups.filter(\n    (group) => group.key !== \"component\"\n  );\n  const filteredEmojis = emojis.filter((emoji) => {\n    return \"group\" in emoji;\n  });\n  const categories = filteredGroups.map((group) => ({\n    key: group.order,\n    name: (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_0__.capitalize)(group.message)\n  }));\n  const skinTones = messages.skinTones.map((skinTone) => ({\n    key: skinTone.key,\n    name: (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_0__.capitalize)(skinTone.message)\n  }));\n  const compactEmojis = filteredEmojis.map((emoji) => {\n    const compactEmoji = {\n      emoji: emoji.emoji,\n      category: emoji.group,\n      version: emoji.version,\n      name: (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_0__.capitalize)(emoji.label),\n      tags: emoji.tags\n    };\n    if (countryFlagsSubgroup && emoji.subgroup === countryFlagsSubgroup.order) {\n      compactEmoji.countryFlag = true;\n    }\n    return compactEmoji;\n  });\n  const emojiData = {\n    emojis: compactEmojis,\n    categories,\n    skinTones\n  };\n  setStorageItem(\n    localStorage,\n    CACHE_EMOJI_DATA_KEY(locale),\n    emojiData\n  );\n  setStorageItem(\n    localStorage,\n    CACHE_EMOJI_METADATA_KEY(locale),\n    {\n      emojisEtag,\n      messagesEtag\n    }\n  );\n  return emojiData;\n}\nfunction detectEmojiSupport(canvasContext, emoji) {\n  canvasContext.clearRect(\n    0,\n    0,\n    EMOJI_DETECTION_CANVAS_WIDTH * 2,\n    EMOJI_DETECTION_CANVAS_HEIGHT\n  );\n  canvasContext.fillStyle = \"#f00\";\n  canvasContext.fillText(emoji, 0, 22);\n  canvasContext.fillStyle = \"#00f\";\n  canvasContext.fillText(emoji, EMOJI_DETECTION_CANVAS_WIDTH, 22);\n  const pixels = canvasContext.getImageData(\n    0,\n    0,\n    EMOJI_DETECTION_CANVAS_WIDTH,\n    EMOJI_DETECTION_CANVAS_HEIGHT\n  ).data;\n  const pixelCount = pixels.length;\n  let i = 0;\n  for (; i < pixelCount && !pixels[i + 3]; i += 4)\n    ;\n  if (i >= pixelCount) {\n    return false;\n  }\n  const x = EMOJI_DETECTION_CANVAS_WIDTH + i / 4 % EMOJI_DETECTION_CANVAS_WIDTH;\n  const y = Math.floor(i / 4 / EMOJI_DETECTION_CANVAS_WIDTH);\n  const pixel = canvasContext.getImageData(x, y, 1, 1).data;\n  if (pixels[i] !== pixel[0] || pixels[i + 2] !== pixel[2]) {\n    return false;\n  }\n  if (canvasContext.measureText(emoji).width >= EMOJI_DETECTION_CANVAS_WIDTH) {\n    return false;\n  }\n  return true;\n}\nfunction getEmojiFontFamily() {\n  try {\n    const element = document.createElement(\"span\");\n    element.style.display = \"none\";\n    element.dataset.emoji = \"\";\n    document.body.appendChild(element);\n    const computedFontFamily = window.getComputedStyle(element).fontFamily;\n    document.body.removeChild(element);\n    return computedFontFamily;\n  } catch {\n    return _constants_mjs__WEBPACK_IMPORTED_MODULE_1__.EMOJI_FONT_FAMILY;\n  }\n}\nfunction getEmojiSessionMetadata(emojis) {\n  const versions = /* @__PURE__ */ new Map();\n  for (const emoji of emojis) {\n    if (!versions.has(emoji.version)) {\n      versions.set(emoji.version, emoji.emoji);\n    }\n  }\n  const descendingVersions = [...versions.keys()].sort((a, b) => b - a);\n  const canvasContext = document.createElement(\"canvas\").getContext(\"2d\", { willReadFrequently: true });\n  if (!canvasContext) {\n    return { emojiVersion: descendingVersions[0], countryFlags: true };\n  }\n  canvasContext.font = `${Math.floor(\n    EMOJI_DETECTION_CANVAS_HEIGHT / 2\n  )}px ${getEmojiFontFamily()}`;\n  canvasContext.textBaseline = \"top\";\n  canvasContext.canvas.width = EMOJI_DETECTION_CANVAS_WIDTH * 2;\n  canvasContext.canvas.height = EMOJI_DETECTION_CANVAS_HEIGHT;\n  const supportsCountryFlags = detectEmojiSupport(\n    canvasContext,\n    EMOJI_DETECTION_COUNTRY_FLAG\n  );\n  for (const version of descendingVersions) {\n    const emoji = versions.get(version);\n    const isSupported = detectEmojiSupport(canvasContext, emoji);\n    if (isSupported) {\n      return {\n        emojiVersion: version,\n        countryFlags: supportsCountryFlags\n      };\n    }\n  }\n  return {\n    emojiVersion: descendingVersions[0],\n    countryFlags: supportsCountryFlags\n  };\n}\nasync function getEmojiData(locale) {\n  const emojibaseLocale = getEmojibaseSupportedLocale(locale);\n  const sessionMetadata = getStorageItem(\n    sessionStorage,\n    CACHE_EMOJI_SESSION_METADATA_KEY\n  );\n  const cachedData = getStorageItem(\n    localStorage,\n    CACHE_EMOJI_DATA_KEY(emojibaseLocale)\n  );\n  let data;\n  if (cachedData) {\n    if (sessionMetadata) {\n      data = cachedData;\n    } else {\n      const { emojisEtag, messagesEtag } = await fetchEmojibaseEtags(emojibaseLocale);\n      const cachedMetadata = getStorageItem(\n        localStorage,\n        CACHE_EMOJI_METADATA_KEY(emojibaseLocale)\n      );\n      if (cachedMetadata && emojisEtag === cachedMetadata.emojisEtag && messagesEtag === cachedMetadata.messagesEtag) {\n        data = cachedData;\n      } else {\n        data = await fetchEmojiData(emojibaseLocale);\n      }\n    }\n  } else {\n    data = await fetchEmojiData(emojibaseLocale);\n  }\n  const newSessionMetadata = sessionMetadata ?? getEmojiSessionMetadata(data.emojis);\n  setStorageItem(\n    sessionStorage,\n    CACHE_EMOJI_SESSION_METADATA_KEY,\n    newSessionMetadata\n  );\n  const filteredEmojis = data.emojis.filter((emoji) => {\n    const isSupportedVersion = emoji.version <= newSessionMetadata.emojiVersion;\n    return emoji.countryFlag ? isSupportedVersion && newSessionMetadata.countryFlags : isSupportedVersion;\n  });\n  return {\n    emojis: filteredEmojis,\n    categories: data.categories,\n    skinTones: data.skinTones\n  };\n}\nfunction filterEmojis(emojis, search) {\n  if (!search) {\n    return emojis;\n  }\n  const searchText = search.toLowerCase().trim();\n  return emojis.filter(\n    (emoji) => emoji.name.toLowerCase().includes(searchText) || emoji.tags?.some((tag) => tag.toLowerCase().includes(searchText))\n  );\n}\nfunction generateEmojiPickerData(emojis, categories, columns) {\n  let currentIndex = 0;\n  const rows = [];\n  const indexedEmojis = emojis.map((emoji, index) => ({ ...emoji, index }));\n  const categoriesRowCounts = [];\n  const categoriesRowIndices = [];\n  const categoriesNames = [];\n  const categorizedEmojis = categories.map((category) => ({\n    ...category,\n    emojis: indexedEmojis.filter((emoji) => emoji.category === category.key)\n  })).filter((category) => category.emojis.length > 0);\n  for (const category of categorizedEmojis) {\n    const categoryRows = (0,_utils_chunk_mjs__WEBPACK_IMPORTED_MODULE_2__.chunk)(category.emojis, columns);\n    const nextIndex = currentIndex + categoryRows.length;\n    rows.push(...categoryRows);\n    categoriesNames.push(category.name);\n    categoriesRowCounts.push(categoryRows.length);\n    categoriesRowIndices.push(\n      generateRangeIndices(currentIndex, nextIndex - 1)\n    );\n    currentIndex = nextIndex;\n  }\n  return {\n    count: emojis.length,\n    rows,\n    categories: categoriesNames,\n    categoriesRowCounts,\n    categoriesRowIndices\n  };\n}\n\n\n//# sourceMappingURL=utils.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvRW1vamlQaWNrZXIvdXRpbHMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF3RDtBQUNBO0FBQ1Y7O0FBRTlDO0FBQ0EseUVBQXlFLGtCQUFrQjtBQUMzRiw0Q0FBNEMsa0JBQWtCLEdBQUcsT0FBTztBQUN4RSw4Q0FBOEMsa0JBQWtCLEdBQUcsT0FBTztBQUMxRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsT0FBTztBQUNqRSxrRUFBa0UsT0FBTztBQUN6RTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUMsTUFBTSxHQUFHLE1BQU07QUFDeEQ7QUFDQTtBQUNBLHNCQUFzQixVQUFVO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLGdCQUFnQjtBQUN4RDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0JBQW9CLElBQUksd0JBQXdCO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNkNBQTZDO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLFVBQVUsaUVBQVU7QUFDcEIsR0FBRztBQUNIO0FBQ0E7QUFDQSxVQUFVLGlFQUFVO0FBQ3BCLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxpRUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUyxrQ0FBa0M7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKLFdBQVcsNkRBQWlCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEVBQTRFLDBCQUEwQjtBQUN0RztBQUNBLGFBQWE7QUFDYjtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBLElBQUksS0FBSyxxQkFBcUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOLGNBQWMsMkJBQTJCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3REFBd0QsaUJBQWlCO0FBQ3pFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLHlCQUF5Qix1REFBSztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUUrRDtBQUMvRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9wcmltaXRpdmVzL0Vtb2ppUGlja2VyL3V0aWxzLm1qcz8zMTQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEVNT0pJX0ZPTlRfRkFNSUxZIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLm1qcyc7XG5pbXBvcnQgeyBjYXBpdGFsaXplIH0gZnJvbSAnLi4vLi4vdXRpbHMvY2FwaXRhbGl6ZS5tanMnO1xuaW1wb3J0IHsgY2h1bmsgfSBmcm9tICcuLi8uLi91dGlscy9jaHVuay5tanMnO1xuXG5jb25zdCBFTU9KSUJBU0VfVkVSU0lPTiA9IFwiMTUuMy4wXCI7XG5jb25zdCBFTU9KSUJBU0VfQ0ROX1VSTCA9IGBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL2Vtb2ppYmFzZS1kYXRhQCR7RU1PSklCQVNFX1ZFUlNJT059YDtcbmNvbnN0IEVNT0pJQkFTRV9FTU9KSVNfVVJMID0gKGxvY2FsZSkgPT4gYCR7RU1PSklCQVNFX0NETl9VUkx9LyR7bG9jYWxlfS9kYXRhLmpzb25gO1xuY29uc3QgRU1PSklCQVNFX01FU1NBR0VTX1VSTCA9IChsb2NhbGUpID0+IGAke0VNT0pJQkFTRV9DRE5fVVJMfS8ke2xvY2FsZX0vbWVzc2FnZXMuanNvbmA7XG5jb25zdCBFTU9KSUJBU0VfTE9DQUxFUyA9IFtcbiAgXCJiblwiLFxuICBcImRhXCIsXG4gIFwiZGVcIixcbiAgXCJlblwiLFxuICBcImVuLWdiXCIsXG4gIFwiZXNcIixcbiAgXCJlcy1teFwiLFxuICBcImV0XCIsXG4gIFwiZmlcIixcbiAgXCJmclwiLFxuICBcImhpXCIsXG4gIFwiaHVcIixcbiAgXCJpdFwiLFxuICBcImphXCIsXG4gIFwia29cIixcbiAgXCJsdFwiLFxuICBcIm1zXCIsXG4gIFwibmJcIixcbiAgXCJubFwiLFxuICBcInBsXCIsXG4gIFwicHRcIixcbiAgXCJydVwiLFxuICBcInN2XCIsXG4gIFwidGhcIixcbiAgXCJ1a1wiLFxuICBcInpoXCIsXG4gIFwiemgtaGFudFwiXG5dO1xuY29uc3QgRU1PSklCQVNFX0RFRkFVTFRfTE9DQUxFID0gXCJlblwiO1xuY29uc3QgQ0FDSEVfRU1PSklfREFUQV9LRVkgPSAobG9jYWxlKSA9PiBgbGItZW1vamktZGF0YS0ke2xvY2FsZX1gO1xuY29uc3QgQ0FDSEVfRU1PSklfTUVUQURBVEFfS0VZID0gKGxvY2FsZSkgPT4gYGxiLWVtb2ppLW1ldGFkYXRhLSR7bG9jYWxlfWA7XG5jb25zdCBDQUNIRV9FTU9KSV9TRVNTSU9OX01FVEFEQVRBX0tFWSA9IFwibGItZW1vamktbWV0YWRhdGFcIjtcbmNvbnN0IEVNT0pJX0RFVEVDVElPTl9DQU5WQVNfV0lEVEggPSAyMDtcbmNvbnN0IEVNT0pJX0RFVEVDVElPTl9DQU5WQVNfSEVJR0hUID0gMjU7XG5jb25zdCBFTU9KSV9ERVRFQ1RJT05fQ09VTlRSWV9GTEFHID0gXCJcXHV7MUYxRUJ9XFx1ezFGMUY3fVwiO1xuZnVuY3Rpb24gZ2VuZXJhdGVSYW5nZUluZGljZXMoc3RhcnQsIGVuZCkge1xuICBjb25zdCByYW5nZSA9IFtdO1xuICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICByYW5nZS5wdXNoKGkpO1xuICB9XG4gIHJldHVybiByYW5nZTtcbn1cbmZ1bmN0aW9uIGdldFN0b3JhZ2VJdGVtKHN0b3JhZ2UsIGtleSkge1xuICBjb25zdCBpdGVtID0gc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gIHJldHVybiBpdGVtID8gSlNPTi5wYXJzZShpdGVtKSA6IG51bGw7XG59XG5mdW5jdGlvbiBzZXRTdG9yYWdlSXRlbShzdG9yYWdlLCBrZXksIHZhbHVlKSB7XG4gIHN0b3JhZ2Uuc2V0SXRlbShrZXksIEpTT04uc3RyaW5naWZ5KHZhbHVlKSk7XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEV0YWcodXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHsgbWV0aG9kOiBcIkhFQURcIiB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJldGFnXCIpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5mdW5jdGlvbiBnZXRFbW9qaWJhc2VTdXBwb3J0ZWRMb2NhbGUobG9jYWxlKSB7XG4gIHJldHVybiBFTU9KSUJBU0VfTE9DQUxFUy5pbmNsdWRlcyhsb2NhbGUpID8gbG9jYWxlIDogRU1PSklCQVNFX0RFRkFVTFRfTE9DQUxFO1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hFbW9qaWJhc2VEYXRhKGxvY2FsZSkge1xuICBjb25zdCBbeyBlbW9qaXMsIGVtb2ppc0V0YWcgfSwgeyBtZXNzYWdlcywgbWVzc2FnZXNFdGFnIH1dID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgIGZldGNoKEVNT0pJQkFTRV9FTU9KSVNfVVJMKGxvY2FsZSkpLnRoZW4oYXN5bmMgKHJlc3BvbnNlKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBlbW9qaXM6IGF3YWl0IHJlc3BvbnNlLmpzb24oKSxcbiAgICAgICAgZW1vamlzRXRhZzogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJldGFnXCIpXG4gICAgICB9O1xuICAgIH0pLFxuICAgIGZldGNoKEVNT0pJQkFTRV9NRVNTQUdFU19VUkwobG9jYWxlKSkudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIG1lc3NhZ2VzOiBhd2FpdCByZXNwb25zZS5qc29uKCksXG4gICAgICAgIG1lc3NhZ2VzRXRhZzogcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJldGFnXCIpXG4gICAgICB9O1xuICAgIH0pXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGVtb2ppcyxcbiAgICBtZXNzYWdlcyxcbiAgICBlbW9qaXNFdGFnLFxuICAgIG1lc3NhZ2VzRXRhZ1xuICB9O1xufVxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hFbW9qaWJhc2VFdGFncyhsb2NhbGUpIHtcbiAgY29uc3QgW2Vtb2ppc0V0YWcsIG1lc3NhZ2VzRXRhZ10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgZmV0Y2hFdGFnKEVNT0pJQkFTRV9FTU9KSVNfVVJMKGxvY2FsZSkpLFxuICAgIGZldGNoRXRhZyhFTU9KSUJBU0VfTUVTU0FHRVNfVVJMKGxvY2FsZSkpXG4gIF0pO1xuICByZXR1cm4ge1xuICAgIGVtb2ppc0V0YWcsXG4gICAgbWVzc2FnZXNFdGFnXG4gIH07XG59XG5hc3luYyBmdW5jdGlvbiBmZXRjaEVtb2ppRGF0YShsb2NhbGUpIHtcbiAgY29uc3QgeyBlbW9qaXMsIGVtb2ppc0V0YWcsIG1lc3NhZ2VzLCBtZXNzYWdlc0V0YWcgfSA9IGF3YWl0IGZldGNoRW1vamliYXNlRGF0YShsb2NhbGUpO1xuICBjb25zdCBjb3VudHJ5RmxhZ3NTdWJncm91cCA9IG1lc3NhZ2VzLnN1Ymdyb3Vwcy5maW5kKFxuICAgIChzdWJncm91cCkgPT4gc3ViZ3JvdXAua2V5ID09PSBcInN1YmRpdmlzaW9uLWZsYWdcIlxuICApO1xuICBjb25zdCBmaWx0ZXJlZEdyb3VwcyA9IG1lc3NhZ2VzLmdyb3Vwcy5maWx0ZXIoXG4gICAgKGdyb3VwKSA9PiBncm91cC5rZXkgIT09IFwiY29tcG9uZW50XCJcbiAgKTtcbiAgY29uc3QgZmlsdGVyZWRFbW9qaXMgPSBlbW9qaXMuZmlsdGVyKChlbW9qaSkgPT4ge1xuICAgIHJldHVybiBcImdyb3VwXCIgaW4gZW1vamk7XG4gIH0pO1xuICBjb25zdCBjYXRlZ29yaWVzID0gZmlsdGVyZWRHcm91cHMubWFwKChncm91cCkgPT4gKHtcbiAgICBrZXk6IGdyb3VwLm9yZGVyLFxuICAgIG5hbWU6IGNhcGl0YWxpemUoZ3JvdXAubWVzc2FnZSlcbiAgfSkpO1xuICBjb25zdCBza2luVG9uZXMgPSBtZXNzYWdlcy5za2luVG9uZXMubWFwKChza2luVG9uZSkgPT4gKHtcbiAgICBrZXk6IHNraW5Ub25lLmtleSxcbiAgICBuYW1lOiBjYXBpdGFsaXplKHNraW5Ub25lLm1lc3NhZ2UpXG4gIH0pKTtcbiAgY29uc3QgY29tcGFjdEVtb2ppcyA9IGZpbHRlcmVkRW1vamlzLm1hcCgoZW1vamkpID0+IHtcbiAgICBjb25zdCBjb21wYWN0RW1vamkgPSB7XG4gICAgICBlbW9qaTogZW1vamkuZW1vamksXG4gICAgICBjYXRlZ29yeTogZW1vamkuZ3JvdXAsXG4gICAgICB2ZXJzaW9uOiBlbW9qaS52ZXJzaW9uLFxuICAgICAgbmFtZTogY2FwaXRhbGl6ZShlbW9qaS5sYWJlbCksXG4gICAgICB0YWdzOiBlbW9qaS50YWdzXG4gICAgfTtcbiAgICBpZiAoY291bnRyeUZsYWdzU3ViZ3JvdXAgJiYgZW1vamkuc3ViZ3JvdXAgPT09IGNvdW50cnlGbGFnc1N1Ymdyb3VwLm9yZGVyKSB7XG4gICAgICBjb21wYWN0RW1vamkuY291bnRyeUZsYWcgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gY29tcGFjdEVtb2ppO1xuICB9KTtcbiAgY29uc3QgZW1vamlEYXRhID0ge1xuICAgIGVtb2ppczogY29tcGFjdEVtb2ppcyxcbiAgICBjYXRlZ29yaWVzLFxuICAgIHNraW5Ub25lc1xuICB9O1xuICBzZXRTdG9yYWdlSXRlbShcbiAgICBsb2NhbFN0b3JhZ2UsXG4gICAgQ0FDSEVfRU1PSklfREFUQV9LRVkobG9jYWxlKSxcbiAgICBlbW9qaURhdGFcbiAgKTtcbiAgc2V0U3RvcmFnZUl0ZW0oXG4gICAgbG9jYWxTdG9yYWdlLFxuICAgIENBQ0hFX0VNT0pJX01FVEFEQVRBX0tFWShsb2NhbGUpLFxuICAgIHtcbiAgICAgIGVtb2ppc0V0YWcsXG4gICAgICBtZXNzYWdlc0V0YWdcbiAgICB9XG4gICk7XG4gIHJldHVybiBlbW9qaURhdGE7XG59XG5mdW5jdGlvbiBkZXRlY3RFbW9qaVN1cHBvcnQoY2FudmFzQ29udGV4dCwgZW1vamkpIHtcbiAgY2FudmFzQ29udGV4dC5jbGVhclJlY3QoXG4gICAgMCxcbiAgICAwLFxuICAgIEVNT0pJX0RFVEVDVElPTl9DQU5WQVNfV0lEVEggKiAyLFxuICAgIEVNT0pJX0RFVEVDVElPTl9DQU5WQVNfSEVJR0hUXG4gICk7XG4gIGNhbnZhc0NvbnRleHQuZmlsbFN0eWxlID0gXCIjZjAwXCI7XG4gIGNhbnZhc0NvbnRleHQuZmlsbFRleHQoZW1vamksIDAsIDIyKTtcbiAgY2FudmFzQ29udGV4dC5maWxsU3R5bGUgPSBcIiMwMGZcIjtcbiAgY2FudmFzQ29udGV4dC5maWxsVGV4dChlbW9qaSwgRU1PSklfREVURUNUSU9OX0NBTlZBU19XSURUSCwgMjIpO1xuICBjb25zdCBwaXhlbHMgPSBjYW52YXNDb250ZXh0LmdldEltYWdlRGF0YShcbiAgICAwLFxuICAgIDAsXG4gICAgRU1PSklfREVURUNUSU9OX0NBTlZBU19XSURUSCxcbiAgICBFTU9KSV9ERVRFQ1RJT05fQ0FOVkFTX0hFSUdIVFxuICApLmRhdGE7XG4gIGNvbnN0IHBpeGVsQ291bnQgPSBwaXhlbHMubGVuZ3RoO1xuICBsZXQgaSA9IDA7XG4gIGZvciAoOyBpIDwgcGl4ZWxDb3VudCAmJiAhcGl4ZWxzW2kgKyAzXTsgaSArPSA0KVxuICAgIDtcbiAgaWYgKGkgPj0gcGl4ZWxDb3VudCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB4ID0gRU1PSklfREVURUNUSU9OX0NBTlZBU19XSURUSCArIGkgLyA0ICUgRU1PSklfREVURUNUSU9OX0NBTlZBU19XSURUSDtcbiAgY29uc3QgeSA9IE1hdGguZmxvb3IoaSAvIDQgLyBFTU9KSV9ERVRFQ1RJT05fQ0FOVkFTX1dJRFRIKTtcbiAgY29uc3QgcGl4ZWwgPSBjYW52YXNDb250ZXh0LmdldEltYWdlRGF0YSh4LCB5LCAxLCAxKS5kYXRhO1xuICBpZiAocGl4ZWxzW2ldICE9PSBwaXhlbFswXSB8fCBwaXhlbHNbaSArIDJdICE9PSBwaXhlbFsyXSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoY2FudmFzQ29udGV4dC5tZWFzdXJlVGV4dChlbW9qaSkud2lkdGggPj0gRU1PSklfREVURUNUSU9OX0NBTlZBU19XSURUSCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cbmZ1bmN0aW9uIGdldEVtb2ppRm9udEZhbWlseSgpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG4gICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgZWxlbWVudC5kYXRhc2V0LmVtb2ppID0gXCJcIjtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICAgIGNvbnN0IGNvbXB1dGVkRm9udEZhbWlseSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLmZvbnRGYW1pbHk7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChlbGVtZW50KTtcbiAgICByZXR1cm4gY29tcHV0ZWRGb250RmFtaWx5O1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gRU1PSklfRk9OVF9GQU1JTFk7XG4gIH1cbn1cbmZ1bmN0aW9uIGdldEVtb2ppU2Vzc2lvbk1ldGFkYXRhKGVtb2ppcykge1xuICBjb25zdCB2ZXJzaW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIGZvciAoY29uc3QgZW1vamkgb2YgZW1vamlzKSB7XG4gICAgaWYgKCF2ZXJzaW9ucy5oYXMoZW1vamkudmVyc2lvbikpIHtcbiAgICAgIHZlcnNpb25zLnNldChlbW9qaS52ZXJzaW9uLCBlbW9qaS5lbW9qaSk7XG4gICAgfVxuICB9XG4gIGNvbnN0IGRlc2NlbmRpbmdWZXJzaW9ucyA9IFsuLi52ZXJzaW9ucy5rZXlzKCldLnNvcnQoKGEsIGIpID0+IGIgLSBhKTtcbiAgY29uc3QgY2FudmFzQ29udGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIikuZ2V0Q29udGV4dChcIjJkXCIsIHsgd2lsbFJlYWRGcmVxdWVudGx5OiB0cnVlIH0pO1xuICBpZiAoIWNhbnZhc0NvbnRleHQpIHtcbiAgICByZXR1cm4geyBlbW9qaVZlcnNpb246IGRlc2NlbmRpbmdWZXJzaW9uc1swXSwgY291bnRyeUZsYWdzOiB0cnVlIH07XG4gIH1cbiAgY2FudmFzQ29udGV4dC5mb250ID0gYCR7TWF0aC5mbG9vcihcbiAgICBFTU9KSV9ERVRFQ1RJT05fQ0FOVkFTX0hFSUdIVCAvIDJcbiAgKX1weCAke2dldEVtb2ppRm9udEZhbWlseSgpfWA7XG4gIGNhbnZhc0NvbnRleHQudGV4dEJhc2VsaW5lID0gXCJ0b3BcIjtcbiAgY2FudmFzQ29udGV4dC5jYW52YXMud2lkdGggPSBFTU9KSV9ERVRFQ1RJT05fQ0FOVkFTX1dJRFRIICogMjtcbiAgY2FudmFzQ29udGV4dC5jYW52YXMuaGVpZ2h0ID0gRU1PSklfREVURUNUSU9OX0NBTlZBU19IRUlHSFQ7XG4gIGNvbnN0IHN1cHBvcnRzQ291bnRyeUZsYWdzID0gZGV0ZWN0RW1vamlTdXBwb3J0KFxuICAgIGNhbnZhc0NvbnRleHQsXG4gICAgRU1PSklfREVURUNUSU9OX0NPVU5UUllfRkxBR1xuICApO1xuICBmb3IgKGNvbnN0IHZlcnNpb24gb2YgZGVzY2VuZGluZ1ZlcnNpb25zKSB7XG4gICAgY29uc3QgZW1vamkgPSB2ZXJzaW9ucy5nZXQodmVyc2lvbik7XG4gICAgY29uc3QgaXNTdXBwb3J0ZWQgPSBkZXRlY3RFbW9qaVN1cHBvcnQoY2FudmFzQ29udGV4dCwgZW1vamkpO1xuICAgIGlmIChpc1N1cHBvcnRlZCkge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZW1vamlWZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICBjb3VudHJ5RmxhZ3M6IHN1cHBvcnRzQ291bnRyeUZsYWdzXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIGVtb2ppVmVyc2lvbjogZGVzY2VuZGluZ1ZlcnNpb25zWzBdLFxuICAgIGNvdW50cnlGbGFnczogc3VwcG9ydHNDb3VudHJ5RmxhZ3NcbiAgfTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEVtb2ppRGF0YShsb2NhbGUpIHtcbiAgY29uc3QgZW1vamliYXNlTG9jYWxlID0gZ2V0RW1vamliYXNlU3VwcG9ydGVkTG9jYWxlKGxvY2FsZSk7XG4gIGNvbnN0IHNlc3Npb25NZXRhZGF0YSA9IGdldFN0b3JhZ2VJdGVtKFxuICAgIHNlc3Npb25TdG9yYWdlLFxuICAgIENBQ0hFX0VNT0pJX1NFU1NJT05fTUVUQURBVEFfS0VZXG4gICk7XG4gIGNvbnN0IGNhY2hlZERhdGEgPSBnZXRTdG9yYWdlSXRlbShcbiAgICBsb2NhbFN0b3JhZ2UsXG4gICAgQ0FDSEVfRU1PSklfREFUQV9LRVkoZW1vamliYXNlTG9jYWxlKVxuICApO1xuICBsZXQgZGF0YTtcbiAgaWYgKGNhY2hlZERhdGEpIHtcbiAgICBpZiAoc2Vzc2lvbk1ldGFkYXRhKSB7XG4gICAgICBkYXRhID0gY2FjaGVkRGF0YTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgeyBlbW9qaXNFdGFnLCBtZXNzYWdlc0V0YWcgfSA9IGF3YWl0IGZldGNoRW1vamliYXNlRXRhZ3MoZW1vamliYXNlTG9jYWxlKTtcbiAgICAgIGNvbnN0IGNhY2hlZE1ldGFkYXRhID0gZ2V0U3RvcmFnZUl0ZW0oXG4gICAgICAgIGxvY2FsU3RvcmFnZSxcbiAgICAgICAgQ0FDSEVfRU1PSklfTUVUQURBVEFfS0VZKGVtb2ppYmFzZUxvY2FsZSlcbiAgICAgICk7XG4gICAgICBpZiAoY2FjaGVkTWV0YWRhdGEgJiYgZW1vamlzRXRhZyA9PT0gY2FjaGVkTWV0YWRhdGEuZW1vamlzRXRhZyAmJiBtZXNzYWdlc0V0YWcgPT09IGNhY2hlZE1ldGFkYXRhLm1lc3NhZ2VzRXRhZykge1xuICAgICAgICBkYXRhID0gY2FjaGVkRGF0YTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRhdGEgPSBhd2FpdCBmZXRjaEVtb2ppRGF0YShlbW9qaWJhc2VMb2NhbGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBkYXRhID0gYXdhaXQgZmV0Y2hFbW9qaURhdGEoZW1vamliYXNlTG9jYWxlKTtcbiAgfVxuICBjb25zdCBuZXdTZXNzaW9uTWV0YWRhdGEgPSBzZXNzaW9uTWV0YWRhdGEgPz8gZ2V0RW1vamlTZXNzaW9uTWV0YWRhdGEoZGF0YS5lbW9qaXMpO1xuICBzZXRTdG9yYWdlSXRlbShcbiAgICBzZXNzaW9uU3RvcmFnZSxcbiAgICBDQUNIRV9FTU9KSV9TRVNTSU9OX01FVEFEQVRBX0tFWSxcbiAgICBuZXdTZXNzaW9uTWV0YWRhdGFcbiAgKTtcbiAgY29uc3QgZmlsdGVyZWRFbW9qaXMgPSBkYXRhLmVtb2ppcy5maWx0ZXIoKGVtb2ppKSA9PiB7XG4gICAgY29uc3QgaXNTdXBwb3J0ZWRWZXJzaW9uID0gZW1vamkudmVyc2lvbiA8PSBuZXdTZXNzaW9uTWV0YWRhdGEuZW1vamlWZXJzaW9uO1xuICAgIHJldHVybiBlbW9qaS5jb3VudHJ5RmxhZyA/IGlzU3VwcG9ydGVkVmVyc2lvbiAmJiBuZXdTZXNzaW9uTWV0YWRhdGEuY291bnRyeUZsYWdzIDogaXNTdXBwb3J0ZWRWZXJzaW9uO1xuICB9KTtcbiAgcmV0dXJuIHtcbiAgICBlbW9qaXM6IGZpbHRlcmVkRW1vamlzLFxuICAgIGNhdGVnb3JpZXM6IGRhdGEuY2F0ZWdvcmllcyxcbiAgICBza2luVG9uZXM6IGRhdGEuc2tpblRvbmVzXG4gIH07XG59XG5mdW5jdGlvbiBmaWx0ZXJFbW9qaXMoZW1vamlzLCBzZWFyY2gpIHtcbiAgaWYgKCFzZWFyY2gpIHtcbiAgICByZXR1cm4gZW1vamlzO1xuICB9XG4gIGNvbnN0IHNlYXJjaFRleHQgPSBzZWFyY2gudG9Mb3dlckNhc2UoKS50cmltKCk7XG4gIHJldHVybiBlbW9qaXMuZmlsdGVyKFxuICAgIChlbW9qaSkgPT4gZW1vamkubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHNlYXJjaFRleHQpIHx8IGVtb2ppLnRhZ3M/LnNvbWUoKHRhZykgPT4gdGFnLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoc2VhcmNoVGV4dCkpXG4gICk7XG59XG5mdW5jdGlvbiBnZW5lcmF0ZUVtb2ppUGlja2VyRGF0YShlbW9qaXMsIGNhdGVnb3JpZXMsIGNvbHVtbnMpIHtcbiAgbGV0IGN1cnJlbnRJbmRleCA9IDA7XG4gIGNvbnN0IHJvd3MgPSBbXTtcbiAgY29uc3QgaW5kZXhlZEVtb2ppcyA9IGVtb2ppcy5tYXAoKGVtb2ppLCBpbmRleCkgPT4gKHsgLi4uZW1vamksIGluZGV4IH0pKTtcbiAgY29uc3QgY2F0ZWdvcmllc1Jvd0NvdW50cyA9IFtdO1xuICBjb25zdCBjYXRlZ29yaWVzUm93SW5kaWNlcyA9IFtdO1xuICBjb25zdCBjYXRlZ29yaWVzTmFtZXMgPSBbXTtcbiAgY29uc3QgY2F0ZWdvcml6ZWRFbW9qaXMgPSBjYXRlZ29yaWVzLm1hcCgoY2F0ZWdvcnkpID0+ICh7XG4gICAgLi4uY2F0ZWdvcnksXG4gICAgZW1vamlzOiBpbmRleGVkRW1vamlzLmZpbHRlcigoZW1vamkpID0+IGVtb2ppLmNhdGVnb3J5ID09PSBjYXRlZ29yeS5rZXkpXG4gIH0pKS5maWx0ZXIoKGNhdGVnb3J5KSA9PiBjYXRlZ29yeS5lbW9qaXMubGVuZ3RoID4gMCk7XG4gIGZvciAoY29uc3QgY2F0ZWdvcnkgb2YgY2F0ZWdvcml6ZWRFbW9qaXMpIHtcbiAgICBjb25zdCBjYXRlZ29yeVJvd3MgPSBjaHVuayhjYXRlZ29yeS5lbW9qaXMsIGNvbHVtbnMpO1xuICAgIGNvbnN0IG5leHRJbmRleCA9IGN1cnJlbnRJbmRleCArIGNhdGVnb3J5Um93cy5sZW5ndGg7XG4gICAgcm93cy5wdXNoKC4uLmNhdGVnb3J5Um93cyk7XG4gICAgY2F0ZWdvcmllc05hbWVzLnB1c2goY2F0ZWdvcnkubmFtZSk7XG4gICAgY2F0ZWdvcmllc1Jvd0NvdW50cy5wdXNoKGNhdGVnb3J5Um93cy5sZW5ndGgpO1xuICAgIGNhdGVnb3JpZXNSb3dJbmRpY2VzLnB1c2goXG4gICAgICBnZW5lcmF0ZVJhbmdlSW5kaWNlcyhjdXJyZW50SW5kZXgsIG5leHRJbmRleCAtIDEpXG4gICAgKTtcbiAgICBjdXJyZW50SW5kZXggPSBuZXh0SW5kZXg7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICBjb3VudDogZW1vamlzLmxlbmd0aCxcbiAgICByb3dzLFxuICAgIGNhdGVnb3JpZXM6IGNhdGVnb3JpZXNOYW1lcyxcbiAgICBjYXRlZ29yaWVzUm93Q291bnRzLFxuICAgIGNhdGVnb3JpZXNSb3dJbmRpY2VzXG4gIH07XG59XG5cbmV4cG9ydCB7IGZpbHRlckVtb2ppcywgZ2VuZXJhdGVFbW9qaVBpY2tlckRhdGEsIGdldEVtb2ppRGF0YSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/EmojiPicker/utils.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Timestamp.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/Timestamp.mjs ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timestamp: function() { return /* binding */ Timestamp; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/capitalize.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs\");\n/* harmony import */ var _utils_intl_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/intl.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/intl.mjs\");\n/* harmony import */ var _utils_use_interval_mjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../utils/use-interval.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-interval.mjs\");\n/* harmony import */ var _utils_use_rerender_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/use-rerender.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-rerender.mjs\");\n/* __next_internal_client_entry_do_not_use__ Timestamp auto */ var _s = $RefreshSig$();\n\n\n\n\n\n\nconst DYNAMIC_DATE_THRESHOLD = 3 * 24 * 60 * 60 * 1e3;\nconst RENDER_INTERVAL = 30 * 1e3;\nconst TIMESTAMP_NAME = \"Timestamp\";\nconst relativeUnits = {\n    seconds: 60,\n    minutes: 60,\n    hours: 24,\n    days: 7,\n    weeks: 4.34524,\n    months: 12\n};\nfunction formatVerboseDate(date, locale) {\n    const formatter = (0,_utils_intl_mjs__WEBPACK_IMPORTED_MODULE_1__.dateTimeFormat)(locale, {\n        year: \"numeric\",\n        month: \"numeric\",\n        day: \"numeric\",\n        hour: \"numeric\",\n        minute: \"numeric\"\n    });\n    return (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_2__.capitalize)(formatter.format(date));\n}\nfunction formatShortDate(date, locale) {\n    const formatter = (0,_utils_intl_mjs__WEBPACK_IMPORTED_MODULE_1__.dateTimeFormat)(locale, {\n        month: \"short\",\n        day: \"numeric\"\n    });\n    return (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_2__.capitalize)(formatter.format(date));\n}\nconst localesWithBrokenNarrowRelativeFormatting = [\n    \"br\",\n    \"fr\",\n    \"nb\",\n    \"nn\",\n    \"no\",\n    \"ro\",\n    \"sv\"\n];\nfunction formatRelativeDate(date, locale) {\n    let resolvedLocale;\n    if (locale) {\n        resolvedLocale = locale;\n    } else {\n        const formatter2 = (0,_utils_intl_mjs__WEBPACK_IMPORTED_MODULE_1__.relativeTimeFormat)();\n        resolvedLocale = formatter2.resolvedOptions().locale;\n    }\n    const isBrokenWhenNarrow = localesWithBrokenNarrowRelativeFormatting.some((locale2)=>resolvedLocale === locale2 || resolvedLocale.startsWith(\"\".concat(locale2, \"-\")));\n    const formatter = (0,_utils_intl_mjs__WEBPACK_IMPORTED_MODULE_1__.relativeTimeFormat)(resolvedLocale, {\n        style: isBrokenWhenNarrow ? \"short\" : \"narrow\",\n        numeric: \"auto\"\n    });\n    let difference = (date.getTime() - Date.now()) / 1e3;\n    if (difference > -relativeUnits.seconds && difference < relativeUnits.seconds) {\n        return formatter.format(0, \"seconds\");\n    }\n    for (const [unit, length] of Object.entries(relativeUnits)){\n        if (Math.abs(difference) < length) {\n            return formatter.format(Math.round(difference), unit);\n        }\n        difference /= length;\n    }\n    return (0,_utils_capitalize_mjs__WEBPACK_IMPORTED_MODULE_2__.capitalize)(formatter.format(Math.round(difference), \"years\"));\n}\nfunction formatDynamicDate(date, locale) {\n    return date.getTime() > Date.now() - DYNAMIC_DATE_THRESHOLD ? formatRelativeDate(date, locale) : formatShortDate(date, locale);\n}\nconst Timestamp = /*#__PURE__*/ _s((0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c = _s((param, forwardedRef)=>{\n    let { date, locale, children: renderChildren = formatDynamicDate, title: renderTitle = formatVerboseDate, dateTime, interval = RENDER_INTERVAL, asChild, ...props } = param;\n    _s();\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_3__.Slot : \"time\";\n    const [rerender, key] = (0,_utils_use_rerender_mjs__WEBPACK_IMPORTED_MODULE_4__.useRerender)();\n    const parsedDate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>new Date(date), [\n        date\n    ]);\n    const normalizedDate = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>parsedDate.toISOString(), [\n        parsedDate\n    ]);\n    const title = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>typeof renderTitle === \"function\" ? renderTitle(parsedDate, locale) : renderTitle, [\n        renderTitle,\n        parsedDate,\n        key\n    ]);\n    const children = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>typeof renderChildren === \"function\" ? renderChildren(parsedDate, locale) : renderChildren, [\n        renderChildren,\n        parsedDate,\n        key\n    ]);\n    (0,_utils_use_interval_mjs__WEBPACK_IMPORTED_MODULE_5__.useInterval)(rerender, interval);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        ...props,\n        ref: forwardedRef,\n        dateTime: dateTime !== null && dateTime !== void 0 ? dateTime : normalizedDate,\n        title\n    }, children);\n}, \"Pn+b9W4T8C+viYS1irKYUYEGefE=\", false, function() {\n    return [\n        _utils_use_rerender_mjs__WEBPACK_IMPORTED_MODULE_4__.useRerender,\n        _utils_use_interval_mjs__WEBPACK_IMPORTED_MODULE_5__.useInterval\n    ];\n})), \"Pn+b9W4T8C+viYS1irKYUYEGefE=\", false, function() {\n    return [\n        _utils_use_rerender_mjs__WEBPACK_IMPORTED_MODULE_4__.useRerender,\n        _utils_use_interval_mjs__WEBPACK_IMPORTED_MODULE_5__.useInterval\n    ];\n});\n_c1 = Timestamp;\nif (true) {\n    Timestamp.displayName = TIMESTAMP_NAME;\n}\n //# sourceMappingURL=Timestamp.mjs.map\nvar _c, _c1;\n$RefreshReg$(_c, \"Timestamp$forwardRef\");\n$RefreshReg$(_c1, \"Timestamp\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvVGltZXN0YW1wLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUM0QztBQUNnQjtBQUNQO0FBQ2tCO0FBQ2Y7QUFDQTtBQUV4RCxNQUFNUyx5QkFBeUIsSUFBSSxLQUFLLEtBQUssS0FBSztBQUNsRCxNQUFNQyxrQkFBa0IsS0FBSztBQUM3QixNQUFNQyxpQkFBaUI7QUFDdkIsTUFBTUMsZ0JBQWdCO0lBQ3BCQyxTQUFTO0lBQ1RDLFNBQVM7SUFDVEMsT0FBTztJQUNQQyxNQUFNO0lBQ05DLE9BQU87SUFDUEMsUUFBUTtBQUNWO0FBQ0EsU0FBU0Msa0JBQWtCQyxJQUFJLEVBQUVDLE1BQU07SUFDckMsTUFBTUMsWUFBWWpCLCtEQUFjQSxDQUFDZ0IsUUFBUTtRQUN2Q0UsTUFBTTtRQUNOQyxPQUFPO1FBQ1BDLEtBQUs7UUFDTEMsTUFBTTtRQUNOQyxRQUFRO0lBQ1Y7SUFDQSxPQUFPdkIsaUVBQVVBLENBQUNrQixVQUFVTSxNQUFNLENBQUNSO0FBQ3JDO0FBQ0EsU0FBU1MsZ0JBQWdCVCxJQUFJLEVBQUVDLE1BQU07SUFDbkMsTUFBTUMsWUFBWWpCLCtEQUFjQSxDQUFDZ0IsUUFBUTtRQUN2Q0csT0FBTztRQUNQQyxLQUFLO0lBQ1A7SUFDQSxPQUFPckIsaUVBQVVBLENBQUNrQixVQUFVTSxNQUFNLENBQUNSO0FBQ3JDO0FBQ0EsTUFBTVUsNENBQTRDO0lBQ2hEO0lBQ0E7SUFDQTtJQUNBO0lBQ0E7SUFDQTtJQUNBO0NBQ0Q7QUFDRCxTQUFTQyxtQkFBbUJYLElBQUksRUFBRUMsTUFBTTtJQUN0QyxJQUFJVztJQUNKLElBQUlYLFFBQVE7UUFDVlcsaUJBQWlCWDtJQUNuQixPQUFPO1FBQ0wsTUFBTVksYUFBYTNCLG1FQUFrQkE7UUFDckMwQixpQkFBaUJDLFdBQVdDLGVBQWUsR0FBR2IsTUFBTTtJQUN0RDtJQUNBLE1BQU1jLHFCQUFxQkwsMENBQTBDTSxJQUFJLENBQ3ZFLENBQUNDLFVBQVlMLG1CQUFtQkssV0FBV0wsZUFBZU0sVUFBVSxDQUFDLEdBQVcsT0FBUkQsU0FBUTtJQUVsRixNQUFNZixZQUFZaEIsbUVBQWtCQSxDQUFDMEIsZ0JBQWdCO1FBQ25ETyxPQUFPSixxQkFBcUIsVUFBVTtRQUN0Q0ssU0FBUztJQUNYO0lBQ0EsSUFBSUMsYUFBYSxDQUFDckIsS0FBS3NCLE9BQU8sS0FBS0MsS0FBS0MsR0FBRyxFQUFDLElBQUs7SUFDakQsSUFBSUgsYUFBYSxDQUFDN0IsY0FBY0MsT0FBTyxJQUFJNEIsYUFBYTdCLGNBQWNDLE9BQU8sRUFBRTtRQUM3RSxPQUFPUyxVQUFVTSxNQUFNLENBQUMsR0FBRztJQUM3QjtJQUNBLEtBQUssTUFBTSxDQUFDaUIsTUFBTUMsT0FBTyxJQUFJQyxPQUFPQyxPQUFPLENBQUNwQyxlQUFnQjtRQUMxRCxJQUFJcUMsS0FBS0MsR0FBRyxDQUFDVCxjQUFjSyxRQUFRO1lBQ2pDLE9BQU94QixVQUFVTSxNQUFNLENBQ3JCcUIsS0FBS0UsS0FBSyxDQUFDVixhQUNYSTtRQUVKO1FBQ0FKLGNBQWNLO0lBQ2hCO0lBQ0EsT0FBTzFDLGlFQUFVQSxDQUFDa0IsVUFBVU0sTUFBTSxDQUFDcUIsS0FBS0UsS0FBSyxDQUFDVixhQUFhO0FBQzdEO0FBQ0EsU0FBU1csa0JBQWtCaEMsSUFBSSxFQUFFQyxNQUFNO0lBQ3JDLE9BQU9ELEtBQUtzQixPQUFPLEtBQUtDLEtBQUtDLEdBQUcsS0FBS25DLHlCQUF5QnNCLG1CQUFtQlgsTUFBTUMsVUFBVVEsZ0JBQWdCVCxNQUFNQztBQUN6SDtBQUNBLE1BQU1nQywwQkFBWW5ELEdBQUFBLGlEQUFVQSxTQUMxQixRQVNHb0Q7UUFURixFQUNDbEMsSUFBSSxFQUNKQyxNQUFNLEVBQ05rQyxVQUFVQyxpQkFBaUJKLGlCQUFpQixFQUM1Q0ssT0FBT0MsY0FBY3ZDLGlCQUFpQixFQUN0Q3dDLFFBQVEsRUFDUkMsV0FBV2xELGVBQWUsRUFDMUJtRCxPQUFPLEVBQ1AsR0FBR0MsT0FDSjs7SUFDQyxNQUFNQyxZQUFZRixVQUFVN0Qsc0RBQUlBLEdBQUc7SUFDbkMsTUFBTSxDQUFDZ0UsVUFBVUMsSUFBSSxHQUFHekQsb0VBQVdBO0lBQ25DLE1BQU0wRCxhQUFhL0QsOENBQU9BLENBQUMsSUFBTSxJQUFJd0MsS0FBS3ZCLE9BQU87UUFBQ0E7S0FBSztJQUN2RCxNQUFNK0MsaUJBQWlCaEUsOENBQU9BLENBQzVCLElBQU0rRCxXQUFXRSxXQUFXLElBQzVCO1FBQUNGO0tBQVc7SUFFZCxNQUFNVCxRQUFRdEQsOENBQU9BLENBQ25CLElBQU0sT0FBT3VELGdCQUFnQixhQUFhQSxZQUFZUSxZQUFZN0MsVUFBVXFDLGFBQzVFO1FBQUNBO1FBQWFRO1FBQVlEO0tBQUk7SUFFaEMsTUFBTVYsV0FBV3BELDhDQUFPQSxDQUN0QixJQUFNLE9BQU9xRCxtQkFBbUIsYUFBYUEsZUFBZVUsWUFBWTdDLFVBQVVtQyxnQkFDbEY7UUFBQ0E7UUFBZ0JVO1FBQVlEO0tBQUk7SUFFbkMxRCxvRUFBV0EsQ0FBQ3lELFVBQVVKO0lBQ3RCLE9BQU8sYUFBYSxpQkFBRzNELGdEQUE0QixDQUFDOEQsV0FBVztRQUM3RCxHQUFHRCxLQUFLO1FBQ1JRLEtBQUtoQjtRQUNMSyxVQUFVQSxxQkFBQUEsc0JBQUFBLFdBQVlRO1FBQ3RCVjtJQUNGLEdBQUdGO0FBQ0w7O1FBckIwQi9DLGdFQUFXQTtRQWNuQ0QsZ0VBQVdBOzs7O1FBZGFDLGdFQUFXQTtRQWNuQ0QsZ0VBQVdBOzs7O0FBU2YsSUFBSWdFLElBQXFDLEVBQUU7SUFDekNsQixVQUFVbUIsV0FBVyxHQUFHN0Q7QUFDMUI7QUFFcUIsQ0FDckIsc0NBQXNDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvVGltZXN0YW1wLm1qcz82MjAxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IFNsb3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3Qtc2xvdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgZm9yd2FyZFJlZiwgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tICcuLi91dGlscy9jYXBpdGFsaXplLm1qcyc7XG5pbXBvcnQgeyBkYXRlVGltZUZvcm1hdCwgcmVsYXRpdmVUaW1lRm9ybWF0IH0gZnJvbSAnLi4vdXRpbHMvaW50bC5tanMnO1xuaW1wb3J0IHsgdXNlSW50ZXJ2YWwgfSBmcm9tICcuLi91dGlscy91c2UtaW50ZXJ2YWwubWpzJztcbmltcG9ydCB7IHVzZVJlcmVuZGVyIH0gZnJvbSAnLi4vdXRpbHMvdXNlLXJlcmVuZGVyLm1qcyc7XG5cbmNvbnN0IERZTkFNSUNfREFURV9USFJFU0hPTEQgPSAzICogMjQgKiA2MCAqIDYwICogMWUzO1xuY29uc3QgUkVOREVSX0lOVEVSVkFMID0gMzAgKiAxZTM7XG5jb25zdCBUSU1FU1RBTVBfTkFNRSA9IFwiVGltZXN0YW1wXCI7XG5jb25zdCByZWxhdGl2ZVVuaXRzID0ge1xuICBzZWNvbmRzOiA2MCxcbiAgbWludXRlczogNjAsXG4gIGhvdXJzOiAyNCxcbiAgZGF5czogNyxcbiAgd2Vla3M6IDQuMzQ1MjQsXG4gIG1vbnRoczogMTJcbn07XG5mdW5jdGlvbiBmb3JtYXRWZXJib3NlRGF0ZShkYXRlLCBsb2NhbGUpIHtcbiAgY29uc3QgZm9ybWF0dGVyID0gZGF0ZVRpbWVGb3JtYXQobG9jYWxlLCB7XG4gICAgeWVhcjogXCJudW1lcmljXCIsXG4gICAgbW9udGg6IFwibnVtZXJpY1wiLFxuICAgIGRheTogXCJudW1lcmljXCIsXG4gICAgaG91cjogXCJudW1lcmljXCIsXG4gICAgbWludXRlOiBcIm51bWVyaWNcIlxuICB9KTtcbiAgcmV0dXJuIGNhcGl0YWxpemUoZm9ybWF0dGVyLmZvcm1hdChkYXRlKSk7XG59XG5mdW5jdGlvbiBmb3JtYXRTaG9ydERhdGUoZGF0ZSwgbG9jYWxlKSB7XG4gIGNvbnN0IGZvcm1hdHRlciA9IGRhdGVUaW1lRm9ybWF0KGxvY2FsZSwge1xuICAgIG1vbnRoOiBcInNob3J0XCIsXG4gICAgZGF5OiBcIm51bWVyaWNcIlxuICB9KTtcbiAgcmV0dXJuIGNhcGl0YWxpemUoZm9ybWF0dGVyLmZvcm1hdChkYXRlKSk7XG59XG5jb25zdCBsb2NhbGVzV2l0aEJyb2tlbk5hcnJvd1JlbGF0aXZlRm9ybWF0dGluZyA9IFtcbiAgXCJiclwiLFxuICBcImZyXCIsXG4gIFwibmJcIixcbiAgXCJublwiLFxuICBcIm5vXCIsXG4gIFwicm9cIixcbiAgXCJzdlwiXG5dO1xuZnVuY3Rpb24gZm9ybWF0UmVsYXRpdmVEYXRlKGRhdGUsIGxvY2FsZSkge1xuICBsZXQgcmVzb2x2ZWRMb2NhbGU7XG4gIGlmIChsb2NhbGUpIHtcbiAgICByZXNvbHZlZExvY2FsZSA9IGxvY2FsZTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBmb3JtYXR0ZXIyID0gcmVsYXRpdmVUaW1lRm9ybWF0KCk7XG4gICAgcmVzb2x2ZWRMb2NhbGUgPSBmb3JtYXR0ZXIyLnJlc29sdmVkT3B0aW9ucygpLmxvY2FsZTtcbiAgfVxuICBjb25zdCBpc0Jyb2tlbldoZW5OYXJyb3cgPSBsb2NhbGVzV2l0aEJyb2tlbk5hcnJvd1JlbGF0aXZlRm9ybWF0dGluZy5zb21lKFxuICAgIChsb2NhbGUyKSA9PiByZXNvbHZlZExvY2FsZSA9PT0gbG9jYWxlMiB8fCByZXNvbHZlZExvY2FsZS5zdGFydHNXaXRoKGAke2xvY2FsZTJ9LWApXG4gICk7XG4gIGNvbnN0IGZvcm1hdHRlciA9IHJlbGF0aXZlVGltZUZvcm1hdChyZXNvbHZlZExvY2FsZSwge1xuICAgIHN0eWxlOiBpc0Jyb2tlbldoZW5OYXJyb3cgPyBcInNob3J0XCIgOiBcIm5hcnJvd1wiLFxuICAgIG51bWVyaWM6IFwiYXV0b1wiXG4gIH0pO1xuICBsZXQgZGlmZmVyZW5jZSA9IChkYXRlLmdldFRpbWUoKSAtIERhdGUubm93KCkpIC8gMWUzO1xuICBpZiAoZGlmZmVyZW5jZSA+IC1yZWxhdGl2ZVVuaXRzLnNlY29uZHMgJiYgZGlmZmVyZW5jZSA8IHJlbGF0aXZlVW5pdHMuc2Vjb25kcykge1xuICAgIHJldHVybiBmb3JtYXR0ZXIuZm9ybWF0KDAsIFwic2Vjb25kc1wiKTtcbiAgfVxuICBmb3IgKGNvbnN0IFt1bml0LCBsZW5ndGhdIG9mIE9iamVjdC5lbnRyaWVzKHJlbGF0aXZlVW5pdHMpKSB7XG4gICAgaWYgKE1hdGguYWJzKGRpZmZlcmVuY2UpIDwgbGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZm9ybWF0dGVyLmZvcm1hdChcbiAgICAgICAgTWF0aC5yb3VuZChkaWZmZXJlbmNlKSxcbiAgICAgICAgdW5pdFxuICAgICAgKTtcbiAgICB9XG4gICAgZGlmZmVyZW5jZSAvPSBsZW5ndGg7XG4gIH1cbiAgcmV0dXJuIGNhcGl0YWxpemUoZm9ybWF0dGVyLmZvcm1hdChNYXRoLnJvdW5kKGRpZmZlcmVuY2UpLCBcInllYXJzXCIpKTtcbn1cbmZ1bmN0aW9uIGZvcm1hdER5bmFtaWNEYXRlKGRhdGUsIGxvY2FsZSkge1xuICByZXR1cm4gZGF0ZS5nZXRUaW1lKCkgPiBEYXRlLm5vdygpIC0gRFlOQU1JQ19EQVRFX1RIUkVTSE9MRCA/IGZvcm1hdFJlbGF0aXZlRGF0ZShkYXRlLCBsb2NhbGUpIDogZm9ybWF0U2hvcnREYXRlKGRhdGUsIGxvY2FsZSk7XG59XG5jb25zdCBUaW1lc3RhbXAgPSBmb3J3YXJkUmVmKFxuICAoe1xuICAgIGRhdGUsXG4gICAgbG9jYWxlLFxuICAgIGNoaWxkcmVuOiByZW5kZXJDaGlsZHJlbiA9IGZvcm1hdER5bmFtaWNEYXRlLFxuICAgIHRpdGxlOiByZW5kZXJUaXRsZSA9IGZvcm1hdFZlcmJvc2VEYXRlLFxuICAgIGRhdGVUaW1lLFxuICAgIGludGVydmFsID0gUkVOREVSX0lOVEVSVkFMLFxuICAgIGFzQ2hpbGQsXG4gICAgLi4ucHJvcHNcbiAgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcInRpbWVcIjtcbiAgICBjb25zdCBbcmVyZW5kZXIsIGtleV0gPSB1c2VSZXJlbmRlcigpO1xuICAgIGNvbnN0IHBhcnNlZERhdGUgPSB1c2VNZW1vKCgpID0+IG5ldyBEYXRlKGRhdGUpLCBbZGF0ZV0pO1xuICAgIGNvbnN0IG5vcm1hbGl6ZWREYXRlID0gdXNlTWVtbyhcbiAgICAgICgpID0+IHBhcnNlZERhdGUudG9JU09TdHJpbmcoKSxcbiAgICAgIFtwYXJzZWREYXRlXVxuICAgICk7XG4gICAgY29uc3QgdGl0bGUgPSB1c2VNZW1vKFxuICAgICAgKCkgPT4gdHlwZW9mIHJlbmRlclRpdGxlID09PSBcImZ1bmN0aW9uXCIgPyByZW5kZXJUaXRsZShwYXJzZWREYXRlLCBsb2NhbGUpIDogcmVuZGVyVGl0bGUsXG4gICAgICBbcmVuZGVyVGl0bGUsIHBhcnNlZERhdGUsIGtleV1cbiAgICApO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdXNlTWVtbyhcbiAgICAgICgpID0+IHR5cGVvZiByZW5kZXJDaGlsZHJlbiA9PT0gXCJmdW5jdGlvblwiID8gcmVuZGVyQ2hpbGRyZW4ocGFyc2VkRGF0ZSwgbG9jYWxlKSA6IHJlbmRlckNoaWxkcmVuLFxuICAgICAgW3JlbmRlckNoaWxkcmVuLCBwYXJzZWREYXRlLCBrZXldXG4gICAgKTtcbiAgICB1c2VJbnRlcnZhbChyZXJlbmRlciwgaW50ZXJ2YWwpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgIC4uLnByb3BzLFxuICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICBkYXRlVGltZTogZGF0ZVRpbWUgPz8gbm9ybWFsaXplZERhdGUsXG4gICAgICB0aXRsZVxuICAgIH0sIGNoaWxkcmVuKTtcbiAgfVxuKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgVGltZXN0YW1wLmRpc3BsYXlOYW1lID0gVElNRVNUQU1QX05BTUU7XG59XG5cbmV4cG9ydCB7IFRpbWVzdGFtcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VGltZXN0YW1wLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJTbG90IiwiUmVhY3RfX2RlZmF1bHQiLCJmb3J3YXJkUmVmIiwidXNlTWVtbyIsImNhcGl0YWxpemUiLCJkYXRlVGltZUZvcm1hdCIsInJlbGF0aXZlVGltZUZvcm1hdCIsInVzZUludGVydmFsIiwidXNlUmVyZW5kZXIiLCJEWU5BTUlDX0RBVEVfVEhSRVNIT0xEIiwiUkVOREVSX0lOVEVSVkFMIiwiVElNRVNUQU1QX05BTUUiLCJyZWxhdGl2ZVVuaXRzIiwic2Vjb25kcyIsIm1pbnV0ZXMiLCJob3VycyIsImRheXMiLCJ3ZWVrcyIsIm1vbnRocyIsImZvcm1hdFZlcmJvc2VEYXRlIiwiZGF0ZSIsImxvY2FsZSIsImZvcm1hdHRlciIsInllYXIiLCJtb250aCIsImRheSIsImhvdXIiLCJtaW51dGUiLCJmb3JtYXQiLCJmb3JtYXRTaG9ydERhdGUiLCJsb2NhbGVzV2l0aEJyb2tlbk5hcnJvd1JlbGF0aXZlRm9ybWF0dGluZyIsImZvcm1hdFJlbGF0aXZlRGF0ZSIsInJlc29sdmVkTG9jYWxlIiwiZm9ybWF0dGVyMiIsInJlc29sdmVkT3B0aW9ucyIsImlzQnJva2VuV2hlbk5hcnJvdyIsInNvbWUiLCJsb2NhbGUyIiwic3RhcnRzV2l0aCIsInN0eWxlIiwibnVtZXJpYyIsImRpZmZlcmVuY2UiLCJnZXRUaW1lIiwiRGF0ZSIsIm5vdyIsInVuaXQiLCJsZW5ndGgiLCJPYmplY3QiLCJlbnRyaWVzIiwiTWF0aCIsImFicyIsInJvdW5kIiwiZm9ybWF0RHluYW1pY0RhdGUiLCJUaW1lc3RhbXAiLCJmb3J3YXJkZWRSZWYiLCJjaGlsZHJlbiIsInJlbmRlckNoaWxkcmVuIiwidGl0bGUiLCJyZW5kZXJUaXRsZSIsImRhdGVUaW1lIiwiaW50ZXJ2YWwiLCJhc0NoaWxkIiwicHJvcHMiLCJDb21wb25lbnQiLCJyZXJlbmRlciIsImtleSIsInBhcnNlZERhdGUiLCJub3JtYWxpemVkRGF0ZSIsInRvSVNPU3RyaW5nIiwiY3JlYXRlRWxlbWVudCIsInJlZiIsInByb2Nlc3MiLCJkaXNwbGF5TmFtZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/Timestamp.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/internal/Emoji.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/primitives/internal/Emoji.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Emoji: function() { return /* binding */ Emoji; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _constants_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../constants.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/constants.mjs\");\n\n\n\n\nconst Emoji = (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(\n  ({ emoji, style, asChild, ...props }, forwardedRef) => {\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_1__.Slot : \"span\";\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n      role: \"img\",\n      \"aria-label\": emoji,\n      \"data-emoji\": emoji,\n      style: {\n        ...style,\n        fontFamily: _constants_mjs__WEBPACK_IMPORTED_MODULE_2__.EMOJI_FONT_FAMILY,\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"1em\",\n        whiteSpace: \"nowrap\"\n      },\n      ...props,\n      ref: forwardedRef\n    }, emoji);\n  }\n);\n\n\n//# sourceMappingURL=Emoji.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3ByaW1pdGl2ZXMvaW50ZXJuYWwvRW1vamkubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBNEM7QUFDTztBQUNLOztBQUV4RCxjQUFjLGlEQUFVO0FBQ3hCLEtBQUssaUNBQWlDO0FBQ3RDLGdDQUFnQyxzREFBSTtBQUNwQywyQkFBMkIsZ0RBQTRCO0FBQ3ZEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkRBQWlCO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9wcmltaXRpdmVzL2ludGVybmFsL0Vtb2ppLm1qcz9mY2JkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFNsb3QgfSBmcm9tICdAcmFkaXgtdWkvcmVhY3Qtc2xvdCc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgZm9yd2FyZFJlZiB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEVNT0pJX0ZPTlRfRkFNSUxZIH0gZnJvbSAnLi4vLi4vY29uc3RhbnRzLm1qcyc7XG5cbmNvbnN0IEVtb2ppID0gZm9yd2FyZFJlZihcbiAgKHsgZW1vamksIHN0eWxlLCBhc0NoaWxkLCAuLi5wcm9wcyB9LCBmb3J3YXJkZWRSZWYpID0+IHtcbiAgICBjb25zdCBDb21wb25lbnQgPSBhc0NoaWxkID8gU2xvdCA6IFwic3BhblwiO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgIHJvbGU6IFwiaW1nXCIsXG4gICAgICBcImFyaWEtbGFiZWxcIjogZW1vamksXG4gICAgICBcImRhdGEtZW1vamlcIjogZW1vamksXG4gICAgICBzdHlsZToge1xuICAgICAgICAuLi5zdHlsZSxcbiAgICAgICAgZm9udEZhbWlseTogRU1PSklfRk9OVF9GQU1JTFksXG4gICAgICAgIGRpc3BsYXk6IFwiaW5saW5lLWZsZXhcIixcbiAgICAgICAgYWxpZ25JdGVtczogXCJjZW50ZXJcIixcbiAgICAgICAganVzdGlmeUNvbnRlbnQ6IFwiY2VudGVyXCIsXG4gICAgICAgIHdpZHRoOiBcIjFlbVwiLFxuICAgICAgICB3aGl0ZVNwYWNlOiBcIm5vd3JhcFwiXG4gICAgICB9LFxuICAgICAgLi4ucHJvcHMsXG4gICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0sIGVtb2ppKTtcbiAgfVxuKTtcblxuZXhwb3J0IHsgRW1vamkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUVtb2ppLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/primitives/internal/Emoji.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-formatting.mjs":
/*!****************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-formatting.mjs ***!
  \****************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withAutoFormatting: function() { return /* binding */ withAutoFormatting; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var _utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/get-character.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs\");\n/* harmony import */ var _utils_get_match_range_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/get-match-range.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-match-range.mjs\");\n/* harmony import */ var _utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/is-empty-string.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty-string.mjs\");\n/* harmony import */ var _utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/is-selection-collapsed.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs\");\n\n\n\n\n\n\nconst formatters = [\n  {\n    type: \"mark\",\n    mark: \"bold\",\n    character: \"*\"\n  },\n  {\n    type: \"mark\",\n    mark: \"italic\",\n    character: \"_\"\n  },\n  {\n    type: \"mark\",\n    mark: \"strikethrough\",\n    character: \"~\"\n  },\n  {\n    type: \"mark\",\n    mark: \"code\",\n    character: \"`\"\n  }\n];\nconst markFormattingCharacters = formatters.filter((formatter) => formatter.type === \"mark\").map((formatter) => formatter.character);\nfunction formatMark(editor, text, formatter) {\n  if (text !== formatter.character) {\n    return false;\n  }\n  const match = (0,_utils_get_match_range_mjs__WEBPACK_IMPORTED_MODULE_0__.getMatchRange)(editor, editor.selection, [formatter.character]);\n  if (!match || slate__WEBPACK_IMPORTED_MODULE_1__.Range.isCollapsed(match)) {\n    return false;\n  }\n  const formattingCharacter = (0,_utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_2__.getCharacterBefore)(editor, match);\n  if (!formattingCharacter || formattingCharacter.text !== formatter.character) {\n    return false;\n  }\n  const beforeCharacter = (0,_utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_2__.getCharacterBefore)(editor, formattingCharacter.range);\n  if (beforeCharacter && !markFormattingCharacters.includes(beforeCharacter.text) && !(0,_utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_3__.isEmptyString)(beforeCharacter.text)) {\n    return false;\n  }\n  const matchText = slate__WEBPACK_IMPORTED_MODULE_1__.Editor.string(editor, match);\n  if (matchText.trim() !== matchText) {\n    return false;\n  }\n  slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.select(editor, match);\n  editor.addMark(formatter.mark, true);\n  slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.collapse(editor, { edge: \"end\" });\n  editor.removeMark(formatter.mark);\n  slate__WEBPACK_IMPORTED_MODULE_1__.Transforms.delete(editor, {\n    at: formattingCharacter.range\n  });\n  return true;\n}\nfunction withAutoFormatting(editor) {\n  const { insertText } = editor;\n  editor.insertText = (text, options) => {\n    if (!(0,_utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_4__.isSelectionCollapsed)(editor.selection)) {\n      return insertText(text, options);\n    }\n    let shouldInsertText = true;\n    for (const formatter of formatters) {\n      if (formatter.type === \"mark\") {\n        if (formatMark(editor, text, formatter)) {\n          shouldInsertText = false;\n        }\n      }\n    }\n    if (shouldInsertText) {\n      insertText(text, options);\n    }\n  };\n  return editor;\n}\n\n\n//# sourceMappingURL=auto-formatting.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3BsdWdpbnMvYXV0by1mb3JtYXR0aW5nLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBa0Q7QUFDYztBQUNIO0FBQ0E7QUFDYzs7QUFFM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLHlFQUFhO0FBQzdCLGdCQUFnQix3Q0FBSztBQUNyQjtBQUNBO0FBQ0EsOEJBQThCLDRFQUFrQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsNEVBQWtCO0FBQzVDLHNGQUFzRix5RUFBYTtBQUNuRztBQUNBO0FBQ0Esb0JBQW9CLHlDQUFNO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLEVBQUUsNkNBQVU7QUFDWjtBQUNBLEVBQUUsNkNBQVUsb0JBQW9CLGFBQWE7QUFDN0M7QUFDQSxFQUFFLDZDQUFVO0FBQ1o7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0EsVUFBVSxhQUFhO0FBQ3ZCO0FBQ0EsU0FBUyx1RkFBb0I7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRThCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3BsdWdpbnMvYXV0by1mb3JtYXR0aW5nLm1qcz9mYjRhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFJhbmdlLCBFZGl0b3IsIFRyYW5zZm9ybXMgfSBmcm9tICdzbGF0ZSc7XG5pbXBvcnQgeyBnZXRDaGFyYWN0ZXJCZWZvcmUgfSBmcm9tICcuLi91dGlscy9nZXQtY2hhcmFjdGVyLm1qcyc7XG5pbXBvcnQgeyBnZXRNYXRjaFJhbmdlIH0gZnJvbSAnLi4vdXRpbHMvZ2V0LW1hdGNoLXJhbmdlLm1qcyc7XG5pbXBvcnQgeyBpc0VtcHR5U3RyaW5nIH0gZnJvbSAnLi4vdXRpbHMvaXMtZW1wdHktc3RyaW5nLm1qcyc7XG5pbXBvcnQgeyBpc1NlbGVjdGlvbkNvbGxhcHNlZCB9IGZyb20gJy4uL3V0aWxzL2lzLXNlbGVjdGlvbi1jb2xsYXBzZWQubWpzJztcblxuY29uc3QgZm9ybWF0dGVycyA9IFtcbiAge1xuICAgIHR5cGU6IFwibWFya1wiLFxuICAgIG1hcms6IFwiYm9sZFwiLFxuICAgIGNoYXJhY3RlcjogXCIqXCJcbiAgfSxcbiAge1xuICAgIHR5cGU6IFwibWFya1wiLFxuICAgIG1hcms6IFwiaXRhbGljXCIsXG4gICAgY2hhcmFjdGVyOiBcIl9cIlxuICB9LFxuICB7XG4gICAgdHlwZTogXCJtYXJrXCIsXG4gICAgbWFyazogXCJzdHJpa2V0aHJvdWdoXCIsXG4gICAgY2hhcmFjdGVyOiBcIn5cIlxuICB9LFxuICB7XG4gICAgdHlwZTogXCJtYXJrXCIsXG4gICAgbWFyazogXCJjb2RlXCIsXG4gICAgY2hhcmFjdGVyOiBcImBcIlxuICB9XG5dO1xuY29uc3QgbWFya0Zvcm1hdHRpbmdDaGFyYWN0ZXJzID0gZm9ybWF0dGVycy5maWx0ZXIoKGZvcm1hdHRlcikgPT4gZm9ybWF0dGVyLnR5cGUgPT09IFwibWFya1wiKS5tYXAoKGZvcm1hdHRlcikgPT4gZm9ybWF0dGVyLmNoYXJhY3Rlcik7XG5mdW5jdGlvbiBmb3JtYXRNYXJrKGVkaXRvciwgdGV4dCwgZm9ybWF0dGVyKSB7XG4gIGlmICh0ZXh0ICE9PSBmb3JtYXR0ZXIuY2hhcmFjdGVyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IG1hdGNoID0gZ2V0TWF0Y2hSYW5nZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24sIFtmb3JtYXR0ZXIuY2hhcmFjdGVyXSk7XG4gIGlmICghbWF0Y2ggfHwgUmFuZ2UuaXNDb2xsYXBzZWQobWF0Y2gpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGZvcm1hdHRpbmdDaGFyYWN0ZXIgPSBnZXRDaGFyYWN0ZXJCZWZvcmUoZWRpdG9yLCBtYXRjaCk7XG4gIGlmICghZm9ybWF0dGluZ0NoYXJhY3RlciB8fCBmb3JtYXR0aW5nQ2hhcmFjdGVyLnRleHQgIT09IGZvcm1hdHRlci5jaGFyYWN0ZXIpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgY29uc3QgYmVmb3JlQ2hhcmFjdGVyID0gZ2V0Q2hhcmFjdGVyQmVmb3JlKGVkaXRvciwgZm9ybWF0dGluZ0NoYXJhY3Rlci5yYW5nZSk7XG4gIGlmIChiZWZvcmVDaGFyYWN0ZXIgJiYgIW1hcmtGb3JtYXR0aW5nQ2hhcmFjdGVycy5pbmNsdWRlcyhiZWZvcmVDaGFyYWN0ZXIudGV4dCkgJiYgIWlzRW1wdHlTdHJpbmcoYmVmb3JlQ2hhcmFjdGVyLnRleHQpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IG1hdGNoVGV4dCA9IEVkaXRvci5zdHJpbmcoZWRpdG9yLCBtYXRjaCk7XG4gIGlmIChtYXRjaFRleHQudHJpbSgpICE9PSBtYXRjaFRleHQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgVHJhbnNmb3Jtcy5zZWxlY3QoZWRpdG9yLCBtYXRjaCk7XG4gIGVkaXRvci5hZGRNYXJrKGZvcm1hdHRlci5tYXJrLCB0cnVlKTtcbiAgVHJhbnNmb3Jtcy5jb2xsYXBzZShlZGl0b3IsIHsgZWRnZTogXCJlbmRcIiB9KTtcbiAgZWRpdG9yLnJlbW92ZU1hcmsoZm9ybWF0dGVyLm1hcmspO1xuICBUcmFuc2Zvcm1zLmRlbGV0ZShlZGl0b3IsIHtcbiAgICBhdDogZm9ybWF0dGluZ0NoYXJhY3Rlci5yYW5nZVxuICB9KTtcbiAgcmV0dXJuIHRydWU7XG59XG5mdW5jdGlvbiB3aXRoQXV0b0Zvcm1hdHRpbmcoZWRpdG9yKSB7XG4gIGNvbnN0IHsgaW5zZXJ0VGV4dCB9ID0gZWRpdG9yO1xuICBlZGl0b3IuaW5zZXJ0VGV4dCA9ICh0ZXh0LCBvcHRpb25zKSA9PiB7XG4gICAgaWYgKCFpc1NlbGVjdGlvbkNvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSkge1xuICAgICAgcmV0dXJuIGluc2VydFRleHQodGV4dCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGxldCBzaG91bGRJbnNlcnRUZXh0ID0gdHJ1ZTtcbiAgICBmb3IgKGNvbnN0IGZvcm1hdHRlciBvZiBmb3JtYXR0ZXJzKSB7XG4gICAgICBpZiAoZm9ybWF0dGVyLnR5cGUgPT09IFwibWFya1wiKSB7XG4gICAgICAgIGlmIChmb3JtYXRNYXJrKGVkaXRvciwgdGV4dCwgZm9ybWF0dGVyKSkge1xuICAgICAgICAgIHNob3VsZEluc2VydFRleHQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc2hvdWxkSW5zZXJ0VGV4dCkge1xuICAgICAgaW5zZXJ0VGV4dCh0ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBlZGl0b3I7XG59XG5cbmV4cG9ydCB7IHdpdGhBdXRvRm9ybWF0dGluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0by1mb3JtYXR0aW5nLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-formatting.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-links.mjs":
/*!***********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-links.mjs ***!
  \***********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isComposerBodyAutoLink: function() { return /* binding */ isComposerBodyAutoLink; },\n/* harmony export */   withAutoLinks: function() { return /* binding */ withAutoLinks; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\nfunction withAutoLinks(editor) {\n  const { isInline, normalizeNode, deleteBackward } = editor;\n  editor.isInline = (element) => {\n    return element.type === \"auto-link\" ? true : isInline(element);\n  };\n  editor.normalizeNode = (entry) => {\n    const [node, path] = entry;\n    if (slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(node)) {\n      const parentNode = slate__WEBPACK_IMPORTED_MODULE_0__.Node.parent(editor, path);\n      if (isComposerBodyAutoLink(parentNode)) {\n        const parentPath = slate__WEBPACK_IMPORTED_MODULE_0__.Path.parent(path);\n        handleLinkEdit(editor, [parentNode, parentPath]);\n      } else {\n        handleLinkCreate(editor, [node, path]);\n        handleNeighbours(editor, [node, path]);\n      }\n    }\n    normalizeNode(entry);\n  };\n  editor.deleteBackward = (unit) => {\n    deleteBackward(unit);\n    const { selection } = editor;\n    if (!selection)\n      return;\n    if (!slate__WEBPACK_IMPORTED_MODULE_0__.Range.isCollapsed(selection))\n      return;\n    const [match] = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.nodes(editor, {\n      at: selection,\n      match: isComposerBodyAutoLink,\n      mode: \"lowest\"\n    });\n    if (!match)\n      return;\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, {\n      match: isComposerBodyAutoLink\n    });\n  };\n  return editor;\n}\nfunction isComposerBodyAutoLink(node) {\n  return slate__WEBPACK_IMPORTED_MODULE_0__.Element.isElement(node) && node.type === \"auto-link\";\n}\nconst URL_REGEX = /((https?:\\/\\/(www\\.)?)|(www\\.))[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9().@:%_+~#?&//=]*)/;\nconst PUNCTUATION_OR_SPACE = /[.,;!?\\s]/;\nconst PERIOD_OR_QUESTION_MARK_FOLLOWED_BY_ALPHANUMERIC = /^[.?][a-zA-Z0-9]+/;\nfunction isSeparator(char) {\n  return PUNCTUATION_OR_SPACE.test(char);\n}\nfunction endsWithSeparator(textContent) {\n  return isSeparator(textContent[textContent.length - 1]);\n}\nfunction startsWithSeparator(textContent) {\n  return isSeparator(textContent[0]);\n}\nfunction endsWithPeriodOrQuestionMark(textContent) {\n  return textContent[textContent.length - 1] === \".\" || textContent[textContent.length - 1] === \"?\";\n}\nfunction isPreviousNodeValid(editor, path) {\n  const entry = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.previous(editor, { at: path });\n  if (!entry)\n    return true;\n  return slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(entry[0]) && (endsWithSeparator(entry[0].text) || entry[0].text === \"\");\n}\nfunction isNextNodeValid(editor, path) {\n  const entry = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.next(editor, { at: path });\n  if (!entry)\n    return true;\n  return slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(entry[0]) && (startsWithSeparator(entry[0].text) || entry[0].text === \"\");\n}\nfunction isContentAroundValid(editor, entry, start, end) {\n  const [node, path] = entry;\n  const text = node.text;\n  const contentBeforeIsValid = start > 0 ? isSeparator(text[start - 1]) : isPreviousNodeValid(editor, path);\n  const contentAfterIsValid = end < text.length ? isSeparator(text[end]) : isNextNodeValid(editor, path);\n  return contentBeforeIsValid && contentAfterIsValid;\n}\nconst handleLinkEdit = (editor, entry) => {\n  const [node, path] = entry;\n  const children = slate__WEBPACK_IMPORTED_MODULE_0__.Node.children(editor, path);\n  for (const [child] of children) {\n    if (slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(child))\n      continue;\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: path });\n    return;\n  }\n  const text = slate__WEBPACK_IMPORTED_MODULE_0__.Node.string(node);\n  const match = URL_REGEX.exec(text);\n  if (!match || match[0] !== text) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: path });\n    return;\n  }\n  if (endsWithPeriodOrQuestionMark(text)) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: path });\n    const textBeforePeriod = text.slice(0, text.length - 1);\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.wrapNodes(\n      editor,\n      {\n        type: \"auto-link\",\n        url: textBeforePeriod,\n        children: []\n      },\n      {\n        at: {\n          anchor: { path, offset: 0 },\n          focus: { path, offset: textBeforePeriod.length }\n        },\n        split: true\n      }\n    );\n    return;\n  }\n  if (!isPreviousNodeValid(editor, path) || !isNextNodeValid(editor, path)) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: path });\n    return;\n  }\n  if (node.url !== text) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.setNodes(editor, { url: match[0] }, { at: path });\n    return;\n  }\n};\nconst handleLinkCreate = (editor, entry) => {\n  const [node, path] = entry;\n  const match = URL_REGEX.exec(node.text);\n  if (!match)\n    return;\n  const start = match.index;\n  const end = start + match[0].length;\n  if (!isContentAroundValid(editor, entry, start, end))\n    return;\n  slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.wrapNodes(\n    editor,\n    {\n      type: \"auto-link\",\n      url: match[0],\n      children: []\n    },\n    {\n      at: {\n        anchor: { path, offset: start },\n        focus: { path, offset: end }\n      },\n      split: true\n    }\n  );\n  return;\n};\nconst handleNeighbours = (editor, entry) => {\n  const [node, path] = entry;\n  const text = node.text;\n  const previousSibling = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.previous(editor, { at: path });\n  if (previousSibling && isComposerBodyAutoLink(previousSibling[0])) {\n    if (PERIOD_OR_QUESTION_MARK_FOLLOWED_BY_ALPHANUMERIC.test(text)) {\n      slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: previousSibling[1] });\n      slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.mergeNodes(editor, { at: path });\n      return;\n    }\n    if (!startsWithSeparator(text)) {\n      slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: previousSibling[1] });\n      return;\n    }\n  }\n  const nextSibling = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.next(editor, { at: path });\n  if (nextSibling && isComposerBodyAutoLink(nextSibling[0]) && !endsWithSeparator(text)) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Transforms.unwrapNodes(editor, { at: nextSibling[1] });\n    return;\n  }\n};\n\n\n//# sourceMappingURL=auto-links.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3BsdWdpbnMvYXV0by1saW5rcy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZFOztBQUU3RTtBQUNBLFVBQVUsMENBQTBDO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVDQUFJO0FBQ1oseUJBQXlCLHVDQUFJO0FBQzdCO0FBQ0EsMkJBQTJCLHVDQUFJO0FBQy9CO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLFlBQVk7QUFDeEI7QUFDQTtBQUNBLFNBQVMsd0NBQUs7QUFDZDtBQUNBLG9CQUFvQix5Q0FBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLElBQUksNkNBQVU7QUFDZDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsMENBQU87QUFDaEI7QUFDQSx3RUFBd0UsTUFBTSxnQkFBZ0IsSUFBSTtBQUNsRyxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQix5Q0FBTSxvQkFBb0IsVUFBVTtBQUNwRDtBQUNBO0FBQ0EsU0FBUyx1Q0FBSTtBQUNiO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQU0sZ0JBQWdCLFVBQVU7QUFDaEQ7QUFDQTtBQUNBLFNBQVMsdUNBQUk7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQix1Q0FBSTtBQUN2QjtBQUNBLFFBQVEsdUNBQUk7QUFDWjtBQUNBLElBQUksNkNBQVUsdUJBQXVCLFVBQVU7QUFDL0M7QUFDQTtBQUNBLGVBQWUsdUNBQUk7QUFDbkI7QUFDQTtBQUNBLElBQUksNkNBQVUsdUJBQXVCLFVBQVU7QUFDL0M7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2Q0FBVSx1QkFBdUIsVUFBVTtBQUMvQztBQUNBLElBQUksNkNBQVU7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxvQkFBb0IsaUJBQWlCO0FBQ3JDLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSSw2Q0FBVSx1QkFBdUIsVUFBVTtBQUMvQztBQUNBO0FBQ0E7QUFDQSxJQUFJLDZDQUFVLG9CQUFvQixlQUFlLElBQUksVUFBVTtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDZDQUFVO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0Esa0JBQWtCLHFCQUFxQjtBQUN2QyxpQkFBaUI7QUFDakIsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIseUNBQU0sb0JBQW9CLFVBQVU7QUFDOUQ7QUFDQTtBQUNBLE1BQU0sNkNBQVUsdUJBQXVCLHdCQUF3QjtBQUMvRCxNQUFNLDZDQUFVLHNCQUFzQixVQUFVO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkNBQVUsdUJBQXVCLHdCQUF3QjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxzQkFBc0IseUNBQU0sZ0JBQWdCLFVBQVU7QUFDdEQ7QUFDQSxJQUFJLDZDQUFVLHVCQUF1QixvQkFBb0I7QUFDekQ7QUFDQTtBQUNBOztBQUVpRDtBQUNqRCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9zbGF0ZS9wbHVnaW5zL2F1dG8tbGlua3MubWpzPzUwYjQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRWxlbWVudCwgVGV4dCwgTm9kZSwgUGF0aCwgUmFuZ2UsIEVkaXRvciwgVHJhbnNmb3JtcyB9IGZyb20gJ3NsYXRlJztcblxuZnVuY3Rpb24gd2l0aEF1dG9MaW5rcyhlZGl0b3IpIHtcbiAgY29uc3QgeyBpc0lubGluZSwgbm9ybWFsaXplTm9kZSwgZGVsZXRlQmFja3dhcmQgfSA9IGVkaXRvcjtcbiAgZWRpdG9yLmlzSW5saW5lID0gKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gZWxlbWVudC50eXBlID09PSBcImF1dG8tbGlua1wiID8gdHJ1ZSA6IGlzSW5saW5lKGVsZW1lbnQpO1xuICB9O1xuICBlZGl0b3Iubm9ybWFsaXplTm9kZSA9IChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5O1xuICAgIGlmIChUZXh0LmlzVGV4dChub2RlKSkge1xuICAgICAgY29uc3QgcGFyZW50Tm9kZSA9IE5vZGUucGFyZW50KGVkaXRvciwgcGF0aCk7XG4gICAgICBpZiAoaXNDb21wb3NlckJvZHlBdXRvTGluayhwYXJlbnROb2RlKSkge1xuICAgICAgICBjb25zdCBwYXJlbnRQYXRoID0gUGF0aC5wYXJlbnQocGF0aCk7XG4gICAgICAgIGhhbmRsZUxpbmtFZGl0KGVkaXRvciwgW3BhcmVudE5vZGUsIHBhcmVudFBhdGhdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZUxpbmtDcmVhdGUoZWRpdG9yLCBbbm9kZSwgcGF0aF0pO1xuICAgICAgICBoYW5kbGVOZWlnaGJvdXJzKGVkaXRvciwgW25vZGUsIHBhdGhdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9ybWFsaXplTm9kZShlbnRyeSk7XG4gIH07XG4gIGVkaXRvci5kZWxldGVCYWNrd2FyZCA9ICh1bml0KSA9PiB7XG4gICAgZGVsZXRlQmFja3dhcmQodW5pdCk7XG4gICAgY29uc3QgeyBzZWxlY3Rpb24gfSA9IGVkaXRvcjtcbiAgICBpZiAoIXNlbGVjdGlvbilcbiAgICAgIHJldHVybjtcbiAgICBpZiAoIVJhbmdlLmlzQ29sbGFwc2VkKHNlbGVjdGlvbikpXG4gICAgICByZXR1cm47XG4gICAgY29uc3QgW21hdGNoXSA9IEVkaXRvci5ub2RlcyhlZGl0b3IsIHtcbiAgICAgIGF0OiBzZWxlY3Rpb24sXG4gICAgICBtYXRjaDogaXNDb21wb3NlckJvZHlBdXRvTGluayxcbiAgICAgIG1vZGU6IFwibG93ZXN0XCJcbiAgICB9KTtcbiAgICBpZiAoIW1hdGNoKVxuICAgICAgcmV0dXJuO1xuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7XG4gICAgICBtYXRjaDogaXNDb21wb3NlckJvZHlBdXRvTGlua1xuICAgIH0pO1xuICB9O1xuICByZXR1cm4gZWRpdG9yO1xufVxuZnVuY3Rpb24gaXNDb21wb3NlckJvZHlBdXRvTGluayhub2RlKSB7XG4gIHJldHVybiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBub2RlLnR5cGUgPT09IFwiYXV0by1saW5rXCI7XG59XG5jb25zdCBVUkxfUkVHRVggPSAvKChodHRwcz86XFwvXFwvKHd3d1xcLik/KXwod3d3XFwuKSlbLWEtekEtWjAtOUA6JS5fK34jPV17MSwyNTZ9XFwuW2EtekEtWjAtOSgpXXsxLDZ9XFxiKFstYS16QS1aMC05KCkuQDolXyt+Iz8mLy89XSopLztcbmNvbnN0IFBVTkNUVUFUSU9OX09SX1NQQUNFID0gL1suLDshP1xcc10vO1xuY29uc3QgUEVSSU9EX09SX1FVRVNUSU9OX01BUktfRk9MTE9XRURfQllfQUxQSEFOVU1FUklDID0gL15bLj9dW2EtekEtWjAtOV0rLztcbmZ1bmN0aW9uIGlzU2VwYXJhdG9yKGNoYXIpIHtcbiAgcmV0dXJuIFBVTkNUVUFUSU9OX09SX1NQQUNFLnRlc3QoY2hhcik7XG59XG5mdW5jdGlvbiBlbmRzV2l0aFNlcGFyYXRvcih0ZXh0Q29udGVudCkge1xuICByZXR1cm4gaXNTZXBhcmF0b3IodGV4dENvbnRlbnRbdGV4dENvbnRlbnQubGVuZ3RoIC0gMV0pO1xufVxuZnVuY3Rpb24gc3RhcnRzV2l0aFNlcGFyYXRvcih0ZXh0Q29udGVudCkge1xuICByZXR1cm4gaXNTZXBhcmF0b3IodGV4dENvbnRlbnRbMF0pO1xufVxuZnVuY3Rpb24gZW5kc1dpdGhQZXJpb2RPclF1ZXN0aW9uTWFyayh0ZXh0Q29udGVudCkge1xuICByZXR1cm4gdGV4dENvbnRlbnRbdGV4dENvbnRlbnQubGVuZ3RoIC0gMV0gPT09IFwiLlwiIHx8IHRleHRDb250ZW50W3RleHRDb250ZW50Lmxlbmd0aCAtIDFdID09PSBcIj9cIjtcbn1cbmZ1bmN0aW9uIGlzUHJldmlvdXNOb2RlVmFsaWQoZWRpdG9yLCBwYXRoKSB7XG4gIGNvbnN0IGVudHJ5ID0gRWRpdG9yLnByZXZpb3VzKGVkaXRvciwgeyBhdDogcGF0aCB9KTtcbiAgaWYgKCFlbnRyeSlcbiAgICByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIFRleHQuaXNUZXh0KGVudHJ5WzBdKSAmJiAoZW5kc1dpdGhTZXBhcmF0b3IoZW50cnlbMF0udGV4dCkgfHwgZW50cnlbMF0udGV4dCA9PT0gXCJcIik7XG59XG5mdW5jdGlvbiBpc05leHROb2RlVmFsaWQoZWRpdG9yLCBwYXRoKSB7XG4gIGNvbnN0IGVudHJ5ID0gRWRpdG9yLm5leHQoZWRpdG9yLCB7IGF0OiBwYXRoIH0pO1xuICBpZiAoIWVudHJ5KVxuICAgIHJldHVybiB0cnVlO1xuICByZXR1cm4gVGV4dC5pc1RleHQoZW50cnlbMF0pICYmIChzdGFydHNXaXRoU2VwYXJhdG9yKGVudHJ5WzBdLnRleHQpIHx8IGVudHJ5WzBdLnRleHQgPT09IFwiXCIpO1xufVxuZnVuY3Rpb24gaXNDb250ZW50QXJvdW5kVmFsaWQoZWRpdG9yLCBlbnRyeSwgc3RhcnQsIGVuZCkge1xuICBjb25zdCBbbm9kZSwgcGF0aF0gPSBlbnRyeTtcbiAgY29uc3QgdGV4dCA9IG5vZGUudGV4dDtcbiAgY29uc3QgY29udGVudEJlZm9yZUlzVmFsaWQgPSBzdGFydCA+IDAgPyBpc1NlcGFyYXRvcih0ZXh0W3N0YXJ0IC0gMV0pIDogaXNQcmV2aW91c05vZGVWYWxpZChlZGl0b3IsIHBhdGgpO1xuICBjb25zdCBjb250ZW50QWZ0ZXJJc1ZhbGlkID0gZW5kIDwgdGV4dC5sZW5ndGggPyBpc1NlcGFyYXRvcih0ZXh0W2VuZF0pIDogaXNOZXh0Tm9kZVZhbGlkKGVkaXRvciwgcGF0aCk7XG4gIHJldHVybiBjb250ZW50QmVmb3JlSXNWYWxpZCAmJiBjb250ZW50QWZ0ZXJJc1ZhbGlkO1xufVxuY29uc3QgaGFuZGxlTGlua0VkaXQgPSAoZWRpdG9yLCBlbnRyeSkgPT4ge1xuICBjb25zdCBbbm9kZSwgcGF0aF0gPSBlbnRyeTtcbiAgY29uc3QgY2hpbGRyZW4gPSBOb2RlLmNoaWxkcmVuKGVkaXRvciwgcGF0aCk7XG4gIGZvciAoY29uc3QgW2NoaWxkXSBvZiBjaGlsZHJlbikge1xuICAgIGlmIChUZXh0LmlzVGV4dChjaGlsZCkpXG4gICAgICBjb250aW51ZTtcbiAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwgeyBhdDogcGF0aCB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3QgdGV4dCA9IE5vZGUuc3RyaW5nKG5vZGUpO1xuICBjb25zdCBtYXRjaCA9IFVSTF9SRUdFWC5leGVjKHRleHQpO1xuICBpZiAoIW1hdGNoIHx8IG1hdGNoWzBdICE9PSB0ZXh0KSB7XG4gICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChlbmRzV2l0aFBlcmlvZE9yUXVlc3Rpb25NYXJrKHRleHQpKSB7XG4gICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSk7XG4gICAgY29uc3QgdGV4dEJlZm9yZVBlcmlvZCA9IHRleHQuc2xpY2UoMCwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICBUcmFuc2Zvcm1zLndyYXBOb2RlcyhcbiAgICAgIGVkaXRvcixcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJhdXRvLWxpbmtcIixcbiAgICAgICAgdXJsOiB0ZXh0QmVmb3JlUGVyaW9kLFxuICAgICAgICBjaGlsZHJlbjogW11cbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIGF0OiB7XG4gICAgICAgICAgYW5jaG9yOiB7IHBhdGgsIG9mZnNldDogMCB9LFxuICAgICAgICAgIGZvY3VzOiB7IHBhdGgsIG9mZnNldDogdGV4dEJlZm9yZVBlcmlvZC5sZW5ndGggfVxuICAgICAgICB9LFxuICAgICAgICBzcGxpdDogdHJ1ZVxuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaXNQcmV2aW91c05vZGVWYWxpZChlZGl0b3IsIHBhdGgpIHx8ICFpc05leHROb2RlVmFsaWQoZWRpdG9yLCBwYXRoKSkge1xuICAgIFRyYW5zZm9ybXMudW53cmFwTm9kZXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAobm9kZS51cmwgIT09IHRleHQpIHtcbiAgICBUcmFuc2Zvcm1zLnNldE5vZGVzKGVkaXRvciwgeyB1cmw6IG1hdGNoWzBdIH0sIHsgYXQ6IHBhdGggfSk7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuY29uc3QgaGFuZGxlTGlua0NyZWF0ZSA9IChlZGl0b3IsIGVudHJ5KSA9PiB7XG4gIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5O1xuICBjb25zdCBtYXRjaCA9IFVSTF9SRUdFWC5leGVjKG5vZGUudGV4dCk7XG4gIGlmICghbWF0Y2gpXG4gICAgcmV0dXJuO1xuICBjb25zdCBzdGFydCA9IG1hdGNoLmluZGV4O1xuICBjb25zdCBlbmQgPSBzdGFydCArIG1hdGNoWzBdLmxlbmd0aDtcbiAgaWYgKCFpc0NvbnRlbnRBcm91bmRWYWxpZChlZGl0b3IsIGVudHJ5LCBzdGFydCwgZW5kKSlcbiAgICByZXR1cm47XG4gIFRyYW5zZm9ybXMud3JhcE5vZGVzKFxuICAgIGVkaXRvcixcbiAgICB7XG4gICAgICB0eXBlOiBcImF1dG8tbGlua1wiLFxuICAgICAgdXJsOiBtYXRjaFswXSxcbiAgICAgIGNoaWxkcmVuOiBbXVxuICAgIH0sXG4gICAge1xuICAgICAgYXQ6IHtcbiAgICAgICAgYW5jaG9yOiB7IHBhdGgsIG9mZnNldDogc3RhcnQgfSxcbiAgICAgICAgZm9jdXM6IHsgcGF0aCwgb2Zmc2V0OiBlbmQgfVxuICAgICAgfSxcbiAgICAgIHNwbGl0OiB0cnVlXG4gICAgfVxuICApO1xuICByZXR1cm47XG59O1xuY29uc3QgaGFuZGxlTmVpZ2hib3VycyA9IChlZGl0b3IsIGVudHJ5KSA9PiB7XG4gIGNvbnN0IFtub2RlLCBwYXRoXSA9IGVudHJ5O1xuICBjb25zdCB0ZXh0ID0gbm9kZS50ZXh0O1xuICBjb25zdCBwcmV2aW91c1NpYmxpbmcgPSBFZGl0b3IucHJldmlvdXMoZWRpdG9yLCB7IGF0OiBwYXRoIH0pO1xuICBpZiAocHJldmlvdXNTaWJsaW5nICYmIGlzQ29tcG9zZXJCb2R5QXV0b0xpbmsocHJldmlvdXNTaWJsaW5nWzBdKSkge1xuICAgIGlmIChQRVJJT0RfT1JfUVVFU1RJT05fTUFSS19GT0xMT1dFRF9CWV9BTFBIQU5VTUVSSUMudGVzdCh0ZXh0KSkge1xuICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHByZXZpb3VzU2libGluZ1sxXSB9KTtcbiAgICAgIFRyYW5zZm9ybXMubWVyZ2VOb2RlcyhlZGl0b3IsIHsgYXQ6IHBhdGggfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3RhcnRzV2l0aFNlcGFyYXRvcih0ZXh0KSkge1xuICAgICAgVHJhbnNmb3Jtcy51bndyYXBOb2RlcyhlZGl0b3IsIHsgYXQ6IHByZXZpb3VzU2libGluZ1sxXSB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgY29uc3QgbmV4dFNpYmxpbmcgPSBFZGl0b3IubmV4dChlZGl0b3IsIHsgYXQ6IHBhdGggfSk7XG4gIGlmIChuZXh0U2libGluZyAmJiBpc0NvbXBvc2VyQm9keUF1dG9MaW5rKG5leHRTaWJsaW5nWzBdKSAmJiAhZW5kc1dpdGhTZXBhcmF0b3IodGV4dCkpIHtcbiAgICBUcmFuc2Zvcm1zLnVud3JhcE5vZGVzKGVkaXRvciwgeyBhdDogbmV4dFNpYmxpbmdbMV0gfSk7XG4gICAgcmV0dXJuO1xuICB9XG59O1xuXG5leHBvcnQgeyBpc0NvbXBvc2VyQm9keUF1dG9MaW5rLCB3aXRoQXV0b0xpbmtzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRvLWxpbmtzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/auto-links.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/empty-clear-formatting.mjs":
/*!***********************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/plugins/empty-clear-formatting.mjs ***!
  \***********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   withEmptyClearFormatting: function() { return /* binding */ withEmptyClearFormatting; }\n/* harmony export */ });\n/* harmony import */ var _utils_is_empty_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/is-empty.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty.mjs\");\n/* harmony import */ var _utils_marks_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/marks.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/marks.mjs\");\n\n\n\nfunction withEmptyClearFormatting(editor) {\n  const { onChange } = editor;\n  editor.onChange = (options) => {\n    if ((0,_utils_is_empty_mjs__WEBPACK_IMPORTED_MODULE_0__.isEmpty)(editor, editor.children)) {\n      (0,_utils_marks_mjs__WEBPACK_IMPORTED_MODULE_1__.removeMarks)(editor);\n    }\n    onChange(options);\n  };\n  return editor;\n}\n\n\n//# sourceMappingURL=empty-clear-formatting.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3BsdWdpbnMvZW1wdHktY2xlYXItZm9ybWF0dGluZy5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ0M7O0FBRWpEO0FBQ0EsVUFBVSxXQUFXO0FBQ3JCO0FBQ0EsUUFBUSw0REFBTztBQUNmLE1BQU0sNkRBQVc7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFb0M7QUFDcEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvc2xhdGUvcGx1Z2lucy9lbXB0eS1jbGVhci1mb3JtYXR0aW5nLm1qcz81OTQwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzRW1wdHkgfSBmcm9tICcuLi91dGlscy9pcy1lbXB0eS5tanMnO1xuaW1wb3J0IHsgcmVtb3ZlTWFya3MgfSBmcm9tICcuLi91dGlscy9tYXJrcy5tanMnO1xuXG5mdW5jdGlvbiB3aXRoRW1wdHlDbGVhckZvcm1hdHRpbmcoZWRpdG9yKSB7XG4gIGNvbnN0IHsgb25DaGFuZ2UgfSA9IGVkaXRvcjtcbiAgZWRpdG9yLm9uQ2hhbmdlID0gKG9wdGlvbnMpID0+IHtcbiAgICBpZiAoaXNFbXB0eShlZGl0b3IsIGVkaXRvci5jaGlsZHJlbikpIHtcbiAgICAgIHJlbW92ZU1hcmtzKGVkaXRvcik7XG4gICAgfVxuICAgIG9uQ2hhbmdlKG9wdGlvbnMpO1xuICB9O1xuICByZXR1cm4gZWRpdG9yO1xufVxuXG5leHBvcnQgeyB3aXRoRW1wdHlDbGVhckZvcm1hdHRpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVtcHR5LWNsZWFyLWZvcm1hdHRpbmcubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/empty-clear-formatting.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs":
/*!*********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs ***!
  \*********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MENTION_CHARACTER: function() { return /* binding */ MENTION_CHARACTER; },\n/* harmony export */   getMentionDraftAtSelection: function() { return /* binding */ getMentionDraftAtSelection; },\n/* harmony export */   insertMention: function() { return /* binding */ insertMention; },\n/* harmony export */   insertMentionCharacter: function() { return /* binding */ insertMentionCharacter; },\n/* harmony export */   isComposerBodyMention: function() { return /* binding */ isComposerBodyMention; },\n/* harmony export */   withMentions: function() { return /* binding */ withMentions; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var _utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../utils/get-character.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs\");\n/* harmony import */ var _utils_get_match_range_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/get-match-range.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-match-range.mjs\");\n/* harmony import */ var _utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/is-empty-string.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty-string.mjs\");\n/* harmony import */ var _utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/is-selection-collapsed.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs\");\n\n\n\n\n\n\nconst MENTION_CHARACTER = \"@\";\nfunction getMentionDraftAtSelection(editor) {\n  const { selection } = editor;\n  if (!(0,_utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_0__.isSelectionCollapsed)(selection)) {\n    return;\n  }\n  const match = (0,_utils_get_match_range_mjs__WEBPACK_IMPORTED_MODULE_1__.getMatchRange)(editor, selection);\n  if (!match) {\n    return;\n  }\n  const matchText = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.string(editor, match);\n  if (!matchText.startsWith(MENTION_CHARACTER)) {\n    return;\n  }\n  return {\n    range: match,\n    text: matchText.substring(1)\n  };\n}\nfunction isComposerBodyMention(node) {\n  return slate__WEBPACK_IMPORTED_MODULE_2__.Element.isElement(node) && node.type === \"mention\";\n}\nfunction insertMention(editor, userId) {\n  const mention = {\n    type: \"mention\",\n    id: userId,\n    children: [{ text: \"\" }]\n  };\n  slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.insertNodes(editor, mention);\n  slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.move(editor);\n  const afterCharacter = editor.selection ? (0,_utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_3__.getCharacterAfter)(editor, editor.selection) : void 0;\n  if (!afterCharacter || afterCharacter.void) {\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.insertText(editor, \" \");\n  } else if ((0,_utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(afterCharacter.text)) {\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.move(editor);\n  }\n}\nfunction insertMentionCharacter(editor) {\n  if (!editor.selection) {\n    return;\n  }\n  const beforeCharacter = (0,_utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_3__.getCharacterBefore)(editor, editor.selection, {\n    filterVoids: true\n  });\n  const afterCharacter = (0,_utils_get_character_mjs__WEBPACK_IMPORTED_MODULE_3__.getCharacterAfter)(editor, editor.selection, {\n    filterVoids: true\n  });\n  const shouldInsertSpaceBefore = beforeCharacter && !(0,_utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(beforeCharacter.text);\n  const shouldInsertSpaceAfter = afterCharacter && !(0,_utils_is_empty_string_mjs__WEBPACK_IMPORTED_MODULE_4__.isEmptyString)(afterCharacter.text);\n  if ((0,_utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_0__.isSelectionCollapsed)(editor.selection)) {\n    const text = (shouldInsertSpaceBefore ? \" \" : \"\") + MENTION_CHARACTER + (shouldInsertSpaceAfter ? \" \" : \"\");\n    editor.insertText(text);\n    if (shouldInsertSpaceAfter) {\n      slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.move(editor, {\n        distance: 1,\n        unit: \"character\",\n        reverse: true\n      });\n    }\n  } else {\n    const beforeText = (shouldInsertSpaceBefore ? \" \" : \"\") + MENTION_CHARACTER;\n    editor.insertText(beforeText, { at: slate__WEBPACK_IMPORTED_MODULE_2__.Range.start(editor.selection) });\n    if (shouldInsertSpaceAfter) {\n      editor.insertText(\" \", { at: slate__WEBPACK_IMPORTED_MODULE_2__.Range.end(editor.selection) });\n    }\n    slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.collapse(editor, { edge: \"end\" });\n  }\n}\nfunction withMentions(editor) {\n  const { isInline, isVoid, markableVoid, deleteBackward } = editor;\n  editor.isInline = (element) => {\n    return isComposerBodyMention(element) || isInline(element);\n  };\n  editor.isVoid = (element) => {\n    return isComposerBodyMention(element) || isVoid(element);\n  };\n  editor.markableVoid = (element) => {\n    return isComposerBodyMention(element) || markableVoid(element);\n  };\n  editor.deleteBackward = (unit) => {\n    const { selection } = editor;\n    if ((0,_utils_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_0__.isSelectionCollapsed)(selection)) {\n      const [mention] = slate__WEBPACK_IMPORTED_MODULE_2__.Editor.nodes(editor, {\n        at: unit === \"character\" ? slate__WEBPACK_IMPORTED_MODULE_2__.Editor.before(editor, selection, { unit: \"character\" }) : selection,\n        match: isComposerBodyMention\n      });\n      deleteBackward(unit);\n      if (mention) {\n        slate__WEBPACK_IMPORTED_MODULE_2__.Transforms.insertText(editor, MENTION_CHARACTER);\n      }\n    } else {\n      deleteBackward(unit);\n    }\n  };\n  return editor;\n}\n\n\n//# sourceMappingURL=mentions.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3BsdWdpbnMvbWVudGlvbnMubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQTJEO0FBQ3dCO0FBQ3RCO0FBQ0E7QUFDYzs7QUFFM0U7QUFDQTtBQUNBLFVBQVUsWUFBWTtBQUN0QixPQUFPLHVGQUFvQjtBQUMzQjtBQUNBO0FBQ0EsZ0JBQWdCLHlFQUFhO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5Q0FBTTtBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLDBDQUFPO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsVUFBVTtBQUMzQjtBQUNBLEVBQUUsNkNBQVU7QUFDWixFQUFFLDZDQUFVO0FBQ1osNENBQTRDLDJFQUFpQjtBQUM3RDtBQUNBLElBQUksNkNBQVU7QUFDZCxJQUFJLFNBQVMseUVBQWE7QUFDMUIsSUFBSSw2Q0FBVTtBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw0RUFBa0I7QUFDNUM7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLDJFQUFpQjtBQUMxQztBQUNBLEdBQUc7QUFDSCxzREFBc0QseUVBQWE7QUFDbkUsb0RBQW9ELHlFQUFhO0FBQ2pFLE1BQU0sdUZBQW9CO0FBQzFCO0FBQ0E7QUFDQTtBQUNBLE1BQU0sNkNBQVU7QUFDaEI7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0EsSUFBSTtBQUNKO0FBQ0Esb0NBQW9DLElBQUksd0NBQUssMEJBQTBCO0FBQ3ZFO0FBQ0EsK0JBQStCLElBQUksd0NBQUssd0JBQXdCO0FBQ2hFO0FBQ0EsSUFBSSw2Q0FBVSxvQkFBb0IsYUFBYTtBQUMvQztBQUNBO0FBQ0E7QUFDQSxVQUFVLGlEQUFpRDtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksWUFBWTtBQUN4QixRQUFRLHVGQUFvQjtBQUM1Qix3QkFBd0IseUNBQU07QUFDOUIsbUNBQW1DLHlDQUFNLDZCQUE2QixtQkFBbUI7QUFDekY7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLFFBQVEsNkNBQVU7QUFDbEI7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFcUk7QUFDckkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvc2xhdGUvcGx1Z2lucy9tZW50aW9ucy5tanM/OTkzOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIFRyYW5zZm9ybXMsIFJhbmdlLCBFbGVtZW50IH0gZnJvbSAnc2xhdGUnO1xuaW1wb3J0IHsgZ2V0Q2hhcmFjdGVyQWZ0ZXIsIGdldENoYXJhY3RlckJlZm9yZSB9IGZyb20gJy4uL3V0aWxzL2dldC1jaGFyYWN0ZXIubWpzJztcbmltcG9ydCB7IGdldE1hdGNoUmFuZ2UgfSBmcm9tICcuLi91dGlscy9nZXQtbWF0Y2gtcmFuZ2UubWpzJztcbmltcG9ydCB7IGlzRW1wdHlTdHJpbmcgfSBmcm9tICcuLi91dGlscy9pcy1lbXB0eS1zdHJpbmcubWpzJztcbmltcG9ydCB7IGlzU2VsZWN0aW9uQ29sbGFwc2VkIH0gZnJvbSAnLi4vdXRpbHMvaXMtc2VsZWN0aW9uLWNvbGxhcHNlZC5tanMnO1xuXG5jb25zdCBNRU5USU9OX0NIQVJBQ1RFUiA9IFwiQFwiO1xuZnVuY3Rpb24gZ2V0TWVudGlvbkRyYWZ0QXRTZWxlY3Rpb24oZWRpdG9yKSB7XG4gIGNvbnN0IHsgc2VsZWN0aW9uIH0gPSBlZGl0b3I7XG4gIGlmICghaXNTZWxlY3Rpb25Db2xsYXBzZWQoc2VsZWN0aW9uKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCBtYXRjaCA9IGdldE1hdGNoUmFuZ2UoZWRpdG9yLCBzZWxlY3Rpb24pO1xuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IG1hdGNoVGV4dCA9IEVkaXRvci5zdHJpbmcoZWRpdG9yLCBtYXRjaCk7XG4gIGlmICghbWF0Y2hUZXh0LnN0YXJ0c1dpdGgoTUVOVElPTl9DSEFSQUNURVIpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiB7XG4gICAgcmFuZ2U6IG1hdGNoLFxuICAgIHRleHQ6IG1hdGNoVGV4dC5zdWJzdHJpbmcoMSlcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzQ29tcG9zZXJCb2R5TWVudGlvbihub2RlKSB7XG4gIHJldHVybiBFbGVtZW50LmlzRWxlbWVudChub2RlKSAmJiBub2RlLnR5cGUgPT09IFwibWVudGlvblwiO1xufVxuZnVuY3Rpb24gaW5zZXJ0TWVudGlvbihlZGl0b3IsIHVzZXJJZCkge1xuICBjb25zdCBtZW50aW9uID0ge1xuICAgIHR5cGU6IFwibWVudGlvblwiLFxuICAgIGlkOiB1c2VySWQsXG4gICAgY2hpbGRyZW46IFt7IHRleHQ6IFwiXCIgfV1cbiAgfTtcbiAgVHJhbnNmb3Jtcy5pbnNlcnROb2RlcyhlZGl0b3IsIG1lbnRpb24pO1xuICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yKTtcbiAgY29uc3QgYWZ0ZXJDaGFyYWN0ZXIgPSBlZGl0b3Iuc2VsZWN0aW9uID8gZ2V0Q2hhcmFjdGVyQWZ0ZXIoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKSA6IHZvaWQgMDtcbiAgaWYgKCFhZnRlckNoYXJhY3RlciB8fCBhZnRlckNoYXJhY3Rlci52b2lkKSB7XG4gICAgVHJhbnNmb3Jtcy5pbnNlcnRUZXh0KGVkaXRvciwgXCIgXCIpO1xuICB9IGVsc2UgaWYgKGlzRW1wdHlTdHJpbmcoYWZ0ZXJDaGFyYWN0ZXIudGV4dCkpIHtcbiAgICBUcmFuc2Zvcm1zLm1vdmUoZWRpdG9yKTtcbiAgfVxufVxuZnVuY3Rpb24gaW5zZXJ0TWVudGlvbkNoYXJhY3RlcihlZGl0b3IpIHtcbiAgaWYgKCFlZGl0b3Iuc2VsZWN0aW9uKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IGJlZm9yZUNoYXJhY3RlciA9IGdldENoYXJhY3RlckJlZm9yZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24sIHtcbiAgICBmaWx0ZXJWb2lkczogdHJ1ZVxuICB9KTtcbiAgY29uc3QgYWZ0ZXJDaGFyYWN0ZXIgPSBnZXRDaGFyYWN0ZXJBZnRlcihlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24sIHtcbiAgICBmaWx0ZXJWb2lkczogdHJ1ZVxuICB9KTtcbiAgY29uc3Qgc2hvdWxkSW5zZXJ0U3BhY2VCZWZvcmUgPSBiZWZvcmVDaGFyYWN0ZXIgJiYgIWlzRW1wdHlTdHJpbmcoYmVmb3JlQ2hhcmFjdGVyLnRleHQpO1xuICBjb25zdCBzaG91bGRJbnNlcnRTcGFjZUFmdGVyID0gYWZ0ZXJDaGFyYWN0ZXIgJiYgIWlzRW1wdHlTdHJpbmcoYWZ0ZXJDaGFyYWN0ZXIudGV4dCk7XG4gIGlmIChpc1NlbGVjdGlvbkNvbGxhcHNlZChlZGl0b3Iuc2VsZWN0aW9uKSkge1xuICAgIGNvbnN0IHRleHQgPSAoc2hvdWxkSW5zZXJ0U3BhY2VCZWZvcmUgPyBcIiBcIiA6IFwiXCIpICsgTUVOVElPTl9DSEFSQUNURVIgKyAoc2hvdWxkSW5zZXJ0U3BhY2VBZnRlciA/IFwiIFwiIDogXCJcIik7XG4gICAgZWRpdG9yLmluc2VydFRleHQodGV4dCk7XG4gICAgaWYgKHNob3VsZEluc2VydFNwYWNlQWZ0ZXIpIHtcbiAgICAgIFRyYW5zZm9ybXMubW92ZShlZGl0b3IsIHtcbiAgICAgICAgZGlzdGFuY2U6IDEsXG4gICAgICAgIHVuaXQ6IFwiY2hhcmFjdGVyXCIsXG4gICAgICAgIHJldmVyc2U6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zdCBiZWZvcmVUZXh0ID0gKHNob3VsZEluc2VydFNwYWNlQmVmb3JlID8gXCIgXCIgOiBcIlwiKSArIE1FTlRJT05fQ0hBUkFDVEVSO1xuICAgIGVkaXRvci5pbnNlcnRUZXh0KGJlZm9yZVRleHQsIHsgYXQ6IFJhbmdlLnN0YXJ0KGVkaXRvci5zZWxlY3Rpb24pIH0pO1xuICAgIGlmIChzaG91bGRJbnNlcnRTcGFjZUFmdGVyKSB7XG4gICAgICBlZGl0b3IuaW5zZXJ0VGV4dChcIiBcIiwgeyBhdDogUmFuZ2UuZW5kKGVkaXRvci5zZWxlY3Rpb24pIH0pO1xuICAgIH1cbiAgICBUcmFuc2Zvcm1zLmNvbGxhcHNlKGVkaXRvciwgeyBlZGdlOiBcImVuZFwiIH0pO1xuICB9XG59XG5mdW5jdGlvbiB3aXRoTWVudGlvbnMoZWRpdG9yKSB7XG4gIGNvbnN0IHsgaXNJbmxpbmUsIGlzVm9pZCwgbWFya2FibGVWb2lkLCBkZWxldGVCYWNrd2FyZCB9ID0gZWRpdG9yO1xuICBlZGl0b3IuaXNJbmxpbmUgPSAoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBpc0NvbXBvc2VyQm9keU1lbnRpb24oZWxlbWVudCkgfHwgaXNJbmxpbmUoZWxlbWVudCk7XG4gIH07XG4gIGVkaXRvci5pc1ZvaWQgPSAoZWxlbWVudCkgPT4ge1xuICAgIHJldHVybiBpc0NvbXBvc2VyQm9keU1lbnRpb24oZWxlbWVudCkgfHwgaXNWb2lkKGVsZW1lbnQpO1xuICB9O1xuICBlZGl0b3IubWFya2FibGVWb2lkID0gKGVsZW1lbnQpID0+IHtcbiAgICByZXR1cm4gaXNDb21wb3NlckJvZHlNZW50aW9uKGVsZW1lbnQpIHx8IG1hcmthYmxlVm9pZChlbGVtZW50KTtcbiAgfTtcbiAgZWRpdG9yLmRlbGV0ZUJhY2t3YXJkID0gKHVuaXQpID0+IHtcbiAgICBjb25zdCB7IHNlbGVjdGlvbiB9ID0gZWRpdG9yO1xuICAgIGlmIChpc1NlbGVjdGlvbkNvbGxhcHNlZChzZWxlY3Rpb24pKSB7XG4gICAgICBjb25zdCBbbWVudGlvbl0gPSBFZGl0b3Iubm9kZXMoZWRpdG9yLCB7XG4gICAgICAgIGF0OiB1bml0ID09PSBcImNoYXJhY3RlclwiID8gRWRpdG9yLmJlZm9yZShlZGl0b3IsIHNlbGVjdGlvbiwgeyB1bml0OiBcImNoYXJhY3RlclwiIH0pIDogc2VsZWN0aW9uLFxuICAgICAgICBtYXRjaDogaXNDb21wb3NlckJvZHlNZW50aW9uXG4gICAgICB9KTtcbiAgICAgIGRlbGV0ZUJhY2t3YXJkKHVuaXQpO1xuICAgICAgaWYgKG1lbnRpb24pIHtcbiAgICAgICAgVHJhbnNmb3Jtcy5pbnNlcnRUZXh0KGVkaXRvciwgTUVOVElPTl9DSEFSQUNURVIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGVCYWNrd2FyZCh1bml0KTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBlZGl0b3I7XG59XG5cbmV4cG9ydCB7IE1FTlRJT05fQ0hBUkFDVEVSLCBnZXRNZW50aW9uRHJhZnRBdFNlbGVjdGlvbiwgaW5zZXJ0TWVudGlvbiwgaW5zZXJ0TWVudGlvbkNoYXJhY3RlciwgaXNDb21wb3NlckJvZHlNZW50aW9uLCB3aXRoTWVudGlvbnMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lbnRpb25zLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/plugins/mentions.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCharacterAfter: function() { return /* binding */ getCharacterAfter; },\n/* harmony export */   getCharacterBefore: function() { return /* binding */ getCharacterBefore; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\nfunction getCharacterBefore(editor, at, options = {}) {\n  const { filterVoids } = options;\n  const before = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, at, {\n    unit: \"character\",\n    voids: filterVoids\n  });\n  if (before) {\n    const range = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.range(\n      editor,\n      before,\n      slate__WEBPACK_IMPORTED_MODULE_0__.Range.isRange(at) ? slate__WEBPACK_IMPORTED_MODULE_0__.Range.start(at) : at\n    );\n    const text = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.string(editor, range);\n    return {\n      range,\n      text,\n      void: text.length === 0\n    };\n  }\n  return;\n}\nfunction getCharacterAfter(editor, at, options = {}) {\n  const { filterVoids } = options;\n  const after = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.after(editor, at, {\n    unit: \"character\",\n    voids: filterVoids\n  });\n  if (after) {\n    const range = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.range(\n      editor,\n      after,\n      slate__WEBPACK_IMPORTED_MODULE_0__.Range.isRange(at) ? slate__WEBPACK_IMPORTED_MODULE_0__.Range.end(at) : at\n    );\n    const text = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.string(editor, range);\n    return {\n      range,\n      text,\n      void: text.length === 0\n    };\n  }\n  return;\n}\n\n\n//# sourceMappingURL=get-character.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2dldC1jaGFyYWN0ZXIubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFzQzs7QUFFdEMsb0RBQW9EO0FBQ3BELFVBQVUsY0FBYztBQUN4QixpQkFBaUIseUNBQU07QUFDdkI7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLGtCQUFrQix5Q0FBTTtBQUN4QjtBQUNBO0FBQ0EsTUFBTSx3Q0FBSyxlQUFlLHdDQUFLO0FBQy9CO0FBQ0EsaUJBQWlCLHlDQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtREFBbUQ7QUFDbkQsVUFBVSxjQUFjO0FBQ3hCLGdCQUFnQix5Q0FBTTtBQUN0QjtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0Esa0JBQWtCLHlDQUFNO0FBQ3hCO0FBQ0E7QUFDQSxNQUFNLHdDQUFLLGVBQWUsd0NBQUs7QUFDL0I7QUFDQSxpQkFBaUIseUNBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFaUQ7QUFDakQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvc2xhdGUvdXRpbHMvZ2V0LWNoYXJhY3Rlci5tanM/MjE5YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IsIFJhbmdlIH0gZnJvbSAnc2xhdGUnO1xuXG5mdW5jdGlvbiBnZXRDaGFyYWN0ZXJCZWZvcmUoZWRpdG9yLCBhdCwgb3B0aW9ucyA9IHt9KSB7XG4gIGNvbnN0IHsgZmlsdGVyVm9pZHMgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGJlZm9yZSA9IEVkaXRvci5iZWZvcmUoZWRpdG9yLCBhdCwge1xuICAgIHVuaXQ6IFwiY2hhcmFjdGVyXCIsXG4gICAgdm9pZHM6IGZpbHRlclZvaWRzXG4gIH0pO1xuICBpZiAoYmVmb3JlKSB7XG4gICAgY29uc3QgcmFuZ2UgPSBFZGl0b3IucmFuZ2UoXG4gICAgICBlZGl0b3IsXG4gICAgICBiZWZvcmUsXG4gICAgICBSYW5nZS5pc1JhbmdlKGF0KSA/IFJhbmdlLnN0YXJ0KGF0KSA6IGF0XG4gICAgKTtcbiAgICBjb25zdCB0ZXh0ID0gRWRpdG9yLnN0cmluZyhlZGl0b3IsIHJhbmdlKTtcbiAgICByZXR1cm4ge1xuICAgICAgcmFuZ2UsXG4gICAgICB0ZXh0LFxuICAgICAgdm9pZDogdGV4dC5sZW5ndGggPT09IDBcbiAgICB9O1xuICB9XG4gIHJldHVybjtcbn1cbmZ1bmN0aW9uIGdldENoYXJhY3RlckFmdGVyKGVkaXRvciwgYXQsIG9wdGlvbnMgPSB7fSkge1xuICBjb25zdCB7IGZpbHRlclZvaWRzIH0gPSBvcHRpb25zO1xuICBjb25zdCBhZnRlciA9IEVkaXRvci5hZnRlcihlZGl0b3IsIGF0LCB7XG4gICAgdW5pdDogXCJjaGFyYWN0ZXJcIixcbiAgICB2b2lkczogZmlsdGVyVm9pZHNcbiAgfSk7XG4gIGlmIChhZnRlcikge1xuICAgIGNvbnN0IHJhbmdlID0gRWRpdG9yLnJhbmdlKFxuICAgICAgZWRpdG9yLFxuICAgICAgYWZ0ZXIsXG4gICAgICBSYW5nZS5pc1JhbmdlKGF0KSA/IFJhbmdlLmVuZChhdCkgOiBhdFxuICAgICk7XG4gICAgY29uc3QgdGV4dCA9IEVkaXRvci5zdHJpbmcoZWRpdG9yLCByYW5nZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHJhbmdlLFxuICAgICAgdGV4dCxcbiAgICAgIHZvaWQ6IHRleHQubGVuZ3RoID09PSAwXG4gICAgfTtcbiAgfVxuICByZXR1cm47XG59XG5cbmV4cG9ydCB7IGdldENoYXJhY3RlckFmdGVyLCBnZXRDaGFyYWN0ZXJCZWZvcmUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1jaGFyYWN0ZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-dom-range.mjs":
/*!************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/get-dom-range.mjs ***!
  \************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getDOMRange: function() { return /* binding */ getDOMRange; }\n/* harmony export */ });\n/* harmony import */ var slate_react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate-react */ \"(app-pages-browser)/./node_modules/slate-react/dist/index.es.js\");\n\n\nfunction getDOMRange(editor, range) {\n  try {\n    return slate_react__WEBPACK_IMPORTED_MODULE_0__.ReactEditor.toDOMRange(editor, range);\n  } catch (error) {\n    return getDOMRange(editor, {\n      anchor: range.anchor,\n      focus: range.anchor\n    });\n  }\n}\n\n\n//# sourceMappingURL=get-dom-range.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2dldC1kb20tcmFuZ2UubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBO0FBQ0EsV0FBVyxvREFBVztBQUN0QixJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2dldC1kb20tcmFuZ2UubWpzP2EyMjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUmVhY3RFZGl0b3IgfSBmcm9tICdzbGF0ZS1yZWFjdCc7XG5cbmZ1bmN0aW9uIGdldERPTVJhbmdlKGVkaXRvciwgcmFuZ2UpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gUmVhY3RFZGl0b3IudG9ET01SYW5nZShlZGl0b3IsIHJhbmdlKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICByZXR1cm4gZ2V0RE9NUmFuZ2UoZWRpdG9yLCB7XG4gICAgICBhbmNob3I6IHJhbmdlLmFuY2hvcixcbiAgICAgIGZvY3VzOiByYW5nZS5hbmNob3JcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgeyBnZXRET01SYW5nZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z2V0LWRvbS1yYW5nZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-dom-range.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-match-range.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/get-match-range.mjs ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMatchRange: function() { return /* binding */ getMatchRange; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\nconst defaultOptions = {\n  direction: \"before\"\n};\nfunction getMatchRange(editor, at, terminators = [\" \"], options = defaultOptions) {\n  const { include, direction } = { ...defaultOptions, ...options };\n  let [start, end] = slate__WEBPACK_IMPORTED_MODULE_0__.Range.edges(at);\n  let point = start;\n  function move(direction2) {\n    const next = direction2 === \"after\" ? slate__WEBPACK_IMPORTED_MODULE_0__.Editor.after(editor, point, {\n      unit: \"character\"\n    }) : slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, point, { unit: \"character\" });\n    const nextWord = next && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.string(\n      editor,\n      direction2 === \"after\" ? { anchor: point, focus: next } : { anchor: next, focus: point }\n    );\n    const lastWord = nextWord && nextWord[direction2 === \"after\" ? 0 : nextWord.length - 1];\n    if (next && lastWord && !terminators.includes(lastWord)) {\n      point = next;\n      if (point.offset === 0) {\n        return false;\n      }\n    } else {\n      return false;\n    }\n    return true;\n  }\n  if (direction !== \"before\") {\n    point = end;\n    while (move(\"after\"))\n      ;\n    end = point;\n  }\n  if (direction !== \"after\") {\n    point = start;\n    while (move(\"before\"))\n      ;\n    start = point;\n  }\n  if (include) {\n    return {\n      anchor: slate__WEBPACK_IMPORTED_MODULE_0__.Editor.before(editor, start, { unit: \"offset\" }) ?? start,\n      focus: slate__WEBPACK_IMPORTED_MODULE_0__.Editor.after(editor, end, { unit: \"offset\" }) ?? end\n    };\n  }\n  return { anchor: start, focus: end };\n}\n\n\n//# sourceMappingURL=get-match-range.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2dldC1tYXRjaC1yYW5nZS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0M7O0FBRXRDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxxQkFBcUIsSUFBSTtBQUNuQyxxQkFBcUIsd0NBQUs7QUFDMUI7QUFDQTtBQUNBLDBDQUEwQyx5Q0FBTTtBQUNoRDtBQUNBLEtBQUssSUFBSSx5Q0FBTSx5QkFBeUIsbUJBQW1CO0FBQzNELDZCQUE2Qix5Q0FBTTtBQUNuQztBQUNBLGlDQUFpQyw2QkFBNkIsSUFBSTtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHlDQUFNLHlCQUF5QixnQkFBZ0I7QUFDN0QsYUFBYSx5Q0FBTSxzQkFBc0IsZ0JBQWdCO0FBQ3pEO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7O0FBRXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2dldC1tYXRjaC1yYW5nZS5tanM/MDBhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSYW5nZSwgRWRpdG9yIH0gZnJvbSAnc2xhdGUnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgZGlyZWN0aW9uOiBcImJlZm9yZVwiXG59O1xuZnVuY3Rpb24gZ2V0TWF0Y2hSYW5nZShlZGl0b3IsIGF0LCB0ZXJtaW5hdG9ycyA9IFtcIiBcIl0sIG9wdGlvbnMgPSBkZWZhdWx0T3B0aW9ucykge1xuICBjb25zdCB7IGluY2x1ZGUsIGRpcmVjdGlvbiB9ID0geyAuLi5kZWZhdWx0T3B0aW9ucywgLi4ub3B0aW9ucyB9O1xuICBsZXQgW3N0YXJ0LCBlbmRdID0gUmFuZ2UuZWRnZXMoYXQpO1xuICBsZXQgcG9pbnQgPSBzdGFydDtcbiAgZnVuY3Rpb24gbW92ZShkaXJlY3Rpb24yKSB7XG4gICAgY29uc3QgbmV4dCA9IGRpcmVjdGlvbjIgPT09IFwiYWZ0ZXJcIiA/IEVkaXRvci5hZnRlcihlZGl0b3IsIHBvaW50LCB7XG4gICAgICB1bml0OiBcImNoYXJhY3RlclwiXG4gICAgfSkgOiBFZGl0b3IuYmVmb3JlKGVkaXRvciwgcG9pbnQsIHsgdW5pdDogXCJjaGFyYWN0ZXJcIiB9KTtcbiAgICBjb25zdCBuZXh0V29yZCA9IG5leHQgJiYgRWRpdG9yLnN0cmluZyhcbiAgICAgIGVkaXRvcixcbiAgICAgIGRpcmVjdGlvbjIgPT09IFwiYWZ0ZXJcIiA/IHsgYW5jaG9yOiBwb2ludCwgZm9jdXM6IG5leHQgfSA6IHsgYW5jaG9yOiBuZXh0LCBmb2N1czogcG9pbnQgfVxuICAgICk7XG4gICAgY29uc3QgbGFzdFdvcmQgPSBuZXh0V29yZCAmJiBuZXh0V29yZFtkaXJlY3Rpb24yID09PSBcImFmdGVyXCIgPyAwIDogbmV4dFdvcmQubGVuZ3RoIC0gMV07XG4gICAgaWYgKG5leHQgJiYgbGFzdFdvcmQgJiYgIXRlcm1pbmF0b3JzLmluY2x1ZGVzKGxhc3RXb3JkKSkge1xuICAgICAgcG9pbnQgPSBuZXh0O1xuICAgICAgaWYgKHBvaW50Lm9mZnNldCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKGRpcmVjdGlvbiAhPT0gXCJiZWZvcmVcIikge1xuICAgIHBvaW50ID0gZW5kO1xuICAgIHdoaWxlIChtb3ZlKFwiYWZ0ZXJcIikpXG4gICAgICA7XG4gICAgZW5kID0gcG9pbnQ7XG4gIH1cbiAgaWYgKGRpcmVjdGlvbiAhPT0gXCJhZnRlclwiKSB7XG4gICAgcG9pbnQgPSBzdGFydDtcbiAgICB3aGlsZSAobW92ZShcImJlZm9yZVwiKSlcbiAgICAgIDtcbiAgICBzdGFydCA9IHBvaW50O1xuICB9XG4gIGlmIChpbmNsdWRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFuY2hvcjogRWRpdG9yLmJlZm9yZShlZGl0b3IsIHN0YXJ0LCB7IHVuaXQ6IFwib2Zmc2V0XCIgfSkgPz8gc3RhcnQsXG4gICAgICBmb2N1czogRWRpdG9yLmFmdGVyKGVkaXRvciwgZW5kLCB7IHVuaXQ6IFwib2Zmc2V0XCIgfSkgPz8gZW5kXG4gICAgfTtcbiAgfVxuICByZXR1cm4geyBhbmNob3I6IHN0YXJ0LCBmb2N1czogZW5kIH07XG59XG5cbmV4cG9ydCB7IGdldE1hdGNoUmFuZ2UgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1tYXRjaC1yYW5nZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-match-range.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty-string.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty-string.mjs ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isEmptyString: function() { return /* binding */ isEmptyString; }\n/* harmony export */ });\nfunction isEmptyString(string) {\n  return !string.trim();\n}\n\n\n//# sourceMappingURL=is-empty-string.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2lzLWVtcHR5LXN0cmluZy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFeUI7QUFDekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvc2xhdGUvdXRpbHMvaXMtZW1wdHktc3RyaW5nLm1qcz82MGY2Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGlzRW1wdHlTdHJpbmcoc3RyaW5nKSB7XG4gIHJldHVybiAhc3RyaW5nLnRyaW0oKTtcbn1cblxuZXhwb3J0IHsgaXNFbXB0eVN0cmluZyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtZW1wdHktc3RyaW5nLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty-string.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty.mjs ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isEmpty: function() { return /* binding */ isEmpty; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\nfunction isEmpty(editor, children) {\n  return children.length <= 1 && !slate__WEBPACK_IMPORTED_MODULE_0__.Text.isText(children[0]) && slate__WEBPACK_IMPORTED_MODULE_0__.Editor.isEmpty(editor, children[0]);\n}\n\n\n//# sourceMappingURL=is-empty.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2lzLWVtcHR5Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFxQzs7QUFFckM7QUFDQSxrQ0FBa0MsdUNBQUksd0JBQXdCLHlDQUFNO0FBQ3BFOztBQUVtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9zbGF0ZS91dGlscy9pcy1lbXB0eS5tanM/NDYwNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUZXh0LCBFZGl0b3IgfSBmcm9tICdzbGF0ZSc7XG5cbmZ1bmN0aW9uIGlzRW1wdHkoZWRpdG9yLCBjaGlsZHJlbikge1xuICByZXR1cm4gY2hpbGRyZW4ubGVuZ3RoIDw9IDEgJiYgIVRleHQuaXNUZXh0KGNoaWxkcmVuWzBdKSAmJiBFZGl0b3IuaXNFbXB0eShlZGl0b3IsIGNoaWxkcmVuWzBdKTtcbn1cblxuZXhwb3J0IHsgaXNFbXB0eSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXMtZW1wdHkubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-empty.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs":
/*!*********************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs ***!
  \*********************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isSelectionCollapsed: function() { return /* binding */ isSelectionCollapsed; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n\n\nfunction isSelectionCollapsed(selection) {\n  return selection !== null && slate__WEBPACK_IMPORTED_MODULE_0__.Range.isCollapsed(selection);\n}\n\n\n//# sourceMappingURL=is-selection-collapsed.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL2lzLXNlbGVjdGlvbi1jb2xsYXBzZWQubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThCOztBQUU5QjtBQUNBLCtCQUErQix3Q0FBSztBQUNwQzs7QUFFZ0M7QUFDaEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3Qvc2xhdGUvdXRpbHMvaXMtc2VsZWN0aW9uLWNvbGxhcHNlZC5tanM/MzM3MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBSYW5nZSB9IGZyb20gJ3NsYXRlJztcblxuZnVuY3Rpb24gaXNTZWxlY3Rpb25Db2xsYXBzZWQoc2VsZWN0aW9uKSB7XG4gIHJldHVybiBzZWxlY3Rpb24gIT09IG51bGwgJiYgUmFuZ2UuaXNDb2xsYXBzZWQoc2VsZWN0aW9uKTtcbn1cblxuZXhwb3J0IHsgaXNTZWxlY3Rpb25Db2xsYXBzZWQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLXNlbGVjdGlvbi1jb2xsYXBzZWQubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/marks.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/slate/utils/marks.mjs ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isMarkActive: function() { return /* binding */ isMarkActive; },\n/* harmony export */   leaveMarkEdge: function() { return /* binding */ leaveMarkEdge; },\n/* harmony export */   removeMarks: function() { return /* binding */ removeMarks; },\n/* harmony export */   toggleMark: function() { return /* binding */ toggleMark; }\n/* harmony export */ });\n/* harmony import */ var slate__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! slate */ \"(app-pages-browser)/./node_modules/slate/dist/index.es.js\");\n/* harmony import */ var _get_character_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./get-character.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/get-character.mjs\");\n/* harmony import */ var _is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./is-selection-collapsed.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/is-selection-collapsed.mjs\");\n\n\n\n\nfunction isMarkActive(editor, format) {\n  const marks = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.marks(editor);\n  return marks ? marks[format] === true : false;\n}\nfunction toggleMark(editor, format) {\n  const isActive = isMarkActive(editor, format);\n  if (isActive) {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Editor.removeMark(editor, format);\n  } else {\n    slate__WEBPACK_IMPORTED_MODULE_0__.Editor.addMark(editor, format, true);\n  }\n}\nfunction removeMarks(editor) {\n  const marks = slate__WEBPACK_IMPORTED_MODULE_0__.Editor.marks(editor);\n  if (marks) {\n    for (const mark in marks) {\n      slate__WEBPACK_IMPORTED_MODULE_0__.Editor.removeMark(editor, mark);\n    }\n  }\n}\nfunction leaveMarkEdge(editor, edge) {\n  if ((0,_is_selection_collapsed_mjs__WEBPACK_IMPORTED_MODULE_1__.isSelectionCollapsed)(editor.selection)) {\n    const marks = Object.keys(slate__WEBPACK_IMPORTED_MODULE_0__.Editor.marks(editor) ?? {});\n    if (marks.length > 0) {\n      const sibling = edge === \"start\" ? (0,_get_character_mjs__WEBPACK_IMPORTED_MODULE_2__.getCharacterBefore)(editor, editor.selection) : (0,_get_character_mjs__WEBPACK_IMPORTED_MODULE_2__.getCharacterAfter)(editor, editor.selection);\n      if (!sibling) {\n        removeMarks(editor);\n      }\n    }\n  }\n}\n\n\n//# sourceMappingURL=marks.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3NsYXRlL3V0aWxzL21hcmtzLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQStCO0FBQzZDO0FBQ1I7O0FBRXBFO0FBQ0EsZ0JBQWdCLHlDQUFNO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLHlDQUFNO0FBQ1YsSUFBSTtBQUNKLElBQUkseUNBQU07QUFDVjtBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IseUNBQU07QUFDdEI7QUFDQTtBQUNBLE1BQU0seUNBQU07QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0saUZBQW9CO0FBQzFCLDhCQUE4Qix5Q0FBTSxvQkFBb0I7QUFDeEQ7QUFDQSx5Q0FBeUMsc0VBQWtCLDZCQUE2QixxRUFBaUI7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVnRTtBQUNoRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC9zbGF0ZS91dGlscy9tYXJrcy5tanM/YmNmZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFZGl0b3IgfSBmcm9tICdzbGF0ZSc7XG5pbXBvcnQgeyBnZXRDaGFyYWN0ZXJCZWZvcmUsIGdldENoYXJhY3RlckFmdGVyIH0gZnJvbSAnLi9nZXQtY2hhcmFjdGVyLm1qcyc7XG5pbXBvcnQgeyBpc1NlbGVjdGlvbkNvbGxhcHNlZCB9IGZyb20gJy4vaXMtc2VsZWN0aW9uLWNvbGxhcHNlZC5tanMnO1xuXG5mdW5jdGlvbiBpc01hcmtBY3RpdmUoZWRpdG9yLCBmb3JtYXQpIHtcbiAgY29uc3QgbWFya3MgPSBFZGl0b3IubWFya3MoZWRpdG9yKTtcbiAgcmV0dXJuIG1hcmtzID8gbWFya3NbZm9ybWF0XSA9PT0gdHJ1ZSA6IGZhbHNlO1xufVxuZnVuY3Rpb24gdG9nZ2xlTWFyayhlZGl0b3IsIGZvcm1hdCkge1xuICBjb25zdCBpc0FjdGl2ZSA9IGlzTWFya0FjdGl2ZShlZGl0b3IsIGZvcm1hdCk7XG4gIGlmIChpc0FjdGl2ZSkge1xuICAgIEVkaXRvci5yZW1vdmVNYXJrKGVkaXRvciwgZm9ybWF0KTtcbiAgfSBlbHNlIHtcbiAgICBFZGl0b3IuYWRkTWFyayhlZGl0b3IsIGZvcm1hdCwgdHJ1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHJlbW92ZU1hcmtzKGVkaXRvcikge1xuICBjb25zdCBtYXJrcyA9IEVkaXRvci5tYXJrcyhlZGl0b3IpO1xuICBpZiAobWFya3MpIHtcbiAgICBmb3IgKGNvbnN0IG1hcmsgaW4gbWFya3MpIHtcbiAgICAgIEVkaXRvci5yZW1vdmVNYXJrKGVkaXRvciwgbWFyayk7XG4gICAgfVxuICB9XG59XG5mdW5jdGlvbiBsZWF2ZU1hcmtFZGdlKGVkaXRvciwgZWRnZSkge1xuICBpZiAoaXNTZWxlY3Rpb25Db2xsYXBzZWQoZWRpdG9yLnNlbGVjdGlvbikpIHtcbiAgICBjb25zdCBtYXJrcyA9IE9iamVjdC5rZXlzKEVkaXRvci5tYXJrcyhlZGl0b3IpID8/IHt9KTtcbiAgICBpZiAobWFya3MubGVuZ3RoID4gMCkge1xuICAgICAgY29uc3Qgc2libGluZyA9IGVkZ2UgPT09IFwic3RhcnRcIiA/IGdldENoYXJhY3RlckJlZm9yZShlZGl0b3IsIGVkaXRvci5zZWxlY3Rpb24pIDogZ2V0Q2hhcmFjdGVyQWZ0ZXIoZWRpdG9yLCBlZGl0b3Iuc2VsZWN0aW9uKTtcbiAgICAgIGlmICghc2libGluZykge1xuICAgICAgICByZW1vdmVNYXJrcyhlZGl0b3IpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgeyBpc01hcmtBY3RpdmUsIGxlYXZlTWFya0VkZ2UsIHJlbW92ZU1hcmtzLCB0b2dnbGVNYXJrIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXJrcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/slate/utils/marks.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Persist.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/Persist.mjs ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Persist: function() { return /* binding */ Persist; },\n/* harmony export */   useAnimationPersist: function() { return /* binding */ useAnimationPersist; },\n/* harmony export */   usePersist: function() { return /* binding */ usePersist; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _flush_sync_mjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./flush-sync.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/flush-sync.mjs\");\n/* harmony import */ var _use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./use-layout-effect.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs\");\n/* __next_internal_client_entry_do_not_use__ Persist,useAnimationPersist,usePersist auto */ var _s = $RefreshSig$(), _s1 = $RefreshSig$(), _s2 = $RefreshSig$();\n\n\n\n\nconst PERSIST_NAME = \"Persist\";\nconst PersistContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(null);\nfunction usePersist() {\n    _s();\n    const persistContext = (0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(PersistContext);\n    return (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.nn)(persistContext, \"Persist is missing from the React tree.\");\n}\n_s(usePersist, \"3fY2n91VelpHZycQyuvuJ7+EhjE=\");\nfunction getChild(children) {\n    const child = Array.isArray(children) ? react__WEBPACK_IMPORTED_MODULE_0__.Children.only(children) : children;\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.isValidElement)(child) ? child : void 0;\n}\nfunction useAnimationPersist(ref) {\n    _s1();\n    const [isPresent, unmount] = usePersist();\n    const previousAnimationName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const unmountAnimationName = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    (0,_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{\n        const element = ref.current;\n        if (!element) {\n            return;\n        }\n        const handleAnimationEnd = (event)=>{\n            if (event.animationName === unmountAnimationName.current) {\n                unmount();\n            }\n            previousAnimationName.current = event.animationName;\n        };\n        element.addEventListener(\"animationcancel\", handleAnimationEnd);\n        element.addEventListener(\"animationend\", handleAnimationEnd);\n        return ()=>{\n            element.removeEventListener(\"animationcancel\", handleAnimationEnd);\n            element.removeEventListener(\"animationend\", handleAnimationEnd);\n        };\n    }, [\n        ref,\n        unmount\n    ]);\n    (0,_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{\n        const element = ref.current;\n        let animationFrameId;\n        if (!element) {\n            return;\n        }\n        if (!isPresent) {\n            animationFrameId = requestAnimationFrame(()=>{\n                const styles = getComputedStyle(element);\n                unmountAnimationName.current = styles.animationName;\n                if (styles.animationName === \"none\" || styles.animationName === previousAnimationName.current || styles.display === \"none\") {\n                    unmount();\n                }\n            });\n        }\n        return ()=>{\n            cancelAnimationFrame(animationFrameId);\n        };\n    }, [\n        isPresent,\n        ref,\n        unmount\n    ]);\n}\n_s1(useAnimationPersist, \"rU3tEyM+dx8MONjh+2mjIMGs23s=\", false, function() {\n    return [\n        usePersist\n    ];\n});\nfunction Persist(param) {\n    let { children } = param;\n    _s2();\n    const [isPersisting, setPersisting] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(true);\n    const lastPresentChild = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const child = getChild(children);\n    const unmount = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        (0,_flush_sync_mjs__WEBPACK_IMPORTED_MODULE_3__.flushSync)(()=>setPersisting(false));\n    }, []);\n    (0,_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_2__.useLayoutEffect)(()=>{\n        if (child) {\n            setPersisting(true);\n            lastPresentChild.current = child;\n        }\n    }, [\n        child\n    ]);\n    return /* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PersistContext.Provider, {\n        value: [\n            Boolean(child),\n            unmount\n        ]\n    }, child !== null && child !== void 0 ? child : isPersisting ? lastPresentChild.current : null);\n}\n_s2(Persist, \"7vXlqdqmYtr0wOWhCzyZHEjLYGs=\");\n_c = Persist;\nif (true) {\n    Persist.displayName = PERSIST_NAME;\n}\n //# sourceMappingURL=Persist.mjs.map\nvar _c;\n$RefreshReg$(_c, \"Persist\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL1BlcnNpc3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQ3NDO0FBQ3FGO0FBQzlFO0FBQ2E7QUFFMUQsTUFBTVcsZUFBZTtBQUNyQixNQUFNQywrQkFBaUJWLG9EQUFhQSxDQUFDO0FBQ3JDLFNBQVNXOztJQUNQLE1BQU1DLGlCQUFpQlgsaURBQVVBLENBQUNTO0lBQ2xDLE9BQU9aLG9EQUFFQSxDQUFDYyxnQkFBZ0I7QUFDNUI7R0FIU0Q7QUFJVCxTQUFTRSxTQUFTQyxRQUFRO0lBQ3hCLE1BQU1DLFFBQVFDLE1BQU1DLE9BQU8sQ0FBQ0gsWUFBWVQsMkNBQVFBLENBQUNhLElBQUksQ0FBQ0osWUFBWUE7SUFDbEUscUJBQU9SLHFEQUFjQSxDQUFDUyxTQUFTQSxRQUFRLEtBQUs7QUFDOUM7QUFDQSxTQUFTSSxvQkFBb0JDLEdBQUc7O0lBQzlCLE1BQU0sQ0FBQ0MsV0FBV0MsUUFBUSxHQUFHWDtJQUM3QixNQUFNWSx3QkFBd0JyQiw2Q0FBTUEsQ0FBQztJQUNyQyxNQUFNc0IsdUJBQXVCdEIsNkNBQU1BLENBQUM7SUFDcENNLHVFQUFlQSxDQUFDO1FBQ2QsTUFBTWlCLFVBQVVMLElBQUlNLE9BQU87UUFDM0IsSUFBSSxDQUFDRCxTQUFTO1lBQ1o7UUFDRjtRQUNBLE1BQU1FLHFCQUFxQixDQUFDQztZQUMxQixJQUFJQSxNQUFNQyxhQUFhLEtBQUtMLHFCQUFxQkUsT0FBTyxFQUFFO2dCQUN4REo7WUFDRjtZQUNBQyxzQkFBc0JHLE9BQU8sR0FBR0UsTUFBTUMsYUFBYTtRQUNyRDtRQUNBSixRQUFRSyxnQkFBZ0IsQ0FBQyxtQkFBbUJIO1FBQzVDRixRQUFRSyxnQkFBZ0IsQ0FBQyxnQkFBZ0JIO1FBQ3pDLE9BQU87WUFDTEYsUUFBUU0sbUJBQW1CLENBQUMsbUJBQW1CSjtZQUMvQ0YsUUFBUU0sbUJBQW1CLENBQUMsZ0JBQWdCSjtRQUM5QztJQUNGLEdBQUc7UUFBQ1A7UUFBS0U7S0FBUTtJQUNqQmQsdUVBQWVBLENBQUM7UUFDZCxNQUFNaUIsVUFBVUwsSUFBSU0sT0FBTztRQUMzQixJQUFJTTtRQUNKLElBQUksQ0FBQ1AsU0FBUztZQUNaO1FBQ0Y7UUFDQSxJQUFJLENBQUNKLFdBQVc7WUFDZFcsbUJBQW1CQyxzQkFBc0I7Z0JBQ3ZDLE1BQU1DLFNBQVNDLGlCQUFpQlY7Z0JBQ2hDRCxxQkFBcUJFLE9BQU8sR0FBR1EsT0FBT0wsYUFBYTtnQkFDbkQsSUFBSUssT0FBT0wsYUFBYSxLQUFLLFVBQVVLLE9BQU9MLGFBQWEsS0FBS04sc0JBQXNCRyxPQUFPLElBQUlRLE9BQU9FLE9BQU8sS0FBSyxRQUFRO29CQUMxSGQ7Z0JBQ0Y7WUFDRjtRQUNGO1FBQ0EsT0FBTztZQUNMZSxxQkFBcUJMO1FBQ3ZCO0lBQ0YsR0FBRztRQUFDWDtRQUFXRDtRQUFLRTtLQUFRO0FBQzlCO0lBekNTSDs7UUFDc0JSOzs7QUF5Qy9CLFNBQVMyQixRQUFRLEtBQVk7UUFBWixFQUFFeEIsUUFBUSxFQUFFLEdBQVo7O0lBQ2YsTUFBTSxDQUFDeUIsY0FBY0MsY0FBYyxHQUFHckMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTXNDLG1CQUFtQnZDLDZDQUFNQSxDQUFDO0lBQ2hDLE1BQU1hLFFBQVFGLFNBQVNDO0lBQ3ZCLE1BQU1RLFVBQVVsQixrREFBV0EsQ0FBQztRQUMxQkcsMERBQVNBLENBQUMsSUFBTWlDLGNBQWM7SUFDaEMsR0FBRyxFQUFFO0lBQ0xoQyx1RUFBZUEsQ0FBQztRQUNkLElBQUlPLE9BQU87WUFDVHlCLGNBQWM7WUFDZEMsaUJBQWlCZixPQUFPLEdBQUdYO1FBQzdCO0lBQ0YsR0FBRztRQUFDQTtLQUFNO0lBQ1YsT0FBTyxhQUFhLGlCQUFHaEIsZ0RBQTRCLENBQUNXLGVBQWVpQyxRQUFRLEVBQUU7UUFDM0VDLE9BQU87WUFBQ0MsUUFBUTlCO1lBQVFPO1NBQVE7SUFDbEMsR0FBR1Asa0JBQUFBLG1CQUFBQSxRQUFVd0IsZUFBZUUsaUJBQWlCZixPQUFPLEdBQUc7QUFDekQ7SUFoQlNZO0tBQUFBO0FBaUJULElBQUlRLElBQXFDLEVBQUU7SUFDekNSLFFBQVFTLFdBQVcsR0FBR3RDO0FBQ3hCO0FBRW9ELENBQ3BELG9DQUFvQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy9QZXJzaXN0Lm1qcz81MWZjIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcbmltcG9ydCB7IG5uIH0gZnJvbSAnQGxpdmVibG9ja3MvY29yZSc7XG5pbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlUmVmLCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIENoaWxkcmVuLCBpc1ZhbGlkRWxlbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGZsdXNoU3luYyB9IGZyb20gJy4vZmx1c2gtc3luYy5tanMnO1xuaW1wb3J0IHsgdXNlTGF5b3V0RWZmZWN0IH0gZnJvbSAnLi91c2UtbGF5b3V0LWVmZmVjdC5tanMnO1xuXG5jb25zdCBQRVJTSVNUX05BTUUgPSBcIlBlcnNpc3RcIjtcbmNvbnN0IFBlcnNpc3RDb250ZXh0ID0gY3JlYXRlQ29udGV4dChudWxsKTtcbmZ1bmN0aW9uIHVzZVBlcnNpc3QoKSB7XG4gIGNvbnN0IHBlcnNpc3RDb250ZXh0ID0gdXNlQ29udGV4dChQZXJzaXN0Q29udGV4dCk7XG4gIHJldHVybiBubihwZXJzaXN0Q29udGV4dCwgXCJQZXJzaXN0IGlzIG1pc3NpbmcgZnJvbSB0aGUgUmVhY3QgdHJlZS5cIik7XG59XG5mdW5jdGlvbiBnZXRDaGlsZChjaGlsZHJlbikge1xuICBjb25zdCBjaGlsZCA9IEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pID8gQ2hpbGRyZW4ub25seShjaGlsZHJlbikgOiBjaGlsZHJlbjtcbiAgcmV0dXJuIGlzVmFsaWRFbGVtZW50KGNoaWxkKSA/IGNoaWxkIDogdm9pZCAwO1xufVxuZnVuY3Rpb24gdXNlQW5pbWF0aW9uUGVyc2lzdChyZWYpIHtcbiAgY29uc3QgW2lzUHJlc2VudCwgdW5tb3VudF0gPSB1c2VQZXJzaXN0KCk7XG4gIGNvbnN0IHByZXZpb3VzQW5pbWF0aW9uTmFtZSA9IHVzZVJlZihudWxsKTtcbiAgY29uc3QgdW5tb3VudEFuaW1hdGlvbk5hbWUgPSB1c2VSZWYobnVsbCk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgZWxlbWVudCA9IHJlZi5jdXJyZW50O1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBoYW5kbGVBbmltYXRpb25FbmQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGlmIChldmVudC5hbmltYXRpb25OYW1lID09PSB1bm1vdW50QW5pbWF0aW9uTmFtZS5jdXJyZW50KSB7XG4gICAgICAgIHVubW91bnQoKTtcbiAgICAgIH1cbiAgICAgIHByZXZpb3VzQW5pbWF0aW9uTmFtZS5jdXJyZW50ID0gZXZlbnQuYW5pbWF0aW9uTmFtZTtcbiAgICB9O1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmNhbmNlbFwiLCBoYW5kbGVBbmltYXRpb25FbmQpO1xuICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBoYW5kbGVBbmltYXRpb25FbmQpO1xuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJhbmltYXRpb25jYW5jZWxcIiwgaGFuZGxlQW5pbWF0aW9uRW5kKTtcbiAgICAgIGVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImFuaW1hdGlvbmVuZFwiLCBoYW5kbGVBbmltYXRpb25FbmQpO1xuICAgIH07XG4gIH0sIFtyZWYsIHVubW91bnRdKTtcbiAgdXNlTGF5b3V0RWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBlbGVtZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgbGV0IGFuaW1hdGlvbkZyYW1lSWQ7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNQcmVzZW50KSB7XG4gICAgICBhbmltYXRpb25GcmFtZUlkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3R5bGVzID0gZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KTtcbiAgICAgICAgdW5tb3VudEFuaW1hdGlvbk5hbWUuY3VycmVudCA9IHN0eWxlcy5hbmltYXRpb25OYW1lO1xuICAgICAgICBpZiAoc3R5bGVzLmFuaW1hdGlvbk5hbWUgPT09IFwibm9uZVwiIHx8IHN0eWxlcy5hbmltYXRpb25OYW1lID09PSBwcmV2aW91c0FuaW1hdGlvbk5hbWUuY3VycmVudCB8fCBzdHlsZXMuZGlzcGxheSA9PT0gXCJub25lXCIpIHtcbiAgICAgICAgICB1bm1vdW50KCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgY2FuY2VsQW5pbWF0aW9uRnJhbWUoYW5pbWF0aW9uRnJhbWVJZCk7XG4gICAgfTtcbiAgfSwgW2lzUHJlc2VudCwgcmVmLCB1bm1vdW50XSk7XG59XG5mdW5jdGlvbiBQZXJzaXN0KHsgY2hpbGRyZW4gfSkge1xuICBjb25zdCBbaXNQZXJzaXN0aW5nLCBzZXRQZXJzaXN0aW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBsYXN0UHJlc2VudENoaWxkID0gdXNlUmVmKG51bGwpO1xuICBjb25zdCBjaGlsZCA9IGdldENoaWxkKGNoaWxkcmVuKTtcbiAgY29uc3QgdW5tb3VudCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBmbHVzaFN5bmMoKCkgPT4gc2V0UGVyc2lzdGluZyhmYWxzZSkpO1xuICB9LCBbXSk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGNoaWxkKSB7XG4gICAgICBzZXRQZXJzaXN0aW5nKHRydWUpO1xuICAgICAgbGFzdFByZXNlbnRDaGlsZC5jdXJyZW50ID0gY2hpbGQ7XG4gICAgfVxuICB9LCBbY2hpbGRdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdF9fZGVmYXVsdC5jcmVhdGVFbGVtZW50KFBlcnNpc3RDb250ZXh0LlByb3ZpZGVyLCB7XG4gICAgdmFsdWU6IFtCb29sZWFuKGNoaWxkKSwgdW5tb3VudF1cbiAgfSwgY2hpbGQgPz8gKGlzUGVyc2lzdGluZyA/IGxhc3RQcmVzZW50Q2hpbGQuY3VycmVudCA6IG51bGwpKTtcbn1cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgUGVyc2lzdC5kaXNwbGF5TmFtZSA9IFBFUlNJU1RfTkFNRTtcbn1cblxuZXhwb3J0IHsgUGVyc2lzdCwgdXNlQW5pbWF0aW9uUGVyc2lzdCwgdXNlUGVyc2lzdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UGVyc2lzdC5tanMubWFwXG4iXSwibmFtZXMiOlsibm4iLCJSZWFjdF9fZGVmYXVsdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VDYWxsYmFjayIsIkNoaWxkcmVuIiwiaXNWYWxpZEVsZW1lbnQiLCJmbHVzaFN5bmMiLCJ1c2VMYXlvdXRFZmZlY3QiLCJQRVJTSVNUX05BTUUiLCJQZXJzaXN0Q29udGV4dCIsInVzZVBlcnNpc3QiLCJwZXJzaXN0Q29udGV4dCIsImdldENoaWxkIiwiY2hpbGRyZW4iLCJjaGlsZCIsIkFycmF5IiwiaXNBcnJheSIsIm9ubHkiLCJ1c2VBbmltYXRpb25QZXJzaXN0IiwicmVmIiwiaXNQcmVzZW50IiwidW5tb3VudCIsInByZXZpb3VzQW5pbWF0aW9uTmFtZSIsInVubW91bnRBbmltYXRpb25OYW1lIiwiZWxlbWVudCIsImN1cnJlbnQiLCJoYW5kbGVBbmltYXRpb25FbmQiLCJldmVudCIsImFuaW1hdGlvbk5hbWUiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFuaW1hdGlvbkZyYW1lSWQiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJzdHlsZXMiLCJnZXRDb21wdXRlZFN0eWxlIiwiZGlzcGxheSIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiUGVyc2lzdCIsImlzUGVyc2lzdGluZyIsInNldFBlcnNpc3RpbmciLCJsYXN0UHJlc2VudENoaWxkIiwiY3JlYXRlRWxlbWVudCIsIlByb3ZpZGVyIiwidmFsdWUiLCJCb29sZWFuIiwicHJvY2VzcyIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Persist.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Portal.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/Portal.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Portal: function() { return /* binding */ Portal; }\n/* harmony export */ });\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n/* __next_internal_client_entry_do_not_use__ Portal auto */ var _document;\n\n\n\nconst PORTAL_NAME = \"Portal\";\nconst Portal = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_0__.forwardRef)(_c = (param, forwardedRef)=>{\n    let { container = (_document = document) === null || _document === void 0 ? void 0 : _document.body, asChild, ...props } = param;\n    const Component = asChild ? _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_2__.Slot : \"div\";\n    return container ? /*#__PURE__*/ (0,react_dom__WEBPACK_IMPORTED_MODULE_1__.createPortal)(/* @__PURE__ */ /*#__PURE__*/ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component, {\n        \"data-liveblocks-portal\": \"\",\n        ...props,\n        ref: forwardedRef\n    }), container) : null;\n});\n_c1 = Portal;\nif (true) {\n    Portal.displayName = PORTAL_NAME;\n}\n //# sourceMappingURL=Portal.mjs.map\nvar _c, _c1;\n$RefreshReg$(_c, \"Portal$forwardRef\");\n$RefreshReg$(_c1, \"Portal\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL1BvcnRhbC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztnRUFPaUJBO0FBTjJCO0FBQ087QUFDVjtBQUV6QyxNQUFNSyxjQUFjO0FBQ3BCLE1BQU1DLHVCQUFTSCxpREFBVUEsTUFDdkIsUUFBb0RJO1FBQW5ELEVBQUVDLGFBQVlSLFlBQUFBLHNCQUFBQSxnQ0FBQUEsVUFBVVMsSUFBSSxFQUFFQyxPQUFPLEVBQUUsR0FBR0MsT0FBTztJQUNoRCxNQUFNQyxZQUFZRixVQUFVVCxzREFBSUEsR0FBRztJQUNuQyxPQUFPTywwQkFBWUosdURBQVlBLENBQzdCLGFBQWEsaUJBQUdGLGdEQUE0QixDQUFDVSxXQUFXO1FBQ3RELDBCQUEwQjtRQUMxQixHQUFHRCxLQUFLO1FBQ1JHLEtBQUtQO0lBQ1AsSUFDQUMsYUFDRTtBQUNOOztBQUVGLElBQUlPLElBQXFDLEVBQUU7SUFDekNULE9BQU9VLFdBQVcsR0FBR1g7QUFDdkI7QUFFa0IsQ0FDbEIsbUNBQW1DIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL1BvcnRhbC5tanM/OWQ2ZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5pbXBvcnQgeyBTbG90IH0gZnJvbSAnQHJhZGl4LXVpL3JlYWN0LXNsb3QnO1xuaW1wb3J0IFJlYWN0X19kZWZhdWx0LCB7IGZvcndhcmRSZWYgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjcmVhdGVQb3J0YWwgfSBmcm9tICdyZWFjdC1kb20nO1xuXG5jb25zdCBQT1JUQUxfTkFNRSA9IFwiUG9ydGFsXCI7XG5jb25zdCBQb3J0YWwgPSBmb3J3YXJkUmVmKFxuICAoeyBjb250YWluZXIgPSBkb2N1bWVudD8uYm9keSwgYXNDaGlsZCwgLi4ucHJvcHMgfSwgZm9yd2FyZGVkUmVmKSA9PiB7XG4gICAgY29uc3QgQ29tcG9uZW50ID0gYXNDaGlsZCA/IFNsb3QgOiBcImRpdlwiO1xuICAgIHJldHVybiBjb250YWluZXIgPyBjcmVhdGVQb3J0YWwoXG4gICAgICAvKiBAX19QVVJFX18gKi8gUmVhY3RfX2RlZmF1bHQuY3JlYXRlRWxlbWVudChDb21wb25lbnQsIHtcbiAgICAgICAgXCJkYXRhLWxpdmVibG9ja3MtcG9ydGFsXCI6IFwiXCIsXG4gICAgICAgIC4uLnByb3BzLFxuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgICAgfSksXG4gICAgICBjb250YWluZXJcbiAgICApIDogbnVsbDtcbiAgfVxuKTtcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgUG9ydGFsLmRpc3BsYXlOYW1lID0gUE9SVEFMX05BTUU7XG59XG5cbmV4cG9ydCB7IFBvcnRhbCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9UG9ydGFsLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJkb2N1bWVudCIsIlNsb3QiLCJSZWFjdF9fZGVmYXVsdCIsImZvcndhcmRSZWYiLCJjcmVhdGVQb3J0YWwiLCJQT1JUQUxfTkFNRSIsIlBvcnRhbCIsImZvcndhcmRlZFJlZiIsImNvbnRhaW5lciIsImJvZHkiLCJhc0NoaWxkIiwicHJvcHMiLCJDb21wb25lbnQiLCJjcmVhdGVFbGVtZW50IiwicmVmIiwicHJvY2VzcyIsImRpc3BsYXlOYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/Portal.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   capitalize: function() { return /* binding */ capitalize; }\n/* harmony export */ });\nfunction capitalize(string) {\n  return string.charAt(0).toUpperCase() + string.slice(1);\n}\n\n\n//# sourceMappingURL=capitalize.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2NhcGl0YWxpemUubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7O0FBRXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2NhcGl0YWxpemUubWpzP2E3YjAiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHJpbmcpIHtcbiAgcmV0dXJuIHN0cmluZy5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIHN0cmluZy5zbGljZSgxKTtcbn1cblxuZXhwb3J0IHsgY2FwaXRhbGl6ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2FwaXRhbGl6ZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/capitalize.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/chunk.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/chunk.mjs ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunk: function() { return /* binding */ chunk; }\n/* harmony export */ });\nfunction chunk(array, size) {\n  const chunks = [];\n  for (let i = 0, j = array.length; i < j; i += size) {\n    chunks.push(array.slice(i, i + size));\n  }\n  return chunks;\n}\n\n\n//# sourceMappingURL=chunk.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2NodW5rLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBLG9DQUFvQyxPQUFPO0FBQzNDO0FBQ0E7QUFDQTtBQUNBOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy9jaHVuay5tanM/NmI1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjaHVuayhhcnJheSwgc2l6ZSkge1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBhcnJheS5sZW5ndGg7IGkgPCBqOyBpICs9IHNpemUpIHtcbiAgICBjaHVua3MucHVzaChhcnJheS5zbGljZShpLCBpICsgc2l6ZSkpO1xuICB9XG4gIHJldHVybiBjaHVua3M7XG59XG5cbmV4cG9ydCB7IGNodW5rIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/chunk.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/clamp.mjs":
/*!**********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/clamp.mjs ***!
  \**********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clamp: function() { return /* binding */ clamp; }\n/* harmony export */ });\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\n\n//# sourceMappingURL=clamp.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2NsYW1wLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBOztBQUVpQjtBQUNqQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy9jbGFtcC5tanM/ZDc5YyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjbGFtcCh2YWx1ZSwgbWluLCBtYXgpIHtcbiAgcmV0dXJuIE1hdGgubWluKE1hdGgubWF4KHZhbHVlLCBtaW4pLCBtYXgpO1xufVxuXG5leHBvcnQgeyBjbGFtcCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y2xhbXAubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/clamp.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   classNames: function() { return /* binding */ classNames; }\n/* harmony export */ });\nfunction classNames(...args) {\n  return args.filter((arg) => typeof arg === \"string\" || typeof arg === \"number\").join(\" \");\n}\n\n\n//# sourceMappingURL=class-names.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2NsYXNzLW5hbWVzLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBOztBQUVzQjtBQUN0QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy9jbGFzcy1uYW1lcy5tanM/ZjNiOSJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBjbGFzc05hbWVzKC4uLmFyZ3MpIHtcbiAgcmV0dXJuIGFyZ3MuZmlsdGVyKChhcmcpID0+IHR5cGVvZiBhcmcgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGFyZyA9PT0gXCJudW1iZXJcIikuam9pbihcIiBcIik7XG59XG5cbmV4cG9ydCB7IGNsYXNzTmFtZXMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsYXNzLW5hbWVzLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/class-names.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/exists.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/exists.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   exists: function() { return /* binding */ exists; }\n/* harmony export */ });\nfunction exists(input) {\n  return input !== null && input !== void 0;\n}\n\n\n//# sourceMappingURL=exists.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2V4aXN0cy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTs7QUFFa0I7QUFDbEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvZXhpc3RzLm1qcz9jNGEzIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGV4aXN0cyhpbnB1dCkge1xuICByZXR1cm4gaW5wdXQgIT09IG51bGwgJiYgaW5wdXQgIT09IHZvaWQgMDtcbn1cblxuZXhwb3J0IHsgZXhpc3RzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1leGlzdHMubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/exists.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/find-last-index.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/find-last-index.mjs ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   findLastIndex: function() { return /* binding */ findLastIndex; }\n/* harmony export */ });\nfunction findLastIndex(array, predicate) {\n  let index = array.length - 1;\n  while (index >= 0) {\n    if (predicate(array[index])) {\n      return index;\n    }\n    index--;\n  }\n  return -1;\n}\n\n\n//# sourceMappingURL=find-last-index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2ZpbmQtbGFzdC1pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUV5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy9maW5kLWxhc3QtaW5kZXgubWpzPzNmNDQiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlKSB7XG4gIGxldCBpbmRleCA9IGFycmF5Lmxlbmd0aCAtIDE7XG4gIHdoaWxlIChpbmRleCA+PSAwKSB7XG4gICAgaWYgKHByZWRpY2F0ZShhcnJheVtpbmRleF0pKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGluZGV4LS07XG4gIH1cbiAgcmV0dXJuIC0xO1xufVxuXG5leHBvcnQgeyBmaW5kTGFzdEluZGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5kLWxhc3QtaW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/find-last-index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/flush-sync.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/flush-sync.mjs ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   flushSync: function() { return /* binding */ flushSync; }\n/* harmony export */ });\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n\n\nconst useReactFlushSync = react_dom__WEBPACK_IMPORTED_MODULE_0__[\"flushSync\".toString()];\nfunction flushSyncFallback(fn) {\n  return fn();\n}\nconst flushSync = useReactFlushSync ?? flushSyncFallback;\n\n\n//# sourceMappingURL=flush-sync.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2ZsdXNoLXN5bmMubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQWlDOztBQUVqQywwQkFBMEIsc0NBQVE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7O0FBRXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2ZsdXNoLXN5bmMubWpzP2JiZDIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmNvbnN0IHVzZVJlYWN0Rmx1c2hTeW5jID0gUmVhY3RET01bXCJmbHVzaFN5bmNcIi50b1N0cmluZygpXTtcbmZ1bmN0aW9uIGZsdXNoU3luY0ZhbGxiYWNrKGZuKSB7XG4gIHJldHVybiBmbigpO1xufVxuY29uc3QgZmx1c2hTeW5jID0gdXNlUmVhY3RGbHVzaFN5bmMgPz8gZmx1c2hTeW5jRmFsbGJhY2s7XG5cbmV4cG9ydCB7IGZsdXNoU3luYyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zmx1c2gtc3luYy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/flush-sync.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/get-initials.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/get-initials.mjs ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getInitials: function() { return /* binding */ getInitials; }\n/* harmony export */ });\nfunction getInitials(name) {\n  return name.trim().split(\" \").reduce((initials, name2, index, array) => {\n    if (index === 0 || index === array.length - 1) {\n      initials += name2.charAt(0).toLocaleUpperCase();\n    }\n    return initials;\n  }, \"\");\n}\n\n\n//# sourceMappingURL=get-initials.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2dldC1pbml0aWFscy5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFdUI7QUFDdkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvZ2V0LWluaXRpYWxzLm1qcz8xOTFiIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIGdldEluaXRpYWxzKG5hbWUpIHtcbiAgcmV0dXJuIG5hbWUudHJpbSgpLnNwbGl0KFwiIFwiKS5yZWR1Y2UoKGluaXRpYWxzLCBuYW1lMiwgaW5kZXgsIGFycmF5KSA9PiB7XG4gICAgaWYgKGluZGV4ID09PSAwIHx8IGluZGV4ID09PSBhcnJheS5sZW5ndGggLSAxKSB7XG4gICAgICBpbml0aWFscyArPSBuYW1lMi5jaGFyQXQoMCkudG9Mb2NhbGVVcHBlckNhc2UoKTtcbiAgICB9XG4gICAgcmV0dXJuIGluaXRpYWxzO1xuICB9LCBcIlwiKTtcbn1cblxuZXhwb3J0IHsgZ2V0SW5pdGlhbHMgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdldC1pbml0aWFscy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/get-initials.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/intl.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/intl.mjs ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   dateTimeFormat: function() { return /* binding */ dateTimeFormat; },\n/* harmony export */   listFormat: function() { return /* binding */ listFormat; },\n/* harmony export */   relativeTimeFormat: function() { return /* binding */ relativeTimeFormat; }\n/* harmony export */ });\n/* harmony import */ var _memoize_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./memoize.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/memoize.mjs\");\n\n\nconst dateTimeFormat = (0,_memoize_mjs__WEBPACK_IMPORTED_MODULE_0__.memoize)(\n  (...args) => {\n    return new Intl.DateTimeFormat(...args);\n  }\n);\nconst relativeTimeFormat = (0,_memoize_mjs__WEBPACK_IMPORTED_MODULE_0__.memoize)(\n  (...args) => {\n    return new Intl.RelativeTimeFormat(...args);\n  }\n);\nconst listFormat = (0,_memoize_mjs__WEBPACK_IMPORTED_MODULE_0__.memoize)(\n  (...args) => {\n    return new Intl.ListFormat(...args);\n  }\n);\n\n\n//# sourceMappingURL=intl.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2ludGwubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBd0M7O0FBRXhDLHVCQUF1QixxREFBTztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQixxREFBTztBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixxREFBTztBQUMxQjtBQUNBO0FBQ0E7QUFDQTs7QUFFMEQ7QUFDMUQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvaW50bC5tanM/NWM0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBtZW1vaXplIH0gZnJvbSAnLi9tZW1vaXplLm1qcyc7XG5cbmNvbnN0IGRhdGVUaW1lRm9ybWF0ID0gbWVtb2l6ZShcbiAgKC4uLmFyZ3MpID0+IHtcbiAgICByZXR1cm4gbmV3IEludGwuRGF0ZVRpbWVGb3JtYXQoLi4uYXJncyk7XG4gIH1cbik7XG5jb25zdCByZWxhdGl2ZVRpbWVGb3JtYXQgPSBtZW1vaXplKFxuICAoLi4uYXJncykgPT4ge1xuICAgIHJldHVybiBuZXcgSW50bC5SZWxhdGl2ZVRpbWVGb3JtYXQoLi4uYXJncyk7XG4gIH1cbik7XG5jb25zdCBsaXN0Rm9ybWF0ID0gbWVtb2l6ZShcbiAgKC4uLmFyZ3MpID0+IHtcbiAgICByZXR1cm4gbmV3IEludGwuTGlzdEZvcm1hdCguLi5hcmdzKTtcbiAgfVxuKTtcblxuZXhwb3J0IHsgZGF0ZVRpbWVGb3JtYXQsIGxpc3RGb3JtYXQsIHJlbGF0aXZlVGltZUZvcm1hdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50bC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/intl.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-apple.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/is-apple.mjs ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isApple: function() { return /* binding */ isApple; }\n/* harmony export */ });\nconst APPLE_REGEX = /Mac|iPod|iPhone|iPad/;\nfunction isApple() {\n  return typeof window !== \"undefined\" && APPLE_REGEX.test(window.navigator.platform);\n}\n\n\n//# sourceMappingURL=is-apple.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2lzLWFwcGxlLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7O0FBRW1CO0FBQ25CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2lzLWFwcGxlLm1qcz9jMzQ1Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQUExFX1JFR0VYID0gL01hY3xpUG9kfGlQaG9uZXxpUGFkLztcbmZ1bmN0aW9uIGlzQXBwbGUoKSB7XG4gIHJldHVybiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiICYmIEFQUExFX1JFR0VYLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSk7XG59XG5cbmV4cG9ydCB7IGlzQXBwbGUgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWFwcGxlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-apple.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-key.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/is-key.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isKey: function() { return /* binding */ isKey; }\n/* harmony export */ });\n/* harmony import */ var _is_apple_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./is-apple.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-apple.mjs\");\n\n\nconst MODIFIERS = {\n  alt: () => \"altKey\",\n  ctrl: () => \"ctrlKey\",\n  meta: () => \"metaKey\",\n  mod: () => (0,_is_apple_mjs__WEBPACK_IMPORTED_MODULE_0__.isApple)() ? \"metaKey\" : \"ctrlKey\",\n  shift: () => \"shiftKey\"\n};\nfunction isKey(event, key, modifiers = {}) {\n  if (event.key !== key) {\n    return false;\n  }\n  const explicitModifiers = Object.entries(modifiers).filter(\n    ([, value]) => typeof value === \"boolean\"\n  );\n  return explicitModifiers.every(([modifier, value]) => {\n    const property = MODIFIERS[modifier]();\n    return event[property] === value;\n  });\n}\n\n\n//# sourceMappingURL=is-key.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL2lzLWtleS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7O0FBRXpDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxzREFBTztBQUNwQjtBQUNBO0FBQ0EseUNBQXlDO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFaUI7QUFDakIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvaXMta2V5Lm1qcz8wYTQyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGlzQXBwbGUgfSBmcm9tICcuL2lzLWFwcGxlLm1qcyc7XG5cbmNvbnN0IE1PRElGSUVSUyA9IHtcbiAgYWx0OiAoKSA9PiBcImFsdEtleVwiLFxuICBjdHJsOiAoKSA9PiBcImN0cmxLZXlcIixcbiAgbWV0YTogKCkgPT4gXCJtZXRhS2V5XCIsXG4gIG1vZDogKCkgPT4gaXNBcHBsZSgpID8gXCJtZXRhS2V5XCIgOiBcImN0cmxLZXlcIixcbiAgc2hpZnQ6ICgpID0+IFwic2hpZnRLZXlcIlxufTtcbmZ1bmN0aW9uIGlzS2V5KGV2ZW50LCBrZXksIG1vZGlmaWVycyA9IHt9KSB7XG4gIGlmIChldmVudC5rZXkgIT09IGtleSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBleHBsaWNpdE1vZGlmaWVycyA9IE9iamVjdC5lbnRyaWVzKG1vZGlmaWVycykuZmlsdGVyKFxuICAgIChbLCB2YWx1ZV0pID0+IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCJcbiAgKTtcbiAgcmV0dXJuIGV4cGxpY2l0TW9kaWZpZXJzLmV2ZXJ5KChbbW9kaWZpZXIsIHZhbHVlXSkgPT4ge1xuICAgIGNvbnN0IHByb3BlcnR5ID0gTU9ESUZJRVJTW21vZGlmaWVyXSgpO1xuICAgIHJldHVybiBldmVudFtwcm9wZXJ0eV0gPT09IHZhbHVlO1xuICB9KTtcbn1cblxuZXhwb3J0IHsgaXNLZXkgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzLWtleS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/is-key.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/memoize.mjs":
/*!************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/memoize.mjs ***!
  \************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   memoize: function() { return /* binding */ memoize; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n\n\nfunction memoize(fn) {\n  const cache = /* @__PURE__ */ new Map();\n  return (...args) => {\n    const key = JSON.stringify(args.map((arg) => (0,_liveblocks_core__WEBPACK_IMPORTED_MODULE_0__.stringify)(arg)));\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    const result = fn(...args);\n    cache.set(key, result);\n    return result;\n  };\n}\n\n\n//# sourceMappingURL=memoize.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL21lbW9pemUubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTZDOztBQUU3QztBQUNBO0FBQ0E7QUFDQSxpREFBaUQsMkRBQVM7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFbUI7QUFDbkIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvbWVtb2l6ZS5tanM/ZDU1YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBzdHJpbmdpZnkgfSBmcm9tICdAbGl2ZWJsb2Nrcy9jb3JlJztcblxuZnVuY3Rpb24gbWVtb2l6ZShmbikge1xuICBjb25zdCBjYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHJldHVybiAoLi4uYXJncykgPT4ge1xuICAgIGNvbnN0IGtleSA9IEpTT04uc3RyaW5naWZ5KGFyZ3MubWFwKChhcmcpID0+IHN0cmluZ2lmeShhcmcpKSk7XG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IGZuKC4uLmFyZ3MpO1xuICAgIGNhY2hlLnNldChrZXksIHJlc3VsdCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cblxuZXhwb3J0IHsgbWVtb2l6ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVtb2l6ZS5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/memoize.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/pluralize.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/pluralize.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   pluralize: function() { return /* binding */ pluralize; }\n/* harmony export */ });\nfunction pluralize(count, singular, plural) {\n  return count === 1 ? singular : plural ?? `${singular}s`;\n}\n\n\n//# sourceMappingURL=pluralize.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3BsdXJhbGl6ZS5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0EsK0NBQStDLFNBQVM7QUFDeEQ7O0FBRXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3BsdXJhbGl6ZS5tanM/NjhkYyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBwbHVyYWxpemUoY291bnQsIHNpbmd1bGFyLCBwbHVyYWwpIHtcbiAgcmV0dXJuIGNvdW50ID09PSAxID8gc2luZ3VsYXIgOiBwbHVyYWwgPz8gYCR7c2luZ3VsYXJ9c2A7XG59XG5cbmV4cG9ydCB7IHBsdXJhbGl6ZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1cmFsaXplLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/pluralize.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-idle-callback.mjs":
/*!**************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/request-idle-callback.mjs ***!
  \**************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cancelIdleCallback: function() { return /* binding */ cancelIdleCallback; },\n/* harmony export */   requestIdleCallback: function() { return /* binding */ requestIdleCallback; }\n/* harmony export */ });\nconst IDLE_CALLBACK_FALLBACK_TIMEOUT = 100;\nfunction requestIdleCallbackFallback(callback, options) {\n  return setTimeout(\n    callback,\n    Math.min(options?.timeout ?? Infinity, IDLE_CALLBACK_FALLBACK_TIMEOUT)\n  );\n}\nconst requestIdleCallback = (typeof window !== \"undefined\" ? window.requestIdleCallback : null) ?? requestIdleCallbackFallback;\nconst cancelIdleCallback = (typeof window !== \"undefined\" ? window.cancelIdleCallback : null) ?? clearTimeout;\n\n\n//# sourceMappingURL=request-idle-callback.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3JlcXVlc3QtaWRsZS1jYWxsYmFjay5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRW1EO0FBQ25EIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3JlcXVlc3QtaWRsZS1jYWxsYmFjay5tanM/NjZhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJRExFX0NBTExCQUNLX0ZBTExCQUNLX1RJTUVPVVQgPSAxMDA7XG5mdW5jdGlvbiByZXF1ZXN0SWRsZUNhbGxiYWNrRmFsbGJhY2soY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgcmV0dXJuIHNldFRpbWVvdXQoXG4gICAgY2FsbGJhY2ssXG4gICAgTWF0aC5taW4ob3B0aW9ucz8udGltZW91dCA/PyBJbmZpbml0eSwgSURMRV9DQUxMQkFDS19GQUxMQkFDS19USU1FT1VUKVxuICApO1xufVxuY29uc3QgcmVxdWVzdElkbGVDYWxsYmFjayA9ICh0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93LnJlcXVlc3RJZGxlQ2FsbGJhY2sgOiBudWxsKSA/PyByZXF1ZXN0SWRsZUNhbGxiYWNrRmFsbGJhY2s7XG5jb25zdCBjYW5jZWxJZGxlQ2FsbGJhY2sgPSAodHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHdpbmRvdy5jYW5jZWxJZGxlQ2FsbGJhY2sgOiBudWxsKSA/PyBjbGVhclRpbWVvdXQ7XG5cbmV4cG9ydCB7IGNhbmNlbElkbGVDYWxsYmFjaywgcmVxdWVzdElkbGVDYWxsYmFjayB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVxdWVzdC1pZGxlLWNhbGxiYWNrLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-idle-callback.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-submit.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/request-submit.mjs ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   requestSubmit: function() { return /* binding */ requestSubmit; }\n/* harmony export */ });\nfunction requestSubmit(form, submitter) {\n  if (typeof form.requestSubmit === \"function\") {\n    return form.requestSubmit(submitter);\n  }\n  if (submitter) {\n    submitter.click();\n  } else {\n    submitter = document.createElement(\"input\");\n    submitter.type = \"submit\";\n    submitter.hidden = true;\n    form.appendChild(submitter);\n    submitter.click();\n    form.removeChild(submitter);\n  }\n}\n\n\n//# sourceMappingURL=request-submit.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3JlcXVlc3Qtc3VibWl0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXlCO0FBQ3pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3JlcXVlc3Qtc3VibWl0Lm1qcz85MWMyIl0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIHJlcXVlc3RTdWJtaXQoZm9ybSwgc3VibWl0dGVyKSB7XG4gIGlmICh0eXBlb2YgZm9ybS5yZXF1ZXN0U3VibWl0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gZm9ybS5yZXF1ZXN0U3VibWl0KHN1Ym1pdHRlcik7XG4gIH1cbiAgaWYgKHN1Ym1pdHRlcikge1xuICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICB9IGVsc2Uge1xuICAgIHN1Ym1pdHRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtcbiAgICBzdWJtaXR0ZXIudHlwZSA9IFwic3VibWl0XCI7XG4gICAgc3VibWl0dGVyLmhpZGRlbiA9IHRydWU7XG4gICAgZm9ybS5hcHBlbmRDaGlsZChzdWJtaXR0ZXIpO1xuICAgIHN1Ym1pdHRlci5jbGljaygpO1xuICAgIGZvcm0ucmVtb3ZlQ2hpbGQoc3VibWl0dGVyKTtcbiAgfVxufVxuXG5leHBvcnQgeyByZXF1ZXN0U3VibWl0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LXN1Ym1pdC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/request-submit.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-controllable-state.mjs":
/*!***************************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-controllable-state.mjs ***!
  \***************************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useControllableState: function() { return /* binding */ useControllableState; }\n/* harmony export */ });\n/* harmony import */ var _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @liveblocks/core */ \"(app-pages-browser)/./node_modules/@liveblocks/core/dist/index.mjs\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\n\nfunction useControllableState(value, onChange, defaultValue) {\n  const [uncontrolledValue, setUncontrolledValue] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(defaultValue);\n  const isControlled = value !== void 0;\n  const wasControlled = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(isControlled);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if ( true && wasControlled.current !== isControlled) {\n      _liveblocks_core__WEBPACK_IMPORTED_MODULE_1__.console.warn(\n        `A component is changing from ${wasControlled ? \"controlled\" : \"uncontrolled\"} to ${isControlled ? \"controlled\" : \"uncontrolled\"}.`\n      );\n    }\n    wasControlled.current = isControlled;\n  }, [isControlled]);\n  const currentValue = isControlled ? value : uncontrolledValue;\n  const setValue = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(\n    (value2) => {\n      if (isControlled) {\n        return onChange?.(value2);\n      } else {\n        setUncontrolledValue(value2);\n        return onChange?.(value2);\n      }\n    },\n    [isControlled, onChange]\n  );\n  return [currentValue, setValue];\n}\n\n\n//# sourceMappingURL=use-controllable-state.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1jb250cm9sbGFibGUtc3RhdGUubWpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEyQztBQUNzQjs7QUFFakU7QUFDQSxvREFBb0QsK0NBQVE7QUFDNUQ7QUFDQSx3QkFBd0IsNkNBQU07QUFDOUIsRUFBRSxnREFBUztBQUNYLFFBQVEsS0FBcUM7QUFDN0MsTUFBTSxxREFBTztBQUNiLHdDQUF3QywrQ0FBK0MsS0FBSyw2Q0FBNkM7QUFDekk7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7O0FBRWdDO0FBQ2hDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1jb250cm9sbGFibGUtc3RhdGUubWpzPzlkOWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29uc29sZSB9IGZyb20gJ0BsaXZlYmxvY2tzL2NvcmUnO1xuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZVJlZiwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlQ29udHJvbGxhYmxlU3RhdGUodmFsdWUsIG9uQ2hhbmdlLCBkZWZhdWx0VmFsdWUpIHtcbiAgY29uc3QgW3VuY29udHJvbGxlZFZhbHVlLCBzZXRVbmNvbnRyb2xsZWRWYWx1ZV0gPSB1c2VTdGF0ZShkZWZhdWx0VmFsdWUpO1xuICBjb25zdCBpc0NvbnRyb2xsZWQgPSB2YWx1ZSAhPT0gdm9pZCAwO1xuICBjb25zdCB3YXNDb250cm9sbGVkID0gdXNlUmVmKGlzQ29udHJvbGxlZCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSBcInByb2R1Y3Rpb25cIiAmJiB3YXNDb250cm9sbGVkLmN1cnJlbnQgIT09IGlzQ29udHJvbGxlZCkge1xuICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICBgQSBjb21wb25lbnQgaXMgY2hhbmdpbmcgZnJvbSAke3dhc0NvbnRyb2xsZWQgPyBcImNvbnRyb2xsZWRcIiA6IFwidW5jb250cm9sbGVkXCJ9IHRvICR7aXNDb250cm9sbGVkID8gXCJjb250cm9sbGVkXCIgOiBcInVuY29udHJvbGxlZFwifS5gXG4gICAgICApO1xuICAgIH1cbiAgICB3YXNDb250cm9sbGVkLmN1cnJlbnQgPSBpc0NvbnRyb2xsZWQ7XG4gIH0sIFtpc0NvbnRyb2xsZWRdKTtcbiAgY29uc3QgY3VycmVudFZhbHVlID0gaXNDb250cm9sbGVkID8gdmFsdWUgOiB1bmNvbnRyb2xsZWRWYWx1ZTtcbiAgY29uc3Qgc2V0VmFsdWUgPSB1c2VDYWxsYmFjayhcbiAgICAodmFsdWUyKSA9PiB7XG4gICAgICBpZiAoaXNDb250cm9sbGVkKSB7XG4gICAgICAgIHJldHVybiBvbkNoYW5nZT8uKHZhbHVlMik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZXRVbmNvbnRyb2xsZWRWYWx1ZSh2YWx1ZTIpO1xuICAgICAgICByZXR1cm4gb25DaGFuZ2U/Lih2YWx1ZTIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2lzQ29udHJvbGxlZCwgb25DaGFuZ2VdXG4gICk7XG4gIHJldHVybiBbY3VycmVudFZhbHVlLCBzZXRWYWx1ZV07XG59XG5cbmV4cG9ydCB7IHVzZUNvbnRyb2xsYWJsZVN0YXRlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtY29udHJvbGxhYmxlLXN0YXRlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-controllable-state.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-id.mjs":
/*!***********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-id.mjs ***!
  \***********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useId: function() { return /* binding */ useId; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-layout-effect.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs\");\n\n\n\nlet isHydrated = false;\nlet id = 0;\nfunction getId() {\n  return ++id;\n}\nconst useReactId = react__WEBPACK_IMPORTED_MODULE_0__[\"useId\".toString()];\nfunction useIncrementalId() {\n  const [id2, setId] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(isHydrated ? getId : null);\n  (0,_use_layout_effect_mjs__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect)(() => {\n    if (id2 === null) {\n      setId(getId());\n    }\n  }, [id2]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!isHydrated) {\n      isHydrated = true;\n    }\n  }, []);\n  return String(id2) ?? void 0;\n}\nconst useId = useReactId ?? useIncrementalId;\n\n\n//# sourceMappingURL=use-id.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pZC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTREO0FBQ0Y7O0FBRTFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsa0NBQWM7QUFDakM7QUFDQSx1QkFBdUIsK0NBQVE7QUFDL0IsRUFBRSx1RUFBZTtBQUNqQjtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSxnREFBUztBQUNYO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7O0FBRWlCO0FBQ2pCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pZC5tanM/MTU2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQsIHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxheW91dEVmZmVjdCB9IGZyb20gJy4vdXNlLWxheW91dC1lZmZlY3QubWpzJztcblxubGV0IGlzSHlkcmF0ZWQgPSBmYWxzZTtcbmxldCBpZCA9IDA7XG5mdW5jdGlvbiBnZXRJZCgpIHtcbiAgcmV0dXJuICsraWQ7XG59XG5jb25zdCB1c2VSZWFjdElkID0gUmVhY3RfX2RlZmF1bHRbXCJ1c2VJZFwiLnRvU3RyaW5nKCldO1xuZnVuY3Rpb24gdXNlSW5jcmVtZW50YWxJZCgpIHtcbiAgY29uc3QgW2lkMiwgc2V0SWRdID0gdXNlU3RhdGUoaXNIeWRyYXRlZCA/IGdldElkIDogbnVsbCk7XG4gIHVzZUxheW91dEVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGlkMiA9PT0gbnVsbCkge1xuICAgICAgc2V0SWQoZ2V0SWQoKSk7XG4gICAgfVxuICB9LCBbaWQyXSk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKCFpc0h5ZHJhdGVkKSB7XG4gICAgICBpc0h5ZHJhdGVkID0gdHJ1ZTtcbiAgICB9XG4gIH0sIFtdKTtcbiAgcmV0dXJuIFN0cmluZyhpZDIpID8/IHZvaWQgMDtcbn1cbmNvbnN0IHVzZUlkID0gdXNlUmVhY3RJZCA/PyB1c2VJbmNyZW1lbnRhbElkO1xuXG5leHBvcnQgeyB1c2VJZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXNlLWlkLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-id.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-index.mjs":
/*!**************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-index.mjs ***!
  \**************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useIndex: function() { return /* binding */ useIndex; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _clamp_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./clamp.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/clamp.mjs\");\n/* harmony import */ var _wrap_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./wrap.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/wrap.mjs\");\n\n\n\n\nconst defaultOptions = {\n  wrap: true\n};\nfunction useIndex(initial, length, options) {\n  const { wrap: shouldWrap } = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => {\n    return {\n      ...defaultOptions,\n      ...options\n    };\n  }, [options]);\n  const transform = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(() => shouldWrap ? _wrap_mjs__WEBPACK_IMPORTED_MODULE_1__.wrap : _clamp_mjs__WEBPACK_IMPORTED_MODULE_2__.clamp, [shouldWrap]);\n  const [index, setIndex] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(initial);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    setIndex((index2) => (0,_clamp_mjs__WEBPACK_IMPORTED_MODULE_2__.clamp)(index2, 0, Math.max(length - 1, 0)));\n  }, [length]);\n  const previousIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    setIndex((index2) => transform(index2 - 1, 0, Math.max(length, 0)));\n  }, [length, transform]);\n  const nextIndex = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(() => {\n    setIndex((index2) => transform(index2 + 1, 0, Math.max(length, 0)));\n  }, [length, transform]);\n  return [index, previousIndex, nextIndex, setIndex];\n}\n\n\n//# sourceMappingURL=use-index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFrRTtBQUM5QjtBQUNGOztBQUVsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CLEVBQUUsOENBQU87QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLDhDQUFPLG9CQUFvQiwyQ0FBSSxHQUFHLDZDQUFLO0FBQzNELDRCQUE0QiwrQ0FBUTtBQUNwQyxFQUFFLGdEQUFTO0FBQ1gseUJBQXlCLGlEQUFLO0FBQzlCLEdBQUc7QUFDSCx3QkFBd0Isa0RBQVc7QUFDbkM7QUFDQSxHQUFHO0FBQ0gsb0JBQW9CLGtEQUFXO0FBQy9CO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRW9CO0FBQ3BCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbmRleC5tanM/NzJiMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vLCB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNsYW1wIH0gZnJvbSAnLi9jbGFtcC5tanMnO1xuaW1wb3J0IHsgd3JhcCB9IGZyb20gJy4vd3JhcC5tanMnO1xuXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgd3JhcDogdHJ1ZVxufTtcbmZ1bmN0aW9uIHVzZUluZGV4KGluaXRpYWwsIGxlbmd0aCwgb3B0aW9ucykge1xuICBjb25zdCB7IHdyYXA6IHNob3VsZFdyYXAgfSA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9O1xuICB9LCBbb3B0aW9uc10pO1xuICBjb25zdCB0cmFuc2Zvcm0gPSB1c2VNZW1vKCgpID0+IHNob3VsZFdyYXAgPyB3cmFwIDogY2xhbXAsIFtzaG91bGRXcmFwXSk7XG4gIGNvbnN0IFtpbmRleCwgc2V0SW5kZXhdID0gdXNlU3RhdGUoaW5pdGlhbCk7XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SW5kZXgoKGluZGV4MikgPT4gY2xhbXAoaW5kZXgyLCAwLCBNYXRoLm1heChsZW5ndGggLSAxLCAwKSkpO1xuICB9LCBbbGVuZ3RoXSk7XG4gIGNvbnN0IHByZXZpb3VzSW5kZXggPSB1c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SW5kZXgoKGluZGV4MikgPT4gdHJhbnNmb3JtKGluZGV4MiAtIDEsIDAsIE1hdGgubWF4KGxlbmd0aCwgMCkpKTtcbiAgfSwgW2xlbmd0aCwgdHJhbnNmb3JtXSk7XG4gIGNvbnN0IG5leHRJbmRleCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJbmRleCgoaW5kZXgyKSA9PiB0cmFuc2Zvcm0oaW5kZXgyICsgMSwgMCwgTWF0aC5tYXgobGVuZ3RoLCAwKSkpO1xuICB9LCBbbGVuZ3RoLCB0cmFuc2Zvcm1dKTtcbiAgcmV0dXJuIFtpbmRleCwgcHJldmlvdXNJbmRleCwgbmV4dEluZGV4LCBzZXRJbmRleF07XG59XG5cbmV4cG9ydCB7IHVzZUluZGV4IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtaW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-initial.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-initial.mjs ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInitial: function() { return /* binding */ useInitial; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction useInitial(value) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value instanceof Function ? value() : value).current;\n}\n\n\n//# sourceMappingURL=use-initial.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbml0aWFsLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQjs7QUFFL0I7QUFDQSxTQUFTLDZDQUFNO0FBQ2Y7O0FBRXNCO0FBQ3RCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbml0aWFsLm1qcz8yNTYyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZVJlZiB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlSW5pdGlhbCh2YWx1ZSkge1xuICByZXR1cm4gdXNlUmVmKHZhbHVlIGluc3RhbmNlb2YgRnVuY3Rpb24gPyB2YWx1ZSgpIDogdmFsdWUpLmN1cnJlbnQ7XG59XG5cbmV4cG9ydCB7IHVzZUluaXRpYWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1pbml0aWFsLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-initial.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-interval.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-interval.mjs ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useInterval: function() { return /* binding */ useInterval; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction useInterval(callback, delay) {\n  const latestCallback = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(callback);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    latestCallback.current = callback;\n  }, [callback]);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    if (!delay && delay !== 0) {\n      return;\n    }\n    const id = setInterval(() => {\n      if (latestCallback.current() === false) {\n        clearInterval(id);\n      }\n    }, delay);\n    return () => clearInterval(id);\n  }, [delay]);\n}\n\n\n//# sourceMappingURL=use-interval.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbnRlcnZhbC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBMEM7O0FBRTFDO0FBQ0EseUJBQXlCLDZDQUFNO0FBQy9CLEVBQUUsZ0RBQVM7QUFDWDtBQUNBLEdBQUc7QUFDSCxFQUFFLGdEQUFTO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxHQUFHO0FBQ0g7O0FBRXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1pbnRlcnZhbC5tanM/MDU2NiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gdXNlSW50ZXJ2YWwoY2FsbGJhY2ssIGRlbGF5KSB7XG4gIGNvbnN0IGxhdGVzdENhbGxiYWNrID0gdXNlUmVmKGNhbGxiYWNrKTtcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBsYXRlc3RDYWxsYmFjay5jdXJyZW50ID0gY2FsbGJhY2s7XG4gIH0sIFtjYWxsYmFja10pO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICghZGVsYXkgJiYgZGVsYXkgIT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgaWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICBpZiAobGF0ZXN0Q2FsbGJhY2suY3VycmVudCgpID09PSBmYWxzZSkge1xuICAgICAgICBjbGVhckludGVydmFsKGlkKTtcbiAgICAgIH1cbiAgICB9LCBkZWxheSk7XG4gICAgcmV0dXJuICgpID0+IGNsZWFySW50ZXJ2YWwoaWQpO1xuICB9LCBbZGVsYXldKTtcbn1cblxuZXhwb3J0IHsgdXNlSW50ZXJ2YWwgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1pbnRlcnZhbC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-interval.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-latest.mjs":
/*!***************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-latest.mjs ***!
  \***************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLatest: function() { return /* binding */ useLatest; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction useLatest(value) {\n  const ref = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(value);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    ref.current = value;\n  }, [value]);\n  return ref;\n}\n\n\n//# sourceMappingURL=use-latest.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1sYXRlc3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQTBDOztBQUUxQztBQUNBLGNBQWMsNkNBQU07QUFDcEIsRUFBRSxnREFBUztBQUNYO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRXFCO0FBQ3JCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1sYXRlc3QubWpzPzlkODIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlUmVmLCB1c2VFZmZlY3QgfSBmcm9tICdyZWFjdCc7XG5cbmZ1bmN0aW9uIHVzZUxhdGVzdCh2YWx1ZSkge1xuICBjb25zdCByZWYgPSB1c2VSZWYodmFsdWUpO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIHJlZi5jdXJyZW50ID0gdmFsdWU7XG4gIH0sIFt2YWx1ZV0pO1xuICByZXR1cm4gcmVmO1xufVxuXG5leHBvcnQgeyB1c2VMYXRlc3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1sYXRlc3QubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-latest.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs":
/*!**********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs ***!
  \**********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useLayoutEffect: function() { return /* binding */ useLayoutEffect; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nconst useLayoutEffect = typeof window !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\n\n\n//# sourceMappingURL=use-layout-effect.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1sYXlvdXQtZWZmZWN0Lm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF3RTs7QUFFeEUsd0RBQXdELGtEQUFpQixHQUFHLDRDQUFTOztBQUUxRDtBQUMzQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy91c2UtbGF5b3V0LWVmZmVjdC5tanM/MTFhMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgYXMgdXNlTGF5b3V0RWZmZWN0JDEsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcblxuY29uc3QgdXNlTGF5b3V0RWZmZWN0ID0gdHlwZW9mIHdpbmRvdyAhPT0gXCJ1bmRlZmluZWRcIiA/IHVzZUxheW91dEVmZmVjdCQxIDogdXNlRWZmZWN0O1xuXG5leHBvcnQgeyB1c2VMYXlvdXRFZmZlY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS1sYXlvdXQtZWZmZWN0Lm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-layout-effect.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-refs.mjs":
/*!*************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-refs.mjs ***!
  \*************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRefs: function() { return /* binding */ useRefs; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction applyRef(ref, value) {\n  if (value) {\n    if (typeof ref === \"function\") {\n      ref(value);\n    } else if (ref && \"current\" in ref) {\n      ref.current = value;\n    }\n  }\n}\nfunction mergeRefs(value, ...refs) {\n  for (const ref of refs) {\n    applyRef(ref, value);\n  }\n}\nfunction useRefs(...refs) {\n  return (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((value) => mergeRefs(value, ...refs), [refs]);\n}\n\n\n//# sourceMappingURL=use-refs.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1yZWZzLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFvQzs7QUFFcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTLGtEQUFXO0FBQ3BCOztBQUVtQjtBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy91c2UtcmVmcy5tanM/OWUwNiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcblxuZnVuY3Rpb24gYXBwbHlSZWYocmVmLCB2YWx1ZSkge1xuICBpZiAodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHJlZiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZWYodmFsdWUpO1xuICAgIH0gZWxzZSBpZiAocmVmICYmIFwiY3VycmVudFwiIGluIHJlZikge1xuICAgICAgcmVmLmN1cnJlbnQgPSB2YWx1ZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIG1lcmdlUmVmcyh2YWx1ZSwgLi4ucmVmcykge1xuICBmb3IgKGNvbnN0IHJlZiBvZiByZWZzKSB7XG4gICAgYXBwbHlSZWYocmVmLCB2YWx1ZSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHVzZVJlZnMoLi4ucmVmcykge1xuICByZXR1cm4gdXNlQ2FsbGJhY2soKHZhbHVlKSA9PiBtZXJnZVJlZnModmFsdWUsIC4uLnJlZnMpLCBbcmVmc10pO1xufVxuXG5leHBvcnQgeyB1c2VSZWZzIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtcmVmcy5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-refs.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-rerender.mjs":
/*!*****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-rerender.mjs ***!
  \*****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useRerender: function() { return /* binding */ useRerender; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nfunction useRerender() {\n  const [key, update] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useReducer)(\n    (key2) => key2 + 1,\n    0\n  );\n  return [update, key];\n}\n\n\n//# sourceMappingURL=use-rerender.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1yZXJlbmRlci5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBbUM7O0FBRW5DO0FBQ0Esd0JBQXdCLGlEQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRXVCO0FBQ3ZCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS1yZXJlbmRlci5tanM/ZDdlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VSZWR1Y2VyIH0gZnJvbSAncmVhY3QnO1xuXG5mdW5jdGlvbiB1c2VSZXJlbmRlcigpIHtcbiAgY29uc3QgW2tleSwgdXBkYXRlXSA9IHVzZVJlZHVjZXIoXG4gICAgKGtleTIpID0+IGtleTIgKyAxLFxuICAgIDBcbiAgKTtcbiAgcmV0dXJuIFt1cGRhdGUsIGtleV07XG59XG5cbmV4cG9ydCB7IHVzZVJlcmVuZGVyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11c2UtcmVyZW5kZXIubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-rerender.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-transition.mjs":
/*!*******************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-transition.mjs ***!
  \*******************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useTransition: function() { return /* binding */ useTransition; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n\n\nconst useReactTransition = react__WEBPACK_IMPORTED_MODULE_0__[\"useTransition\".toString()];\nfunction useTransitionFallback(transition) {\n  return [false, transition];\n}\nconst useTransition = useReactTransition ?? useTransitionFallback;\n\n\n//# sourceMappingURL=use-transition.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS10cmFuc2l0aW9uLm1qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFtQzs7QUFFbkMsMkJBQTJCLGtDQUFjO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBOztBQUV5QjtBQUN6QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQGxpdmVibG9ja3MvcmVhY3QtY29tbWVudHMvZGlzdC91dGlscy91c2UtdHJhbnNpdGlvbi5tanM/NDIxMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3RfX2RlZmF1bHQgZnJvbSAncmVhY3QnO1xuXG5jb25zdCB1c2VSZWFjdFRyYW5zaXRpb24gPSBSZWFjdF9fZGVmYXVsdFtcInVzZVRyYW5zaXRpb25cIi50b1N0cmluZygpXTtcbmZ1bmN0aW9uIHVzZVRyYW5zaXRpb25GYWxsYmFjayh0cmFuc2l0aW9uKSB7XG4gIHJldHVybiBbZmFsc2UsIHRyYW5zaXRpb25dO1xufVxuY29uc3QgdXNlVHJhbnNpdGlvbiA9IHVzZVJlYWN0VHJhbnNpdGlvbiA/PyB1c2VUcmFuc2l0aW9uRmFsbGJhY2s7XG5cbmV4cG9ydCB7IHVzZVRyYW5zaXRpb24gfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS10cmFuc2l0aW9uLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-transition.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-visible.mjs":
/*!****************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/use-visible.mjs ***!
  \****************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useVisibleCallback: function() { return /* binding */ useVisibleCallback; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _use_latest_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./use-latest.mjs */ \"(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-latest.mjs\");\n\n\n\nlet intersectionObserver;\nconst intersectionCallbacks = /* @__PURE__ */ new WeakMap();\nfunction observe(element, callback) {\n  if (!intersectionObserver) {\n    intersectionObserver = new IntersectionObserver((entries) => {\n      for (const entry of entries) {\n        const callback2 = intersectionCallbacks.get(entry.target);\n        callback2?.(entry);\n      }\n    });\n  }\n  intersectionCallbacks.set(element, callback);\n  intersectionObserver.observe(element);\n}\nfunction unobserve(element) {\n  intersectionCallbacks.delete(element);\n  intersectionObserver?.unobserve(element);\n}\nfunction useVisibleCallback(ref, callback, options) {\n  const enabled = options?.enabled ?? true;\n  const latestCallback = (0,_use_latest_mjs__WEBPACK_IMPORTED_MODULE_1__.useLatest)(callback);\n  (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {\n    const element = ref.current;\n    if (!element) {\n      return;\n    }\n    if (enabled) {\n      observe(element, (entry) => {\n        if (entry.isIntersecting) {\n          latestCallback.current();\n        }\n      });\n    } else {\n      unobserve(element);\n    }\n    return () => {\n      unobserve(element);\n    };\n  }, [enabled]);\n}\n\n\n//# sourceMappingURL=use-visible.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS12aXNpYmxlLm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBa0M7QUFDVzs7QUFFN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDBEQUFTO0FBQ2xDLEVBQUUsZ0RBQVM7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRThCO0FBQzlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3VzZS12aXNpYmxlLm1qcz9iZDI5Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUxhdGVzdCB9IGZyb20gJy4vdXNlLWxhdGVzdC5tanMnO1xuXG5sZXQgaW50ZXJzZWN0aW9uT2JzZXJ2ZXI7XG5jb25zdCBpbnRlcnNlY3Rpb25DYWxsYmFja3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbmZ1bmN0aW9uIG9ic2VydmUoZWxlbWVudCwgY2FsbGJhY2spIHtcbiAgaWYgKCFpbnRlcnNlY3Rpb25PYnNlcnZlcikge1xuICAgIGludGVyc2VjdGlvbk9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2syID0gaW50ZXJzZWN0aW9uQ2FsbGJhY2tzLmdldChlbnRyeS50YXJnZXQpO1xuICAgICAgICBjYWxsYmFjazI/LihlbnRyeSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaW50ZXJzZWN0aW9uQ2FsbGJhY2tzLnNldChlbGVtZW50LCBjYWxsYmFjayk7XG4gIGludGVyc2VjdGlvbk9ic2VydmVyLm9ic2VydmUoZWxlbWVudCk7XG59XG5mdW5jdGlvbiB1bm9ic2VydmUoZWxlbWVudCkge1xuICBpbnRlcnNlY3Rpb25DYWxsYmFja3MuZGVsZXRlKGVsZW1lbnQpO1xuICBpbnRlcnNlY3Rpb25PYnNlcnZlcj8udW5vYnNlcnZlKGVsZW1lbnQpO1xufVxuZnVuY3Rpb24gdXNlVmlzaWJsZUNhbGxiYWNrKHJlZiwgY2FsbGJhY2ssIG9wdGlvbnMpIHtcbiAgY29uc3QgZW5hYmxlZCA9IG9wdGlvbnM/LmVuYWJsZWQgPz8gdHJ1ZTtcbiAgY29uc3QgbGF0ZXN0Q2FsbGJhY2sgPSB1c2VMYXRlc3QoY2FsbGJhY2spO1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGVsZW1lbnQgPSByZWYuY3VycmVudDtcbiAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGVuYWJsZWQpIHtcbiAgICAgIG9ic2VydmUoZWxlbWVudCwgKGVudHJ5KSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIGxhdGVzdENhbGxiYWNrLmN1cnJlbnQoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9XG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHVub2JzZXJ2ZShlbGVtZW50KTtcbiAgICB9O1xuICB9LCBbZW5hYmxlZF0pO1xufVxuXG5leHBvcnQgeyB1c2VWaXNpYmxlQ2FsbGJhY2sgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVzZS12aXNpYmxlLm1qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/use-visible.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/visually-hidden.mjs":
/*!********************************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/visually-hidden.mjs ***!
  \********************************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   visuallyHidden: function() { return /* binding */ visuallyHidden; }\n/* harmony export */ });\nconst visuallyHidden = {\n  position: \"absolute\",\n  border: 0,\n  width: 1,\n  height: 1,\n  padding: 0,\n  margin: -1,\n  overflow: \"hidden\",\n  clip: \"rect(0, 0, 0, 0)\",\n  whiteSpace: \"nowrap\",\n  wordWrap: \"normal\"\n};\n\n\n//# sourceMappingURL=visually-hidden.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3Zpc3VhbGx5LWhpZGRlbi5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFMEI7QUFDMUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvdmlzdWFsbHktaGlkZGVuLm1qcz9jNmU2Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHZpc3VhbGx5SGlkZGVuID0ge1xuICBwb3NpdGlvbjogXCJhYnNvbHV0ZVwiLFxuICBib3JkZXI6IDAsXG4gIHdpZHRoOiAxLFxuICBoZWlnaHQ6IDEsXG4gIHBhZGRpbmc6IDAsXG4gIG1hcmdpbjogLTEsXG4gIG92ZXJmbG93OiBcImhpZGRlblwiLFxuICBjbGlwOiBcInJlY3QoMCwgMCwgMCwgMClcIixcbiAgd2hpdGVTcGFjZTogXCJub3dyYXBcIixcbiAgd29yZFdyYXA6IFwibm9ybWFsXCJcbn07XG5cbmV4cG9ydCB7IHZpc3VhbGx5SGlkZGVuIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD12aXN1YWxseS1oaWRkZW4ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/visually-hidden.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/wrap.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/@liveblocks/react-comments/dist/utils/wrap.mjs ***!
  \*********************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   wrap: function() { return /* binding */ wrap; }\n/* harmony export */ });\nfunction wrap(value, min, max) {\n  const range = max - min;\n  return range > 0 ? ((value - min) % range + range) % range + min : 0;\n}\n\n\n//# sourceMappingURL=wrap.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AbGl2ZWJsb2Nrcy9yZWFjdC1jb21tZW50cy9kaXN0L3V0aWxzL3dyYXAubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFZ0I7QUFDaEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0BsaXZlYmxvY2tzL3JlYWN0LWNvbW1lbnRzL2Rpc3QvdXRpbHMvd3JhcC5tanM/YzcxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB3cmFwKHZhbHVlLCBtaW4sIG1heCkge1xuICBjb25zdCByYW5nZSA9IG1heCAtIG1pbjtcbiAgcmV0dXJuIHJhbmdlID4gMCA/ICgodmFsdWUgLSBtaW4pICUgcmFuZ2UgKyByYW5nZSkgJSByYW5nZSArIG1pbiA6IDA7XG59XG5cbmV4cG9ydCB7IHdyYXAgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXdyYXAubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@liveblocks/react-comments/dist/utils/wrap.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@radix-ui/react-popover/dist/index.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Anchor: function() { return /* binding */ $cb5cc270b50c6fcd$export$b688253958b8dfe7; },\n/* harmony export */   Arrow: function() { return /* binding */ $cb5cc270b50c6fcd$export$21b07c8f274aebd5; },\n/* harmony export */   Close: function() { return /* binding */ $cb5cc270b50c6fcd$export$f39c2d165cd861fe; },\n/* harmony export */   Content: function() { return /* binding */ $cb5cc270b50c6fcd$export$7c6e2c02157bb7d2; },\n/* harmony export */   Popover: function() { return /* binding */ $cb5cc270b50c6fcd$export$5b6b19405a83ff9d; },\n/* harmony export */   PopoverAnchor: function() { return /* binding */ $cb5cc270b50c6fcd$export$96e5381f42521a79; },\n/* harmony export */   PopoverArrow: function() { return /* binding */ $cb5cc270b50c6fcd$export$3152841115e061b2; },\n/* harmony export */   PopoverClose: function() { return /* binding */ $cb5cc270b50c6fcd$export$d6ac43ebaa40d53e; },\n/* harmony export */   PopoverContent: function() { return /* binding */ $cb5cc270b50c6fcd$export$d7e1f420b25549ff; },\n/* harmony export */   PopoverPortal: function() { return /* binding */ $cb5cc270b50c6fcd$export$dd679ffb4362d2d4; },\n/* harmony export */   PopoverTrigger: function() { return /* binding */ $cb5cc270b50c6fcd$export$7dacb05d26466c3; },\n/* harmony export */   Portal: function() { return /* binding */ $cb5cc270b50c6fcd$export$602eac185826482c; },\n/* harmony export */   Root: function() { return /* binding */ $cb5cc270b50c6fcd$export$be92b6f5f03c0fe9; },\n/* harmony export */   Trigger: function() { return /* binding */ $cb5cc270b50c6fcd$export$41fb9f06171c75f4; },\n/* harmony export */   createPopoverScope: function() { return /* binding */ $cb5cc270b50c6fcd$export$c8393c9e73286932; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(app-pages-browser)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(app-pages-browser)/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-context */ \"(app-pages-browser)/./node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @radix-ui/react-dismissable-layer */ \"(app-pages-browser)/./node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_focus_guards__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @radix-ui/react-focus-guards */ \"(app-pages-browser)/./node_modules/@radix-ui/react-focus-guards/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_focus_scope__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @radix-ui/react-focus-scope */ \"(app-pages-browser)/./node_modules/@radix-ui/react-focus-scope/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-id */ \"(app-pages-browser)/./node_modules/@radix-ui/react-id/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-popper */ \"(app-pages-browser)/./node_modules/@radix-ui/react-popper/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-portal */ \"(app-pages-browser)/./node_modules/@radix-ui/react-portal/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-presence */ \"(app-pages-browser)/./node_modules/@radix-ui/react-presence/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var aria_hidden__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! aria-hidden */ \"(app-pages-browser)/./node_modules/aria-hidden/dist/es2015/index.js\");\n/* harmony import */ var react_remove_scroll__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! react-remove-scroll */ \"(app-pages-browser)/./node_modules/react-remove-scroll/dist/es2015/Combination.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Popover\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$POPOVER_NAME = 'Popover';\nconst [$cb5cc270b50c6fcd$var$createPopoverContext, $cb5cc270b50c6fcd$export$c8393c9e73286932] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.createContextScope)($cb5cc270b50c6fcd$var$POPOVER_NAME, [\n    _radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.createPopperScope\n]);\nconst $cb5cc270b50c6fcd$var$usePopperScope = (0,_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.createPopperScope)();\nconst [$cb5cc270b50c6fcd$var$PopoverProvider, $cb5cc270b50c6fcd$var$usePopoverContext] = $cb5cc270b50c6fcd$var$createPopoverContext($cb5cc270b50c6fcd$var$POPOVER_NAME);\nconst $cb5cc270b50c6fcd$export$5b6b19405a83ff9d = (props)=>{\n    const { __scopePopover: __scopePopover , children: children , open: openProp , defaultOpen: defaultOpen , onOpenChange: onOpenChange , modal: modal = false  } = props;\n    const popperScope = $cb5cc270b50c6fcd$var$usePopperScope(__scopePopover);\n    const triggerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [hasCustomAnchor, setHasCustomAnchor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [open = false, setOpen] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_4__.useControllableState)({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: onOpenChange\n    });\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Root, popperScope, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PopoverProvider, {\n        scope: __scopePopover,\n        contentId: (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_5__.useId)(),\n        triggerRef: triggerRef,\n        open: open,\n        onOpenChange: setOpen,\n        onOpenToggle: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>setOpen((prevOpen)=>!prevOpen\n            )\n        , [\n            setOpen\n        ]),\n        hasCustomAnchor: hasCustomAnchor,\n        onCustomAnchorAdd: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>setHasCustomAnchor(true)\n        , []),\n        onCustomAnchorRemove: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>setHasCustomAnchor(false)\n        , []),\n        modal: modal\n    }, children));\n};\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$5b6b19405a83ff9d, {\n    displayName: $cb5cc270b50c6fcd$var$POPOVER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverAnchor\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$ANCHOR_NAME = 'PopoverAnchor';\nconst $cb5cc270b50c6fcd$export$96e5381f42521a79 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopePopover: __scopePopover , ...anchorProps } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$ANCHOR_NAME, __scopePopover);\n    const popperScope = $cb5cc270b50c6fcd$var$usePopperScope(__scopePopover);\n    const { onCustomAnchorAdd: onCustomAnchorAdd , onCustomAnchorRemove: onCustomAnchorRemove  } = context;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        onCustomAnchorAdd();\n        return ()=>onCustomAnchorRemove()\n        ;\n    }, [\n        onCustomAnchorAdd,\n        onCustomAnchorRemove\n    ]);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Anchor, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, popperScope, anchorProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$96e5381f42521a79, {\n    displayName: $cb5cc270b50c6fcd$var$ANCHOR_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverTrigger\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$TRIGGER_NAME = 'PopoverTrigger';\nconst $cb5cc270b50c6fcd$export$7dacb05d26466c3 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopePopover: __scopePopover , ...triggerProps } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$TRIGGER_NAME, __scopePopover);\n    const popperScope = $cb5cc270b50c6fcd$var$usePopperScope(__scopePopover);\n    const composedTriggerRef = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs)(forwardedRef, context.triggerRef);\n    const trigger = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__.Primitive.button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        type: \"button\",\n        \"aria-haspopup\": \"dialog\",\n        \"aria-expanded\": context.open,\n        \"aria-controls\": context.contentId,\n        \"data-state\": $cb5cc270b50c6fcd$var$getState(context.open)\n    }, triggerProps, {\n        ref: composedTriggerRef,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onClick, context.onOpenToggle)\n    }));\n    return context.hasCustomAnchor ? trigger : /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Anchor, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        asChild: true\n    }, popperScope), trigger);\n});\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$7dacb05d26466c3, {\n    displayName: $cb5cc270b50c6fcd$var$TRIGGER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverPortal\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$PORTAL_NAME = 'PopoverPortal';\nconst [$cb5cc270b50c6fcd$var$PortalProvider, $cb5cc270b50c6fcd$var$usePortalContext] = $cb5cc270b50c6fcd$var$createPopoverContext($cb5cc270b50c6fcd$var$PORTAL_NAME, {\n    forceMount: undefined\n});\nconst $cb5cc270b50c6fcd$export$dd679ffb4362d2d4 = (props)=>{\n    const { __scopePopover: __scopePopover , forceMount: forceMount , children: children , container: container  } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$PORTAL_NAME, __scopePopover);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PortalProvider, {\n        scope: __scopePopover,\n        forceMount: forceMount\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.Presence, {\n        present: forceMount || context.open\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__.Portal, {\n        asChild: true,\n        container: container\n    }, children)));\n};\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$dd679ffb4362d2d4, {\n    displayName: $cb5cc270b50c6fcd$var$PORTAL_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverContent\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$CONTENT_NAME = 'PopoverContent';\nconst $cb5cc270b50c6fcd$export$d7e1f420b25549ff = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const portalContext = $cb5cc270b50c6fcd$var$usePortalContext($cb5cc270b50c6fcd$var$CONTENT_NAME, props.__scopePopover);\n    const { forceMount: forceMount = portalContext.forceMount , ...contentProps } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME, props.__scopePopover);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.Presence, {\n        present: forceMount || context.open\n    }, context.modal ? /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PopoverContentModal, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, contentProps, {\n        ref: forwardedRef\n    })) : /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PopoverContentNonModal, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, contentProps, {\n        ref: forwardedRef\n    })));\n});\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$d7e1f420b25549ff, {\n    displayName: $cb5cc270b50c6fcd$var$CONTENT_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$PopoverContentModal = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME, props.__scopePopover);\n    const contentRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs)(forwardedRef, contentRef);\n    const isRightClickOutsideRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false); // aria-hide everything except the content (better supported equivalent to setting aria-modal)\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const content = contentRef.current;\n        if (content) return (0,aria_hidden__WEBPACK_IMPORTED_MODULE_11__.hideOthers)(content);\n    }, []);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(react_remove_scroll__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n        as: _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_13__.Slot,\n        allowPinchZoom: true\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PopoverContentImpl, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        ref: composedRefs // we make sure we're not trapping once it's been closed\n        ,\n        trapFocus: context.open,\n        disableOutsidePointerEvents: true,\n        onCloseAutoFocus: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onCloseAutoFocus, (event)=>{\n            var _context$triggerRef$c;\n            event.preventDefault();\n            if (!isRightClickOutsideRef.current) (_context$triggerRef$c = context.triggerRef.current) === null || _context$triggerRef$c === void 0 || _context$triggerRef$c.focus();\n        }),\n        onPointerDownOutside: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onPointerDownOutside, (event)=>{\n            const originalEvent = event.detail.originalEvent;\n            const ctrlLeftClick = originalEvent.button === 0 && originalEvent.ctrlKey === true;\n            const isRightClick = originalEvent.button === 2 || ctrlLeftClick;\n            isRightClickOutsideRef.current = isRightClick;\n        }, {\n            checkForDefaultPrevented: false\n        }) // When focus is trapped, a `focusout` event may still happen.\n        ,\n        onFocusOutside: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onFocusOutside, (event)=>event.preventDefault()\n        , {\n            checkForDefaultPrevented: false\n        })\n    })));\n});\nconst $cb5cc270b50c6fcd$var$PopoverContentNonModal = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME, props.__scopePopover);\n    const hasInteractedOutsideRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const hasPointerDownOutsideRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($cb5cc270b50c6fcd$var$PopoverContentImpl, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        ref: forwardedRef,\n        trapFocus: false,\n        disableOutsidePointerEvents: false,\n        onCloseAutoFocus: (event)=>{\n            var _props$onCloseAutoFoc;\n            (_props$onCloseAutoFoc = props.onCloseAutoFocus) === null || _props$onCloseAutoFoc === void 0 || _props$onCloseAutoFoc.call(props, event);\n            if (!event.defaultPrevented) {\n                var _context$triggerRef$c2;\n                if (!hasInteractedOutsideRef.current) (_context$triggerRef$c2 = context.triggerRef.current) === null || _context$triggerRef$c2 === void 0 || _context$triggerRef$c2.focus(); // Always prevent auto focus because we either focus manually or want user agent focus\n                event.preventDefault();\n            }\n            hasInteractedOutsideRef.current = false;\n            hasPointerDownOutsideRef.current = false;\n        },\n        onInteractOutside: (event)=>{\n            var _props$onInteractOuts, _context$triggerRef$c3;\n            (_props$onInteractOuts = props.onInteractOutside) === null || _props$onInteractOuts === void 0 || _props$onInteractOuts.call(props, event);\n            if (!event.defaultPrevented) {\n                hasInteractedOutsideRef.current = true;\n                if (event.detail.originalEvent.type === 'pointerdown') hasPointerDownOutsideRef.current = true;\n            } // Prevent dismissing when clicking the trigger.\n            // As the trigger is already setup to close, without doing so would\n            // cause it to close and immediately open.\n            const target = event.target;\n            const targetIsTrigger = (_context$triggerRef$c3 = context.triggerRef.current) === null || _context$triggerRef$c3 === void 0 ? void 0 : _context$triggerRef$c3.contains(target);\n            if (targetIsTrigger) event.preventDefault(); // On Safari if the trigger is inside a container with tabIndex={0}, when clicked\n            // we will get the pointer down outside event on the trigger, but then a subsequent\n            // focus outside event on the container, we ignore any focus outside event when we've\n            // already had a pointer down outside event.\n            if (event.detail.originalEvent.type === 'focusin' && hasPointerDownOutsideRef.current) event.preventDefault();\n        }\n    }));\n});\n/* -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$PopoverContentImpl = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopePopover: __scopePopover , trapFocus: trapFocus , onOpenAutoFocus: onOpenAutoFocus , onCloseAutoFocus: onCloseAutoFocus , disableOutsidePointerEvents: disableOutsidePointerEvents , onEscapeKeyDown: onEscapeKeyDown , onPointerDownOutside: onPointerDownOutside , onFocusOutside: onFocusOutside , onInteractOutside: onInteractOutside , ...contentProps } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CONTENT_NAME, __scopePopover);\n    const popperScope = $cb5cc270b50c6fcd$var$usePopperScope(__scopePopover); // Make sure the whole tree has focus guards as our `Popover` may be\n    // the last element in the DOM (beacuse of the `Portal`)\n    (0,_radix_ui_react_focus_guards__WEBPACK_IMPORTED_MODULE_14__.useFocusGuards)();\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_focus_scope__WEBPACK_IMPORTED_MODULE_15__.FocusScope, {\n        asChild: true,\n        loop: true,\n        trapped: trapFocus,\n        onMountAutoFocus: onOpenAutoFocus,\n        onUnmountAutoFocus: onCloseAutoFocus\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_16__.DismissableLayer, {\n        asChild: true,\n        disableOutsidePointerEvents: disableOutsidePointerEvents,\n        onInteractOutside: onInteractOutside,\n        onEscapeKeyDown: onEscapeKeyDown,\n        onPointerDownOutside: onPointerDownOutside,\n        onFocusOutside: onFocusOutside,\n        onDismiss: ()=>context.onOpenChange(false)\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Content, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        \"data-state\": $cb5cc270b50c6fcd$var$getState(context.open),\n        role: \"dialog\",\n        id: context.contentId\n    }, popperScope, contentProps, {\n        ref: forwardedRef,\n        style: {\n            ...contentProps.style,\n            '--radix-popover-content-transform-origin': 'var(--radix-popper-transform-origin)',\n            '--radix-popover-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-popover-content-available-height': 'var(--radix-popper-available-height)',\n            '--radix-popover-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-popover-trigger-height': 'var(--radix-popper-anchor-height)'\n        }\n    }))));\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverClose\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$CLOSE_NAME = 'PopoverClose';\nconst $cb5cc270b50c6fcd$export$d6ac43ebaa40d53e = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopePopover: __scopePopover , ...closeProps } = props;\n    const context = $cb5cc270b50c6fcd$var$usePopoverContext($cb5cc270b50c6fcd$var$CLOSE_NAME, __scopePopover);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__.Primitive.button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        type: \"button\"\n    }, closeProps, {\n        ref: forwardedRef,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onClick, ()=>context.onOpenChange(false)\n        )\n    }));\n});\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$d6ac43ebaa40d53e, {\n    displayName: $cb5cc270b50c6fcd$var$CLOSE_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * PopoverArrow\n * -----------------------------------------------------------------------------------------------*/ const $cb5cc270b50c6fcd$var$ARROW_NAME = 'PopoverArrow';\nconst $cb5cc270b50c6fcd$export$3152841115e061b2 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopePopover: __scopePopover , ...arrowProps } = props;\n    const popperScope = $cb5cc270b50c6fcd$var$usePopperScope(__scopePopover);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Arrow, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, popperScope, arrowProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($cb5cc270b50c6fcd$export$3152841115e061b2, {\n    displayName: $cb5cc270b50c6fcd$var$ARROW_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ function $cb5cc270b50c6fcd$var$getState(open) {\n    return open ? 'open' : 'closed';\n}\nconst $cb5cc270b50c6fcd$export$be92b6f5f03c0fe9 = $cb5cc270b50c6fcd$export$5b6b19405a83ff9d;\nconst $cb5cc270b50c6fcd$export$b688253958b8dfe7 = $cb5cc270b50c6fcd$export$96e5381f42521a79;\nconst $cb5cc270b50c6fcd$export$41fb9f06171c75f4 = $cb5cc270b50c6fcd$export$7dacb05d26466c3;\nconst $cb5cc270b50c6fcd$export$602eac185826482c = $cb5cc270b50c6fcd$export$dd679ffb4362d2d4;\nconst $cb5cc270b50c6fcd$export$7c6e2c02157bb7d2 = $cb5cc270b50c6fcd$export$d7e1f420b25549ff;\nconst $cb5cc270b50c6fcd$export$f39c2d165cd861fe = $cb5cc270b50c6fcd$export$d6ac43ebaa40d53e;\nconst $cb5cc270b50c6fcd$export$21b07c8f274aebd5 = $cb5cc270b50c6fcd$export$3152841115e061b2;\n\n\n\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtcG9wb3Zlci9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFzRjtBQUMrSDtBQUM3SDtBQUNEO0FBQ0M7QUFDTTtBQUNUO0FBQ1Q7QUFDbkI7QUFDNEg7QUFDdEg7QUFDTTtBQUNHO0FBQ2Y7QUFDa0Q7QUFDL0M7QUFDWTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFvQnhFO0FBQ0E7QUFDQTtBQUNBLGdHQUFnRywyRUFBeUI7QUFDekgsSUFBSSxxRUFBd0I7QUFDNUI7QUFDQSw2Q0FBNkMseUVBQXdCO0FBQ3JFO0FBQ0E7QUFDQSxZQUFZLHVKQUF1SjtBQUNuSztBQUNBLHVCQUF1Qiw2Q0FBYTtBQUNwQyxrREFBa0QsK0NBQWU7QUFDakUsb0NBQW9DLDRGQUEyQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUJBQXlCLG9EQUFvQixDQUFDLHdEQUFXLDZCQUE2QixvREFBb0I7QUFDMUc7QUFDQSxtQkFBbUIseURBQVk7QUFDL0I7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLGtEQUFrQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtEQUFrQjtBQUM3QztBQUNBLDhCQUE4QixrREFBa0I7QUFDaEQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGlEQUFpQjtBQUNqRixZQUFZLGtEQUFrRDtBQUM5RDtBQUNBO0FBQ0EsWUFBWSxxRkFBcUY7QUFDakcsSUFBSSxnREFBZ0I7QUFDcEI7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixvREFBb0IsQ0FBQywwREFBYSxFQUFFLDhFQUFvQyxHQUFHO0FBQ3BHO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FB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QUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLGlEQUFpQjtBQUNqRixZQUFZLGlEQUFpRDtBQUM3RDtBQUNBLHlCQUF5QixvREFBb0IsQ0FBQyxnRUFBZ0IsU0FBUyw4RUFBb0M7QUFDM0c7QUFDQSxLQUFLO0FBQ0w7QUFDQSxpQkFBaUIseUVBQTJCO0FBQzVDO0FBQ0EsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxpREFBaUI7QUFDakYsWUFBWSxpREFBaUQ7QUFDN0Q7QUFDQSx5QkFBeUIsb0RBQW9CLENBQUMseURBQVksRUFBRSw4RUFBb0MsR0FBRztBQUNuRztBQUNBLEtBQUs7QUFDTCxDQUFDO0FBQ0Q7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLdTFCO0FBQ3YxQiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXBvcG92ZXIvZGlzdC9pbmRleC5tanM/NGQ5MiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJGFtNmdtJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQge3VzZVJlZiBhcyAkYW02Z20kdXNlUmVmLCB1c2VTdGF0ZSBhcyAkYW02Z20kdXNlU3RhdGUsIGNyZWF0ZUVsZW1lbnQgYXMgJGFtNmdtJGNyZWF0ZUVsZW1lbnQsIHVzZUNhbGxiYWNrIGFzICRhbTZnbSR1c2VDYWxsYmFjaywgZm9yd2FyZFJlZiBhcyAkYW02Z20kZm9yd2FyZFJlZiwgdXNlRWZmZWN0IGFzICRhbTZnbSR1c2VFZmZlY3R9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtjb21wb3NlRXZlbnRIYW5kbGVycyBhcyAkYW02Z20kY29tcG9zZUV2ZW50SGFuZGxlcnN9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQge3VzZUNvbXBvc2VkUmVmcyBhcyAkYW02Z20kdXNlQ29tcG9zZWRSZWZzfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHtjcmVhdGVDb250ZXh0U2NvcGUgYXMgJGFtNmdtJGNyZWF0ZUNvbnRleHRTY29wZX0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQge0Rpc21pc3NhYmxlTGF5ZXIgYXMgJGFtNmdtJERpc21pc3NhYmxlTGF5ZXJ9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXJcIjtcbmltcG9ydCB7dXNlRm9jdXNHdWFyZHMgYXMgJGFtNmdtJHVzZUZvY3VzR3VhcmRzfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvY3VzLWd1YXJkc1wiO1xuaW1wb3J0IHtGb2N1c1Njb3BlIGFzICRhbTZnbSRGb2N1c1Njb3BlfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWZvY3VzLXNjb3BlXCI7XG5pbXBvcnQge3VzZUlkIGFzICRhbTZnbSR1c2VJZH0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1pZFwiO1xuaW1wb3J0IHtjcmVhdGVQb3BwZXJTY29wZSBhcyAkYW02Z20kY3JlYXRlUG9wcGVyU2NvcGUsIFJvb3QgYXMgJGFtNmdtJFJvb3QsIEFuY2hvciBhcyAkYW02Z20kQW5jaG9yLCBDb250ZW50IGFzICRhbTZnbSRDb250ZW50LCBBcnJvdyBhcyAkYW02Z20kQXJyb3d9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9wcGVyXCI7XG5pbXBvcnQge1BvcnRhbCBhcyAkYW02Z20kUG9ydGFsfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXBvcnRhbFwiO1xuaW1wb3J0IHtQcmVzZW5jZSBhcyAkYW02Z20kUHJlc2VuY2V9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJlc2VuY2VcIjtcbmltcG9ydCB7UHJpbWl0aXZlIGFzICRhbTZnbSRQcmltaXRpdmV9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5pbXBvcnQge1Nsb3QgYXMgJGFtNmdtJFNsb3R9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHt1c2VDb250cm9sbGFibGVTdGF0ZSBhcyAkYW02Z20kdXNlQ29udHJvbGxhYmxlU3RhdGV9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZVwiO1xuaW1wb3J0IHtoaWRlT3RoZXJzIGFzICRhbTZnbSRoaWRlT3RoZXJzfSBmcm9tIFwiYXJpYS1oaWRkZW5cIjtcbmltcG9ydCB7UmVtb3ZlU2Nyb2xsIGFzICRhbTZnbSRSZW1vdmVTY3JvbGx9IGZyb20gXCJyZWFjdC1yZW1vdmUtc2Nyb2xsXCI7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBvcG92ZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBPUE9WRVJfTkFNRSA9ICdQb3BvdmVyJztcbmNvbnN0IFskY2I1Y2MyNzBiNTBjNmZjZCR2YXIkY3JlYXRlUG9wb3ZlckNvbnRleHQsICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRjODM5M2M5ZTczMjg2OTMyXSA9ICRhbTZnbSRjcmVhdGVDb250ZXh0U2NvcGUoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBPUE9WRVJfTkFNRSwgW1xuICAgICRhbTZnbSRjcmVhdGVQb3BwZXJTY29wZVxuXSk7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkdXNlUG9wcGVyU2NvcGUgPSAkYW02Z20kY3JlYXRlUG9wcGVyU2NvcGUoKTtcbmNvbnN0IFskY2I1Y2MyNzBiNTBjNmZjZCR2YXIkUG9wb3ZlclByb3ZpZGVyLCAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkdXNlUG9wb3ZlckNvbnRleHRdID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJGNyZWF0ZVBvcG92ZXJDb250ZXh0KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQT1BPVkVSX05BTUUpO1xuY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDViNmIxOTQwNWE4M2ZmOWQgPSAocHJvcHMpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlcjogX19zY29wZVBvcG92ZXIgLCBjaGlsZHJlbjogY2hpbGRyZW4gLCBvcGVuOiBvcGVuUHJvcCAsIGRlZmF1bHRPcGVuOiBkZWZhdWx0T3BlbiAsIG9uT3BlbkNoYW5nZTogb25PcGVuQ2hhbmdlICwgbW9kYWw6IG1vZGFsID0gZmFsc2UgIH0gPSBwcm9wcztcbiAgICBjb25zdCBwb3BwZXJTY29wZSA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgdHJpZ2dlclJlZiA9ICRhbTZnbSR1c2VSZWYobnVsbCk7XG4gICAgY29uc3QgW2hhc0N1c3RvbUFuY2hvciwgc2V0SGFzQ3VzdG9tQW5jaG9yXSA9ICRhbTZnbSR1c2VTdGF0ZShmYWxzZSk7XG4gICAgY29uc3QgW29wZW4gPSBmYWxzZSwgc2V0T3Blbl0gPSAkYW02Z20kdXNlQ29udHJvbGxhYmxlU3RhdGUoe1xuICAgICAgICBwcm9wOiBvcGVuUHJvcCxcbiAgICAgICAgZGVmYXVsdFByb3A6IGRlZmF1bHRPcGVuLFxuICAgICAgICBvbkNoYW5nZTogb25PcGVuQ2hhbmdlXG4gICAgfSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJFJvb3QsIHBvcHBlclNjb3BlLCAvKiNfX1BVUkVfXyovICRhbTZnbSRjcmVhdGVFbGVtZW50KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQb3BvdmVyUHJvdmlkZXIsIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVQb3BvdmVyLFxuICAgICAgICBjb250ZW50SWQ6ICRhbTZnbSR1c2VJZCgpLFxuICAgICAgICB0cmlnZ2VyUmVmOiB0cmlnZ2VyUmVmLFxuICAgICAgICBvcGVuOiBvcGVuLFxuICAgICAgICBvbk9wZW5DaGFuZ2U6IHNldE9wZW4sXG4gICAgICAgIG9uT3BlblRvZ2dsZTogJGFtNmdtJHVzZUNhbGxiYWNrKCgpPT5zZXRPcGVuKChwcmV2T3Blbik9PiFwcmV2T3BlblxuICAgICAgICAgICAgKVxuICAgICAgICAsIFtcbiAgICAgICAgICAgIHNldE9wZW5cbiAgICAgICAgXSksXG4gICAgICAgIGhhc0N1c3RvbUFuY2hvcjogaGFzQ3VzdG9tQW5jaG9yLFxuICAgICAgICBvbkN1c3RvbUFuY2hvckFkZDogJGFtNmdtJHVzZUNhbGxiYWNrKCgpPT5zZXRIYXNDdXN0b21BbmNob3IodHJ1ZSlcbiAgICAgICAgLCBbXSksXG4gICAgICAgIG9uQ3VzdG9tQW5jaG9yUmVtb3ZlOiAkYW02Z20kdXNlQ2FsbGJhY2soKCk9PnNldEhhc0N1c3RvbUFuY2hvcihmYWxzZSlcbiAgICAgICAgLCBbXSksXG4gICAgICAgIG1vZGFsOiBtb2RhbFxuICAgIH0sIGNoaWxkcmVuKSk7XG59O1xuLyojX19QVVJFX18qLyBPYmplY3QuYXNzaWduKCRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCQ1YjZiMTk0MDVhODNmZjlkLCB7XG4gICAgZGlzcGxheU5hbWU6ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQT1BPVkVSX05BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wb3ZlckFuY2hvclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkQU5DSE9SX05BTUUgPSAnUG9wb3ZlckFuY2hvcic7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkOTZlNTM4MWY0MjUyMWE3OSA9IC8qI19fUFVSRV9fKi8gJGFtNmdtJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlcjogX19zY29wZVBvcG92ZXIgLCAuLi5hbmNob3JQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BvdmVyQ29udGV4dCgkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkQU5DSE9SX05BTUUsIF9fc2NvcGVQb3BvdmVyKTtcbiAgICBjb25zdCBwb3BwZXJTY29wZSA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgeyBvbkN1c3RvbUFuY2hvckFkZDogb25DdXN0b21BbmNob3JBZGQgLCBvbkN1c3RvbUFuY2hvclJlbW92ZTogb25DdXN0b21BbmNob3JSZW1vdmUgIH0gPSBjb250ZXh0O1xuICAgICRhbTZnbSR1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgb25DdXN0b21BbmNob3JBZGQoKTtcbiAgICAgICAgcmV0dXJuICgpPT5vbkN1c3RvbUFuY2hvclJlbW92ZSgpXG4gICAgICAgIDtcbiAgICB9LCBbXG4gICAgICAgIG9uQ3VzdG9tQW5jaG9yQWRkLFxuICAgICAgICBvbkN1c3RvbUFuY2hvclJlbW92ZVxuICAgIF0pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovICRhbTZnbSRjcmVhdGVFbGVtZW50KCRhbTZnbSRBbmNob3IsICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7fSwgcG9wcGVyU2NvcGUsIGFuY2hvclByb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSkpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDk2ZTUzODFmNDI1MjFhNzksIHtcbiAgICBkaXNwbGF5TmFtZTogJGNiNWNjMjcwYjUwYzZmY2QkdmFyJEFOQ0hPUl9OQU1FXG59KTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBvcG92ZXJUcmlnZ2VyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRUUklHR0VSX05BTUUgPSAnUG9wb3ZlclRyaWdnZXInO1xuY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDdkYWNiMDVkMjY0NjZjMyA9IC8qI19fUFVSRV9fKi8gJGFtNmdtJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlcjogX19zY29wZVBvcG92ZXIgLCAuLi50cmlnZ2VyUHJvcHMgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkdXNlUG9wb3ZlckNvbnRleHQoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFRSSUdHRVJfTkFNRSwgX19zY29wZVBvcG92ZXIpO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcHBlclNjb3BlKF9fc2NvcGVQb3BvdmVyKTtcbiAgICBjb25zdCBjb21wb3NlZFRyaWdnZXJSZWYgPSAkYW02Z20kdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgY29udGV4dC50cmlnZ2VyUmVmKTtcbiAgICBjb25zdCB0cmlnZ2VyID0gLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkYW02Z20kUHJpbWl0aXZlLmJ1dHRvbiwgJGFtNmdtJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgXCJhcmlhLWhhc3BvcHVwXCI6IFwiZGlhbG9nXCIsXG4gICAgICAgIFwiYXJpYS1leHBhbmRlZFwiOiBjb250ZXh0Lm9wZW4sXG4gICAgICAgIFwiYXJpYS1jb250cm9sc1wiOiBjb250ZXh0LmNvbnRlbnRJZCxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRnZXRTdGF0ZShjb250ZXh0Lm9wZW4pXG4gICAgfSwgdHJpZ2dlclByb3BzLCB7XG4gICAgICAgIHJlZjogY29tcG9zZWRUcmlnZ2VyUmVmLFxuICAgICAgICBvbkNsaWNrOiAkYW02Z20kY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgY29udGV4dC5vbk9wZW5Ub2dnbGUpXG4gICAgfSkpO1xuICAgIHJldHVybiBjb250ZXh0Lmhhc0N1c3RvbUFuY2hvciA/IHRyaWdnZXIgOiAvKiNfX1BVUkVfXyovICRhbTZnbSRjcmVhdGVFbGVtZW50KCRhbTZnbSRBbmNob3IsICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7XG4gICAgICAgIGFzQ2hpbGQ6IHRydWVcbiAgICB9LCBwb3BwZXJTY29wZSksIHRyaWdnZXIpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDdkYWNiMDVkMjY0NjZjMywge1xuICAgIGRpc3BsYXlOYW1lOiAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkVFJJR0dFUl9OQU1FXG59KTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBvcG92ZXJQb3J0YWxcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBPUlRBTF9OQU1FID0gJ1BvcG92ZXJQb3J0YWwnO1xuY29uc3QgWyRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQb3J0YWxQcm92aWRlciwgJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcnRhbENvbnRleHRdID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJGNyZWF0ZVBvcG92ZXJDb250ZXh0KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQT1JUQUxfTkFNRSwge1xuICAgIGZvcmNlTW91bnQ6IHVuZGVmaW5lZFxufSk7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZGQ2NzlmZmI0MzYyZDJkNCA9IChwcm9wcyk9PntcbiAgICBjb25zdCB7IF9fc2NvcGVQb3BvdmVyOiBfX3Njb3BlUG9wb3ZlciAsIGZvcmNlTW91bnQ6IGZvcmNlTW91bnQgLCBjaGlsZHJlbjogY2hpbGRyZW4gLCBjb250YWluZXI6IGNvbnRhaW5lciAgfSA9IHByb3BzO1xuICAgIGNvbnN0IGNvbnRleHQgPSAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkdXNlUG9wb3ZlckNvbnRleHQoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBPUlRBTF9OQU1FLCBfX3Njb3BlUG9wb3Zlcik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBvcnRhbFByb3ZpZGVyLCB7XG4gICAgICAgIHNjb3BlOiBfX3Njb3BlUG9wb3ZlcixcbiAgICAgICAgZm9yY2VNb3VudDogZm9yY2VNb3VudFxuICAgIH0sIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJFByZXNlbmNlLCB7XG4gICAgICAgIHByZXNlbnQ6IGZvcmNlTW91bnQgfHwgY29udGV4dC5vcGVuXG4gICAgfSwgLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkYW02Z20kUG9ydGFsLCB7XG4gICAgICAgIGFzQ2hpbGQ6IHRydWUsXG4gICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyXG4gICAgfSwgY2hpbGRyZW4pKSk7XG59O1xuLyojX19QVVJFX18qLyBPYmplY3QuYXNzaWduKCRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRkZDY3OWZmYjQzNjJkMmQ0LCB7XG4gICAgZGlzcGxheU5hbWU6ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQT1JUQUxfTkFNRVxufSk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQb3BvdmVyQ29udGVudFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkQ09OVEVOVF9OQU1FID0gJ1BvcG92ZXJDb250ZW50JztcbmNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRkN2UxZjQyMGIyNTU0OWZmID0gLyojX19QVVJFX18qLyAkYW02Z20kZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZik9PntcbiAgICBjb25zdCBwb3J0YWxDb250ZXh0ID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcnRhbENvbnRleHQoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJENPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZVBvcG92ZXIpO1xuICAgIGNvbnN0IHsgZm9yY2VNb3VudDogZm9yY2VNb3VudCA9IHBvcnRhbENvbnRleHQuZm9yY2VNb3VudCAsIC4uLmNvbnRlbnRQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BvdmVyQ29udGV4dCgkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlUG9wb3Zlcik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJFByZXNlbmNlLCB7XG4gICAgICAgIHByZXNlbnQ6IGZvcmNlTW91bnQgfHwgY29udGV4dC5vcGVuXG4gICAgfSwgY29udGV4dC5tb2RhbCA/IC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGNiNWNjMjcwYjUwYzZmY2QkdmFyJFBvcG92ZXJDb250ZW50TW9kYWwsICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7fSwgY29udGVudFByb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSkpIDogLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkUG9wb3ZlckNvbnRlbnROb25Nb2RhbCwgJGFtNmdtJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHt9LCBjb250ZW50UHJvcHMsIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9KSkpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGQ3ZTFmNDIwYjI1NTQ5ZmYsIHtcbiAgICBkaXNwbGF5TmFtZTogJGNiNWNjMjcwYjUwYzZmY2QkdmFyJENPTlRFTlRfTkFNRVxufSk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQb3BvdmVyQ29udGVudE1vZGFsID0gLyojX19QVVJFX18qLyAkYW02Z20kZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZik9PntcbiAgICBjb25zdCBjb250ZXh0ID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcG92ZXJDb250ZXh0KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVQb3BvdmVyKTtcbiAgICBjb25zdCBjb250ZW50UmVmID0gJGFtNmdtJHVzZVJlZihudWxsKTtcbiAgICBjb25zdCBjb21wb3NlZFJlZnMgPSAkYW02Z20kdXNlQ29tcG9zZWRSZWZzKGZvcndhcmRlZFJlZiwgY29udGVudFJlZik7XG4gICAgY29uc3QgaXNSaWdodENsaWNrT3V0c2lkZVJlZiA9ICRhbTZnbSR1c2VSZWYoZmFsc2UpOyAvLyBhcmlhLWhpZGUgZXZlcnl0aGluZyBleGNlcHQgdGhlIGNvbnRlbnQgKGJldHRlciBzdXBwb3J0ZWQgZXF1aXZhbGVudCB0byBzZXR0aW5nIGFyaWEtbW9kYWwpXG4gICAgJGFtNmdtJHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBjb25zdCBjb250ZW50ID0gY29udGVudFJlZi5jdXJyZW50O1xuICAgICAgICBpZiAoY29udGVudCkgcmV0dXJuICRhbTZnbSRoaWRlT3RoZXJzKGNvbnRlbnQpO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkYW02Z20kUmVtb3ZlU2Nyb2xsLCB7XG4gICAgICAgIGFzOiAkYW02Z20kU2xvdCxcbiAgICAgICAgYWxsb3dQaW5jaFpvb206IHRydWVcbiAgICB9LCAvKiNfX1BVUkVfXyovICRhbTZnbSRjcmVhdGVFbGVtZW50KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQb3BvdmVyQ29udGVudEltcGwsICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7fSwgcHJvcHMsIHtcbiAgICAgICAgcmVmOiBjb21wb3NlZFJlZnMgLy8gd2UgbWFrZSBzdXJlIHdlJ3JlIG5vdCB0cmFwcGluZyBvbmNlIGl0J3MgYmVlbiBjbG9zZWRcbiAgICAgICAgLFxuICAgICAgICB0cmFwRm9jdXM6IGNvbnRleHQub3BlbixcbiAgICAgICAgZGlzYWJsZU91dHNpZGVQb2ludGVyRXZlbnRzOiB0cnVlLFxuICAgICAgICBvbkNsb3NlQXV0b0ZvY3VzOiAkYW02Z20kY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbG9zZUF1dG9Gb2N1cywgKGV2ZW50KT0+e1xuICAgICAgICAgICAgdmFyIF9jb250ZXh0JHRyaWdnZXJSZWYkYztcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBpZiAoIWlzUmlnaHRDbGlja091dHNpZGVSZWYuY3VycmVudCkgKF9jb250ZXh0JHRyaWdnZXJSZWYkYyA9IGNvbnRleHQudHJpZ2dlclJlZi5jdXJyZW50KSA9PT0gbnVsbCB8fCBfY29udGV4dCR0cmlnZ2VyUmVmJGMgPT09IHZvaWQgMCB8fCBfY29udGV4dCR0cmlnZ2VyUmVmJGMuZm9jdXMoKTtcbiAgICAgICAgfSksXG4gICAgICAgIG9uUG9pbnRlckRvd25PdXRzaWRlOiAkYW02Z20kY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyRG93bk91dHNpZGUsIChldmVudCk9PntcbiAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsRXZlbnQgPSBldmVudC5kZXRhaWwub3JpZ2luYWxFdmVudDtcbiAgICAgICAgICAgIGNvbnN0IGN0cmxMZWZ0Q2xpY2sgPSBvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PT0gMCAmJiBvcmlnaW5hbEV2ZW50LmN0cmxLZXkgPT09IHRydWU7XG4gICAgICAgICAgICBjb25zdCBpc1JpZ2h0Q2xpY2sgPSBvcmlnaW5hbEV2ZW50LmJ1dHRvbiA9PT0gMiB8fCBjdHJsTGVmdENsaWNrO1xuICAgICAgICAgICAgaXNSaWdodENsaWNrT3V0c2lkZVJlZi5jdXJyZW50ID0gaXNSaWdodENsaWNrO1xuICAgICAgICB9LCB7XG4gICAgICAgICAgICBjaGVja0ZvckRlZmF1bHRQcmV2ZW50ZWQ6IGZhbHNlXG4gICAgICAgIH0pIC8vIFdoZW4gZm9jdXMgaXMgdHJhcHBlZCwgYSBgZm9jdXNvdXRgIGV2ZW50IG1heSBzdGlsbCBoYXBwZW4uXG4gICAgICAgICxcbiAgICAgICAgb25Gb2N1c091dHNpZGU6ICRhbTZnbSRjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzT3V0c2lkZSwgKGV2ZW50KT0+ZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAsIHtcbiAgICAgICAgICAgIGNoZWNrRm9yRGVmYXVsdFByZXZlbnRlZDogZmFsc2VcbiAgICAgICAgfSlcbiAgICB9KSkpO1xufSk7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkUG9wb3ZlckNvbnRlbnROb25Nb2RhbCA9IC8qI19fUFVSRV9fKi8gJGFtNmdtJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgY29udGV4dCA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BvdmVyQ29udGV4dCgkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlUG9wb3Zlcik7XG4gICAgY29uc3QgaGFzSW50ZXJhY3RlZE91dHNpZGVSZWYgPSAkYW02Z20kdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBoYXNQb2ludGVyRG93bk91dHNpZGVSZWYgPSAkYW02Z20kdXNlUmVmKGZhbHNlKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkUG9wb3ZlckNvbnRlbnRJbXBsLCAkYW02Z20kYmFiZWxydW50aW1laGVscGVyc2VzbWV4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICB0cmFwRm9jdXM6IGZhbHNlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuICAgICAgICBvbkNsb3NlQXV0b0ZvY3VzOiAoZXZlbnQpPT57XG4gICAgICAgICAgICB2YXIgX3Byb3BzJG9uQ2xvc2VBdXRvRm9jO1xuICAgICAgICAgICAgKF9wcm9wcyRvbkNsb3NlQXV0b0ZvYyA9IHByb3BzLm9uQ2xvc2VBdXRvRm9jdXMpID09PSBudWxsIHx8IF9wcm9wcyRvbkNsb3NlQXV0b0ZvYyA9PT0gdm9pZCAwIHx8IF9wcm9wcyRvbkNsb3NlQXV0b0ZvYy5jYWxsKHByb3BzLCBldmVudCk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2NvbnRleHQkdHJpZ2dlclJlZiRjMjtcbiAgICAgICAgICAgICAgICBpZiAoIWhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQpIChfY29udGV4dCR0cmlnZ2VyUmVmJGMyID0gY29udGV4dC50cmlnZ2VyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9jb250ZXh0JHRyaWdnZXJSZWYkYzIgPT09IHZvaWQgMCB8fCBfY29udGV4dCR0cmlnZ2VyUmVmJGMyLmZvY3VzKCk7IC8vIEFsd2F5cyBwcmV2ZW50IGF1dG8gZm9jdXMgYmVjYXVzZSB3ZSBlaXRoZXIgZm9jdXMgbWFudWFsbHkgb3Igd2FudCB1c2VyIGFnZW50IGZvY3VzXG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhc0ludGVyYWN0ZWRPdXRzaWRlUmVmLmN1cnJlbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGhhc1BvaW50ZXJEb3duT3V0c2lkZVJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIG9uSW50ZXJhY3RPdXRzaWRlOiAoZXZlbnQpPT57XG4gICAgICAgICAgICB2YXIgX3Byb3BzJG9uSW50ZXJhY3RPdXRzLCBfY29udGV4dCR0cmlnZ2VyUmVmJGMzO1xuICAgICAgICAgICAgKF9wcm9wcyRvbkludGVyYWN0T3V0cyA9IHByb3BzLm9uSW50ZXJhY3RPdXRzaWRlKSA9PT0gbnVsbCB8fCBfcHJvcHMkb25JbnRlcmFjdE91dHMgPT09IHZvaWQgMCB8fCBfcHJvcHMkb25JbnRlcmFjdE91dHMuY2FsbChwcm9wcywgZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgaGFzSW50ZXJhY3RlZE91dHNpZGVSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LmRldGFpbC5vcmlnaW5hbEV2ZW50LnR5cGUgPT09ICdwb2ludGVyZG93bicpIGhhc1BvaW50ZXJEb3duT3V0c2lkZVJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gLy8gUHJldmVudCBkaXNtaXNzaW5nIHdoZW4gY2xpY2tpbmcgdGhlIHRyaWdnZXIuXG4gICAgICAgICAgICAvLyBBcyB0aGUgdHJpZ2dlciBpcyBhbHJlYWR5IHNldHVwIHRvIGNsb3NlLCB3aXRob3V0IGRvaW5nIHNvIHdvdWxkXG4gICAgICAgICAgICAvLyBjYXVzZSBpdCB0byBjbG9zZSBhbmQgaW1tZWRpYXRlbHkgb3Blbi5cbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldElzVHJpZ2dlciA9IChfY29udGV4dCR0cmlnZ2VyUmVmJGMzID0gY29udGV4dC50cmlnZ2VyUmVmLmN1cnJlbnQpID09PSBudWxsIHx8IF9jb250ZXh0JHRyaWdnZXJSZWYkYzMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jb250ZXh0JHRyaWdnZXJSZWYkYzMuY29udGFpbnModGFyZ2V0KTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRJc1RyaWdnZXIpIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7IC8vIE9uIFNhZmFyaSBpZiB0aGUgdHJpZ2dlciBpcyBpbnNpZGUgYSBjb250YWluZXIgd2l0aCB0YWJJbmRleD17MH0sIHdoZW4gY2xpY2tlZFxuICAgICAgICAgICAgLy8gd2Ugd2lsbCBnZXQgdGhlIHBvaW50ZXIgZG93biBvdXRzaWRlIGV2ZW50IG9uIHRoZSB0cmlnZ2VyLCBidXQgdGhlbiBhIHN1YnNlcXVlbnRcbiAgICAgICAgICAgIC8vIGZvY3VzIG91dHNpZGUgZXZlbnQgb24gdGhlIGNvbnRhaW5lciwgd2UgaWdub3JlIGFueSBmb2N1cyBvdXRzaWRlIGV2ZW50IHdoZW4gd2UndmVcbiAgICAgICAgICAgIC8vIGFscmVhZHkgaGFkIGEgcG9pbnRlciBkb3duIG91dHNpZGUgZXZlbnQuXG4gICAgICAgICAgICBpZiAoZXZlbnQuZGV0YWlsLm9yaWdpbmFsRXZlbnQudHlwZSA9PT0gJ2ZvY3VzaW4nICYmIGhhc1BvaW50ZXJEb3duT3V0c2lkZVJlZi5jdXJyZW50KSBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfSkpO1xufSk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRQb3BvdmVyQ29udGVudEltcGwgPSAvKiNfX1BVUkVfXyovICRhbTZnbSRmb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKT0+e1xuICAgIGNvbnN0IHsgX19zY29wZVBvcG92ZXI6IF9fc2NvcGVQb3BvdmVyICwgdHJhcEZvY3VzOiB0cmFwRm9jdXMgLCBvbk9wZW5BdXRvRm9jdXM6IG9uT3BlbkF1dG9Gb2N1cyAsIG9uQ2xvc2VBdXRvRm9jdXM6IG9uQ2xvc2VBdXRvRm9jdXMgLCBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50cyAsIG9uRXNjYXBlS2V5RG93bjogb25Fc2NhcGVLZXlEb3duICwgb25Qb2ludGVyRG93bk91dHNpZGU6IG9uUG9pbnRlckRvd25PdXRzaWRlICwgb25Gb2N1c091dHNpZGU6IG9uRm9jdXNPdXRzaWRlICwgb25JbnRlcmFjdE91dHNpZGU6IG9uSW50ZXJhY3RPdXRzaWRlICwgLi4uY29udGVudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcG92ZXJDb250ZXh0KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRDT05URU5UX05BTUUsIF9fc2NvcGVQb3BvdmVyKTtcbiAgICBjb25zdCBwb3BwZXJTY29wZSA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7IC8vIE1ha2Ugc3VyZSB0aGUgd2hvbGUgdHJlZSBoYXMgZm9jdXMgZ3VhcmRzIGFzIG91ciBgUG9wb3ZlcmAgbWF5IGJlXG4gICAgLy8gdGhlIGxhc3QgZWxlbWVudCBpbiB0aGUgRE9NIChiZWFjdXNlIG9mIHRoZSBgUG9ydGFsYClcbiAgICAkYW02Z20kdXNlRm9jdXNHdWFyZHMoKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkYW02Z20kRm9jdXNTY29wZSwge1xuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICBsb29wOiB0cnVlLFxuICAgICAgICB0cmFwcGVkOiB0cmFwRm9jdXMsXG4gICAgICAgIG9uTW91bnRBdXRvRm9jdXM6IG9uT3BlbkF1dG9Gb2N1cyxcbiAgICAgICAgb25Vbm1vdW50QXV0b0ZvY3VzOiBvbkNsb3NlQXV0b0ZvY3VzXG4gICAgfSwgLyojX19QVVJFX18qLyAkYW02Z20kY3JlYXRlRWxlbWVudCgkYW02Z20kRGlzbWlzc2FibGVMYXllciwge1xuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGRpc2FibGVPdXRzaWRlUG9pbnRlckV2ZW50cyxcbiAgICAgICAgb25JbnRlcmFjdE91dHNpZGU6IG9uSW50ZXJhY3RPdXRzaWRlLFxuICAgICAgICBvbkVzY2FwZUtleURvd246IG9uRXNjYXBlS2V5RG93bixcbiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU6IG9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICBvbkZvY3VzT3V0c2lkZTogb25Gb2N1c091dHNpZGUsXG4gICAgICAgIG9uRGlzbWlzczogKCk9PmNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKVxuICAgIH0sIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJENvbnRlbnQsICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7XG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkZ2V0U3RhdGUoY29udGV4dC5vcGVuKSxcbiAgICAgICAgcm9sZTogXCJkaWFsb2dcIixcbiAgICAgICAgaWQ6IGNvbnRleHQuY29udGVudElkXG4gICAgfSwgcG9wcGVyU2NvcGUsIGNvbnRlbnRQcm9wcywge1xuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICctLXJhZGl4LXBvcG92ZXItY29udGVudC10cmFuc2Zvcm0tb3JpZ2luJzogJ3ZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKScsXG4gICAgICAgICAgICAnLS1yYWRpeC1wb3BvdmVyLWNvbnRlbnQtYXZhaWxhYmxlLXdpZHRoJzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGgpJyxcbiAgICAgICAgICAgICctLXJhZGl4LXBvcG92ZXItY29udGVudC1hdmFpbGFibGUtaGVpZ2h0JzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtaGVpZ2h0KScsXG4gICAgICAgICAgICAnLS1yYWRpeC1wb3BvdmVyLXRyaWdnZXItd2lkdGgnOiAndmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aCknLFxuICAgICAgICAgICAgJy0tcmFkaXgtcG9wb3Zlci10cmlnZ2VyLWhlaWdodCc6ICd2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodCknXG4gICAgICAgIH1cbiAgICB9KSkpKTtcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wb3ZlckNsb3NlXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRDTE9TRV9OQU1FID0gJ1BvcG92ZXJDbG9zZSc7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZDZhYzQzZWJhYTQwZDUzZSA9IC8qI19fUFVSRV9fKi8gJGFtNmdtJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlcjogX19zY29wZVBvcG92ZXIgLCAuLi5jbG9zZVByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gJGNiNWNjMjcwYjUwYzZmY2QkdmFyJHVzZVBvcG92ZXJDb250ZXh0KCRjYjVjYzI3MGI1MGM2ZmNkJHZhciRDTE9TRV9OQU1FLCBfX3Njb3BlUG9wb3Zlcik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJFByaW1pdGl2ZS5idXR0b24sICRhbTZnbSRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7XG4gICAgICAgIHR5cGU6IFwiYnV0dG9uXCJcbiAgICB9LCBjbG9zZVByb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmLFxuICAgICAgICBvbkNsaWNrOiAkYW02Z20kY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25DbGljaywgKCk9PmNvbnRleHQub25PcGVuQ2hhbmdlKGZhbHNlKVxuICAgICAgICApXG4gICAgfSkpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGQ2YWM0M2ViYWE0MGQ1M2UsIHtcbiAgICBkaXNwbGF5TmFtZTogJGNiNWNjMjcwYjUwYzZmY2QkdmFyJENMT1NFX05BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUG9wb3ZlckFycm93XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciRBUlJPV19OQU1FID0gJ1BvcG92ZXJBcnJvdyc7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkMzE1Mjg0MTExNWUwNjFiMiA9IC8qI19fUFVSRV9fKi8gJGFtNmdtJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlUG9wb3ZlcjogX19zY29wZVBvcG92ZXIgLCAuLi5hcnJvd1Byb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBwb3BwZXJTY29wZSA9ICRjYjVjYzI3MGI1MGM2ZmNkJHZhciR1c2VQb3BwZXJTY29wZShfX3Njb3BlUG9wb3Zlcik7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJGFtNmdtJGNyZWF0ZUVsZW1lbnQoJGFtNmdtJEFycm93LCAkYW02Z20kYmFiZWxydW50aW1laGVscGVyc2VzbWV4dGVuZHMoe30sIHBvcHBlclNjb3BlLCBhcnJvd1Byb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSkpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDMxNTI4NDExMTVlMDYxYjIsIHtcbiAgICBkaXNwbGF5TmFtZTogJGNiNWNjMjcwYjUwYzZmY2QkdmFyJEFSUk9XX05BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBmdW5jdGlvbiAkY2I1Y2MyNzBiNTBjNmZjZCR2YXIkZ2V0U3RhdGUob3Blbikge1xuICAgIHJldHVybiBvcGVuID8gJ29wZW4nIDogJ2Nsb3NlZCc7XG59XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkYmU5MmI2ZjVmMDNjMGZlOSA9ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCQ1YjZiMTk0MDVhODNmZjlkO1xuY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGI2ODgyNTM5NThiOGRmZTcgPSAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkOTZlNTM4MWY0MjUyMWE3OTtcbmNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCQ0MWZiOWYwNjE3MWM3NWY0ID0gJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDdkYWNiMDVkMjY0NjZjMztcbmNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCQ2MDJlYWMxODU4MjY0ODJjID0gJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGRkNjc5ZmZiNDM2MmQyZDQ7XG5jb25zdCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkN2M2ZTJjMDIxNTdiYjdkMiA9ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRkN2UxZjQyMGIyNTU0OWZmO1xuY29uc3QgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGYzOWMyZDE2NWNkODYxZmUgPSAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZDZhYzQzZWJhYTQwZDUzZTtcbmNvbnN0ICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCQyMWIwN2M4ZjI3NGFlYmQ1ID0gJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDMxNTI4NDExMTVlMDYxYjI7XG5cblxuXG5cbmV4cG9ydCB7JGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGM4MzkzYzllNzMyODY5MzIgYXMgY3JlYXRlUG9wb3ZlclNjb3BlLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkNWI2YjE5NDA1YTgzZmY5ZCBhcyBQb3BvdmVyLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkOTZlNTM4MWY0MjUyMWE3OSBhcyBQb3BvdmVyQW5jaG9yLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkN2RhY2IwNWQyNjQ2NmMzIGFzIFBvcG92ZXJUcmlnZ2VyLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZGQ2NzlmZmI0MzYyZDJkNCBhcyBQb3BvdmVyUG9ydGFsLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZDdlMWY0MjBiMjU1NDlmZiBhcyBQb3BvdmVyQ29udGVudCwgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JGQ2YWM0M2ViYWE0MGQ1M2UgYXMgUG9wb3ZlckNsb3NlLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkMzE1Mjg0MTExNWUwNjFiMiBhcyBQb3BvdmVyQXJyb3csICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRiZTkyYjZmNWYwM2MwZmU5IGFzIFJvb3QsICRjYjVjYzI3MGI1MGM2ZmNkJGV4cG9ydCRiNjg4MjUzOTU4YjhkZmU3IGFzIEFuY2hvciwgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDQxZmI5ZjA2MTcxYzc1ZjQgYXMgVHJpZ2dlciwgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDYwMmVhYzE4NTgyNjQ4MmMgYXMgUG9ydGFsLCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkN2M2ZTJjMDIxNTdiYjdkMiBhcyBDb250ZW50LCAkY2I1Y2MyNzBiNTBjNmZjZCRleHBvcnQkZjM5YzJkMTY1Y2Q4NjFmZSBhcyBDbG9zZSwgJGNiNWNjMjcwYjUwYzZmY2QkZXhwb3J0JDIxYjA3YzhmMjc0YWViZDUgYXMgQXJyb3d9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@radix-ui/react-popover/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@radix-ui/react-toggle/dist/index.mjs":
/*!************************************************************!*\
  !*** ./node_modules/@radix-ui/react-toggle/dist/index.mjs ***!
  \************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Root: function() { return /* binding */ $b3bbe2732c13b576$export$be92b6f5f03c0fe9; },\n/* harmony export */   Toggle: function() { return /* binding */ $b3bbe2732c13b576$export$bea8ebba691c5813; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(app-pages-browser)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n/* -------------------------------------------------------------------------------------------------\n * Toggle\n * -----------------------------------------------------------------------------------------------*/ const $b3bbe2732c13b576$var$NAME = 'Toggle';\nconst $b3bbe2732c13b576$export$bea8ebba691c5813 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { pressed: pressedProp , defaultPressed: defaultPressed = false , onPressedChange: onPressedChange , ...buttonProps } = props;\n    const [pressed = false, setPressed] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_2__.useControllableState)({\n        prop: pressedProp,\n        onChange: onPressedChange,\n        defaultProp: defaultPressed\n    });\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_3__.Primitive.button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        type: \"button\",\n        \"aria-pressed\": pressed,\n        \"data-state\": pressed ? 'on' : 'off',\n        \"data-disabled\": props.disabled ? '' : undefined\n    }, buttonProps, {\n        ref: forwardedRef,\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_4__.composeEventHandlers)(props.onClick, ()=>{\n            if (!props.disabled) setPressed(!pressed);\n        })\n    }));\n});\n/*#__PURE__*/ Object.assign($b3bbe2732c13b576$export$bea8ebba691c5813, {\n    displayName: $b3bbe2732c13b576$var$NAME\n});\n/* ---------------------------------------------------------------------------------------------- */ const $b3bbe2732c13b576$export$be92b6f5f03c0fe9 = $b3bbe2732c13b576$export$bea8ebba691c5813;\n\n\n\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdG9nZ2xlL2Rpc3QvaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBc0Y7QUFDTztBQUNMO0FBQ21CO0FBQ25DOzs7Ozs7O0FBT3hFO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxpREFBaUI7QUFDakYsWUFBWSxvSEFBb0g7QUFDaEksMENBQTBDLDRGQUEyQjtBQUNyRTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wseUJBQXlCLG9EQUFvQixDQUFDLGdFQUFnQixTQUFTLDhFQUFvQztBQUMzRztBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLGlCQUFpQix5RUFBMkI7QUFDNUM7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLENBQUM7QUFDRDtBQUNBO0FBQ0EsQ0FBQztBQUNEOzs7OztBQUtnSDtBQUNoSCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXRvZ2dsZS9kaXN0L2luZGV4Lm1qcz8xNWRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAkNUFYWDckYmFiZWxydW50aW1laGVscGVyc2VzbWV4dGVuZHMgZnJvbSBcIkBiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2V4dGVuZHNcIjtcbmltcG9ydCB7Zm9yd2FyZFJlZiBhcyAkNUFYWDckZm9yd2FyZFJlZiwgY3JlYXRlRWxlbWVudCBhcyAkNUFYWDckY3JlYXRlRWxlbWVudH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge2NvbXBvc2VFdmVudEhhbmRsZXJzIGFzICQ1QVhYNyRjb21wb3NlRXZlbnRIYW5kbGVyc30gZnJvbSBcIkByYWRpeC11aS9wcmltaXRpdmVcIjtcbmltcG9ydCB7dXNlQ29udHJvbGxhYmxlU3RhdGUgYXMgJDVBWFg3JHVzZUNvbnRyb2xsYWJsZVN0YXRlfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LXVzZS1jb250cm9sbGFibGUtc3RhdGVcIjtcbmltcG9ydCB7UHJpbWl0aXZlIGFzICQ1QVhYNyRQcmltaXRpdmV9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcHJpbWl0aXZlXCI7XG5cblxuXG5cblxuXG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUb2dnbGVcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gY29uc3QgJGIzYmJlMjczMmMxM2I1NzYkdmFyJE5BTUUgPSAnVG9nZ2xlJztcbmNvbnN0ICRiM2JiZTI3MzJjMTNiNTc2JGV4cG9ydCRiZWE4ZWJiYTY5MWM1ODEzID0gLyojX19QVVJFX18qLyAkNUFYWDckZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZik9PntcbiAgICBjb25zdCB7IHByZXNzZWQ6IHByZXNzZWRQcm9wICwgZGVmYXVsdFByZXNzZWQ6IGRlZmF1bHRQcmVzc2VkID0gZmFsc2UgLCBvblByZXNzZWRDaGFuZ2U6IG9uUHJlc3NlZENoYW5nZSAsIC4uLmJ1dHRvblByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBbcHJlc3NlZCA9IGZhbHNlLCBzZXRQcmVzc2VkXSA9ICQ1QVhYNyR1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgICAgIHByb3A6IHByZXNzZWRQcm9wLFxuICAgICAgICBvbkNoYW5nZTogb25QcmVzc2VkQ2hhbmdlLFxuICAgICAgICBkZWZhdWx0UHJvcDogZGVmYXVsdFByZXNzZWRcbiAgICB9KTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkNUFYWDckY3JlYXRlRWxlbWVudCgkNUFYWDckUHJpbWl0aXZlLmJ1dHRvbiwgJDVBWFg3JGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHtcbiAgICAgICAgdHlwZTogXCJidXR0b25cIixcbiAgICAgICAgXCJhcmlhLXByZXNzZWRcIjogcHJlc3NlZCxcbiAgICAgICAgXCJkYXRhLXN0YXRlXCI6IHByZXNzZWQgPyAnb24nIDogJ29mZicsXG4gICAgICAgIFwiZGF0YS1kaXNhYmxlZFwiOiBwcm9wcy5kaXNhYmxlZCA/ICcnIDogdW5kZWZpbmVkXG4gICAgfSwgYnV0dG9uUHJvcHMsIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWYsXG4gICAgICAgIG9uQ2xpY2s6ICQ1QVhYNyRjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCAoKT0+e1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5kaXNhYmxlZCkgc2V0UHJlc3NlZCghcHJlc3NlZCk7XG4gICAgICAgIH0pXG4gICAgfSkpO1xufSk7XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGIzYmJlMjczMmMxM2I1NzYkZXhwb3J0JGJlYThlYmJhNjkxYzU4MTMsIHtcbiAgICBkaXNwbGF5TmFtZTogJGIzYmJlMjczMmMxM2I1NzYkdmFyJE5BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqLyBjb25zdCAkYjNiYmUyNzMyYzEzYjU3NiRleHBvcnQkYmU5MmI2ZjVmMDNjMGZlOSA9ICRiM2JiZTI3MzJjMTNiNTc2JGV4cG9ydCRiZWE4ZWJiYTY5MWM1ODEzO1xuXG5cblxuXG5leHBvcnQgeyRiM2JiZTI3MzJjMTNiNTc2JGV4cG9ydCRiZWE4ZWJiYTY5MWM1ODEzIGFzIFRvZ2dsZSwgJGIzYmJlMjczMmMxM2I1NzYkZXhwb3J0JGJlOTJiNmY1ZjAzYzBmZTkgYXMgUm9vdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@radix-ui/react-toggle/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs":
/*!*************************************************************!*\
  !*** ./node_modules/@radix-ui/react-tooltip/dist/index.mjs ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Arrow: function() { return /* binding */ $a093c7e1ec25a057$export$21b07c8f274aebd5; },\n/* harmony export */   Content: function() { return /* binding */ $a093c7e1ec25a057$export$7c6e2c02157bb7d2; },\n/* harmony export */   Portal: function() { return /* binding */ $a093c7e1ec25a057$export$602eac185826482c; },\n/* harmony export */   Provider: function() { return /* binding */ $a093c7e1ec25a057$export$2881499e37b75b9a; },\n/* harmony export */   Root: function() { return /* binding */ $a093c7e1ec25a057$export$be92b6f5f03c0fe9; },\n/* harmony export */   Tooltip: function() { return /* binding */ $a093c7e1ec25a057$export$28c660c63b792dea; },\n/* harmony export */   TooltipArrow: function() { return /* binding */ $a093c7e1ec25a057$export$c27ee0ad710f7559; },\n/* harmony export */   TooltipContent: function() { return /* binding */ $a093c7e1ec25a057$export$e9003e2be37ec060; },\n/* harmony export */   TooltipPortal: function() { return /* binding */ $a093c7e1ec25a057$export$7b36b8f925ab7497; },\n/* harmony export */   TooltipProvider: function() { return /* binding */ $a093c7e1ec25a057$export$f78649fb9ca566b8; },\n/* harmony export */   TooltipTrigger: function() { return /* binding */ $a093c7e1ec25a057$export$8c610744efcf8a1d; },\n/* harmony export */   Trigger: function() { return /* binding */ $a093c7e1ec25a057$export$41fb9f06171c75f4; },\n/* harmony export */   createTooltipScope: function() { return /* binding */ $a093c7e1ec25a057$export$1c540a2224f0d865; }\n/* harmony export */ });\n/* harmony import */ var _babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime/helpers/esm/extends */ \"(app-pages-browser)/./node_modules/@babel/runtime/helpers/esm/extends.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var _radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @radix-ui/primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @radix-ui/react-compose-refs */ \"(app-pages-browser)/./node_modules/@radix-ui/react-compose-refs/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @radix-ui/react-context */ \"(app-pages-browser)/./node_modules/@radix-ui/react-context/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! @radix-ui/react-dismissable-layer */ \"(app-pages-browser)/./node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @radix-ui/react-id */ \"(app-pages-browser)/./node_modules/@radix-ui/react-id/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @radix-ui/react-popper */ \"(app-pages-browser)/./node_modules/@radix-ui/react-popper/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @radix-ui/react-portal */ \"(app-pages-browser)/./node_modules/@radix-ui/react-portal/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @radix-ui/react-presence */ \"(app-pages-browser)/./node_modules/@radix-ui/react-presence/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @radix-ui/react-primitive */ \"(app-pages-browser)/./node_modules/@radix-ui/react-primitive/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! @radix-ui/react-slot */ \"(app-pages-browser)/./node_modules/@radix-ui/react-slot/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @radix-ui/react-use-controllable-state */ \"(app-pages-browser)/./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs\");\n/* harmony import */ var _radix_ui_react_visually_hidden__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @radix-ui/react-visually-hidden */ \"(app-pages-browser)/./node_modules/@radix-ui/react-visually-hidden/dist/index.mjs\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst [$a093c7e1ec25a057$var$createTooltipContext, $a093c7e1ec25a057$export$1c540a2224f0d865] = (0,_radix_ui_react_context__WEBPACK_IMPORTED_MODULE_2__.createContextScope)('Tooltip', [\n    _radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.createPopperScope\n]);\nconst $a093c7e1ec25a057$var$usePopperScope = (0,_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.createPopperScope)();\n/* -------------------------------------------------------------------------------------------------\n * TooltipProvider\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$PROVIDER_NAME = 'TooltipProvider';\nconst $a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION = 700;\nconst $a093c7e1ec25a057$var$TOOLTIP_OPEN = 'tooltip.open';\nconst [$a093c7e1ec25a057$var$TooltipProviderContextProvider, $a093c7e1ec25a057$var$useTooltipProviderContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PROVIDER_NAME);\nconst $a093c7e1ec25a057$export$f78649fb9ca566b8 = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , delayDuration: delayDuration = $a093c7e1ec25a057$var$DEFAULT_DELAY_DURATION , skipDelayDuration: skipDelayDuration = 300 , disableHoverableContent: disableHoverableContent = false , children: children  } = props;\n    const [isOpenDelayed, setIsOpenDelayed] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const isPointerInTransitRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const skipDelayTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const skipDelayTimer = skipDelayTimerRef.current;\n        return ()=>window.clearTimeout(skipDelayTimer)\n        ;\n    }, []);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$TooltipProviderContextProvider, {\n        scope: __scopeTooltip,\n        isOpenDelayed: isOpenDelayed,\n        delayDuration: delayDuration,\n        onOpen: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n            window.clearTimeout(skipDelayTimerRef.current);\n            setIsOpenDelayed(false);\n        }, []),\n        onClose: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n            window.clearTimeout(skipDelayTimerRef.current);\n            skipDelayTimerRef.current = window.setTimeout(()=>setIsOpenDelayed(true)\n            , skipDelayDuration);\n        }, [\n            skipDelayDuration\n        ]),\n        isPointerInTransitRef: isPointerInTransitRef,\n        onPointerInTransitChange: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((inTransit)=>{\n            isPointerInTransitRef.current = inTransit;\n        }, []),\n        disableHoverableContent: disableHoverableContent\n    }, children);\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$f78649fb9ca566b8, {\n    displayName: $a093c7e1ec25a057$var$PROVIDER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * Tooltip\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$TOOLTIP_NAME = 'Tooltip';\nconst [$a093c7e1ec25a057$var$TooltipContextProvider, $a093c7e1ec25a057$var$useTooltipContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME);\nconst $a093c7e1ec25a057$export$28c660c63b792dea = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , children: children , open: openProp , defaultOpen: defaultOpen = false , onOpenChange: onOpenChange , disableHoverableContent: disableHoverableContentProp , delayDuration: delayDurationProp  } = props;\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TOOLTIP_NAME, props.__scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const [trigger, setTrigger] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const contentId = (0,_radix_ui_react_id__WEBPACK_IMPORTED_MODULE_4__.useId)();\n    const openTimerRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(0);\n    const disableHoverableContent = disableHoverableContentProp !== null && disableHoverableContentProp !== void 0 ? disableHoverableContentProp : providerContext.disableHoverableContent;\n    const delayDuration = delayDurationProp !== null && delayDurationProp !== void 0 ? delayDurationProp : providerContext.delayDuration;\n    const wasOpenDelayedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const [open1 = false, setOpen] = (0,_radix_ui_react_use_controllable_state__WEBPACK_IMPORTED_MODULE_5__.useControllableState)({\n        prop: openProp,\n        defaultProp: defaultOpen,\n        onChange: (open)=>{\n            if (open) {\n                providerContext.onOpen(); // as `onChange` is called within a lifecycle method we\n                // avoid dispatching via `dispatchDiscreteCustomEvent`.\n                document.dispatchEvent(new CustomEvent($a093c7e1ec25a057$var$TOOLTIP_OPEN));\n            } else providerContext.onClose();\n            onOpenChange === null || onOpenChange === void 0 || onOpenChange(open);\n        }\n    });\n    const stateAttribute = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        return open1 ? wasOpenDelayedRef.current ? 'delayed-open' : 'instant-open' : 'closed';\n    }, [\n        open1\n    ]);\n    const handleOpen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        window.clearTimeout(openTimerRef.current);\n        wasOpenDelayedRef.current = false;\n        setOpen(true);\n    }, [\n        setOpen\n    ]);\n    const handleClose = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        window.clearTimeout(openTimerRef.current);\n        setOpen(false);\n    }, [\n        setOpen\n    ]);\n    const handleDelayedOpen = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        window.clearTimeout(openTimerRef.current);\n        openTimerRef.current = window.setTimeout(()=>{\n            wasOpenDelayedRef.current = true;\n            setOpen(true);\n        }, delayDuration);\n    }, [\n        delayDuration,\n        setOpen\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>window.clearTimeout(openTimerRef.current)\n        ;\n    }, []);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Root, popperScope, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$TooltipContextProvider, {\n        scope: __scopeTooltip,\n        contentId: contentId,\n        open: open1,\n        stateAttribute: stateAttribute,\n        trigger: trigger,\n        onTriggerChange: setTrigger,\n        onTriggerEnter: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n            if (providerContext.isOpenDelayed) handleDelayedOpen();\n            else handleOpen();\n        }, [\n            providerContext.isOpenDelayed,\n            handleDelayedOpen,\n            handleOpen\n        ]),\n        onTriggerLeave: (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n            if (disableHoverableContent) handleClose();\n            else // Clear the timer in case the pointer leaves the trigger before the tooltip is opened.\n            window.clearTimeout(openTimerRef.current);\n        }, [\n            handleClose,\n            disableHoverableContent\n        ]),\n        onOpen: handleOpen,\n        onClose: handleClose,\n        disableHoverableContent: disableHoverableContent\n    }, children));\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$28c660c63b792dea, {\n    displayName: $a093c7e1ec25a057$var$TOOLTIP_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipTrigger\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$TRIGGER_NAME = 'TooltipTrigger';\nconst $a093c7e1ec25a057$export$8c610744efcf8a1d = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , ...triggerProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$TRIGGER_NAME, __scopeTooltip);\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$TRIGGER_NAME, __scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs)(forwardedRef, ref, context.onTriggerChange);\n    const isPointerDownRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const hasPointerMoveOpenedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const handlePointerUp = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>isPointerDownRef.current = false\n    , []);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>document.removeEventListener('pointerup', handlePointerUp)\n        ;\n    }, [\n        handlePointerUp\n    ]);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Anchor, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        asChild: true\n    }, popperScope), /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_7__.Primitive.button, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        // We purposefully avoid adding `type=button` here because tooltip triggers are also\n        // commonly anchors and the anchor `type` attribute signifies MIME type.\n        \"aria-describedby\": context.open ? context.contentId : undefined,\n        \"data-state\": context.stateAttribute\n    }, triggerProps, {\n        ref: composedRefs,\n        onPointerMove: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onPointerMove, (event)=>{\n            if (event.pointerType === 'touch') return;\n            if (!hasPointerMoveOpenedRef.current && !providerContext.isPointerInTransitRef.current) {\n                context.onTriggerEnter();\n                hasPointerMoveOpenedRef.current = true;\n            }\n        }),\n        onPointerLeave: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onPointerLeave, ()=>{\n            context.onTriggerLeave();\n            hasPointerMoveOpenedRef.current = false;\n        }),\n        onPointerDown: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onPointerDown, ()=>{\n            isPointerDownRef.current = true;\n            document.addEventListener('pointerup', handlePointerUp, {\n                once: true\n            });\n        }),\n        onFocus: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onFocus, ()=>{\n            if (!isPointerDownRef.current) context.onOpen();\n        }),\n        onBlur: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onBlur, context.onClose),\n        onClick: (0,_radix_ui_primitive__WEBPACK_IMPORTED_MODULE_8__.composeEventHandlers)(props.onClick, context.onClose)\n    })));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$8c610744efcf8a1d, {\n    displayName: $a093c7e1ec25a057$var$TRIGGER_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipPortal\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$PORTAL_NAME = 'TooltipPortal';\nconst [$a093c7e1ec25a057$var$PortalProvider, $a093c7e1ec25a057$var$usePortalContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME, {\n    forceMount: undefined\n});\nconst $a093c7e1ec25a057$export$7b36b8f925ab7497 = (props)=>{\n    const { __scopeTooltip: __scopeTooltip , forceMount: forceMount , children: children , container: container  } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$PORTAL_NAME, __scopeTooltip);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$PortalProvider, {\n        scope: __scopeTooltip,\n        forceMount: forceMount\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.Presence, {\n        present: forceMount || context.open\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_portal__WEBPACK_IMPORTED_MODULE_10__.Portal, {\n        asChild: true,\n        container: container\n    }, children)));\n};\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$7b36b8f925ab7497, {\n    displayName: $a093c7e1ec25a057$var$PORTAL_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipContent\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$CONTENT_NAME = 'TooltipContent';\nconst $a093c7e1ec25a057$export$e9003e2be37ec060 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const portalContext = $a093c7e1ec25a057$var$usePortalContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const { forceMount: forceMount = portalContext.forceMount , side: side = 'top' , ...contentProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_presence__WEBPACK_IMPORTED_MODULE_9__.Presence, {\n        present: forceMount || context.open\n    }, context.disableHoverableContent ? /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$TooltipContentImpl, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        side: side\n    }, contentProps, {\n        ref: forwardedRef\n    })) : /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$TooltipContentHoverable, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        side: side\n    }, contentProps, {\n        ref: forwardedRef\n    })));\n});\nconst $a093c7e1ec25a057$var$TooltipContentHoverable = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const providerContext = $a093c7e1ec25a057$var$useTooltipProviderContext($a093c7e1ec25a057$var$CONTENT_NAME, props.__scopeTooltip);\n    const ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const composedRefs = (0,_radix_ui_react_compose_refs__WEBPACK_IMPORTED_MODULE_6__.useComposedRefs)(forwardedRef, ref);\n    const [pointerGraceArea, setPointerGraceArea] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const { trigger: trigger , onClose: onClose  } = context;\n    const content = ref.current;\n    const { onPointerInTransitChange: onPointerInTransitChange  } = providerContext;\n    const handleRemoveGraceArea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        setPointerGraceArea(null);\n        onPointerInTransitChange(false);\n    }, [\n        onPointerInTransitChange\n    ]);\n    const handleCreateGraceArea = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((event, hoverTarget)=>{\n        const currentTarget = event.currentTarget;\n        const exitPoint = {\n            x: event.clientX,\n            y: event.clientY\n        };\n        const exitSide = $a093c7e1ec25a057$var$getExitSideFromRect(exitPoint, currentTarget.getBoundingClientRect());\n        const paddedExitPoints = $a093c7e1ec25a057$var$getPaddedExitPoints(exitPoint, exitSide);\n        const hoverTargetPoints = $a093c7e1ec25a057$var$getPointsFromRect(hoverTarget.getBoundingClientRect());\n        const graceArea = $a093c7e1ec25a057$var$getHull([\n            ...paddedExitPoints,\n            ...hoverTargetPoints\n        ]);\n        setPointerGraceArea(graceArea);\n        onPointerInTransitChange(true);\n    }, [\n        onPointerInTransitChange\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>handleRemoveGraceArea()\n        ;\n    }, [\n        handleRemoveGraceArea\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (trigger && content) {\n            const handleTriggerLeave = (event)=>handleCreateGraceArea(event, content)\n            ;\n            const handleContentLeave = (event)=>handleCreateGraceArea(event, trigger)\n            ;\n            trigger.addEventListener('pointerleave', handleTriggerLeave);\n            content.addEventListener('pointerleave', handleContentLeave);\n            return ()=>{\n                trigger.removeEventListener('pointerleave', handleTriggerLeave);\n                content.removeEventListener('pointerleave', handleContentLeave);\n            };\n        }\n    }, [\n        trigger,\n        content,\n        handleCreateGraceArea,\n        handleRemoveGraceArea\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (pointerGraceArea) {\n            const handleTrackPointerGrace = (event)=>{\n                const target = event.target;\n                const pointerPosition = {\n                    x: event.clientX,\n                    y: event.clientY\n                };\n                const hasEnteredTarget = (trigger === null || trigger === void 0 ? void 0 : trigger.contains(target)) || (content === null || content === void 0 ? void 0 : content.contains(target));\n                const isPointerOutsideGraceArea = !$a093c7e1ec25a057$var$isPointInPolygon(pointerPosition, pointerGraceArea);\n                if (hasEnteredTarget) handleRemoveGraceArea();\n                else if (isPointerOutsideGraceArea) {\n                    handleRemoveGraceArea();\n                    onClose();\n                }\n            };\n            document.addEventListener('pointermove', handleTrackPointerGrace);\n            return ()=>document.removeEventListener('pointermove', handleTrackPointerGrace)\n            ;\n        }\n    }, [\n        trigger,\n        content,\n        pointerGraceArea,\n        onClose,\n        handleRemoveGraceArea\n    ]);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$TooltipContentImpl, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, props, {\n        ref: composedRefs\n    }));\n});\nconst [$a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider, $a093c7e1ec25a057$var$useVisuallyHiddenContentContext] = $a093c7e1ec25a057$var$createTooltipContext($a093c7e1ec25a057$var$TOOLTIP_NAME, {\n    isInside: false\n});\nconst $a093c7e1ec25a057$var$TooltipContentImpl = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , children: children , 'aria-label': ariaLabel , onEscapeKeyDown: onEscapeKeyDown , onPointerDownOutside: onPointerDownOutside , ...contentProps } = props;\n    const context = $a093c7e1ec25a057$var$useTooltipContext($a093c7e1ec25a057$var$CONTENT_NAME, __scopeTooltip);\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const { onClose: onClose  } = context; // Close this tooltip if another one opens\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        document.addEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN, onClose);\n        return ()=>document.removeEventListener($a093c7e1ec25a057$var$TOOLTIP_OPEN, onClose)\n        ;\n    }, [\n        onClose\n    ]); // Close the tooltip if the trigger is scrolled\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (context.trigger) {\n            const handleScroll = (event)=>{\n                const target = event.target;\n                if (target !== null && target !== void 0 && target.contains(context.trigger)) onClose();\n            };\n            window.addEventListener('scroll', handleScroll, {\n                capture: true\n            });\n            return ()=>window.removeEventListener('scroll', handleScroll, {\n                    capture: true\n                })\n            ;\n        }\n    }, [\n        context.trigger,\n        onClose\n    ]);\n    return /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_dismissable_layer__WEBPACK_IMPORTED_MODULE_11__.DismissableLayer, {\n        asChild: true,\n        disableOutsidePointerEvents: false,\n        onEscapeKeyDown: onEscapeKeyDown,\n        onPointerDownOutside: onPointerDownOutside,\n        onFocusOutside: (event)=>event.preventDefault()\n        ,\n        onDismiss: onClose\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Content, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n        \"data-state\": context.stateAttribute\n    }, popperScope, contentProps, {\n        ref: forwardedRef,\n        style: {\n            ...contentProps.style,\n            '--radix-tooltip-content-transform-origin': 'var(--radix-popper-transform-origin)',\n            '--radix-tooltip-content-available-width': 'var(--radix-popper-available-width)',\n            '--radix-tooltip-content-available-height': 'var(--radix-popper-available-height)',\n            '--radix-tooltip-trigger-width': 'var(--radix-popper-anchor-width)',\n            '--radix-tooltip-trigger-height': 'var(--radix-popper-anchor-height)'\n        }\n    }), /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_slot__WEBPACK_IMPORTED_MODULE_12__.Slottable, null, children), /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)($a093c7e1ec25a057$var$VisuallyHiddenContentContextProvider, {\n        scope: __scopeTooltip,\n        isInside: true\n    }, /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_visually_hidden__WEBPACK_IMPORTED_MODULE_13__.Root, {\n        id: context.contentId,\n        role: \"tooltip\"\n    }, ariaLabel || children))));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$e9003e2be37ec060, {\n    displayName: $a093c7e1ec25a057$var$CONTENT_NAME\n});\n/* -------------------------------------------------------------------------------------------------\n * TooltipArrow\n * -----------------------------------------------------------------------------------------------*/ const $a093c7e1ec25a057$var$ARROW_NAME = 'TooltipArrow';\nconst $a093c7e1ec25a057$export$c27ee0ad710f7559 = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)((props, forwardedRef)=>{\n    const { __scopeTooltip: __scopeTooltip , ...arrowProps } = props;\n    const popperScope = $a093c7e1ec25a057$var$usePopperScope(__scopeTooltip);\n    const visuallyHiddenContentContext = $a093c7e1ec25a057$var$useVisuallyHiddenContentContext($a093c7e1ec25a057$var$ARROW_NAME, __scopeTooltip); // if the arrow is inside the `VisuallyHidden`, we don't want to render it all to\n    // prevent issues in positioning the arrow due to the duplicate\n    return visuallyHiddenContentContext.isInside ? null : /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createElement)(_radix_ui_react_popper__WEBPACK_IMPORTED_MODULE_3__.Arrow, (0,_babel_runtime_helpers_esm_extends__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({}, popperScope, arrowProps, {\n        ref: forwardedRef\n    }));\n});\n/*#__PURE__*/ Object.assign($a093c7e1ec25a057$export$c27ee0ad710f7559, {\n    displayName: $a093c7e1ec25a057$var$ARROW_NAME\n});\n/* -----------------------------------------------------------------------------------------------*/ function $a093c7e1ec25a057$var$getExitSideFromRect(point, rect) {\n    const top = Math.abs(rect.top - point.y);\n    const bottom = Math.abs(rect.bottom - point.y);\n    const right = Math.abs(rect.right - point.x);\n    const left = Math.abs(rect.left - point.x);\n    switch(Math.min(top, bottom, right, left)){\n        case left:\n            return 'left';\n        case right:\n            return 'right';\n        case top:\n            return 'top';\n        case bottom:\n            return 'bottom';\n        default:\n            throw new Error('unreachable');\n    }\n}\nfunction $a093c7e1ec25a057$var$getPaddedExitPoints(exitPoint, exitSide, padding = 5) {\n    const paddedExitPoints = [];\n    switch(exitSide){\n        case 'top':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case 'bottom':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            });\n            break;\n        case 'left':\n            paddedExitPoints.push({\n                x: exitPoint.x + padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x + padding,\n                y: exitPoint.y + padding\n            });\n            break;\n        case 'right':\n            paddedExitPoints.push({\n                x: exitPoint.x - padding,\n                y: exitPoint.y - padding\n            }, {\n                x: exitPoint.x - padding,\n                y: exitPoint.y + padding\n            });\n            break;\n    }\n    return paddedExitPoints;\n}\nfunction $a093c7e1ec25a057$var$getPointsFromRect(rect) {\n    const { top: top , right: right , bottom: bottom , left: left  } = rect;\n    return [\n        {\n            x: left,\n            y: top\n        },\n        {\n            x: right,\n            y: top\n        },\n        {\n            x: right,\n            y: bottom\n        },\n        {\n            x: left,\n            y: bottom\n        }\n    ];\n} // Determine if a point is inside of a polygon.\n// Based on https://github.com/substack/point-in-polygon\nfunction $a093c7e1ec25a057$var$isPointInPolygon(point, polygon) {\n    const { x: x , y: y  } = point;\n    let inside = false;\n    for(let i = 0, j = polygon.length - 1; i < polygon.length; j = i++){\n        const xi = polygon[i].x;\n        const yi = polygon[i].y;\n        const xj = polygon[j].x;\n        const yj = polygon[j].y; // prettier-ignore\n        const intersect = yi > y !== yj > y && x < (xj - xi) * (y - yi) / (yj - yi) + xi;\n        if (intersect) inside = !inside;\n    }\n    return inside;\n} // Returns a new array of points representing the convex hull of the given set of points.\n// https://www.nayuki.io/page/convex-hull-algorithm\nfunction $a093c7e1ec25a057$var$getHull(points) {\n    const newPoints = points.slice();\n    newPoints.sort((a, b)=>{\n        if (a.x < b.x) return -1;\n        else if (a.x > b.x) return 1;\n        else if (a.y < b.y) return -1;\n        else if (a.y > b.y) return 1;\n        else return 0;\n    });\n    return $a093c7e1ec25a057$var$getHullPresorted(newPoints);\n} // Returns the convex hull, assuming that each points[i] <= points[i + 1]. Runs in O(n) time.\nfunction $a093c7e1ec25a057$var$getHullPresorted(points) {\n    if (points.length <= 1) return points.slice();\n    const upperHull = [];\n    for(let i = 0; i < points.length; i++){\n        const p = points[i];\n        while(upperHull.length >= 2){\n            const q = upperHull[upperHull.length - 1];\n            const r = upperHull[upperHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) upperHull.pop();\n            else break;\n        }\n        upperHull.push(p);\n    }\n    upperHull.pop();\n    const lowerHull = [];\n    for(let i1 = points.length - 1; i1 >= 0; i1--){\n        const p = points[i1];\n        while(lowerHull.length >= 2){\n            const q = lowerHull[lowerHull.length - 1];\n            const r = lowerHull[lowerHull.length - 2];\n            if ((q.x - r.x) * (p.y - r.y) >= (q.y - r.y) * (p.x - r.x)) lowerHull.pop();\n            else break;\n        }\n        lowerHull.push(p);\n    }\n    lowerHull.pop();\n    if (upperHull.length === 1 && lowerHull.length === 1 && upperHull[0].x === lowerHull[0].x && upperHull[0].y === lowerHull[0].y) return upperHull;\n    else return upperHull.concat(lowerHull);\n}\nconst $a093c7e1ec25a057$export$2881499e37b75b9a = $a093c7e1ec25a057$export$f78649fb9ca566b8;\nconst $a093c7e1ec25a057$export$be92b6f5f03c0fe9 = $a093c7e1ec25a057$export$28c660c63b792dea;\nconst $a093c7e1ec25a057$export$41fb9f06171c75f4 = $a093c7e1ec25a057$export$8c610744efcf8a1d;\nconst $a093c7e1ec25a057$export$602eac185826482c = $a093c7e1ec25a057$export$7b36b8f925ab7497;\nconst $a093c7e1ec25a057$export$7c6e2c02157bb7d2 = $a093c7e1ec25a057$export$e9003e2be37ec060;\nconst $a093c7e1ec25a057$export$21b07c8f274aebd5 = $a093c7e1ec25a057$export$c27ee0ad710f7559;\n\n\n\n\n\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcmFkaXgtdWkvcmVhY3QtdG9vbHRpcC9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0Y7QUFDMEo7QUFDeEo7QUFDRDtBQUNDO0FBQ007QUFDckM7QUFDNEg7QUFDdEg7QUFDTTtBQUNHO0FBQ0w7QUFDd0M7QUFDdEM7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJyRSxnR0FBZ0csMkVBQXlCO0FBQ3pILElBQUkscUVBQXdCO0FBQzVCO0FBQ0EsNkNBQTZDLHlFQUF3QjtBQUNyRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksNk9BQTZPO0FBQ3pQLDhDQUE4QywrQ0FBZTtBQUM3RCxrQ0FBa0MsNkNBQWE7QUFDL0MsOEJBQThCLDZDQUFhO0FBQzNDLElBQUksZ0RBQWdCO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCx5QkFBeUIsb0RBQW9CO0FBQzdDO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQixrREFBa0I7QUFDbEM7QUFDQTtBQUNBLFNBQVM7QUFDVCxpQkFBaUIsa0RBQWtCO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0Msa0RBQWtCO0FBQ3BEO0FBQ0EsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxrT0FBa087QUFDOU87QUFDQTtBQUNBLGtDQUFrQywrQ0FBZTtBQUNqRCxzQkFBc0IseURBQVk7QUFDbEMseUJBQXlCLDZDQUFhO0FBQ3RDO0FBQ0E7QUFDQSw4QkFBOEIsNkNBQWE7QUFDM0MscUNBQXFDLDRGQUEyQjtBQUNoRTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBDQUEwQztBQUMxQztBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsMkJB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEVBQUU7QUFDRjtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsbUJBQW1CO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsU0FBUztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7QUFLNnVCO0FBQzd1QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvQHJhZGl4LXVpL3JlYWN0LXRvb2x0aXAvZGlzdC9pbmRleC5tanM/YTNlMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJDh3ZXBLJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzIGZyb20gXCJAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9leHRlbmRzXCI7XG5pbXBvcnQge3VzZVN0YXRlIGFzICQ4d2VwSyR1c2VTdGF0ZSwgdXNlUmVmIGFzICQ4d2VwSyR1c2VSZWYsIHVzZUVmZmVjdCBhcyAkOHdlcEskdXNlRWZmZWN0LCBjcmVhdGVFbGVtZW50IGFzICQ4d2VwSyRjcmVhdGVFbGVtZW50LCB1c2VDYWxsYmFjayBhcyAkOHdlcEskdXNlQ2FsbGJhY2ssIHVzZU1lbW8gYXMgJDh3ZXBLJHVzZU1lbW8sIGZvcndhcmRSZWYgYXMgJDh3ZXBLJGZvcndhcmRSZWZ9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHtjb21wb3NlRXZlbnRIYW5kbGVycyBhcyAkOHdlcEskY29tcG9zZUV2ZW50SGFuZGxlcnN9IGZyb20gXCJAcmFkaXgtdWkvcHJpbWl0aXZlXCI7XG5pbXBvcnQge3VzZUNvbXBvc2VkUmVmcyBhcyAkOHdlcEskdXNlQ29tcG9zZWRSZWZzfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWNvbXBvc2UtcmVmc1wiO1xuaW1wb3J0IHtjcmVhdGVDb250ZXh0U2NvcGUgYXMgJDh3ZXBLJGNyZWF0ZUNvbnRleHRTY29wZX0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1jb250ZXh0XCI7XG5pbXBvcnQge0Rpc21pc3NhYmxlTGF5ZXIgYXMgJDh3ZXBLJERpc21pc3NhYmxlTGF5ZXJ9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtZGlzbWlzc2FibGUtbGF5ZXJcIjtcbmltcG9ydCB7dXNlSWQgYXMgJDh3ZXBLJHVzZUlkfSBmcm9tIFwiQHJhZGl4LXVpL3JlYWN0LWlkXCI7XG5pbXBvcnQge2NyZWF0ZVBvcHBlclNjb3BlIGFzICQ4d2VwSyRjcmVhdGVQb3BwZXJTY29wZSwgUm9vdCBhcyAkOHdlcEskUm9vdCwgQW5jaG9yIGFzICQ4d2VwSyRBbmNob3IsIENvbnRlbnQgYXMgJDh3ZXBLJENvbnRlbnQsIEFycm93IGFzICQ4d2VwSyRBcnJvd30gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wb3BwZXJcIjtcbmltcG9ydCB7UG9ydGFsIGFzICQ4d2VwSyRQb3J0YWx9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtcG9ydGFsXCI7XG5pbXBvcnQge1ByZXNlbmNlIGFzICQ4d2VwSyRQcmVzZW5jZX0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmVzZW5jZVwiO1xuaW1wb3J0IHtQcmltaXRpdmUgYXMgJDh3ZXBLJFByaW1pdGl2ZX0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC1wcmltaXRpdmVcIjtcbmltcG9ydCB7U2xvdHRhYmxlIGFzICQ4d2VwSyRTbG90dGFibGV9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3Qtc2xvdFwiO1xuaW1wb3J0IHt1c2VDb250cm9sbGFibGVTdGF0ZSBhcyAkOHdlcEskdXNlQ29udHJvbGxhYmxlU3RhdGV9IGZyb20gXCJAcmFkaXgtdWkvcmVhY3QtdXNlLWNvbnRyb2xsYWJsZS1zdGF0ZVwiO1xuaW1wb3J0IHtSb290IGFzICQ4d2VwSyRSb290MX0gZnJvbSBcIkByYWRpeC11aS9yZWFjdC12aXN1YWxseS1oaWRkZW5cIjtcblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuY29uc3QgWyRhMDkzYzdlMWVjMjVhMDU3JHZhciRjcmVhdGVUb29sdGlwQ29udGV4dCwgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDFjNTQwYTIyMjRmMGQ4NjVdID0gJDh3ZXBLJGNyZWF0ZUNvbnRleHRTY29wZSgnVG9vbHRpcCcsIFtcbiAgICAkOHdlcEskY3JlYXRlUG9wcGVyU2NvcGVcbl0pO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVBvcHBlclNjb3BlID0gJDh3ZXBLJGNyZWF0ZVBvcHBlclNjb3BlKCk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUb29sdGlwUHJvdmlkZXJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckdmFyJFBST1ZJREVSX05BTUUgPSAnVG9vbHRpcFByb3ZpZGVyJztcbmNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JHZhciRERUZBVUxUX0RFTEFZX0RVUkFUSU9OID0gNzAwO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRPT0xUSVBfT1BFTiA9ICd0b29sdGlwLm9wZW4nO1xuY29uc3QgWyRhMDkzYzdlMWVjMjVhMDU3JHZhciRUb29sdGlwUHJvdmlkZXJDb250ZXh0UHJvdmlkZXIsICRhMDkzYzdlMWVjMjVhMDU3JHZhciR1c2VUb29sdGlwUHJvdmlkZXJDb250ZXh0XSA9ICRhMDkzYzdlMWVjMjVhMDU3JHZhciRjcmVhdGVUb29sdGlwQ29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkUFJPVklERVJfTkFNRSk7XG5jb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkZjc4NjQ5ZmI5Y2E1NjZiOCA9IChwcm9wcyk9PntcbiAgICBjb25zdCB7IF9fc2NvcGVUb29sdGlwOiBfX3Njb3BlVG9vbHRpcCAsIGRlbGF5RHVyYXRpb246IGRlbGF5RHVyYXRpb24gPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkREVGQVVMVF9ERUxBWV9EVVJBVElPTiAsIHNraXBEZWxheUR1cmF0aW9uOiBza2lwRGVsYXlEdXJhdGlvbiA9IDMwMCAsIGRpc2FibGVIb3ZlcmFibGVDb250ZW50OiBkaXNhYmxlSG92ZXJhYmxlQ29udGVudCA9IGZhbHNlICwgY2hpbGRyZW46IGNoaWxkcmVuICB9ID0gcHJvcHM7XG4gICAgY29uc3QgW2lzT3BlbkRlbGF5ZWQsIHNldElzT3BlbkRlbGF5ZWRdID0gJDh3ZXBLJHVzZVN0YXRlKHRydWUpO1xuICAgIGNvbnN0IGlzUG9pbnRlckluVHJhbnNpdFJlZiA9ICQ4d2VwSyR1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IHNraXBEZWxheVRpbWVyUmVmID0gJDh3ZXBLJHVzZVJlZigwKTtcbiAgICAkOHdlcEskdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGNvbnN0IHNraXBEZWxheVRpbWVyID0gc2tpcERlbGF5VGltZXJSZWYuY3VycmVudDtcbiAgICAgICAgcmV0dXJuICgpPT53aW5kb3cuY2xlYXJUaW1lb3V0KHNraXBEZWxheVRpbWVyKVxuICAgICAgICA7XG4gICAgfSwgW10pO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovICQ4d2VwSyRjcmVhdGVFbGVtZW50KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRUb29sdGlwUHJvdmlkZXJDb250ZXh0UHJvdmlkZXIsIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVUb29sdGlwLFxuICAgICAgICBpc09wZW5EZWxheWVkOiBpc09wZW5EZWxheWVkLFxuICAgICAgICBkZWxheUR1cmF0aW9uOiBkZWxheUR1cmF0aW9uLFxuICAgICAgICBvbk9wZW46ICQ4d2VwSyR1c2VDYWxsYmFjaygoKT0+e1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChza2lwRGVsYXlUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHNldElzT3BlbkRlbGF5ZWQoZmFsc2UpO1xuICAgICAgICB9LCBbXSksXG4gICAgICAgIG9uQ2xvc2U6ICQ4d2VwSyR1c2VDYWxsYmFjaygoKT0+e1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChza2lwRGVsYXlUaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgICAgIHNraXBEZWxheVRpbWVyUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKT0+c2V0SXNPcGVuRGVsYXllZCh0cnVlKVxuICAgICAgICAgICAgLCBza2lwRGVsYXlEdXJhdGlvbik7XG4gICAgICAgIH0sIFtcbiAgICAgICAgICAgIHNraXBEZWxheUR1cmF0aW9uXG4gICAgICAgIF0pLFxuICAgICAgICBpc1BvaW50ZXJJblRyYW5zaXRSZWY6IGlzUG9pbnRlckluVHJhbnNpdFJlZixcbiAgICAgICAgb25Qb2ludGVySW5UcmFuc2l0Q2hhbmdlOiAkOHdlcEskdXNlQ2FsbGJhY2soKGluVHJhbnNpdCk9PntcbiAgICAgICAgICAgIGlzUG9pbnRlckluVHJhbnNpdFJlZi5jdXJyZW50ID0gaW5UcmFuc2l0O1xuICAgICAgICB9LCBbXSksXG4gICAgICAgIGRpc2FibGVIb3ZlcmFibGVDb250ZW50OiBkaXNhYmxlSG92ZXJhYmxlQ29udGVudFxuICAgIH0sIGNoaWxkcmVuKTtcbn07XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGY3ODY0OWZiOWNhNTY2YjgsIHtcbiAgICBkaXNwbGF5TmFtZTogJGEwOTNjN2UxZWMyNWEwNTckdmFyJFBST1ZJREVSX05BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVG9vbHRpcFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVE9PTFRJUF9OQU1FID0gJ1Rvb2x0aXAnO1xuY29uc3QgWyRhMDkzYzdlMWVjMjVhMDU3JHZhciRUb29sdGlwQ29udGV4dFByb3ZpZGVyLCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlVG9vbHRpcENvbnRleHRdID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGNyZWF0ZVRvb2x0aXBDb250ZXh0KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRUT09MVElQX05BTUUpO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDI4YzY2MGM2M2I3OTJkZWEgPSAocHJvcHMpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlVG9vbHRpcDogX19zY29wZVRvb2x0aXAgLCBjaGlsZHJlbjogY2hpbGRyZW4gLCBvcGVuOiBvcGVuUHJvcCAsIGRlZmF1bHRPcGVuOiBkZWZhdWx0T3BlbiA9IGZhbHNlICwgb25PcGVuQ2hhbmdlOiBvbk9wZW5DaGFuZ2UgLCBkaXNhYmxlSG92ZXJhYmxlQ29udGVudDogZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnRQcm9wICwgZGVsYXlEdXJhdGlvbjogZGVsYXlEdXJhdGlvblByb3AgIH0gPSBwcm9wcztcbiAgICBjb25zdCBwcm92aWRlckNvbnRleHQgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlVG9vbHRpcFByb3ZpZGVyQ29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVE9PTFRJUF9OQU1FLCBwcm9wcy5fX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlUG9wcGVyU2NvcGUoX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IFt0cmlnZ2VyLCBzZXRUcmlnZ2VyXSA9ICQ4d2VwSyR1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBjb250ZW50SWQgPSAkOHdlcEskdXNlSWQoKTtcbiAgICBjb25zdCBvcGVuVGltZXJSZWYgPSAkOHdlcEskdXNlUmVmKDApO1xuICAgIGNvbnN0IGRpc2FibGVIb3ZlcmFibGVDb250ZW50ID0gZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnRQcm9wICE9PSBudWxsICYmIGRpc2FibGVIb3ZlcmFibGVDb250ZW50UHJvcCAhPT0gdm9pZCAwID8gZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnRQcm9wIDogcHJvdmlkZXJDb250ZXh0LmRpc2FibGVIb3ZlcmFibGVDb250ZW50O1xuICAgIGNvbnN0IGRlbGF5RHVyYXRpb24gPSBkZWxheUR1cmF0aW9uUHJvcCAhPT0gbnVsbCAmJiBkZWxheUR1cmF0aW9uUHJvcCAhPT0gdm9pZCAwID8gZGVsYXlEdXJhdGlvblByb3AgOiBwcm92aWRlckNvbnRleHQuZGVsYXlEdXJhdGlvbjtcbiAgICBjb25zdCB3YXNPcGVuRGVsYXllZFJlZiA9ICQ4d2VwSyR1c2VSZWYoZmFsc2UpO1xuICAgIGNvbnN0IFtvcGVuMSA9IGZhbHNlLCBzZXRPcGVuXSA9ICQ4d2VwSyR1c2VDb250cm9sbGFibGVTdGF0ZSh7XG4gICAgICAgIHByb3A6IG9wZW5Qcm9wLFxuICAgICAgICBkZWZhdWx0UHJvcDogZGVmYXVsdE9wZW4sXG4gICAgICAgIG9uQ2hhbmdlOiAob3Blbik9PntcbiAgICAgICAgICAgIGlmIChvcGVuKSB7XG4gICAgICAgICAgICAgICAgcHJvdmlkZXJDb250ZXh0Lm9uT3BlbigpOyAvLyBhcyBgb25DaGFuZ2VgIGlzIGNhbGxlZCB3aXRoaW4gYSBsaWZlY3ljbGUgbWV0aG9kIHdlXG4gICAgICAgICAgICAgICAgLy8gYXZvaWQgZGlzcGF0Y2hpbmcgdmlhIGBkaXNwYXRjaERpc2NyZXRlQ3VzdG9tRXZlbnRgLlxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRUT09MVElQX09QRU4pKTtcbiAgICAgICAgICAgIH0gZWxzZSBwcm92aWRlckNvbnRleHQub25DbG9zZSgpO1xuICAgICAgICAgICAgb25PcGVuQ2hhbmdlID09PSBudWxsIHx8IG9uT3BlbkNoYW5nZSA9PT0gdm9pZCAwIHx8IG9uT3BlbkNoYW5nZShvcGVuKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IHN0YXRlQXR0cmlidXRlID0gJDh3ZXBLJHVzZU1lbW8oKCk9PntcbiAgICAgICAgcmV0dXJuIG9wZW4xID8gd2FzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCA/ICdkZWxheWVkLW9wZW4nIDogJ2luc3RhbnQtb3BlbicgOiAnY2xvc2VkJztcbiAgICB9LCBbXG4gICAgICAgIG9wZW4xXG4gICAgXSk7XG4gICAgY29uc3QgaGFuZGxlT3BlbiA9ICQ4d2VwSyR1c2VDYWxsYmFjaygoKT0+e1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgd2FzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCA9IGZhbHNlO1xuICAgICAgICBzZXRPcGVuKHRydWUpO1xuICAgIH0sIFtcbiAgICAgICAgc2V0T3BlblxuICAgIF0pO1xuICAgIGNvbnN0IGhhbmRsZUNsb3NlID0gJDh3ZXBLJHVzZUNhbGxiYWNrKCgpPT57XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQob3BlblRpbWVyUmVmLmN1cnJlbnQpO1xuICAgICAgICBzZXRPcGVuKGZhbHNlKTtcbiAgICB9LCBbXG4gICAgICAgIHNldE9wZW5cbiAgICBdKTtcbiAgICBjb25zdCBoYW5kbGVEZWxheWVkT3BlbiA9ICQ4d2VwSyR1c2VDYWxsYmFjaygoKT0+e1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgb3BlblRpbWVyUmVmLmN1cnJlbnQgPSB3aW5kb3cuc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgd2FzT3BlbkRlbGF5ZWRSZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBzZXRPcGVuKHRydWUpO1xuICAgICAgICB9LCBkZWxheUR1cmF0aW9uKTtcbiAgICB9LCBbXG4gICAgICAgIGRlbGF5RHVyYXRpb24sXG4gICAgICAgIHNldE9wZW5cbiAgICBdKTtcbiAgICAkOHdlcEskdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIHJldHVybiAoKT0+d2luZG93LmNsZWFyVGltZW91dChvcGVuVGltZXJSZWYuY3VycmVudClcbiAgICAgICAgO1xuICAgIH0sIFtdKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskUm9vdCwgcG9wcGVyU2NvcGUsIC8qI19fUFVSRV9fKi8gJDh3ZXBLJGNyZWF0ZUVsZW1lbnQoJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRvb2x0aXBDb250ZXh0UHJvdmlkZXIsIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVUb29sdGlwLFxuICAgICAgICBjb250ZW50SWQ6IGNvbnRlbnRJZCxcbiAgICAgICAgb3Blbjogb3BlbjEsXG4gICAgICAgIHN0YXRlQXR0cmlidXRlOiBzdGF0ZUF0dHJpYnV0ZSxcbiAgICAgICAgdHJpZ2dlcjogdHJpZ2dlcixcbiAgICAgICAgb25UcmlnZ2VyQ2hhbmdlOiBzZXRUcmlnZ2VyLFxuICAgICAgICBvblRyaWdnZXJFbnRlcjogJDh3ZXBLJHVzZUNhbGxiYWNrKCgpPT57XG4gICAgICAgICAgICBpZiAocHJvdmlkZXJDb250ZXh0LmlzT3BlbkRlbGF5ZWQpIGhhbmRsZURlbGF5ZWRPcGVuKCk7XG4gICAgICAgICAgICBlbHNlIGhhbmRsZU9wZW4oKTtcbiAgICAgICAgfSwgW1xuICAgICAgICAgICAgcHJvdmlkZXJDb250ZXh0LmlzT3BlbkRlbGF5ZWQsXG4gICAgICAgICAgICBoYW5kbGVEZWxheWVkT3BlbixcbiAgICAgICAgICAgIGhhbmRsZU9wZW5cbiAgICAgICAgXSksXG4gICAgICAgIG9uVHJpZ2dlckxlYXZlOiAkOHdlcEskdXNlQ2FsbGJhY2soKCk9PntcbiAgICAgICAgICAgIGlmIChkaXNhYmxlSG92ZXJhYmxlQ29udGVudCkgaGFuZGxlQ2xvc2UoKTtcbiAgICAgICAgICAgIGVsc2UgLy8gQ2xlYXIgdGhlIHRpbWVyIGluIGNhc2UgdGhlIHBvaW50ZXIgbGVhdmVzIHRoZSB0cmlnZ2VyIGJlZm9yZSB0aGUgdG9vbHRpcCBpcyBvcGVuZWQuXG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG9wZW5UaW1lclJlZi5jdXJyZW50KTtcbiAgICAgICAgfSwgW1xuICAgICAgICAgICAgaGFuZGxlQ2xvc2UsXG4gICAgICAgICAgICBkaXNhYmxlSG92ZXJhYmxlQ29udGVudFxuICAgICAgICBdKSxcbiAgICAgICAgb25PcGVuOiBoYW5kbGVPcGVuLFxuICAgICAgICBvbkNsb3NlOiBoYW5kbGVDbG9zZSxcbiAgICAgICAgZGlzYWJsZUhvdmVyYWJsZUNvbnRlbnQ6IGRpc2FibGVIb3ZlcmFibGVDb250ZW50XG4gICAgfSwgY2hpbGRyZW4pKTtcbn07XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDI4YzY2MGM2M2I3OTJkZWEsIHtcbiAgICBkaXNwbGF5TmFtZTogJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRPT0xUSVBfTkFNRVxufSk7XG4vKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBUb29sdGlwVHJpZ2dlclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVFJJR0dFUl9OQU1FID0gJ1Rvb2x0aXBUcmlnZ2VyJztcbmNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ4YzYxMDc0NGVmY2Y4YTFkID0gLyojX19QVVJFX18qLyAkOHdlcEskZm9yd2FyZFJlZigocHJvcHMsIGZvcndhcmRlZFJlZik9PntcbiAgICBjb25zdCB7IF9fc2NvcGVUb29sdGlwOiBfX3Njb3BlVG9vbHRpcCAsIC4uLnRyaWdnZXJQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9ICRhMDkzYzdlMWVjMjVhMDU3JHZhciR1c2VUb29sdGlwQ29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVFJJR0dFUl9OQU1FLCBfX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgcHJvdmlkZXJDb250ZXh0ID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVRvb2x0aXBQcm92aWRlckNvbnRleHQoJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRSSUdHRVJfTkFNRSwgX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IHBvcHBlclNjb3BlID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVBvcHBlclNjb3BlKF9fc2NvcGVUb29sdGlwKTtcbiAgICBjb25zdCByZWYgPSAkOHdlcEskdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9ICQ4d2VwSyR1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYsIGNvbnRleHQub25UcmlnZ2VyQ2hhbmdlKTtcbiAgICBjb25zdCBpc1BvaW50ZXJEb3duUmVmID0gJDh3ZXBLJHVzZVJlZihmYWxzZSk7XG4gICAgY29uc3QgaGFzUG9pbnRlck1vdmVPcGVuZWRSZWYgPSAkOHdlcEskdXNlUmVmKGZhbHNlKTtcbiAgICBjb25zdCBoYW5kbGVQb2ludGVyVXAgPSAkOHdlcEskdXNlQ2FsbGJhY2soKCk9PmlzUG9pbnRlckRvd25SZWYuY3VycmVudCA9IGZhbHNlXG4gICAgLCBbXSk7XG4gICAgJDh3ZXBLJHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICByZXR1cm4gKCk9PmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIGhhbmRsZVBvaW50ZXJVcClcbiAgICAgICAgO1xuICAgIH0sIFtcbiAgICAgICAgaGFuZGxlUG9pbnRlclVwXG4gICAgXSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi8gJDh3ZXBLJGNyZWF0ZUVsZW1lbnQoJDh3ZXBLJEFuY2hvciwgJDh3ZXBLJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHtcbiAgICAgICAgYXNDaGlsZDogdHJ1ZVxuICAgIH0sIHBvcHBlclNjb3BlKSwgLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskUHJpbWl0aXZlLmJ1dHRvbiwgJDh3ZXBLJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHtcbiAgICAgICAgLy8gV2UgcHVycG9zZWZ1bGx5IGF2b2lkIGFkZGluZyBgdHlwZT1idXR0b25gIGhlcmUgYmVjYXVzZSB0b29sdGlwIHRyaWdnZXJzIGFyZSBhbHNvXG4gICAgICAgIC8vIGNvbW1vbmx5IGFuY2hvcnMgYW5kIHRoZSBhbmNob3IgYHR5cGVgIGF0dHJpYnV0ZSBzaWduaWZpZXMgTUlNRSB0eXBlLlxuICAgICAgICBcImFyaWEtZGVzY3JpYmVkYnlcIjogY29udGV4dC5vcGVuID8gY29udGV4dC5jb250ZW50SWQgOiB1bmRlZmluZWQsXG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBjb250ZXh0LnN0YXRlQXR0cmlidXRlXG4gICAgfSwgdHJpZ2dlclByb3BzLCB7XG4gICAgICAgIHJlZjogY29tcG9zZWRSZWZzLFxuICAgICAgICBvblBvaW50ZXJNb3ZlOiAkOHdlcEskY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyTW92ZSwgKGV2ZW50KT0+e1xuICAgICAgICAgICAgaWYgKGV2ZW50LnBvaW50ZXJUeXBlID09PSAndG91Y2gnKSByZXR1cm47XG4gICAgICAgICAgICBpZiAoIWhhc1BvaW50ZXJNb3ZlT3BlbmVkUmVmLmN1cnJlbnQgJiYgIXByb3ZpZGVyQ29udGV4dC5pc1BvaW50ZXJJblRyYW5zaXRSZWYuY3VycmVudCkge1xuICAgICAgICAgICAgICAgIGNvbnRleHQub25UcmlnZ2VyRW50ZXIoKTtcbiAgICAgICAgICAgICAgICBoYXNQb2ludGVyTW92ZU9wZW5lZFJlZi5jdXJyZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIG9uUG9pbnRlckxlYXZlOiAkOHdlcEskY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyTGVhdmUsICgpPT57XG4gICAgICAgICAgICBjb250ZXh0Lm9uVHJpZ2dlckxlYXZlKCk7XG4gICAgICAgICAgICBoYXNQb2ludGVyTW92ZU9wZW5lZFJlZi5jdXJyZW50ID0gZmFsc2U7XG4gICAgICAgIH0pLFxuICAgICAgICBvblBvaW50ZXJEb3duOiAkOHdlcEskY29tcG9zZUV2ZW50SGFuZGxlcnMocHJvcHMub25Qb2ludGVyRG93biwgKCk9PntcbiAgICAgICAgICAgIGlzUG9pbnRlckRvd25SZWYuY3VycmVudCA9IHRydWU7XG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdwb2ludGVydXAnLCBoYW5kbGVQb2ludGVyVXAsIHtcbiAgICAgICAgICAgICAgICBvbmNlOiB0cnVlXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSksXG4gICAgICAgIG9uRm9jdXM6ICQ4d2VwSyRjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkZvY3VzLCAoKT0+e1xuICAgICAgICAgICAgaWYgKCFpc1BvaW50ZXJEb3duUmVmLmN1cnJlbnQpIGNvbnRleHQub25PcGVuKCk7XG4gICAgICAgIH0pLFxuICAgICAgICBvbkJsdXI6ICQ4d2VwSyRjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkJsdXIsIGNvbnRleHQub25DbG9zZSksXG4gICAgICAgIG9uQ2xpY2s6ICQ4d2VwSyRjb21wb3NlRXZlbnRIYW5kbGVycyhwcm9wcy5vbkNsaWNrLCBjb250ZXh0Lm9uQ2xvc2UpXG4gICAgfSkpKTtcbn0pO1xuLyojX19QVVJFX18qLyBPYmplY3QuYXNzaWduKCRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ4YzYxMDc0NGVmY2Y4YTFkLCB7XG4gICAgZGlzcGxheU5hbWU6ICRhMDkzYzdlMWVjMjVhMDU3JHZhciRUUklHR0VSX05BTUVcbn0pO1xuLyogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogVG9vbHRpcFBvcnRhbFxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkUE9SVEFMX05BTUUgPSAnVG9vbHRpcFBvcnRhbCc7XG5jb25zdCBbJGEwOTNjN2UxZWMyNWEwNTckdmFyJFBvcnRhbFByb3ZpZGVyLCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlUG9ydGFsQ29udGV4dF0gPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkY3JlYXRlVG9vbHRpcENvbnRleHQoJGEwOTNjN2UxZWMyNWEwNTckdmFyJFBPUlRBTF9OQU1FLCB7XG4gICAgZm9yY2VNb3VudDogdW5kZWZpbmVkXG59KTtcbmNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ3YjM2YjhmOTI1YWI3NDk3ID0gKHByb3BzKT0+e1xuICAgIGNvbnN0IHsgX19zY29wZVRvb2x0aXA6IF9fc2NvcGVUb29sdGlwICwgZm9yY2VNb3VudDogZm9yY2VNb3VudCAsIGNoaWxkcmVuOiBjaGlsZHJlbiAsIGNvbnRhaW5lcjogY29udGFpbmVyICB9ID0gcHJvcHM7XG4gICAgY29uc3QgY29udGV4dCA9ICRhMDkzYzdlMWVjMjVhMDU3JHZhciR1c2VUb29sdGlwQ29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkUE9SVEFMX05BTUUsIF9fc2NvcGVUb29sdGlwKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkUG9ydGFsUHJvdmlkZXIsIHtcbiAgICAgICAgc2NvcGU6IF9fc2NvcGVUb29sdGlwLFxuICAgICAgICBmb3JjZU1vdW50OiBmb3JjZU1vdW50XG4gICAgfSwgLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskUHJlc2VuY2UsIHtcbiAgICAgICAgcHJlc2VudDogZm9yY2VNb3VudCB8fCBjb250ZXh0Lm9wZW5cbiAgICB9LCAvKiNfX1BVUkVfXyovICQ4d2VwSyRjcmVhdGVFbGVtZW50KCQ4d2VwSyRQb3J0YWwsIHtcbiAgICAgICAgYXNDaGlsZDogdHJ1ZSxcbiAgICAgICAgY29udGFpbmVyOiBjb250YWluZXJcbiAgICB9LCBjaGlsZHJlbikpKTtcbn07XG4vKiNfX1BVUkVfXyovIE9iamVjdC5hc3NpZ24oJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDdiMzZiOGY5MjVhYjc0OTcsIHtcbiAgICBkaXNwbGF5TmFtZTogJGEwOTNjN2UxZWMyNWEwNTckdmFyJFBPUlRBTF9OQU1FXG59KTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRvb2x0aXBDb250ZW50XG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovIGNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JHZhciRDT05URU5UX05BTUUgPSAnVG9vbHRpcENvbnRlbnQnO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGU5MDAzZTJiZTM3ZWMwNjAgPSAvKiNfX1BVUkVfXyovICQ4d2VwSyRmb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKT0+e1xuICAgIGNvbnN0IHBvcnRhbENvbnRleHQgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlUG9ydGFsQ29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkQ09OVEVOVF9OQU1FLCBwcm9wcy5fX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgeyBmb3JjZU1vdW50OiBmb3JjZU1vdW50ID0gcG9ydGFsQ29udGV4dC5mb3JjZU1vdW50ICwgc2lkZTogc2lkZSA9ICd0b3AnICwgLi4uY29udGVudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVRvb2x0aXBDb250ZXh0KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVUb29sdGlwKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskUHJlc2VuY2UsIHtcbiAgICAgICAgcHJlc2VudDogZm9yY2VNb3VudCB8fCBjb250ZXh0Lm9wZW5cbiAgICB9LCBjb250ZXh0LmRpc2FibGVIb3ZlcmFibGVDb250ZW50ID8gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVG9vbHRpcENvbnRlbnRJbXBsLCAkOHdlcEskYmFiZWxydW50aW1laGVscGVyc2VzbWV4dGVuZHMoe1xuICAgICAgICBzaWRlOiBzaWRlXG4gICAgfSwgY29udGVudFByb3BzLCB7XG4gICAgICAgIHJlZjogZm9yd2FyZGVkUmVmXG4gICAgfSkpIDogLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVG9vbHRpcENvbnRlbnRIb3ZlcmFibGUsICQ4d2VwSyRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7XG4gICAgICAgIHNpZGU6IHNpZGVcbiAgICB9LCBjb250ZW50UHJvcHMsIHtcbiAgICAgICAgcmVmOiBmb3J3YXJkZWRSZWZcbiAgICB9KSkpO1xufSk7XG5jb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVG9vbHRpcENvbnRlbnRIb3ZlcmFibGUgPSAvKiNfX1BVUkVfXyovICQ4d2VwSyRmb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKT0+e1xuICAgIGNvbnN0IGNvbnRleHQgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlVG9vbHRpcENvbnRleHQoJGEwOTNjN2UxZWMyNWEwNTckdmFyJENPTlRFTlRfTkFNRSwgcHJvcHMuX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IHByb3ZpZGVyQ29udGV4dCA9ICRhMDkzYzdlMWVjMjVhMDU3JHZhciR1c2VUb29sdGlwUHJvdmlkZXJDb250ZXh0KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRDT05URU5UX05BTUUsIHByb3BzLl9fc2NvcGVUb29sdGlwKTtcbiAgICBjb25zdCByZWYgPSAkOHdlcEskdXNlUmVmKG51bGwpO1xuICAgIGNvbnN0IGNvbXBvc2VkUmVmcyA9ICQ4d2VwSyR1c2VDb21wb3NlZFJlZnMoZm9yd2FyZGVkUmVmLCByZWYpO1xuICAgIGNvbnN0IFtwb2ludGVyR3JhY2VBcmVhLCBzZXRQb2ludGVyR3JhY2VBcmVhXSA9ICQ4d2VwSyR1c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCB7IHRyaWdnZXI6IHRyaWdnZXIgLCBvbkNsb3NlOiBvbkNsb3NlICB9ID0gY29udGV4dDtcbiAgICBjb25zdCBjb250ZW50ID0gcmVmLmN1cnJlbnQ7XG4gICAgY29uc3QgeyBvblBvaW50ZXJJblRyYW5zaXRDaGFuZ2U6IG9uUG9pbnRlckluVHJhbnNpdENoYW5nZSAgfSA9IHByb3ZpZGVyQ29udGV4dDtcbiAgICBjb25zdCBoYW5kbGVSZW1vdmVHcmFjZUFyZWEgPSAkOHdlcEskdXNlQ2FsbGJhY2soKCk9PntcbiAgICAgICAgc2V0UG9pbnRlckdyYWNlQXJlYShudWxsKTtcbiAgICAgICAgb25Qb2ludGVySW5UcmFuc2l0Q2hhbmdlKGZhbHNlKTtcbiAgICB9LCBbXG4gICAgICAgIG9uUG9pbnRlckluVHJhbnNpdENoYW5nZVxuICAgIF0pO1xuICAgIGNvbnN0IGhhbmRsZUNyZWF0ZUdyYWNlQXJlYSA9ICQ4d2VwSyR1c2VDYWxsYmFjaygoZXZlbnQsIGhvdmVyVGFyZ2V0KT0+e1xuICAgICAgICBjb25zdCBjdXJyZW50VGFyZ2V0ID0gZXZlbnQuY3VycmVudFRhcmdldDtcbiAgICAgICAgY29uc3QgZXhpdFBvaW50ID0ge1xuICAgICAgICAgICAgeDogZXZlbnQuY2xpZW50WCxcbiAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZXhpdFNpZGUgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkZ2V0RXhpdFNpZGVGcm9tUmVjdChleGl0UG9pbnQsIGN1cnJlbnRUYXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkpO1xuICAgICAgICBjb25zdCBwYWRkZWRFeGl0UG9pbnRzID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldFBhZGRlZEV4aXRQb2ludHMoZXhpdFBvaW50LCBleGl0U2lkZSk7XG4gICAgICAgIGNvbnN0IGhvdmVyVGFyZ2V0UG9pbnRzID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldFBvaW50c0Zyb21SZWN0KGhvdmVyVGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgICAgICAgY29uc3QgZ3JhY2VBcmVhID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldEh1bGwoW1xuICAgICAgICAgICAgLi4ucGFkZGVkRXhpdFBvaW50cyxcbiAgICAgICAgICAgIC4uLmhvdmVyVGFyZ2V0UG9pbnRzXG4gICAgICAgIF0pO1xuICAgICAgICBzZXRQb2ludGVyR3JhY2VBcmVhKGdyYWNlQXJlYSk7XG4gICAgICAgIG9uUG9pbnRlckluVHJhbnNpdENoYW5nZSh0cnVlKTtcbiAgICB9LCBbXG4gICAgICAgIG9uUG9pbnRlckluVHJhbnNpdENoYW5nZVxuICAgIF0pO1xuICAgICQ4d2VwSyR1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgcmV0dXJuICgpPT5oYW5kbGVSZW1vdmVHcmFjZUFyZWEoKVxuICAgICAgICA7XG4gICAgfSwgW1xuICAgICAgICBoYW5kbGVSZW1vdmVHcmFjZUFyZWFcbiAgICBdKTtcbiAgICAkOHdlcEskdXNlRWZmZWN0KCgpPT57XG4gICAgICAgIGlmICh0cmlnZ2VyICYmIGNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRyaWdnZXJMZWF2ZSA9IChldmVudCk9PmhhbmRsZUNyZWF0ZUdyYWNlQXJlYShldmVudCwgY29udGVudClcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZUNvbnRlbnRMZWF2ZSA9IChldmVudCk9PmhhbmRsZUNyZWF0ZUdyYWNlQXJlYShldmVudCwgdHJpZ2dlcilcbiAgICAgICAgICAgIDtcbiAgICAgICAgICAgIHRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgaGFuZGxlVHJpZ2dlckxlYXZlKTtcbiAgICAgICAgICAgIGNvbnRlbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgaGFuZGxlQ29udGVudExlYXZlKTtcbiAgICAgICAgICAgIHJldHVybiAoKT0+e1xuICAgICAgICAgICAgICAgIHRyaWdnZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmxlYXZlJywgaGFuZGxlVHJpZ2dlckxlYXZlKTtcbiAgICAgICAgICAgICAgICBjb250ZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJsZWF2ZScsIGhhbmRsZUNvbnRlbnRMZWF2ZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICB0cmlnZ2VyLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBoYW5kbGVDcmVhdGVHcmFjZUFyZWEsXG4gICAgICAgIGhhbmRsZVJlbW92ZUdyYWNlQXJlYVxuICAgIF0pO1xuICAgICQ4d2VwSyR1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKHBvaW50ZXJHcmFjZUFyZWEpIHtcbiAgICAgICAgICAgIGNvbnN0IGhhbmRsZVRyYWNrUG9pbnRlckdyYWNlID0gKGV2ZW50KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludGVyUG9zaXRpb24gPSB7XG4gICAgICAgICAgICAgICAgICAgIHg6IGV2ZW50LmNsaWVudFgsXG4gICAgICAgICAgICAgICAgICAgIHk6IGV2ZW50LmNsaWVudFlcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IGhhc0VudGVyZWRUYXJnZXQgPSAodHJpZ2dlciA9PT0gbnVsbCB8fCB0cmlnZ2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiB0cmlnZ2VyLmNvbnRhaW5zKHRhcmdldCkpIHx8IChjb250ZW50ID09PSBudWxsIHx8IGNvbnRlbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbnRlbnQuY29udGFpbnModGFyZ2V0KSk7XG4gICAgICAgICAgICAgICAgY29uc3QgaXNQb2ludGVyT3V0c2lkZUdyYWNlQXJlYSA9ICEkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkaXNQb2ludEluUG9seWdvbihwb2ludGVyUG9zaXRpb24sIHBvaW50ZXJHcmFjZUFyZWEpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNFbnRlcmVkVGFyZ2V0KSBoYW5kbGVSZW1vdmVHcmFjZUFyZWEoKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc1BvaW50ZXJPdXRzaWRlR3JhY2VBcmVhKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVJlbW92ZUdyYWNlQXJlYSgpO1xuICAgICAgICAgICAgICAgICAgICBvbkNsb3NlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgaGFuZGxlVHJhY2tQb2ludGVyR3JhY2UpO1xuICAgICAgICAgICAgcmV0dXJuICgpPT5kb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdwb2ludGVybW92ZScsIGhhbmRsZVRyYWNrUG9pbnRlckdyYWNlKVxuICAgICAgICAgICAgO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICB0cmlnZ2VyLFxuICAgICAgICBjb250ZW50LFxuICAgICAgICBwb2ludGVyR3JhY2VBcmVhLFxuICAgICAgICBvbkNsb3NlLFxuICAgICAgICBoYW5kbGVSZW1vdmVHcmFjZUFyZWFcbiAgICBdKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkVG9vbHRpcENvbnRlbnRJbXBsLCAkOHdlcEskYmFiZWxydW50aW1laGVscGVyc2VzbWV4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgIHJlZjogY29tcG9zZWRSZWZzXG4gICAgfSkpO1xufSk7XG5jb25zdCBbJGEwOTNjN2UxZWMyNWEwNTckdmFyJFZpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHRQcm92aWRlciwgJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVZpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHRdID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGNyZWF0ZVRvb2x0aXBDb250ZXh0KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRUT09MVElQX05BTUUsIHtcbiAgICBpc0luc2lkZTogZmFsc2Vcbn0pO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRvb2x0aXBDb250ZW50SW1wbCA9IC8qI19fUFVSRV9fKi8gJDh3ZXBLJGZvcndhcmRSZWYoKHByb3BzLCBmb3J3YXJkZWRSZWYpPT57XG4gICAgY29uc3QgeyBfX3Njb3BlVG9vbHRpcDogX19zY29wZVRvb2x0aXAgLCBjaGlsZHJlbjogY2hpbGRyZW4gLCAnYXJpYS1sYWJlbCc6IGFyaWFMYWJlbCAsIG9uRXNjYXBlS2V5RG93bjogb25Fc2NhcGVLZXlEb3duICwgb25Qb2ludGVyRG93bk91dHNpZGU6IG9uUG9pbnRlckRvd25PdXRzaWRlICwgLi4uY29udGVudFByb3BzIH0gPSBwcm9wcztcbiAgICBjb25zdCBjb250ZXh0ID0gJGEwOTNjN2UxZWMyNWEwNTckdmFyJHVzZVRvb2x0aXBDb250ZXh0KCRhMDkzYzdlMWVjMjVhMDU3JHZhciRDT05URU5UX05BTUUsIF9fc2NvcGVUb29sdGlwKTtcbiAgICBjb25zdCBwb3BwZXJTY29wZSA9ICRhMDkzYzdlMWVjMjVhMDU3JHZhciR1c2VQb3BwZXJTY29wZShfX3Njb3BlVG9vbHRpcCk7XG4gICAgY29uc3QgeyBvbkNsb3NlOiBvbkNsb3NlICB9ID0gY29udGV4dDsgLy8gQ2xvc2UgdGhpcyB0b29sdGlwIGlmIGFub3RoZXIgb25lIG9wZW5zXG4gICAgJDh3ZXBLJHVzZUVmZmVjdCgoKT0+e1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCRhMDkzYzdlMWVjMjVhMDU3JHZhciRUT09MVElQX09QRU4sIG9uQ2xvc2UpO1xuICAgICAgICByZXR1cm4gKCk9PmRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJGEwOTNjN2UxZWMyNWEwNTckdmFyJFRPT0xUSVBfT1BFTiwgb25DbG9zZSlcbiAgICAgICAgO1xuICAgIH0sIFtcbiAgICAgICAgb25DbG9zZVxuICAgIF0pOyAvLyBDbG9zZSB0aGUgdG9vbHRpcCBpZiB0aGUgdHJpZ2dlciBpcyBzY3JvbGxlZFxuICAgICQ4d2VwSyR1c2VFZmZlY3QoKCk9PntcbiAgICAgICAgaWYgKGNvbnRleHQudHJpZ2dlcikge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlU2Nyb2xsID0gKGV2ZW50KT0+e1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ICE9PSBudWxsICYmIHRhcmdldCAhPT0gdm9pZCAwICYmIHRhcmdldC5jb250YWlucyhjb250ZXh0LnRyaWdnZXIpKSBvbkNsb3NlKCk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIGhhbmRsZVNjcm9sbCwge1xuICAgICAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuICgpPT53aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgaGFuZGxlU2Nyb2xsLCB7XG4gICAgICAgICAgICAgICAgICAgIGNhcHR1cmU6IHRydWVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgO1xuICAgICAgICB9XG4gICAgfSwgW1xuICAgICAgICBjb250ZXh0LnRyaWdnZXIsXG4gICAgICAgIG9uQ2xvc2VcbiAgICBdKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskRGlzbWlzc2FibGVMYXllciwge1xuICAgICAgICBhc0NoaWxkOiB0cnVlLFxuICAgICAgICBkaXNhYmxlT3V0c2lkZVBvaW50ZXJFdmVudHM6IGZhbHNlLFxuICAgICAgICBvbkVzY2FwZUtleURvd246IG9uRXNjYXBlS2V5RG93bixcbiAgICAgICAgb25Qb2ludGVyRG93bk91dHNpZGU6IG9uUG9pbnRlckRvd25PdXRzaWRlLFxuICAgICAgICBvbkZvY3VzT3V0c2lkZTogKGV2ZW50KT0+ZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAsXG4gICAgICAgIG9uRGlzbWlzczogb25DbG9zZVxuICAgIH0sIC8qI19fUFVSRV9fKi8gJDh3ZXBLJGNyZWF0ZUVsZW1lbnQoJDh3ZXBLJENvbnRlbnQsICQ4d2VwSyRiYWJlbHJ1bnRpbWVoZWxwZXJzZXNtZXh0ZW5kcyh7XG4gICAgICAgIFwiZGF0YS1zdGF0ZVwiOiBjb250ZXh0LnN0YXRlQXR0cmlidXRlXG4gICAgfSwgcG9wcGVyU2NvcGUsIGNvbnRlbnRQcm9wcywge1xuICAgICAgICByZWY6IGZvcndhcmRlZFJlZixcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIC4uLmNvbnRlbnRQcm9wcy5zdHlsZSxcbiAgICAgICAgICAgICctLXJhZGl4LXRvb2x0aXAtY29udGVudC10cmFuc2Zvcm0tb3JpZ2luJzogJ3ZhcigtLXJhZGl4LXBvcHBlci10cmFuc2Zvcm0tb3JpZ2luKScsXG4gICAgICAgICAgICAnLS1yYWRpeC10b29sdGlwLWNvbnRlbnQtYXZhaWxhYmxlLXdpZHRoJzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtd2lkdGgpJyxcbiAgICAgICAgICAgICctLXJhZGl4LXRvb2x0aXAtY29udGVudC1hdmFpbGFibGUtaGVpZ2h0JzogJ3ZhcigtLXJhZGl4LXBvcHBlci1hdmFpbGFibGUtaGVpZ2h0KScsXG4gICAgICAgICAgICAnLS1yYWRpeC10b29sdGlwLXRyaWdnZXItd2lkdGgnOiAndmFyKC0tcmFkaXgtcG9wcGVyLWFuY2hvci13aWR0aCknLFxuICAgICAgICAgICAgJy0tcmFkaXgtdG9vbHRpcC10cmlnZ2VyLWhlaWdodCc6ICd2YXIoLS1yYWRpeC1wb3BwZXItYW5jaG9yLWhlaWdodCknXG4gICAgICAgIH1cbiAgICB9KSwgLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskU2xvdHRhYmxlLCBudWxsLCBjaGlsZHJlbiksIC8qI19fUFVSRV9fKi8gJDh3ZXBLJGNyZWF0ZUVsZW1lbnQoJGEwOTNjN2UxZWMyNWEwNTckdmFyJFZpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHRQcm92aWRlciwge1xuICAgICAgICBzY29wZTogX19zY29wZVRvb2x0aXAsXG4gICAgICAgIGlzSW5zaWRlOiB0cnVlXG4gICAgfSwgLyojX19QVVJFX18qLyAkOHdlcEskY3JlYXRlRWxlbWVudCgkOHdlcEskUm9vdDEsIHtcbiAgICAgICAgaWQ6IGNvbnRleHQuY29udGVudElkLFxuICAgICAgICByb2xlOiBcInRvb2x0aXBcIlxuICAgIH0sIGFyaWFMYWJlbCB8fCBjaGlsZHJlbikpKSk7XG59KTtcbi8qI19fUFVSRV9fKi8gT2JqZWN0LmFzc2lnbigkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkZTkwMDNlMmJlMzdlYzA2MCwge1xuICAgIGRpc3BsYXlOYW1lOiAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkQ09OVEVOVF9OQU1FXG59KTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFRvb2x0aXBBcnJvd1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qLyBjb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkQVJST1dfTkFNRSA9ICdUb29sdGlwQXJyb3cnO1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGMyN2VlMGFkNzEwZjc1NTkgPSAvKiNfX1BVUkVfXyovICQ4d2VwSyRmb3J3YXJkUmVmKChwcm9wcywgZm9yd2FyZGVkUmVmKT0+e1xuICAgIGNvbnN0IHsgX19zY29wZVRvb2x0aXA6IF9fc2NvcGVUb29sdGlwICwgLi4uYXJyb3dQcm9wcyB9ID0gcHJvcHM7XG4gICAgY29uc3QgcG9wcGVyU2NvcGUgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlUG9wcGVyU2NvcGUoX19zY29wZVRvb2x0aXApO1xuICAgIGNvbnN0IHZpc3VhbGx5SGlkZGVuQ29udGVudENvbnRleHQgPSAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkdXNlVmlzdWFsbHlIaWRkZW5Db250ZW50Q29udGV4dCgkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkQVJST1dfTkFNRSwgX19zY29wZVRvb2x0aXApOyAvLyBpZiB0aGUgYXJyb3cgaXMgaW5zaWRlIHRoZSBgVmlzdWFsbHlIaWRkZW5gLCB3ZSBkb24ndCB3YW50IHRvIHJlbmRlciBpdCBhbGwgdG9cbiAgICAvLyBwcmV2ZW50IGlzc3VlcyBpbiBwb3NpdGlvbmluZyB0aGUgYXJyb3cgZHVlIHRvIHRoZSBkdXBsaWNhdGVcbiAgICByZXR1cm4gdmlzdWFsbHlIaWRkZW5Db250ZW50Q29udGV4dC5pc0luc2lkZSA/IG51bGwgOiAvKiNfX1BVUkVfXyovICQ4d2VwSyRjcmVhdGVFbGVtZW50KCQ4d2VwSyRBcnJvdywgJDh3ZXBLJGJhYmVscnVudGltZWhlbHBlcnNlc21leHRlbmRzKHt9LCBwb3BwZXJTY29wZSwgYXJyb3dQcm9wcywge1xuICAgICAgICByZWY6IGZvcndhcmRlZFJlZlxuICAgIH0pKTtcbn0pO1xuLyojX19QVVJFX18qLyBPYmplY3QuYXNzaWduKCRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCRjMjdlZTBhZDcxMGY3NTU5LCB7XG4gICAgZGlzcGxheU5hbWU6ICRhMDkzYzdlMWVjMjVhMDU3JHZhciRBUlJPV19OQU1FXG59KTtcbi8qIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi8gZnVuY3Rpb24gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldEV4aXRTaWRlRnJvbVJlY3QocG9pbnQsIHJlY3QpIHtcbiAgICBjb25zdCB0b3AgPSBNYXRoLmFicyhyZWN0LnRvcCAtIHBvaW50LnkpO1xuICAgIGNvbnN0IGJvdHRvbSA9IE1hdGguYWJzKHJlY3QuYm90dG9tIC0gcG9pbnQueSk7XG4gICAgY29uc3QgcmlnaHQgPSBNYXRoLmFicyhyZWN0LnJpZ2h0IC0gcG9pbnQueCk7XG4gICAgY29uc3QgbGVmdCA9IE1hdGguYWJzKHJlY3QubGVmdCAtIHBvaW50LngpO1xuICAgIHN3aXRjaChNYXRoLm1pbih0b3AsIGJvdHRvbSwgcmlnaHQsIGxlZnQpKXtcbiAgICAgICAgY2FzZSBsZWZ0OlxuICAgICAgICAgICAgcmV0dXJuICdsZWZ0JztcbiAgICAgICAgY2FzZSByaWdodDpcbiAgICAgICAgICAgIHJldHVybiAncmlnaHQnO1xuICAgICAgICBjYXNlIHRvcDpcbiAgICAgICAgICAgIHJldHVybiAndG9wJztcbiAgICAgICAgY2FzZSBib3R0b206XG4gICAgICAgICAgICByZXR1cm4gJ2JvdHRvbSc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3VucmVhY2hhYmxlJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldFBhZGRlZEV4aXRQb2ludHMoZXhpdFBvaW50LCBleGl0U2lkZSwgcGFkZGluZyA9IDUpIHtcbiAgICBjb25zdCBwYWRkZWRFeGl0UG9pbnRzID0gW107XG4gICAgc3dpdGNoKGV4aXRTaWRlKXtcbiAgICAgICAgY2FzZSAndG9wJzpcbiAgICAgICAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogZXhpdFBvaW50LnggLSBwYWRkaW5nLFxuICAgICAgICAgICAgICAgIHk6IGV4aXRQb2ludC55ICsgcGFkZGluZ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHg6IGV4aXRQb2ludC54ICsgcGFkZGluZyxcbiAgICAgICAgICAgICAgICB5OiBleGl0UG9pbnQueSArIHBhZGRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2JvdHRvbSc6XG4gICAgICAgICAgICBwYWRkZWRFeGl0UG9pbnRzLnB1c2goe1xuICAgICAgICAgICAgICAgIHg6IGV4aXRQb2ludC54IC0gcGFkZGluZyxcbiAgICAgICAgICAgICAgICB5OiBleGl0UG9pbnQueSAtIHBhZGRpbmdcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICB4OiBleGl0UG9pbnQueCArIHBhZGRpbmcsXG4gICAgICAgICAgICAgICAgeTogZXhpdFBvaW50LnkgLSBwYWRkaW5nXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsZWZ0JzpcbiAgICAgICAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogZXhpdFBvaW50LnggKyBwYWRkaW5nLFxuICAgICAgICAgICAgICAgIHk6IGV4aXRQb2ludC55IC0gcGFkZGluZ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHg6IGV4aXRQb2ludC54ICsgcGFkZGluZyxcbiAgICAgICAgICAgICAgICB5OiBleGl0UG9pbnQueSArIHBhZGRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3JpZ2h0JzpcbiAgICAgICAgICAgIHBhZGRlZEV4aXRQb2ludHMucHVzaCh7XG4gICAgICAgICAgICAgICAgeDogZXhpdFBvaW50LnggLSBwYWRkaW5nLFxuICAgICAgICAgICAgICAgIHk6IGV4aXRQb2ludC55IC0gcGFkZGluZ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIHg6IGV4aXRQb2ludC54IC0gcGFkZGluZyxcbiAgICAgICAgICAgICAgICB5OiBleGl0UG9pbnQueSArIHBhZGRpbmdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBwYWRkZWRFeGl0UG9pbnRzO1xufVxuZnVuY3Rpb24gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGdldFBvaW50c0Zyb21SZWN0KHJlY3QpIHtcbiAgICBjb25zdCB7IHRvcDogdG9wICwgcmlnaHQ6IHJpZ2h0ICwgYm90dG9tOiBib3R0b20gLCBsZWZ0OiBsZWZ0ICB9ID0gcmVjdDtcbiAgICByZXR1cm4gW1xuICAgICAgICB7XG4gICAgICAgICAgICB4OiBsZWZ0LFxuICAgICAgICAgICAgeTogdG9wXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0LFxuICAgICAgICAgICAgeTogdG9wXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHg6IHJpZ2h0LFxuICAgICAgICAgICAgeTogYm90dG9tXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIHg6IGxlZnQsXG4gICAgICAgICAgICB5OiBib3R0b21cbiAgICAgICAgfVxuICAgIF07XG59IC8vIERldGVybWluZSBpZiBhIHBvaW50IGlzIGluc2lkZSBvZiBhIHBvbHlnb24uXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vc3Vic3RhY2svcG9pbnQtaW4tcG9seWdvblxuZnVuY3Rpb24gJGEwOTNjN2UxZWMyNWEwNTckdmFyJGlzUG9pbnRJblBvbHlnb24ocG9pbnQsIHBvbHlnb24pIHtcbiAgICBjb25zdCB7IHg6IHggLCB5OiB5ICB9ID0gcG9pbnQ7XG4gICAgbGV0IGluc2lkZSA9IGZhbHNlO1xuICAgIGZvcihsZXQgaSA9IDAsIGogPSBwb2x5Z29uLmxlbmd0aCAtIDE7IGkgPCBwb2x5Z29uLmxlbmd0aDsgaiA9IGkrKyl7XG4gICAgICAgIGNvbnN0IHhpID0gcG9seWdvbltpXS54O1xuICAgICAgICBjb25zdCB5aSA9IHBvbHlnb25baV0ueTtcbiAgICAgICAgY29uc3QgeGogPSBwb2x5Z29uW2pdLng7XG4gICAgICAgIGNvbnN0IHlqID0gcG9seWdvbltqXS55OyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgY29uc3QgaW50ZXJzZWN0ID0geWkgPiB5ICE9PSB5aiA+IHkgJiYgeCA8ICh4aiAtIHhpKSAqICh5IC0geWkpIC8gKHlqIC0geWkpICsgeGk7XG4gICAgICAgIGlmIChpbnRlcnNlY3QpIGluc2lkZSA9ICFpbnNpZGU7XG4gICAgfVxuICAgIHJldHVybiBpbnNpZGU7XG59IC8vIFJldHVybnMgYSBuZXcgYXJyYXkgb2YgcG9pbnRzIHJlcHJlc2VudGluZyB0aGUgY29udmV4IGh1bGwgb2YgdGhlIGdpdmVuIHNldCBvZiBwb2ludHMuXG4vLyBodHRwczovL3d3dy5uYXl1a2kuaW8vcGFnZS9jb252ZXgtaHVsbC1hbGdvcml0aG1cbmZ1bmN0aW9uICRhMDkzYzdlMWVjMjVhMDU3JHZhciRnZXRIdWxsKHBvaW50cykge1xuICAgIGNvbnN0IG5ld1BvaW50cyA9IHBvaW50cy5zbGljZSgpO1xuICAgIG5ld1BvaW50cy5zb3J0KChhLCBiKT0+e1xuICAgICAgICBpZiAoYS54IDwgYi54KSByZXR1cm4gLTE7XG4gICAgICAgIGVsc2UgaWYgKGEueCA+IGIueCkgcmV0dXJuIDE7XG4gICAgICAgIGVsc2UgaWYgKGEueSA8IGIueSkgcmV0dXJuIC0xO1xuICAgICAgICBlbHNlIGlmIChhLnkgPiBiLnkpIHJldHVybiAxO1xuICAgICAgICBlbHNlIHJldHVybiAwO1xuICAgIH0pO1xuICAgIHJldHVybiAkYTA5M2M3ZTFlYzI1YTA1NyR2YXIkZ2V0SHVsbFByZXNvcnRlZChuZXdQb2ludHMpO1xufSAvLyBSZXR1cm5zIHRoZSBjb252ZXggaHVsbCwgYXNzdW1pbmcgdGhhdCBlYWNoIHBvaW50c1tpXSA8PSBwb2ludHNbaSArIDFdLiBSdW5zIGluIE8obikgdGltZS5cbmZ1bmN0aW9uICRhMDkzYzdlMWVjMjVhMDU3JHZhciRnZXRIdWxsUHJlc29ydGVkKHBvaW50cykge1xuICAgIGlmIChwb2ludHMubGVuZ3RoIDw9IDEpIHJldHVybiBwb2ludHMuc2xpY2UoKTtcbiAgICBjb25zdCB1cHBlckh1bGwgPSBbXTtcbiAgICBmb3IobGV0IGkgPSAwOyBpIDwgcG9pbnRzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgY29uc3QgcCA9IHBvaW50c1tpXTtcbiAgICAgICAgd2hpbGUodXBwZXJIdWxsLmxlbmd0aCA+PSAyKXtcbiAgICAgICAgICAgIGNvbnN0IHEgPSB1cHBlckh1bGxbdXBwZXJIdWxsLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgciA9IHVwcGVySHVsbFt1cHBlckh1bGwubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICBpZiAoKHEueCAtIHIueCkgKiAocC55IC0gci55KSA+PSAocS55IC0gci55KSAqIChwLnggLSByLngpKSB1cHBlckh1bGwucG9wKCk7XG4gICAgICAgICAgICBlbHNlIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHVwcGVySHVsbC5wdXNoKHApO1xuICAgIH1cbiAgICB1cHBlckh1bGwucG9wKCk7XG4gICAgY29uc3QgbG93ZXJIdWxsID0gW107XG4gICAgZm9yKGxldCBpMSA9IHBvaW50cy5sZW5ndGggLSAxOyBpMSA+PSAwOyBpMS0tKXtcbiAgICAgICAgY29uc3QgcCA9IHBvaW50c1tpMV07XG4gICAgICAgIHdoaWxlKGxvd2VySHVsbC5sZW5ndGggPj0gMil7XG4gICAgICAgICAgICBjb25zdCBxID0gbG93ZXJIdWxsW2xvd2VySHVsbC5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IHIgPSBsb3dlckh1bGxbbG93ZXJIdWxsLmxlbmd0aCAtIDJdO1xuICAgICAgICAgICAgaWYgKChxLnggLSByLngpICogKHAueSAtIHIueSkgPj0gKHEueSAtIHIueSkgKiAocC54IC0gci54KSkgbG93ZXJIdWxsLnBvcCgpO1xuICAgICAgICAgICAgZWxzZSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBsb3dlckh1bGwucHVzaChwKTtcbiAgICB9XG4gICAgbG93ZXJIdWxsLnBvcCgpO1xuICAgIGlmICh1cHBlckh1bGwubGVuZ3RoID09PSAxICYmIGxvd2VySHVsbC5sZW5ndGggPT09IDEgJiYgdXBwZXJIdWxsWzBdLnggPT09IGxvd2VySHVsbFswXS54ICYmIHVwcGVySHVsbFswXS55ID09PSBsb3dlckh1bGxbMF0ueSkgcmV0dXJuIHVwcGVySHVsbDtcbiAgICBlbHNlIHJldHVybiB1cHBlckh1bGwuY29uY2F0KGxvd2VySHVsbCk7XG59XG5jb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkMjg4MTQ5OWUzN2I3NWI5YSA9ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCRmNzg2NDlmYjljYTU2NmI4O1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGJlOTJiNmY1ZjAzYzBmZTkgPSAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkMjhjNjYwYzYzYjc5MmRlYTtcbmNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ0MWZiOWYwNjE3MWM3NWY0ID0gJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDhjNjEwNzQ0ZWZjZjhhMWQ7XG5jb25zdCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkNjAyZWFjMTg1ODI2NDgyYyA9ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ3YjM2YjhmOTI1YWI3NDk3O1xuY29uc3QgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDdjNmUyYzAyMTU3YmI3ZDIgPSAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkZTkwMDNlMmJlMzdlYzA2MDtcbmNvbnN0ICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQyMWIwN2M4ZjI3NGFlYmQ1ID0gJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGMyN2VlMGFkNzEwZjc1NTk7XG5cblxuXG5cbmV4cG9ydCB7JGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDFjNTQwYTIyMjRmMGQ4NjUgYXMgY3JlYXRlVG9vbHRpcFNjb3BlLCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkZjc4NjQ5ZmI5Y2E1NjZiOCBhcyBUb29sdGlwUHJvdmlkZXIsICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQyOGM2NjBjNjNiNzkyZGVhIGFzIFRvb2x0aXAsICRhMDkzYzdlMWVjMjVhMDU3JGV4cG9ydCQ4YzYxMDc0NGVmY2Y4YTFkIGFzIFRvb2x0aXBUcmlnZ2VyLCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkN2IzNmI4ZjkyNWFiNzQ5NyBhcyBUb29sdGlwUG9ydGFsLCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkZTkwMDNlMmJlMzdlYzA2MCBhcyBUb29sdGlwQ29udGVudCwgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGMyN2VlMGFkNzEwZjc1NTkgYXMgVG9vbHRpcEFycm93LCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkMjg4MTQ5OWUzN2I3NWI5YSBhcyBQcm92aWRlciwgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JGJlOTJiNmY1ZjAzYzBmZTkgYXMgUm9vdCwgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDQxZmI5ZjA2MTcxYzc1ZjQgYXMgVHJpZ2dlciwgJGEwOTNjN2UxZWMyNWEwNTckZXhwb3J0JDYwMmVhYzE4NTgyNjQ4MmMgYXMgUG9ydGFsLCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkN2M2ZTJjMDIxNTdiYjdkMiBhcyBDb250ZW50LCAkYTA5M2M3ZTFlYzI1YTA1NyRleHBvcnQkMjFiMDdjOGYyNzRhZWJkNSBhcyBBcnJvd307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@radix-ui/react-tooltip/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/compute-scroll-into-view/dist/index.mjs":
/*!**************************************************************!*\
  !*** ./node_modules/compute-scroll-into-view/dist/index.mjs ***!
  \**************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ i; }\n/* harmony export */ });\nfunction t(t){return\"object\"==typeof t&&null!=t&&1===t.nodeType}function e(t,e){return(!e||\"hidden\"!==t)&&\"visible\"!==t&&\"clip\"!==t}function n(t,n){if(t.clientHeight<t.scrollHeight||t.clientWidth<t.scrollWidth){var r=getComputedStyle(t,null);return e(r.overflowY,n)||e(r.overflowX,n)||function(t){var e=function(t){if(!t.ownerDocument||!t.ownerDocument.defaultView)return null;try{return t.ownerDocument.defaultView.frameElement}catch(t){return null}}(t);return!!e&&(e.clientHeight<t.scrollHeight||e.clientWidth<t.scrollWidth)}(t)}return!1}function r(t,e,n,r,i,o,l,d){return o<t&&l>e||o>t&&l<e?0:o<=t&&d<=n||l>=e&&d>=n?o-t-r:l>e&&d<n||o<t&&d>n?l-e+i:0}var i=function(e,i){var o=window,l=i.scrollMode,d=i.block,f=i.inline,h=i.boundary,u=i.skipOverflowHiddenElements,s=\"function\"==typeof h?h:function(t){return t!==h};if(!t(e))throw new TypeError(\"Invalid target\");for(var a,c,g=document.scrollingElement||document.documentElement,p=[],m=e;t(m)&&s(m);){if((m=null==(c=(a=m).parentElement)?a.getRootNode().host||null:c)===g){p.push(m);break}null!=m&&m===document.body&&n(m)&&!n(document.documentElement)||null!=m&&n(m,u)&&p.push(m)}for(var w=o.visualViewport?o.visualViewport.width:innerWidth,v=o.visualViewport?o.visualViewport.height:innerHeight,W=window.scrollX||pageXOffset,H=window.scrollY||pageYOffset,b=e.getBoundingClientRect(),y=b.height,E=b.width,M=b.top,V=b.right,x=b.bottom,I=b.left,C=\"start\"===d||\"nearest\"===d?M:\"end\"===d?x:M+y/2,R=\"center\"===f?I+E/2:\"end\"===f?V:I,T=[],k=0;k<p.length;k++){var B=p[k],D=B.getBoundingClientRect(),O=D.height,X=D.width,Y=D.top,L=D.right,S=D.bottom,j=D.left;if(\"if-needed\"===l&&M>=0&&I>=0&&x<=v&&V<=w&&M>=Y&&x<=S&&I>=j&&V<=L)return T;var N=getComputedStyle(B),q=parseInt(N.borderLeftWidth,10),z=parseInt(N.borderTopWidth,10),A=parseInt(N.borderRightWidth,10),F=parseInt(N.borderBottomWidth,10),G=0,J=0,K=\"offsetWidth\"in B?B.offsetWidth-B.clientWidth-q-A:0,P=\"offsetHeight\"in B?B.offsetHeight-B.clientHeight-z-F:0,Q=\"offsetWidth\"in B?0===B.offsetWidth?0:X/B.offsetWidth:0,U=\"offsetHeight\"in B?0===B.offsetHeight?0:O/B.offsetHeight:0;if(g===B)G=\"start\"===d?C:\"end\"===d?C-v:\"nearest\"===d?r(H,H+v,v,z,F,H+C,H+C+y,y):C-v/2,J=\"start\"===f?R:\"center\"===f?R-w/2:\"end\"===f?R-w:r(W,W+w,w,q,A,W+R,W+R+E,E),G=Math.max(0,G+H),J=Math.max(0,J+W);else{G=\"start\"===d?C-Y-z:\"end\"===d?C-S+F+P:\"nearest\"===d?r(Y,S,O,z,F+P,C,C+y,y):C-(Y+O/2)+P/2,J=\"start\"===f?R-j-q:\"center\"===f?R-(j+X/2)+K/2:\"end\"===f?R-L+A+K:r(j,L,X,q,A+K,R,R+E,E);var Z=B.scrollLeft,$=B.scrollTop;C+=$-(G=Math.max(0,Math.min($+G/U,B.scrollHeight-O/U+P))),R+=Z-(J=Math.max(0,Math.min(Z+J/Q,B.scrollWidth-X/Q+K)))}T.push({el:B,top:G,left:J})}return T};\n//# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZGlzdC9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBLGNBQWMsa0RBQWtELGdCQUFnQixvREFBb0QsZ0JBQWdCLCtEQUErRCwrQkFBK0IsdURBQXVELGtCQUFrQiw4REFBOEQsSUFBSSxnREFBZ0QsU0FBUyxhQUFhLElBQUksd0VBQXdFLElBQUksU0FBUyw0QkFBNEIsb0ZBQW9GLG9CQUFvQixrSUFBa0ksY0FBYywrQ0FBK0MsMkVBQTJFLFdBQVcsRUFBRSx1RUFBdUUsVUFBVSxNQUFNLDJGQUEyRixvV0FBb1csV0FBVyxLQUFLLGtHQUFrRyw0RUFBNEUsOFlBQThZLHNNQUFzTSxLQUFLLGlMQUFpTCxpQ0FBaUMsbUhBQW1ILFFBQVEsa0JBQWtCLEVBQUUsVUFBK0I7QUFDcG1GIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9jb21wdXRlLXNjcm9sbC1pbnRvLXZpZXcvZGlzdC9pbmRleC5tanM/Mjg1NyJdLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiB0KHQpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiB0JiZudWxsIT10JiYxPT09dC5ub2RlVHlwZX1mdW5jdGlvbiBlKHQsZSl7cmV0dXJuKCFlfHxcImhpZGRlblwiIT09dCkmJlwidmlzaWJsZVwiIT09dCYmXCJjbGlwXCIhPT10fWZ1bmN0aW9uIG4odCxuKXtpZih0LmNsaWVudEhlaWdodDx0LnNjcm9sbEhlaWdodHx8dC5jbGllbnRXaWR0aDx0LnNjcm9sbFdpZHRoKXt2YXIgcj1nZXRDb21wdXRlZFN0eWxlKHQsbnVsbCk7cmV0dXJuIGUoci5vdmVyZmxvd1ksbil8fGUoci5vdmVyZmxvd1gsbil8fGZ1bmN0aW9uKHQpe3ZhciBlPWZ1bmN0aW9uKHQpe2lmKCF0Lm93bmVyRG9jdW1lbnR8fCF0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcpcmV0dXJuIG51bGw7dHJ5e3JldHVybiB0Lm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuZnJhbWVFbGVtZW50fWNhdGNoKHQpe3JldHVybiBudWxsfX0odCk7cmV0dXJuISFlJiYoZS5jbGllbnRIZWlnaHQ8dC5zY3JvbGxIZWlnaHR8fGUuY2xpZW50V2lkdGg8dC5zY3JvbGxXaWR0aCl9KHQpfXJldHVybiExfWZ1bmN0aW9uIHIodCxlLG4scixpLG8sbCxkKXtyZXR1cm4gbzx0JiZsPmV8fG8+dCYmbDxlPzA6bzw9dCYmZDw9bnx8bD49ZSYmZD49bj9vLXQtcjpsPmUmJmQ8bnx8bzx0JiZkPm4/bC1lK2k6MH12YXIgaT1mdW5jdGlvbihlLGkpe3ZhciBvPXdpbmRvdyxsPWkuc2Nyb2xsTW9kZSxkPWkuYmxvY2ssZj1pLmlubGluZSxoPWkuYm91bmRhcnksdT1pLnNraXBPdmVyZmxvd0hpZGRlbkVsZW1lbnRzLHM9XCJmdW5jdGlvblwiPT10eXBlb2YgaD9oOmZ1bmN0aW9uKHQpe3JldHVybiB0IT09aH07aWYoIXQoZSkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgdGFyZ2V0XCIpO2Zvcih2YXIgYSxjLGc9ZG9jdW1lbnQuc2Nyb2xsaW5nRWxlbWVudHx8ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHA9W10sbT1lO3QobSkmJnMobSk7KXtpZigobT1udWxsPT0oYz0oYT1tKS5wYXJlbnRFbGVtZW50KT9hLmdldFJvb3ROb2RlKCkuaG9zdHx8bnVsbDpjKT09PWcpe3AucHVzaChtKTticmVha31udWxsIT1tJiZtPT09ZG9jdW1lbnQuYm9keSYmbihtKSYmIW4oZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXx8bnVsbCE9bSYmbihtLHUpJiZwLnB1c2gobSl9Zm9yKHZhciB3PW8udmlzdWFsVmlld3BvcnQ/by52aXN1YWxWaWV3cG9ydC53aWR0aDppbm5lcldpZHRoLHY9by52aXN1YWxWaWV3cG9ydD9vLnZpc3VhbFZpZXdwb3J0LmhlaWdodDppbm5lckhlaWdodCxXPXdpbmRvdy5zY3JvbGxYfHxwYWdlWE9mZnNldCxIPXdpbmRvdy5zY3JvbGxZfHxwYWdlWU9mZnNldCxiPWUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkseT1iLmhlaWdodCxFPWIud2lkdGgsTT1iLnRvcCxWPWIucmlnaHQseD1iLmJvdHRvbSxJPWIubGVmdCxDPVwic3RhcnRcIj09PWR8fFwibmVhcmVzdFwiPT09ZD9NOlwiZW5kXCI9PT1kP3g6TSt5LzIsUj1cImNlbnRlclwiPT09Zj9JK0UvMjpcImVuZFwiPT09Zj9WOkksVD1bXSxrPTA7azxwLmxlbmd0aDtrKyspe3ZhciBCPXBba10sRD1CLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLE89RC5oZWlnaHQsWD1ELndpZHRoLFk9RC50b3AsTD1ELnJpZ2h0LFM9RC5ib3R0b20saj1ELmxlZnQ7aWYoXCJpZi1uZWVkZWRcIj09PWwmJk0+PTAmJkk+PTAmJng8PXYmJlY8PXcmJk0+PVkmJng8PVMmJkk+PWomJlY8PUwpcmV0dXJuIFQ7dmFyIE49Z2V0Q29tcHV0ZWRTdHlsZShCKSxxPXBhcnNlSW50KE4uYm9yZGVyTGVmdFdpZHRoLDEwKSx6PXBhcnNlSW50KE4uYm9yZGVyVG9wV2lkdGgsMTApLEE9cGFyc2VJbnQoTi5ib3JkZXJSaWdodFdpZHRoLDEwKSxGPXBhcnNlSW50KE4uYm9yZGVyQm90dG9tV2lkdGgsMTApLEc9MCxKPTAsSz1cIm9mZnNldFdpZHRoXCJpbiBCP0Iub2Zmc2V0V2lkdGgtQi5jbGllbnRXaWR0aC1xLUE6MCxQPVwib2Zmc2V0SGVpZ2h0XCJpbiBCP0Iub2Zmc2V0SGVpZ2h0LUIuY2xpZW50SGVpZ2h0LXotRjowLFE9XCJvZmZzZXRXaWR0aFwiaW4gQj8wPT09Qi5vZmZzZXRXaWR0aD8wOlgvQi5vZmZzZXRXaWR0aDowLFU9XCJvZmZzZXRIZWlnaHRcImluIEI/MD09PUIub2Zmc2V0SGVpZ2h0PzA6Ty9CLm9mZnNldEhlaWdodDowO2lmKGc9PT1CKUc9XCJzdGFydFwiPT09ZD9DOlwiZW5kXCI9PT1kP0MtdjpcIm5lYXJlc3RcIj09PWQ/cihILEgrdix2LHosRixIK0MsSCtDK3kseSk6Qy12LzIsSj1cInN0YXJ0XCI9PT1mP1I6XCJjZW50ZXJcIj09PWY/Ui13LzI6XCJlbmRcIj09PWY/Ui13OnIoVyxXK3csdyxxLEEsVytSLFcrUitFLEUpLEc9TWF0aC5tYXgoMCxHK0gpLEo9TWF0aC5tYXgoMCxKK1cpO2Vsc2V7Rz1cInN0YXJ0XCI9PT1kP0MtWS16OlwiZW5kXCI9PT1kP0MtUytGK1A6XCJuZWFyZXN0XCI9PT1kP3IoWSxTLE8seixGK1AsQyxDK3kseSk6Qy0oWStPLzIpK1AvMixKPVwic3RhcnRcIj09PWY/Ui1qLXE6XCJjZW50ZXJcIj09PWY/Ui0oaitYLzIpK0svMjpcImVuZFwiPT09Zj9SLUwrQStLOnIoaixMLFgscSxBK0ssUixSK0UsRSk7dmFyIFo9Qi5zY3JvbGxMZWZ0LCQ9Qi5zY3JvbGxUb3A7Qys9JC0oRz1NYXRoLm1heCgwLE1hdGgubWluKCQrRy9VLEIuc2Nyb2xsSGVpZ2h0LU8vVStQKSkpLFIrPVotKEo9TWF0aC5tYXgoMCxNYXRoLm1pbihaK0ovUSxCLnNjcm9sbFdpZHRoLVgvUStLKSkpfVQucHVzaCh7ZWw6Qix0b3A6RyxsZWZ0Okp9KX1yZXR1cm4gVH07ZXhwb3J0e2kgYXMgZGVmYXVsdH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/compute-scroll-into-view/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs":
/*!***********************************************!*\
  !*** ./node_modules/immer/dist/immer.esm.mjs ***!
  \***********************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Immer: function() { return /* binding */ un; },\n/* harmony export */   applyPatches: function() { return /* binding */ pn; },\n/* harmony export */   castDraft: function() { return /* binding */ K; },\n/* harmony export */   castImmutable: function() { return /* binding */ $; },\n/* harmony export */   createDraft: function() { return /* binding */ ln; },\n/* harmony export */   current: function() { return /* binding */ R; },\n/* harmony export */   enableAllPlugins: function() { return /* binding */ J; },\n/* harmony export */   enableES5: function() { return /* binding */ F; },\n/* harmony export */   enableMapSet: function() { return /* binding */ C; },\n/* harmony export */   enablePatches: function() { return /* binding */ T; },\n/* harmony export */   finishDraft: function() { return /* binding */ dn; },\n/* harmony export */   freeze: function() { return /* binding */ d; },\n/* harmony export */   immerable: function() { return /* binding */ L; },\n/* harmony export */   isDraft: function() { return /* binding */ r; },\n/* harmony export */   isDraftable: function() { return /* binding */ t; },\n/* harmony export */   nothing: function() { return /* binding */ H; },\n/* harmony export */   original: function() { return /* binding */ e; },\n/* harmony export */   produce: function() { return /* binding */ fn; },\n/* harmony export */   produceWithPatches: function() { return /* binding */ cn; },\n/* harmony export */   setAutoFreeze: function() { return /* binding */ sn; },\n/* harmony export */   setUseProxies: function() { return /* binding */ vn; }\n/* harmony export */ });\nfunction n(n){for(var r=arguments.length,t=Array(r>1?r-1:0),e=1;e<r;e++)t[e-1]=arguments[e];if(true){var i=Y[n],o=i?\"function\"==typeof i?i.apply(null,t):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(t.length?\" \"+t.map((function(n){return\"'\"+n+\"'\"})).join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function r(n){return!!n&&!!n[Q]}function t(n){var r;return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var r=Object.getPrototypeOf(n);if(null===r)return!0;var t=Object.hasOwnProperty.call(r,\"constructor\")&&r.constructor;return t===Object||\"function\"==typeof t&&Function.toString.call(t)===Z}(n)||Array.isArray(n)||!!n[L]||!!(null===(r=n.constructor)||void 0===r?void 0:r[L])||s(n)||v(n))}function e(t){return r(t)||n(23,t),t[Q].t}function i(n,r,t){void 0===t&&(t=!1),0===o(n)?(t?Object.keys:nn)(n).forEach((function(e){t&&\"symbol\"==typeof e||r(e,n[e],n)})):n.forEach((function(t,e){return r(e,t,n)}))}function o(n){var r=n[Q];return r?r.i>3?r.i-4:r.i:Array.isArray(n)?1:s(n)?2:v(n)?3:0}function u(n,r){return 2===o(n)?n.has(r):Object.prototype.hasOwnProperty.call(n,r)}function a(n,r){return 2===o(n)?n.get(r):n[r]}function f(n,r,t){var e=o(n);2===e?n.set(r,t):3===e?n.add(t):n[r]=t}function c(n,r){return n===r?0!==n||1/n==1/r:n!=n&&r!=r}function s(n){return X&&n instanceof Map}function v(n){return q&&n instanceof Set}function p(n){return n.o||n.t}function l(n){if(Array.isArray(n))return Array.prototype.slice.call(n);var r=rn(n);delete r[Q];for(var t=nn(r),e=0;e<t.length;e++){var i=t[e],o=r[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:n[i]})}return Object.create(Object.getPrototypeOf(n),r)}function d(n,e){return void 0===e&&(e=!1),y(n)||r(n)||!t(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=h),Object.freeze(n),e&&i(n,(function(n,r){return d(r,!0)}),!0)),n}function h(){n(2)}function y(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function b(r){var t=tn[r];return t||n(18,r),t}function m(n,r){tn[n]||(tn[n]=r)}function _(){return false||U||n(0),U}function j(n,r){r&&(b(\"Patches\"),n.u=[],n.s=[],n.v=r)}function g(n){O(n),n.p.forEach(S),n.p=null}function O(n){n===U&&(U=n.l)}function w(n){return U={p:[],l:U,h:n,m:!0,_:0}}function S(n){var r=n[Q];0===r.i||1===r.i?r.j():r.g=!0}function P(r,e){e._=e.p.length;var i=e.p[0],o=void 0!==r&&r!==i;return e.h.O||b(\"ES5\").S(e,r,o),o?(i[Q].P&&(g(e),n(4)),t(r)&&(r=M(e,r),e.l||x(e,r)),e.u&&b(\"Patches\").M(i[Q].t,r,e.u,e.s)):r=M(e,i,[]),g(e),e.u&&e.v(e.u,e.s),r!==H?r:void 0}function M(n,r,t){if(y(r))return r;var e=r[Q];if(!e)return i(r,(function(i,o){return A(n,e,r,i,o,t)}),!0),r;if(e.A!==n)return r;if(!e.P)return x(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=l(e.k):e.o,u=o,a=!1;3===e.i&&(u=new Set(o),o.clear(),a=!0),i(u,(function(r,i){return A(n,e,o,r,i,t,a)})),x(n,o,!1),t&&n.u&&b(\"Patches\").N(e,t,n.u,n.s)}return e.o}function A(e,i,o,a,c,s,v){if( true&&c===o&&n(5),r(c)){var p=M(e,c,s&&i&&3!==i.i&&!u(i.R,a)?s.concat(a):void 0);if(f(o,a,p),!r(p))return;e.m=!1}else v&&o.add(c);if(t(c)&&!y(c)){if(!e.h.D&&e._<1)return;M(e,c),i&&i.A.l||x(e,c)}}function x(n,r,t){void 0===t&&(t=!1),!n.l&&n.h.D&&n.m&&d(r,t)}function z(n,r){var t=n[Q];return(t?p(t):n)[r]}function I(n,r){if(r in n)for(var t=Object.getPrototypeOf(n);t;){var e=Object.getOwnPropertyDescriptor(t,r);if(e)return e;t=Object.getPrototypeOf(t)}}function k(n){n.P||(n.P=!0,n.l&&k(n.l))}function E(n){n.o||(n.o=l(n.t))}function N(n,r,t){var e=s(r)?b(\"MapSet\").F(r,t):v(r)?b(\"MapSet\").T(r,t):n.O?function(n,r){var t=Array.isArray(n),e={i:t?1:0,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:null,o:null,j:null,C:!1},i=e,o=en;t&&(i=[e],o=on);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(r,t):b(\"ES5\").J(r,t);return(t?t.A:_()).p.push(e),e}function R(e){return r(e)||n(22,e),function n(r){if(!t(r))return r;var e,u=r[Q],c=o(r);if(u){if(!u.P&&(u.i<4||!b(\"ES5\").K(u)))return u.t;u.I=!0,e=D(r,c),u.I=!1}else e=D(r,c);return i(e,(function(r,t){u&&a(u.t,r)===t||f(e,r,n(t))})),3===c?new Set(e):e}(e)}function D(n,r){switch(r){case 2:return new Map(n);case 3:return Array.from(n)}return l(n)}function F(){function t(n,r){var t=s[n];return t?t.enumerable=r:s[n]=t={configurable:!0,enumerable:r,get:function(){var r=this[Q];return true&&f(r),en.get(r,n)},set:function(r){var t=this[Q]; true&&f(t),en.set(t,n,r)}},t}function e(n){for(var r=n.length-1;r>=0;r--){var t=n[r][Q];if(!t.P)switch(t.i){case 5:a(t)&&k(t);break;case 4:o(t)&&k(t)}}}function o(n){for(var r=n.t,t=n.k,e=nn(t),i=e.length-1;i>=0;i--){var o=e[i];if(o!==Q){var a=r[o];if(void 0===a&&!u(r,o))return!0;var f=t[o],s=f&&f[Q];if(s?s.t!==a:!c(f,a))return!0}}var v=!!r[Q];return e.length!==nn(r).length+(v?0:1)}function a(n){var r=n.k;if(r.length!==n.t.length)return!0;var t=Object.getOwnPropertyDescriptor(r,r.length-1);if(t&&!t.get)return!0;for(var e=0;e<r.length;e++)if(!r.hasOwnProperty(e))return!0;return!1}function f(r){r.g&&n(3,JSON.stringify(p(r)))}var s={};m(\"ES5\",{J:function(n,r){var e=Array.isArray(n),i=function(n,r){if(n){for(var e=Array(r.length),i=0;i<r.length;i++)Object.defineProperty(e,\"\"+i,t(i,!0));return e}var o=rn(r);delete o[Q];for(var u=nn(o),a=0;a<u.length;a++){var f=u[a];o[f]=t(f,n||!!o[f].enumerable)}return Object.create(Object.getPrototypeOf(r),o)}(e,n),o={i:e?5:4,A:r?r.A:_(),P:!1,I:!1,R:{},l:r,t:n,k:i,o:null,g:!1,C:!1};return Object.defineProperty(i,Q,{value:o,writable:!0}),i},S:function(n,t,o){o?r(t)&&t[Q].A===n&&e(n.p):(n.u&&function n(r){if(r&&\"object\"==typeof r){var t=r[Q];if(t){var e=t.t,o=t.k,f=t.R,c=t.i;if(4===c)i(o,(function(r){r!==Q&&(void 0!==e[r]||u(e,r)?f[r]||n(o[r]):(f[r]=!0,k(t)))})),i(e,(function(n){void 0!==o[n]||u(o,n)||(f[n]=!1,k(t))}));else if(5===c){if(a(t)&&(k(t),f.length=!0),o.length<e.length)for(var s=o.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<o.length;v++)f[v]=!0;for(var p=Math.min(o.length,e.length),l=0;l<p;l++)o.hasOwnProperty(l)||(f[l]=!0),void 0===f[l]&&n(o[l])}}}}(n.p[0]),e(n.p))},K:function(n){return 4===n.i?o(n):a(n)}})}function T(){function e(n){if(!t(n))return n;if(Array.isArray(n))return n.map(e);if(s(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],e(n[1])]})));if(v(n))return new Set(Array.from(n).map(e));var r=Object.create(Object.getPrototypeOf(n));for(var i in n)r[i]=e(n[i]);return u(n,L)&&(r[L]=n[L]),r}function f(n){return r(n)?e(n):n}var c=\"add\";m(\"Patches\",{$:function(r,t){return t.forEach((function(t){for(var i=t.path,u=t.op,f=r,s=0;s<i.length-1;s++){var v=o(f),p=i[s];\"string\"!=typeof p&&\"number\"!=typeof p&&(p=\"\"+p),0!==v&&1!==v||\"__proto__\"!==p&&\"constructor\"!==p||n(24),\"function\"==typeof f&&\"prototype\"===p&&n(24),\"object\"!=typeof(f=a(f,p))&&n(15,i.join(\"/\"))}var l=o(f),d=e(t.value),h=i[i.length-1];switch(u){case\"replace\":switch(l){case 2:return f.set(h,d);case 3:n(16);default:return f[h]=d}case c:switch(l){case 1:return\"-\"===h?f.push(d):f.splice(h,0,d);case 2:return f.set(h,d);case 3:return f.add(d);default:return f[h]=d}case\"remove\":switch(l){case 1:return f.splice(h,1);case 2:return f.delete(h);case 3:return f.delete(t.value);default:return delete f[h]}default:n(17,u)}})),r},N:function(n,r,t,e){switch(n.i){case 0:case 4:case 2:return function(n,r,t,e){var o=n.t,s=n.o;i(n.R,(function(n,i){var v=a(o,n),p=a(s,n),l=i?u(o,n)?\"replace\":c:\"remove\";if(v!==p||\"replace\"!==l){var d=r.concat(n);t.push(\"remove\"===l?{op:l,path:d}:{op:l,path:d,value:p}),e.push(l===c?{op:\"remove\",path:d}:\"remove\"===l?{op:c,path:d,value:f(v)}:{op:\"replace\",path:d,value:f(v)})}}))}(n,r,t,e);case 5:case 1:return function(n,r,t,e){var i=n.t,o=n.R,u=n.o;if(u.length<i.length){var a=[u,i];i=a[0],u=a[1];var s=[e,t];t=s[0],e=s[1]}for(var v=0;v<i.length;v++)if(o[v]&&u[v]!==i[v]){var p=r.concat([v]);t.push({op:\"replace\",path:p,value:f(u[v])}),e.push({op:\"replace\",path:p,value:f(i[v])})}for(var l=i.length;l<u.length;l++){var d=r.concat([l]);t.push({op:c,path:d,value:f(u[l])})}i.length<u.length&&e.push({op:\"replace\",path:r.concat([\"length\"]),value:i.length})}(n,r,t,e);case 3:return function(n,r,t,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=r.concat([u]);t.push({op:\"remove\",path:i,value:n}),e.unshift({op:c,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=r.concat([u]);t.push({op:c,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,r,t,e)}},M:function(n,r,t,e){t.push({op:\"replace\",path:[],value:r===H?void 0:r}),e.push({op:\"replace\",path:[],value:n})}})}function C(){function r(n,r){function t(){this.constructor=n}a(n,r),n.prototype=(t.prototype=r.prototype,new t)}function e(n){n.o||(n.R=new Map,n.o=new Map(n.t))}function o(n){n.o||(n.o=new Set,n.t.forEach((function(r){if(t(r)){var e=N(n.A.h,r,n);n.p.set(r,e),n.o.add(e)}else n.o.add(r)})))}function u(r){r.g&&n(3,JSON.stringify(p(r)))}var a=function(n,r){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var t in r)r.hasOwnProperty(t)&&(n[t]=r[t])})(n,r)},f=function(){function n(n,r){return this[Q]={i:2,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,R:void 0,t:n,k:this,C:!1,g:!1},this}r(n,Map);var o=n.prototype;return Object.defineProperty(o,\"size\",{get:function(){return p(this[Q]).size}}),o.has=function(n){return p(this[Q]).has(n)},o.set=function(n,r){var t=this[Q];return u(t),p(t).has(n)&&p(t).get(n)===r||(e(t),k(t),t.R.set(n,!0),t.o.set(n,r),t.R.set(n,!0)),this},o.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),e(r),k(r),r.t.has(n)?r.R.set(n,!1):r.R.delete(n),r.o.delete(n),!0},o.clear=function(){var n=this[Q];u(n),p(n).size&&(e(n),k(n),n.R=new Map,i(n.t,(function(r){n.R.set(r,!1)})),n.o.clear())},o.forEach=function(n,r){var t=this;p(this[Q]).forEach((function(e,i){n.call(r,t.get(i),i,t)}))},o.get=function(n){var r=this[Q];u(r);var i=p(r).get(n);if(r.I||!t(i))return i;if(i!==r.t.get(n))return i;var o=N(r.A.h,i,r);return e(r),r.o.set(n,o),o},o.keys=function(){return p(this[Q]).keys()},o.values=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.values()},n.next=function(){var n=t.next();return n.done?n:{done:!1,value:r.get(n.value)}},n},o.entries=function(){var n,r=this,t=this.keys();return(n={})[V]=function(){return r.entries()},n.next=function(){var n=t.next();if(n.done)return n;var e=r.get(n.value);return{done:!1,value:[n.value,e]}},n},o[V]=function(){return this.entries()},n}(),c=function(){function n(n,r){return this[Q]={i:3,l:r,A:r?r.A:_(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,g:!1,C:!1},this}r(n,Set);var t=n.prototype;return Object.defineProperty(t,\"size\",{get:function(){return p(this[Q]).size}}),t.has=function(n){var r=this[Q];return u(r),r.o?!!r.o.has(n)||!(!r.p.has(n)||!r.o.has(r.p.get(n))):r.t.has(n)},t.add=function(n){var r=this[Q];return u(r),this.has(n)||(o(r),k(r),r.o.add(n)),this},t.delete=function(n){if(!this.has(n))return!1;var r=this[Q];return u(r),o(r),k(r),r.o.delete(n)||!!r.p.has(n)&&r.o.delete(r.p.get(n))},t.clear=function(){var n=this[Q];u(n),p(n).size&&(o(n),k(n),n.o.clear())},t.values=function(){var n=this[Q];return u(n),o(n),n.o.values()},t.entries=function(){var n=this[Q];return u(n),o(n),n.o.entries()},t.keys=function(){return this.values()},t[V]=function(){return this.values()},t.forEach=function(n,r){for(var t=this.values(),e=t.next();!e.done;)n.call(r,e.value,e.value,this),e=t.next()},n}();m(\"MapSet\",{F:function(n,r){return new f(n,r)},T:function(n,r){return new c(n,r)}})}function J(){F(),C(),T()}function K(n){return n}function $(n){return n}var G,U,W=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),X=\"undefined\"!=typeof Map,q=\"undefined\"!=typeof Set,B=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,H=W?Symbol.for(\"immer-nothing\"):((G={})[\"immer-nothing\"]=!0,G),L=W?Symbol.for(\"immer-draftable\"):\"__$immer_draftable\",Q=W?Symbol.for(\"immer-state\"):\"__$immer_state\",V=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",Y={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\",21:function(n){return\"produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '\"+n+\"'\"},22:function(n){return\"'current' expects a draft, got: \"+n},23:function(n){return\"'original' expects a draft, got: \"+n},24:\"Patching reserved attributes like __proto__, prototype and constructor is not allowed\"},Z=\"\"+Object.prototype.constructor,nn=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(n){var r={};return nn(n).forEach((function(t){r[t]=Object.getOwnPropertyDescriptor(n,t)})),r},tn={},en={get:function(n,r){if(r===Q)return n;var e=p(n);if(!u(e,r))return function(n,r,t){var e,i=I(r,t);return i?\"value\"in i?i.value:null===(e=i.get)||void 0===e?void 0:e.call(n.k):void 0}(n,e,r);var i=e[r];return n.I||!t(i)?i:i===z(n.t,r)?(E(n),n.o[r]=N(n.A.h,i,n)):i},has:function(n,r){return r in p(n)},ownKeys:function(n){return Reflect.ownKeys(p(n))},set:function(n,r,t){var e=I(p(n),r);if(null==e?void 0:e.set)return e.set.call(n.k,t),!0;if(!n.P){var i=z(p(n),r),o=null==i?void 0:i[Q];if(o&&o.t===t)return n.o[r]=t,n.R[r]=!1,!0;if(c(t,i)&&(void 0!==t||u(n.t,r)))return!0;E(n),k(n)}return n.o[r]===t&&(void 0!==t||r in n.o)||Number.isNaN(t)&&Number.isNaN(n.o[r])||(n.o[r]=t,n.R[r]=!0),!0},deleteProperty:function(n,r){return void 0!==z(n.t,r)||r in n.t?(n.R[r]=!1,E(n),k(n)):delete n.R[r],n.o&&delete n.o[r],!0},getOwnPropertyDescriptor:function(n,r){var t=p(n),e=Reflect.getOwnPropertyDescriptor(t,r);return e?{writable:!0,configurable:1!==n.i||\"length\"!==r,enumerable:e.enumerable,value:t[r]}:e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},on={};i(en,(function(n,r){on[n]=function(){return arguments[0]=arguments[0][0],r.apply(this,arguments)}})),on.deleteProperty=function(r,t){return true&&isNaN(parseInt(t))&&n(13),on.set.call(this,r,t,void 0)},on.set=function(r,t,e){return true&&\"length\"!==t&&isNaN(parseInt(t))&&n(14),en.set.call(this,r[0],t,e,r[0])};var un=function(){function e(r){var e=this;this.O=B,this.D=!0,this.produce=function(r,i,o){if(\"function\"==typeof r&&\"function\"!=typeof i){var u=i;i=r;var a=e;return function(n){var r=this;void 0===n&&(n=u);for(var t=arguments.length,e=Array(t>1?t-1:0),o=1;o<t;o++)e[o-1]=arguments[o];return a.produce(n,(function(n){var t;return(t=i).call.apply(t,[r,n].concat(e))}))}}var f;if(\"function\"!=typeof i&&n(6),void 0!==o&&\"function\"!=typeof o&&n(7),t(r)){var c=w(e),s=N(e,r,void 0),v=!0;try{f=i(s),v=!1}finally{v?g(c):O(c)}return\"undefined\"!=typeof Promise&&f instanceof Promise?f.then((function(n){return j(c,o),P(n,c)}),(function(n){throw g(c),n})):(j(c,o),P(f,c))}if(!r||\"object\"!=typeof r){if(void 0===(f=i(r))&&(f=r),f===H&&(f=void 0),e.D&&d(f,!0),o){var p=[],l=[];b(\"Patches\").M(r,f,p,l),o(p,l)}return f}n(21,r)},this.produceWithPatches=function(n,r){if(\"function\"==typeof n)return function(r){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return e.produceWithPatches(r,(function(r){return n.apply(void 0,[r].concat(i))}))};var t,i,o=e.produce(n,r,(function(n,r){t=n,i=r}));return\"undefined\"!=typeof Promise&&o instanceof Promise?o.then((function(n){return[n,t,i]})):[o,t,i]},\"boolean\"==typeof(null==r?void 0:r.useProxies)&&this.setUseProxies(r.useProxies),\"boolean\"==typeof(null==r?void 0:r.autoFreeze)&&this.setAutoFreeze(r.autoFreeze)}var i=e.prototype;return i.createDraft=function(e){t(e)||n(8),r(e)&&(e=R(e));var i=w(this),o=N(this,e,void 0);return o[Q].C=!0,O(i),o},i.finishDraft=function(r,t){var e=r&&r[Q]; true&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return j(i,t),P(void 0,i)},i.setAutoFreeze=function(n){this.D=n},i.setUseProxies=function(r){r&&!B&&n(20),this.O=r},i.applyPatches=function(n,t){var e;for(e=t.length-1;e>=0;e--){var i=t[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}e>-1&&(t=t.slice(e+1));var o=b(\"Patches\").$;return r(n)?o(n,t):this.produce(n,(function(n){return o(n,t)}))},e}(),an=new un,fn=an.produce,cn=an.produceWithPatches.bind(an),sn=an.setAutoFreeze.bind(an),vn=an.setUseProxies.bind(an),pn=an.applyPatches.bind(an),ln=an.createDraft.bind(an),dn=an.finishDraft.bind(an);/* harmony default export */ __webpack_exports__[\"default\"] = (fn);\n//# sourceMappingURL=immer.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLmVzbS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsY0FBYyxrREFBa0QsSUFBSSx3QkFBd0IsR0FBRyxJQUFtQyxFQUFFLDZFQUE2RSwwQkFBMEIsNkVBQTZFLGdCQUFnQixxRUFBcUUsY0FBYyxrQkFBa0IsY0FBYyxNQUFNLHdCQUF3QixtQ0FBbUMsK0JBQStCLHFCQUFxQixpRUFBaUUsdUVBQXVFLGlHQUFpRyxjQUFjLDRCQUE0QixrQkFBa0IsdUVBQXVFLG1DQUFtQyw0QkFBNEIsZ0JBQWdCLEdBQUcsY0FBYyxXQUFXLDREQUE0RCxnQkFBZ0IsbUVBQW1FLGdCQUFnQiw4QkFBOEIsa0JBQWtCLFdBQVcsdUNBQXVDLGdCQUFnQix3Q0FBd0MsY0FBYywyQkFBMkIsY0FBYywyQkFBMkIsY0FBYyxnQkFBZ0IsY0FBYyx5REFBeUQsWUFBWSxZQUFZLG9CQUFvQixXQUFXLEtBQUssa0JBQWtCLDBFQUEwRSwrREFBK0QsRUFBRSxpREFBaUQsZ0JBQWdCLDhIQUE4SCxlQUFlLFNBQVMsYUFBYSxLQUFLLGNBQWMsdURBQXVELGNBQWMsWUFBWSxvQkFBb0IsZ0JBQWdCLGlCQUFpQixhQUFhLE1BQU0sTUFBbUMsWUFBWSxnQkFBZ0Isc0NBQXNDLGNBQWMsNkJBQTZCLGNBQWMsZUFBZSxjQUFjLFVBQVUsdUJBQXVCLGNBQWMsV0FBVyw4QkFBOEIsZ0JBQWdCLGVBQWUsaUNBQWlDLDZLQUE2SyxrQkFBa0IsaUJBQWlCLFdBQVcsZ0NBQWdDLHNCQUFzQixRQUFRLG9CQUFvQiwrQkFBK0IsU0FBUyxlQUFlLCtDQUErQywwREFBMEQsd0JBQXdCLGlEQUFpRCxXQUFXLDBCQUEwQixHQUFHLEtBQW1DLG9CQUFvQix5REFBeUQseUJBQXlCLE9BQU8saUJBQWlCLGdCQUFnQix3QkFBd0IseUJBQXlCLGtCQUFrQiw0Q0FBNEMsZ0JBQWdCLFdBQVcsb0JBQW9C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MkMsMkNBQTJDLFVBQVUsMEdBQTBHLDhCQUE4Qiw2RkFBNkYsd0NBQXdDLG1EQUFtRCxVQUFVLGtGQUFrRixHQUFHLDJCQUEyQixNQUFNLDRCQUE0QixrQ0FBa0MsMkJBQTJCLE9BQU8sT0FBTyxvQkFBb0IsaUJBQWlCLDZEQUE2RCxtQ0FBbUMsTUFBTSxLQUFtQyx5REFBeUQsd0JBQXdCLE1BQU0sS0FBbUMsMkVBQTJFLGtCQUFrQixjQUFjLFdBQVcsZ0RBQWdELCtDQUErQyxRQUFRLElBQUksUUFBUSxtQkFBbUIsV0FBVyxrQkFBa0Isa0RBQWtELElBQUksd0JBQXdCLGdDQUFnQyxNQUFNLDBDQUEwQyxJQUFJLE1BQU0sMkVBQTJFLGdDQUFnQyxJQUFJLFlBQVksUUFBUSxZQUFZLDRFQUE0RSxxQkFBcUIsZUFBZSxhQUFhLG1CQUFtQiwyQkFBMkIsOERBQThELGNBQWMsK0JBQStCLFNBQVMsUUFBUSx1Q0FBdUMsMkNBQTJDLGtEQUFrRCxJQUFJLHdCQUF3QiwyQ0FBMkMscUNBQXFDLElBQUksdUNBQXVDLFFBQVEsR0FBRyw0RUFBNEUsY0FBYyxXQUFXLG1LQUFtSyxrQkFBa0IsaUNBQWlDLDBCQUEwQixpQ0FBaUMsd0JBQXdCLDZCQUE2QixjQUFjLEtBQW1DLDRCQUE0QixVQUFVLDBCQUEwQiw2QkFBNkIsU0FBUyw2QkFBNkIsc0JBQXNCLDhCQUE4QixNQUFNLGlCQUFpQixLQUFLLEtBQUssV0FBVyx3Q0FBd0MsVUFBVSxPQUFPLHVCQUF1QixxQkFBcUIsK0NBQStDLGNBQWMsR0FBRyxHQUFHLHlNQUF5TSwrREFBZSxFQUFFLEVBQXdXO0FBQ2o5akIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL2ltbWVyL2Rpc3QvaW1tZXIuZXNtLm1qcz9lODg1Il0sInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIG4obil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsdD1BcnJheShyPjE/ci0xOjApLGU9MTtlPHI7ZSsrKXRbZS0xXT1hcmd1bWVudHNbZV07aWYoXCJwcm9kdWN0aW9uXCIhPT1wcm9jZXNzLmVudi5OT0RFX0VOVil7dmFyIGk9WVtuXSxvPWk/XCJmdW5jdGlvblwiPT10eXBlb2YgaT9pLmFwcGx5KG51bGwsdCk6aTpcInVua25vd24gZXJyb3IgbnI6IFwiK247dGhyb3cgRXJyb3IoXCJbSW1tZXJdIFwiK28pfXRocm93IEVycm9yKFwiW0ltbWVyXSBtaW5pZmllZCBlcnJvciBucjogXCIrbisodC5sZW5ndGg/XCIgXCIrdC5tYXAoKGZ1bmN0aW9uKG4pe3JldHVyblwiJ1wiK24rXCInXCJ9KSkuam9pbihcIixcIik6XCJcIikrXCIuIEZpbmQgdGhlIGZ1bGwgZXJyb3IgYXQ6IGh0dHBzOi8vYml0Lmx5LzNjWEVLV2ZcIil9ZnVuY3Rpb24gcihuKXtyZXR1cm4hIW4mJiEhbltRXX1mdW5jdGlvbiB0KG4pe3ZhciByO3JldHVybiEhbiYmKGZ1bmN0aW9uKG4pe2lmKCFufHxcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4hMTt2YXIgcj1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7aWYobnVsbD09PXIpcmV0dXJuITA7dmFyIHQ9T2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwocixcImNvbnN0cnVjdG9yXCIpJiZyLmNvbnN0cnVjdG9yO3JldHVybiB0PT09T2JqZWN0fHxcImZ1bmN0aW9uXCI9PXR5cGVvZiB0JiZGdW5jdGlvbi50b1N0cmluZy5jYWxsKHQpPT09Wn0obil8fEFycmF5LmlzQXJyYXkobil8fCEhbltMXXx8ISEobnVsbD09PShyPW4uY29uc3RydWN0b3IpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyW0xdKXx8cyhuKXx8dihuKSl9ZnVuY3Rpb24gZSh0KXtyZXR1cm4gcih0KXx8bigyMyx0KSx0W1FdLnR9ZnVuY3Rpb24gaShuLHIsdCl7dm9pZCAwPT09dCYmKHQ9ITEpLDA9PT1vKG4pPyh0P09iamVjdC5rZXlzOm5uKShuKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0JiZcInN5bWJvbFwiPT10eXBlb2YgZXx8cihlLG5bZV0sbil9KSk6bi5mb3JFYWNoKChmdW5jdGlvbih0LGUpe3JldHVybiByKGUsdCxuKX0pKX1mdW5jdGlvbiBvKG4pe3ZhciByPW5bUV07cmV0dXJuIHI/ci5pPjM/ci5pLTQ6ci5pOkFycmF5LmlzQXJyYXkobik/MTpzKG4pPzI6dihuKT8zOjB9ZnVuY3Rpb24gdShuLHIpe3JldHVybiAyPT09byhuKT9uLmhhcyhyKTpPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobixyKX1mdW5jdGlvbiBhKG4scil7cmV0dXJuIDI9PT1vKG4pP24uZ2V0KHIpOm5bcl19ZnVuY3Rpb24gZihuLHIsdCl7dmFyIGU9byhuKTsyPT09ZT9uLnNldChyLHQpOjM9PT1lP24uYWRkKHQpOm5bcl09dH1mdW5jdGlvbiBjKG4scil7cmV0dXJuIG49PT1yPzAhPT1ufHwxL249PTEvcjpuIT1uJiZyIT1yfWZ1bmN0aW9uIHMobil7cmV0dXJuIFgmJm4gaW5zdGFuY2VvZiBNYXB9ZnVuY3Rpb24gdihuKXtyZXR1cm4gcSYmbiBpbnN0YW5jZW9mIFNldH1mdW5jdGlvbiBwKG4pe3JldHVybiBuLm98fG4udH1mdW5jdGlvbiBsKG4pe2lmKEFycmF5LmlzQXJyYXkobikpcmV0dXJuIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKG4pO3ZhciByPXJuKG4pO2RlbGV0ZSByW1FdO2Zvcih2YXIgdD1ubihyKSxlPTA7ZTx0Lmxlbmd0aDtlKyspe3ZhciBpPXRbZV0sbz1yW2ldOyExPT09by53cml0YWJsZSYmKG8ud3JpdGFibGU9ITAsby5jb25maWd1cmFibGU9ITApLChvLmdldHx8by5zZXQpJiYocltpXT17Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLGVudW1lcmFibGU6by5lbnVtZXJhYmxlLHZhbHVlOm5baV19KX1yZXR1cm4gT2JqZWN0LmNyZWF0ZShPYmplY3QuZ2V0UHJvdG90eXBlT2Yobikscil9ZnVuY3Rpb24gZChuLGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT0hMSkseShuKXx8cihuKXx8IXQobil8fChvKG4pPjEmJihuLnNldD1uLmFkZD1uLmNsZWFyPW4uZGVsZXRlPWgpLE9iamVjdC5mcmVlemUobiksZSYmaShuLChmdW5jdGlvbihuLHIpe3JldHVybiBkKHIsITApfSksITApKSxufWZ1bmN0aW9uIGgoKXtuKDIpfWZ1bmN0aW9uIHkobil7cmV0dXJuIG51bGw9PW58fFwib2JqZWN0XCIhPXR5cGVvZiBufHxPYmplY3QuaXNGcm96ZW4obil9ZnVuY3Rpb24gYihyKXt2YXIgdD10bltyXTtyZXR1cm4gdHx8bigxOCxyKSx0fWZ1bmN0aW9uIG0obixyKXt0bltuXXx8KHRuW25dPXIpfWZ1bmN0aW9uIF8oKXtyZXR1cm5cInByb2R1Y3Rpb25cIj09PXByb2Nlc3MuZW52Lk5PREVfRU5WfHxVfHxuKDApLFV9ZnVuY3Rpb24gaihuLHIpe3ImJihiKFwiUGF0Y2hlc1wiKSxuLnU9W10sbi5zPVtdLG4udj1yKX1mdW5jdGlvbiBnKG4pe08obiksbi5wLmZvckVhY2goUyksbi5wPW51bGx9ZnVuY3Rpb24gTyhuKXtuPT09VSYmKFU9bi5sKX1mdW5jdGlvbiB3KG4pe3JldHVybiBVPXtwOltdLGw6VSxoOm4sbTohMCxfOjB9fWZ1bmN0aW9uIFMobil7dmFyIHI9bltRXTswPT09ci5pfHwxPT09ci5pP3IuaigpOnIuZz0hMH1mdW5jdGlvbiBQKHIsZSl7ZS5fPWUucC5sZW5ndGg7dmFyIGk9ZS5wWzBdLG89dm9pZCAwIT09ciYmciE9PWk7cmV0dXJuIGUuaC5PfHxiKFwiRVM1XCIpLlMoZSxyLG8pLG8/KGlbUV0uUCYmKGcoZSksbig0KSksdChyKSYmKHI9TShlLHIpLGUubHx8eChlLHIpKSxlLnUmJmIoXCJQYXRjaGVzXCIpLk0oaVtRXS50LHIsZS51LGUucykpOnI9TShlLGksW10pLGcoZSksZS51JiZlLnYoZS51LGUucyksciE9PUg/cjp2b2lkIDB9ZnVuY3Rpb24gTShuLHIsdCl7aWYoeShyKSlyZXR1cm4gcjt2YXIgZT1yW1FdO2lmKCFlKXJldHVybiBpKHIsKGZ1bmN0aW9uKGksbyl7cmV0dXJuIEEobixlLHIsaSxvLHQpfSksITApLHI7aWYoZS5BIT09bilyZXR1cm4gcjtpZighZS5QKXJldHVybiB4KG4sZS50LCEwKSxlLnQ7aWYoIWUuSSl7ZS5JPSEwLGUuQS5fLS07dmFyIG89ND09PWUuaXx8NT09PWUuaT9lLm89bChlLmspOmUubyx1PW8sYT0hMTszPT09ZS5pJiYodT1uZXcgU2V0KG8pLG8uY2xlYXIoKSxhPSEwKSxpKHUsKGZ1bmN0aW9uKHIsaSl7cmV0dXJuIEEobixlLG8scixpLHQsYSl9KSkseChuLG8sITEpLHQmJm4udSYmYihcIlBhdGNoZXNcIikuTihlLHQsbi51LG4ucyl9cmV0dXJuIGUub31mdW5jdGlvbiBBKGUsaSxvLGEsYyxzLHYpe2lmKFwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmM9PT1vJiZuKDUpLHIoYykpe3ZhciBwPU0oZSxjLHMmJmkmJjMhPT1pLmkmJiF1KGkuUixhKT9zLmNvbmNhdChhKTp2b2lkIDApO2lmKGYobyxhLHApLCFyKHApKXJldHVybjtlLm09ITF9ZWxzZSB2JiZvLmFkZChjKTtpZih0KGMpJiYheShjKSl7aWYoIWUuaC5EJiZlLl88MSlyZXR1cm47TShlLGMpLGkmJmkuQS5sfHx4KGUsYyl9fWZ1bmN0aW9uIHgobixyLHQpe3ZvaWQgMD09PXQmJih0PSExKSwhbi5sJiZuLmguRCYmbi5tJiZkKHIsdCl9ZnVuY3Rpb24geihuLHIpe3ZhciB0PW5bUV07cmV0dXJuKHQ/cCh0KTpuKVtyXX1mdW5jdGlvbiBJKG4scil7aWYociBpbiBuKWZvcih2YXIgdD1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik7dDspe3ZhciBlPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxyKTtpZihlKXJldHVybiBlO3Q9T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfX1mdW5jdGlvbiBrKG4pe24uUHx8KG4uUD0hMCxuLmwmJmsobi5sKSl9ZnVuY3Rpb24gRShuKXtuLm98fChuLm89bChuLnQpKX1mdW5jdGlvbiBOKG4scix0KXt2YXIgZT1zKHIpP2IoXCJNYXBTZXRcIikuRihyLHQpOnYocik/YihcIk1hcFNldFwiKS5UKHIsdCk6bi5PP2Z1bmN0aW9uKG4scil7dmFyIHQ9QXJyYXkuaXNBcnJheShuKSxlPXtpOnQ/MTowLEE6cj9yLkE6XygpLFA6ITEsSTohMSxSOnt9LGw6cix0Om4sazpudWxsLG86bnVsbCxqOm51bGwsQzohMX0saT1lLG89ZW47dCYmKGk9W2VdLG89b24pO3ZhciB1PVByb3h5LnJldm9jYWJsZShpLG8pLGE9dS5yZXZva2UsZj11LnByb3h5O3JldHVybiBlLms9ZixlLmo9YSxmfShyLHQpOmIoXCJFUzVcIikuSihyLHQpO3JldHVybih0P3QuQTpfKCkpLnAucHVzaChlKSxlfWZ1bmN0aW9uIFIoZSl7cmV0dXJuIHIoZSl8fG4oMjIsZSksZnVuY3Rpb24gbihyKXtpZighdChyKSlyZXR1cm4gcjt2YXIgZSx1PXJbUV0sYz1vKHIpO2lmKHUpe2lmKCF1LlAmJih1Lmk8NHx8IWIoXCJFUzVcIikuSyh1KSkpcmV0dXJuIHUudDt1Lkk9ITAsZT1EKHIsYyksdS5JPSExfWVsc2UgZT1EKHIsYyk7cmV0dXJuIGkoZSwoZnVuY3Rpb24ocix0KXt1JiZhKHUudCxyKT09PXR8fGYoZSxyLG4odCkpfSkpLDM9PT1jP25ldyBTZXQoZSk6ZX0oZSl9ZnVuY3Rpb24gRChuLHIpe3N3aXRjaChyKXtjYXNlIDI6cmV0dXJuIG5ldyBNYXAobik7Y2FzZSAzOnJldHVybiBBcnJheS5mcm9tKG4pfXJldHVybiBsKG4pfWZ1bmN0aW9uIEYoKXtmdW5jdGlvbiB0KG4scil7dmFyIHQ9c1tuXTtyZXR1cm4gdD90LmVudW1lcmFibGU9cjpzW25dPXQ9e2NvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOnIsZ2V0OmZ1bmN0aW9uKCl7dmFyIHI9dGhpc1tRXTtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZmKHIpLGVuLmdldChyLG4pfSxzZXQ6ZnVuY3Rpb24ocil7dmFyIHQ9dGhpc1tRXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZmKHQpLGVuLnNldCh0LG4scil9fSx0fWZ1bmN0aW9uIGUobil7Zm9yKHZhciByPW4ubGVuZ3RoLTE7cj49MDtyLS0pe3ZhciB0PW5bcl1bUV07aWYoIXQuUClzd2l0Y2godC5pKXtjYXNlIDU6YSh0KSYmayh0KTticmVhaztjYXNlIDQ6byh0KSYmayh0KX19fWZ1bmN0aW9uIG8obil7Zm9yKHZhciByPW4udCx0PW4uayxlPW5uKHQpLGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSl7dmFyIG89ZVtpXTtpZihvIT09USl7dmFyIGE9cltvXTtpZih2b2lkIDA9PT1hJiYhdShyLG8pKXJldHVybiEwO3ZhciBmPXRbb10scz1mJiZmW1FdO2lmKHM/cy50IT09YTohYyhmLGEpKXJldHVybiEwfX12YXIgdj0hIXJbUV07cmV0dXJuIGUubGVuZ3RoIT09bm4ocikubGVuZ3RoKyh2PzA6MSl9ZnVuY3Rpb24gYShuKXt2YXIgcj1uLms7aWYoci5sZW5ndGghPT1uLnQubGVuZ3RoKXJldHVybiEwO3ZhciB0PU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocixyLmxlbmd0aC0xKTtpZih0JiYhdC5nZXQpcmV0dXJuITA7Zm9yKHZhciBlPTA7ZTxyLmxlbmd0aDtlKyspaWYoIXIuaGFzT3duUHJvcGVydHkoZSkpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gZihyKXtyLmcmJm4oMyxKU09OLnN0cmluZ2lmeShwKHIpKSl9dmFyIHM9e307bShcIkVTNVwiLHtKOmZ1bmN0aW9uKG4scil7dmFyIGU9QXJyYXkuaXNBcnJheShuKSxpPWZ1bmN0aW9uKG4scil7aWYobil7Zm9yKHZhciBlPUFycmF5KHIubGVuZ3RoKSxpPTA7aTxyLmxlbmd0aDtpKyspT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJcIitpLHQoaSwhMCkpO3JldHVybiBlfXZhciBvPXJuKHIpO2RlbGV0ZSBvW1FdO2Zvcih2YXIgdT1ubihvKSxhPTA7YTx1Lmxlbmd0aDthKyspe3ZhciBmPXVbYV07b1tmXT10KGYsbnx8ISFvW2ZdLmVudW1lcmFibGUpfXJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihyKSxvKX0oZSxuKSxvPXtpOmU/NTo0LEE6cj9yLkE6XygpLFA6ITEsSTohMSxSOnt9LGw6cix0Om4sazppLG86bnVsbCxnOiExLEM6ITF9O3JldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoaSxRLHt2YWx1ZTpvLHdyaXRhYmxlOiEwfSksaX0sUzpmdW5jdGlvbihuLHQsbyl7bz9yKHQpJiZ0W1FdLkE9PT1uJiZlKG4ucCk6KG4udSYmZnVuY3Rpb24gbihyKXtpZihyJiZcIm9iamVjdFwiPT10eXBlb2Ygcil7dmFyIHQ9cltRXTtpZih0KXt2YXIgZT10LnQsbz10LmssZj10LlIsYz10Lmk7aWYoND09PWMpaShvLChmdW5jdGlvbihyKXtyIT09USYmKHZvaWQgMCE9PWVbcl18fHUoZSxyKT9mW3JdfHxuKG9bcl0pOihmW3JdPSEwLGsodCkpKX0pKSxpKGUsKGZ1bmN0aW9uKG4pe3ZvaWQgMCE9PW9bbl18fHUobyxuKXx8KGZbbl09ITEsayh0KSl9KSk7ZWxzZSBpZig1PT09Yyl7aWYoYSh0KSYmKGsodCksZi5sZW5ndGg9ITApLG8ubGVuZ3RoPGUubGVuZ3RoKWZvcih2YXIgcz1vLmxlbmd0aDtzPGUubGVuZ3RoO3MrKylmW3NdPSExO2Vsc2UgZm9yKHZhciB2PWUubGVuZ3RoO3Y8by5sZW5ndGg7disrKWZbdl09ITA7Zm9yKHZhciBwPU1hdGgubWluKG8ubGVuZ3RoLGUubGVuZ3RoKSxsPTA7bDxwO2wrKylvLmhhc093blByb3BlcnR5KGwpfHwoZltsXT0hMCksdm9pZCAwPT09ZltsXSYmbihvW2xdKX19fX0obi5wWzBdKSxlKG4ucCkpfSxLOmZ1bmN0aW9uKG4pe3JldHVybiA0PT09bi5pP28obik6YShuKX19KX1mdW5jdGlvbiBUKCl7ZnVuY3Rpb24gZShuKXtpZighdChuKSlyZXR1cm4gbjtpZihBcnJheS5pc0FycmF5KG4pKXJldHVybiBuLm1hcChlKTtpZihzKG4pKXJldHVybiBuZXcgTWFwKEFycmF5LmZyb20obi5lbnRyaWVzKCkpLm1hcCgoZnVuY3Rpb24obil7cmV0dXJuW25bMF0sZShuWzFdKV19KSkpO2lmKHYobikpcmV0dXJuIG5ldyBTZXQoQXJyYXkuZnJvbShuKS5tYXAoZSkpO3ZhciByPU9iamVjdC5jcmVhdGUoT2JqZWN0LmdldFByb3RvdHlwZU9mKG4pKTtmb3IodmFyIGkgaW4gbilyW2ldPWUobltpXSk7cmV0dXJuIHUobixMKSYmKHJbTF09bltMXSkscn1mdW5jdGlvbiBmKG4pe3JldHVybiByKG4pP2Uobik6bn12YXIgYz1cImFkZFwiO20oXCJQYXRjaGVzXCIseyQ6ZnVuY3Rpb24ocix0KXtyZXR1cm4gdC5mb3JFYWNoKChmdW5jdGlvbih0KXtmb3IodmFyIGk9dC5wYXRoLHU9dC5vcCxmPXIscz0wO3M8aS5sZW5ndGgtMTtzKyspe3ZhciB2PW8oZikscD1pW3NdO1wic3RyaW5nXCIhPXR5cGVvZiBwJiZcIm51bWJlclwiIT10eXBlb2YgcCYmKHA9XCJcIitwKSwwIT09diYmMSE9PXZ8fFwiX19wcm90b19fXCIhPT1wJiZcImNvbnN0cnVjdG9yXCIhPT1wfHxuKDI0KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBmJiZcInByb3RvdHlwZVwiPT09cCYmbigyNCksXCJvYmplY3RcIiE9dHlwZW9mKGY9YShmLHApKSYmbigxNSxpLmpvaW4oXCIvXCIpKX12YXIgbD1vKGYpLGQ9ZSh0LnZhbHVlKSxoPWlbaS5sZW5ndGgtMV07c3dpdGNoKHUpe2Nhc2VcInJlcGxhY2VcIjpzd2l0Y2gobCl7Y2FzZSAyOnJldHVybiBmLnNldChoLGQpO2Nhc2UgMzpuKDE2KTtkZWZhdWx0OnJldHVybiBmW2hdPWR9Y2FzZSBjOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuXCItXCI9PT1oP2YucHVzaChkKTpmLnNwbGljZShoLDAsZCk7Y2FzZSAyOnJldHVybiBmLnNldChoLGQpO2Nhc2UgMzpyZXR1cm4gZi5hZGQoZCk7ZGVmYXVsdDpyZXR1cm4gZltoXT1kfWNhc2VcInJlbW92ZVwiOnN3aXRjaChsKXtjYXNlIDE6cmV0dXJuIGYuc3BsaWNlKGgsMSk7Y2FzZSAyOnJldHVybiBmLmRlbGV0ZShoKTtjYXNlIDM6cmV0dXJuIGYuZGVsZXRlKHQudmFsdWUpO2RlZmF1bHQ6cmV0dXJuIGRlbGV0ZSBmW2hdfWRlZmF1bHQ6bigxNyx1KX19KSkscn0sTjpmdW5jdGlvbihuLHIsdCxlKXtzd2l0Y2gobi5pKXtjYXNlIDA6Y2FzZSA0OmNhc2UgMjpyZXR1cm4gZnVuY3Rpb24obixyLHQsZSl7dmFyIG89bi50LHM9bi5vO2kobi5SLChmdW5jdGlvbihuLGkpe3ZhciB2PWEobyxuKSxwPWEocyxuKSxsPWk/dShvLG4pP1wicmVwbGFjZVwiOmM6XCJyZW1vdmVcIjtpZih2IT09cHx8XCJyZXBsYWNlXCIhPT1sKXt2YXIgZD1yLmNvbmNhdChuKTt0LnB1c2goXCJyZW1vdmVcIj09PWw/e29wOmwscGF0aDpkfTp7b3A6bCxwYXRoOmQsdmFsdWU6cH0pLGUucHVzaChsPT09Yz97b3A6XCJyZW1vdmVcIixwYXRoOmR9OlwicmVtb3ZlXCI9PT1sP3tvcDpjLHBhdGg6ZCx2YWx1ZTpmKHYpfTp7b3A6XCJyZXBsYWNlXCIscGF0aDpkLHZhbHVlOmYodil9KX19KSl9KG4scix0LGUpO2Nhc2UgNTpjYXNlIDE6cmV0dXJuIGZ1bmN0aW9uKG4scix0LGUpe3ZhciBpPW4udCxvPW4uUix1PW4ubztpZih1Lmxlbmd0aDxpLmxlbmd0aCl7dmFyIGE9W3UsaV07aT1hWzBdLHU9YVsxXTt2YXIgcz1bZSx0XTt0PXNbMF0sZT1zWzFdfWZvcih2YXIgdj0wO3Y8aS5sZW5ndGg7disrKWlmKG9bdl0mJnVbdl0hPT1pW3ZdKXt2YXIgcD1yLmNvbmNhdChbdl0pO3QucHVzaCh7b3A6XCJyZXBsYWNlXCIscGF0aDpwLHZhbHVlOmYodVt2XSl9KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6cCx2YWx1ZTpmKGlbdl0pfSl9Zm9yKHZhciBsPWkubGVuZ3RoO2w8dS5sZW5ndGg7bCsrKXt2YXIgZD1yLmNvbmNhdChbbF0pO3QucHVzaCh7b3A6YyxwYXRoOmQsdmFsdWU6Zih1W2xdKX0pfWkubGVuZ3RoPHUubGVuZ3RoJiZlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6ci5jb25jYXQoW1wibGVuZ3RoXCJdKSx2YWx1ZTppLmxlbmd0aH0pfShuLHIsdCxlKTtjYXNlIDM6cmV0dXJuIGZ1bmN0aW9uKG4scix0LGUpe3ZhciBpPW4udCxvPW4ubyx1PTA7aS5mb3JFYWNoKChmdW5jdGlvbihuKXtpZighby5oYXMobikpe3ZhciBpPXIuY29uY2F0KFt1XSk7dC5wdXNoKHtvcDpcInJlbW92ZVwiLHBhdGg6aSx2YWx1ZTpufSksZS51bnNoaWZ0KHtvcDpjLHBhdGg6aSx2YWx1ZTpufSl9dSsrfSkpLHU9MCxvLmZvckVhY2goKGZ1bmN0aW9uKG4pe2lmKCFpLmhhcyhuKSl7dmFyIG89ci5jb25jYXQoW3VdKTt0LnB1c2goe29wOmMscGF0aDpvLHZhbHVlOm59KSxlLnVuc2hpZnQoe29wOlwicmVtb3ZlXCIscGF0aDpvLHZhbHVlOm59KX11Kyt9KSl9KG4scix0LGUpfX0sTTpmdW5jdGlvbihuLHIsdCxlKXt0LnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6cj09PUg/dm9pZCAwOnJ9KSxlLnB1c2goe29wOlwicmVwbGFjZVwiLHBhdGg6W10sdmFsdWU6bn0pfX0pfWZ1bmN0aW9uIEMoKXtmdW5jdGlvbiByKG4scil7ZnVuY3Rpb24gdCgpe3RoaXMuY29uc3RydWN0b3I9bn1hKG4sciksbi5wcm90b3R5cGU9KHQucHJvdG90eXBlPXIucHJvdG90eXBlLG5ldyB0KX1mdW5jdGlvbiBlKG4pe24ub3x8KG4uUj1uZXcgTWFwLG4ubz1uZXcgTWFwKG4udCkpfWZ1bmN0aW9uIG8obil7bi5vfHwobi5vPW5ldyBTZXQsbi50LmZvckVhY2goKGZ1bmN0aW9uKHIpe2lmKHQocikpe3ZhciBlPU4obi5BLmgscixuKTtuLnAuc2V0KHIsZSksbi5vLmFkZChlKX1lbHNlIG4uby5hZGQocil9KSkpfWZ1bmN0aW9uIHUocil7ci5nJiZuKDMsSlNPTi5zdHJpbmdpZnkocChyKSkpfXZhciBhPWZ1bmN0aW9uKG4scil7cmV0dXJuKGE9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKG4scil7bi5fX3Byb3RvX189cn18fGZ1bmN0aW9uKG4scil7Zm9yKHZhciB0IGluIHIpci5oYXNPd25Qcm9wZXJ0eSh0KSYmKG5bdF09clt0XSl9KShuLHIpfSxmPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gbihuLHIpe3JldHVybiB0aGlzW1FdPXtpOjIsbDpyLEE6cj9yLkE6XygpLFA6ITEsSTohMSxvOnZvaWQgMCxSOnZvaWQgMCx0Om4sazp0aGlzLEM6ITEsZzohMX0sdGhpc31yKG4sTWFwKTt2YXIgbz1uLnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLnNpemV9fSksby5oYXM9ZnVuY3Rpb24obil7cmV0dXJuIHAodGhpc1tRXSkuaGFzKG4pfSxvLnNldD1mdW5jdGlvbihuLHIpe3ZhciB0PXRoaXNbUV07cmV0dXJuIHUodCkscCh0KS5oYXMobikmJnAodCkuZ2V0KG4pPT09cnx8KGUodCksayh0KSx0LlIuc2V0KG4sITApLHQuby5zZXQobixyKSx0LlIuc2V0KG4sITApKSx0aGlzfSxvLmRlbGV0ZT1mdW5jdGlvbihuKXtpZighdGhpcy5oYXMobikpcmV0dXJuITE7dmFyIHI9dGhpc1tRXTtyZXR1cm4gdShyKSxlKHIpLGsociksci50LmhhcyhuKT9yLlIuc2V0KG4sITEpOnIuUi5kZWxldGUobiksci5vLmRlbGV0ZShuKSwhMH0sby5jbGVhcj1mdW5jdGlvbigpe3ZhciBuPXRoaXNbUV07dShuKSxwKG4pLnNpemUmJihlKG4pLGsobiksbi5SPW5ldyBNYXAsaShuLnQsKGZ1bmN0aW9uKHIpe24uUi5zZXQociwhMSl9KSksbi5vLmNsZWFyKCkpfSxvLmZvckVhY2g9ZnVuY3Rpb24obixyKXt2YXIgdD10aGlzO3AodGhpc1tRXSkuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXtuLmNhbGwocix0LmdldChpKSxpLHQpfSkpfSxvLmdldD1mdW5jdGlvbihuKXt2YXIgcj10aGlzW1FdO3Uocik7dmFyIGk9cChyKS5nZXQobik7aWYoci5JfHwhdChpKSlyZXR1cm4gaTtpZihpIT09ci50LmdldChuKSlyZXR1cm4gaTt2YXIgbz1OKHIuQS5oLGkscik7cmV0dXJuIGUociksci5vLnNldChuLG8pLG99LG8ua2V5cz1mdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLmtleXMoKX0sby52YWx1ZXM9ZnVuY3Rpb24oKXt2YXIgbixyPXRoaXMsdD10aGlzLmtleXMoKTtyZXR1cm4obj17fSlbVl09ZnVuY3Rpb24oKXtyZXR1cm4gci52YWx1ZXMoKX0sbi5uZXh0PWZ1bmN0aW9uKCl7dmFyIG49dC5uZXh0KCk7cmV0dXJuIG4uZG9uZT9uOntkb25lOiExLHZhbHVlOnIuZ2V0KG4udmFsdWUpfX0sbn0sby5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIG4scj10aGlzLHQ9dGhpcy5rZXlzKCk7cmV0dXJuKG49e30pW1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIHIuZW50cmllcygpfSxuLm5leHQ9ZnVuY3Rpb24oKXt2YXIgbj10Lm5leHQoKTtpZihuLmRvbmUpcmV0dXJuIG47dmFyIGU9ci5nZXQobi52YWx1ZSk7cmV0dXJue2RvbmU6ITEsdmFsdWU6W24udmFsdWUsZV19fSxufSxvW1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSxufSgpLGM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBuKG4scil7cmV0dXJuIHRoaXNbUV09e2k6MyxsOnIsQTpyP3IuQTpfKCksUDohMSxJOiExLG86dm9pZCAwLHQ6bixrOnRoaXMscDpuZXcgTWFwLGc6ITEsQzohMX0sdGhpc31yKG4sU2V0KTt2YXIgdD1uLnByb3RvdHlwZTtyZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJzaXplXCIse2dldDpmdW5jdGlvbigpe3JldHVybiBwKHRoaXNbUV0pLnNpemV9fSksdC5oYXM9ZnVuY3Rpb24obil7dmFyIHI9dGhpc1tRXTtyZXR1cm4gdShyKSxyLm8/ISFyLm8uaGFzKG4pfHwhKCFyLnAuaGFzKG4pfHwhci5vLmhhcyhyLnAuZ2V0KG4pKSk6ci50LmhhcyhuKX0sdC5hZGQ9ZnVuY3Rpb24obil7dmFyIHI9dGhpc1tRXTtyZXR1cm4gdShyKSx0aGlzLmhhcyhuKXx8KG8ociksayhyKSxyLm8uYWRkKG4pKSx0aGlzfSx0LmRlbGV0ZT1mdW5jdGlvbihuKXtpZighdGhpcy5oYXMobikpcmV0dXJuITE7dmFyIHI9dGhpc1tRXTtyZXR1cm4gdShyKSxvKHIpLGsociksci5vLmRlbGV0ZShuKXx8ISFyLnAuaGFzKG4pJiZyLm8uZGVsZXRlKHIucC5nZXQobikpfSx0LmNsZWFyPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTt1KG4pLHAobikuc2l6ZSYmKG8obiksayhuKSxuLm8uY2xlYXIoKSl9LHQudmFsdWVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSxvKG4pLG4uby52YWx1ZXMoKX0sdC5lbnRyaWVzPWZ1bmN0aW9uKCl7dmFyIG49dGhpc1tRXTtyZXR1cm4gdShuKSxvKG4pLG4uby5lbnRyaWVzKCl9LHQua2V5cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnZhbHVlcygpfSx0W1ZdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMudmFsdWVzKCl9LHQuZm9yRWFjaD1mdW5jdGlvbihuLHIpe2Zvcih2YXIgdD10aGlzLnZhbHVlcygpLGU9dC5uZXh0KCk7IWUuZG9uZTspbi5jYWxsKHIsZS52YWx1ZSxlLnZhbHVlLHRoaXMpLGU9dC5uZXh0KCl9LG59KCk7bShcIk1hcFNldFwiLHtGOmZ1bmN0aW9uKG4scil7cmV0dXJuIG5ldyBmKG4scil9LFQ6ZnVuY3Rpb24obixyKXtyZXR1cm4gbmV3IGMobixyKX19KX1mdW5jdGlvbiBKKCl7RigpLEMoKSxUKCl9ZnVuY3Rpb24gSyhuKXtyZXR1cm4gbn1mdW5jdGlvbiAkKG4pe3JldHVybiBufXZhciBHLFUsVz1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sKFwieFwiKSxYPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBNYXAscT1cInVuZGVmaW5lZFwiIT10eXBlb2YgU2V0LEI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb3h5JiZ2b2lkIDAhPT1Qcm94eS5yZXZvY2FibGUmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0LEg9Vz9TeW1ib2wuZm9yKFwiaW1tZXItbm90aGluZ1wiKTooKEc9e30pW1wiaW1tZXItbm90aGluZ1wiXT0hMCxHKSxMPVc/U3ltYm9sLmZvcihcImltbWVyLWRyYWZ0YWJsZVwiKTpcIl9fJGltbWVyX2RyYWZ0YWJsZVwiLFE9Vz9TeW1ib2wuZm9yKFwiaW1tZXItc3RhdGVcIik6XCJfXyRpbW1lcl9zdGF0ZVwiLFY9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixZPXswOlwiSWxsZWdhbCBzdGF0ZVwiLDE6XCJJbW1lciBkcmFmdHMgY2Fubm90IGhhdmUgY29tcHV0ZWQgcHJvcGVydGllc1wiLDI6XCJUaGlzIG9iamVjdCBoYXMgYmVlbiBmcm96ZW4gYW5kIHNob3VsZCBub3QgYmUgbXV0YXRlZFwiLDM6ZnVuY3Rpb24obil7cmV0dXJuXCJDYW5ub3QgdXNlIGEgcHJveHkgdGhhdCBoYXMgYmVlbiByZXZva2VkLiBEaWQgeW91IHBhc3MgYW4gb2JqZWN0IGZyb20gaW5zaWRlIGFuIGltbWVyIGZ1bmN0aW9uIHRvIGFuIGFzeW5jIHByb2Nlc3M/IFwiK259LDQ6XCJBbiBpbW1lciBwcm9kdWNlciByZXR1cm5lZCBhIG5ldyB2YWx1ZSAqYW5kKiBtb2RpZmllZCBpdHMgZHJhZnQuIEVpdGhlciByZXR1cm4gYSBuZXcgdmFsdWUgKm9yKiBtb2RpZnkgdGhlIGRyYWZ0LlwiLDU6XCJJbW1lciBmb3JiaWRzIGNpcmN1bGFyIHJlZmVyZW5jZXNcIiw2OlwiVGhlIGZpcnN0IG9yIHNlY29uZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uXCIsNzpcIlRoZSB0aGlyZCBhcmd1bWVudCB0byBgcHJvZHVjZWAgbXVzdCBiZSBhIGZ1bmN0aW9uIG9yIHVuZGVmaW5lZFwiLDg6XCJGaXJzdCBhcmd1bWVudCB0byBgY3JlYXRlRHJhZnRgIG11c3QgYmUgYSBwbGFpbiBvYmplY3QsIGFuIGFycmF5LCBvciBhbiBpbW1lcmFibGUgb2JqZWN0XCIsOTpcIkZpcnN0IGFyZ3VtZW50IHRvIGBmaW5pc2hEcmFmdGAgbXVzdCBiZSBhIGRyYWZ0IHJldHVybmVkIGJ5IGBjcmVhdGVEcmFmdGBcIiwxMDpcIlRoZSBnaXZlbiBkcmFmdCBpcyBhbHJlYWR5IGZpbmFsaXplZFwiLDExOlwiT2JqZWN0LmRlZmluZVByb3BlcnR5KCkgY2Fubm90IGJlIHVzZWQgb24gYW4gSW1tZXIgZHJhZnRcIiwxMjpcIk9iamVjdC5zZXRQcm90b3R5cGVPZigpIGNhbm5vdCBiZSB1c2VkIG9uIGFuIEltbWVyIGRyYWZ0XCIsMTM6XCJJbW1lciBvbmx5IHN1cHBvcnRzIGRlbGV0aW5nIGFycmF5IGluZGljZXNcIiwxNDpcIkltbWVyIG9ubHkgc3VwcG9ydHMgc2V0dGluZyBhcnJheSBpbmRpY2VzIGFuZCB0aGUgJ2xlbmd0aCcgcHJvcGVydHlcIiwxNTpmdW5jdGlvbihuKXtyZXR1cm5cIkNhbm5vdCBhcHBseSBwYXRjaCwgcGF0aCBkb2Vzbid0IHJlc29sdmU6IFwiK259LDE2OidTZXRzIGNhbm5vdCBoYXZlIFwicmVwbGFjZVwiIHBhdGNoZXMuJywxNzpmdW5jdGlvbihuKXtyZXR1cm5cIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIrbn0sMTg6ZnVuY3Rpb24obil7cmV0dXJuXCJUaGUgcGx1Z2luIGZvciAnXCIrbitcIicgaGFzIG5vdCBiZWVuIGxvYWRlZCBpbnRvIEltbWVyLiBUbyBlbmFibGUgdGhlIHBsdWdpbiwgaW1wb3J0IGFuZCBjYWxsIGBlbmFibGVcIituK1wiKClgIHdoZW4gaW5pdGlhbGl6aW5nIHlvdXIgYXBwbGljYXRpb24uXCJ9LDIwOlwiQ2Fubm90IHVzZSBwcm94aWVzIGlmIFByb3h5LCBQcm94eS5yZXZvY2FibGUgb3IgUmVmbGVjdCBhcmUgbm90IGF2YWlsYWJsZVwiLDIxOmZ1bmN0aW9uKG4pe3JldHVyblwicHJvZHVjZSBjYW4gb25seSBiZSBjYWxsZWQgb24gdGhpbmdzIHRoYXQgYXJlIGRyYWZ0YWJsZTogcGxhaW4gb2JqZWN0cywgYXJyYXlzLCBNYXAsIFNldCBvciBjbGFzc2VzIHRoYXQgYXJlIG1hcmtlZCB3aXRoICdbaW1tZXJhYmxlXTogdHJ1ZScuIEdvdCAnXCIrbitcIidcIn0sMjI6ZnVuY3Rpb24obil7cmV0dXJuXCInY3VycmVudCcgZXhwZWN0cyBhIGRyYWZ0LCBnb3Q6IFwiK259LDIzOmZ1bmN0aW9uKG4pe3JldHVyblwiJ29yaWdpbmFsJyBleHBlY3RzIGEgZHJhZnQsIGdvdDogXCIrbn0sMjQ6XCJQYXRjaGluZyByZXNlcnZlZCBhdHRyaWJ1dGVzIGxpa2UgX19wcm90b19fLCBwcm90b3R5cGUgYW5kIGNvbnN0cnVjdG9yIGlzIG5vdCBhbGxvd2VkXCJ9LFo9XCJcIitPYmplY3QucHJvdG90eXBlLmNvbnN0cnVjdG9yLG5uPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBSZWZsZWN0JiZSZWZsZWN0Lm93bktleXM/UmVmbGVjdC5vd25LZXlzOnZvaWQgMCE9PU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKG4pLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG4pKX06T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMscm49T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnN8fGZ1bmN0aW9uKG4pe3ZhciByPXt9O3JldHVybiBubihuKS5mb3JFYWNoKChmdW5jdGlvbih0KXtyW3RdPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobix0KX0pKSxyfSx0bj17fSxlbj17Z2V0OmZ1bmN0aW9uKG4scil7aWYocj09PVEpcmV0dXJuIG47dmFyIGU9cChuKTtpZighdShlLHIpKXJldHVybiBmdW5jdGlvbihuLHIsdCl7dmFyIGUsaT1JKHIsdCk7cmV0dXJuIGk/XCJ2YWx1ZVwiaW4gaT9pLnZhbHVlOm51bGw9PT0oZT1pLmdldCl8fHZvaWQgMD09PWU/dm9pZCAwOmUuY2FsbChuLmspOnZvaWQgMH0obixlLHIpO3ZhciBpPWVbcl07cmV0dXJuIG4uSXx8IXQoaSk/aTppPT09eihuLnQscik/KEUobiksbi5vW3JdPU4obi5BLmgsaSxuKSk6aX0saGFzOmZ1bmN0aW9uKG4scil7cmV0dXJuIHIgaW4gcChuKX0sb3duS2V5czpmdW5jdGlvbihuKXtyZXR1cm4gUmVmbGVjdC5vd25LZXlzKHAobikpfSxzZXQ6ZnVuY3Rpb24obixyLHQpe3ZhciBlPUkocChuKSxyKTtpZihudWxsPT1lP3ZvaWQgMDplLnNldClyZXR1cm4gZS5zZXQuY2FsbChuLmssdCksITA7aWYoIW4uUCl7dmFyIGk9eihwKG4pLHIpLG89bnVsbD09aT92b2lkIDA6aVtRXTtpZihvJiZvLnQ9PT10KXJldHVybiBuLm9bcl09dCxuLlJbcl09ITEsITA7aWYoYyh0LGkpJiYodm9pZCAwIT09dHx8dShuLnQscikpKXJldHVybiEwO0UobiksayhuKX1yZXR1cm4gbi5vW3JdPT09dCYmKHZvaWQgMCE9PXR8fHIgaW4gbi5vKXx8TnVtYmVyLmlzTmFOKHQpJiZOdW1iZXIuaXNOYU4obi5vW3JdKXx8KG4ub1tyXT10LG4uUltyXT0hMCksITB9LGRlbGV0ZVByb3BlcnR5OmZ1bmN0aW9uKG4scil7cmV0dXJuIHZvaWQgMCE9PXoobi50LHIpfHxyIGluIG4udD8obi5SW3JdPSExLEUobiksayhuKSk6ZGVsZXRlIG4uUltyXSxuLm8mJmRlbGV0ZSBuLm9bcl0sITB9LGdldE93blByb3BlcnR5RGVzY3JpcHRvcjpmdW5jdGlvbihuLHIpe3ZhciB0PXAobiksZT1SZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LHIpO3JldHVybiBlP3t3cml0YWJsZTohMCxjb25maWd1cmFibGU6MSE9PW4uaXx8XCJsZW5ndGhcIiE9PXIsZW51bWVyYWJsZTplLmVudW1lcmFibGUsdmFsdWU6dFtyXX06ZX0sZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oKXtuKDExKX0sZ2V0UHJvdG90eXBlT2Y6ZnVuY3Rpb24obil7cmV0dXJuIE9iamVjdC5nZXRQcm90b3R5cGVPZihuLnQpfSxzZXRQcm90b3R5cGVPZjpmdW5jdGlvbigpe24oMTIpfX0sb249e307aShlbiwoZnVuY3Rpb24obixyKXtvbltuXT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF09YXJndW1lbnRzWzBdWzBdLHIuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0pKSxvbi5kZWxldGVQcm9wZXJ0eT1mdW5jdGlvbihyLHQpe3JldHVyblwicHJvZHVjdGlvblwiIT09cHJvY2Vzcy5lbnYuTk9ERV9FTlYmJmlzTmFOKHBhcnNlSW50KHQpKSYmbigxMyksb24uc2V0LmNhbGwodGhpcyxyLHQsdm9pZCAwKX0sb24uc2V0PWZ1bmN0aW9uKHIsdCxlKXtyZXR1cm5cInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiZcImxlbmd0aFwiIT09dCYmaXNOYU4ocGFyc2VJbnQodCkpJiZuKDE0KSxlbi5zZXQuY2FsbCh0aGlzLHJbMF0sdCxlLHJbMF0pfTt2YXIgdW49ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHIpe3ZhciBlPXRoaXM7dGhpcy5PPUIsdGhpcy5EPSEwLHRoaXMucHJvZHVjZT1mdW5jdGlvbihyLGksbyl7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgciYmXCJmdW5jdGlvblwiIT10eXBlb2YgaSl7dmFyIHU9aTtpPXI7dmFyIGE9ZTtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9dGhpczt2b2lkIDA9PT1uJiYobj11KTtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxlPUFycmF5KHQ+MT90LTE6MCksbz0xO288dDtvKyspZVtvLTFdPWFyZ3VtZW50c1tvXTtyZXR1cm4gYS5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3ZhciB0O3JldHVybih0PWkpLmNhbGwuYXBwbHkodCxbcixuXS5jb25jYXQoZSkpfSkpfX12YXIgZjtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBpJiZuKDYpLHZvaWQgMCE9PW8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIG8mJm4oNyksdChyKSl7dmFyIGM9dyhlKSxzPU4oZSxyLHZvaWQgMCksdj0hMDt0cnl7Zj1pKHMpLHY9ITF9ZmluYWxseXt2P2coYyk6TyhjKX1yZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmZiBpbnN0YW5jZW9mIFByb21pc2U/Zi50aGVuKChmdW5jdGlvbihuKXtyZXR1cm4gaihjLG8pLFAobixjKX0pLChmdW5jdGlvbihuKXt0aHJvdyBnKGMpLG59KSk6KGooYyxvKSxQKGYsYykpfWlmKCFyfHxcIm9iamVjdFwiIT10eXBlb2Ygcil7aWYodm9pZCAwPT09KGY9aShyKSkmJihmPXIpLGY9PT1IJiYoZj12b2lkIDApLGUuRCYmZChmLCEwKSxvKXt2YXIgcD1bXSxsPVtdO2IoXCJQYXRjaGVzXCIpLk0ocixmLHAsbCksbyhwLGwpfXJldHVybiBmfW4oMjEscil9LHRoaXMucHJvZHVjZVdpdGhQYXRjaGVzPWZ1bmN0aW9uKG4scil7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgbilyZXR1cm4gZnVuY3Rpb24ocil7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1BcnJheSh0PjE/dC0xOjApLG89MTtvPHQ7bysrKWlbby0xXT1hcmd1bWVudHNbb107cmV0dXJuIGUucHJvZHVjZVdpdGhQYXRjaGVzKHIsKGZ1bmN0aW9uKHIpe3JldHVybiBuLmFwcGx5KHZvaWQgMCxbcl0uY29uY2F0KGkpKX0pKX07dmFyIHQsaSxvPWUucHJvZHVjZShuLHIsKGZ1bmN0aW9uKG4scil7dD1uLGk9cn0pKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZSYmbyBpbnN0YW5jZW9mIFByb21pc2U/by50aGVuKChmdW5jdGlvbihuKXtyZXR1cm5bbix0LGldfSkpOltvLHQsaV19LFwiYm9vbGVhblwiPT10eXBlb2YobnVsbD09cj92b2lkIDA6ci51c2VQcm94aWVzKSYmdGhpcy5zZXRVc2VQcm94aWVzKHIudXNlUHJveGllcyksXCJib29sZWFuXCI9PXR5cGVvZihudWxsPT1yP3ZvaWQgMDpyLmF1dG9GcmVlemUpJiZ0aGlzLnNldEF1dG9GcmVlemUoci5hdXRvRnJlZXplKX12YXIgaT1lLnByb3RvdHlwZTtyZXR1cm4gaS5jcmVhdGVEcmFmdD1mdW5jdGlvbihlKXt0KGUpfHxuKDgpLHIoZSkmJihlPVIoZSkpO3ZhciBpPXcodGhpcyksbz1OKHRoaXMsZSx2b2lkIDApO3JldHVybiBvW1FdLkM9ITAsTyhpKSxvfSxpLmZpbmlzaERyYWZ0PWZ1bmN0aW9uKHIsdCl7dmFyIGU9ciYmcltRXTtcInByb2R1Y3Rpb25cIiE9PXByb2Nlc3MuZW52Lk5PREVfRU5WJiYoZSYmZS5DfHxuKDkpLGUuSSYmbigxMCkpO3ZhciBpPWUuQTtyZXR1cm4gaihpLHQpLFAodm9pZCAwLGkpfSxpLnNldEF1dG9GcmVlemU9ZnVuY3Rpb24obil7dGhpcy5EPW59LGkuc2V0VXNlUHJveGllcz1mdW5jdGlvbihyKXtyJiYhQiYmbigyMCksdGhpcy5PPXJ9LGkuYXBwbHlQYXRjaGVzPWZ1bmN0aW9uKG4sdCl7dmFyIGU7Zm9yKGU9dC5sZW5ndGgtMTtlPj0wO2UtLSl7dmFyIGk9dFtlXTtpZigwPT09aS5wYXRoLmxlbmd0aCYmXCJyZXBsYWNlXCI9PT1pLm9wKXtuPWkudmFsdWU7YnJlYWt9fWU+LTEmJih0PXQuc2xpY2UoZSsxKSk7dmFyIG89YihcIlBhdGNoZXNcIikuJDtyZXR1cm4gcihuKT9vKG4sdCk6dGhpcy5wcm9kdWNlKG4sKGZ1bmN0aW9uKG4pe3JldHVybiBvKG4sdCl9KSl9LGV9KCksYW49bmV3IHVuLGZuPWFuLnByb2R1Y2UsY249YW4ucHJvZHVjZVdpdGhQYXRjaGVzLmJpbmQoYW4pLHNuPWFuLnNldEF1dG9GcmVlemUuYmluZChhbiksdm49YW4uc2V0VXNlUHJveGllcy5iaW5kKGFuKSxwbj1hbi5hcHBseVBhdGNoZXMuYmluZChhbiksbG49YW4uY3JlYXRlRHJhZnQuYmluZChhbiksZG49YW4uZmluaXNoRHJhZnQuYmluZChhbik7ZXhwb3J0IGRlZmF1bHQgZm47ZXhwb3J0e3VuIGFzIEltbWVyLHBuIGFzIGFwcGx5UGF0Y2hlcyxLIGFzIGNhc3REcmFmdCwkIGFzIGNhc3RJbW11dGFibGUsbG4gYXMgY3JlYXRlRHJhZnQsUiBhcyBjdXJyZW50LEogYXMgZW5hYmxlQWxsUGx1Z2lucyxGIGFzIGVuYWJsZUVTNSxDIGFzIGVuYWJsZU1hcFNldCxUIGFzIGVuYWJsZVBhdGNoZXMsZG4gYXMgZmluaXNoRHJhZnQsZCBhcyBmcmVlemUsTCBhcyBpbW1lcmFibGUsciBhcyBpc0RyYWZ0LHQgYXMgaXNEcmFmdGFibGUsSCBhcyBub3RoaW5nLGUgYXMgb3JpZ2luYWwsZm4gYXMgcHJvZHVjZSxjbiBhcyBwcm9kdWNlV2l0aFBhdGNoZXMsc24gYXMgc2V0QXV0b0ZyZWV6ZSx2biBhcyBzZXRVc2VQcm94aWVzfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWltbWVyLmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/immer/dist/immer.esm.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/is-plain-object/dist/is-plain-object.mjs":
/*!***************************************************************!*\
  !*** ./node_modules/is-plain-object/dist/is-plain-object.mjs ***!
  \***************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isPlainObject: function() { return /* binding */ isPlainObject; }\n/* harmony export */ });\n/*!\n * is-plain-object <https://github.com/jonschlinkert/is-plain-object>\n *\n * Copyright (c) 2014-2017, Jon Schlinkert.\n * Released under the MIT License.\n */\n\nfunction isObject(o) {\n  return Object.prototype.toString.call(o) === '[object Object]';\n}\n\nfunction isPlainObject(o) {\n  var ctor,prot;\n\n  if (isObject(o) === false) return false;\n\n  // If has modified constructor\n  ctor = o.constructor;\n  if (ctor === undefined) return true;\n\n  // If has modified prototype\n  prot = ctor.prototype;\n  if (isObject(prot) === false) return false;\n\n  // If constructor does not have an Object-specific method\n  if (prot.hasOwnProperty('isPrototypeOf') === false) {\n    return false;\n  }\n\n  // Most likely a plain Object\n  return true;\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9pcy1wbGFpbi1vYmplY3QvZGlzdC9pcy1wbGFpbi1vYmplY3QubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRXlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9pcy1wbGFpbi1vYmplY3QvZGlzdC9pcy1wbGFpbi1vYmplY3QubWpzPzZmYzAiXSwic291cmNlc0NvbnRlbnQiOlsiLyohXG4gKiBpcy1wbGFpbi1vYmplY3QgPGh0dHBzOi8vZ2l0aHViLmNvbS9qb25zY2hsaW5rZXJ0L2lzLXBsYWluLW9iamVjdD5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTQtMjAxNywgSm9uIFNjaGxpbmtlcnQuXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuZnVuY3Rpb24gaXNPYmplY3Qobykge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG8pID09PSAnW29iamVjdCBPYmplY3RdJztcbn1cblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gIHZhciBjdG9yLHByb3Q7XG5cbiAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSkgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIGhhcyBtb2RpZmllZCBjb25zdHJ1Y3RvclxuICBjdG9yID0gby5jb25zdHJ1Y3RvcjtcbiAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZCkgcmV0dXJuIHRydWU7XG5cbiAgLy8gSWYgaGFzIG1vZGlmaWVkIHByb3RvdHlwZVxuICBwcm90ID0gY3Rvci5wcm90b3R5cGU7XG4gIGlmIChpc09iamVjdChwcm90KSA9PT0gZmFsc2UpIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiBjb25zdHJ1Y3RvciBkb2VzIG5vdCBoYXZlIGFuIE9iamVjdC1zcGVjaWZpYyBtZXRob2RcbiAgaWYgKHByb3QuaGFzT3duUHJvcGVydHkoJ2lzUHJvdG90eXBlT2YnKSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvLyBNb3N0IGxpa2VseSBhIHBsYWluIE9iamVjdFxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZXhwb3J0IHsgaXNQbGFpbk9iamVjdCB9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/is-plain-object/dist/is-plain-object.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/react-virtuoso/dist/index.mjs":
/*!****************************************************!*\
  !*** ./node_modules/react-virtuoso/dist/index.mjs ***!
  \****************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GroupedVirtuoso: function() { return /* binding */ GroupedVirtuoso; },\n/* harmony export */   LogLevel: function() { return /* binding */ LogLevel; },\n/* harmony export */   TableVirtuoso: function() { return /* binding */ TableVirtuoso; },\n/* harmony export */   Virtuoso: function() { return /* binding */ Virtuoso; },\n/* harmony export */   VirtuosoGrid: function() { return /* binding */ VirtuosoGrid; },\n/* harmony export */   VirtuosoGridMockContext: function() { return /* binding */ VirtuosoGridMockContext; },\n/* harmony export */   VirtuosoMockContext: function() { return /* binding */ VirtuosoMockContext; }\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react-dom/index.js\");\n\n\nconst PUBLISH = 0;\nconst SUBSCRIBE = 1;\nconst RESET = 2;\nconst VALUE = 4;\nfunction compose(a, b) {\n  return (arg) => a(b(arg));\n}\nfunction thrush(arg, proc) {\n  return proc(arg);\n}\nfunction curry2to1(proc, arg1) {\n  return (arg2) => proc(arg1, arg2);\n}\nfunction curry1to0(proc, arg) {\n  return () => proc(arg);\n}\nfunction tap(arg, proc) {\n  proc(arg);\n  return arg;\n}\nfunction tup(...args) {\n  return args;\n}\nfunction call(proc) {\n  proc();\n}\nfunction always(value) {\n  return () => value;\n}\nfunction joinProc(...procs) {\n  return () => {\n    procs.map(call);\n  };\n}\nfunction isDefined(arg) {\n  return arg !== void 0;\n}\nfunction noop() {\n}\nfunction subscribe(emitter, subscription) {\n  return emitter(SUBSCRIBE, subscription);\n}\nfunction publish(publisher, value) {\n  publisher(PUBLISH, value);\n}\nfunction reset(emitter) {\n  emitter(RESET);\n}\nfunction getValue(depot) {\n  return depot(VALUE);\n}\nfunction connect(emitter, publisher) {\n  return subscribe(emitter, curry2to1(publisher, PUBLISH));\n}\nfunction handleNext(emitter, subscription) {\n  const unsub = emitter(SUBSCRIBE, (value) => {\n    unsub();\n    subscription(value);\n  });\n  return unsub;\n}\nfunction stream() {\n  const subscriptions = [];\n  return (action, arg) => {\n    switch (action) {\n      case RESET:\n        subscriptions.splice(0, subscriptions.length);\n        return;\n      case SUBSCRIBE:\n        subscriptions.push(arg);\n        return () => {\n          const indexOf = subscriptions.indexOf(arg);\n          if (indexOf > -1) {\n            subscriptions.splice(indexOf, 1);\n          }\n        };\n      case PUBLISH:\n        subscriptions.slice().forEach((subscription) => {\n          subscription(arg);\n        });\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction statefulStream(initial) {\n  let value = initial;\n  const innerSubject = stream();\n  return (action, arg) => {\n    switch (action) {\n      case SUBSCRIBE:\n        const subscription = arg;\n        subscription(value);\n        break;\n      case PUBLISH:\n        value = arg;\n        break;\n      case VALUE:\n        return value;\n    }\n    return innerSubject(action, arg);\n  };\n}\nfunction eventHandler(emitter) {\n  let unsub;\n  let currentSubscription;\n  const cleanup = () => unsub && unsub();\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (subscription) {\n          if (currentSubscription === subscription) {\n            return;\n          }\n          cleanup();\n          currentSubscription = subscription;\n          unsub = subscribe(emitter, subscription);\n          return unsub;\n        } else {\n          cleanup();\n          return noop;\n        }\n      case RESET:\n        cleanup();\n        currentSubscription = null;\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction streamFromEmitter(emitter) {\n  return tap(stream(), (stream2) => connect(emitter, stream2));\n}\nfunction statefulStreamFromEmitter(emitter, initial) {\n  return tap(statefulStream(initial), (stream2) => connect(emitter, stream2));\n}\nfunction combineOperators(...operators) {\n  return (subscriber) => {\n    return operators.reduceRight(thrush, subscriber);\n  };\n}\nfunction pipe(source, ...operators) {\n  const project = combineOperators(...operators);\n  return (action, subscription) => {\n    switch (action) {\n      case SUBSCRIBE:\n        return subscribe(source, project(subscription));\n      case RESET:\n        reset(source);\n        return;\n    }\n  };\n}\nfunction defaultComparator(previous, next) {\n  return previous === next;\n}\nfunction distinctUntilChanged(comparator = defaultComparator) {\n  let current;\n  return (done) => (next) => {\n    if (!comparator(current, next)) {\n      current = next;\n      done(next);\n    }\n  };\n}\nfunction filter(predicate) {\n  return (done) => (value) => {\n    predicate(value) && done(value);\n  };\n}\nfunction map(project) {\n  return (done) => compose(done, project);\n}\nfunction mapTo(value) {\n  return (done) => () => done(value);\n}\nfunction scan(scanner, initial) {\n  return (done) => (value) => done(initial = scanner(initial, value));\n}\nfunction skip(times) {\n  return (done) => (value) => {\n    times > 0 ? times-- : done(value);\n  };\n}\nfunction throttleTime(interval) {\n  let currentValue = null;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      return;\n    }\n    timeout = setTimeout(() => {\n      timeout = void 0;\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction debounceTime(interval) {\n  let currentValue;\n  let timeout;\n  return (done) => (value) => {\n    currentValue = value;\n    if (timeout) {\n      clearTimeout(timeout);\n    }\n    timeout = setTimeout(() => {\n      done(currentValue);\n    }, interval);\n  };\n}\nfunction withLatestFrom(...sources) {\n  const values = new Array(sources.length);\n  let called = 0;\n  let pendingCall = null;\n  const allCalled = Math.pow(2, sources.length) - 1;\n  sources.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      const prevCalled = called;\n      called = called | bit;\n      values[index] = value;\n      if (prevCalled !== allCalled && called === allCalled && pendingCall) {\n        pendingCall();\n        pendingCall = null;\n      }\n    });\n  });\n  return (done) => (value) => {\n    const call2 = () => done([value].concat(values));\n    if (called === allCalled) {\n      call2();\n    } else {\n      pendingCall = call2;\n    }\n  };\n}\nfunction merge(...sources) {\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        return joinProc(...sources.map((source) => subscribe(source, subscription)));\n      case RESET:\n        return;\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction duc(source, comparator = defaultComparator) {\n  return pipe(source, distinctUntilChanged(comparator));\n}\nfunction combineLatest(...emitters) {\n  const innerSubject = stream();\n  const values = new Array(emitters.length);\n  let called = 0;\n  const allCalled = Math.pow(2, emitters.length) - 1;\n  emitters.forEach((source, index) => {\n    const bit = Math.pow(2, index);\n    subscribe(source, (value) => {\n      values[index] = value;\n      called = called | bit;\n      if (called === allCalled) {\n        publish(innerSubject, values);\n      }\n    });\n  });\n  return function(action, subscription) {\n    switch (action) {\n      case SUBSCRIBE:\n        if (called === allCalled) {\n          subscription(values);\n        }\n        return subscribe(innerSubject, subscription);\n      case RESET:\n        return reset(innerSubject);\n      default:\n        throw new Error(`unrecognized action ${action}`);\n    }\n  };\n}\nfunction system(constructor, dependencies = [], { singleton } = { singleton: true }) {\n  return {\n    id: id(),\n    constructor,\n    dependencies,\n    singleton\n  };\n}\nconst id = () => Symbol();\nfunction init(systemSpec) {\n  const singletons = /* @__PURE__ */ new Map();\n  const _init = ({ id: id2, constructor, dependencies, singleton }) => {\n    if (singleton && singletons.has(id2)) {\n      return singletons.get(id2);\n    }\n    const system2 = constructor(dependencies.map((e) => _init(e)));\n    if (singleton) {\n      singletons.set(id2, system2);\n    }\n    return system2;\n  };\n  return _init(systemSpec);\n}\nfunction omit(keys, obj) {\n  const result = {};\n  const index = {};\n  let idx = 0;\n  const len = keys.length;\n  while (idx < len) {\n    index[keys[idx]] = 1;\n    idx += 1;\n  }\n  for (const prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n  return result;\n}\nconst useIsomorphicLayoutEffect$2 = typeof document !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nfunction systemToComponent(systemSpec, map2, Root) {\n  const requiredPropNames = Object.keys(map2.required || {});\n  const optionalPropNames = Object.keys(map2.optional || {});\n  const methodNames = Object.keys(map2.methods || {});\n  const eventNames = Object.keys(map2.events || {});\n  const Context = react__WEBPACK_IMPORTED_MODULE_0__.createContext({});\n  function applyPropsToSystem(system2, props) {\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], false);\n    }\n    for (const requiredPropName of requiredPropNames) {\n      const stream2 = system2[map2.required[requiredPropName]];\n      publish(stream2, props[requiredPropName]);\n    }\n    for (const optionalPropName of optionalPropNames) {\n      if (optionalPropName in props) {\n        const stream2 = system2[map2.optional[optionalPropName]];\n        publish(stream2, props[optionalPropName]);\n      }\n    }\n    if (system2[\"propsReady\"]) {\n      publish(system2[\"propsReady\"], true);\n    }\n  }\n  function buildMethods(system2) {\n    return methodNames.reduce((acc, methodName) => {\n      acc[methodName] = (value) => {\n        const stream2 = system2[map2.methods[methodName]];\n        publish(stream2, value);\n      };\n      return acc;\n    }, {});\n  }\n  function buildEventHandlers(system2) {\n    return eventNames.reduce((handlers, eventName) => {\n      handlers[eventName] = eventHandler(system2[map2.events[eventName]]);\n      return handlers;\n    }, {});\n  }\n  const Component = react__WEBPACK_IMPORTED_MODULE_0__.forwardRef((propsWithChildren, ref) => {\n    const { children, ...props } = propsWithChildren;\n    const [system2] = react__WEBPACK_IMPORTED_MODULE_0__.useState(() => {\n      return tap(init(systemSpec), (system22) => applyPropsToSystem(system22, props));\n    });\n    const [handlers] = react__WEBPACK_IMPORTED_MODULE_0__.useState(curry1to0(buildEventHandlers, system2));\n    useIsomorphicLayoutEffect$2(() => {\n      for (const eventName of eventNames) {\n        if (eventName in props) {\n          subscribe(handlers[eventName], props[eventName]);\n        }\n      }\n      return () => {\n        Object.values(handlers).map(reset);\n      };\n    }, [props, handlers, system2]);\n    useIsomorphicLayoutEffect$2(() => {\n      applyPropsToSystem(system2, props);\n    });\n    react__WEBPACK_IMPORTED_MODULE_0__.useImperativeHandle(ref, always(buildMethods(system2)));\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      Context.Provider,\n      { value: system2 },\n      Root ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        Root,\n        omit([...requiredPropNames, ...optionalPropNames, ...eventNames], props),\n        children\n      ) : children\n    );\n  });\n  const usePublisher2 = (key) => {\n    return react__WEBPACK_IMPORTED_MODULE_0__.useCallback(curry2to1(publish, react__WEBPACK_IMPORTED_MODULE_0__.useContext(Context)[key]), [key]);\n  };\n  const useEmitterValue18 = (key) => {\n    const system2 = react__WEBPACK_IMPORTED_MODULE_0__.useContext(Context);\n    const source = system2[key];\n    const cb = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n      (c) => {\n        return subscribe(source, c);\n      },\n      [source]\n    );\n    return react__WEBPACK_IMPORTED_MODULE_0__.useSyncExternalStore(\n      cb,\n      () => getValue(source),\n      () => getValue(source)\n    );\n  };\n  const useEmitterValueLegacy = (key) => {\n    const system2 = react__WEBPACK_IMPORTED_MODULE_0__.useContext(Context);\n    const source = system2[key];\n    const [value, setValue] = react__WEBPACK_IMPORTED_MODULE_0__.useState(curry1to0(getValue, source));\n    useIsomorphicLayoutEffect$2(\n      () => subscribe(source, (next) => {\n        if (next !== value) {\n          setValue(always(next));\n        }\n      }),\n      [source, value]\n    );\n    return value;\n  };\n  const useEmitterValue2 = react__WEBPACK_IMPORTED_MODULE_0__.version.startsWith(\"18\") ? useEmitterValue18 : useEmitterValueLegacy;\n  const useEmitter2 = (key, callback) => {\n    const context = react__WEBPACK_IMPORTED_MODULE_0__.useContext(Context);\n    const source = context[key];\n    useIsomorphicLayoutEffect$2(() => subscribe(source, callback), [callback, source]);\n  };\n  return {\n    Component,\n    usePublisher: usePublisher2,\n    useEmitterValue: useEmitterValue2,\n    useEmitter: useEmitter2\n  };\n}\nconst useIsomorphicLayoutEffect = typeof document !== \"undefined\" ? react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_0__.useEffect;\nconst useIsomorphicLayoutEffect$1 = useIsomorphicLayoutEffect;\nvar LogLevel = /* @__PURE__ */ ((LogLevel2) => {\n  LogLevel2[LogLevel2[\"DEBUG\"] = 0] = \"DEBUG\";\n  LogLevel2[LogLevel2[\"INFO\"] = 1] = \"INFO\";\n  LogLevel2[LogLevel2[\"WARN\"] = 2] = \"WARN\";\n  LogLevel2[LogLevel2[\"ERROR\"] = 3] = \"ERROR\";\n  return LogLevel2;\n})(LogLevel || {});\nconst CONSOLE_METHOD_MAP = {\n  [\n    0\n    /* DEBUG */\n  ]: \"debug\",\n  [\n    1\n    /* INFO */\n  ]: \"log\",\n  [\n    2\n    /* WARN */\n  ]: \"warn\",\n  [\n    3\n    /* ERROR */\n  ]: \"error\"\n};\nconst getGlobalThis = () => typeof globalThis === \"undefined\" ? window : globalThis;\nconst loggerSystem = system(\n  () => {\n    const logLevel = statefulStream(\n      3\n      /* ERROR */\n    );\n    const log = statefulStream((label, message, level = 1) => {\n      var _a;\n      const currentLevel = (_a = getGlobalThis()[\"VIRTUOSO_LOG_LEVEL\"]) != null ? _a : getValue(logLevel);\n      if (level >= currentLevel) {\n        console[CONSOLE_METHOD_MAP[level]](\n          \"%creact-virtuoso: %c%s %o\",\n          \"color: #0253b3; font-weight: bold\",\n          \"color: initial\",\n          label,\n          message\n        );\n      }\n    });\n    return {\n      log,\n      logLevel\n    };\n  },\n  [],\n  { singleton: true }\n);\nfunction useSizeWithElRef(callback, enabled = true) {\n  const ref = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  let callbackRef = (_el) => {\n  };\n  if (typeof ResizeObserver !== \"undefined\") {\n    const observer = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n      return new ResizeObserver((entries) => {\n        const element = entries[0].target;\n        if (element.offsetParent !== null) {\n          requestAnimationFrame(() => {\n            callback(element);\n          });\n        }\n      });\n    }, [callback]);\n    callbackRef = (elRef) => {\n      if (elRef && enabled) {\n        observer.observe(elRef);\n        ref.current = elRef;\n      } else {\n        if (ref.current) {\n          observer.unobserve(ref.current);\n        }\n        ref.current = null;\n      }\n    };\n  }\n  return { ref, callbackRef };\n}\nfunction useSize(callback, enabled = true) {\n  return useSizeWithElRef(callback, enabled).callbackRef;\n}\nfunction useChangedListContentsSizes(callback, itemSize, enabled, scrollContainerStateCallback, log, gap, customScrollParent) {\n  const memoedCallback = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (el) => {\n      const ranges = getChangedChildSizes(el.children, itemSize, \"offsetHeight\", log);\n      let scrollableElement = el.parentElement;\n      while (!scrollableElement.dataset[\"virtuosoScroller\"]) {\n        scrollableElement = scrollableElement.parentElement;\n      }\n      const windowScrolling = scrollableElement.lastElementChild.dataset[\"viewportType\"] === \"window\";\n      const scrollTop = customScrollParent ? customScrollParent.scrollTop : windowScrolling ? window.pageYOffset || document.documentElement.scrollTop : scrollableElement.scrollTop;\n      const scrollHeight = customScrollParent ? customScrollParent.scrollHeight : windowScrolling ? document.documentElement.scrollHeight : scrollableElement.scrollHeight;\n      const viewportHeight = customScrollParent ? customScrollParent.offsetHeight : windowScrolling ? window.innerHeight : scrollableElement.offsetHeight;\n      scrollContainerStateCallback({\n        scrollTop: Math.max(scrollTop, 0),\n        scrollHeight,\n        viewportHeight\n      });\n      gap == null ? void 0 : gap(resolveGapValue$1(\"row-gap\", getComputedStyle(el).rowGap, log));\n      if (ranges !== null) {\n        callback(ranges);\n      }\n    },\n    [callback, itemSize, log, gap, customScrollParent, scrollContainerStateCallback]\n  );\n  return useSizeWithElRef(memoedCallback, enabled);\n}\nfunction getChangedChildSizes(children, itemSize, field, log) {\n  const length = children.length;\n  if (length === 0) {\n    return null;\n  }\n  const results = [];\n  for (let i = 0; i < length; i++) {\n    const child = children.item(i);\n    if (!child || child.dataset.index === void 0) {\n      continue;\n    }\n    const index = parseInt(child.dataset.index);\n    const knownSize = parseFloat(child.dataset.knownSize);\n    const size = itemSize(child, field);\n    if (size === 0) {\n      log(\"Zero-sized element, this should not happen\", { child }, LogLevel.ERROR);\n    }\n    if (size === knownSize) {\n      continue;\n    }\n    const lastResult = results[results.length - 1];\n    if (results.length === 0 || lastResult.size !== size || lastResult.endIndex !== index - 1) {\n      results.push({ startIndex: index, endIndex: index, size });\n    } else {\n      results[results.length - 1].endIndex++;\n    }\n  }\n  return results;\n}\nfunction resolveGapValue$1(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nfunction correctItemSize(el, dimension) {\n  return Math.round(el.getBoundingClientRect()[dimension]);\n}\nfunction approximatelyEqual(num1, num2) {\n  return Math.abs(num1 - num2) < 1.01;\n}\nfunction useScrollTop(scrollContainerStateCallback, smoothScrollTargetReached, scrollerElement, scrollerRefCallback = noop, customScrollParent) {\n  const scrollerRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const scrollTopTarget = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const timeoutRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const handler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (ev) => {\n      const el = ev.target;\n      const windowScroll = el === window || el === document;\n      const scrollTop = windowScroll ? window.pageYOffset || document.documentElement.scrollTop : el.scrollTop;\n      const scrollHeight = windowScroll ? document.documentElement.scrollHeight : el.scrollHeight;\n      const viewportHeight = windowScroll ? window.innerHeight : el.offsetHeight;\n      const call2 = () => {\n        scrollContainerStateCallback({\n          scrollTop: Math.max(scrollTop, 0),\n          scrollHeight,\n          viewportHeight\n        });\n      };\n      if (ev.suppressFlushSync) {\n        call2();\n      } else {\n        react_dom__WEBPACK_IMPORTED_MODULE_1__.flushSync(call2);\n      }\n      if (scrollTopTarget.current !== null) {\n        if (scrollTop === scrollTopTarget.current || scrollTop <= 0 || scrollTop === scrollHeight - viewportHeight) {\n          scrollTopTarget.current = null;\n          smoothScrollTargetReached(true);\n          if (timeoutRef.current) {\n            clearTimeout(timeoutRef.current);\n            timeoutRef.current = null;\n          }\n        }\n      }\n    },\n    [scrollContainerStateCallback, smoothScrollTargetReached]\n  );\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    const localRef = customScrollParent ? customScrollParent : scrollerRef.current;\n    scrollerRefCallback(customScrollParent ? customScrollParent : scrollerRef.current);\n    handler({ target: localRef, suppressFlushSync: true });\n    localRef.addEventListener(\"scroll\", handler, { passive: true });\n    return () => {\n      scrollerRefCallback(null);\n      localRef.removeEventListener(\"scroll\", handler);\n    };\n  }, [scrollerRef, handler, scrollerElement, scrollerRefCallback, customScrollParent]);\n  function scrollToCallback(location) {\n    const scrollerElement2 = scrollerRef.current;\n    if (!scrollerElement2 || \"offsetHeight\" in scrollerElement2 && scrollerElement2.offsetHeight === 0) {\n      return;\n    }\n    const isSmooth = location.behavior === \"smooth\";\n    let offsetHeight;\n    let scrollHeight;\n    let scrollTop;\n    if (scrollerElement2 === window) {\n      scrollHeight = Math.max(correctItemSize(document.documentElement, \"height\"), document.documentElement.scrollHeight);\n      offsetHeight = window.innerHeight;\n      scrollTop = document.documentElement.scrollTop;\n    } else {\n      scrollHeight = scrollerElement2.scrollHeight;\n      offsetHeight = correctItemSize(scrollerElement2, \"height\");\n      scrollTop = scrollerElement2.scrollTop;\n    }\n    const maxScrollTop = scrollHeight - offsetHeight;\n    location.top = Math.ceil(Math.max(Math.min(maxScrollTop, location.top), 0));\n    if (approximatelyEqual(offsetHeight, scrollHeight) || location.top === scrollTop) {\n      scrollContainerStateCallback({ scrollTop, scrollHeight, viewportHeight: offsetHeight });\n      if (isSmooth) {\n        smoothScrollTargetReached(true);\n      }\n      return;\n    }\n    if (isSmooth) {\n      scrollTopTarget.current = location.top;\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n      timeoutRef.current = setTimeout(() => {\n        timeoutRef.current = null;\n        scrollTopTarget.current = null;\n        smoothScrollTargetReached(true);\n      }, 1e3);\n    } else {\n      scrollTopTarget.current = null;\n    }\n    scrollerElement2.scrollTo(location);\n  }\n  function scrollByCallback(location) {\n    scrollerRef.current.scrollBy(location);\n  }\n  return { scrollerRef, scrollByCallback, scrollToCallback };\n}\nconst domIOSystem = system(\n  () => {\n    const scrollContainerState = stream();\n    const scrollTop = stream();\n    const deviation = statefulStream(0);\n    const smoothScrollTargetReached = stream();\n    const statefulScrollTop = statefulStream(0);\n    const viewportHeight = stream();\n    const scrollHeight = stream();\n    const headerHeight = statefulStream(0);\n    const fixedHeaderHeight = statefulStream(0);\n    const fixedFooterHeight = statefulStream(0);\n    const footerHeight = statefulStream(0);\n    const scrollTo = stream();\n    const scrollBy = stream();\n    const scrollingInProgress = statefulStream(false);\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollTop: scrollTop2 }) => scrollTop2)\n      ),\n      scrollTop\n    );\n    connect(\n      pipe(\n        scrollContainerState,\n        map(({ scrollHeight: scrollHeight2 }) => scrollHeight2)\n      ),\n      scrollHeight\n    );\n    connect(scrollTop, statefulScrollTop);\n    return {\n      // input\n      scrollContainerState,\n      scrollTop,\n      viewportHeight,\n      headerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight,\n      footerHeight,\n      scrollHeight,\n      smoothScrollTargetReached,\n      // signals\n      scrollTo,\n      scrollBy,\n      // state\n      statefulScrollTop,\n      deviation,\n      scrollingInProgress\n    };\n  },\n  [],\n  { singleton: true }\n);\nconst NIL_NODE = { lvl: 0 };\nfunction newAANode(k, v, lvl, l = NIL_NODE, r = NIL_NODE) {\n  return { k, v, lvl, l, r };\n}\nfunction empty(node) {\n  return node === NIL_NODE;\n}\nfunction newTree() {\n  return NIL_NODE;\n}\nfunction remove(node, key) {\n  if (empty(node))\n    return NIL_NODE;\n  const { k, l, r } = node;\n  if (key === k) {\n    if (empty(l)) {\n      return r;\n    } else if (empty(r)) {\n      return l;\n    } else {\n      const [lastKey, lastValue] = last(l);\n      return adjust(clone(node, { k: lastKey, v: lastValue, l: deleteLast(l) }));\n    }\n  } else if (key < k) {\n    return adjust(clone(node, { l: remove(l, key) }));\n  } else {\n    return adjust(clone(node, { r: remove(r, key) }));\n  }\n}\nfunction find(node, key) {\n  if (empty(node)) {\n    return;\n  }\n  if (key === node.k) {\n    return node.v;\n  } else if (key < node.k) {\n    return find(node.l, key);\n  } else {\n    return find(node.r, key);\n  }\n}\nfunction findMaxKeyValue(node, value, field = \"k\") {\n  if (empty(node)) {\n    return [-Infinity, void 0];\n  }\n  if (Number(node[field]) === value) {\n    return [node.k, node.v];\n  }\n  if (Number(node[field]) < value) {\n    const r = findMaxKeyValue(node.r, value, field);\n    if (r[0] === -Infinity) {\n      return [node.k, node.v];\n    } else {\n      return r;\n    }\n  }\n  return findMaxKeyValue(node.l, value, field);\n}\nfunction insert(node, k, v) {\n  if (empty(node)) {\n    return newAANode(k, v, 1);\n  }\n  if (k === node.k) {\n    return clone(node, { k, v });\n  } else if (k < node.k) {\n    return rebalance(clone(node, { l: insert(node.l, k, v) }));\n  } else {\n    return rebalance(clone(node, { r: insert(node.r, k, v) }));\n  }\n}\nfunction walkWithin(node, start, end) {\n  if (empty(node)) {\n    return [];\n  }\n  const { k, v, l, r } = node;\n  let result = [];\n  if (k > start) {\n    result = result.concat(walkWithin(l, start, end));\n  }\n  if (k >= start && k <= end) {\n    result.push({ k, v });\n  }\n  if (k <= end) {\n    result = result.concat(walkWithin(r, start, end));\n  }\n  return result;\n}\nfunction walk(node) {\n  if (empty(node)) {\n    return [];\n  }\n  return [...walk(node.l), { k: node.k, v: node.v }, ...walk(node.r)];\n}\nfunction last(node) {\n  return empty(node.r) ? [node.k, node.v] : last(node.r);\n}\nfunction deleteLast(node) {\n  return empty(node.r) ? node.l : adjust(clone(node, { r: deleteLast(node.r) }));\n}\nfunction clone(node, args) {\n  return newAANode(\n    args.k !== void 0 ? args.k : node.k,\n    args.v !== void 0 ? args.v : node.v,\n    args.lvl !== void 0 ? args.lvl : node.lvl,\n    args.l !== void 0 ? args.l : node.l,\n    args.r !== void 0 ? args.r : node.r\n  );\n}\nfunction isSingle(node) {\n  return empty(node) || node.lvl > node.r.lvl;\n}\nfunction rebalance(node) {\n  return split(skew(node));\n}\nfunction adjust(node) {\n  const { l, r, lvl } = node;\n  if (r.lvl >= lvl - 1 && l.lvl >= lvl - 1) {\n    return node;\n  } else if (lvl > r.lvl + 1) {\n    if (isSingle(l)) {\n      return skew(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(l) && !empty(l.r)) {\n        return clone(l.r, {\n          l: clone(l, { r: l.r.l }),\n          r: clone(node, {\n            l: l.r.r,\n            lvl: lvl - 1\n          }),\n          lvl\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  } else {\n    if (isSingle(node)) {\n      return split(clone(node, { lvl: lvl - 1 }));\n    } else {\n      if (!empty(r) && !empty(r.l)) {\n        const rl = r.l;\n        const rlvl = isSingle(rl) ? r.lvl - 1 : r.lvl;\n        return clone(rl, {\n          l: clone(node, {\n            r: rl.l,\n            lvl: lvl - 1\n          }),\n          r: split(clone(r, { l: rl.r, lvl: rlvl })),\n          lvl: rl.lvl + 1\n        });\n      } else {\n        throw new Error(\"Unexpected empty nodes\");\n      }\n    }\n  }\n}\nfunction rangesWithin(node, startIndex, endIndex) {\n  if (empty(node)) {\n    return [];\n  }\n  const adjustedStart = findMaxKeyValue(node, startIndex)[0];\n  return toRanges(walkWithin(node, adjustedStart, endIndex));\n}\nfunction arrayToRanges(items, parser) {\n  const length = items.length;\n  if (length === 0) {\n    return [];\n  }\n  let { index: start, value } = parser(items[0]);\n  const result = [];\n  for (let i = 1; i < length; i++) {\n    const { index: nextIndex, value: nextValue } = parser(items[i]);\n    result.push({ start, end: nextIndex - 1, value });\n    start = nextIndex;\n    value = nextValue;\n  }\n  result.push({ start, end: Infinity, value });\n  return result;\n}\nfunction toRanges(nodes) {\n  return arrayToRanges(nodes, ({ k: index, v: value }) => ({ index, value }));\n}\nfunction split(node) {\n  const { r, lvl } = node;\n  return !empty(r) && !empty(r.r) && r.lvl === lvl && r.r.lvl === lvl ? clone(r, { l: clone(node, { r: r.l }), lvl: lvl + 1 }) : node;\n}\nfunction skew(node) {\n  const { l } = node;\n  return !empty(l) && l.lvl === node.lvl ? clone(l, { r: clone(node, { l: l.r }) }) : node;\n}\nfunction findIndexOfClosestSmallerOrEqual(items, value, comparator, start = 0) {\n  let end = items.length - 1;\n  while (start <= end) {\n    const index = Math.floor((start + end) / 2);\n    const item = items[index];\n    const match = comparator(item, value);\n    if (match === 0) {\n      return index;\n    }\n    if (match === -1) {\n      if (end - start < 2) {\n        return index - 1;\n      }\n      end = index - 1;\n    } else {\n      if (end === start) {\n        return index;\n      }\n      start = index + 1;\n    }\n  }\n  throw new Error(`Failed binary finding record in array - ${items.join(\",\")}, searched for ${value}`);\n}\nfunction findClosestSmallerOrEqual(items, value, comparator) {\n  return items[findIndexOfClosestSmallerOrEqual(items, value, comparator)];\n}\nfunction findRange(items, startValue, endValue, comparator) {\n  const startIndex = findIndexOfClosestSmallerOrEqual(items, startValue, comparator);\n  const endIndex = findIndexOfClosestSmallerOrEqual(items, endValue, comparator, startIndex);\n  return items.slice(startIndex, endIndex + 1);\n}\nconst recalcSystem = system(\n  () => {\n    const recalcInProgress = statefulStream(false);\n    return { recalcInProgress };\n  },\n  [],\n  { singleton: true }\n);\nfunction rangeIncludes(refRange) {\n  const { size, startIndex, endIndex } = refRange;\n  return (range) => {\n    return range.start === startIndex && (range.end === endIndex || range.end === Infinity) && range.value === size;\n  };\n}\nfunction affectedGroupCount(offset, groupIndices) {\n  let recognizedOffsetItems = 0;\n  let groupIndex = 0;\n  while (recognizedOffsetItems < offset) {\n    recognizedOffsetItems += groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n    groupIndex++;\n  }\n  const offsetIsExact = recognizedOffsetItems === offset;\n  return groupIndex - (offsetIsExact ? 0 : 1);\n}\nfunction insertRanges(sizeTree, ranges) {\n  let syncStart = empty(sizeTree) ? 0 : Infinity;\n  for (const range of ranges) {\n    const { size, startIndex, endIndex } = range;\n    syncStart = Math.min(syncStart, startIndex);\n    if (empty(sizeTree)) {\n      sizeTree = insert(sizeTree, 0, size);\n      continue;\n    }\n    const overlappingRanges = rangesWithin(sizeTree, startIndex - 1, endIndex + 1);\n    if (overlappingRanges.some(rangeIncludes(range))) {\n      continue;\n    }\n    let firstPassDone = false;\n    let shouldInsert = false;\n    for (const { start: rangeStart, end: rangeEnd, value: rangeValue } of overlappingRanges) {\n      if (!firstPassDone) {\n        shouldInsert = rangeValue !== size;\n        firstPassDone = true;\n      } else {\n        if (endIndex >= rangeStart || size === rangeValue) {\n          sizeTree = remove(sizeTree, rangeStart);\n        }\n      }\n      if (rangeEnd > endIndex && endIndex >= rangeStart) {\n        if (rangeValue !== size) {\n          sizeTree = insert(sizeTree, endIndex + 1, rangeValue);\n        }\n      }\n    }\n    if (shouldInsert) {\n      sizeTree = insert(sizeTree, startIndex, size);\n    }\n  }\n  return [sizeTree, syncStart];\n}\nfunction initialSizeState() {\n  return {\n    offsetTree: [],\n    sizeTree: newTree(),\n    groupOffsetTree: newTree(),\n    lastIndex: 0,\n    lastOffset: 0,\n    lastSize: 0,\n    groupIndices: []\n  };\n}\nfunction indexComparator({ index: itemIndex }, index) {\n  return index === itemIndex ? 0 : index < itemIndex ? -1 : 1;\n}\nfunction offsetComparator({ offset: itemOffset }, offset) {\n  return offset === itemOffset ? 0 : offset < itemOffset ? -1 : 1;\n}\nfunction offsetPointParser(point) {\n  return { index: point.index, value: point };\n}\nfunction rangesWithinOffsets(tree, startOffset, endOffset, minStartIndex = 0) {\n  if (minStartIndex > 0) {\n    startOffset = Math.max(startOffset, findClosestSmallerOrEqual(tree, minStartIndex, indexComparator).offset);\n  }\n  return arrayToRanges(findRange(tree, startOffset, endOffset, offsetComparator), offsetPointParser);\n}\nfunction createOffsetTree(prevOffsetTree, syncStart, sizeTree, gap) {\n  let offsetTree = prevOffsetTree;\n  let prevIndex = 0;\n  let prevSize = 0;\n  let prevOffset = 0;\n  let startIndex = 0;\n  if (syncStart !== 0) {\n    startIndex = findIndexOfClosestSmallerOrEqual(offsetTree, syncStart - 1, indexComparator);\n    const offsetInfo = offsetTree[startIndex];\n    prevOffset = offsetInfo.offset;\n    const kv = findMaxKeyValue(sizeTree, syncStart - 1);\n    prevIndex = kv[0];\n    prevSize = kv[1];\n    if (offsetTree.length && offsetTree[startIndex].size === findMaxKeyValue(sizeTree, syncStart)[1]) {\n      startIndex -= 1;\n    }\n    offsetTree = offsetTree.slice(0, startIndex + 1);\n  } else {\n    offsetTree = [];\n  }\n  for (const { start: startIndex2, value } of rangesWithin(sizeTree, syncStart, Infinity)) {\n    const indexOffset = startIndex2 - prevIndex;\n    const aOffset = indexOffset * prevSize + prevOffset + indexOffset * gap;\n    offsetTree.push({\n      offset: aOffset,\n      size: value,\n      index: startIndex2\n    });\n    prevIndex = startIndex2;\n    prevOffset = aOffset;\n    prevSize = value;\n  }\n  return {\n    offsetTree,\n    lastIndex: prevIndex,\n    lastOffset: prevOffset,\n    lastSize: prevSize\n  };\n}\nfunction sizeStateReducer(state, [ranges, groupIndices, log, gap]) {\n  if (ranges.length > 0) {\n    log(\"received item sizes\", ranges, LogLevel.DEBUG);\n  }\n  const sizeTree = state.sizeTree;\n  let newSizeTree = sizeTree;\n  let syncStart = 0;\n  if (groupIndices.length > 0 && empty(sizeTree) && ranges.length === 2) {\n    const groupSize = ranges[0].size;\n    const itemSize = ranges[1].size;\n    newSizeTree = groupIndices.reduce((tree, groupIndex) => {\n      return insert(insert(tree, groupIndex, groupSize), groupIndex + 1, itemSize);\n    }, newSizeTree);\n  } else {\n    [newSizeTree, syncStart] = insertRanges(newSizeTree, ranges);\n  }\n  if (newSizeTree === sizeTree) {\n    return state;\n  }\n  const { offsetTree: newOffsetTree, lastIndex, lastSize, lastOffset } = createOffsetTree(state.offsetTree, syncStart, newSizeTree, gap);\n  return {\n    sizeTree: newSizeTree,\n    offsetTree: newOffsetTree,\n    lastIndex,\n    lastOffset,\n    lastSize,\n    groupOffsetTree: groupIndices.reduce((tree, index) => {\n      return insert(tree, index, offsetOf(index, newOffsetTree, gap));\n    }, newTree()),\n    groupIndices\n  };\n}\nfunction offsetOf(index, tree, gap) {\n  if (tree.length === 0) {\n    return 0;\n  }\n  const { offset, index: startIndex, size } = findClosestSmallerOrEqual(tree, index, indexComparator);\n  const itemCount = index - startIndex;\n  const top = size * itemCount + (itemCount - 1) * gap + offset;\n  return top > 0 ? top + gap : top;\n}\nfunction isGroupLocation(location) {\n  return typeof location.groupIndex !== \"undefined\";\n}\nfunction originalIndexFromLocation(location, sizes, lastIndex) {\n  if (isGroupLocation(location)) {\n    return sizes.groupIndices[location.groupIndex] + 1;\n  } else {\n    const numericIndex = location.index === \"LAST\" ? lastIndex : location.index;\n    let result = originalIndexFromItemIndex(numericIndex, sizes);\n    result = Math.max(0, result, Math.min(lastIndex, result));\n    return result;\n  }\n}\nfunction originalIndexFromItemIndex(itemIndex, sizes) {\n  if (!hasGroups(sizes)) {\n    return itemIndex;\n  }\n  let groupOffset = 0;\n  while (sizes.groupIndices[groupOffset] <= itemIndex + groupOffset) {\n    groupOffset++;\n  }\n  return itemIndex + groupOffset;\n}\nfunction hasGroups(sizes) {\n  return !empty(sizes.groupOffsetTree);\n}\nfunction sizeTreeToRanges(sizeTree) {\n  return walk(sizeTree).map(({ k: startIndex, v: size }, index, sizeArray) => {\n    const nextSize = sizeArray[index + 1];\n    const endIndex = nextSize ? nextSize.k - 1 : Infinity;\n    return { startIndex, endIndex, size };\n  });\n}\nconst SIZE_MAP = {\n  offsetHeight: \"height\",\n  offsetWidth: \"width\"\n};\nconst sizeSystem = system(\n  ([{ log }, { recalcInProgress }]) => {\n    const sizeRanges = stream();\n    const totalCount = stream();\n    const statefulTotalCount = statefulStreamFromEmitter(totalCount, 0);\n    const unshiftWith = stream();\n    const shiftWith = stream();\n    const firstItemIndex = statefulStream(0);\n    const groupIndices = statefulStream([]);\n    const fixedItemSize = statefulStream(void 0);\n    const defaultItemSize = statefulStream(void 0);\n    const itemSize = statefulStream((el, field) => correctItemSize(el, SIZE_MAP[field]));\n    const data = statefulStream(void 0);\n    const gap = statefulStream(0);\n    const initial = initialSizeState();\n    const sizes = statefulStreamFromEmitter(\n      pipe(sizeRanges, withLatestFrom(groupIndices, log, gap), scan(sizeStateReducer, initial), distinctUntilChanged()),\n      initial\n    );\n    const prevGroupIndices = statefulStreamFromEmitter(\n      pipe(\n        groupIndices,\n        distinctUntilChanged(),\n        scan((prev, curr) => ({ prev: prev.current, current: curr }), {\n          prev: [],\n          current: []\n        }),\n        map(({ prev }) => prev)\n      ),\n      []\n    );\n    connect(\n      pipe(\n        groupIndices,\n        filter((indexes) => indexes.length > 0),\n        withLatestFrom(sizes, gap),\n        map(([groupIndices2, sizes2, gap2]) => {\n          const groupOffsetTree = groupIndices2.reduce((tree, index, idx) => {\n            return insert(tree, index, offsetOf(index, sizes2.offsetTree, gap2) || idx);\n          }, newTree());\n          return {\n            ...sizes2,\n            groupIndices: groupIndices2,\n            groupOffsetTree\n          };\n        })\n      ),\n      sizes\n    );\n    connect(\n      pipe(\n        totalCount,\n        withLatestFrom(sizes),\n        filter(([totalCount2, { lastIndex }]) => {\n          return totalCount2 < lastIndex;\n        }),\n        map(([totalCount2, { lastIndex, lastSize }]) => {\n          return [\n            {\n              startIndex: totalCount2,\n              endIndex: lastIndex,\n              size: lastSize\n            }\n          ];\n        })\n      ),\n      sizeRanges\n    );\n    connect(fixedItemSize, defaultItemSize);\n    const trackItemSizes = statefulStreamFromEmitter(\n      pipe(\n        fixedItemSize,\n        map((size) => size === void 0)\n      ),\n      true\n    );\n    connect(\n      pipe(\n        defaultItemSize,\n        filter((value) => {\n          return value !== void 0 && empty(getValue(sizes).sizeTree);\n        }),\n        map((size) => [{ startIndex: 0, endIndex: 0, size }])\n      ),\n      sizeRanges\n    );\n    const listRefresh = streamFromEmitter(\n      pipe(\n        sizeRanges,\n        withLatestFrom(sizes),\n        scan(\n          ({ sizes: oldSizes }, [_, newSizes]) => {\n            return {\n              changed: newSizes !== oldSizes,\n              sizes: newSizes\n            };\n          },\n          { changed: false, sizes: initial }\n        ),\n        map((value) => value.changed)\n      )\n    );\n    subscribe(\n      pipe(\n        firstItemIndex,\n        scan(\n          (prev, next) => {\n            return { diff: prev.prev - next, prev: next };\n          },\n          { diff: 0, prev: 0 }\n        ),\n        map((val) => val.diff)\n      ),\n      (offset) => {\n        const { groupIndices: groupIndices2 } = getValue(sizes);\n        if (offset > 0) {\n          publish(recalcInProgress, true);\n          publish(unshiftWith, offset + affectedGroupCount(offset, groupIndices2));\n        } else if (offset < 0) {\n          const prevGroupIndicesValue = getValue(prevGroupIndices);\n          if (prevGroupIndicesValue.length > 0) {\n            offset -= affectedGroupCount(-offset, prevGroupIndicesValue);\n          }\n          publish(shiftWith, offset);\n        }\n      }\n    );\n    subscribe(pipe(firstItemIndex, withLatestFrom(log)), ([index, log2]) => {\n      if (index < 0) {\n        log2(\n          \"`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value\",\n          { firstItemIndex },\n          LogLevel.ERROR\n        );\n      }\n    });\n    const beforeUnshiftWith = streamFromEmitter(unshiftWith);\n    connect(\n      pipe(\n        unshiftWith,\n        withLatestFrom(sizes),\n        map(([unshiftWith2, sizes2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          const initialRanges = [];\n          const defaultSize = sizes2.lastSize;\n          if (groupedMode) {\n            const firstGroupSize = find(sizes2.sizeTree, 0);\n            let prependedGroupItemsCount = 0;\n            let groupIndex = 0;\n            while (prependedGroupItemsCount < unshiftWith2) {\n              const theGroupIndex = sizes2.groupIndices[groupIndex];\n              const groupItemCount = sizes2.groupIndices.length === groupIndex + 1 ? Infinity : sizes2.groupIndices[groupIndex + 1] - theGroupIndex - 1;\n              initialRanges.push({\n                startIndex: theGroupIndex,\n                endIndex: theGroupIndex,\n                size: firstGroupSize\n              });\n              initialRanges.push({\n                startIndex: theGroupIndex + 1,\n                endIndex: theGroupIndex + 1 + groupItemCount - 1,\n                size: defaultSize\n              });\n              groupIndex++;\n              prependedGroupItemsCount += groupItemCount + 1;\n            }\n            const sizeTreeKV = walk(sizes2.sizeTree);\n            const firstGroupIsExpanded = prependedGroupItemsCount !== unshiftWith2;\n            if (firstGroupIsExpanded) {\n              sizeTreeKV.shift();\n            }\n            return sizeTreeKV.reduce(\n              (acc, { k: index, v: size }) => {\n                let ranges = acc.ranges;\n                if (acc.prevSize !== 0) {\n                  ranges = [\n                    ...acc.ranges,\n                    {\n                      startIndex: acc.prevIndex,\n                      endIndex: index + unshiftWith2 - 1,\n                      size: acc.prevSize\n                    }\n                  ];\n                }\n                return {\n                  ranges,\n                  prevIndex: index + unshiftWith2,\n                  prevSize: size\n                };\n              },\n              {\n                ranges: initialRanges,\n                prevIndex: unshiftWith2,\n                prevSize: 0\n              }\n            ).ranges;\n          }\n          return walk(sizes2.sizeTree).reduce(\n            (acc, { k: index, v: size }) => {\n              return {\n                ranges: [...acc.ranges, { startIndex: acc.prevIndex, endIndex: index + unshiftWith2 - 1, size: acc.prevSize }],\n                prevIndex: index + unshiftWith2,\n                prevSize: size\n              };\n            },\n            {\n              ranges: [],\n              prevIndex: 0,\n              prevSize: defaultSize\n            }\n          ).ranges;\n        })\n      ),\n      sizeRanges\n    );\n    const shiftWithOffset = streamFromEmitter(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, { offsetTree }, gap2]) => {\n          const newFirstItemIndex = -shiftWith2;\n          return offsetOf(newFirstItemIndex, offsetTree, gap2);\n        })\n      )\n    );\n    connect(\n      pipe(\n        shiftWith,\n        withLatestFrom(sizes, gap),\n        map(([shiftWith2, sizes2, gap2]) => {\n          const groupedMode = sizes2.groupIndices.length > 0;\n          if (groupedMode) {\n            if (empty(sizes2.sizeTree)) {\n              return sizes2;\n            }\n            let newSizeTree = newTree();\n            const prevGroupIndicesValue = getValue(prevGroupIndices);\n            let removedItemsCount = 0;\n            let groupIndex = 0;\n            let groupOffset = 0;\n            while (removedItemsCount < -shiftWith2) {\n              groupOffset = prevGroupIndicesValue[groupIndex];\n              const groupItemCount = prevGroupIndicesValue[groupIndex + 1] - groupOffset - 1;\n              groupIndex++;\n              removedItemsCount += groupItemCount + 1;\n            }\n            newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newSizeTree);\n            const aGroupIsShrunk = removedItemsCount !== -shiftWith2;\n            if (aGroupIsShrunk) {\n              const firstGroupSize = find(sizes2.sizeTree, groupOffset);\n              newSizeTree = insert(newSizeTree, 0, firstGroupSize);\n              const nextItemSize = findMaxKeyValue(sizes2.sizeTree, -shiftWith2 + 1)[1];\n              newSizeTree = insert(newSizeTree, 1, nextItemSize);\n            }\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          } else {\n            const newSizeTree = walk(sizes2.sizeTree).reduce((acc, { k, v }) => {\n              return insert(acc, Math.max(0, k + shiftWith2), v);\n            }, newTree());\n            return {\n              ...sizes2,\n              sizeTree: newSizeTree,\n              ...createOffsetTree(sizes2.offsetTree, 0, newSizeTree, gap2)\n            };\n          }\n        })\n      ),\n      sizes\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      sizeRanges,\n      groupIndices,\n      defaultItemSize,\n      fixedItemSize,\n      unshiftWith,\n      shiftWith,\n      shiftWithOffset,\n      beforeUnshiftWith,\n      firstItemIndex,\n      gap,\n      // output\n      sizes,\n      listRefresh,\n      statefulTotalCount,\n      trackItemSizes,\n      itemSize\n    };\n  },\n  tup(loggerSystem, recalcSystem),\n  { singleton: true }\n);\nconst SUPPORTS_SCROLL_TO_OPTIONS = typeof document !== \"undefined\" && \"scrollBehavior\" in document.documentElement.style;\nfunction normalizeIndexLocation(location) {\n  const result = typeof location === \"number\" ? { index: location } : location;\n  if (!result.align) {\n    result.align = \"start\";\n  }\n  if (!result.behavior || !SUPPORTS_SCROLL_TO_OPTIONS) {\n    result.behavior = \"auto\";\n  }\n  if (!result.offset) {\n    result.offset = 0;\n  }\n  return result;\n}\nconst scrollToIndexSystem = system(\n  ([\n    { sizes, totalCount, listRefresh, gap },\n    {\n      scrollingInProgress,\n      viewportHeight,\n      scrollTo,\n      smoothScrollTargetReached,\n      headerHeight,\n      footerHeight,\n      fixedHeaderHeight,\n      fixedFooterHeight\n    },\n    { log }\n  ]) => {\n    const scrollToIndex = stream();\n    const scrollTargetReached = stream();\n    const topListHeight = statefulStream(0);\n    let unsubscribeNextListRefresh = null;\n    let cleartTimeoutRef = null;\n    let unsubscribeListRefresh = null;\n    function cleanup() {\n      if (unsubscribeNextListRefresh) {\n        unsubscribeNextListRefresh();\n        unsubscribeNextListRefresh = null;\n      }\n      if (unsubscribeListRefresh) {\n        unsubscribeListRefresh();\n        unsubscribeListRefresh = null;\n      }\n      if (cleartTimeoutRef) {\n        clearTimeout(cleartTimeoutRef);\n        cleartTimeoutRef = null;\n      }\n      publish(scrollingInProgress, false);\n    }\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(sizes, viewportHeight, totalCount, topListHeight, headerHeight, footerHeight, log),\n        withLatestFrom(gap, fixedHeaderHeight, fixedFooterHeight),\n        map(\n          ([\n            [location, sizes2, viewportHeight2, totalCount2, topListHeight2, headerHeight2, footerHeight2, log2],\n            gap2,\n            fixedHeaderHeight2,\n            fixedFooterHeight2\n          ]) => {\n            const normalLocation = normalizeIndexLocation(location);\n            const { align, behavior, offset } = normalLocation;\n            const lastIndex = totalCount2 - 1;\n            const index = originalIndexFromLocation(normalLocation, sizes2, lastIndex);\n            let top = offsetOf(index, sizes2.offsetTree, gap2) + headerHeight2;\n            if (align === \"end\") {\n              top += fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2;\n              if (index === lastIndex) {\n                top += footerHeight2;\n              }\n            } else if (align === \"center\") {\n              top += (fixedHeaderHeight2 + findMaxKeyValue(sizes2.sizeTree, index)[1] - viewportHeight2 + fixedFooterHeight2) / 2;\n            } else {\n              top -= topListHeight2;\n            }\n            if (offset) {\n              top += offset;\n            }\n            const retry = (listChanged) => {\n              cleanup();\n              if (listChanged) {\n                log2(\"retrying to scroll to\", { location }, LogLevel.DEBUG);\n                publish(scrollToIndex, location);\n              } else {\n                publish(scrollTargetReached, true);\n                log2(\"list did not change, scroll successful\", {}, LogLevel.DEBUG);\n              }\n            };\n            cleanup();\n            if (behavior === \"smooth\") {\n              let listChanged = false;\n              unsubscribeListRefresh = subscribe(listRefresh, (changed) => {\n                listChanged = listChanged || changed;\n              });\n              unsubscribeNextListRefresh = handleNext(smoothScrollTargetReached, () => {\n                retry(listChanged);\n              });\n            } else {\n              unsubscribeNextListRefresh = handleNext(pipe(listRefresh, watchChangesFor(150)), retry);\n            }\n            cleartTimeoutRef = setTimeout(() => {\n              cleanup();\n            }, 1200);\n            publish(scrollingInProgress, true);\n            log2(\"scrolling from index to\", { index, top, behavior }, LogLevel.DEBUG);\n            return { top, behavior };\n          }\n        )\n      ),\n      scrollTo\n    );\n    return {\n      scrollToIndex,\n      scrollTargetReached,\n      topListHeight\n    };\n  },\n  tup(sizeSystem, domIOSystem, loggerSystem),\n  { singleton: true }\n);\nfunction watchChangesFor(limit) {\n  return (done) => {\n    const timeoutRef = setTimeout(() => {\n      done(false);\n    }, limit);\n    return (value) => {\n      if (value) {\n        done(true);\n        clearTimeout(timeoutRef);\n      }\n    };\n  };\n}\nconst UP = \"up\";\nconst DOWN = \"down\";\nconst NONE$1 = \"none\";\nconst INITIAL_BOTTOM_STATE = {\n  atBottom: false,\n  notAtBottomBecause: \"NOT_SHOWING_LAST_ITEM\",\n  state: {\n    offsetBottom: 0,\n    scrollTop: 0,\n    viewportHeight: 0,\n    scrollHeight: 0\n  }\n};\nconst DEFAULT_AT_TOP_THRESHOLD = 0;\nconst stateFlagsSystem = system(([{ scrollContainerState, scrollTop, viewportHeight, headerHeight, footerHeight, scrollBy }]) => {\n  const isAtBottom = statefulStream(false);\n  const isAtTop = statefulStream(true);\n  const atBottomStateChange = stream();\n  const atTopStateChange = stream();\n  const atBottomThreshold = statefulStream(4);\n  const atTopThreshold = statefulStream(DEFAULT_AT_TOP_THRESHOLD);\n  const isScrolling = statefulStreamFromEmitter(\n    pipe(\n      merge(pipe(duc(scrollTop), skip(1), mapTo(true)), pipe(duc(scrollTop), skip(1), mapTo(false), debounceTime(100))),\n      distinctUntilChanged()\n    ),\n    false\n  );\n  const isScrollingBy = statefulStreamFromEmitter(\n    pipe(merge(pipe(scrollBy, mapTo(true)), pipe(scrollBy, mapTo(false), debounceTime(200))), distinctUntilChanged()),\n    false\n  );\n  connect(\n    pipe(\n      combineLatest(duc(scrollTop), duc(atTopThreshold)),\n      map(([top, atTopThreshold2]) => top <= atTopThreshold2),\n      distinctUntilChanged()\n    ),\n    isAtTop\n  );\n  connect(pipe(isAtTop, throttleTime(50)), atTopStateChange);\n  const atBottomState = streamFromEmitter(\n    pipe(\n      combineLatest(scrollContainerState, duc(viewportHeight), duc(headerHeight), duc(footerHeight), duc(atBottomThreshold)),\n      scan((current, [{ scrollTop: scrollTop2, scrollHeight }, viewportHeight2, _headerHeight, _footerHeight, atBottomThreshold2]) => {\n        const isAtBottom2 = scrollTop2 + viewportHeight2 - scrollHeight > -atBottomThreshold2;\n        const state = {\n          viewportHeight: viewportHeight2,\n          scrollTop: scrollTop2,\n          scrollHeight\n        };\n        if (isAtBottom2) {\n          let atBottomBecause;\n          let scrollTopDelta;\n          if (scrollTop2 > current.state.scrollTop) {\n            atBottomBecause = \"SCROLLED_DOWN\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2;\n          } else {\n            atBottomBecause = \"SIZE_DECREASED\";\n            scrollTopDelta = current.state.scrollTop - scrollTop2 || current.scrollTopDelta;\n          }\n          return {\n            atBottom: true,\n            state,\n            atBottomBecause,\n            scrollTopDelta\n          };\n        }\n        let notAtBottomBecause;\n        if (state.scrollHeight > current.state.scrollHeight) {\n          notAtBottomBecause = \"SIZE_INCREASED\";\n        } else if (viewportHeight2 < current.state.viewportHeight) {\n          notAtBottomBecause = \"VIEWPORT_HEIGHT_DECREASING\";\n        } else if (scrollTop2 < current.state.scrollTop) {\n          notAtBottomBecause = \"SCROLLING_UPWARDS\";\n        } else {\n          notAtBottomBecause = \"NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM\";\n        }\n        return {\n          atBottom: false,\n          notAtBottomBecause,\n          state\n        };\n      }, INITIAL_BOTTOM_STATE),\n      distinctUntilChanged((prev, next) => {\n        return prev && prev.atBottom === next.atBottom;\n      })\n    )\n  );\n  const lastJumpDueToItemResize = statefulStreamFromEmitter(\n    pipe(\n      scrollContainerState,\n      scan(\n        (current, { scrollTop: scrollTop2, scrollHeight, viewportHeight: viewportHeight2 }) => {\n          if (!approximatelyEqual(current.scrollHeight, scrollHeight)) {\n            const atBottom = scrollHeight - (scrollTop2 + viewportHeight2) < 1;\n            if (current.scrollTop !== scrollTop2 && atBottom) {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: current.scrollTop - scrollTop2,\n                changed: true\n              };\n            } else {\n              return {\n                scrollHeight,\n                scrollTop: scrollTop2,\n                jump: 0,\n                changed: true\n              };\n            }\n          } else {\n            return {\n              scrollTop: scrollTop2,\n              scrollHeight,\n              jump: 0,\n              changed: false\n            };\n          }\n        },\n        { scrollHeight: 0, jump: 0, scrollTop: 0, changed: false }\n      ),\n      filter((value) => value.changed),\n      map((value) => value.jump)\n    ),\n    0\n  );\n  connect(\n    pipe(\n      atBottomState,\n      map((state) => state.atBottom)\n    ),\n    isAtBottom\n  );\n  connect(pipe(isAtBottom, throttleTime(50)), atBottomStateChange);\n  const scrollDirection = statefulStream(DOWN);\n  connect(\n    pipe(\n      scrollContainerState,\n      map(({ scrollTop: scrollTop2 }) => scrollTop2),\n      distinctUntilChanged(),\n      scan(\n        (acc, scrollTop2) => {\n          if (getValue(isScrollingBy)) {\n            return { direction: acc.direction, prevScrollTop: scrollTop2 };\n          }\n          return { direction: scrollTop2 < acc.prevScrollTop ? UP : DOWN, prevScrollTop: scrollTop2 };\n        },\n        { direction: DOWN, prevScrollTop: 0 }\n      ),\n      map((value) => value.direction)\n    ),\n    scrollDirection\n  );\n  connect(pipe(scrollContainerState, throttleTime(50), mapTo(NONE$1)), scrollDirection);\n  const scrollVelocity = statefulStream(0);\n  connect(\n    pipe(\n      isScrolling,\n      filter((value) => !value),\n      // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n      mapTo(0)\n    ),\n    scrollVelocity\n  );\n  connect(\n    pipe(\n      scrollTop,\n      throttleTime(100),\n      withLatestFrom(isScrolling),\n      filter(([_, isScrolling2]) => !!isScrolling2),\n      scan(([_, prev], [next]) => [prev, next], [0, 0]),\n      map(([prev, next]) => next - prev)\n    ),\n    scrollVelocity\n  );\n  return {\n    isScrolling,\n    isAtTop,\n    isAtBottom,\n    atBottomState,\n    atTopStateChange,\n    atBottomStateChange,\n    scrollDirection,\n    atBottomThreshold,\n    atTopThreshold,\n    scrollVelocity,\n    lastJumpDueToItemResize\n  };\n}, tup(domIOSystem));\nconst propsReadySystem = system(\n  ([{ log }]) => {\n    const propsReady = statefulStream(false);\n    const didMount = streamFromEmitter(\n      pipe(\n        propsReady,\n        filter((ready) => ready),\n        distinctUntilChanged()\n      )\n    );\n    subscribe(propsReady, (value) => {\n      value && getValue(log)(\"props updated\", {}, LogLevel.DEBUG);\n    });\n    return { propsReady, didMount };\n  },\n  tup(loggerSystem),\n  { singleton: true }\n);\nfunction skipFrames(frameCount, callback) {\n  if (frameCount == 0) {\n    callback();\n  } else {\n    requestAnimationFrame(() => skipFrames(frameCount - 1, callback));\n  }\n}\nfunction getInitialTopMostItemIndexNumber(location, totalCount) {\n  const lastIndex = totalCount - 1;\n  const index = typeof location === \"number\" ? location : location.index === \"LAST\" ? lastIndex : location.index;\n  return index;\n}\nconst initialTopMostItemIndexSystem = system(\n  ([{ sizes, listRefresh, defaultItemSize }, { scrollTop }, { scrollToIndex, scrollTargetReached }, { didMount }]) => {\n    const scrolledToInitialItem = statefulStream(true);\n    const initialTopMostItemIndex = statefulStream(0);\n    const initialItemFinalLocationReached = statefulStream(true);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location),\n        mapTo(false)\n      ),\n      scrolledToInitialItem\n    );\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location),\n        mapTo(false)\n      ),\n      initialItemFinalLocationReached\n    );\n    subscribe(\n      pipe(\n        combineLatest(listRefresh, didMount),\n        withLatestFrom(scrolledToInitialItem, sizes, defaultItemSize, initialItemFinalLocationReached),\n        filter(([[, didMount2], scrolledToInitialItem2, { sizeTree }, defaultItemSize2, scrollScheduled]) => {\n          return didMount2 && (!empty(sizeTree) || isDefined(defaultItemSize2)) && !scrolledToInitialItem2 && !scrollScheduled;\n        }),\n        withLatestFrom(initialTopMostItemIndex)\n      ),\n      ([, initialTopMostItemIndex2]) => {\n        handleNext(scrollTargetReached, () => {\n          publish(initialItemFinalLocationReached, true);\n        });\n        skipFrames(3, () => {\n          handleNext(scrollTop, () => {\n            publish(scrolledToInitialItem, true);\n          });\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n      }\n    );\n    return {\n      scrolledToInitialItem,\n      initialTopMostItemIndex,\n      initialItemFinalLocationReached\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, propsReadySystem),\n  { singleton: true }\n);\nfunction normalizeFollowOutput(follow) {\n  if (!follow) {\n    return false;\n  }\n  return follow === \"smooth\" ? \"smooth\" : \"auto\";\n}\nconst behaviorFromFollowOutput = (follow, isAtBottom) => {\n  if (typeof follow === \"function\") {\n    return normalizeFollowOutput(follow(isAtBottom));\n  }\n  return isAtBottom && normalizeFollowOutput(follow);\n};\nconst followOutputSystem = system(\n  ([\n    { totalCount, listRefresh },\n    { isAtBottom, atBottomState },\n    { scrollToIndex },\n    { scrolledToInitialItem },\n    { propsReady, didMount },\n    { log },\n    { scrollingInProgress }\n  ]) => {\n    const followOutput = statefulStream(false);\n    const autoscrollToBottom = stream();\n    let pendingScrollHandle = null;\n    function scrollToBottom(followOutputBehavior) {\n      publish(scrollToIndex, {\n        index: \"LAST\",\n        align: \"end\",\n        behavior: followOutputBehavior\n      });\n    }\n    subscribe(\n      pipe(\n        combineLatest(pipe(duc(totalCount), skip(1)), didMount),\n        withLatestFrom(duc(followOutput), isAtBottom, scrolledToInitialItem, scrollingInProgress),\n        map(([[totalCount2, didMount2], followOutput2, isAtBottom2, scrolledToInitialItem2, scrollingInProgress2]) => {\n          let shouldFollow = didMount2 && scrolledToInitialItem2;\n          let followOutputBehavior = \"auto\";\n          if (shouldFollow) {\n            followOutputBehavior = behaviorFromFollowOutput(followOutput2, isAtBottom2 || scrollingInProgress2);\n            shouldFollow = shouldFollow && !!followOutputBehavior;\n          }\n          return { totalCount: totalCount2, shouldFollow, followOutputBehavior };\n        }),\n        filter(({ shouldFollow }) => shouldFollow)\n      ),\n      ({ totalCount: totalCount2, followOutputBehavior }) => {\n        if (pendingScrollHandle) {\n          pendingScrollHandle();\n          pendingScrollHandle = null;\n        }\n        pendingScrollHandle = handleNext(listRefresh, () => {\n          getValue(log)(\"following output to \", { totalCount: totalCount2 }, LogLevel.DEBUG);\n          scrollToBottom(followOutputBehavior);\n          pendingScrollHandle = null;\n        });\n      }\n    );\n    function trapNextSizeIncrease(followOutput2) {\n      const cancel = handleNext(atBottomState, (state) => {\n        if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"SIZE_INCREASED\" && !pendingScrollHandle) {\n          getValue(log)(\"scrolling to bottom due to increased size\", {}, LogLevel.DEBUG);\n          scrollToBottom(\"auto\");\n        }\n      });\n      setTimeout(cancel, 100);\n    }\n    subscribe(\n      pipe(\n        combineLatest(duc(followOutput), totalCount, propsReady),\n        filter(([follow, , ready]) => follow && ready),\n        scan(\n          ({ value }, [, next]) => {\n            return { refreshed: value === next, value: next };\n          },\n          { refreshed: false, value: 0 }\n        ),\n        filter(({ refreshed }) => refreshed),\n        withLatestFrom(followOutput, totalCount)\n      ),\n      ([, followOutput2]) => {\n        if (getValue(scrolledToInitialItem)) {\n          trapNextSizeIncrease(followOutput2 !== false);\n        }\n      }\n    );\n    subscribe(autoscrollToBottom, () => {\n      trapNextSizeIncrease(getValue(followOutput) !== false);\n    });\n    subscribe(combineLatest(duc(followOutput), atBottomState), ([followOutput2, state]) => {\n      if (followOutput2 && !state.atBottom && state.notAtBottomBecause === \"VIEWPORT_HEIGHT_DECREASING\") {\n        scrollToBottom(\"auto\");\n      }\n    });\n    return { followOutput, autoscrollToBottom };\n  },\n  tup(sizeSystem, stateFlagsSystem, scrollToIndexSystem, initialTopMostItemIndexSystem, propsReadySystem, loggerSystem, domIOSystem)\n);\nfunction groupCountsToIndicesAndCount(counts) {\n  return counts.reduce(\n    (acc, groupCount) => {\n      acc.groupIndices.push(acc.totalCount);\n      acc.totalCount += groupCount + 1;\n      return acc;\n    },\n    {\n      totalCount: 0,\n      groupIndices: []\n    }\n  );\n}\nconst groupedListSystem = system(([{ totalCount, groupIndices, sizes }, { scrollTop, headerHeight }]) => {\n  const groupCounts = stream();\n  const topItemsIndexes = stream();\n  const groupIndicesAndCount = streamFromEmitter(pipe(groupCounts, map(groupCountsToIndicesAndCount)));\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.totalCount)\n    ),\n    totalCount\n  );\n  connect(\n    pipe(\n      groupIndicesAndCount,\n      map((value) => value.groupIndices)\n    ),\n    groupIndices\n  );\n  connect(\n    pipe(\n      combineLatest(scrollTop, sizes, headerHeight),\n      filter(([_, sizes2]) => hasGroups(sizes2)),\n      map(([scrollTop2, state, headerHeight2]) => findMaxKeyValue(state.groupOffsetTree, Math.max(scrollTop2 - headerHeight2, 0), \"v\")[0]),\n      distinctUntilChanged(),\n      map((index) => [index])\n    ),\n    topItemsIndexes\n  );\n  return { groupCounts, topItemsIndexes };\n}, tup(sizeSystem, domIOSystem));\nfunction tupleComparator(prev, current) {\n  return !!(prev && prev[0] === current[0] && prev[1] === current[1]);\n}\nfunction rangeComparator(prev, next) {\n  return !!(prev && prev.startIndex === next.startIndex && prev.endIndex === next.endIndex);\n}\nconst TOP = \"top\";\nconst BOTTOM = \"bottom\";\nconst NONE = \"none\";\nfunction getOverscan(overscan, end, direction) {\n  if (typeof overscan === \"number\") {\n    return direction === UP && end === TOP || direction === DOWN && end === BOTTOM ? overscan : 0;\n  } else {\n    if (direction === UP) {\n      return end === TOP ? overscan.main : overscan.reverse;\n    } else {\n      return end === BOTTOM ? overscan.main : overscan.reverse;\n    }\n  }\n}\nfunction getViewportIncrease(value, end) {\n  return typeof value === \"number\" ? value : value[end] || 0;\n}\nconst sizeRangeSystem = system(\n  ([{ scrollTop, viewportHeight, deviation, headerHeight, fixedHeaderHeight }]) => {\n    const listBoundary = stream();\n    const topListHeight = statefulStream(0);\n    const increaseViewportBy = statefulStream(0);\n    const overscan = statefulStream(0);\n    const visibleRange = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          duc(scrollTop),\n          duc(viewportHeight),\n          duc(headerHeight),\n          duc(listBoundary, tupleComparator),\n          duc(overscan),\n          duc(topListHeight),\n          duc(fixedHeaderHeight),\n          duc(deviation),\n          duc(increaseViewportBy)\n        ),\n        map(\n          ([\n            scrollTop2,\n            viewportHeight2,\n            headerHeight2,\n            [listTop, listBottom],\n            overscan2,\n            topListHeight2,\n            fixedHeaderHeight2,\n            deviation2,\n            increaseViewportBy2\n          ]) => {\n            const top = scrollTop2 - deviation2;\n            const stickyHeaderHeight = topListHeight2 + fixedHeaderHeight2;\n            const headerVisible = Math.max(headerHeight2 - top, 0);\n            let direction = NONE;\n            const topViewportAddition = getViewportIncrease(increaseViewportBy2, TOP);\n            const bottomViewportAddition = getViewportIncrease(increaseViewportBy2, BOTTOM);\n            listTop -= deviation2;\n            listTop += headerHeight2 + fixedHeaderHeight2;\n            listBottom += headerHeight2 + fixedHeaderHeight2;\n            listBottom -= deviation2;\n            if (listTop > scrollTop2 + stickyHeaderHeight - topViewportAddition) {\n              direction = UP;\n            }\n            if (listBottom < scrollTop2 - headerVisible + viewportHeight2 + bottomViewportAddition) {\n              direction = DOWN;\n            }\n            if (direction !== NONE) {\n              return [\n                Math.max(top - headerHeight2 - getOverscan(overscan2, TOP, direction) - topViewportAddition, 0),\n                top - headerVisible - fixedHeaderHeight2 + viewportHeight2 + getOverscan(overscan2, BOTTOM, direction) + bottomViewportAddition\n              ];\n            }\n            return null;\n          }\n        ),\n        filter((value) => value != null),\n        distinctUntilChanged(tupleComparator)\n      ),\n      [0, 0]\n    );\n    return {\n      // input\n      listBoundary,\n      overscan,\n      topListHeight,\n      increaseViewportBy,\n      // output\n      visibleRange\n    };\n  },\n  tup(domIOSystem),\n  { singleton: true }\n);\nfunction probeItemSet(index, sizes, data) {\n  if (hasGroups(sizes)) {\n    const itemIndex = originalIndexFromItemIndex(index, sizes);\n    const groupIndex = findMaxKeyValue(sizes.groupOffsetTree, itemIndex)[0];\n    return [\n      { index: groupIndex, size: 0, offset: 0 },\n      { index: itemIndex, size: 0, offset: 0, data: data && data[0] }\n    ];\n  }\n  return [{ index, size: 0, offset: 0, data: data && data[0] }];\n}\nconst EMPTY_LIST_STATE = {\n  items: [],\n  topItems: [],\n  offsetTop: 0,\n  offsetBottom: 0,\n  top: 0,\n  bottom: 0,\n  topListHeight: 0,\n  totalCount: 0,\n  firstItemIndex: 0\n};\nfunction transposeItems(items, sizes, firstItemIndex) {\n  if (items.length === 0) {\n    return [];\n  }\n  if (!hasGroups(sizes)) {\n    return items.map((item) => ({ ...item, index: item.index + firstItemIndex, originalIndex: item.index }));\n  }\n  const startIndex = items[0].index;\n  const endIndex = items[items.length - 1].index;\n  const transposedItems = [];\n  const groupRanges = rangesWithin(sizes.groupOffsetTree, startIndex, endIndex);\n  let currentRange = void 0;\n  let currentGroupIndex = 0;\n  for (const item of items) {\n    if (!currentRange || currentRange.end < item.index) {\n      currentRange = groupRanges.shift();\n      currentGroupIndex = sizes.groupIndices.indexOf(currentRange.start);\n    }\n    let transposedItem;\n    if (item.index === currentRange.start) {\n      transposedItem = {\n        type: \"group\",\n        index: currentGroupIndex\n      };\n    } else {\n      transposedItem = {\n        index: item.index - (currentGroupIndex + 1) + firstItemIndex,\n        groupIndex: currentGroupIndex\n      };\n    }\n    transposedItems.push({\n      ...transposedItem,\n      size: item.size,\n      offset: item.offset,\n      originalIndex: item.index,\n      data: item.data\n    });\n  }\n  return transposedItems;\n}\nfunction buildListState(items, topItems, totalCount, gap, sizes, firstItemIndex) {\n  const { lastSize, lastOffset, lastIndex } = sizes;\n  let offsetTop = 0;\n  let bottom = 0;\n  if (items.length > 0) {\n    offsetTop = items[0].offset;\n    const lastItem = items[items.length - 1];\n    bottom = lastItem.offset + lastItem.size;\n  }\n  const itemCount = totalCount - lastIndex;\n  const total = lastOffset + itemCount * lastSize + (itemCount - 1) * gap;\n  const top = offsetTop;\n  const offsetBottom = total - bottom;\n  return {\n    items: transposeItems(items, sizes, firstItemIndex),\n    topItems: transposeItems(topItems, sizes, firstItemIndex),\n    topListHeight: topItems.reduce((height, item) => item.size + height, 0),\n    offsetTop,\n    offsetBottom,\n    top,\n    bottom,\n    totalCount,\n    firstItemIndex\n  };\n}\nfunction buildListStateFromItemCount(itemCount, initialTopMostItemIndex, sizes, firstItemIndex, gap, data) {\n  let includedGroupsCount = 0;\n  if (sizes.groupIndices.length > 0) {\n    for (const index of sizes.groupIndices) {\n      if (index - includedGroupsCount >= itemCount) {\n        break;\n      }\n      includedGroupsCount++;\n    }\n  }\n  const adjustedCount = itemCount + includedGroupsCount;\n  const initialTopMostItemIndexNumber = getInitialTopMostItemIndexNumber(initialTopMostItemIndex, adjustedCount);\n  const items = Array.from({ length: adjustedCount }).map((_, index) => ({\n    index: index + initialTopMostItemIndexNumber,\n    size: 0,\n    offset: 0,\n    data: data[index + initialTopMostItemIndexNumber]\n  }));\n  return buildListState(items, [], adjustedCount, gap, sizes, firstItemIndex);\n}\nconst listStateSystem = system(\n  ([\n    { sizes, totalCount, data, firstItemIndex, gap },\n    groupedListSystem2,\n    { visibleRange, listBoundary, topListHeight: rangeTopListHeight },\n    { scrolledToInitialItem, initialTopMostItemIndex },\n    { topListHeight },\n    stateFlags,\n    { didMount },\n    { recalcInProgress }\n  ]) => {\n    const topItemsIndexes = statefulStream([]);\n    const initialItemCount = statefulStream(0);\n    const itemsRendered = stream();\n    connect(groupedListSystem2.topItemsIndexes, topItemsIndexes);\n    const listState = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(\n          didMount,\n          recalcInProgress,\n          duc(visibleRange, tupleComparator),\n          duc(totalCount),\n          duc(sizes),\n          duc(initialTopMostItemIndex),\n          scrolledToInitialItem,\n          duc(topItemsIndexes),\n          duc(firstItemIndex),\n          duc(gap),\n          data\n        ),\n        filter(([mount, recalcInProgress2, , totalCount2, , , , , , , data2]) => {\n          const dataChangeInProgress = data2 && data2.length !== totalCount2;\n          return mount && !recalcInProgress2 && !dataChangeInProgress;\n        }),\n        map(\n          ([\n            ,\n            ,\n            [startOffset, endOffset],\n            totalCount2,\n            sizes2,\n            initialTopMostItemIndex2,\n            scrolledToInitialItem2,\n            topItemsIndexes2,\n            firstItemIndex2,\n            gap2,\n            data2\n          ]) => {\n            const sizesValue = sizes2;\n            const { sizeTree, offsetTree } = sizesValue;\n            const initialItemCountValue = getValue(initialItemCount);\n            if (totalCount2 === 0) {\n              return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n            }\n            if (startOffset === 0 && endOffset === 0) {\n              if (initialItemCountValue === 0) {\n                return { ...EMPTY_LIST_STATE, totalCount: totalCount2 };\n              } else {\n                return buildListStateFromItemCount(initialItemCountValue, initialTopMostItemIndex2, sizes2, firstItemIndex2, gap2, data2 || []);\n              }\n            }\n            if (empty(sizeTree)) {\n              if (initialItemCountValue > 0) {\n                return null;\n              }\n              const state = buildListState(\n                probeItemSet(getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2), sizesValue, data2),\n                [],\n                totalCount2,\n                gap2,\n                sizesValue,\n                firstItemIndex2\n              );\n              return state;\n            }\n            const topItems = [];\n            if (topItemsIndexes2.length > 0) {\n              const startIndex = topItemsIndexes2[0];\n              const endIndex = topItemsIndexes2[topItemsIndexes2.length - 1];\n              let offset = 0;\n              for (const range of rangesWithin(sizeTree, startIndex, endIndex)) {\n                const size = range.value;\n                const rangeStartIndex = Math.max(range.start, startIndex);\n                const rangeEndIndex = Math.min(range.end, endIndex);\n                for (let i = rangeStartIndex; i <= rangeEndIndex; i++) {\n                  topItems.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size;\n                }\n              }\n            }\n            if (!scrolledToInitialItem2) {\n              return buildListState([], topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n            }\n            const minStartIndex = topItemsIndexes2.length > 0 ? topItemsIndexes2[topItemsIndexes2.length - 1] + 1 : 0;\n            const offsetPointRanges = rangesWithinOffsets(offsetTree, startOffset, endOffset, minStartIndex);\n            if (offsetPointRanges.length === 0) {\n              return null;\n            }\n            const maxIndex = totalCount2 - 1;\n            const items = tap([], (result) => {\n              for (const range of offsetPointRanges) {\n                const point = range.value;\n                let offset = point.offset;\n                let rangeStartIndex = range.start;\n                const size = point.size;\n                if (point.offset < startOffset) {\n                  rangeStartIndex += Math.floor((startOffset - point.offset + gap2) / (size + gap2));\n                  const itemCount = rangeStartIndex - range.start;\n                  offset += itemCount * size + itemCount * gap2;\n                }\n                if (rangeStartIndex < minStartIndex) {\n                  offset += (minStartIndex - rangeStartIndex) * size;\n                  rangeStartIndex = minStartIndex;\n                }\n                const endIndex = Math.min(range.end, maxIndex);\n                for (let i = rangeStartIndex; i <= endIndex; i++) {\n                  if (offset >= endOffset) {\n                    break;\n                  }\n                  result.push({ index: i, size, offset, data: data2 && data2[i] });\n                  offset += size + gap2;\n                }\n              }\n            });\n            return buildListState(items, topItems, totalCount2, gap2, sizesValue, firstItemIndex2);\n          }\n        ),\n        //@ts-expect-error filter needs to be fixed\n        filter((value) => value !== null),\n        distinctUntilChanged()\n      ),\n      EMPTY_LIST_STATE\n    );\n    connect(\n      pipe(\n        data,\n        filter(isDefined),\n        map((data2) => data2 == null ? void 0 : data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        listState,\n        map((value) => value.topListHeight)\n      ),\n      topListHeight\n    );\n    connect(topListHeight, rangeTopListHeight);\n    connect(\n      pipe(\n        listState,\n        map((state) => [state.top, state.bottom])\n      ),\n      listBoundary\n    );\n    connect(\n      pipe(\n        listState,\n        map((state) => state.items)\n      ),\n      itemsRendered\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, data),\n        filter(([{ items }, totalCount2]) => items[items.length - 1].originalIndex === totalCount2 - 1),\n        map(([, totalCount2, data2]) => [totalCount2 - 1, data2]),\n        distinctUntilChanged(tupleComparator),\n        map(([count]) => count)\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        listState,\n        throttleTime(200),\n        filter(({ items, topItems }) => {\n          return items.length > 0 && items[0].originalIndex === topItems.length;\n        }),\n        map(({ items }) => items[0].index),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        listState,\n        filter(({ items }) => items.length > 0),\n        map(({ items }) => {\n          let startIndex = 0;\n          let endIndex = items.length - 1;\n          while (items[startIndex].type === \"group\" && startIndex < endIndex) {\n            startIndex++;\n          }\n          while (items[endIndex].type === \"group\" && endIndex > startIndex) {\n            endIndex--;\n          }\n          return {\n            startIndex: items[startIndex].index,\n            endIndex: items[endIndex].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator)\n      )\n    );\n    return { listState, topItemsIndexes, endReached, startReached, rangeChanged, itemsRendered, initialItemCount, ...stateFlags };\n  },\n  tup(\n    sizeSystem,\n    groupedListSystem,\n    sizeRangeSystem,\n    initialTopMostItemIndexSystem,\n    scrollToIndexSystem,\n    stateFlagsSystem,\n    propsReadySystem,\n    recalcSystem\n  ),\n  { singleton: true }\n);\nconst initialItemCountSystem = system(\n  ([{ sizes, firstItemIndex, data, gap }, { initialTopMostItemIndex }, { initialItemCount, listState }, { didMount }]) => {\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(initialItemCount),\n        filter(([, count]) => count !== 0),\n        withLatestFrom(initialTopMostItemIndex, sizes, firstItemIndex, gap, data),\n        map(([[, count], initialTopMostItemIndexValue, sizes2, firstItemIndex2, gap2, data2 = []]) => {\n          return buildListStateFromItemCount(count, initialTopMostItemIndexValue, sizes2, firstItemIndex2, gap2, data2);\n        })\n      ),\n      listState\n    );\n    return {};\n  },\n  tup(sizeSystem, initialTopMostItemIndexSystem, listStateSystem, propsReadySystem),\n  { singleton: true }\n);\nconst scrollSeekSystem = system(\n  ([{ scrollVelocity }]) => {\n    const isSeeking = statefulStream(false);\n    const rangeChanged = stream();\n    const scrollSeekConfiguration = statefulStream(false);\n    connect(\n      pipe(\n        scrollVelocity,\n        withLatestFrom(scrollSeekConfiguration, isSeeking, rangeChanged),\n        filter(([_, config]) => !!config),\n        map(([speed, config, isSeeking2, range]) => {\n          const { exit, enter } = config;\n          if (isSeeking2) {\n            if (exit(speed, range)) {\n              return false;\n            }\n          } else {\n            if (enter(speed, range)) {\n              return true;\n            }\n          }\n          return isSeeking2;\n        }),\n        distinctUntilChanged()\n      ),\n      isSeeking\n    );\n    subscribe(\n      pipe(combineLatest(isSeeking, scrollVelocity, rangeChanged), withLatestFrom(scrollSeekConfiguration)),\n      ([[isSeeking2, velocity, range], config]) => isSeeking2 && config && config.change && config.change(velocity, range)\n    );\n    return { isSeeking, scrollSeekConfiguration, scrollVelocity, scrollSeekRangeChanged: rangeChanged };\n  },\n  tup(stateFlagsSystem),\n  { singleton: true }\n);\nconst topItemCountSystem = system(([{ topItemsIndexes }]) => {\n  const topItemCount = statefulStream(0);\n  connect(\n    pipe(\n      topItemCount,\n      filter((length) => length > 0),\n      map((length) => Array.from({ length }).map((_, index) => index))\n    ),\n    topItemsIndexes\n  );\n  return { topItemCount };\n}, tup(listStateSystem));\nconst totalListHeightSystem = system(\n  ([{ footerHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight }, { listState }]) => {\n    const totalListHeightChanged = stream();\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(footerHeight, fixedFooterHeight, headerHeight, fixedHeaderHeight, listState),\n        map(([footerHeight2, fixedFooterHeight2, headerHeight2, fixedHeaderHeight2, listState2]) => {\n          return footerHeight2 + fixedFooterHeight2 + headerHeight2 + fixedHeaderHeight2 + listState2.offsetBottom + listState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(duc(totalListHeight), totalListHeightChanged);\n    return { totalListHeight, totalListHeightChanged };\n  },\n  tup(domIOSystem, listStateSystem),\n  { singleton: true }\n);\nfunction simpleMemoize(func) {\n  let called = false;\n  let result;\n  return () => {\n    if (!called) {\n      called = true;\n      result = func();\n    }\n    return result;\n  };\n}\nconst isMobileSafari = simpleMemoize(() => {\n  return /iP(ad|od|hone)/i.test(navigator.userAgent) && /WebKit/i.test(navigator.userAgent);\n});\nconst upwardScrollFixSystem = system(\n  ([\n    { scrollBy, scrollTop, deviation, scrollingInProgress },\n    { isScrolling, isAtBottom, scrollDirection, lastJumpDueToItemResize },\n    { listState },\n    { beforeUnshiftWith, shiftWithOffset, sizes, gap },\n    { log },\n    { recalcInProgress }\n  ]) => {\n    const deviationOffset = streamFromEmitter(\n      pipe(\n        listState,\n        withLatestFrom(lastJumpDueToItemResize),\n        scan(\n          ([, prevItems, prevTotalCount, prevTotalHeight], [{ items, totalCount, bottom, offsetBottom }, lastJumpDueToItemResize2]) => {\n            const totalHeight = bottom + offsetBottom;\n            let newDev = 0;\n            if (prevTotalCount === totalCount) {\n              if (prevItems.length > 0 && items.length > 0) {\n                const atStart = items[0].originalIndex === 0 && prevItems[0].originalIndex === 0;\n                if (!atStart) {\n                  newDev = totalHeight - prevTotalHeight;\n                  if (newDev !== 0) {\n                    newDev += lastJumpDueToItemResize2;\n                  }\n                }\n              }\n            }\n            return [newDev, items, totalCount, totalHeight];\n          },\n          [0, [], 0, 0]\n        ),\n        filter(([amount]) => amount !== 0),\n        withLatestFrom(scrollTop, scrollDirection, scrollingInProgress, isAtBottom, log, recalcInProgress),\n        filter(([, scrollTop2, scrollDirection2, scrollingInProgress2, , , recalcInProgress2]) => {\n          return !recalcInProgress2 && !scrollingInProgress2 && scrollTop2 !== 0 && scrollDirection2 === UP;\n        }),\n        map(([[amount], , , , , log2]) => {\n          log2(\"Upward scrolling compensation\", { amount }, LogLevel.DEBUG);\n          return amount;\n        })\n      )\n    );\n    function scrollByWith(offset) {\n      if (offset > 0) {\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n        publish(deviation, 0);\n      } else {\n        publish(deviation, 0);\n        publish(scrollBy, { top: -offset, behavior: \"auto\" });\n      }\n    }\n    subscribe(pipe(deviationOffset, withLatestFrom(deviation, isScrolling)), ([offset, deviationAmount, isScrolling2]) => {\n      if (isScrolling2 && isMobileSafari()) {\n        publish(deviation, deviationAmount - offset);\n      } else {\n        scrollByWith(-offset);\n      }\n    });\n    subscribe(\n      pipe(\n        combineLatest(statefulStreamFromEmitter(isScrolling, false), deviation, recalcInProgress),\n        filter(([is, deviation2, recalc]) => !is && !recalc && deviation2 !== 0),\n        map(([_, deviation2]) => deviation2),\n        throttleTime(1)\n      ),\n      scrollByWith\n    );\n    connect(\n      pipe(\n        shiftWithOffset,\n        map((offset) => {\n          return { top: -offset };\n        })\n      ),\n      scrollBy\n    );\n    subscribe(\n      pipe(\n        beforeUnshiftWith,\n        withLatestFrom(sizes, gap),\n        map(([offset, { lastSize: defaultItemSize, groupIndices, sizeTree }, gap2]) => {\n          function getItemOffset(itemCount) {\n            return itemCount * (defaultItemSize + gap2);\n          }\n          if (groupIndices.length === 0) {\n            return getItemOffset(offset);\n          } else {\n            let amount = 0;\n            const defaultGroupSize = find(sizeTree, 0);\n            let recognizedOffsetItems = 0;\n            let groupIndex = 0;\n            while (recognizedOffsetItems < offset) {\n              recognizedOffsetItems++;\n              amount += defaultGroupSize;\n              let groupItemCount = groupIndices.length === groupIndex + 1 ? Infinity : groupIndices[groupIndex + 1] - groupIndices[groupIndex] - 1;\n              if (recognizedOffsetItems + groupItemCount > offset) {\n                amount -= defaultGroupSize;\n                groupItemCount = offset - recognizedOffsetItems + 1;\n              }\n              recognizedOffsetItems += groupItemCount;\n              amount += getItemOffset(groupItemCount);\n              groupIndex++;\n            }\n            return amount;\n          }\n        })\n      ),\n      (offset) => {\n        publish(deviation, offset);\n        requestAnimationFrame(() => {\n          publish(scrollBy, { top: offset });\n          requestAnimationFrame(() => {\n            publish(deviation, 0);\n            publish(recalcInProgress, false);\n          });\n        });\n      }\n    );\n    return { deviation };\n  },\n  tup(domIOSystem, stateFlagsSystem, listStateSystem, sizeSystem, loggerSystem, recalcSystem)\n);\nconst initialScrollTopSystem = system(\n  ([{ didMount }, { scrollTo }, { listState }]) => {\n    const initialScrollTop = statefulStream(0);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialScrollTop),\n        filter(([, offset]) => offset !== 0),\n        map(([, offset]) => ({ top: offset }))\n      ),\n      (location) => {\n        handleNext(\n          pipe(\n            listState,\n            skip(1),\n            filter((state) => state.items.length > 1)\n          ),\n          () => {\n            requestAnimationFrame(() => {\n              publish(scrollTo, location);\n            });\n          }\n        );\n      }\n    );\n    return {\n      initialScrollTop\n    };\n  },\n  tup(propsReadySystem, domIOSystem, listStateSystem),\n  { singleton: true }\n);\nconst alignToBottomSystem = system(\n  ([{ viewportHeight }, { totalListHeight }]) => {\n    const alignToBottom = statefulStream(false);\n    const paddingTopAddition = statefulStreamFromEmitter(\n      pipe(\n        combineLatest(alignToBottom, viewportHeight, totalListHeight),\n        filter(([enabled]) => enabled),\n        map(([, viewportHeight2, totalListHeight2]) => {\n          return Math.max(0, viewportHeight2 - totalListHeight2);\n        }),\n        throttleTime(0),\n        distinctUntilChanged()\n      ),\n      0\n    );\n    return { alignToBottom, paddingTopAddition };\n  },\n  tup(domIOSystem, totalListHeightSystem),\n  { singleton: true }\n);\nconst windowScrollerSystem = system(([{ scrollTo, scrollContainerState }]) => {\n  const windowScrollContainerState = stream();\n  const windowViewportRect = stream();\n  const windowScrollTo = stream();\n  const useWindowScroll = statefulStream(false);\n  const customScrollParent = statefulStream(void 0);\n  connect(\n    pipe(\n      combineLatest(windowScrollContainerState, windowViewportRect),\n      map(([{ viewportHeight, scrollTop: windowScrollTop, scrollHeight }, { offsetTop }]) => {\n        return {\n          scrollTop: Math.max(0, windowScrollTop - offsetTop),\n          scrollHeight,\n          viewportHeight\n        };\n      })\n    ),\n    scrollContainerState\n  );\n  connect(\n    pipe(\n      scrollTo,\n      withLatestFrom(windowViewportRect),\n      map(([scrollTo2, { offsetTop }]) => {\n        return {\n          ...scrollTo2,\n          top: scrollTo2.top + offsetTop\n        };\n      })\n    ),\n    windowScrollTo\n  );\n  return {\n    // config\n    useWindowScroll,\n    customScrollParent,\n    // input\n    windowScrollContainerState,\n    windowViewportRect,\n    // signals\n    windowScrollTo\n  };\n}, tup(domIOSystem));\nconst defaultCalculateViewLocation = ({\n  itemTop: itemTop2,\n  itemBottom,\n  viewportTop,\n  viewportBottom,\n  locationParams: { behavior, align, ...rest }\n}) => {\n  if (itemTop2 < viewportTop) {\n    return { ...rest, behavior, align: align != null ? align : \"start\" };\n  }\n  if (itemBottom > viewportBottom) {\n    return { ...rest, behavior, align: align != null ? align : \"end\" };\n  }\n  return null;\n};\nconst scrollIntoViewSystem = system(\n  ([\n    { sizes, totalCount, gap },\n    { scrollTop, viewportHeight, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollingInProgress },\n    { scrollToIndex }\n  ]) => {\n    const scrollIntoView = stream();\n    connect(\n      pipe(\n        scrollIntoView,\n        withLatestFrom(sizes, viewportHeight, totalCount, headerHeight, fixedHeaderHeight, fixedFooterHeight, scrollTop),\n        withLatestFrom(gap),\n        map(([[viewLocation, sizes2, viewportHeight2, totalCount2, headerHeight2, fixedHeaderHeight2, fixedFooterHeight2, scrollTop2], gap2]) => {\n          const { done, behavior, align, calculateViewLocation = defaultCalculateViewLocation, ...rest } = viewLocation;\n          const actualIndex = originalIndexFromLocation(viewLocation, sizes2, totalCount2 - 1);\n          const itemTop2 = offsetOf(actualIndex, sizes2.offsetTree, gap2) + headerHeight2 + fixedHeaderHeight2;\n          const itemBottom = itemTop2 + findMaxKeyValue(sizes2.sizeTree, actualIndex)[1];\n          const viewportTop = scrollTop2 + fixedHeaderHeight2;\n          const viewportBottom = scrollTop2 + viewportHeight2 - fixedFooterHeight2;\n          const location = calculateViewLocation({\n            itemTop: itemTop2,\n            itemBottom,\n            viewportTop,\n            viewportBottom,\n            locationParams: { behavior, align, ...rest }\n          });\n          if (location) {\n            done && handleNext(\n              pipe(\n                scrollingInProgress,\n                filter((value) => value === false),\n                // skips the initial publish of false, and the cleanup call.\n                // but if scrollingInProgress is true, we skip the initial publish.\n                skip(getValue(scrollingInProgress) ? 1 : 2)\n              ),\n              done\n            );\n          } else {\n            done && done();\n          }\n          return location;\n        }),\n        filter((value) => value !== null)\n      ),\n      scrollToIndex\n    );\n    return {\n      scrollIntoView\n    };\n  },\n  tup(sizeSystem, domIOSystem, scrollToIndexSystem, listStateSystem, loggerSystem),\n  { singleton: true }\n);\nconst stateLoadSystem = system(\n  ([\n    { sizes, sizeRanges },\n    { scrollTop },\n    { initialTopMostItemIndex },\n    { didMount },\n    { useWindowScroll, windowScrollContainerState, windowViewportRect }\n  ]) => {\n    const getState = stream();\n    const restoreStateFrom = statefulStream(void 0);\n    const statefulWindowScrollContainerState = statefulStream(null);\n    const statefulWindowViewportRect = statefulStream(null);\n    connect(windowScrollContainerState, statefulWindowScrollContainerState);\n    connect(windowViewportRect, statefulWindowViewportRect);\n    subscribe(\n      pipe(getState, withLatestFrom(sizes, scrollTop, useWindowScroll, statefulWindowScrollContainerState, statefulWindowViewportRect)),\n      ([callback, sizes2, scrollTop2, useWindowScroll2, windowScrollContainerState2, windowViewportRect2]) => {\n        const ranges = sizeTreeToRanges(sizes2.sizeTree);\n        if (useWindowScroll2 && windowScrollContainerState2 !== null && windowViewportRect2 !== null) {\n          scrollTop2 = windowScrollContainerState2.scrollTop - windowViewportRect2.offsetTop;\n        }\n        callback({ ranges, scrollTop: scrollTop2 });\n      }\n    );\n    connect(pipe(restoreStateFrom, filter(isDefined), map(locationFromSnapshot)), initialTopMostItemIndex);\n    connect(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, state]) => state !== void 0),\n        distinctUntilChanged(),\n        map(([, snapshot]) => {\n          return snapshot.ranges;\n        })\n      ),\n      sizeRanges\n    );\n    return {\n      getState,\n      restoreStateFrom\n    };\n  },\n  tup(sizeSystem, domIOSystem, initialTopMostItemIndexSystem, propsReadySystem, windowScrollerSystem)\n);\nfunction locationFromSnapshot(snapshot) {\n  return { offset: snapshot.scrollTop, index: 0, align: \"start\" };\n}\nconst featureGroup1System = system(\n  ([\n    sizeRange,\n    initialItemCount,\n    propsReady,\n    scrollSeek,\n    totalListHeight,\n    initialScrollTopSystem2,\n    alignToBottom,\n    windowScroller,\n    scrollIntoView,\n    logger\n  ]) => {\n    return {\n      ...sizeRange,\n      ...initialItemCount,\n      ...propsReady,\n      ...scrollSeek,\n      ...totalListHeight,\n      ...initialScrollTopSystem2,\n      ...alignToBottom,\n      ...windowScroller,\n      ...scrollIntoView,\n      ...logger\n    };\n  },\n  tup(\n    sizeRangeSystem,\n    initialItemCountSystem,\n    propsReadySystem,\n    scrollSeekSystem,\n    totalListHeightSystem,\n    initialScrollTopSystem,\n    alignToBottomSystem,\n    windowScrollerSystem,\n    scrollIntoViewSystem,\n    loggerSystem\n  )\n);\nconst listSystem = system(\n  ([\n    {\n      totalCount,\n      sizeRanges,\n      fixedItemSize,\n      defaultItemSize,\n      trackItemSizes,\n      itemSize,\n      data,\n      firstItemIndex,\n      groupIndices,\n      statefulTotalCount,\n      gap,\n      sizes\n    },\n    { initialTopMostItemIndex, scrolledToInitialItem, initialItemFinalLocationReached },\n    domIO,\n    stateLoad,\n    followOutput,\n    { listState, topItemsIndexes, ...flags },\n    { scrollToIndex },\n    _,\n    { topItemCount },\n    { groupCounts },\n    featureGroup1\n  ]) => {\n    connect(flags.rangeChanged, featureGroup1.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        featureGroup1.windowViewportRect,\n        map((value) => value.visibleHeight)\n      ),\n      domIO.viewportHeight\n    );\n    return {\n      // input\n      totalCount,\n      data,\n      firstItemIndex,\n      sizeRanges,\n      initialTopMostItemIndex,\n      scrolledToInitialItem,\n      initialItemFinalLocationReached,\n      topItemsIndexes,\n      topItemCount,\n      groupCounts,\n      fixedItemHeight: fixedItemSize,\n      defaultItemHeight: defaultItemSize,\n      gap,\n      ...followOutput,\n      // output\n      statefulTotalCount,\n      listState,\n      scrollToIndex,\n      trackItemSizes,\n      itemSize,\n      groupIndices,\n      // exported from stateFlagsSystem\n      ...flags,\n      // the bag of IO from featureGroup1System\n      ...featureGroup1,\n      ...domIO,\n      sizes,\n      ...stateLoad\n    };\n  },\n  tup(\n    sizeSystem,\n    initialTopMostItemIndexSystem,\n    domIOSystem,\n    stateLoadSystem,\n    followOutputSystem,\n    listStateSystem,\n    scrollToIndexSystem,\n    upwardScrollFixSystem,\n    topItemCountSystem,\n    groupedListSystem,\n    featureGroup1System\n  )\n);\nconst WEBKIT_STICKY = \"-webkit-sticky\";\nconst STICKY = \"sticky\";\nconst positionStickyCssValue = simpleMemoize(() => {\n  if (typeof document === \"undefined\") {\n    return STICKY;\n  }\n  const node = document.createElement(\"div\");\n  node.style.position = WEBKIT_STICKY;\n  return node.style.position === WEBKIT_STICKY ? WEBKIT_STICKY : STICKY;\n});\nfunction useWindowViewportRectRef(callback, customScrollParent) {\n  const viewportInfo = react__WEBPACK_IMPORTED_MODULE_0__.useRef(null);\n  const calculateInfo = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (element) => {\n      if (element === null || !element.offsetParent) {\n        return;\n      }\n      const rect = element.getBoundingClientRect();\n      const visibleWidth = rect.width;\n      let visibleHeight, offsetTop;\n      if (customScrollParent) {\n        const customScrollParentRect = customScrollParent.getBoundingClientRect();\n        const deltaTop = rect.top - customScrollParentRect.top;\n        visibleHeight = customScrollParentRect.height - Math.max(0, deltaTop);\n        offsetTop = deltaTop + customScrollParent.scrollTop;\n      } else {\n        visibleHeight = window.innerHeight - Math.max(0, rect.top);\n        offsetTop = rect.top + window.pageYOffset;\n      }\n      viewportInfo.current = {\n        offsetTop,\n        visibleHeight,\n        visibleWidth\n      };\n      callback(viewportInfo.current);\n    },\n    [callback, customScrollParent]\n  );\n  const { callbackRef, ref } = useSizeWithElRef(calculateInfo);\n  const scrollAndResizeEventHandler = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    calculateInfo(ref.current);\n  }, [calculateInfo, ref]);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (customScrollParent) {\n      customScrollParent.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      const observer = new ResizeObserver(() => {\n        requestAnimationFrame(scrollAndResizeEventHandler);\n      });\n      observer.observe(customScrollParent);\n      return () => {\n        customScrollParent.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        observer.unobserve(customScrollParent);\n      };\n    } else {\n      window.addEventListener(\"scroll\", scrollAndResizeEventHandler);\n      window.addEventListener(\"resize\", scrollAndResizeEventHandler);\n      return () => {\n        window.removeEventListener(\"scroll\", scrollAndResizeEventHandler);\n        window.removeEventListener(\"resize\", scrollAndResizeEventHandler);\n      };\n    }\n  }, [scrollAndResizeEventHandler, customScrollParent]);\n  return callbackRef;\n}\nconst VirtuosoMockContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nconst VirtuosoGridMockContext = react__WEBPACK_IMPORTED_MODULE_0__.createContext(void 0);\nfunction identity(value) {\n  return value;\n}\nconst listComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const context = statefulStream(null);\n  const groupContent = statefulStream((index) => `Group ${index}`);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    groupContent,\n    components,\n    computeItemKey,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    TopItemListComponent: distinctProp(\"TopItemList\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    GroupComponent: distinctProp(\"Group\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\")\n  };\n});\nconst combinedSystem$2 = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, listComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder$1 = ({ height }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: { height } });\nconst GROUP_STYLE = { position: positionStickyCssValue(), zIndex: 1, overflowAnchor: \"none\" };\nconst ITEM_STYLE$1 = { overflowAnchor: \"none\" };\nconst Items$1 = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoItems({ showTopList = false }) {\n  const listState = useEmitterValue$2(\"listState\");\n  const sizeRanges = usePublisher$2(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher$2(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher$2(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue$2(\"itemContent\");\n  const context = useEmitterValue$2(\"context\");\n  const groupContent = useEmitterValue$2(\"groupContent\");\n  const trackItemSizes = useEmitterValue$2(\"trackItemSizes\");\n  const itemSize = useEmitterValue$2(\"itemSize\");\n  const log = useEmitterValue$2(\"log\");\n  const listGap = usePublisher$2(\"gap\");\n  const { callbackRef } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    showTopList ? noop : scrollContainerStateCallback,\n    log,\n    listGap,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  useEmitter$2(\"deviation\", (value) => {\n    if (deviation !== value) {\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue$2(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue$2(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder$1;\n  const ListComponent = useEmitterValue$2(\"ListComponent\");\n  const ItemComponent = useEmitterValue$2(\"ItemComponent\");\n  const GroupComponent = useEmitterValue$2(\"GroupComponent\");\n  const computeItemKey = useEmitterValue$2(\"computeItemKey\");\n  const isSeeking = useEmitterValue$2(\"isSeeking\");\n  const hasGroups2 = useEmitterValue$2(\"groupIndices\").length > 0;\n  const alignToBottom = useEmitterValue$2(\"alignToBottom\");\n  const initialItemFinalLocationReached = useEmitterValue$2(\"initialItemFinalLocationReached\");\n  const containerStyle = showTopList ? {} : {\n    boxSizing: \"border-box\",\n    paddingTop: listState.offsetTop,\n    paddingBottom: listState.offsetBottom,\n    marginTop: deviation !== 0 ? deviation : alignToBottom ? \"auto\" : 0,\n    ...initialItemFinalLocationReached ? {} : { visibility: \"hidden\" }\n  };\n  if (!showTopList && listState.totalCount === 0 && EmptyPlaceholder) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    ListComponent,\n    {\n      ...contextPropIfNotDomElement(ListComponent, context),\n      ref: callbackRef,\n      style: containerStyle,\n      \"data-test-id\": showTopList ? \"virtuoso-top-item-list\" : \"virtuoso-item-list\"\n    },\n    (showTopList ? listState.topItems : listState.items).map((item) => {\n      const index = item.originalIndex;\n      const key = computeItemKey(index + listState.firstItemIndex, item.data, context);\n      if (isSeeking) {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScrollSeekPlaceholder, {\n          ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n          key,\n          index: item.index,\n          height: item.size,\n          type: item.type || \"item\",\n          ...item.type === \"group\" ? {} : { groupIndex: item.groupIndex }\n        });\n      }\n      if (item.type === \"group\") {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n          GroupComponent,\n          {\n            ...contextPropIfNotDomElement(GroupComponent, context),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            style: GROUP_STYLE\n          },\n          groupContent(item.index, context)\n        );\n      } else {\n        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n          ItemComponent,\n          {\n            ...contextPropIfNotDomElement(ItemComponent, context),\n            ...itemPropIfNotDomElement(ItemComponent, item.data),\n            key,\n            \"data-index\": index,\n            \"data-known-size\": item.size,\n            \"data-item-index\": item.index,\n            \"data-item-group-index\": item.groupIndex,\n            style: ITEM_STYLE$1\n          },\n          hasGroups2 ? itemContent(item.index, item.groupIndex, item.data, context) : itemContent(item.index, item.data, context)\n        );\n      }\n    })\n  );\n});\nconst scrollerStyle = {\n  height: \"100%\",\n  outline: \"none\",\n  overflowY: \"auto\",\n  position: \"relative\",\n  WebkitOverflowScrolling: \"touch\"\n};\nconst viewportStyle = (alignToBottom) => ({\n  width: \"100%\",\n  height: \"100%\",\n  position: \"absolute\",\n  top: 0,\n  ...alignToBottom ? { display: \"flex\", flexDirection: \"column\" } : {}\n});\nconst topItemListStyle = {\n  width: \"100%\",\n  position: positionStickyCssValue(),\n  top: 0,\n  zIndex: 1\n};\nfunction contextPropIfNotDomElement(element, context) {\n  if (typeof element === \"string\") {\n    return void 0;\n  }\n  return { context };\n}\nfunction itemPropIfNotDomElement(element, item) {\n  return { item: typeof element === \"string\" ? void 0 : item };\n}\nconst Header$1 = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoHeader() {\n  const Header2 = useEmitterValue$2(\"HeaderComponent\");\n  const headerHeight = usePublisher$2(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Header2 ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(headerFooterTag, { ref }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer$1 = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoFooter() {\n  const Footer2 = useEmitterValue$2(\"FooterComponent\");\n  const footerHeight = usePublisher$2(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$2(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$2(\"context\");\n  return Footer2 ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(headerFooterTag, { ref }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nfunction buildScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"scrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const scrollerRefCallback = useEmitterValue2(\"scrollerRef\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      scrollerRefCallback\n    );\n    useEmitter2(\"scrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      ScrollerComponent,\n      {\n        ref: scrollerRef,\n        style: { ...scrollerStyle, ...style },\n        \"data-test-id\": \"virtuoso-scroller\",\n        \"data-virtuoso-scroller\": true,\n        tabIndex: 0,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nfunction buildWindowScroller({ usePublisher: usePublisher2, useEmitter: useEmitter2, useEmitterValue: useEmitterValue2 }) {\n  const Scroller2 = react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoWindowScroller({ style, children, ...props }) {\n    const scrollContainerStateCallback = usePublisher2(\"windowScrollContainerState\");\n    const ScrollerComponent = useEmitterValue2(\"ScrollerComponent\");\n    const smoothScrollTargetReached = usePublisher2(\"smoothScrollTargetReached\");\n    const totalListHeight = useEmitterValue2(\"totalListHeight\");\n    const deviation = useEmitterValue2(\"deviation\");\n    const customScrollParent = useEmitterValue2(\"customScrollParent\");\n    const context = useEmitterValue2(\"context\");\n    const { scrollerRef, scrollByCallback, scrollToCallback } = useScrollTop(\n      scrollContainerStateCallback,\n      smoothScrollTargetReached,\n      ScrollerComponent,\n      noop,\n      customScrollParent\n    );\n    useIsomorphicLayoutEffect$1(() => {\n      scrollerRef.current = customScrollParent ? customScrollParent : window;\n      return () => {\n        scrollerRef.current = null;\n      };\n    }, [scrollerRef, customScrollParent]);\n    useEmitter2(\"windowScrollTo\", scrollToCallback);\n    useEmitter2(\"scrollBy\", scrollByCallback);\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      ScrollerComponent,\n      {\n        style: { position: \"relative\", ...style, ...totalListHeight !== 0 ? { height: totalListHeight + deviation } : {} },\n        \"data-virtuoso-scroller\": true,\n        ...props,\n        ...contextPropIfNotDomElement(ScrollerComponent, context)\n      },\n      children\n    );\n  });\n  return Scroller2;\n}\nconst Viewport$2 = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher$2(\"viewportHeight\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const alignToBottom = useEmitterValue$2(\"alignToBottom\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: viewportStyle(alignToBottom), ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport$2 = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher$2(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher$2(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  const alignToBottom = useEmitterValue$2(\"alignToBottom\");\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: viewportRef, style: viewportStyle(alignToBottom), \"data-viewport-type\": \"window\" }, children);\n};\nconst TopItemListContainer = ({ children }) => {\n  const TopItemList = useEmitterValue$2(\"TopItemListComponent\") || \"div\";\n  const headerHeight = useEmitterValue$2(\"headerHeight\");\n  const style = { ...topItemListStyle, marginTop: `${headerHeight}px` };\n  const context = useEmitterValue$2(\"context\");\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(TopItemList, { style, ...contextPropIfNotDomElement(TopItemList, context) }, children);\n};\nconst ListRoot = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue$2(\"useWindowScroll\");\n  const showTopList = useEmitterValue$2(\"topItemsIndexes\").length > 0;\n  const customScrollParent = useEmitterValue$2(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$2 : Scroller$2;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$2 : Viewport$2;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheScroller, { ...props }, showTopList && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TopItemListContainer, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Items$1, { showTopList: true })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheViewport, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Header$1, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Items$1, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Footer$1, null)));\n});\nconst {\n  Component: List,\n  usePublisher: usePublisher$2,\n  useEmitterValue: useEmitterValue$2,\n  useEmitter: useEmitter$2\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$2,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      itemContent: \"itemContent\",\n      groupContent: \"groupContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      groupCounts: \"groupCounts\",\n      topItemCount: \"topItemCount\",\n      firstItemIndex: \"firstItemIndex\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      autoscrollToBottom: \"autoscrollToBottom\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  ListRoot\n);\nconst Scroller$2 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst WindowScroller$2 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$2, useEmitterValue: useEmitterValue$2, useEmitter: useEmitter$2 });\nconst Virtuoso = List;\nconst GroupedVirtuoso = List;\nconst INITIAL_GRID_STATE = {\n  items: [],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst PROBE_GRID_STATE = {\n  items: [{ index: 0 }],\n  offsetBottom: 0,\n  offsetTop: 0,\n  top: 0,\n  bottom: 0,\n  itemHeight: 0,\n  itemWidth: 0\n};\nconst { round, ceil, floor, min, max } = Math;\nfunction buildProbeGridState(items) {\n  return {\n    ...PROBE_GRID_STATE,\n    items\n  };\n}\nfunction buildItems(startIndex, endIndex, data) {\n  return Array.from({ length: endIndex - startIndex + 1 }).map((_, i) => {\n    const dataItem = data === null ? null : data[i + startIndex];\n    return { index: i + startIndex, data: dataItem };\n  });\n}\nfunction gapComparator(prev, next) {\n  return prev && prev.column === next.column && prev.row === next.row;\n}\nfunction dimensionComparator(prev, next) {\n  return prev && prev.width === next.width && prev.height === next.height;\n}\nconst gridSystem = /* @__PURE__ */ system(\n  ([\n    { overscan, visibleRange, listBoundary },\n    { scrollTop, viewportHeight, scrollBy, scrollTo, smoothScrollTargetReached, scrollContainerState, footerHeight, headerHeight },\n    stateFlags,\n    scrollSeek,\n    { propsReady, didMount },\n    { windowViewportRect, useWindowScroll, customScrollParent, windowScrollContainerState, windowScrollTo },\n    log\n  ]) => {\n    const totalCount = statefulStream(0);\n    const initialItemCount = statefulStream(0);\n    const gridState = statefulStream(INITIAL_GRID_STATE);\n    const viewportDimensions = statefulStream({ height: 0, width: 0 });\n    const itemDimensions = statefulStream({ height: 0, width: 0 });\n    const scrollToIndex = stream();\n    const scrollHeight = stream();\n    const deviation = statefulStream(0);\n    const data = statefulStream(null);\n    const gap = statefulStream({ row: 0, column: 0 });\n    const stateChanged = stream();\n    const restoreStateFrom = stream();\n    const stateRestoreInProgress = statefulStream(false);\n    const initialTopMostItemIndex = statefulStream(0);\n    const scrolledToInitialItem = statefulStream(true);\n    const scrollScheduled = statefulStream(false);\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(initialTopMostItemIndex),\n        filter(([_, location]) => !!location)\n      ),\n      () => {\n        publish(scrolledToInitialItem, false);\n        publish(initialItemCount, 0);\n      }\n    );\n    subscribe(\n      pipe(\n        combineLatest(didMount, scrolledToInitialItem, itemDimensions, viewportDimensions, initialTopMostItemIndex, scrollScheduled),\n        filter(([didMount2, scrolledToInitialItem2, itemDimensions2, viewportDimensions2, , scrollScheduled2]) => {\n          return didMount2 && !scrolledToInitialItem2 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0 && !scrollScheduled2;\n        })\n      ),\n      ([, , , , initialTopMostItemIndex2]) => {\n        publish(scrollScheduled, true);\n        skipFrames(1, () => {\n          publish(scrollToIndex, initialTopMostItemIndex2);\n        });\n        handleNext(pipe(scrollTop), () => {\n          publish(listBoundary, [0, 0]);\n          publish(scrolledToInitialItem, true);\n        });\n      }\n    );\n    connect(\n      pipe(\n        restoreStateFrom,\n        filter((value) => value !== void 0 && value !== null && value.scrollTop > 0),\n        mapTo(0)\n      ),\n      initialItemCount\n    );\n    subscribe(\n      pipe(\n        didMount,\n        withLatestFrom(restoreStateFrom),\n        filter(([, snapshot]) => snapshot !== void 0 && snapshot !== null)\n      ),\n      ([, snapshot]) => {\n        if (!snapshot) {\n          return;\n        }\n        publish(viewportDimensions, snapshot.viewport), publish(itemDimensions, snapshot == null ? void 0 : snapshot.item);\n        publish(gap, snapshot.gap);\n        if (snapshot.scrollTop > 0) {\n          publish(stateRestoreInProgress, true);\n          handleNext(pipe(scrollTop, skip(1)), (_value) => {\n            publish(stateRestoreInProgress, false);\n          });\n          publish(scrollTo, { top: snapshot.scrollTop });\n        }\n      }\n    );\n    connect(\n      pipe(\n        viewportDimensions,\n        map(({ height }) => height)\n      ),\n      viewportHeight\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(viewportDimensions, dimensionComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(gap, (prev, next) => prev && prev.column === next.column && prev.row === next.row),\n          duc(scrollTop)\n        ),\n        map(([viewport, item, gap2, scrollTop2]) => ({\n          viewport,\n          item,\n          gap: gap2,\n          scrollTop: scrollTop2\n        }))\n      ),\n      stateChanged\n    );\n    connect(\n      pipe(\n        combineLatest(\n          duc(totalCount),\n          visibleRange,\n          duc(gap, gapComparator),\n          duc(itemDimensions, dimensionComparator),\n          duc(viewportDimensions, dimensionComparator),\n          duc(data),\n          duc(initialItemCount),\n          duc(stateRestoreInProgress),\n          duc(scrolledToInitialItem),\n          duc(initialTopMostItemIndex)\n        ),\n        filter(([, , , , , , , stateRestoreInProgress2]) => {\n          return !stateRestoreInProgress2;\n        }),\n        map(\n          ([\n            totalCount2,\n            [startOffset, endOffset],\n            gap2,\n            item,\n            viewport,\n            data2,\n            initialItemCount2,\n            ,\n            scrolledToInitialItem2,\n            initialTopMostItemIndex2\n          ]) => {\n            const { row: rowGap, column: columnGap } = gap2;\n            const { height: itemHeight, width: itemWidth } = item;\n            const { width: viewportWidth } = viewport;\n            if (initialItemCount2 === 0 && (totalCount2 === 0 || viewportWidth === 0)) {\n              return INITIAL_GRID_STATE;\n            }\n            if (itemWidth === 0) {\n              const startIndex2 = getInitialTopMostItemIndexNumber(initialTopMostItemIndex2, totalCount2);\n              const endIndex2 = startIndex2 === 0 ? Math.max(initialItemCount2 - 1, 0) : startIndex2;\n              return buildProbeGridState(buildItems(startIndex2, endIndex2, data2));\n            }\n            const perRow = itemsPerRow(viewportWidth, itemWidth, columnGap);\n            let startIndex;\n            let endIndex;\n            if (!scrolledToInitialItem2) {\n              startIndex = 0;\n              endIndex = -1;\n            } else if (startOffset === 0 && endOffset === 0 && initialItemCount2 > 0) {\n              startIndex = 0;\n              endIndex = initialItemCount2 - 1;\n            } else {\n              startIndex = perRow * floor((startOffset + rowGap) / (itemHeight + rowGap));\n              endIndex = perRow * ceil((endOffset + rowGap) / (itemHeight + rowGap)) - 1;\n              endIndex = min(totalCount2 - 1, max(endIndex, perRow - 1));\n              startIndex = min(endIndex, max(0, startIndex));\n            }\n            const items = buildItems(startIndex, endIndex, data2);\n            const { top, bottom } = gridLayout(viewport, gap2, item, items);\n            const rowCount = ceil(totalCount2 / perRow);\n            const totalHeight = rowCount * itemHeight + (rowCount - 1) * rowGap;\n            const offsetBottom = totalHeight - bottom;\n            return { items, offsetTop: top, offsetBottom, top, bottom, itemHeight, itemWidth };\n          }\n        )\n      ),\n      gridState\n    );\n    connect(\n      pipe(\n        data,\n        filter((data2) => data2 !== null),\n        map((data2) => data2.length)\n      ),\n      totalCount\n    );\n    connect(\n      pipe(\n        combineLatest(viewportDimensions, itemDimensions, gridState, gap),\n        filter(([viewportDimensions2, itemDimensions2, { items }]) => {\n          return items.length > 0 && itemDimensions2.height !== 0 && viewportDimensions2.height !== 0;\n        }),\n        map(([viewportDimensions2, itemDimensions2, { items }, gap2]) => {\n          const { top, bottom } = gridLayout(viewportDimensions2, gap2, itemDimensions2, items);\n          return [top, bottom];\n        }),\n        distinctUntilChanged(tupleComparator)\n      ),\n      listBoundary\n    );\n    const hasScrolled = statefulStream(false);\n    connect(\n      pipe(\n        scrollTop,\n        withLatestFrom(hasScrolled),\n        map(([scrollTop2, hasScrolled2]) => {\n          return hasScrolled2 || scrollTop2 !== 0;\n        })\n      ),\n      hasScrolled\n    );\n    const endReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => items.length > 0),\n        withLatestFrom(totalCount, hasScrolled),\n        filter(([{ items }, totalCount2, hasScrolled2]) => hasScrolled2 && items[items.length - 1].index === totalCount2 - 1),\n        map(([, totalCount2]) => totalCount2 - 1),\n        distinctUntilChanged()\n      )\n    );\n    const startReached = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        filter(({ items }) => {\n          return items.length > 0 && items[0].index === 0;\n        }),\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        mapTo(0),\n        distinctUntilChanged()\n      )\n    );\n    const rangeChanged = streamFromEmitter(\n      pipe(\n        duc(gridState),\n        withLatestFrom(stateRestoreInProgress),\n        filter(([{ items }, stateRestoreInProgress2]) => items.length > 0 && !stateRestoreInProgress2),\n        map(([{ items }]) => {\n          return {\n            startIndex: items[0].index,\n            endIndex: items[items.length - 1].index\n          };\n        }),\n        distinctUntilChanged(rangeComparator),\n        throttleTime(0)\n      )\n    );\n    connect(rangeChanged, scrollSeek.scrollSeekRangeChanged);\n    connect(\n      pipe(\n        scrollToIndex,\n        withLatestFrom(viewportDimensions, itemDimensions, totalCount, gap),\n        map(([location, viewportDimensions2, itemDimensions2, totalCount2, gap2]) => {\n          const normalLocation = normalizeIndexLocation(location);\n          const { align, behavior, offset } = normalLocation;\n          let index = normalLocation.index;\n          if (index === \"LAST\") {\n            index = totalCount2 - 1;\n          }\n          index = max(0, index, min(totalCount2 - 1, index));\n          let top = itemTop(viewportDimensions2, gap2, itemDimensions2, index);\n          if (align === \"end\") {\n            top = round(top - viewportDimensions2.height + itemDimensions2.height);\n          } else if (align === \"center\") {\n            top = round(top - viewportDimensions2.height / 2 + itemDimensions2.height / 2);\n          }\n          if (offset) {\n            top += offset;\n          }\n          return { top, behavior };\n        })\n      ),\n      scrollTo\n    );\n    const totalListHeight = statefulStreamFromEmitter(\n      pipe(\n        gridState,\n        map((gridState2) => {\n          return gridState2.offsetBottom + gridState2.bottom;\n        })\n      ),\n      0\n    );\n    connect(\n      pipe(\n        windowViewportRect,\n        map((viewportInfo) => ({ width: viewportInfo.visibleWidth, height: viewportInfo.visibleHeight }))\n      ),\n      viewportDimensions\n    );\n    return {\n      // input\n      data,\n      totalCount,\n      viewportDimensions,\n      itemDimensions,\n      scrollTop,\n      scrollHeight,\n      overscan,\n      scrollBy,\n      scrollTo,\n      scrollToIndex,\n      smoothScrollTargetReached,\n      windowViewportRect,\n      windowScrollTo,\n      useWindowScroll,\n      customScrollParent,\n      windowScrollContainerState,\n      deviation,\n      scrollContainerState,\n      footerHeight,\n      headerHeight,\n      initialItemCount,\n      gap,\n      restoreStateFrom,\n      ...scrollSeek,\n      initialTopMostItemIndex,\n      // output\n      gridState,\n      totalListHeight,\n      ...stateFlags,\n      startReached,\n      endReached,\n      rangeChanged,\n      stateChanged,\n      propsReady,\n      stateRestoreInProgress,\n      ...log\n    };\n  },\n  tup(sizeRangeSystem, domIOSystem, stateFlagsSystem, scrollSeekSystem, propsReadySystem, windowScrollerSystem, loggerSystem)\n);\nfunction gridLayout(viewport, gap, item, items) {\n  const { height: itemHeight } = item;\n  if (itemHeight === void 0 || items.length === 0) {\n    return { top: 0, bottom: 0 };\n  }\n  const top = itemTop(viewport, gap, item, items[0].index);\n  const bottom = itemTop(viewport, gap, item, items[items.length - 1].index) + itemHeight;\n  return { top, bottom };\n}\nfunction itemTop(viewport, gap, item, index) {\n  const perRow = itemsPerRow(viewport.width, item.width, gap.column);\n  const rowCount = floor(index / perRow);\n  const top = rowCount * item.height + max(0, rowCount - 1) * gap.row;\n  return top > 0 ? top + gap.row : top;\n}\nfunction itemsPerRow(viewportWidth, itemWidth, gap) {\n  return max(1, floor((viewportWidth + gap) / (floor(itemWidth) + gap)));\n}\nconst gridComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => `Item ${index}`);\n  const components = statefulStream({});\n  const context = statefulStream(null);\n  const itemClassName = statefulStream(\"virtuoso-grid-item\");\n  const listClassName = statefulStream(\"virtuoso-grid-list\");\n  const computeItemKey = statefulStream(identity);\n  const headerFooterTag = statefulStream(\"div\");\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    components,\n    computeItemKey,\n    itemClassName,\n    listClassName,\n    headerFooterTag,\n    scrollerRef,\n    FooterComponent: distinctProp(\"Footer\"),\n    HeaderComponent: distinctProp(\"Header\"),\n    ListComponent: distinctProp(\"List\", \"div\"),\n    ItemComponent: distinctProp(\"Item\", \"div\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\", \"div\")\n  };\n});\nconst combinedSystem$1 = /* @__PURE__ */ system(([gridSystem2, gridComponentPropsSystem2]) => {\n  return { ...gridSystem2, ...gridComponentPropsSystem2 };\n}, tup(gridSystem, gridComponentPropsSystem));\nconst GridItems = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function GridItems2() {\n  const gridState = useEmitterValue$1(\"gridState\");\n  const listClassName = useEmitterValue$1(\"listClassName\");\n  const itemClassName = useEmitterValue$1(\"itemClassName\");\n  const itemContent = useEmitterValue$1(\"itemContent\");\n  const computeItemKey = useEmitterValue$1(\"computeItemKey\");\n  const isSeeking = useEmitterValue$1(\"isSeeking\");\n  const scrollHeightCallback = usePublisher$1(\"scrollHeight\");\n  const ItemComponent = useEmitterValue$1(\"ItemComponent\");\n  const ListComponent = useEmitterValue$1(\"ListComponent\");\n  const ScrollSeekPlaceholder = useEmitterValue$1(\"ScrollSeekPlaceholder\");\n  const context = useEmitterValue$1(\"context\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const gridGap = usePublisher$1(\"gap\");\n  const log = useEmitterValue$1(\"log\");\n  const stateRestoreInProgress = useEmitterValue$1(\"stateRestoreInProgress\");\n  const listRef = useSize((el) => {\n    const scrollHeight = el.parentElement.parentElement.scrollHeight;\n    scrollHeightCallback(scrollHeight);\n    const firstItem = el.firstChild;\n    if (firstItem) {\n      const { width, height } = firstItem.getBoundingClientRect();\n      itemDimensions({ width, height });\n    }\n    gridGap({\n      row: resolveGapValue(\"row-gap\", getComputedStyle(el).rowGap, log),\n      column: resolveGapValue(\"column-gap\", getComputedStyle(el).columnGap, log)\n    });\n  });\n  if (stateRestoreInProgress) {\n    return null;\n  }\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    ListComponent,\n    {\n      ref: listRef,\n      className: listClassName,\n      ...contextPropIfNotDomElement(ListComponent, context),\n      style: { paddingTop: gridState.offsetTop, paddingBottom: gridState.offsetBottom },\n      \"data-test-id\": \"virtuoso-item-list\"\n    },\n    gridState.items.map((item) => {\n      const key = computeItemKey(item.index, item.data, context);\n      return isSeeking ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScrollSeekPlaceholder, {\n        key,\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        index: item.index,\n        height: gridState.itemHeight,\n        width: gridState.itemWidth\n      }) : react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n        ItemComponent,\n        { ...contextPropIfNotDomElement(ItemComponent, context), className: itemClassName, \"data-index\": item.index, key },\n        itemContent(item.index, item.data, context)\n      );\n    })\n  );\n});\nconst Header = react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoHeader2() {\n  const Header2 = useEmitterValue$1(\"HeaderComponent\");\n  const headerHeight = usePublisher$1(\"headerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => headerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Header2 ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(headerFooterTag, { ref }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(Header2, contextPropIfNotDomElement(Header2, context))) : null;\n});\nconst Footer = react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoGridFooter() {\n  const Footer2 = useEmitterValue$1(\"FooterComponent\");\n  const footerHeight = usePublisher$1(\"footerHeight\");\n  const headerFooterTag = useEmitterValue$1(\"headerFooterTag\");\n  const ref = useSize((el) => footerHeight(correctItemSize(el, \"height\")));\n  const context = useEmitterValue$1(\"context\");\n  return Footer2 ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(headerFooterTag, { ref }, react__WEBPACK_IMPORTED_MODULE_0__.createElement(Footer2, contextPropIfNotDomElement(Footer2, context))) : null;\n});\nconst Viewport$1 = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoGridMockContext);\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const viewportDimensions = usePublisher$1(\"viewportDimensions\");\n  const viewportRef = useSize((el) => {\n    viewportDimensions(el.getBoundingClientRect());\n  });\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      viewportDimensions({ height: ctx.viewportHeight, width: ctx.viewportWidth });\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n    }\n  }, [ctx, viewportDimensions, itemDimensions]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: viewportStyle(false), ref: viewportRef }, children);\n};\nconst WindowViewport$1 = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoGridMockContext);\n  const windowViewportRect = usePublisher$1(\"windowViewportRect\");\n  const itemDimensions = usePublisher$1(\"itemDimensions\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      itemDimensions({ height: ctx.itemHeight, width: ctx.itemWidth });\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: ctx.viewportWidth });\n    }\n  }, [ctx, windowViewportRect, itemDimensions]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: viewportRef, style: viewportStyle(false) }, children);\n};\nconst GridRoot = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function GridRoot2({ ...props }) {\n  const useWindowScroll = useEmitterValue$1(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue$1(\"customScrollParent\");\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller$1 : Scroller$1;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport$1 : Viewport$1;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheScroller, { ...props }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheViewport, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Header, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GridItems, null), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Footer, null)));\n});\nconst {\n  Component: Grid,\n  usePublisher: usePublisher$1,\n  useEmitterValue: useEmitterValue$1,\n  useEmitter: useEmitter$1\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem$1,\n  {\n    optional: {\n      context: \"context\",\n      totalCount: \"totalCount\",\n      overscan: \"overscan\",\n      itemContent: \"itemContent\",\n      components: \"components\",\n      computeItemKey: \"computeItemKey\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      headerFooterTag: \"headerFooterTag\",\n      listClassName: \"listClassName\",\n      itemClassName: \"itemClassName\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\",\n      restoreStateFrom: \"restoreStateFrom\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\"\n    },\n    methods: {\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      scrollToIndex: \"scrollToIndex\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      stateChanged: \"stateChanged\"\n    }\n  },\n  GridRoot\n);\nconst Scroller$1 = /* @__PURE__ */ buildScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nconst WindowScroller$1 = /* @__PURE__ */ buildWindowScroller({ usePublisher: usePublisher$1, useEmitterValue: useEmitterValue$1, useEmitter: useEmitter$1 });\nfunction resolveGapValue(property, value, log) {\n  if (value !== \"normal\" && !(value == null ? void 0 : value.endsWith(\"px\"))) {\n    log(`${property} was not resolved to pixel value correctly`, value, LogLevel.WARN);\n  }\n  if (value === \"normal\") {\n    return 0;\n  }\n  return parseInt(value != null ? value : \"0\", 10);\n}\nconst VirtuosoGrid = Grid;\nconst tableComponentPropsSystem = /* @__PURE__ */ system(() => {\n  const itemContent = statefulStream((index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", null, \"Item $\", index));\n  const context = statefulStream(null);\n  const fixedHeaderContent = statefulStream(null);\n  const fixedFooterContent = statefulStream(null);\n  const components = statefulStream({});\n  const computeItemKey = statefulStream(identity);\n  const scrollerRef = statefulStream(noop);\n  const distinctProp = (propName, defaultValue = null) => {\n    return statefulStreamFromEmitter(\n      pipe(\n        components,\n        map((components2) => components2[propName]),\n        distinctUntilChanged()\n      ),\n      defaultValue\n    );\n  };\n  return {\n    context,\n    itemContent,\n    fixedHeaderContent,\n    fixedFooterContent,\n    components,\n    computeItemKey,\n    scrollerRef,\n    TableComponent: distinctProp(\"Table\", \"table\"),\n    TableHeadComponent: distinctProp(\"TableHead\", \"thead\"),\n    TableFooterComponent: distinctProp(\"TableFoot\", \"tfoot\"),\n    TableBodyComponent: distinctProp(\"TableBody\", \"tbody\"),\n    TableRowComponent: distinctProp(\"TableRow\", \"tr\"),\n    ScrollerComponent: distinctProp(\"Scroller\", \"div\"),\n    EmptyPlaceholder: distinctProp(\"EmptyPlaceholder\"),\n    ScrollSeekPlaceholder: distinctProp(\"ScrollSeekPlaceholder\"),\n    FillerRow: distinctProp(\"FillerRow\")\n  };\n});\nconst combinedSystem = /* @__PURE__ */ system(([listSystem2, propsSystem]) => {\n  return { ...listSystem2, ...propsSystem };\n}, tup(listSystem, tableComponentPropsSystem));\nconst DefaultScrollSeekPlaceholder = ({ height }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", { style: { height } }));\nconst DefaultFillerRow = ({ height }) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"tr\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"td\", { style: { height, padding: 0, border: 0 } }));\nconst ITEM_STYLE = { overflowAnchor: \"none\" };\nconst Items = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function VirtuosoItems2() {\n  const listState = useEmitterValue(\"listState\");\n  const sizeRanges = usePublisher(\"sizeRanges\");\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const windowScrollContainerStateCallback = usePublisher(\"windowScrollContainerState\");\n  const _scrollContainerStateCallback = usePublisher(\"scrollContainerState\");\n  const scrollContainerStateCallback = customScrollParent || useWindowScroll ? windowScrollContainerStateCallback : _scrollContainerStateCallback;\n  const itemContent = useEmitterValue(\"itemContent\");\n  const trackItemSizes = useEmitterValue(\"trackItemSizes\");\n  const itemSize = useEmitterValue(\"itemSize\");\n  const log = useEmitterValue(\"log\");\n  const { callbackRef, ref } = useChangedListContentsSizes(\n    sizeRanges,\n    itemSize,\n    trackItemSizes,\n    scrollContainerStateCallback,\n    log,\n    void 0,\n    customScrollParent\n  );\n  const [deviation, setDeviation] = react__WEBPACK_IMPORTED_MODULE_0__.useState(0);\n  useEmitter(\"deviation\", (value) => {\n    if (deviation !== value) {\n      ref.current.style.marginTop = `${value}px`;\n      setDeviation(value);\n    }\n  });\n  const EmptyPlaceholder = useEmitterValue(\"EmptyPlaceholder\");\n  const ScrollSeekPlaceholder = useEmitterValue(\"ScrollSeekPlaceholder\") || DefaultScrollSeekPlaceholder;\n  const FillerRow = useEmitterValue(\"FillerRow\") || DefaultFillerRow;\n  const TableBodyComponent = useEmitterValue(\"TableBodyComponent\");\n  const TableRowComponent = useEmitterValue(\"TableRowComponent\");\n  const computeItemKey = useEmitterValue(\"computeItemKey\");\n  const isSeeking = useEmitterValue(\"isSeeking\");\n  const paddingTopAddition = useEmitterValue(\"paddingTopAddition\");\n  const firstItemIndex = useEmitterValue(\"firstItemIndex\");\n  const statefulTotalCount = useEmitterValue(\"statefulTotalCount\");\n  const context = useEmitterValue(\"context\");\n  if (statefulTotalCount === 0 && EmptyPlaceholder) {\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(EmptyPlaceholder, contextPropIfNotDomElement(EmptyPlaceholder, context));\n  }\n  const paddingTop = listState.offsetTop + paddingTopAddition + deviation;\n  const paddingBottom = listState.offsetBottom;\n  const paddingTopEl = paddingTop > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FillerRow, { height: paddingTop, key: \"padding-top\", context }) : null;\n  const paddingBottomEl = paddingBottom > 0 ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(FillerRow, { height: paddingBottom, key: \"padding-bottom\", context }) : null;\n  const items = listState.items.map((item) => {\n    const index = item.originalIndex;\n    const key = computeItemKey(index + firstItemIndex, item.data, context);\n    if (isSeeking) {\n      return react__WEBPACK_IMPORTED_MODULE_0__.createElement(ScrollSeekPlaceholder, {\n        ...contextPropIfNotDomElement(ScrollSeekPlaceholder, context),\n        key,\n        index: item.index,\n        height: item.size,\n        type: item.type || \"item\"\n      });\n    }\n    return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n      TableRowComponent,\n      {\n        ...contextPropIfNotDomElement(TableRowComponent, context),\n        ...itemPropIfNotDomElement(TableRowComponent, item.data),\n        key,\n        \"data-index\": index,\n        \"data-known-size\": item.size,\n        \"data-item-index\": item.index,\n        style: ITEM_STYLE\n      },\n      itemContent(item.index, item.data, context)\n    );\n  });\n  return react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TableBodyComponent,\n    { ref: callbackRef, \"data-test-id\": \"virtuoso-item-list\", ...contextPropIfNotDomElement(TableBodyComponent, context) },\n    [paddingTopEl, ...items, paddingBottomEl]\n  );\n});\nconst Viewport = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoMockContext);\n  const viewportHeight = usePublisher(\"viewportHeight\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const viewportRef = useSize(compose(viewportHeight, (el) => correctItemSize(el, \"height\")));\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      viewportHeight(ctx.viewportHeight);\n      fixedItemHeight(ctx.itemHeight);\n    }\n  }, [ctx, viewportHeight, fixedItemHeight]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { style: viewportStyle(false), ref: viewportRef, \"data-viewport-type\": \"element\" }, children);\n};\nconst WindowViewport = ({ children }) => {\n  const ctx = react__WEBPACK_IMPORTED_MODULE_0__.useContext(VirtuosoMockContext);\n  const windowViewportRect = usePublisher(\"windowViewportRect\");\n  const fixedItemHeight = usePublisher(\"fixedItemHeight\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const viewportRef = useWindowViewportRectRef(windowViewportRect, customScrollParent);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    if (ctx) {\n      fixedItemHeight(ctx.itemHeight);\n      windowViewportRect({ offsetTop: 0, visibleHeight: ctx.viewportHeight, visibleWidth: 100 });\n    }\n  }, [ctx, windowViewportRect, fixedItemHeight]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", { ref: viewportRef, style: viewportStyle(false), \"data-viewport-type\": \"window\" }, children);\n};\nconst TableRoot = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.memo(function TableVirtuosoRoot(props) {\n  const useWindowScroll = useEmitterValue(\"useWindowScroll\");\n  const customScrollParent = useEmitterValue(\"customScrollParent\");\n  const fixedHeaderHeight = usePublisher(\"fixedHeaderHeight\");\n  const fixedFooterHeight = usePublisher(\"fixedFooterHeight\");\n  const fixedHeaderContent = useEmitterValue(\"fixedHeaderContent\");\n  const fixedFooterContent = useEmitterValue(\"fixedFooterContent\");\n  const context = useEmitterValue(\"context\");\n  const theadRef = useSize(compose(fixedHeaderHeight, (el) => correctItemSize(el, \"height\")));\n  const tfootRef = useSize(compose(fixedFooterHeight, (el) => correctItemSize(el, \"height\")));\n  const TheScroller = customScrollParent || useWindowScroll ? WindowScroller : Scroller;\n  const TheViewport = customScrollParent || useWindowScroll ? WindowViewport : Viewport;\n  const TheTable = useEmitterValue(\"TableComponent\");\n  const TheTHead = useEmitterValue(\"TableHeadComponent\");\n  const TheTFoot = useEmitterValue(\"TableFooterComponent\");\n  const theHead = fixedHeaderContent ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TheTHead,\n    {\n      key: \"TableHead\",\n      style: { zIndex: 2, position: \"sticky\", top: 0 },\n      ref: theadRef,\n      ...contextPropIfNotDomElement(TheTHead, context)\n    },\n    fixedHeaderContent()\n  ) : null;\n  const theFoot = fixedFooterContent ? react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TheTFoot,\n    {\n      key: \"TableFoot\",\n      style: { zIndex: 1, position: \"sticky\", bottom: 0 },\n      ref: tfootRef,\n      ...contextPropIfNotDomElement(TheTFoot, context)\n    },\n    fixedFooterContent()\n  ) : null;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheScroller, { ...props }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(TheViewport, null, react__WEBPACK_IMPORTED_MODULE_0__.createElement(\n    TheTable,\n    { style: { borderSpacing: 0, overflowAnchor: \"none\" }, ...contextPropIfNotDomElement(TheTable, context) },\n    [theHead, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Items, { key: \"TableBody\" }), theFoot]\n  )));\n});\nconst {\n  Component: Table,\n  usePublisher,\n  useEmitterValue,\n  useEmitter\n} = /* @__PURE__ */ systemToComponent(\n  combinedSystem,\n  {\n    required: {},\n    optional: {\n      restoreStateFrom: \"restoreStateFrom\",\n      context: \"context\",\n      followOutput: \"followOutput\",\n      firstItemIndex: \"firstItemIndex\",\n      itemContent: \"itemContent\",\n      fixedHeaderContent: \"fixedHeaderContent\",\n      fixedFooterContent: \"fixedFooterContent\",\n      overscan: \"overscan\",\n      increaseViewportBy: \"increaseViewportBy\",\n      totalCount: \"totalCount\",\n      topItemCount: \"topItemCount\",\n      initialTopMostItemIndex: \"initialTopMostItemIndex\",\n      components: \"components\",\n      groupCounts: \"groupCounts\",\n      atBottomThreshold: \"atBottomThreshold\",\n      atTopThreshold: \"atTopThreshold\",\n      computeItemKey: \"computeItemKey\",\n      defaultItemHeight: \"defaultItemHeight\",\n      fixedItemHeight: \"fixedItemHeight\",\n      itemSize: \"itemSize\",\n      scrollSeekConfiguration: \"scrollSeekConfiguration\",\n      data: \"data\",\n      initialItemCount: \"initialItemCount\",\n      initialScrollTop: \"initialScrollTop\",\n      alignToBottom: \"alignToBottom\",\n      useWindowScroll: \"useWindowScroll\",\n      customScrollParent: \"customScrollParent\",\n      scrollerRef: \"scrollerRef\",\n      logLevel: \"logLevel\"\n    },\n    methods: {\n      scrollToIndex: \"scrollToIndex\",\n      scrollIntoView: \"scrollIntoView\",\n      scrollTo: \"scrollTo\",\n      scrollBy: \"scrollBy\",\n      getState: \"getState\"\n    },\n    events: {\n      isScrolling: \"isScrolling\",\n      endReached: \"endReached\",\n      startReached: \"startReached\",\n      rangeChanged: \"rangeChanged\",\n      atBottomStateChange: \"atBottomStateChange\",\n      atTopStateChange: \"atTopStateChange\",\n      totalListHeightChanged: \"totalListHeightChanged\",\n      itemsRendered: \"itemsRendered\",\n      groupIndices: \"groupIndices\"\n    }\n  },\n  TableRoot\n);\nconst Scroller = /* @__PURE__ */ buildScroller({ usePublisher, useEmitterValue, useEmitter });\nconst WindowScroller = /* @__PURE__ */ buildWindowScroller({ usePublisher, useEmitterValue, useEmitter });\nconst TableVirtuoso = Table;\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9yZWFjdC12aXJ0dW9zby9kaXN0L2luZGV4Lm1qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBMEI7QUFDTztBQUNqQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwrQ0FBK0MsT0FBTztBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPO0FBQ3REO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCxZQUFZLElBQUksaUJBQWlCO0FBQ25GO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtDQUErQztBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzRUFBc0Usa0RBQXFCLEdBQUcsNENBQWU7QUFDN0c7QUFDQSwyREFBMkQ7QUFDM0QsMkRBQTJEO0FBQzNELG9EQUFvRDtBQUNwRCxrREFBa0Q7QUFDbEQsa0JBQWtCLGdEQUFtQixHQUFHO0FBQ3hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxJQUFJO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0Esb0JBQW9CLDZDQUFnQjtBQUNwQyxZQUFZLHFCQUFxQjtBQUNqQyxzQkFBc0IsMkNBQWM7QUFDcEM7QUFDQSxLQUFLO0FBQ0wsdUJBQXVCLDJDQUFjO0FBQ3JDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMLElBQUksc0RBQXlCO0FBQzdCLFdBQVcsZ0RBQW1CO0FBQzlCO0FBQ0EsUUFBUSxnQkFBZ0I7QUFDeEIsYUFBYSxnREFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLFdBQVcsOENBQWlCLG9CQUFvQiw2Q0FBZ0I7QUFDaEU7QUFDQTtBQUNBLG9CQUFvQiw2Q0FBZ0I7QUFDcEM7QUFDQSxlQUFlLDhDQUFpQjtBQUNoQztBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxXQUFXLHVEQUEwQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsNkNBQWdCO0FBQ3BDO0FBQ0EsOEJBQThCLDJDQUFjO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsMENBQWE7QUFDeEM7QUFDQSxvQkFBb0IsNkNBQWdCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0VBQW9FLGtEQUFxQixHQUFHLDRDQUFlO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyxnQkFBZ0I7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkI7QUFDM0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsY0FBYyx5Q0FBWTtBQUMxQjtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMENBQWE7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLE9BQU87QUFDUCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw4Q0FBaUI7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixZQUFZO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsT0FBTztBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsMENBQTBDO0FBQy9ELE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsVUFBVTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQix5Q0FBWTtBQUNsQywwQkFBMEIseUNBQVk7QUFDdEMscUJBQXFCLHlDQUFZO0FBQ2pDLGtCQUFrQiw4Q0FBaUI7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1IsUUFBUSxnREFBa0I7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsRUFBRSw0Q0FBZTtBQUNqQjtBQUNBO0FBQ0EsY0FBYywyQ0FBMkM7QUFDekQsbURBQW1ELGVBQWU7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQ0FBcUMsdURBQXVEO0FBQzVGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1AsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVCQUF1QjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLDZCQUE2QjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsbUJBQW1CO0FBQ25CO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxVQUFVO0FBQ3BCO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBLE1BQU07QUFDTjtBQUNBLGtDQUFrQyw0Q0FBNEM7QUFDOUU7QUFDQSxJQUFJO0FBQ0osZ0NBQWdDLG1CQUFtQjtBQUNuRCxJQUFJO0FBQ0osZ0NBQWdDLG1CQUFtQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsTUFBTTtBQUMvQixJQUFJO0FBQ0osbUNBQW1DLHlCQUF5QjtBQUM1RCxJQUFJO0FBQ0osbUNBQW1DLHlCQUF5QjtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGFBQWE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixNQUFNO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHNCQUFzQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELHVCQUF1QjtBQUM5RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsVUFBVSxZQUFZO0FBQ3RCO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQSxnQ0FBZ0MsY0FBYztBQUM5QyxNQUFNO0FBQ047QUFDQTtBQUNBLHdCQUF3QixVQUFVO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVCxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0EsaUNBQWlDLGNBQWM7QUFDL0MsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLDhCQUE4QixvQkFBb0I7QUFDbEQ7QUFDQSxTQUFTO0FBQ1QsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRLHNCQUFzQjtBQUM5QjtBQUNBLGtCQUFrQixZQUFZO0FBQzlCLFlBQVkscUNBQXFDO0FBQ2pELGtCQUFrQixrQ0FBa0M7QUFDcEQ7QUFDQTtBQUNBO0FBQ0EsZ0JBQWdCLDZCQUE2QjtBQUM3QztBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsb0JBQW9CLFFBQVEsY0FBYztBQUMzRTtBQUNBO0FBQ0EsVUFBVSxTQUFTO0FBQ25CLG1GQUFtRixpQkFBaUIsUUFBUSxpQkFBaUI7QUFDN0g7QUFDQTtBQUNBLFVBQVUsSUFBSTtBQUNkLHNEQUFzRCxpQkFBaUIsUUFBUSxHQUFHO0FBQ2xGO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsZ0JBQWdCLGlCQUFpQixNQUFNO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNBLFVBQVUsNkJBQTZCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLDZCQUE2QjtBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLHNEQUFzRDtBQUN2RTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkJBQTJCLGtCQUFrQjtBQUM3QztBQUNBO0FBQ0EsNEJBQTRCLG9CQUFvQjtBQUNoRDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxlQUFlLDRCQUE0QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsNkRBQTZEO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtDQUFrQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLHdCQUF3QjtBQUN2RDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLEtBQUssSUFBSSxrQkFBa0I7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDLG1DQUFtQztBQUNuRTtBQUNBO0FBQ0EsU0FBUztBQUNULGVBQWUsTUFBTTtBQUNyQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0MsV0FBVztBQUMzQztBQUNBLFNBQVM7QUFDVCw2QkFBNkIscUJBQXFCO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULHlCQUF5QixrQ0FBa0M7QUFDM0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWEsaUJBQWlCO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckIsV0FBVztBQUNYLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiw4QkFBOEI7QUFDOUM7QUFDQTtBQUNBO0FBQ0EsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksZ0JBQWdCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQkFBbUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlO0FBQ2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixtQkFBbUI7QUFDdkM7QUFDQSwwQ0FBMEMsbUZBQW1GO0FBQzdIO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsWUFBWTtBQUN4QztBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrREFBK0QsTUFBTTtBQUNyRTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1oscUVBQXFFLE1BQU07QUFDM0U7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxrREFBa0Qsa0JBQWtCO0FBQ3BFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxxQ0FBcUM7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLDBCQUEwQjtBQUM5QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QsVUFBVTtBQUMxRDtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBLGlFQUFpRTtBQUNqRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBO0FBQ0EsZUFBZTtBQUNmLGNBQWM7QUFDZDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLDhDQUE4QyxzQkFBc0I7QUFDcEUscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsdUZBQXVGO0FBQzNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IscUNBQXFDO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixzRUFBc0U7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLHVCQUF1QjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1QsVUFBVTtBQUNWO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsTUFBTSxLQUFLO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0RBQWdEO0FBQ2hELEtBQUs7QUFDTCxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0scUNBQXFDLElBQUksV0FBVyxJQUFJLG9DQUFvQyxJQUFJLFVBQVU7QUFDaEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsVUFBVTtBQUNwRTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHlCQUF5QjtBQUMvQixNQUFNLDJCQUEyQjtBQUNqQyxNQUFNLGVBQWU7QUFDckIsTUFBTSx1QkFBdUI7QUFDN0IsTUFBTSxzQkFBc0I7QUFDNUIsTUFBTSxLQUFLO0FBQ1gsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUI7QUFDbkIsU0FBUztBQUNULGtCQUFrQixjQUFjO0FBQ2hDO0FBQ0EsU0FBUywrQ0FBK0M7QUFDeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCx5QkFBeUI7QUFDM0U7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUVBQXVFO0FBQ3ZFO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhLE9BQU87QUFDcEIscUJBQXFCO0FBQ3JCLFdBQVc7QUFDWCxZQUFZO0FBQ1o7QUFDQSxrQkFBa0IsV0FBVztBQUM3QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUNBQXFDLGlDQUFpQyxJQUFJLHlCQUF5QjtBQUNuRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNLHVFQUF1RTtBQUM3RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUNBQXVDO0FBQy9DLFFBQVE7QUFDUjtBQUNBO0FBQ0EsWUFBWSxrREFBa0Q7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQyx3RUFBd0U7QUFDMUc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtDQUFrQztBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVCQUF1QjtBQUNwRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLE1BQU0sOENBQThDO0FBQ3BEO0FBQ0EsTUFBTSwrREFBK0Q7QUFDckUsTUFBTSxnREFBZ0Q7QUFDdEQsTUFBTSxlQUFlO0FBQ3JCO0FBQ0EsTUFBTSxVQUFVO0FBQ2hCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix1QkFBdUI7QUFDM0M7QUFDQTtBQUNBLHVCQUF1QjtBQUN2QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4Q0FBOEMsb0JBQW9CO0FBQ2xFLGtDQUFrQyxpREFBaUQ7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxlQUFlO0FBQzdEO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQyxpREFBaUQ7QUFDakY7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixPQUFPO0FBQ3pCO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGlCQUFpQjtBQUNuQztBQUNBLFNBQVM7QUFDVCxlQUFlLE9BQU87QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekIsZUFBZSxPQUFPO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNLGtDQUFrQyxJQUFJLHlCQUF5QixJQUFJLDZCQUE2QixJQUFJLFVBQVU7QUFDcEg7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0EsTUFBTSxnQkFBZ0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLGNBQWM7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBLHNDQUFzQyxpQkFBaUI7QUFDdkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxRQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWCxDQUFDO0FBQ0Q7QUFDQSxNQUFNLGtFQUFrRSxJQUFJLFdBQVc7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQSxNQUFNLHFEQUFxRDtBQUMzRCxNQUFNLG1FQUFtRTtBQUN6RSxNQUFNLFdBQVc7QUFDakIsTUFBTSxnREFBZ0Q7QUFDdEQsTUFBTSxLQUFLO0FBQ1gsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhEQUE4RCx5Q0FBeUM7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQSxrREFBa0QsUUFBUTtBQUMxRDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QixnQ0FBZ0M7QUFDNUQ7QUFDQSxRQUFRO0FBQ1I7QUFDQSw0QkFBNEIsZ0NBQWdDO0FBQzVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQjtBQUNuQixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsbURBQW1EO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZO0FBQ1o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGFBQWE7QUFDM0M7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYLFNBQVM7QUFDVDtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxNQUFNLFVBQVUsSUFBSSxVQUFVLElBQUksV0FBVztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsYUFBYTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQSxNQUFNLGdCQUFnQixJQUFJLGlCQUFpQjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBLHdDQUF3QyxnQ0FBZ0M7QUFDeEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsMERBQTBELElBQUksV0FBVztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLFdBQVc7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQjtBQUNwQixDQUFDO0FBQ0Q7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSx3QkFBd0I7QUFDOUIsTUFBTSxvR0FBb0c7QUFDMUcsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsdUZBQXVGO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCO0FBQzlCLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWTtBQUNaO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7QUFDQSxNQUFNLG1CQUFtQjtBQUN6QixNQUFNLFdBQVc7QUFDakIsTUFBTSx5QkFBeUI7QUFDL0IsTUFBTSxVQUFVO0FBQ2hCLE1BQU07QUFDTjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLCtCQUErQjtBQUNsRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLE1BQU0saUZBQWlGO0FBQ3ZGO0FBQ0E7QUFDQTtBQUNBLE1BQU0sc0NBQXNDO0FBQzVDLE1BQU0sZUFBZTtBQUNyQjtBQUNBLE1BQU0sY0FBYztBQUNwQixNQUFNLGFBQWE7QUFDbkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsdUJBQXVCLHlDQUFZO0FBQ25DLHdCQUF3Qiw4Q0FBaUI7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsVUFBVSxtQkFBbUI7QUFDN0Isc0NBQXNDLDhDQUFpQjtBQUN2RDtBQUNBLEdBQUc7QUFDSCxFQUFFLDRDQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxNQUFNO0FBQ047QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLDRCQUE0QixnREFBbUI7QUFDL0MsZ0NBQWdDLGdEQUFtQjtBQUNuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdEQUF3RCxNQUFNO0FBQzlEO0FBQ0EsMERBQTBELE1BQU07QUFDaEUsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0EsV0FBVztBQUNYLENBQUM7QUFDRCwwQ0FBMEMsUUFBUSxxQkFBcUIsZ0RBQW1CLFVBQVUsU0FBUyxVQUFVO0FBQ3ZILHNCQUFzQjtBQUN0Qix1QkFBdUI7QUFDdkIsZ0NBQWdDLHVDQUFVLDBCQUEwQixxQkFBcUI7QUFDekY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsY0FBYztBQUN4QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLDJDQUFjO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNENBQTRDLElBQUk7QUFDaEQ7QUFDQTtBQUNBLFdBQVcsZ0RBQW1CO0FBQzlCO0FBQ0EsU0FBUyxnREFBbUI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdDQUF3QyxJQUFJO0FBQzVDLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSxnREFBbUI7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsUUFBUTtBQUNSLGVBQWUsZ0RBQW1CO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsMkNBQTJDO0FBQ2xFLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0EsaUNBQWlDLHVDQUFVO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsZ0RBQW1CLG9CQUFvQixLQUFLLEVBQUUsZ0RBQW1CO0FBQ3BGLENBQUM7QUFDRCxpQ0FBaUMsdUNBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixnREFBbUIsb0JBQW9CLEtBQUssRUFBRSxnREFBbUI7QUFDcEYsQ0FBQztBQUNELHlCQUF5Qix5RkFBeUY7QUFDbEgsb0JBQW9CLHVDQUFVLDZCQUE2QiwyQkFBMkI7QUFDdEY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksa0RBQWtEO0FBQzlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLDRCQUE0QjtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBLCtCQUErQix5RkFBeUY7QUFDeEgsb0JBQW9CLHVDQUFVLG1DQUFtQywyQkFBMkI7QUFDNUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtEQUFrRDtBQUM5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxXQUFXLGdEQUFtQjtBQUM5QjtBQUNBO0FBQ0EsaUJBQWlCLDZEQUE2RCxzQ0FBc0MsTUFBTTtBQUMxSDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0Esc0JBQXNCLFVBQVU7QUFDaEMsY0FBYyw2Q0FBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDRDQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHlCQUF5QixnREFBbUIsVUFBVSx3RkFBd0Y7QUFDOUk7QUFDQSw0QkFBNEIsVUFBVTtBQUN0QyxjQUFjLDZDQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRSw0Q0FBZTtBQUNqQjtBQUNBO0FBQ0EsMkJBQTJCLG9FQUFvRTtBQUMvRjtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsZ0RBQW1CLFVBQVUsdUZBQXVGO0FBQzdJO0FBQ0EsZ0NBQWdDLFVBQVU7QUFDMUM7QUFDQTtBQUNBLGtCQUFrQixtQ0FBbUMsYUFBYTtBQUNsRTtBQUNBLFNBQVMsZ0RBQW1CLGdCQUFnQiw0REFBNEQ7QUFDeEc7QUFDQSxpQ0FBaUMsdUNBQVU7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5QixnREFBbUIsZ0JBQWdCLFVBQVUsaUNBQWlDLGdEQUFtQiw2Q0FBNkMsZ0RBQW1CLFlBQVksbUJBQW1CLG9CQUFvQixnREFBbUIsb0NBQW9DLGdEQUFtQixrQ0FBa0MsZ0RBQW1CLGlDQUFpQyxnREFBbUI7QUFDaGEsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELDRGQUE0RjtBQUMvSSwrREFBK0QsNEZBQTRGO0FBQzNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksVUFBVTtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVEsK0JBQStCO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCLG1DQUFtQztBQUN6RDtBQUNBLGFBQWE7QUFDYixHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSxzQ0FBc0M7QUFDNUMsTUFBTSw0SEFBNEg7QUFDbEk7QUFDQTtBQUNBLE1BQU0sc0JBQXNCO0FBQzVCLE1BQU0scUdBQXFHO0FBQzNHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnREFBZ0QscUJBQXFCO0FBQ3JFLDRDQUE0QyxxQkFBcUI7QUFDakU7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsbUJBQW1CO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1gsOEJBQThCLHlCQUF5QjtBQUN2RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFFBQVE7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsaUNBQWlDO0FBQ3JELG9CQUFvQix1Q0FBdUM7QUFDM0Qsb0JBQW9CLHVCQUF1QjtBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYztBQUNkO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGNBQWM7QUFDbEM7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELE9BQU87QUFDaEU7QUFDQSxTQUFTO0FBQ1Qsc0RBQXNELE9BQU87QUFDN0Qsa0JBQWtCLGNBQWM7QUFDaEM7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQkFBa0IsT0FBTztBQUN6QjtBQUNBLG1CQUFtQixPQUFPO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCLE9BQU87QUFDekI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLE9BQU87QUFDMUIsZ0JBQWdCLE9BQU87QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQiwwQkFBMEI7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVk7QUFDWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CO0FBQ25CLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlDQUFpQyxzRUFBc0U7QUFDdkc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFVBQVUscUJBQXFCO0FBQy9CO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELE1BQU07QUFDOUQsc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQSxXQUFXO0FBQ1gsQ0FBQztBQUNELGtDQUFrQyx1Q0FBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyxnQkFBZ0I7QUFDOUIsdUJBQXVCLGVBQWU7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBLFNBQVMsZ0RBQW1CO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLHdFQUF3RTtBQUN2RjtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EseUJBQXlCLGdEQUFtQjtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTyxJQUFJLGdEQUFtQjtBQUM5QjtBQUNBLFVBQVUsZ0hBQWdIO0FBQzFIO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQ0QsZUFBZSx1Q0FBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFtQixvQkFBb0IsS0FBSyxFQUFFLGdEQUFtQjtBQUNwRixDQUFDO0FBQ0QsZUFBZSx1Q0FBVTtBQUN6QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLGdEQUFtQixvQkFBb0IsS0FBSyxFQUFFLGdEQUFtQjtBQUNwRixDQUFDO0FBQ0Qsc0JBQXNCLFVBQVU7QUFDaEMsY0FBYyw2Q0FBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0gsRUFBRSw0Q0FBZTtBQUNqQjtBQUNBLDJCQUEyQixzREFBc0Q7QUFDakYsdUJBQXVCLDhDQUE4QztBQUNyRTtBQUNBLEdBQUc7QUFDSCx5QkFBeUIsZ0RBQW1CLFVBQVUsK0NBQStDO0FBQ3JHO0FBQ0EsNEJBQTRCLFVBQVU7QUFDdEMsY0FBYyw2Q0FBZ0I7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFLDRDQUFlO0FBQ2pCO0FBQ0EsdUJBQXVCLDhDQUE4QztBQUNyRSwyQkFBMkIsa0ZBQWtGO0FBQzdHO0FBQ0EsR0FBRztBQUNILHlCQUF5QixnREFBbUIsVUFBVSwrQ0FBK0M7QUFDckc7QUFDQSxpQ0FBaUMsdUNBQVUsc0JBQXNCLFVBQVU7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsZ0RBQW1CLGdCQUFnQixVQUFVLGtCQUFrQixnREFBbUIsb0NBQW9DLGdEQUFtQixnQ0FBZ0MsZ0RBQW1CLG1DQUFtQyxnREFBbUI7QUFDM1EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxFQUFFO0FBQ0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0EsbURBQW1ELDRGQUE0RjtBQUMvSSwrREFBK0QsNEZBQTRGO0FBQzNKO0FBQ0E7QUFDQSxXQUFXLFVBQVU7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSxnREFBbUI7QUFDbkY7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDO0FBQ3RDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBLFdBQVc7QUFDWCxDQUFDO0FBQ0Qsd0NBQXdDLFFBQVEscUJBQXFCLGdEQUFtQiw2QkFBNkIsZ0RBQW1CLFNBQVMsU0FBUyxVQUFVO0FBQ3BLLDRCQUE0QixRQUFRLHFCQUFxQixnREFBbUIsNkJBQTZCLGdEQUFtQixTQUFTLFNBQVMsaUNBQWlDO0FBQy9LLHFCQUFxQjtBQUNyQiw4QkFBOEIsdUNBQVU7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsbUJBQW1CO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkNBQWM7QUFDbEQ7QUFDQTtBQUNBLHVDQUF1QyxNQUFNO0FBQzdDO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVyxnREFBbUI7QUFDOUI7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELGdEQUFtQixjQUFjLGlEQUFpRDtBQUMxSSw4REFBOEQsZ0RBQW1CLGNBQWMsdURBQXVEO0FBQ3RKO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYSxnREFBbUI7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLFdBQVcsZ0RBQW1CO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsR0FBRztBQUNILFNBQVMsZ0RBQW1CO0FBQzVCO0FBQ0EsTUFBTSxvSEFBb0g7QUFDMUg7QUFDQTtBQUNBLENBQUM7QUFDRCxvQkFBb0IsVUFBVTtBQUM5QixjQUFjLDZDQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQSxFQUFFLDRDQUFlO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNILHlCQUF5QixnREFBbUIsVUFBVSxnRkFBZ0Y7QUFDdEk7QUFDQSwwQkFBMEIsVUFBVTtBQUNwQyxjQUFjLDZDQUFnQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEVBQUUsNENBQWU7QUFDakI7QUFDQTtBQUNBLDJCQUEyQixvRUFBb0U7QUFDL0Y7QUFDQSxHQUFHO0FBQ0gseUJBQXlCLGdEQUFtQixVQUFVLCtFQUErRTtBQUNySTtBQUNBLGtDQUFrQyx1Q0FBVTtBQUM1QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLGdEQUFtQjtBQUMxRDtBQUNBO0FBQ0E7QUFDQSxlQUFlLHVDQUF1QztBQUN0RDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSx1Q0FBdUMsZ0RBQW1CO0FBQzFEO0FBQ0E7QUFDQTtBQUNBLGVBQWUsMENBQTBDO0FBQ3pEO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLHlCQUF5QixnREFBbUIsZ0JBQWdCLFVBQVUsa0JBQWtCLGdEQUFtQixvQkFBb0IsZ0RBQW1CO0FBQ2xKO0FBQ0EsTUFBTSxTQUFTLDBDQUEwQyxvREFBb0Q7QUFDN0csOEJBQThCLGdEQUFtQixVQUFVLGtCQUFrQjtBQUM3RTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsRUFBRTtBQUNGO0FBQ0E7QUFDQSxnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQSxpREFBaUQsMkNBQTJDO0FBQzVGLDZEQUE2RCwyQ0FBMkM7QUFDeEc7QUFTRSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9ub2RlX21vZHVsZXMvcmVhY3QtdmlydHVvc28vZGlzdC9pbmRleC5tanM/MzMyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgUmVhY3RET00gZnJvbSBcInJlYWN0LWRvbVwiO1xuY29uc3QgUFVCTElTSCA9IDA7XG5jb25zdCBTVUJTQ1JJQkUgPSAxO1xuY29uc3QgUkVTRVQgPSAyO1xuY29uc3QgVkFMVUUgPSA0O1xuZnVuY3Rpb24gY29tcG9zZShhLCBiKSB7XG4gIHJldHVybiAoYXJnKSA9PiBhKGIoYXJnKSk7XG59XG5mdW5jdGlvbiB0aHJ1c2goYXJnLCBwcm9jKSB7XG4gIHJldHVybiBwcm9jKGFyZyk7XG59XG5mdW5jdGlvbiBjdXJyeTJ0bzEocHJvYywgYXJnMSkge1xuICByZXR1cm4gKGFyZzIpID0+IHByb2MoYXJnMSwgYXJnMik7XG59XG5mdW5jdGlvbiBjdXJyeTF0bzAocHJvYywgYXJnKSB7XG4gIHJldHVybiAoKSA9PiBwcm9jKGFyZyk7XG59XG5mdW5jdGlvbiB0YXAoYXJnLCBwcm9jKSB7XG4gIHByb2MoYXJnKTtcbiAgcmV0dXJuIGFyZztcbn1cbmZ1bmN0aW9uIHR1cCguLi5hcmdzKSB7XG4gIHJldHVybiBhcmdzO1xufVxuZnVuY3Rpb24gY2FsbChwcm9jKSB7XG4gIHByb2MoKTtcbn1cbmZ1bmN0aW9uIGFsd2F5cyh2YWx1ZSkge1xuICByZXR1cm4gKCkgPT4gdmFsdWU7XG59XG5mdW5jdGlvbiBqb2luUHJvYyguLi5wcm9jcykge1xuICByZXR1cm4gKCkgPT4ge1xuICAgIHByb2NzLm1hcChjYWxsKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIGlzRGVmaW5lZChhcmcpIHtcbiAgcmV0dXJuIGFyZyAhPT0gdm9pZCAwO1xufVxuZnVuY3Rpb24gbm9vcCgpIHtcbn1cbmZ1bmN0aW9uIHN1YnNjcmliZShlbWl0dGVyLCBzdWJzY3JpcHRpb24pIHtcbiAgcmV0dXJuIGVtaXR0ZXIoU1VCU0NSSUJFLCBzdWJzY3JpcHRpb24pO1xufVxuZnVuY3Rpb24gcHVibGlzaChwdWJsaXNoZXIsIHZhbHVlKSB7XG4gIHB1Ymxpc2hlcihQVUJMSVNILCB2YWx1ZSk7XG59XG5mdW5jdGlvbiByZXNldChlbWl0dGVyKSB7XG4gIGVtaXR0ZXIoUkVTRVQpO1xufVxuZnVuY3Rpb24gZ2V0VmFsdWUoZGVwb3QpIHtcbiAgcmV0dXJuIGRlcG90KFZBTFVFKTtcbn1cbmZ1bmN0aW9uIGNvbm5lY3QoZW1pdHRlciwgcHVibGlzaGVyKSB7XG4gIHJldHVybiBzdWJzY3JpYmUoZW1pdHRlciwgY3VycnkydG8xKHB1Ymxpc2hlciwgUFVCTElTSCkpO1xufVxuZnVuY3Rpb24gaGFuZGxlTmV4dChlbWl0dGVyLCBzdWJzY3JpcHRpb24pIHtcbiAgY29uc3QgdW5zdWIgPSBlbWl0dGVyKFNVQlNDUklCRSwgKHZhbHVlKSA9PiB7XG4gICAgdW5zdWIoKTtcbiAgICBzdWJzY3JpcHRpb24odmFsdWUpO1xuICB9KTtcbiAgcmV0dXJuIHVuc3ViO1xufVxuZnVuY3Rpb24gc3RyZWFtKCkge1xuICBjb25zdCBzdWJzY3JpcHRpb25zID0gW107XG4gIHJldHVybiAoYWN0aW9uLCBhcmcpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSBSRVNFVDpcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5zcGxpY2UoMCwgc3Vic2NyaXB0aW9ucy5sZW5ndGgpO1xuICAgICAgICByZXR1cm47XG4gICAgICBjYXNlIFNVQlNDUklCRTpcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKGFyZyk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgY29uc3QgaW5kZXhPZiA9IHN1YnNjcmlwdGlvbnMuaW5kZXhPZihhcmcpO1xuICAgICAgICAgIGlmIChpbmRleE9mID4gLTEpIHtcbiAgICAgICAgICAgIHN1YnNjcmlwdGlvbnMuc3BsaWNlKGluZGV4T2YsIDEpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIGNhc2UgUFVCTElTSDpcbiAgICAgICAgc3Vic2NyaXB0aW9ucy5zbGljZSgpLmZvckVhY2goKHN1YnNjcmlwdGlvbikgPT4ge1xuICAgICAgICAgIHN1YnNjcmlwdGlvbihhcmcpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bnJlY29nbml6ZWQgYWN0aW9uICR7YWN0aW9ufWApO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHN0YXRlZnVsU3RyZWFtKGluaXRpYWwpIHtcbiAgbGV0IHZhbHVlID0gaW5pdGlhbDtcbiAgY29uc3QgaW5uZXJTdWJqZWN0ID0gc3RyZWFtKCk7XG4gIHJldHVybiAoYWN0aW9uLCBhcmcpID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSBTVUJTQ1JJQkU6XG4gICAgICAgIGNvbnN0IHN1YnNjcmlwdGlvbiA9IGFyZztcbiAgICAgICAgc3Vic2NyaXB0aW9uKHZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFBVQkxJU0g6XG4gICAgICAgIHZhbHVlID0gYXJnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgVkFMVUU6XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGlubmVyU3ViamVjdChhY3Rpb24sIGFyZyk7XG4gIH07XG59XG5mdW5jdGlvbiBldmVudEhhbmRsZXIoZW1pdHRlcikge1xuICBsZXQgdW5zdWI7XG4gIGxldCBjdXJyZW50U3Vic2NyaXB0aW9uO1xuICBjb25zdCBjbGVhbnVwID0gKCkgPT4gdW5zdWIgJiYgdW5zdWIoKTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFjdGlvbiwgc3Vic2NyaXB0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgU1VCU0NSSUJFOlxuICAgICAgICBpZiAoc3Vic2NyaXB0aW9uKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRTdWJzY3JpcHRpb24gPT09IHN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgY3VycmVudFN1YnNjcmlwdGlvbiA9IHN1YnNjcmlwdGlvbjtcbiAgICAgICAgICB1bnN1YiA9IHN1YnNjcmliZShlbWl0dGVyLCBzdWJzY3JpcHRpb24pO1xuICAgICAgICAgIHJldHVybiB1bnN1YjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgICAgIH1cbiAgICAgIGNhc2UgUkVTRVQ6XG4gICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgY3VycmVudFN1YnNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIGFjdGlvbiAke2FjdGlvbn1gKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBzdHJlYW1Gcm9tRW1pdHRlcihlbWl0dGVyKSB7XG4gIHJldHVybiB0YXAoc3RyZWFtKCksIChzdHJlYW0yKSA9PiBjb25uZWN0KGVtaXR0ZXIsIHN0cmVhbTIpKTtcbn1cbmZ1bmN0aW9uIHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoZW1pdHRlciwgaW5pdGlhbCkge1xuICByZXR1cm4gdGFwKHN0YXRlZnVsU3RyZWFtKGluaXRpYWwpLCAoc3RyZWFtMikgPT4gY29ubmVjdChlbWl0dGVyLCBzdHJlYW0yKSk7XG59XG5mdW5jdGlvbiBjb21iaW5lT3BlcmF0b3JzKC4uLm9wZXJhdG9ycykge1xuICByZXR1cm4gKHN1YnNjcmliZXIpID0+IHtcbiAgICByZXR1cm4gb3BlcmF0b3JzLnJlZHVjZVJpZ2h0KHRocnVzaCwgc3Vic2NyaWJlcik7XG4gIH07XG59XG5mdW5jdGlvbiBwaXBlKHNvdXJjZSwgLi4ub3BlcmF0b3JzKSB7XG4gIGNvbnN0IHByb2plY3QgPSBjb21iaW5lT3BlcmF0b3JzKC4uLm9wZXJhdG9ycyk7XG4gIHJldHVybiAoYWN0aW9uLCBzdWJzY3JpcHRpb24pID0+IHtcbiAgICBzd2l0Y2ggKGFjdGlvbikge1xuICAgICAgY2FzZSBTVUJTQ1JJQkU6XG4gICAgICAgIHJldHVybiBzdWJzY3JpYmUoc291cmNlLCBwcm9qZWN0KHN1YnNjcmlwdGlvbikpO1xuICAgICAgY2FzZSBSRVNFVDpcbiAgICAgICAgcmVzZXQoc291cmNlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDb21wYXJhdG9yKHByZXZpb3VzLCBuZXh0KSB7XG4gIHJldHVybiBwcmV2aW91cyA9PT0gbmV4dDtcbn1cbmZ1bmN0aW9uIGRpc3RpbmN0VW50aWxDaGFuZ2VkKGNvbXBhcmF0b3IgPSBkZWZhdWx0Q29tcGFyYXRvcikge1xuICBsZXQgY3VycmVudDtcbiAgcmV0dXJuIChkb25lKSA9PiAobmV4dCkgPT4ge1xuICAgIGlmICghY29tcGFyYXRvcihjdXJyZW50LCBuZXh0KSkge1xuICAgICAgY3VycmVudCA9IG5leHQ7XG4gICAgICBkb25lKG5leHQpO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUpIHtcbiAgcmV0dXJuIChkb25lKSA9PiAodmFsdWUpID0+IHtcbiAgICBwcmVkaWNhdGUodmFsdWUpICYmIGRvbmUodmFsdWUpO1xuICB9O1xufVxuZnVuY3Rpb24gbWFwKHByb2plY3QpIHtcbiAgcmV0dXJuIChkb25lKSA9PiBjb21wb3NlKGRvbmUsIHByb2plY3QpO1xufVxuZnVuY3Rpb24gbWFwVG8odmFsdWUpIHtcbiAgcmV0dXJuIChkb25lKSA9PiAoKSA9PiBkb25lKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIHNjYW4oc2Nhbm5lciwgaW5pdGlhbCkge1xuICByZXR1cm4gKGRvbmUpID0+ICh2YWx1ZSkgPT4gZG9uZShpbml0aWFsID0gc2Nhbm5lcihpbml0aWFsLCB2YWx1ZSkpO1xufVxuZnVuY3Rpb24gc2tpcCh0aW1lcykge1xuICByZXR1cm4gKGRvbmUpID0+ICh2YWx1ZSkgPT4ge1xuICAgIHRpbWVzID4gMCA/IHRpbWVzLS0gOiBkb25lKHZhbHVlKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHRocm90dGxlVGltZShpbnRlcnZhbCkge1xuICBsZXQgY3VycmVudFZhbHVlID0gbnVsbDtcbiAgbGV0IHRpbWVvdXQ7XG4gIHJldHVybiAoZG9uZSkgPT4gKHZhbHVlKSA9PiB7XG4gICAgY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGltZW91dCA9IHZvaWQgMDtcbiAgICAgIGRvbmUoY3VycmVudFZhbHVlKTtcbiAgICB9LCBpbnRlcnZhbCk7XG4gIH07XG59XG5mdW5jdGlvbiBkZWJvdW5jZVRpbWUoaW50ZXJ2YWwpIHtcbiAgbGV0IGN1cnJlbnRWYWx1ZTtcbiAgbGV0IHRpbWVvdXQ7XG4gIHJldHVybiAoZG9uZSkgPT4gKHZhbHVlKSA9PiB7XG4gICAgY3VycmVudFZhbHVlID0gdmFsdWU7XG4gICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICB9XG4gICAgdGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgZG9uZShjdXJyZW50VmFsdWUpO1xuICAgIH0sIGludGVydmFsKTtcbiAgfTtcbn1cbmZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKC4uLnNvdXJjZXMpIHtcbiAgY29uc3QgdmFsdWVzID0gbmV3IEFycmF5KHNvdXJjZXMubGVuZ3RoKTtcbiAgbGV0IGNhbGxlZCA9IDA7XG4gIGxldCBwZW5kaW5nQ2FsbCA9IG51bGw7XG4gIGNvbnN0IGFsbENhbGxlZCA9IE1hdGgucG93KDIsIHNvdXJjZXMubGVuZ3RoKSAtIDE7XG4gIHNvdXJjZXMuZm9yRWFjaCgoc291cmNlLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IGJpdCA9IE1hdGgucG93KDIsIGluZGV4KTtcbiAgICBzdWJzY3JpYmUoc291cmNlLCAodmFsdWUpID0+IHtcbiAgICAgIGNvbnN0IHByZXZDYWxsZWQgPSBjYWxsZWQ7XG4gICAgICBjYWxsZWQgPSBjYWxsZWQgfCBiaXQ7XG4gICAgICB2YWx1ZXNbaW5kZXhdID0gdmFsdWU7XG4gICAgICBpZiAocHJldkNhbGxlZCAhPT0gYWxsQ2FsbGVkICYmIGNhbGxlZCA9PT0gYWxsQ2FsbGVkICYmIHBlbmRpbmdDYWxsKSB7XG4gICAgICAgIHBlbmRpbmdDYWxsKCk7XG4gICAgICAgIHBlbmRpbmdDYWxsID0gbnVsbDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiAoZG9uZSkgPT4gKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgY2FsbDIgPSAoKSA9PiBkb25lKFt2YWx1ZV0uY29uY2F0KHZhbHVlcykpO1xuICAgIGlmIChjYWxsZWQgPT09IGFsbENhbGxlZCkge1xuICAgICAgY2FsbDIoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0NhbGwgPSBjYWxsMjtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBtZXJnZSguLi5zb3VyY2VzKSB7XG4gIHJldHVybiBmdW5jdGlvbihhY3Rpb24sIHN1YnNjcmlwdGlvbikge1xuICAgIHN3aXRjaCAoYWN0aW9uKSB7XG4gICAgICBjYXNlIFNVQlNDUklCRTpcbiAgICAgICAgcmV0dXJuIGpvaW5Qcm9jKC4uLnNvdXJjZXMubWFwKChzb3VyY2UpID0+IHN1YnNjcmliZShzb3VyY2UsIHN1YnNjcmlwdGlvbikpKTtcbiAgICAgIGNhc2UgUkVTRVQ6XG4gICAgICAgIHJldHVybjtcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgdW5yZWNvZ25pemVkIGFjdGlvbiAke2FjdGlvbn1gKTtcbiAgICB9XG4gIH07XG59XG5mdW5jdGlvbiBkdWMoc291cmNlLCBjb21wYXJhdG9yID0gZGVmYXVsdENvbXBhcmF0b3IpIHtcbiAgcmV0dXJuIHBpcGUoc291cmNlLCBkaXN0aW5jdFVudGlsQ2hhbmdlZChjb21wYXJhdG9yKSk7XG59XG5mdW5jdGlvbiBjb21iaW5lTGF0ZXN0KC4uLmVtaXR0ZXJzKSB7XG4gIGNvbnN0IGlubmVyU3ViamVjdCA9IHN0cmVhbSgpO1xuICBjb25zdCB2YWx1ZXMgPSBuZXcgQXJyYXkoZW1pdHRlcnMubGVuZ3RoKTtcbiAgbGV0IGNhbGxlZCA9IDA7XG4gIGNvbnN0IGFsbENhbGxlZCA9IE1hdGgucG93KDIsIGVtaXR0ZXJzLmxlbmd0aCkgLSAxO1xuICBlbWl0dGVycy5mb3JFYWNoKChzb3VyY2UsIGluZGV4KSA9PiB7XG4gICAgY29uc3QgYml0ID0gTWF0aC5wb3coMiwgaW5kZXgpO1xuICAgIHN1YnNjcmliZShzb3VyY2UsICh2YWx1ZSkgPT4ge1xuICAgICAgdmFsdWVzW2luZGV4XSA9IHZhbHVlO1xuICAgICAgY2FsbGVkID0gY2FsbGVkIHwgYml0O1xuICAgICAgaWYgKGNhbGxlZCA9PT0gYWxsQ2FsbGVkKSB7XG4gICAgICAgIHB1Ymxpc2goaW5uZXJTdWJqZWN0LCB2YWx1ZXMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uKGFjdGlvbiwgc3Vic2NyaXB0aW9uKSB7XG4gICAgc3dpdGNoIChhY3Rpb24pIHtcbiAgICAgIGNhc2UgU1VCU0NSSUJFOlxuICAgICAgICBpZiAoY2FsbGVkID09PSBhbGxDYWxsZWQpIHtcbiAgICAgICAgICBzdWJzY3JpcHRpb24odmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlKGlubmVyU3ViamVjdCwgc3Vic2NyaXB0aW9uKTtcbiAgICAgIGNhc2UgUkVTRVQ6XG4gICAgICAgIHJldHVybiByZXNldChpbm5lclN1YmplY3QpO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGB1bnJlY29nbml6ZWQgYWN0aW9uICR7YWN0aW9ufWApO1xuICAgIH1cbiAgfTtcbn1cbmZ1bmN0aW9uIHN5c3RlbShjb25zdHJ1Y3RvciwgZGVwZW5kZW5jaWVzID0gW10sIHsgc2luZ2xldG9uIH0gPSB7IHNpbmdsZXRvbjogdHJ1ZSB9KSB7XG4gIHJldHVybiB7XG4gICAgaWQ6IGlkKCksXG4gICAgY29uc3RydWN0b3IsXG4gICAgZGVwZW5kZW5jaWVzLFxuICAgIHNpbmdsZXRvblxuICB9O1xufVxuY29uc3QgaWQgPSAoKSA9PiBTeW1ib2woKTtcbmZ1bmN0aW9uIGluaXQoc3lzdGVtU3BlYykge1xuICBjb25zdCBzaW5nbGV0b25zID0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgY29uc3QgX2luaXQgPSAoeyBpZDogaWQyLCBjb25zdHJ1Y3RvciwgZGVwZW5kZW5jaWVzLCBzaW5nbGV0b24gfSkgPT4ge1xuICAgIGlmIChzaW5nbGV0b24gJiYgc2luZ2xldG9ucy5oYXMoaWQyKSkge1xuICAgICAgcmV0dXJuIHNpbmdsZXRvbnMuZ2V0KGlkMik7XG4gICAgfVxuICAgIGNvbnN0IHN5c3RlbTIgPSBjb25zdHJ1Y3RvcihkZXBlbmRlbmNpZXMubWFwKChlKSA9PiBfaW5pdChlKSkpO1xuICAgIGlmIChzaW5nbGV0b24pIHtcbiAgICAgIHNpbmdsZXRvbnMuc2V0KGlkMiwgc3lzdGVtMik7XG4gICAgfVxuICAgIHJldHVybiBzeXN0ZW0yO1xuICB9O1xuICByZXR1cm4gX2luaXQoc3lzdGVtU3BlYyk7XG59XG5mdW5jdGlvbiBvbWl0KGtleXMsIG9iaikge1xuICBjb25zdCByZXN1bHQgPSB7fTtcbiAgY29uc3QgaW5kZXggPSB7fTtcbiAgbGV0IGlkeCA9IDA7XG4gIGNvbnN0IGxlbiA9IGtleXMubGVuZ3RoO1xuICB3aGlsZSAoaWR4IDwgbGVuKSB7XG4gICAgaW5kZXhba2V5c1tpZHhdXSA9IDE7XG4gICAgaWR4ICs9IDE7XG4gIH1cbiAgZm9yIChjb25zdCBwcm9wIGluIG9iaikge1xuICAgIGlmICghaW5kZXguaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgIHJlc3VsdFtwcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QkMiA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcbmZ1bmN0aW9uIHN5c3RlbVRvQ29tcG9uZW50KHN5c3RlbVNwZWMsIG1hcDIsIFJvb3QpIHtcbiAgY29uc3QgcmVxdWlyZWRQcm9wTmFtZXMgPSBPYmplY3Qua2V5cyhtYXAyLnJlcXVpcmVkIHx8IHt9KTtcbiAgY29uc3Qgb3B0aW9uYWxQcm9wTmFtZXMgPSBPYmplY3Qua2V5cyhtYXAyLm9wdGlvbmFsIHx8IHt9KTtcbiAgY29uc3QgbWV0aG9kTmFtZXMgPSBPYmplY3Qua2V5cyhtYXAyLm1ldGhvZHMgfHwge30pO1xuICBjb25zdCBldmVudE5hbWVzID0gT2JqZWN0LmtleXMobWFwMi5ldmVudHMgfHwge30pO1xuICBjb25zdCBDb250ZXh0ID0gUmVhY3QuY3JlYXRlQ29udGV4dCh7fSk7XG4gIGZ1bmN0aW9uIGFwcGx5UHJvcHNUb1N5c3RlbShzeXN0ZW0yLCBwcm9wcykge1xuICAgIGlmIChzeXN0ZW0yW1wicHJvcHNSZWFkeVwiXSkge1xuICAgICAgcHVibGlzaChzeXN0ZW0yW1wicHJvcHNSZWFkeVwiXSwgZmFsc2UpO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHJlcXVpcmVkUHJvcE5hbWUgb2YgcmVxdWlyZWRQcm9wTmFtZXMpIHtcbiAgICAgIGNvbnN0IHN0cmVhbTIgPSBzeXN0ZW0yW21hcDIucmVxdWlyZWRbcmVxdWlyZWRQcm9wTmFtZV1dO1xuICAgICAgcHVibGlzaChzdHJlYW0yLCBwcm9wc1tyZXF1aXJlZFByb3BOYW1lXSk7XG4gICAgfVxuICAgIGZvciAoY29uc3Qgb3B0aW9uYWxQcm9wTmFtZSBvZiBvcHRpb25hbFByb3BOYW1lcykge1xuICAgICAgaWYgKG9wdGlvbmFsUHJvcE5hbWUgaW4gcHJvcHMpIHtcbiAgICAgICAgY29uc3Qgc3RyZWFtMiA9IHN5c3RlbTJbbWFwMi5vcHRpb25hbFtvcHRpb25hbFByb3BOYW1lXV07XG4gICAgICAgIHB1Ymxpc2goc3RyZWFtMiwgcHJvcHNbb3B0aW9uYWxQcm9wTmFtZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoc3lzdGVtMltcInByb3BzUmVhZHlcIl0pIHtcbiAgICAgIHB1Ymxpc2goc3lzdGVtMltcInByb3BzUmVhZHlcIl0sIHRydWUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBidWlsZE1ldGhvZHMoc3lzdGVtMikge1xuICAgIHJldHVybiBtZXRob2ROYW1lcy5yZWR1Y2UoKGFjYywgbWV0aG9kTmFtZSkgPT4ge1xuICAgICAgYWNjW21ldGhvZE5hbWVdID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHN0cmVhbTIgPSBzeXN0ZW0yW21hcDIubWV0aG9kc1ttZXRob2ROYW1lXV07XG4gICAgICAgIHB1Ymxpc2goc3RyZWFtMiwgdmFsdWUpO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwge30pO1xuICB9XG4gIGZ1bmN0aW9uIGJ1aWxkRXZlbnRIYW5kbGVycyhzeXN0ZW0yKSB7XG4gICAgcmV0dXJuIGV2ZW50TmFtZXMucmVkdWNlKChoYW5kbGVycywgZXZlbnROYW1lKSA9PiB7XG4gICAgICBoYW5kbGVyc1tldmVudE5hbWVdID0gZXZlbnRIYW5kbGVyKHN5c3RlbTJbbWFwMi5ldmVudHNbZXZlbnROYW1lXV0pO1xuICAgICAgcmV0dXJuIGhhbmRsZXJzO1xuICAgIH0sIHt9KTtcbiAgfVxuICBjb25zdCBDb21wb25lbnQgPSBSZWFjdC5mb3J3YXJkUmVmKChwcm9wc1dpdGhDaGlsZHJlbiwgcmVmKSA9PiB7XG4gICAgY29uc3QgeyBjaGlsZHJlbiwgLi4ucHJvcHMgfSA9IHByb3BzV2l0aENoaWxkcmVuO1xuICAgIGNvbnN0IFtzeXN0ZW0yXSA9IFJlYWN0LnVzZVN0YXRlKCgpID0+IHtcbiAgICAgIHJldHVybiB0YXAoaW5pdChzeXN0ZW1TcGVjKSwgKHN5c3RlbTIyKSA9PiBhcHBseVByb3BzVG9TeXN0ZW0oc3lzdGVtMjIsIHByb3BzKSk7XG4gICAgfSk7XG4gICAgY29uc3QgW2hhbmRsZXJzXSA9IFJlYWN0LnVzZVN0YXRlKGN1cnJ5MXRvMChidWlsZEV2ZW50SGFuZGxlcnMsIHN5c3RlbTIpKTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0JDIoKCkgPT4ge1xuICAgICAgZm9yIChjb25zdCBldmVudE5hbWUgb2YgZXZlbnROYW1lcykge1xuICAgICAgICBpZiAoZXZlbnROYW1lIGluIHByb3BzKSB7XG4gICAgICAgICAgc3Vic2NyaWJlKGhhbmRsZXJzW2V2ZW50TmFtZV0sIHByb3BzW2V2ZW50TmFtZV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICBPYmplY3QudmFsdWVzKGhhbmRsZXJzKS5tYXAocmVzZXQpO1xuICAgICAgfTtcbiAgICB9LCBbcHJvcHMsIGhhbmRsZXJzLCBzeXN0ZW0yXSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCQyKCgpID0+IHtcbiAgICAgIGFwcGx5UHJvcHNUb1N5c3RlbShzeXN0ZW0yLCBwcm9wcyk7XG4gICAgfSk7XG4gICAgUmVhY3QudXNlSW1wZXJhdGl2ZUhhbmRsZShyZWYsIGFsd2F5cyhidWlsZE1ldGhvZHMoc3lzdGVtMikpKTtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIENvbnRleHQuUHJvdmlkZXIsXG4gICAgICB7IHZhbHVlOiBzeXN0ZW0yIH0sXG4gICAgICBSb290ID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgUm9vdCxcbiAgICAgICAgb21pdChbLi4ucmVxdWlyZWRQcm9wTmFtZXMsIC4uLm9wdGlvbmFsUHJvcE5hbWVzLCAuLi5ldmVudE5hbWVzXSwgcHJvcHMpLFxuICAgICAgICBjaGlsZHJlblxuICAgICAgKSA6IGNoaWxkcmVuXG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IHVzZVB1Ymxpc2hlcjIgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIFJlYWN0LnVzZUNhbGxiYWNrKGN1cnJ5MnRvMShwdWJsaXNoLCBSZWFjdC51c2VDb250ZXh0KENvbnRleHQpW2tleV0pLCBba2V5XSk7XG4gIH07XG4gIGNvbnN0IHVzZUVtaXR0ZXJWYWx1ZTE4ID0gKGtleSkgPT4ge1xuICAgIGNvbnN0IHN5c3RlbTIgPSBSZWFjdC51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHN5c3RlbTJba2V5XTtcbiAgICBjb25zdCBjYiA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgICAgKGMpID0+IHtcbiAgICAgICAgcmV0dXJuIHN1YnNjcmliZShzb3VyY2UsIGMpO1xuICAgICAgfSxcbiAgICAgIFtzb3VyY2VdXG4gICAgKTtcbiAgICByZXR1cm4gUmVhY3QudXNlU3luY0V4dGVybmFsU3RvcmUoXG4gICAgICBjYixcbiAgICAgICgpID0+IGdldFZhbHVlKHNvdXJjZSksXG4gICAgICAoKSA9PiBnZXRWYWx1ZShzb3VyY2UpXG4gICAgKTtcbiAgfTtcbiAgY29uc3QgdXNlRW1pdHRlclZhbHVlTGVnYWN5ID0gKGtleSkgPT4ge1xuICAgIGNvbnN0IHN5c3RlbTIgPSBSZWFjdC51c2VDb250ZXh0KENvbnRleHQpO1xuICAgIGNvbnN0IHNvdXJjZSA9IHN5c3RlbTJba2V5XTtcbiAgICBjb25zdCBbdmFsdWUsIHNldFZhbHVlXSA9IFJlYWN0LnVzZVN0YXRlKGN1cnJ5MXRvMChnZXRWYWx1ZSwgc291cmNlKSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCQyKFxuICAgICAgKCkgPT4gc3Vic2NyaWJlKHNvdXJjZSwgKG5leHQpID0+IHtcbiAgICAgICAgaWYgKG5leHQgIT09IHZhbHVlKSB7XG4gICAgICAgICAgc2V0VmFsdWUoYWx3YXlzKG5leHQpKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBbc291cmNlLCB2YWx1ZV1cbiAgICApO1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcbiAgY29uc3QgdXNlRW1pdHRlclZhbHVlMiA9IFJlYWN0LnZlcnNpb24uc3RhcnRzV2l0aChcIjE4XCIpID8gdXNlRW1pdHRlclZhbHVlMTggOiB1c2VFbWl0dGVyVmFsdWVMZWdhY3k7XG4gIGNvbnN0IHVzZUVtaXR0ZXIyID0gKGtleSwgY2FsbGJhY2spID0+IHtcbiAgICBjb25zdCBjb250ZXh0ID0gUmVhY3QudXNlQ29udGV4dChDb250ZXh0KTtcbiAgICBjb25zdCBzb3VyY2UgPSBjb250ZXh0W2tleV07XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCQyKCgpID0+IHN1YnNjcmliZShzb3VyY2UsIGNhbGxiYWNrKSwgW2NhbGxiYWNrLCBzb3VyY2VdKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBDb21wb25lbnQsXG4gICAgdXNlUHVibGlzaGVyOiB1c2VQdWJsaXNoZXIyLFxuICAgIHVzZUVtaXR0ZXJWYWx1ZTogdXNlRW1pdHRlclZhbHVlMixcbiAgICB1c2VFbWl0dGVyOiB1c2VFbWl0dGVyMlxuICB9O1xufVxuY29uc3QgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdCA9IHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIiA/IFJlYWN0LnVzZUxheW91dEVmZmVjdCA6IFJlYWN0LnVzZUVmZmVjdDtcbmNvbnN0IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QkMSA9IHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3Q7XG52YXIgTG9nTGV2ZWwgPSAvKiBAX19QVVJFX18gKi8gKChMb2dMZXZlbDIpID0+IHtcbiAgTG9nTGV2ZWwyW0xvZ0xldmVsMltcIkRFQlVHXCJdID0gMF0gPSBcIkRFQlVHXCI7XG4gIExvZ0xldmVsMltMb2dMZXZlbDJbXCJJTkZPXCJdID0gMV0gPSBcIklORk9cIjtcbiAgTG9nTGV2ZWwyW0xvZ0xldmVsMltcIldBUk5cIl0gPSAyXSA9IFwiV0FSTlwiO1xuICBMb2dMZXZlbDJbTG9nTGV2ZWwyW1wiRVJST1JcIl0gPSAzXSA9IFwiRVJST1JcIjtcbiAgcmV0dXJuIExvZ0xldmVsMjtcbn0pKExvZ0xldmVsIHx8IHt9KTtcbmNvbnN0IENPTlNPTEVfTUVUSE9EX01BUCA9IHtcbiAgW1xuICAgIDBcbiAgICAvKiBERUJVRyAqL1xuICBdOiBcImRlYnVnXCIsXG4gIFtcbiAgICAxXG4gICAgLyogSU5GTyAqL1xuICBdOiBcImxvZ1wiLFxuICBbXG4gICAgMlxuICAgIC8qIFdBUk4gKi9cbiAgXTogXCJ3YXJuXCIsXG4gIFtcbiAgICAzXG4gICAgLyogRVJST1IgKi9cbiAgXTogXCJlcnJvclwiXG59O1xuY29uc3QgZ2V0R2xvYmFsVGhpcyA9ICgpID0+IHR5cGVvZiBnbG9iYWxUaGlzID09PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDogZ2xvYmFsVGhpcztcbmNvbnN0IGxvZ2dlclN5c3RlbSA9IHN5c3RlbShcbiAgKCkgPT4ge1xuICAgIGNvbnN0IGxvZ0xldmVsID0gc3RhdGVmdWxTdHJlYW0oXG4gICAgICAzXG4gICAgICAvKiBFUlJPUiAqL1xuICAgICk7XG4gICAgY29uc3QgbG9nID0gc3RhdGVmdWxTdHJlYW0oKGxhYmVsLCBtZXNzYWdlLCBsZXZlbCA9IDEpID0+IHtcbiAgICAgIHZhciBfYTtcbiAgICAgIGNvbnN0IGN1cnJlbnRMZXZlbCA9IChfYSA9IGdldEdsb2JhbFRoaXMoKVtcIlZJUlRVT1NPX0xPR19MRVZFTFwiXSkgIT0gbnVsbCA/IF9hIDogZ2V0VmFsdWUobG9nTGV2ZWwpO1xuICAgICAgaWYgKGxldmVsID49IGN1cnJlbnRMZXZlbCkge1xuICAgICAgICBjb25zb2xlW0NPTlNPTEVfTUVUSE9EX01BUFtsZXZlbF1dKFxuICAgICAgICAgIFwiJWNyZWFjdC12aXJ0dW9zbzogJWMlcyAlb1wiLFxuICAgICAgICAgIFwiY29sb3I6ICMwMjUzYjM7IGZvbnQtd2VpZ2h0OiBib2xkXCIsXG4gICAgICAgICAgXCJjb2xvcjogaW5pdGlhbFwiLFxuICAgICAgICAgIGxhYmVsLFxuICAgICAgICAgIG1lc3NhZ2VcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgbG9nLFxuICAgICAgbG9nTGV2ZWxcbiAgICB9O1xuICB9LFxuICBbXSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmZ1bmN0aW9uIHVzZVNpemVXaXRoRWxSZWYoY2FsbGJhY2ssIGVuYWJsZWQgPSB0cnVlKSB7XG4gIGNvbnN0IHJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgbGV0IGNhbGxiYWNrUmVmID0gKF9lbCkgPT4ge1xuICB9O1xuICBpZiAodHlwZW9mIFJlc2l6ZU9ic2VydmVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY29uc3Qgb2JzZXJ2ZXIgPSBSZWFjdC51c2VNZW1vKCgpID0+IHtcbiAgICAgIHJldHVybiBuZXcgUmVzaXplT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcbiAgICAgICAgY29uc3QgZWxlbWVudCA9IGVudHJpZXNbMF0udGFyZ2V0O1xuICAgICAgICBpZiAoZWxlbWVudC5vZmZzZXRQYXJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgY2FsbGJhY2soZWxlbWVudCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sIFtjYWxsYmFja10pO1xuICAgIGNhbGxiYWNrUmVmID0gKGVsUmVmKSA9PiB7XG4gICAgICBpZiAoZWxSZWYgJiYgZW5hYmxlZCkge1xuICAgICAgICBvYnNlcnZlci5vYnNlcnZlKGVsUmVmKTtcbiAgICAgICAgcmVmLmN1cnJlbnQgPSBlbFJlZjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChyZWYuY3VycmVudCkge1xuICAgICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShyZWYuY3VycmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHsgcmVmLCBjYWxsYmFja1JlZiB9O1xufVxuZnVuY3Rpb24gdXNlU2l6ZShjYWxsYmFjaywgZW5hYmxlZCA9IHRydWUpIHtcbiAgcmV0dXJuIHVzZVNpemVXaXRoRWxSZWYoY2FsbGJhY2ssIGVuYWJsZWQpLmNhbGxiYWNrUmVmO1xufVxuZnVuY3Rpb24gdXNlQ2hhbmdlZExpc3RDb250ZW50c1NpemVzKGNhbGxiYWNrLCBpdGVtU2l6ZSwgZW5hYmxlZCwgc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjaywgbG9nLCBnYXAsIGN1c3RvbVNjcm9sbFBhcmVudCkge1xuICBjb25zdCBtZW1vZWRDYWxsYmFjayA9IFJlYWN0LnVzZUNhbGxiYWNrKFxuICAgIChlbCkgPT4ge1xuICAgICAgY29uc3QgcmFuZ2VzID0gZ2V0Q2hhbmdlZENoaWxkU2l6ZXMoZWwuY2hpbGRyZW4sIGl0ZW1TaXplLCBcIm9mZnNldEhlaWdodFwiLCBsb2cpO1xuICAgICAgbGV0IHNjcm9sbGFibGVFbGVtZW50ID0gZWwucGFyZW50RWxlbWVudDtcbiAgICAgIHdoaWxlICghc2Nyb2xsYWJsZUVsZW1lbnQuZGF0YXNldFtcInZpcnR1b3NvU2Nyb2xsZXJcIl0pIHtcbiAgICAgICAgc2Nyb2xsYWJsZUVsZW1lbnQgPSBzY3JvbGxhYmxlRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgICAgY29uc3Qgd2luZG93U2Nyb2xsaW5nID0gc2Nyb2xsYWJsZUVsZW1lbnQubGFzdEVsZW1lbnRDaGlsZC5kYXRhc2V0W1widmlld3BvcnRUeXBlXCJdID09PSBcIndpbmRvd1wiO1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gY3VzdG9tU2Nyb2xsUGFyZW50ID8gY3VzdG9tU2Nyb2xsUGFyZW50LnNjcm9sbFRvcCA6IHdpbmRvd1Njcm9sbGluZyA/IHdpbmRvdy5wYWdlWU9mZnNldCB8fCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIDogc2Nyb2xsYWJsZUVsZW1lbnQuc2Nyb2xsVG9wO1xuICAgICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gY3VzdG9tU2Nyb2xsUGFyZW50ID8gY3VzdG9tU2Nyb2xsUGFyZW50LnNjcm9sbEhlaWdodCA6IHdpbmRvd1Njcm9sbGluZyA/IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHQgOiBzY3JvbGxhYmxlRWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IGN1c3RvbVNjcm9sbFBhcmVudCA/IGN1c3RvbVNjcm9sbFBhcmVudC5vZmZzZXRIZWlnaHQgOiB3aW5kb3dTY3JvbGxpbmcgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBzY3JvbGxhYmxlRWxlbWVudC5vZmZzZXRIZWlnaHQ7XG4gICAgICBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrKHtcbiAgICAgICAgc2Nyb2xsVG9wOiBNYXRoLm1heChzY3JvbGxUb3AsIDApLFxuICAgICAgICBzY3JvbGxIZWlnaHQsXG4gICAgICAgIHZpZXdwb3J0SGVpZ2h0XG4gICAgICB9KTtcbiAgICAgIGdhcCA9PSBudWxsID8gdm9pZCAwIDogZ2FwKHJlc29sdmVHYXBWYWx1ZSQxKFwicm93LWdhcFwiLCBnZXRDb21wdXRlZFN0eWxlKGVsKS5yb3dHYXAsIGxvZykpO1xuICAgICAgaWYgKHJhbmdlcyAhPT0gbnVsbCkge1xuICAgICAgICBjYWxsYmFjayhyYW5nZXMpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2NhbGxiYWNrLCBpdGVtU2l6ZSwgbG9nLCBnYXAsIGN1c3RvbVNjcm9sbFBhcmVudCwgc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFja11cbiAgKTtcbiAgcmV0dXJuIHVzZVNpemVXaXRoRWxSZWYobWVtb2VkQ2FsbGJhY2ssIGVuYWJsZWQpO1xufVxuZnVuY3Rpb24gZ2V0Q2hhbmdlZENoaWxkU2l6ZXMoY2hpbGRyZW4sIGl0ZW1TaXplLCBmaWVsZCwgbG9nKSB7XG4gIGNvbnN0IGxlbmd0aCA9IGNoaWxkcmVuLmxlbmd0aDtcbiAgaWYgKGxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW4uaXRlbShpKTtcbiAgICBpZiAoIWNoaWxkIHx8IGNoaWxkLmRhdGFzZXQuaW5kZXggPT09IHZvaWQgMCkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcGFyc2VJbnQoY2hpbGQuZGF0YXNldC5pbmRleCk7XG4gICAgY29uc3Qga25vd25TaXplID0gcGFyc2VGbG9hdChjaGlsZC5kYXRhc2V0Lmtub3duU2l6ZSk7XG4gICAgY29uc3Qgc2l6ZSA9IGl0ZW1TaXplKGNoaWxkLCBmaWVsZCk7XG4gICAgaWYgKHNpemUgPT09IDApIHtcbiAgICAgIGxvZyhcIlplcm8tc2l6ZWQgZWxlbWVudCwgdGhpcyBzaG91bGQgbm90IGhhcHBlblwiLCB7IGNoaWxkIH0sIExvZ0xldmVsLkVSUk9SKTtcbiAgICB9XG4gICAgaWYgKHNpemUgPT09IGtub3duU2l6ZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IGxhc3RSZXN1bHQgPSByZXN1bHRzW3Jlc3VsdHMubGVuZ3RoIC0gMV07XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSAwIHx8IGxhc3RSZXN1bHQuc2l6ZSAhPT0gc2l6ZSB8fCBsYXN0UmVzdWx0LmVuZEluZGV4ICE9PSBpbmRleCAtIDEpIHtcbiAgICAgIHJlc3VsdHMucHVzaCh7IHN0YXJ0SW5kZXg6IGluZGV4LCBlbmRJbmRleDogaW5kZXgsIHNpemUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0cy5sZW5ndGggLSAxXS5lbmRJbmRleCsrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0cztcbn1cbmZ1bmN0aW9uIHJlc29sdmVHYXBWYWx1ZSQxKHByb3BlcnR5LCB2YWx1ZSwgbG9nKSB7XG4gIGlmICh2YWx1ZSAhPT0gXCJub3JtYWxcIiAmJiAhKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5lbmRzV2l0aChcInB4XCIpKSkge1xuICAgIGxvZyhgJHtwcm9wZXJ0eX0gd2FzIG5vdCByZXNvbHZlZCB0byBwaXhlbCB2YWx1ZSBjb3JyZWN0bHlgLCB2YWx1ZSwgTG9nTGV2ZWwuV0FSTik7XG4gIH1cbiAgaWYgKHZhbHVlID09PSBcIm5vcm1hbFwiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgcmV0dXJuIHBhcnNlSW50KHZhbHVlICE9IG51bGwgPyB2YWx1ZSA6IFwiMFwiLCAxMCk7XG59XG5mdW5jdGlvbiBjb3JyZWN0SXRlbVNpemUoZWwsIGRpbWVuc2lvbikge1xuICByZXR1cm4gTWF0aC5yb3VuZChlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVtkaW1lbnNpb25dKTtcbn1cbmZ1bmN0aW9uIGFwcHJveGltYXRlbHlFcXVhbChudW0xLCBudW0yKSB7XG4gIHJldHVybiBNYXRoLmFicyhudW0xIC0gbnVtMikgPCAxLjAxO1xufVxuZnVuY3Rpb24gdXNlU2Nyb2xsVG9wKHNjcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2ssIHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQsIHNjcm9sbGVyRWxlbWVudCwgc2Nyb2xsZXJSZWZDYWxsYmFjayA9IG5vb3AsIGN1c3RvbVNjcm9sbFBhcmVudCkge1xuICBjb25zdCBzY3JvbGxlclJlZiA9IFJlYWN0LnVzZVJlZihudWxsKTtcbiAgY29uc3Qgc2Nyb2xsVG9wVGFyZ2V0ID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCB0aW1lb3V0UmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBoYW5kbGVyID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGV2KSA9PiB7XG4gICAgICBjb25zdCBlbCA9IGV2LnRhcmdldDtcbiAgICAgIGNvbnN0IHdpbmRvd1Njcm9sbCA9IGVsID09PSB3aW5kb3cgfHwgZWwgPT09IGRvY3VtZW50O1xuICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gd2luZG93U2Nyb2xsID8gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgOiBlbC5zY3JvbGxUb3A7XG4gICAgICBjb25zdCBzY3JvbGxIZWlnaHQgPSB3aW5kb3dTY3JvbGwgPyBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0IDogZWwuc2Nyb2xsSGVpZ2h0O1xuICAgICAgY29uc3Qgdmlld3BvcnRIZWlnaHQgPSB3aW5kb3dTY3JvbGwgPyB3aW5kb3cuaW5uZXJIZWlnaHQgOiBlbC5vZmZzZXRIZWlnaHQ7XG4gICAgICBjb25zdCBjYWxsMiA9ICgpID0+IHtcbiAgICAgICAgc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjayh7XG4gICAgICAgICAgc2Nyb2xsVG9wOiBNYXRoLm1heChzY3JvbGxUb3AsIDApLFxuICAgICAgICAgIHNjcm9sbEhlaWdodCxcbiAgICAgICAgICB2aWV3cG9ydEhlaWdodFxuICAgICAgICB9KTtcbiAgICAgIH07XG4gICAgICBpZiAoZXYuc3VwcHJlc3NGbHVzaFN5bmMpIHtcbiAgICAgICAgY2FsbDIoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFJlYWN0RE9NLmZsdXNoU3luYyhjYWxsMik7XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsVG9wVGFyZ2V0LmN1cnJlbnQgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHNjcm9sbFRvcCA9PT0gc2Nyb2xsVG9wVGFyZ2V0LmN1cnJlbnQgfHwgc2Nyb2xsVG9wIDw9IDAgfHwgc2Nyb2xsVG9wID09PSBzY3JvbGxIZWlnaHQgLSB2aWV3cG9ydEhlaWdodCkge1xuICAgICAgICAgIHNjcm9sbFRvcFRhcmdldC5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICBzbW9vdGhTY3JvbGxUYXJnZXRSZWFjaGVkKHRydWUpO1xuICAgICAgICAgIGlmICh0aW1lb3V0UmVmLmN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmLmN1cnJlbnQpO1xuICAgICAgICAgICAgdGltZW91dFJlZi5jdXJyZW50ID0gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIFtzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrLCBzbW9vdGhTY3JvbGxUYXJnZXRSZWFjaGVkXVxuICApO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGxvY2FsUmVmID0gY3VzdG9tU2Nyb2xsUGFyZW50ID8gY3VzdG9tU2Nyb2xsUGFyZW50IDogc2Nyb2xsZXJSZWYuY3VycmVudDtcbiAgICBzY3JvbGxlclJlZkNhbGxiYWNrKGN1c3RvbVNjcm9sbFBhcmVudCA/IGN1c3RvbVNjcm9sbFBhcmVudCA6IHNjcm9sbGVyUmVmLmN1cnJlbnQpO1xuICAgIGhhbmRsZXIoeyB0YXJnZXQ6IGxvY2FsUmVmLCBzdXBwcmVzc0ZsdXNoU3luYzogdHJ1ZSB9KTtcbiAgICBsb2NhbFJlZi5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGhhbmRsZXIsIHsgcGFzc2l2ZTogdHJ1ZSB9KTtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgc2Nyb2xsZXJSZWZDYWxsYmFjayhudWxsKTtcbiAgICAgIGxvY2FsUmVmLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgaGFuZGxlcik7XG4gICAgfTtcbiAgfSwgW3Njcm9sbGVyUmVmLCBoYW5kbGVyLCBzY3JvbGxlckVsZW1lbnQsIHNjcm9sbGVyUmVmQ2FsbGJhY2ssIGN1c3RvbVNjcm9sbFBhcmVudF0pO1xuICBmdW5jdGlvbiBzY3JvbGxUb0NhbGxiYWNrKGxvY2F0aW9uKSB7XG4gICAgY29uc3Qgc2Nyb2xsZXJFbGVtZW50MiA9IHNjcm9sbGVyUmVmLmN1cnJlbnQ7XG4gICAgaWYgKCFzY3JvbGxlckVsZW1lbnQyIHx8IFwib2Zmc2V0SGVpZ2h0XCIgaW4gc2Nyb2xsZXJFbGVtZW50MiAmJiBzY3JvbGxlckVsZW1lbnQyLm9mZnNldEhlaWdodCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBpc1Ntb290aCA9IGxvY2F0aW9uLmJlaGF2aW9yID09PSBcInNtb290aFwiO1xuICAgIGxldCBvZmZzZXRIZWlnaHQ7XG4gICAgbGV0IHNjcm9sbEhlaWdodDtcbiAgICBsZXQgc2Nyb2xsVG9wO1xuICAgIGlmIChzY3JvbGxlckVsZW1lbnQyID09PSB3aW5kb3cpIHtcbiAgICAgIHNjcm9sbEhlaWdodCA9IE1hdGgubWF4KGNvcnJlY3RJdGVtU2l6ZShkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQsIFwiaGVpZ2h0XCIpLCBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0KTtcbiAgICAgIG9mZnNldEhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICAgIHNjcm9sbFRvcCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNjcm9sbEhlaWdodCA9IHNjcm9sbGVyRWxlbWVudDIuc2Nyb2xsSGVpZ2h0O1xuICAgICAgb2Zmc2V0SGVpZ2h0ID0gY29ycmVjdEl0ZW1TaXplKHNjcm9sbGVyRWxlbWVudDIsIFwiaGVpZ2h0XCIpO1xuICAgICAgc2Nyb2xsVG9wID0gc2Nyb2xsZXJFbGVtZW50Mi5zY3JvbGxUb3A7XG4gICAgfVxuICAgIGNvbnN0IG1heFNjcm9sbFRvcCA9IHNjcm9sbEhlaWdodCAtIG9mZnNldEhlaWdodDtcbiAgICBsb2NhdGlvbi50b3AgPSBNYXRoLmNlaWwoTWF0aC5tYXgoTWF0aC5taW4obWF4U2Nyb2xsVG9wLCBsb2NhdGlvbi50b3ApLCAwKSk7XG4gICAgaWYgKGFwcHJveGltYXRlbHlFcXVhbChvZmZzZXRIZWlnaHQsIHNjcm9sbEhlaWdodCkgfHwgbG9jYXRpb24udG9wID09PSBzY3JvbGxUb3ApIHtcbiAgICAgIHNjcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2soeyBzY3JvbGxUb3AsIHNjcm9sbEhlaWdodCwgdmlld3BvcnRIZWlnaHQ6IG9mZnNldEhlaWdodCB9KTtcbiAgICAgIGlmIChpc1Ntb290aCkge1xuICAgICAgICBzbW9vdGhTY3JvbGxUYXJnZXRSZWFjaGVkKHRydWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaXNTbW9vdGgpIHtcbiAgICAgIHNjcm9sbFRvcFRhcmdldC5jdXJyZW50ID0gbG9jYXRpb24udG9wO1xuICAgICAgaWYgKHRpbWVvdXRSZWYuY3VycmVudCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dFJlZi5jdXJyZW50KTtcbiAgICAgIH1cbiAgICAgIHRpbWVvdXRSZWYuY3VycmVudCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aW1lb3V0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgICBzY3JvbGxUb3BUYXJnZXQuY3VycmVudCA9IG51bGw7XG4gICAgICAgIHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQodHJ1ZSk7XG4gICAgICB9LCAxZTMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzY3JvbGxUb3BUYXJnZXQuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIHNjcm9sbGVyRWxlbWVudDIuc2Nyb2xsVG8obG9jYXRpb24pO1xuICB9XG4gIGZ1bmN0aW9uIHNjcm9sbEJ5Q2FsbGJhY2sobG9jYXRpb24pIHtcbiAgICBzY3JvbGxlclJlZi5jdXJyZW50LnNjcm9sbEJ5KGxvY2F0aW9uKTtcbiAgfVxuICByZXR1cm4geyBzY3JvbGxlclJlZiwgc2Nyb2xsQnlDYWxsYmFjaywgc2Nyb2xsVG9DYWxsYmFjayB9O1xufVxuY29uc3QgZG9tSU9TeXN0ZW0gPSBzeXN0ZW0oXG4gICgpID0+IHtcbiAgICBjb25zdCBzY3JvbGxDb250YWluZXJTdGF0ZSA9IHN0cmVhbSgpO1xuICAgIGNvbnN0IHNjcm9sbFRvcCA9IHN0cmVhbSgpO1xuICAgIGNvbnN0IGRldmlhdGlvbiA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGNvbnN0IHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQgPSBzdHJlYW0oKTtcbiAgICBjb25zdCBzdGF0ZWZ1bFNjcm9sbFRvcCA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gc3RyZWFtKCk7XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gc3RyZWFtKCk7XG4gICAgY29uc3QgaGVhZGVySGVpZ2h0ID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gICAgY29uc3QgZml4ZWRIZWFkZXJIZWlnaHQgPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBmaXhlZEZvb3RlckhlaWdodCA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGNvbnN0IGZvb3RlckhlaWdodCA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGNvbnN0IHNjcm9sbFRvID0gc3RyZWFtKCk7XG4gICAgY29uc3Qgc2Nyb2xsQnkgPSBzdHJlYW0oKTtcbiAgICBjb25zdCBzY3JvbGxpbmdJblByb2dyZXNzID0gc3RhdGVmdWxTdHJlYW0oZmFsc2UpO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBzY3JvbGxDb250YWluZXJTdGF0ZSxcbiAgICAgICAgbWFwKCh7IHNjcm9sbFRvcDogc2Nyb2xsVG9wMiB9KSA9PiBzY3JvbGxUb3AyKVxuICAgICAgKSxcbiAgICAgIHNjcm9sbFRvcFxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIHNjcm9sbENvbnRhaW5lclN0YXRlLFxuICAgICAgICBtYXAoKHsgc2Nyb2xsSGVpZ2h0OiBzY3JvbGxIZWlnaHQyIH0pID0+IHNjcm9sbEhlaWdodDIpXG4gICAgICApLFxuICAgICAgc2Nyb2xsSGVpZ2h0XG4gICAgKTtcbiAgICBjb25uZWN0KHNjcm9sbFRvcCwgc3RhdGVmdWxTY3JvbGxUb3ApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpbnB1dFxuICAgICAgc2Nyb2xsQ29udGFpbmVyU3RhdGUsXG4gICAgICBzY3JvbGxUb3AsXG4gICAgICB2aWV3cG9ydEhlaWdodCxcbiAgICAgIGhlYWRlckhlaWdodCxcbiAgICAgIGZpeGVkSGVhZGVySGVpZ2h0LFxuICAgICAgZml4ZWRGb290ZXJIZWlnaHQsXG4gICAgICBmb290ZXJIZWlnaHQsXG4gICAgICBzY3JvbGxIZWlnaHQsXG4gICAgICBzbW9vdGhTY3JvbGxUYXJnZXRSZWFjaGVkLFxuICAgICAgLy8gc2lnbmFsc1xuICAgICAgc2Nyb2xsVG8sXG4gICAgICBzY3JvbGxCeSxcbiAgICAgIC8vIHN0YXRlXG4gICAgICBzdGF0ZWZ1bFNjcm9sbFRvcCxcbiAgICAgIGRldmlhdGlvbixcbiAgICAgIHNjcm9sbGluZ0luUHJvZ3Jlc3NcbiAgICB9O1xuICB9LFxuICBbXSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmNvbnN0IE5JTF9OT0RFID0geyBsdmw6IDAgfTtcbmZ1bmN0aW9uIG5ld0FBTm9kZShrLCB2LCBsdmwsIGwgPSBOSUxfTk9ERSwgciA9IE5JTF9OT0RFKSB7XG4gIHJldHVybiB7IGssIHYsIGx2bCwgbCwgciB9O1xufVxuZnVuY3Rpb24gZW1wdHkobm9kZSkge1xuICByZXR1cm4gbm9kZSA9PT0gTklMX05PREU7XG59XG5mdW5jdGlvbiBuZXdUcmVlKCkge1xuICByZXR1cm4gTklMX05PREU7XG59XG5mdW5jdGlvbiByZW1vdmUobm9kZSwga2V5KSB7XG4gIGlmIChlbXB0eShub2RlKSlcbiAgICByZXR1cm4gTklMX05PREU7XG4gIGNvbnN0IHsgaywgbCwgciB9ID0gbm9kZTtcbiAgaWYgKGtleSA9PT0gaykge1xuICAgIGlmIChlbXB0eShsKSkge1xuICAgICAgcmV0dXJuIHI7XG4gICAgfSBlbHNlIGlmIChlbXB0eShyKSkge1xuICAgICAgcmV0dXJuIGw7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IFtsYXN0S2V5LCBsYXN0VmFsdWVdID0gbGFzdChsKTtcbiAgICAgIHJldHVybiBhZGp1c3QoY2xvbmUobm9kZSwgeyBrOiBsYXN0S2V5LCB2OiBsYXN0VmFsdWUsIGw6IGRlbGV0ZUxhc3QobCkgfSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChrZXkgPCBrKSB7XG4gICAgcmV0dXJuIGFkanVzdChjbG9uZShub2RlLCB7IGw6IHJlbW92ZShsLCBrZXkpIH0pKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYWRqdXN0KGNsb25lKG5vZGUsIHsgcjogcmVtb3ZlKHIsIGtleSkgfSkpO1xuICB9XG59XG5mdW5jdGlvbiBmaW5kKG5vZGUsIGtleSkge1xuICBpZiAoZW1wdHkobm9kZSkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGtleSA9PT0gbm9kZS5rKSB7XG4gICAgcmV0dXJuIG5vZGUudjtcbiAgfSBlbHNlIGlmIChrZXkgPCBub2RlLmspIHtcbiAgICByZXR1cm4gZmluZChub2RlLmwsIGtleSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZpbmQobm9kZS5yLCBrZXkpO1xuICB9XG59XG5mdW5jdGlvbiBmaW5kTWF4S2V5VmFsdWUobm9kZSwgdmFsdWUsIGZpZWxkID0gXCJrXCIpIHtcbiAgaWYgKGVtcHR5KG5vZGUpKSB7XG4gICAgcmV0dXJuIFstSW5maW5pdHksIHZvaWQgMF07XG4gIH1cbiAgaWYgKE51bWJlcihub2RlW2ZpZWxkXSkgPT09IHZhbHVlKSB7XG4gICAgcmV0dXJuIFtub2RlLmssIG5vZGUudl07XG4gIH1cbiAgaWYgKE51bWJlcihub2RlW2ZpZWxkXSkgPCB2YWx1ZSkge1xuICAgIGNvbnN0IHIgPSBmaW5kTWF4S2V5VmFsdWUobm9kZS5yLCB2YWx1ZSwgZmllbGQpO1xuICAgIGlmIChyWzBdID09PSAtSW5maW5pdHkpIHtcbiAgICAgIHJldHVybiBbbm9kZS5rLCBub2RlLnZdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZpbmRNYXhLZXlWYWx1ZShub2RlLmwsIHZhbHVlLCBmaWVsZCk7XG59XG5mdW5jdGlvbiBpbnNlcnQobm9kZSwgaywgdikge1xuICBpZiAoZW1wdHkobm9kZSkpIHtcbiAgICByZXR1cm4gbmV3QUFOb2RlKGssIHYsIDEpO1xuICB9XG4gIGlmIChrID09PSBub2RlLmspIHtcbiAgICByZXR1cm4gY2xvbmUobm9kZSwgeyBrLCB2IH0pO1xuICB9IGVsc2UgaWYgKGsgPCBub2RlLmspIHtcbiAgICByZXR1cm4gcmViYWxhbmNlKGNsb25lKG5vZGUsIHsgbDogaW5zZXJ0KG5vZGUubCwgaywgdikgfSkpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiByZWJhbGFuY2UoY2xvbmUobm9kZSwgeyByOiBpbnNlcnQobm9kZS5yLCBrLCB2KSB9KSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHdhbGtXaXRoaW4obm9kZSwgc3RhcnQsIGVuZCkge1xuICBpZiAoZW1wdHkobm9kZSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgeyBrLCB2LCBsLCByIH0gPSBub2RlO1xuICBsZXQgcmVzdWx0ID0gW107XG4gIGlmIChrID4gc3RhcnQpIHtcbiAgICByZXN1bHQgPSByZXN1bHQuY29uY2F0KHdhbGtXaXRoaW4obCwgc3RhcnQsIGVuZCkpO1xuICB9XG4gIGlmIChrID49IHN0YXJ0ICYmIGsgPD0gZW5kKSB7XG4gICAgcmVzdWx0LnB1c2goeyBrLCB2IH0pO1xuICB9XG4gIGlmIChrIDw9IGVuZCkge1xuICAgIHJlc3VsdCA9IHJlc3VsdC5jb25jYXQod2Fsa1dpdGhpbihyLCBzdGFydCwgZW5kKSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHdhbGsobm9kZSkge1xuICBpZiAoZW1wdHkobm9kZSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgcmV0dXJuIFsuLi53YWxrKG5vZGUubCksIHsgazogbm9kZS5rLCB2OiBub2RlLnYgfSwgLi4ud2Fsayhub2RlLnIpXTtcbn1cbmZ1bmN0aW9uIGxhc3Qobm9kZSkge1xuICByZXR1cm4gZW1wdHkobm9kZS5yKSA/IFtub2RlLmssIG5vZGUudl0gOiBsYXN0KG5vZGUucik7XG59XG5mdW5jdGlvbiBkZWxldGVMYXN0KG5vZGUpIHtcbiAgcmV0dXJuIGVtcHR5KG5vZGUucikgPyBub2RlLmwgOiBhZGp1c3QoY2xvbmUobm9kZSwgeyByOiBkZWxldGVMYXN0KG5vZGUucikgfSkpO1xufVxuZnVuY3Rpb24gY2xvbmUobm9kZSwgYXJncykge1xuICByZXR1cm4gbmV3QUFOb2RlKFxuICAgIGFyZ3MuayAhPT0gdm9pZCAwID8gYXJncy5rIDogbm9kZS5rLFxuICAgIGFyZ3MudiAhPT0gdm9pZCAwID8gYXJncy52IDogbm9kZS52LFxuICAgIGFyZ3MubHZsICE9PSB2b2lkIDAgPyBhcmdzLmx2bCA6IG5vZGUubHZsLFxuICAgIGFyZ3MubCAhPT0gdm9pZCAwID8gYXJncy5sIDogbm9kZS5sLFxuICAgIGFyZ3MuciAhPT0gdm9pZCAwID8gYXJncy5yIDogbm9kZS5yXG4gICk7XG59XG5mdW5jdGlvbiBpc1NpbmdsZShub2RlKSB7XG4gIHJldHVybiBlbXB0eShub2RlKSB8fCBub2RlLmx2bCA+IG5vZGUuci5sdmw7XG59XG5mdW5jdGlvbiByZWJhbGFuY2Uobm9kZSkge1xuICByZXR1cm4gc3BsaXQoc2tldyhub2RlKSk7XG59XG5mdW5jdGlvbiBhZGp1c3Qobm9kZSkge1xuICBjb25zdCB7IGwsIHIsIGx2bCB9ID0gbm9kZTtcbiAgaWYgKHIubHZsID49IGx2bCAtIDEgJiYgbC5sdmwgPj0gbHZsIC0gMSkge1xuICAgIHJldHVybiBub2RlO1xuICB9IGVsc2UgaWYgKGx2bCA+IHIubHZsICsgMSkge1xuICAgIGlmIChpc1NpbmdsZShsKSkge1xuICAgICAgcmV0dXJuIHNrZXcoY2xvbmUobm9kZSwgeyBsdmw6IGx2bCAtIDEgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVtcHR5KGwpICYmICFlbXB0eShsLnIpKSB7XG4gICAgICAgIHJldHVybiBjbG9uZShsLnIsIHtcbiAgICAgICAgICBsOiBjbG9uZShsLCB7IHI6IGwuci5sIH0pLFxuICAgICAgICAgIHI6IGNsb25lKG5vZGUsIHtcbiAgICAgICAgICAgIGw6IGwuci5yLFxuICAgICAgICAgICAgbHZsOiBsdmwgLSAxXG4gICAgICAgICAgfSksXG4gICAgICAgICAgbHZsXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSBub2Rlc1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGlzU2luZ2xlKG5vZGUpKSB7XG4gICAgICByZXR1cm4gc3BsaXQoY2xvbmUobm9kZSwgeyBsdmw6IGx2bCAtIDEgfSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWVtcHR5KHIpICYmICFlbXB0eShyLmwpKSB7XG4gICAgICAgIGNvbnN0IHJsID0gci5sO1xuICAgICAgICBjb25zdCBybHZsID0gaXNTaW5nbGUocmwpID8gci5sdmwgLSAxIDogci5sdmw7XG4gICAgICAgIHJldHVybiBjbG9uZShybCwge1xuICAgICAgICAgIGw6IGNsb25lKG5vZGUsIHtcbiAgICAgICAgICAgIHI6IHJsLmwsXG4gICAgICAgICAgICBsdmw6IGx2bCAtIDFcbiAgICAgICAgICB9KSxcbiAgICAgICAgICByOiBzcGxpdChjbG9uZShyLCB7IGw6IHJsLnIsIGx2bDogcmx2bCB9KSksXG4gICAgICAgICAgbHZsOiBybC5sdmwgKyAxXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCBlbXB0eSBub2Rlc1wiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHJhbmdlc1dpdGhpbihub2RlLCBzdGFydEluZGV4LCBlbmRJbmRleCkge1xuICBpZiAoZW1wdHkobm9kZSkpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgY29uc3QgYWRqdXN0ZWRTdGFydCA9IGZpbmRNYXhLZXlWYWx1ZShub2RlLCBzdGFydEluZGV4KVswXTtcbiAgcmV0dXJuIHRvUmFuZ2VzKHdhbGtXaXRoaW4obm9kZSwgYWRqdXN0ZWRTdGFydCwgZW5kSW5kZXgpKTtcbn1cbmZ1bmN0aW9uIGFycmF5VG9SYW5nZXMoaXRlbXMsIHBhcnNlcikge1xuICBjb25zdCBsZW5ndGggPSBpdGVtcy5sZW5ndGg7XG4gIGlmIChsZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgbGV0IHsgaW5kZXg6IHN0YXJ0LCB2YWx1ZSB9ID0gcGFyc2VyKGl0ZW1zWzBdKTtcbiAgY29uc3QgcmVzdWx0ID0gW107XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCB7IGluZGV4OiBuZXh0SW5kZXgsIHZhbHVlOiBuZXh0VmFsdWUgfSA9IHBhcnNlcihpdGVtc1tpXSk7XG4gICAgcmVzdWx0LnB1c2goeyBzdGFydCwgZW5kOiBuZXh0SW5kZXggLSAxLCB2YWx1ZSB9KTtcbiAgICBzdGFydCA9IG5leHRJbmRleDtcbiAgICB2YWx1ZSA9IG5leHRWYWx1ZTtcbiAgfVxuICByZXN1bHQucHVzaCh7IHN0YXJ0LCBlbmQ6IEluZmluaXR5LCB2YWx1ZSB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIHRvUmFuZ2VzKG5vZGVzKSB7XG4gIHJldHVybiBhcnJheVRvUmFuZ2VzKG5vZGVzLCAoeyBrOiBpbmRleCwgdjogdmFsdWUgfSkgPT4gKHsgaW5kZXgsIHZhbHVlIH0pKTtcbn1cbmZ1bmN0aW9uIHNwbGl0KG5vZGUpIHtcbiAgY29uc3QgeyByLCBsdmwgfSA9IG5vZGU7XG4gIHJldHVybiAhZW1wdHkocikgJiYgIWVtcHR5KHIucikgJiYgci5sdmwgPT09IGx2bCAmJiByLnIubHZsID09PSBsdmwgPyBjbG9uZShyLCB7IGw6IGNsb25lKG5vZGUsIHsgcjogci5sIH0pLCBsdmw6IGx2bCArIDEgfSkgOiBub2RlO1xufVxuZnVuY3Rpb24gc2tldyhub2RlKSB7XG4gIGNvbnN0IHsgbCB9ID0gbm9kZTtcbiAgcmV0dXJuICFlbXB0eShsKSAmJiBsLmx2bCA9PT0gbm9kZS5sdmwgPyBjbG9uZShsLCB7IHI6IGNsb25lKG5vZGUsIHsgbDogbC5yIH0pIH0pIDogbm9kZTtcbn1cbmZ1bmN0aW9uIGZpbmRJbmRleE9mQ2xvc2VzdFNtYWxsZXJPckVxdWFsKGl0ZW1zLCB2YWx1ZSwgY29tcGFyYXRvciwgc3RhcnQgPSAwKSB7XG4gIGxldCBlbmQgPSBpdGVtcy5sZW5ndGggLSAxO1xuICB3aGlsZSAoc3RhcnQgPD0gZW5kKSB7XG4gICAgY29uc3QgaW5kZXggPSBNYXRoLmZsb29yKChzdGFydCArIGVuZCkgLyAyKTtcbiAgICBjb25zdCBpdGVtID0gaXRlbXNbaW5kZXhdO1xuICAgIGNvbnN0IG1hdGNoID0gY29tcGFyYXRvcihpdGVtLCB2YWx1ZSk7XG4gICAgaWYgKG1hdGNoID09PSAwKSB7XG4gICAgICByZXR1cm4gaW5kZXg7XG4gICAgfVxuICAgIGlmIChtYXRjaCA9PT0gLTEpIHtcbiAgICAgIGlmIChlbmQgLSBzdGFydCA8IDIpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4IC0gMTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IGluZGV4IC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGVuZCA9PT0gc3RhcnQpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBpbmRleCArIDE7XG4gICAgfVxuICB9XG4gIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIGJpbmFyeSBmaW5kaW5nIHJlY29yZCBpbiBhcnJheSAtICR7aXRlbXMuam9pbihcIixcIil9LCBzZWFyY2hlZCBmb3IgJHt2YWx1ZX1gKTtcbn1cbmZ1bmN0aW9uIGZpbmRDbG9zZXN0U21hbGxlck9yRXF1YWwoaXRlbXMsIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gIHJldHVybiBpdGVtc1tmaW5kSW5kZXhPZkNsb3Nlc3RTbWFsbGVyT3JFcXVhbChpdGVtcywgdmFsdWUsIGNvbXBhcmF0b3IpXTtcbn1cbmZ1bmN0aW9uIGZpbmRSYW5nZShpdGVtcywgc3RhcnRWYWx1ZSwgZW5kVmFsdWUsIGNvbXBhcmF0b3IpIHtcbiAgY29uc3Qgc3RhcnRJbmRleCA9IGZpbmRJbmRleE9mQ2xvc2VzdFNtYWxsZXJPckVxdWFsKGl0ZW1zLCBzdGFydFZhbHVlLCBjb21wYXJhdG9yKTtcbiAgY29uc3QgZW5kSW5kZXggPSBmaW5kSW5kZXhPZkNsb3Nlc3RTbWFsbGVyT3JFcXVhbChpdGVtcywgZW5kVmFsdWUsIGNvbXBhcmF0b3IsIHN0YXJ0SW5kZXgpO1xuICByZXR1cm4gaXRlbXMuc2xpY2Uoc3RhcnRJbmRleCwgZW5kSW5kZXggKyAxKTtcbn1cbmNvbnN0IHJlY2FsY1N5c3RlbSA9IHN5c3RlbShcbiAgKCkgPT4ge1xuICAgIGNvbnN0IHJlY2FsY0luUHJvZ3Jlc3MgPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgcmV0dXJuIHsgcmVjYWxjSW5Qcm9ncmVzcyB9O1xuICB9LFxuICBbXSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmZ1bmN0aW9uIHJhbmdlSW5jbHVkZXMocmVmUmFuZ2UpIHtcbiAgY29uc3QgeyBzaXplLCBzdGFydEluZGV4LCBlbmRJbmRleCB9ID0gcmVmUmFuZ2U7XG4gIHJldHVybiAocmFuZ2UpID0+IHtcbiAgICByZXR1cm4gcmFuZ2Uuc3RhcnQgPT09IHN0YXJ0SW5kZXggJiYgKHJhbmdlLmVuZCA9PT0gZW5kSW5kZXggfHwgcmFuZ2UuZW5kID09PSBJbmZpbml0eSkgJiYgcmFuZ2UudmFsdWUgPT09IHNpemU7XG4gIH07XG59XG5mdW5jdGlvbiBhZmZlY3RlZEdyb3VwQ291bnQob2Zmc2V0LCBncm91cEluZGljZXMpIHtcbiAgbGV0IHJlY29nbml6ZWRPZmZzZXRJdGVtcyA9IDA7XG4gIGxldCBncm91cEluZGV4ID0gMDtcbiAgd2hpbGUgKHJlY29nbml6ZWRPZmZzZXRJdGVtcyA8IG9mZnNldCkge1xuICAgIHJlY29nbml6ZWRPZmZzZXRJdGVtcyArPSBncm91cEluZGljZXNbZ3JvdXBJbmRleCArIDFdIC0gZ3JvdXBJbmRpY2VzW2dyb3VwSW5kZXhdIC0gMTtcbiAgICBncm91cEluZGV4Kys7XG4gIH1cbiAgY29uc3Qgb2Zmc2V0SXNFeGFjdCA9IHJlY29nbml6ZWRPZmZzZXRJdGVtcyA9PT0gb2Zmc2V0O1xuICByZXR1cm4gZ3JvdXBJbmRleCAtIChvZmZzZXRJc0V4YWN0ID8gMCA6IDEpO1xufVxuZnVuY3Rpb24gaW5zZXJ0UmFuZ2VzKHNpemVUcmVlLCByYW5nZXMpIHtcbiAgbGV0IHN5bmNTdGFydCA9IGVtcHR5KHNpemVUcmVlKSA/IDAgOiBJbmZpbml0eTtcbiAgZm9yIChjb25zdCByYW5nZSBvZiByYW5nZXMpIHtcbiAgICBjb25zdCB7IHNpemUsIHN0YXJ0SW5kZXgsIGVuZEluZGV4IH0gPSByYW5nZTtcbiAgICBzeW5jU3RhcnQgPSBNYXRoLm1pbihzeW5jU3RhcnQsIHN0YXJ0SW5kZXgpO1xuICAgIGlmIChlbXB0eShzaXplVHJlZSkpIHtcbiAgICAgIHNpemVUcmVlID0gaW5zZXJ0KHNpemVUcmVlLCAwLCBzaXplKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBjb25zdCBvdmVybGFwcGluZ1JhbmdlcyA9IHJhbmdlc1dpdGhpbihzaXplVHJlZSwgc3RhcnRJbmRleCAtIDEsIGVuZEluZGV4ICsgMSk7XG4gICAgaWYgKG92ZXJsYXBwaW5nUmFuZ2VzLnNvbWUocmFuZ2VJbmNsdWRlcyhyYW5nZSkpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgbGV0IGZpcnN0UGFzc0RvbmUgPSBmYWxzZTtcbiAgICBsZXQgc2hvdWxkSW5zZXJ0ID0gZmFsc2U7XG4gICAgZm9yIChjb25zdCB7IHN0YXJ0OiByYW5nZVN0YXJ0LCBlbmQ6IHJhbmdlRW5kLCB2YWx1ZTogcmFuZ2VWYWx1ZSB9IG9mIG92ZXJsYXBwaW5nUmFuZ2VzKSB7XG4gICAgICBpZiAoIWZpcnN0UGFzc0RvbmUpIHtcbiAgICAgICAgc2hvdWxkSW5zZXJ0ID0gcmFuZ2VWYWx1ZSAhPT0gc2l6ZTtcbiAgICAgICAgZmlyc3RQYXNzRG9uZSA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZW5kSW5kZXggPj0gcmFuZ2VTdGFydCB8fCBzaXplID09PSByYW5nZVZhbHVlKSB7XG4gICAgICAgICAgc2l6ZVRyZWUgPSByZW1vdmUoc2l6ZVRyZWUsIHJhbmdlU3RhcnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocmFuZ2VFbmQgPiBlbmRJbmRleCAmJiBlbmRJbmRleCA+PSByYW5nZVN0YXJ0KSB7XG4gICAgICAgIGlmIChyYW5nZVZhbHVlICE9PSBzaXplKSB7XG4gICAgICAgICAgc2l6ZVRyZWUgPSBpbnNlcnQoc2l6ZVRyZWUsIGVuZEluZGV4ICsgMSwgcmFuZ2VWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNob3VsZEluc2VydCkge1xuICAgICAgc2l6ZVRyZWUgPSBpbnNlcnQoc2l6ZVRyZWUsIHN0YXJ0SW5kZXgsIHNpemUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gW3NpemVUcmVlLCBzeW5jU3RhcnRdO1xufVxuZnVuY3Rpb24gaW5pdGlhbFNpemVTdGF0ZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBvZmZzZXRUcmVlOiBbXSxcbiAgICBzaXplVHJlZTogbmV3VHJlZSgpLFxuICAgIGdyb3VwT2Zmc2V0VHJlZTogbmV3VHJlZSgpLFxuICAgIGxhc3RJbmRleDogMCxcbiAgICBsYXN0T2Zmc2V0OiAwLFxuICAgIGxhc3RTaXplOiAwLFxuICAgIGdyb3VwSW5kaWNlczogW11cbiAgfTtcbn1cbmZ1bmN0aW9uIGluZGV4Q29tcGFyYXRvcih7IGluZGV4OiBpdGVtSW5kZXggfSwgaW5kZXgpIHtcbiAgcmV0dXJuIGluZGV4ID09PSBpdGVtSW5kZXggPyAwIDogaW5kZXggPCBpdGVtSW5kZXggPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBvZmZzZXRDb21wYXJhdG9yKHsgb2Zmc2V0OiBpdGVtT2Zmc2V0IH0sIG9mZnNldCkge1xuICByZXR1cm4gb2Zmc2V0ID09PSBpdGVtT2Zmc2V0ID8gMCA6IG9mZnNldCA8IGl0ZW1PZmZzZXQgPyAtMSA6IDE7XG59XG5mdW5jdGlvbiBvZmZzZXRQb2ludFBhcnNlcihwb2ludCkge1xuICByZXR1cm4geyBpbmRleDogcG9pbnQuaW5kZXgsIHZhbHVlOiBwb2ludCB9O1xufVxuZnVuY3Rpb24gcmFuZ2VzV2l0aGluT2Zmc2V0cyh0cmVlLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBtaW5TdGFydEluZGV4ID0gMCkge1xuICBpZiAobWluU3RhcnRJbmRleCA+IDApIHtcbiAgICBzdGFydE9mZnNldCA9IE1hdGgubWF4KHN0YXJ0T2Zmc2V0LCBmaW5kQ2xvc2VzdFNtYWxsZXJPckVxdWFsKHRyZWUsIG1pblN0YXJ0SW5kZXgsIGluZGV4Q29tcGFyYXRvcikub2Zmc2V0KTtcbiAgfVxuICByZXR1cm4gYXJyYXlUb1JhbmdlcyhmaW5kUmFuZ2UodHJlZSwgc3RhcnRPZmZzZXQsIGVuZE9mZnNldCwgb2Zmc2V0Q29tcGFyYXRvciksIG9mZnNldFBvaW50UGFyc2VyKTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU9mZnNldFRyZWUocHJldk9mZnNldFRyZWUsIHN5bmNTdGFydCwgc2l6ZVRyZWUsIGdhcCkge1xuICBsZXQgb2Zmc2V0VHJlZSA9IHByZXZPZmZzZXRUcmVlO1xuICBsZXQgcHJldkluZGV4ID0gMDtcbiAgbGV0IHByZXZTaXplID0gMDtcbiAgbGV0IHByZXZPZmZzZXQgPSAwO1xuICBsZXQgc3RhcnRJbmRleCA9IDA7XG4gIGlmIChzeW5jU3RhcnQgIT09IDApIHtcbiAgICBzdGFydEluZGV4ID0gZmluZEluZGV4T2ZDbG9zZXN0U21hbGxlck9yRXF1YWwob2Zmc2V0VHJlZSwgc3luY1N0YXJ0IC0gMSwgaW5kZXhDb21wYXJhdG9yKTtcbiAgICBjb25zdCBvZmZzZXRJbmZvID0gb2Zmc2V0VHJlZVtzdGFydEluZGV4XTtcbiAgICBwcmV2T2Zmc2V0ID0gb2Zmc2V0SW5mby5vZmZzZXQ7XG4gICAgY29uc3Qga3YgPSBmaW5kTWF4S2V5VmFsdWUoc2l6ZVRyZWUsIHN5bmNTdGFydCAtIDEpO1xuICAgIHByZXZJbmRleCA9IGt2WzBdO1xuICAgIHByZXZTaXplID0ga3ZbMV07XG4gICAgaWYgKG9mZnNldFRyZWUubGVuZ3RoICYmIG9mZnNldFRyZWVbc3RhcnRJbmRleF0uc2l6ZSA9PT0gZmluZE1heEtleVZhbHVlKHNpemVUcmVlLCBzeW5jU3RhcnQpWzFdKSB7XG4gICAgICBzdGFydEluZGV4IC09IDE7XG4gICAgfVxuICAgIG9mZnNldFRyZWUgPSBvZmZzZXRUcmVlLnNsaWNlKDAsIHN0YXJ0SW5kZXggKyAxKTtcbiAgfSBlbHNlIHtcbiAgICBvZmZzZXRUcmVlID0gW107XG4gIH1cbiAgZm9yIChjb25zdCB7IHN0YXJ0OiBzdGFydEluZGV4MiwgdmFsdWUgfSBvZiByYW5nZXNXaXRoaW4oc2l6ZVRyZWUsIHN5bmNTdGFydCwgSW5maW5pdHkpKSB7XG4gICAgY29uc3QgaW5kZXhPZmZzZXQgPSBzdGFydEluZGV4MiAtIHByZXZJbmRleDtcbiAgICBjb25zdCBhT2Zmc2V0ID0gaW5kZXhPZmZzZXQgKiBwcmV2U2l6ZSArIHByZXZPZmZzZXQgKyBpbmRleE9mZnNldCAqIGdhcDtcbiAgICBvZmZzZXRUcmVlLnB1c2goe1xuICAgICAgb2Zmc2V0OiBhT2Zmc2V0LFxuICAgICAgc2l6ZTogdmFsdWUsXG4gICAgICBpbmRleDogc3RhcnRJbmRleDJcbiAgICB9KTtcbiAgICBwcmV2SW5kZXggPSBzdGFydEluZGV4MjtcbiAgICBwcmV2T2Zmc2V0ID0gYU9mZnNldDtcbiAgICBwcmV2U2l6ZSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiB7XG4gICAgb2Zmc2V0VHJlZSxcbiAgICBsYXN0SW5kZXg6IHByZXZJbmRleCxcbiAgICBsYXN0T2Zmc2V0OiBwcmV2T2Zmc2V0LFxuICAgIGxhc3RTaXplOiBwcmV2U2l6ZVxuICB9O1xufVxuZnVuY3Rpb24gc2l6ZVN0YXRlUmVkdWNlcihzdGF0ZSwgW3JhbmdlcywgZ3JvdXBJbmRpY2VzLCBsb2csIGdhcF0pIHtcbiAgaWYgKHJhbmdlcy5sZW5ndGggPiAwKSB7XG4gICAgbG9nKFwicmVjZWl2ZWQgaXRlbSBzaXplc1wiLCByYW5nZXMsIExvZ0xldmVsLkRFQlVHKTtcbiAgfVxuICBjb25zdCBzaXplVHJlZSA9IHN0YXRlLnNpemVUcmVlO1xuICBsZXQgbmV3U2l6ZVRyZWUgPSBzaXplVHJlZTtcbiAgbGV0IHN5bmNTdGFydCA9IDA7XG4gIGlmIChncm91cEluZGljZXMubGVuZ3RoID4gMCAmJiBlbXB0eShzaXplVHJlZSkgJiYgcmFuZ2VzLmxlbmd0aCA9PT0gMikge1xuICAgIGNvbnN0IGdyb3VwU2l6ZSA9IHJhbmdlc1swXS5zaXplO1xuICAgIGNvbnN0IGl0ZW1TaXplID0gcmFuZ2VzWzFdLnNpemU7XG4gICAgbmV3U2l6ZVRyZWUgPSBncm91cEluZGljZXMucmVkdWNlKCh0cmVlLCBncm91cEluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaW5zZXJ0KGluc2VydCh0cmVlLCBncm91cEluZGV4LCBncm91cFNpemUpLCBncm91cEluZGV4ICsgMSwgaXRlbVNpemUpO1xuICAgIH0sIG5ld1NpemVUcmVlKTtcbiAgfSBlbHNlIHtcbiAgICBbbmV3U2l6ZVRyZWUsIHN5bmNTdGFydF0gPSBpbnNlcnRSYW5nZXMobmV3U2l6ZVRyZWUsIHJhbmdlcyk7XG4gIH1cbiAgaWYgKG5ld1NpemVUcmVlID09PSBzaXplVHJlZSkge1xuICAgIHJldHVybiBzdGF0ZTtcbiAgfVxuICBjb25zdCB7IG9mZnNldFRyZWU6IG5ld09mZnNldFRyZWUsIGxhc3RJbmRleCwgbGFzdFNpemUsIGxhc3RPZmZzZXQgfSA9IGNyZWF0ZU9mZnNldFRyZWUoc3RhdGUub2Zmc2V0VHJlZSwgc3luY1N0YXJ0LCBuZXdTaXplVHJlZSwgZ2FwKTtcbiAgcmV0dXJuIHtcbiAgICBzaXplVHJlZTogbmV3U2l6ZVRyZWUsXG4gICAgb2Zmc2V0VHJlZTogbmV3T2Zmc2V0VHJlZSxcbiAgICBsYXN0SW5kZXgsXG4gICAgbGFzdE9mZnNldCxcbiAgICBsYXN0U2l6ZSxcbiAgICBncm91cE9mZnNldFRyZWU6IGdyb3VwSW5kaWNlcy5yZWR1Y2UoKHRyZWUsIGluZGV4KSA9PiB7XG4gICAgICByZXR1cm4gaW5zZXJ0KHRyZWUsIGluZGV4LCBvZmZzZXRPZihpbmRleCwgbmV3T2Zmc2V0VHJlZSwgZ2FwKSk7XG4gICAgfSwgbmV3VHJlZSgpKSxcbiAgICBncm91cEluZGljZXNcbiAgfTtcbn1cbmZ1bmN0aW9uIG9mZnNldE9mKGluZGV4LCB0cmVlLCBnYXApIHtcbiAgaWYgKHRyZWUubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cbiAgY29uc3QgeyBvZmZzZXQsIGluZGV4OiBzdGFydEluZGV4LCBzaXplIH0gPSBmaW5kQ2xvc2VzdFNtYWxsZXJPckVxdWFsKHRyZWUsIGluZGV4LCBpbmRleENvbXBhcmF0b3IpO1xuICBjb25zdCBpdGVtQ291bnQgPSBpbmRleCAtIHN0YXJ0SW5kZXg7XG4gIGNvbnN0IHRvcCA9IHNpemUgKiBpdGVtQ291bnQgKyAoaXRlbUNvdW50IC0gMSkgKiBnYXAgKyBvZmZzZXQ7XG4gIHJldHVybiB0b3AgPiAwID8gdG9wICsgZ2FwIDogdG9wO1xufVxuZnVuY3Rpb24gaXNHcm91cExvY2F0aW9uKGxvY2F0aW9uKSB7XG4gIHJldHVybiB0eXBlb2YgbG9jYXRpb24uZ3JvdXBJbmRleCAhPT0gXCJ1bmRlZmluZWRcIjtcbn1cbmZ1bmN0aW9uIG9yaWdpbmFsSW5kZXhGcm9tTG9jYXRpb24obG9jYXRpb24sIHNpemVzLCBsYXN0SW5kZXgpIHtcbiAgaWYgKGlzR3JvdXBMb2NhdGlvbihsb2NhdGlvbikpIHtcbiAgICByZXR1cm4gc2l6ZXMuZ3JvdXBJbmRpY2VzW2xvY2F0aW9uLmdyb3VwSW5kZXhdICsgMTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBudW1lcmljSW5kZXggPSBsb2NhdGlvbi5pbmRleCA9PT0gXCJMQVNUXCIgPyBsYXN0SW5kZXggOiBsb2NhdGlvbi5pbmRleDtcbiAgICBsZXQgcmVzdWx0ID0gb3JpZ2luYWxJbmRleEZyb21JdGVtSW5kZXgobnVtZXJpY0luZGV4LCBzaXplcyk7XG4gICAgcmVzdWx0ID0gTWF0aC5tYXgoMCwgcmVzdWx0LCBNYXRoLm1pbihsYXN0SW5kZXgsIHJlc3VsdCkpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbn1cbmZ1bmN0aW9uIG9yaWdpbmFsSW5kZXhGcm9tSXRlbUluZGV4KGl0ZW1JbmRleCwgc2l6ZXMpIHtcbiAgaWYgKCFoYXNHcm91cHMoc2l6ZXMpKSB7XG4gICAgcmV0dXJuIGl0ZW1JbmRleDtcbiAgfVxuICBsZXQgZ3JvdXBPZmZzZXQgPSAwO1xuICB3aGlsZSAoc2l6ZXMuZ3JvdXBJbmRpY2VzW2dyb3VwT2Zmc2V0XSA8PSBpdGVtSW5kZXggKyBncm91cE9mZnNldCkge1xuICAgIGdyb3VwT2Zmc2V0Kys7XG4gIH1cbiAgcmV0dXJuIGl0ZW1JbmRleCArIGdyb3VwT2Zmc2V0O1xufVxuZnVuY3Rpb24gaGFzR3JvdXBzKHNpemVzKSB7XG4gIHJldHVybiAhZW1wdHkoc2l6ZXMuZ3JvdXBPZmZzZXRUcmVlKTtcbn1cbmZ1bmN0aW9uIHNpemVUcmVlVG9SYW5nZXMoc2l6ZVRyZWUpIHtcbiAgcmV0dXJuIHdhbGsoc2l6ZVRyZWUpLm1hcCgoeyBrOiBzdGFydEluZGV4LCB2OiBzaXplIH0sIGluZGV4LCBzaXplQXJyYXkpID0+IHtcbiAgICBjb25zdCBuZXh0U2l6ZSA9IHNpemVBcnJheVtpbmRleCArIDFdO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gbmV4dFNpemUgPyBuZXh0U2l6ZS5rIC0gMSA6IEluZmluaXR5O1xuICAgIHJldHVybiB7IHN0YXJ0SW5kZXgsIGVuZEluZGV4LCBzaXplIH07XG4gIH0pO1xufVxuY29uc3QgU0laRV9NQVAgPSB7XG4gIG9mZnNldEhlaWdodDogXCJoZWlnaHRcIixcbiAgb2Zmc2V0V2lkdGg6IFwid2lkdGhcIlxufTtcbmNvbnN0IHNpemVTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbeyBsb2cgfSwgeyByZWNhbGNJblByb2dyZXNzIH1dKSA9PiB7XG4gICAgY29uc3Qgc2l6ZVJhbmdlcyA9IHN0cmVhbSgpO1xuICAgIGNvbnN0IHRvdGFsQ291bnQgPSBzdHJlYW0oKTtcbiAgICBjb25zdCBzdGF0ZWZ1bFRvdGFsQ291bnQgPSBzdGF0ZWZ1bFN0cmVhbUZyb21FbWl0dGVyKHRvdGFsQ291bnQsIDApO1xuICAgIGNvbnN0IHVuc2hpZnRXaXRoID0gc3RyZWFtKCk7XG4gICAgY29uc3Qgc2hpZnRXaXRoID0gc3RyZWFtKCk7XG4gICAgY29uc3QgZmlyc3RJdGVtSW5kZXggPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBncm91cEluZGljZXMgPSBzdGF0ZWZ1bFN0cmVhbShbXSk7XG4gICAgY29uc3QgZml4ZWRJdGVtU2l6ZSA9IHN0YXRlZnVsU3RyZWFtKHZvaWQgMCk7XG4gICAgY29uc3QgZGVmYXVsdEl0ZW1TaXplID0gc3RhdGVmdWxTdHJlYW0odm9pZCAwKTtcbiAgICBjb25zdCBpdGVtU2l6ZSA9IHN0YXRlZnVsU3RyZWFtKChlbCwgZmllbGQpID0+IGNvcnJlY3RJdGVtU2l6ZShlbCwgU0laRV9NQVBbZmllbGRdKSk7XG4gICAgY29uc3QgZGF0YSA9IHN0YXRlZnVsU3RyZWFtKHZvaWQgMCk7XG4gICAgY29uc3QgZ2FwID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gICAgY29uc3QgaW5pdGlhbCA9IGluaXRpYWxTaXplU3RhdGUoKTtcbiAgICBjb25zdCBzaXplcyA9IHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKHNpemVSYW5nZXMsIHdpdGhMYXRlc3RGcm9tKGdyb3VwSW5kaWNlcywgbG9nLCBnYXApLCBzY2FuKHNpemVTdGF0ZVJlZHVjZXIsIGluaXRpYWwpLCBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpKSxcbiAgICAgIGluaXRpYWxcbiAgICApO1xuICAgIGNvbnN0IHByZXZHcm91cEluZGljZXMgPSBzdGF0ZWZ1bFN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgZ3JvdXBJbmRpY2VzLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICBzY2FuKChwcmV2LCBjdXJyKSA9PiAoeyBwcmV2OiBwcmV2LmN1cnJlbnQsIGN1cnJlbnQ6IGN1cnIgfSksIHtcbiAgICAgICAgICBwcmV2OiBbXSxcbiAgICAgICAgICBjdXJyZW50OiBbXVxuICAgICAgICB9KSxcbiAgICAgICAgbWFwKCh7IHByZXYgfSkgPT4gcHJldilcbiAgICAgICksXG4gICAgICBbXVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGdyb3VwSW5kaWNlcyxcbiAgICAgICAgZmlsdGVyKChpbmRleGVzKSA9PiBpbmRleGVzLmxlbmd0aCA+IDApLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzaXplcywgZ2FwKSxcbiAgICAgICAgbWFwKChbZ3JvdXBJbmRpY2VzMiwgc2l6ZXMyLCBnYXAyXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGdyb3VwT2Zmc2V0VHJlZSA9IGdyb3VwSW5kaWNlczIucmVkdWNlKCh0cmVlLCBpbmRleCwgaWR4KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaW5zZXJ0KHRyZWUsIGluZGV4LCBvZmZzZXRPZihpbmRleCwgc2l6ZXMyLm9mZnNldFRyZWUsIGdhcDIpIHx8IGlkeCk7XG4gICAgICAgICAgfSwgbmV3VHJlZSgpKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2l6ZXMyLFxuICAgICAgICAgICAgZ3JvdXBJbmRpY2VzOiBncm91cEluZGljZXMyLFxuICAgICAgICAgICAgZ3JvdXBPZmZzZXRUcmVlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBzaXplc1xuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIHRvdGFsQ291bnQsXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHNpemVzKSxcbiAgICAgICAgZmlsdGVyKChbdG90YWxDb3VudDIsIHsgbGFzdEluZGV4IH1dKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvdGFsQ291bnQyIDwgbGFzdEluZGV4O1xuICAgICAgICB9KSxcbiAgICAgICAgbWFwKChbdG90YWxDb3VudDIsIHsgbGFzdEluZGV4LCBsYXN0U2l6ZSB9XSkgPT4ge1xuICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN0YXJ0SW5kZXg6IHRvdGFsQ291bnQyLFxuICAgICAgICAgICAgICBlbmRJbmRleDogbGFzdEluZGV4LFxuICAgICAgICAgICAgICBzaXplOiBsYXN0U2l6ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF07XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgc2l6ZVJhbmdlc1xuICAgICk7XG4gICAgY29ubmVjdChmaXhlZEl0ZW1TaXplLCBkZWZhdWx0SXRlbVNpemUpO1xuICAgIGNvbnN0IHRyYWNrSXRlbVNpemVzID0gc3RhdGVmdWxTdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGZpeGVkSXRlbVNpemUsXG4gICAgICAgIG1hcCgoc2l6ZSkgPT4gc2l6ZSA9PT0gdm9pZCAwKVxuICAgICAgKSxcbiAgICAgIHRydWVcbiAgICApO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBkZWZhdWx0SXRlbVNpemUsXG4gICAgICAgIGZpbHRlcigodmFsdWUpID0+IHtcbiAgICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZvaWQgMCAmJiBlbXB0eShnZXRWYWx1ZShzaXplcykuc2l6ZVRyZWUpO1xuICAgICAgICB9KSxcbiAgICAgICAgbWFwKChzaXplKSA9PiBbeyBzdGFydEluZGV4OiAwLCBlbmRJbmRleDogMCwgc2l6ZSB9XSlcbiAgICAgICksXG4gICAgICBzaXplUmFuZ2VzXG4gICAgKTtcbiAgICBjb25zdCBsaXN0UmVmcmVzaCA9IHN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgc2l6ZVJhbmdlcyxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oc2l6ZXMpLFxuICAgICAgICBzY2FuKFxuICAgICAgICAgICh7IHNpemVzOiBvbGRTaXplcyB9LCBbXywgbmV3U2l6ZXNdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBjaGFuZ2VkOiBuZXdTaXplcyAhPT0gb2xkU2l6ZXMsXG4gICAgICAgICAgICAgIHNpemVzOiBuZXdTaXplc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHsgY2hhbmdlZDogZmFsc2UsIHNpemVzOiBpbml0aWFsIH1cbiAgICAgICAgKSxcbiAgICAgICAgbWFwKCh2YWx1ZSkgPT4gdmFsdWUuY2hhbmdlZClcbiAgICAgIClcbiAgICApO1xuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoXG4gICAgICAgIGZpcnN0SXRlbUluZGV4LFxuICAgICAgICBzY2FuKFxuICAgICAgICAgIChwcmV2LCBuZXh0KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBkaWZmOiBwcmV2LnByZXYgLSBuZXh0LCBwcmV2OiBuZXh0IH07XG4gICAgICAgICAgfSxcbiAgICAgICAgICB7IGRpZmY6IDAsIHByZXY6IDAgfVxuICAgICAgICApLFxuICAgICAgICBtYXAoKHZhbCkgPT4gdmFsLmRpZmYpXG4gICAgICApLFxuICAgICAgKG9mZnNldCkgPT4ge1xuICAgICAgICBjb25zdCB7IGdyb3VwSW5kaWNlczogZ3JvdXBJbmRpY2VzMiB9ID0gZ2V0VmFsdWUoc2l6ZXMpO1xuICAgICAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICAgIHB1Ymxpc2gocmVjYWxjSW5Qcm9ncmVzcywgdHJ1ZSk7XG4gICAgICAgICAgcHVibGlzaCh1bnNoaWZ0V2l0aCwgb2Zmc2V0ICsgYWZmZWN0ZWRHcm91cENvdW50KG9mZnNldCwgZ3JvdXBJbmRpY2VzMikpO1xuICAgICAgICB9IGVsc2UgaWYgKG9mZnNldCA8IDApIHtcbiAgICAgICAgICBjb25zdCBwcmV2R3JvdXBJbmRpY2VzVmFsdWUgPSBnZXRWYWx1ZShwcmV2R3JvdXBJbmRpY2VzKTtcbiAgICAgICAgICBpZiAocHJldkdyb3VwSW5kaWNlc1ZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIG9mZnNldCAtPSBhZmZlY3RlZEdyb3VwQ291bnQoLW9mZnNldCwgcHJldkdyb3VwSW5kaWNlc1ZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcHVibGlzaChzaGlmdFdpdGgsIG9mZnNldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICAgIHN1YnNjcmliZShwaXBlKGZpcnN0SXRlbUluZGV4LCB3aXRoTGF0ZXN0RnJvbShsb2cpKSwgKFtpbmRleCwgbG9nMl0pID0+IHtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgbG9nMihcbiAgICAgICAgICBcImBmaXJzdEl0ZW1JbmRleGAgcHJvcCBzaG91bGQgbm90IGJlIHNldCB0byBsZXNzIHRoYW4gemVyby4gSWYgeW91IGRvbid0IGtub3cgdGhlIHRvdGFsIGNvdW50LCBqdXN0IHVzZSBhIHZlcnkgaGlnaCB2YWx1ZVwiLFxuICAgICAgICAgIHsgZmlyc3RJdGVtSW5kZXggfSxcbiAgICAgICAgICBMb2dMZXZlbC5FUlJPUlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGJlZm9yZVVuc2hpZnRXaXRoID0gc3RyZWFtRnJvbUVtaXR0ZXIodW5zaGlmdFdpdGgpO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICB1bnNoaWZ0V2l0aCxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oc2l6ZXMpLFxuICAgICAgICBtYXAoKFt1bnNoaWZ0V2l0aDIsIHNpemVzMl0pID0+IHtcbiAgICAgICAgICBjb25zdCBncm91cGVkTW9kZSA9IHNpemVzMi5ncm91cEluZGljZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICBjb25zdCBpbml0aWFsUmFuZ2VzID0gW107XG4gICAgICAgICAgY29uc3QgZGVmYXVsdFNpemUgPSBzaXplczIubGFzdFNpemU7XG4gICAgICAgICAgaWYgKGdyb3VwZWRNb2RlKSB7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEdyb3VwU2l6ZSA9IGZpbmQoc2l6ZXMyLnNpemVUcmVlLCAwKTtcbiAgICAgICAgICAgIGxldCBwcmVwZW5kZWRHcm91cEl0ZW1zQ291bnQgPSAwO1xuICAgICAgICAgICAgbGV0IGdyb3VwSW5kZXggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHByZXBlbmRlZEdyb3VwSXRlbXNDb3VudCA8IHVuc2hpZnRXaXRoMikge1xuICAgICAgICAgICAgICBjb25zdCB0aGVHcm91cEluZGV4ID0gc2l6ZXMyLmdyb3VwSW5kaWNlc1tncm91cEluZGV4XTtcbiAgICAgICAgICAgICAgY29uc3QgZ3JvdXBJdGVtQ291bnQgPSBzaXplczIuZ3JvdXBJbmRpY2VzLmxlbmd0aCA9PT0gZ3JvdXBJbmRleCArIDEgPyBJbmZpbml0eSA6IHNpemVzMi5ncm91cEluZGljZXNbZ3JvdXBJbmRleCArIDFdIC0gdGhlR3JvdXBJbmRleCAtIDE7XG4gICAgICAgICAgICAgIGluaXRpYWxSYW5nZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhcnRJbmRleDogdGhlR3JvdXBJbmRleCxcbiAgICAgICAgICAgICAgICBlbmRJbmRleDogdGhlR3JvdXBJbmRleCxcbiAgICAgICAgICAgICAgICBzaXplOiBmaXJzdEdyb3VwU2l6ZVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaW5pdGlhbFJhbmdlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBzdGFydEluZGV4OiB0aGVHcm91cEluZGV4ICsgMSxcbiAgICAgICAgICAgICAgICBlbmRJbmRleDogdGhlR3JvdXBJbmRleCArIDEgKyBncm91cEl0ZW1Db3VudCAtIDEsXG4gICAgICAgICAgICAgICAgc2l6ZTogZGVmYXVsdFNpemVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGdyb3VwSW5kZXgrKztcbiAgICAgICAgICAgICAgcHJlcGVuZGVkR3JvdXBJdGVtc0NvdW50ICs9IGdyb3VwSXRlbUNvdW50ICsgMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHNpemVUcmVlS1YgPSB3YWxrKHNpemVzMi5zaXplVHJlZSk7XG4gICAgICAgICAgICBjb25zdCBmaXJzdEdyb3VwSXNFeHBhbmRlZCA9IHByZXBlbmRlZEdyb3VwSXRlbXNDb3VudCAhPT0gdW5zaGlmdFdpdGgyO1xuICAgICAgICAgICAgaWYgKGZpcnN0R3JvdXBJc0V4cGFuZGVkKSB7XG4gICAgICAgICAgICAgIHNpemVUcmVlS1Yuc2hpZnQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzaXplVHJlZUtWLnJlZHVjZShcbiAgICAgICAgICAgICAgKGFjYywgeyBrOiBpbmRleCwgdjogc2l6ZSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlcyA9IGFjYy5yYW5nZXM7XG4gICAgICAgICAgICAgICAgaWYgKGFjYy5wcmV2U2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgICAgICAgcmFuZ2VzID0gW1xuICAgICAgICAgICAgICAgICAgICAuLi5hY2MucmFuZ2VzLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RhcnRJbmRleDogYWNjLnByZXZJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICBlbmRJbmRleDogaW5kZXggKyB1bnNoaWZ0V2l0aDIgLSAxLFxuICAgICAgICAgICAgICAgICAgICAgIHNpemU6IGFjYy5wcmV2U2l6ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgcmFuZ2VzLFxuICAgICAgICAgICAgICAgICAgcHJldkluZGV4OiBpbmRleCArIHVuc2hpZnRXaXRoMixcbiAgICAgICAgICAgICAgICAgIHByZXZTaXplOiBzaXplXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJhbmdlczogaW5pdGlhbFJhbmdlcyxcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IHVuc2hpZnRXaXRoMixcbiAgICAgICAgICAgICAgICBwcmV2U2l6ZTogMFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApLnJhbmdlcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHdhbGsoc2l6ZXMyLnNpemVUcmVlKS5yZWR1Y2UoXG4gICAgICAgICAgICAoYWNjLCB7IGs6IGluZGV4LCB2OiBzaXplIH0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByYW5nZXM6IFsuLi5hY2MucmFuZ2VzLCB7IHN0YXJ0SW5kZXg6IGFjYy5wcmV2SW5kZXgsIGVuZEluZGV4OiBpbmRleCArIHVuc2hpZnRXaXRoMiAtIDEsIHNpemU6IGFjYy5wcmV2U2l6ZSB9XSxcbiAgICAgICAgICAgICAgICBwcmV2SW5kZXg6IGluZGV4ICsgdW5zaGlmdFdpdGgyLFxuICAgICAgICAgICAgICAgIHByZXZTaXplOiBzaXplXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICByYW5nZXM6IFtdLFxuICAgICAgICAgICAgICBwcmV2SW5kZXg6IDAsXG4gICAgICAgICAgICAgIHByZXZTaXplOiBkZWZhdWx0U2l6ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkucmFuZ2VzO1xuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHNpemVSYW5nZXNcbiAgICApO1xuICAgIGNvbnN0IHNoaWZ0V2l0aE9mZnNldCA9IHN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgc2hpZnRXaXRoLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzaXplcywgZ2FwKSxcbiAgICAgICAgbWFwKChbc2hpZnRXaXRoMiwgeyBvZmZzZXRUcmVlIH0sIGdhcDJdKSA9PiB7XG4gICAgICAgICAgY29uc3QgbmV3Rmlyc3RJdGVtSW5kZXggPSAtc2hpZnRXaXRoMjtcbiAgICAgICAgICByZXR1cm4gb2Zmc2V0T2YobmV3Rmlyc3RJdGVtSW5kZXgsIG9mZnNldFRyZWUsIGdhcDIpO1xuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIHNoaWZ0V2l0aCxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oc2l6ZXMsIGdhcCksXG4gICAgICAgIG1hcCgoW3NoaWZ0V2l0aDIsIHNpemVzMiwgZ2FwMl0pID0+IHtcbiAgICAgICAgICBjb25zdCBncm91cGVkTW9kZSA9IHNpemVzMi5ncm91cEluZGljZXMubGVuZ3RoID4gMDtcbiAgICAgICAgICBpZiAoZ3JvdXBlZE1vZGUpIHtcbiAgICAgICAgICAgIGlmIChlbXB0eShzaXplczIuc2l6ZVRyZWUpKSB7XG4gICAgICAgICAgICAgIHJldHVybiBzaXplczI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbmV3U2l6ZVRyZWUgPSBuZXdUcmVlKCk7XG4gICAgICAgICAgICBjb25zdCBwcmV2R3JvdXBJbmRpY2VzVmFsdWUgPSBnZXRWYWx1ZShwcmV2R3JvdXBJbmRpY2VzKTtcbiAgICAgICAgICAgIGxldCByZW1vdmVkSXRlbXNDb3VudCA9IDA7XG4gICAgICAgICAgICBsZXQgZ3JvdXBJbmRleCA9IDA7XG4gICAgICAgICAgICBsZXQgZ3JvdXBPZmZzZXQgPSAwO1xuICAgICAgICAgICAgd2hpbGUgKHJlbW92ZWRJdGVtc0NvdW50IDwgLXNoaWZ0V2l0aDIpIHtcbiAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQgPSBwcmV2R3JvdXBJbmRpY2VzVmFsdWVbZ3JvdXBJbmRleF07XG4gICAgICAgICAgICAgIGNvbnN0IGdyb3VwSXRlbUNvdW50ID0gcHJldkdyb3VwSW5kaWNlc1ZhbHVlW2dyb3VwSW5kZXggKyAxXSAtIGdyb3VwT2Zmc2V0IC0gMTtcbiAgICAgICAgICAgICAgZ3JvdXBJbmRleCsrO1xuICAgICAgICAgICAgICByZW1vdmVkSXRlbXNDb3VudCArPSBncm91cEl0ZW1Db3VudCArIDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdTaXplVHJlZSA9IHdhbGsoc2l6ZXMyLnNpemVUcmVlKS5yZWR1Y2UoKGFjYywgeyBrLCB2IH0pID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIGluc2VydChhY2MsIE1hdGgubWF4KDAsIGsgKyBzaGlmdFdpdGgyKSwgdik7XG4gICAgICAgICAgICB9LCBuZXdTaXplVHJlZSk7XG4gICAgICAgICAgICBjb25zdCBhR3JvdXBJc1NocnVuayA9IHJlbW92ZWRJdGVtc0NvdW50ICE9PSAtc2hpZnRXaXRoMjtcbiAgICAgICAgICAgIGlmIChhR3JvdXBJc1NocnVuaykge1xuICAgICAgICAgICAgICBjb25zdCBmaXJzdEdyb3VwU2l6ZSA9IGZpbmQoc2l6ZXMyLnNpemVUcmVlLCBncm91cE9mZnNldCk7XG4gICAgICAgICAgICAgIG5ld1NpemVUcmVlID0gaW5zZXJ0KG5ld1NpemVUcmVlLCAwLCBmaXJzdEdyb3VwU2l6ZSk7XG4gICAgICAgICAgICAgIGNvbnN0IG5leHRJdGVtU2l6ZSA9IGZpbmRNYXhLZXlWYWx1ZShzaXplczIuc2l6ZVRyZWUsIC1zaGlmdFdpdGgyICsgMSlbMV07XG4gICAgICAgICAgICAgIG5ld1NpemVUcmVlID0gaW5zZXJ0KG5ld1NpemVUcmVlLCAxLCBuZXh0SXRlbVNpemUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgLi4uc2l6ZXMyLFxuICAgICAgICAgICAgICBzaXplVHJlZTogbmV3U2l6ZVRyZWUsXG4gICAgICAgICAgICAgIC4uLmNyZWF0ZU9mZnNldFRyZWUoc2l6ZXMyLm9mZnNldFRyZWUsIDAsIG5ld1NpemVUcmVlLCBnYXAyKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgbmV3U2l6ZVRyZWUgPSB3YWxrKHNpemVzMi5zaXplVHJlZSkucmVkdWNlKChhY2MsIHsgaywgdiB9KSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiBpbnNlcnQoYWNjLCBNYXRoLm1heCgwLCBrICsgc2hpZnRXaXRoMiksIHYpO1xuICAgICAgICAgICAgfSwgbmV3VHJlZSgpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgIC4uLnNpemVzMixcbiAgICAgICAgICAgICAgc2l6ZVRyZWU6IG5ld1NpemVUcmVlLFxuICAgICAgICAgICAgICAuLi5jcmVhdGVPZmZzZXRUcmVlKHNpemVzMi5vZmZzZXRUcmVlLCAwLCBuZXdTaXplVHJlZSwgZ2FwMilcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIHNpemVzXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgLy8gaW5wdXRcbiAgICAgIGRhdGEsXG4gICAgICB0b3RhbENvdW50LFxuICAgICAgc2l6ZVJhbmdlcyxcbiAgICAgIGdyb3VwSW5kaWNlcyxcbiAgICAgIGRlZmF1bHRJdGVtU2l6ZSxcbiAgICAgIGZpeGVkSXRlbVNpemUsXG4gICAgICB1bnNoaWZ0V2l0aCxcbiAgICAgIHNoaWZ0V2l0aCxcbiAgICAgIHNoaWZ0V2l0aE9mZnNldCxcbiAgICAgIGJlZm9yZVVuc2hpZnRXaXRoLFxuICAgICAgZmlyc3RJdGVtSW5kZXgsXG4gICAgICBnYXAsXG4gICAgICAvLyBvdXRwdXRcbiAgICAgIHNpemVzLFxuICAgICAgbGlzdFJlZnJlc2gsXG4gICAgICBzdGF0ZWZ1bFRvdGFsQ291bnQsXG4gICAgICB0cmFja0l0ZW1TaXplcyxcbiAgICAgIGl0ZW1TaXplXG4gICAgfTtcbiAgfSxcbiAgdHVwKGxvZ2dlclN5c3RlbSwgcmVjYWxjU3lzdGVtKSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmNvbnN0IFNVUFBPUlRTX1NDUk9MTF9UT19PUFRJT05TID0gdHlwZW9mIGRvY3VtZW50ICE9PSBcInVuZGVmaW5lZFwiICYmIFwic2Nyb2xsQmVoYXZpb3JcIiBpbiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGU7XG5mdW5jdGlvbiBub3JtYWxpemVJbmRleExvY2F0aW9uKGxvY2F0aW9uKSB7XG4gIGNvbnN0IHJlc3VsdCA9IHR5cGVvZiBsb2NhdGlvbiA9PT0gXCJudW1iZXJcIiA/IHsgaW5kZXg6IGxvY2F0aW9uIH0gOiBsb2NhdGlvbjtcbiAgaWYgKCFyZXN1bHQuYWxpZ24pIHtcbiAgICByZXN1bHQuYWxpZ24gPSBcInN0YXJ0XCI7XG4gIH1cbiAgaWYgKCFyZXN1bHQuYmVoYXZpb3IgfHwgIVNVUFBPUlRTX1NDUk9MTF9UT19PUFRJT05TKSB7XG4gICAgcmVzdWx0LmJlaGF2aW9yID0gXCJhdXRvXCI7XG4gIH1cbiAgaWYgKCFyZXN1bHQub2Zmc2V0KSB7XG4gICAgcmVzdWx0Lm9mZnNldCA9IDA7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cbmNvbnN0IHNjcm9sbFRvSW5kZXhTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbXG4gICAgeyBzaXplcywgdG90YWxDb3VudCwgbGlzdFJlZnJlc2gsIGdhcCB9LFxuICAgIHtcbiAgICAgIHNjcm9sbGluZ0luUHJvZ3Jlc3MsXG4gICAgICB2aWV3cG9ydEhlaWdodCxcbiAgICAgIHNjcm9sbFRvLFxuICAgICAgc21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZCxcbiAgICAgIGhlYWRlckhlaWdodCxcbiAgICAgIGZvb3RlckhlaWdodCxcbiAgICAgIGZpeGVkSGVhZGVySGVpZ2h0LFxuICAgICAgZml4ZWRGb290ZXJIZWlnaHRcbiAgICB9LFxuICAgIHsgbG9nIH1cbiAgXSkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbFRvSW5kZXggPSBzdHJlYW0oKTtcbiAgICBjb25zdCBzY3JvbGxUYXJnZXRSZWFjaGVkID0gc3RyZWFtKCk7XG4gICAgY29uc3QgdG9wTGlzdEhlaWdodCA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGxldCB1bnN1YnNjcmliZU5leHRMaXN0UmVmcmVzaCA9IG51bGw7XG4gICAgbGV0IGNsZWFydFRpbWVvdXRSZWYgPSBudWxsO1xuICAgIGxldCB1bnN1YnNjcmliZUxpc3RSZWZyZXNoID0gbnVsbDtcbiAgICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgICAgaWYgKHVuc3Vic2NyaWJlTmV4dExpc3RSZWZyZXNoKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlTmV4dExpc3RSZWZyZXNoKCk7XG4gICAgICAgIHVuc3Vic2NyaWJlTmV4dExpc3RSZWZyZXNoID0gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICh1bnN1YnNjcmliZUxpc3RSZWZyZXNoKSB7XG4gICAgICAgIHVuc3Vic2NyaWJlTGlzdFJlZnJlc2goKTtcbiAgICAgICAgdW5zdWJzY3JpYmVMaXN0UmVmcmVzaCA9IG51bGw7XG4gICAgICB9XG4gICAgICBpZiAoY2xlYXJ0VGltZW91dFJlZikge1xuICAgICAgICBjbGVhclRpbWVvdXQoY2xlYXJ0VGltZW91dFJlZik7XG4gICAgICAgIGNsZWFydFRpbWVvdXRSZWYgPSBudWxsO1xuICAgICAgfVxuICAgICAgcHVibGlzaChzY3JvbGxpbmdJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgfVxuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBzY3JvbGxUb0luZGV4LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzaXplcywgdmlld3BvcnRIZWlnaHQsIHRvdGFsQ291bnQsIHRvcExpc3RIZWlnaHQsIGhlYWRlckhlaWdodCwgZm9vdGVySGVpZ2h0LCBsb2cpLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShnYXAsIGZpeGVkSGVhZGVySGVpZ2h0LCBmaXhlZEZvb3RlckhlaWdodCksXG4gICAgICAgIG1hcChcbiAgICAgICAgICAoW1xuICAgICAgICAgICAgW2xvY2F0aW9uLCBzaXplczIsIHZpZXdwb3J0SGVpZ2h0MiwgdG90YWxDb3VudDIsIHRvcExpc3RIZWlnaHQyLCBoZWFkZXJIZWlnaHQyLCBmb290ZXJIZWlnaHQyLCBsb2cyXSxcbiAgICAgICAgICAgIGdhcDIsXG4gICAgICAgICAgICBmaXhlZEhlYWRlckhlaWdodDIsXG4gICAgICAgICAgICBmaXhlZEZvb3RlckhlaWdodDJcbiAgICAgICAgICBdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBub3JtYWxMb2NhdGlvbiA9IG5vcm1hbGl6ZUluZGV4TG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgICAgICAgY29uc3QgeyBhbGlnbiwgYmVoYXZpb3IsIG9mZnNldCB9ID0gbm9ybWFsTG9jYXRpb247XG4gICAgICAgICAgICBjb25zdCBsYXN0SW5kZXggPSB0b3RhbENvdW50MiAtIDE7XG4gICAgICAgICAgICBjb25zdCBpbmRleCA9IG9yaWdpbmFsSW5kZXhGcm9tTG9jYXRpb24obm9ybWFsTG9jYXRpb24sIHNpemVzMiwgbGFzdEluZGV4KTtcbiAgICAgICAgICAgIGxldCB0b3AgPSBvZmZzZXRPZihpbmRleCwgc2l6ZXMyLm9mZnNldFRyZWUsIGdhcDIpICsgaGVhZGVySGVpZ2h0MjtcbiAgICAgICAgICAgIGlmIChhbGlnbiA9PT0gXCJlbmRcIikge1xuICAgICAgICAgICAgICB0b3AgKz0gZml4ZWRIZWFkZXJIZWlnaHQyICsgZmluZE1heEtleVZhbHVlKHNpemVzMi5zaXplVHJlZSwgaW5kZXgpWzFdIC0gdmlld3BvcnRIZWlnaHQyICsgZml4ZWRGb290ZXJIZWlnaHQyO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPT09IGxhc3RJbmRleCkge1xuICAgICAgICAgICAgICAgIHRvcCArPSBmb290ZXJIZWlnaHQyO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFsaWduID09PSBcImNlbnRlclwiKSB7XG4gICAgICAgICAgICAgIHRvcCArPSAoZml4ZWRIZWFkZXJIZWlnaHQyICsgZmluZE1heEtleVZhbHVlKHNpemVzMi5zaXplVHJlZSwgaW5kZXgpWzFdIC0gdmlld3BvcnRIZWlnaHQyICsgZml4ZWRGb290ZXJIZWlnaHQyKSAvIDI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0b3AgLT0gdG9wTGlzdEhlaWdodDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICAgIHRvcCArPSBvZmZzZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXRyeSA9IChsaXN0Q2hhbmdlZCkgPT4ge1xuICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgIGlmIChsaXN0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgIGxvZzIoXCJyZXRyeWluZyB0byBzY3JvbGwgdG9cIiwgeyBsb2NhdGlvbiB9LCBMb2dMZXZlbC5ERUJVRyk7XG4gICAgICAgICAgICAgICAgcHVibGlzaChzY3JvbGxUb0luZGV4LCBsb2NhdGlvbik7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcHVibGlzaChzY3JvbGxUYXJnZXRSZWFjaGVkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBsb2cyKFwibGlzdCBkaWQgbm90IGNoYW5nZSwgc2Nyb2xsIHN1Y2Nlc3NmdWxcIiwge30sIExvZ0xldmVsLkRFQlVHKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIGlmIChiZWhhdmlvciA9PT0gXCJzbW9vdGhcIikge1xuICAgICAgICAgICAgICBsZXQgbGlzdENoYW5nZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdW5zdWJzY3JpYmVMaXN0UmVmcmVzaCA9IHN1YnNjcmliZShsaXN0UmVmcmVzaCwgKGNoYW5nZWQpID0+IHtcbiAgICAgICAgICAgICAgICBsaXN0Q2hhbmdlZCA9IGxpc3RDaGFuZ2VkIHx8IGNoYW5nZWQ7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB1bnN1YnNjcmliZU5leHRMaXN0UmVmcmVzaCA9IGhhbmRsZU5leHQoc21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHJ5KGxpc3RDaGFuZ2VkKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB1bnN1YnNjcmliZU5leHRMaXN0UmVmcmVzaCA9IGhhbmRsZU5leHQocGlwZShsaXN0UmVmcmVzaCwgd2F0Y2hDaGFuZ2VzRm9yKDE1MCkpLCByZXRyeSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhcnRUaW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIH0sIDEyMDApO1xuICAgICAgICAgICAgcHVibGlzaChzY3JvbGxpbmdJblByb2dyZXNzLCB0cnVlKTtcbiAgICAgICAgICAgIGxvZzIoXCJzY3JvbGxpbmcgZnJvbSBpbmRleCB0b1wiLCB7IGluZGV4LCB0b3AsIGJlaGF2aW9yIH0sIExvZ0xldmVsLkRFQlVHKTtcbiAgICAgICAgICAgIHJldHVybiB7IHRvcCwgYmVoYXZpb3IgfTtcbiAgICAgICAgICB9XG4gICAgICAgIClcbiAgICAgICksXG4gICAgICBzY3JvbGxUb1xuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbFRvSW5kZXgsXG4gICAgICBzY3JvbGxUYXJnZXRSZWFjaGVkLFxuICAgICAgdG9wTGlzdEhlaWdodFxuICAgIH07XG4gIH0sXG4gIHR1cChzaXplU3lzdGVtLCBkb21JT1N5c3RlbSwgbG9nZ2VyU3lzdGVtKSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmZ1bmN0aW9uIHdhdGNoQ2hhbmdlc0ZvcihsaW1pdCkge1xuICByZXR1cm4gKGRvbmUpID0+IHtcbiAgICBjb25zdCB0aW1lb3V0UmVmID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBkb25lKGZhbHNlKTtcbiAgICB9LCBsaW1pdCk7XG4gICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGRvbmUodHJ1ZSk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0UmVmKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xufVxuY29uc3QgVVAgPSBcInVwXCI7XG5jb25zdCBET1dOID0gXCJkb3duXCI7XG5jb25zdCBOT05FJDEgPSBcIm5vbmVcIjtcbmNvbnN0IElOSVRJQUxfQk9UVE9NX1NUQVRFID0ge1xuICBhdEJvdHRvbTogZmFsc2UsXG4gIG5vdEF0Qm90dG9tQmVjYXVzZTogXCJOT1RfU0hPV0lOR19MQVNUX0lURU1cIixcbiAgc3RhdGU6IHtcbiAgICBvZmZzZXRCb3R0b206IDAsXG4gICAgc2Nyb2xsVG9wOiAwLFxuICAgIHZpZXdwb3J0SGVpZ2h0OiAwLFxuICAgIHNjcm9sbEhlaWdodDogMFxuICB9XG59O1xuY29uc3QgREVGQVVMVF9BVF9UT1BfVEhSRVNIT0xEID0gMDtcbmNvbnN0IHN0YXRlRmxhZ3NTeXN0ZW0gPSBzeXN0ZW0oKFt7IHNjcm9sbENvbnRhaW5lclN0YXRlLCBzY3JvbGxUb3AsIHZpZXdwb3J0SGVpZ2h0LCBoZWFkZXJIZWlnaHQsIGZvb3RlckhlaWdodCwgc2Nyb2xsQnkgfV0pID0+IHtcbiAgY29uc3QgaXNBdEJvdHRvbSA9IHN0YXRlZnVsU3RyZWFtKGZhbHNlKTtcbiAgY29uc3QgaXNBdFRvcCA9IHN0YXRlZnVsU3RyZWFtKHRydWUpO1xuICBjb25zdCBhdEJvdHRvbVN0YXRlQ2hhbmdlID0gc3RyZWFtKCk7XG4gIGNvbnN0IGF0VG9wU3RhdGVDaGFuZ2UgPSBzdHJlYW0oKTtcbiAgY29uc3QgYXRCb3R0b21UaHJlc2hvbGQgPSBzdGF0ZWZ1bFN0cmVhbSg0KTtcbiAgY29uc3QgYXRUb3BUaHJlc2hvbGQgPSBzdGF0ZWZ1bFN0cmVhbShERUZBVUxUX0FUX1RPUF9USFJFU0hPTEQpO1xuICBjb25zdCBpc1Njcm9sbGluZyA9IHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgcGlwZShcbiAgICAgIG1lcmdlKHBpcGUoZHVjKHNjcm9sbFRvcCksIHNraXAoMSksIG1hcFRvKHRydWUpKSwgcGlwZShkdWMoc2Nyb2xsVG9wKSwgc2tpcCgxKSwgbWFwVG8oZmFsc2UpLCBkZWJvdW5jZVRpbWUoMTAwKSkpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICksXG4gICAgZmFsc2VcbiAgKTtcbiAgY29uc3QgaXNTY3JvbGxpbmdCeSA9IHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgcGlwZShtZXJnZShwaXBlKHNjcm9sbEJ5LCBtYXBUbyh0cnVlKSksIHBpcGUoc2Nyb2xsQnksIG1hcFRvKGZhbHNlKSwgZGVib3VuY2VUaW1lKDIwMCkpKSwgZGlzdGluY3RVbnRpbENoYW5nZWQoKSksXG4gICAgZmFsc2VcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgY29tYmluZUxhdGVzdChkdWMoc2Nyb2xsVG9wKSwgZHVjKGF0VG9wVGhyZXNob2xkKSksXG4gICAgICBtYXAoKFt0b3AsIGF0VG9wVGhyZXNob2xkMl0pID0+IHRvcCA8PSBhdFRvcFRocmVzaG9sZDIpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICksXG4gICAgaXNBdFRvcFxuICApO1xuICBjb25uZWN0KHBpcGUoaXNBdFRvcCwgdGhyb3R0bGVUaW1lKDUwKSksIGF0VG9wU3RhdGVDaGFuZ2UpO1xuICBjb25zdCBhdEJvdHRvbVN0YXRlID0gc3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgcGlwZShcbiAgICAgIGNvbWJpbmVMYXRlc3Qoc2Nyb2xsQ29udGFpbmVyU3RhdGUsIGR1Yyh2aWV3cG9ydEhlaWdodCksIGR1YyhoZWFkZXJIZWlnaHQpLCBkdWMoZm9vdGVySGVpZ2h0KSwgZHVjKGF0Qm90dG9tVGhyZXNob2xkKSksXG4gICAgICBzY2FuKChjdXJyZW50LCBbeyBzY3JvbGxUb3A6IHNjcm9sbFRvcDIsIHNjcm9sbEhlaWdodCB9LCB2aWV3cG9ydEhlaWdodDIsIF9oZWFkZXJIZWlnaHQsIF9mb290ZXJIZWlnaHQsIGF0Qm90dG9tVGhyZXNob2xkMl0pID0+IHtcbiAgICAgICAgY29uc3QgaXNBdEJvdHRvbTIgPSBzY3JvbGxUb3AyICsgdmlld3BvcnRIZWlnaHQyIC0gc2Nyb2xsSGVpZ2h0ID4gLWF0Qm90dG9tVGhyZXNob2xkMjtcbiAgICAgICAgY29uc3Qgc3RhdGUgPSB7XG4gICAgICAgICAgdmlld3BvcnRIZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0MixcbiAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcDIsXG4gICAgICAgICAgc2Nyb2xsSGVpZ2h0XG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc0F0Qm90dG9tMikge1xuICAgICAgICAgIGxldCBhdEJvdHRvbUJlY2F1c2U7XG4gICAgICAgICAgbGV0IHNjcm9sbFRvcERlbHRhO1xuICAgICAgICAgIGlmIChzY3JvbGxUb3AyID4gY3VycmVudC5zdGF0ZS5zY3JvbGxUb3ApIHtcbiAgICAgICAgICAgIGF0Qm90dG9tQmVjYXVzZSA9IFwiU0NST0xMRURfRE9XTlwiO1xuICAgICAgICAgICAgc2Nyb2xsVG9wRGVsdGEgPSBjdXJyZW50LnN0YXRlLnNjcm9sbFRvcCAtIHNjcm9sbFRvcDI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF0Qm90dG9tQmVjYXVzZSA9IFwiU0laRV9ERUNSRUFTRURcIjtcbiAgICAgICAgICAgIHNjcm9sbFRvcERlbHRhID0gY3VycmVudC5zdGF0ZS5zY3JvbGxUb3AgLSBzY3JvbGxUb3AyIHx8IGN1cnJlbnQuc2Nyb2xsVG9wRGVsdGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhdEJvdHRvbTogdHJ1ZSxcbiAgICAgICAgICAgIHN0YXRlLFxuICAgICAgICAgICAgYXRCb3R0b21CZWNhdXNlLFxuICAgICAgICAgICAgc2Nyb2xsVG9wRGVsdGFcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBub3RBdEJvdHRvbUJlY2F1c2U7XG4gICAgICAgIGlmIChzdGF0ZS5zY3JvbGxIZWlnaHQgPiBjdXJyZW50LnN0YXRlLnNjcm9sbEhlaWdodCkge1xuICAgICAgICAgIG5vdEF0Qm90dG9tQmVjYXVzZSA9IFwiU0laRV9JTkNSRUFTRURcIjtcbiAgICAgICAgfSBlbHNlIGlmICh2aWV3cG9ydEhlaWdodDIgPCBjdXJyZW50LnN0YXRlLnZpZXdwb3J0SGVpZ2h0KSB7XG4gICAgICAgICAgbm90QXRCb3R0b21CZWNhdXNlID0gXCJWSUVXUE9SVF9IRUlHSFRfREVDUkVBU0lOR1wiO1xuICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbFRvcDIgPCBjdXJyZW50LnN0YXRlLnNjcm9sbFRvcCkge1xuICAgICAgICAgIG5vdEF0Qm90dG9tQmVjYXVzZSA9IFwiU0NST0xMSU5HX1VQV0FSRFNcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBub3RBdEJvdHRvbUJlY2F1c2UgPSBcIk5PVF9GVUxMWV9TQ1JPTExFRF9UT19MQVNUX0lURU1fQk9UVE9NXCI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBhdEJvdHRvbTogZmFsc2UsXG4gICAgICAgICAgbm90QXRCb3R0b21CZWNhdXNlLFxuICAgICAgICAgIHN0YXRlXG4gICAgICAgIH07XG4gICAgICB9LCBJTklUSUFMX0JPVFRPTV9TVEFURSksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldiwgbmV4dCkgPT4ge1xuICAgICAgICByZXR1cm4gcHJldiAmJiBwcmV2LmF0Qm90dG9tID09PSBuZXh0LmF0Qm90dG9tO1xuICAgICAgfSlcbiAgICApXG4gICk7XG4gIGNvbnN0IGxhc3RKdW1wRHVlVG9JdGVtUmVzaXplID0gc3RhdGVmdWxTdHJlYW1Gcm9tRW1pdHRlcihcbiAgICBwaXBlKFxuICAgICAgc2Nyb2xsQ29udGFpbmVyU3RhdGUsXG4gICAgICBzY2FuKFxuICAgICAgICAoY3VycmVudCwgeyBzY3JvbGxUb3A6IHNjcm9sbFRvcDIsIHNjcm9sbEhlaWdodCwgdmlld3BvcnRIZWlnaHQ6IHZpZXdwb3J0SGVpZ2h0MiB9KSA9PiB7XG4gICAgICAgICAgaWYgKCFhcHByb3hpbWF0ZWx5RXF1YWwoY3VycmVudC5zY3JvbGxIZWlnaHQsIHNjcm9sbEhlaWdodCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGF0Qm90dG9tID0gc2Nyb2xsSGVpZ2h0IC0gKHNjcm9sbFRvcDIgKyB2aWV3cG9ydEhlaWdodDIpIDwgMTtcbiAgICAgICAgICAgIGlmIChjdXJyZW50LnNjcm9sbFRvcCAhPT0gc2Nyb2xsVG9wMiAmJiBhdEJvdHRvbSkge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHNjcm9sbEhlaWdodCxcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IHNjcm9sbFRvcDIsXG4gICAgICAgICAgICAgICAganVtcDogY3VycmVudC5zY3JvbGxUb3AgLSBzY3JvbGxUb3AyLFxuICAgICAgICAgICAgICAgIGNoYW5nZWQ6IHRydWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogc2Nyb2xsVG9wMixcbiAgICAgICAgICAgICAgICBqdW1wOiAwLFxuICAgICAgICAgICAgICAgIGNoYW5nZWQ6IHRydWVcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AyLFxuICAgICAgICAgICAgICBzY3JvbGxIZWlnaHQsXG4gICAgICAgICAgICAgIGp1bXA6IDAsXG4gICAgICAgICAgICAgIGNoYW5nZWQ6IGZhbHNlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgeyBzY3JvbGxIZWlnaHQ6IDAsIGp1bXA6IDAsIHNjcm9sbFRvcDogMCwgY2hhbmdlZDogZmFsc2UgfVxuICAgICAgKSxcbiAgICAgIGZpbHRlcigodmFsdWUpID0+IHZhbHVlLmNoYW5nZWQpLFxuICAgICAgbWFwKCh2YWx1ZSkgPT4gdmFsdWUuanVtcClcbiAgICApLFxuICAgIDBcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgYXRCb3R0b21TdGF0ZSxcbiAgICAgIG1hcCgoc3RhdGUpID0+IHN0YXRlLmF0Qm90dG9tKVxuICAgICksXG4gICAgaXNBdEJvdHRvbVxuICApO1xuICBjb25uZWN0KHBpcGUoaXNBdEJvdHRvbSwgdGhyb3R0bGVUaW1lKDUwKSksIGF0Qm90dG9tU3RhdGVDaGFuZ2UpO1xuICBjb25zdCBzY3JvbGxEaXJlY3Rpb24gPSBzdGF0ZWZ1bFN0cmVhbShET1dOKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgc2Nyb2xsQ29udGFpbmVyU3RhdGUsXG4gICAgICBtYXAoKHsgc2Nyb2xsVG9wOiBzY3JvbGxUb3AyIH0pID0+IHNjcm9sbFRvcDIpLFxuICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKSxcbiAgICAgIHNjYW4oXG4gICAgICAgIChhY2MsIHNjcm9sbFRvcDIpID0+IHtcbiAgICAgICAgICBpZiAoZ2V0VmFsdWUoaXNTY3JvbGxpbmdCeSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGRpcmVjdGlvbjogYWNjLmRpcmVjdGlvbiwgcHJldlNjcm9sbFRvcDogc2Nyb2xsVG9wMiB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyBkaXJlY3Rpb246IHNjcm9sbFRvcDIgPCBhY2MucHJldlNjcm9sbFRvcCA/IFVQIDogRE9XTiwgcHJldlNjcm9sbFRvcDogc2Nyb2xsVG9wMiB9O1xuICAgICAgICB9LFxuICAgICAgICB7IGRpcmVjdGlvbjogRE9XTiwgcHJldlNjcm9sbFRvcDogMCB9XG4gICAgICApLFxuICAgICAgbWFwKCh2YWx1ZSkgPT4gdmFsdWUuZGlyZWN0aW9uKVxuICAgICksXG4gICAgc2Nyb2xsRGlyZWN0aW9uXG4gICk7XG4gIGNvbm5lY3QocGlwZShzY3JvbGxDb250YWluZXJTdGF0ZSwgdGhyb3R0bGVUaW1lKDUwKSwgbWFwVG8oTk9ORSQxKSksIHNjcm9sbERpcmVjdGlvbik7XG4gIGNvbnN0IHNjcm9sbFZlbG9jaXR5ID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gIGNvbm5lY3QoXG4gICAgcGlwZShcbiAgICAgIGlzU2Nyb2xsaW5nLFxuICAgICAgZmlsdGVyKCh2YWx1ZSkgPT4gIXZhbHVlKSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICBtYXBUbygwKVxuICAgICksXG4gICAgc2Nyb2xsVmVsb2NpdHlcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgc2Nyb2xsVG9wLFxuICAgICAgdGhyb3R0bGVUaW1lKDEwMCksXG4gICAgICB3aXRoTGF0ZXN0RnJvbShpc1Njcm9sbGluZyksXG4gICAgICBmaWx0ZXIoKFtfLCBpc1Njcm9sbGluZzJdKSA9PiAhIWlzU2Nyb2xsaW5nMiksXG4gICAgICBzY2FuKChbXywgcHJldl0sIFtuZXh0XSkgPT4gW3ByZXYsIG5leHRdLCBbMCwgMF0pLFxuICAgICAgbWFwKChbcHJldiwgbmV4dF0pID0+IG5leHQgLSBwcmV2KVxuICAgICksXG4gICAgc2Nyb2xsVmVsb2NpdHlcbiAgKTtcbiAgcmV0dXJuIHtcbiAgICBpc1Njcm9sbGluZyxcbiAgICBpc0F0VG9wLFxuICAgIGlzQXRCb3R0b20sXG4gICAgYXRCb3R0b21TdGF0ZSxcbiAgICBhdFRvcFN0YXRlQ2hhbmdlLFxuICAgIGF0Qm90dG9tU3RhdGVDaGFuZ2UsXG4gICAgc2Nyb2xsRGlyZWN0aW9uLFxuICAgIGF0Qm90dG9tVGhyZXNob2xkLFxuICAgIGF0VG9wVGhyZXNob2xkLFxuICAgIHNjcm9sbFZlbG9jaXR5LFxuICAgIGxhc3RKdW1wRHVlVG9JdGVtUmVzaXplXG4gIH07XG59LCB0dXAoZG9tSU9TeXN0ZW0pKTtcbmNvbnN0IHByb3BzUmVhZHlTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbeyBsb2cgfV0pID0+IHtcbiAgICBjb25zdCBwcm9wc1JlYWR5ID0gc3RhdGVmdWxTdHJlYW0oZmFsc2UpO1xuICAgIGNvbnN0IGRpZE1vdW50ID0gc3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBwcm9wc1JlYWR5LFxuICAgICAgICBmaWx0ZXIoKHJlYWR5KSA9PiByZWFkeSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICAgIClcbiAgICApO1xuICAgIHN1YnNjcmliZShwcm9wc1JlYWR5LCAodmFsdWUpID0+IHtcbiAgICAgIHZhbHVlICYmIGdldFZhbHVlKGxvZykoXCJwcm9wcyB1cGRhdGVkXCIsIHt9LCBMb2dMZXZlbC5ERUJVRyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgcHJvcHNSZWFkeSwgZGlkTW91bnQgfTtcbiAgfSxcbiAgdHVwKGxvZ2dlclN5c3RlbSksXG4gIHsgc2luZ2xldG9uOiB0cnVlIH1cbik7XG5mdW5jdGlvbiBza2lwRnJhbWVzKGZyYW1lQ291bnQsIGNhbGxiYWNrKSB7XG4gIGlmIChmcmFtZUNvdW50ID09IDApIHtcbiAgICBjYWxsYmFjaygpO1xuICB9IGVsc2Uge1xuICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiBza2lwRnJhbWVzKGZyYW1lQ291bnQgLSAxLCBjYWxsYmFjaykpO1xuICB9XG59XG5mdW5jdGlvbiBnZXRJbml0aWFsVG9wTW9zdEl0ZW1JbmRleE51bWJlcihsb2NhdGlvbiwgdG90YWxDb3VudCkge1xuICBjb25zdCBsYXN0SW5kZXggPSB0b3RhbENvdW50IC0gMTtcbiAgY29uc3QgaW5kZXggPSB0eXBlb2YgbG9jYXRpb24gPT09IFwibnVtYmVyXCIgPyBsb2NhdGlvbiA6IGxvY2F0aW9uLmluZGV4ID09PSBcIkxBU1RcIiA/IGxhc3RJbmRleCA6IGxvY2F0aW9uLmluZGV4O1xuICByZXR1cm4gaW5kZXg7XG59XG5jb25zdCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleFN5c3RlbSA9IHN5c3RlbShcbiAgKFt7IHNpemVzLCBsaXN0UmVmcmVzaCwgZGVmYXVsdEl0ZW1TaXplIH0sIHsgc2Nyb2xsVG9wIH0sIHsgc2Nyb2xsVG9JbmRleCwgc2Nyb2xsVGFyZ2V0UmVhY2hlZCB9LCB7IGRpZE1vdW50IH1dKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsZWRUb0luaXRpYWxJdGVtID0gc3RhdGVmdWxTdHJlYW0odHJ1ZSk7XG4gICAgY29uc3QgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXggPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBpbml0aWFsSXRlbUZpbmFsTG9jYXRpb25SZWFjaGVkID0gc3RhdGVmdWxTdHJlYW0odHJ1ZSk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGRpZE1vdW50LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShpbml0aWFsVG9wTW9zdEl0ZW1JbmRleCksXG4gICAgICAgIGZpbHRlcigoW18sIGxvY2F0aW9uXSkgPT4gISFsb2NhdGlvbiksXG4gICAgICAgIG1hcFRvKGZhbHNlKVxuICAgICAgKSxcbiAgICAgIHNjcm9sbGVkVG9Jbml0aWFsSXRlbVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGRpZE1vdW50LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShpbml0aWFsVG9wTW9zdEl0ZW1JbmRleCksXG4gICAgICAgIGZpbHRlcigoW18sIGxvY2F0aW9uXSkgPT4gISFsb2NhdGlvbiksXG4gICAgICAgIG1hcFRvKGZhbHNlKVxuICAgICAgKSxcbiAgICAgIGluaXRpYWxJdGVtRmluYWxMb2NhdGlvblJlYWNoZWRcbiAgICApO1xuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QobGlzdFJlZnJlc2gsIGRpZE1vdW50KSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oc2Nyb2xsZWRUb0luaXRpYWxJdGVtLCBzaXplcywgZGVmYXVsdEl0ZW1TaXplLCBpbml0aWFsSXRlbUZpbmFsTG9jYXRpb25SZWFjaGVkKSxcbiAgICAgICAgZmlsdGVyKChbWywgZGlkTW91bnQyXSwgc2Nyb2xsZWRUb0luaXRpYWxJdGVtMiwgeyBzaXplVHJlZSB9LCBkZWZhdWx0SXRlbVNpemUyLCBzY3JvbGxTY2hlZHVsZWRdKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRpZE1vdW50MiAmJiAoIWVtcHR5KHNpemVUcmVlKSB8fCBpc0RlZmluZWQoZGVmYXVsdEl0ZW1TaXplMikpICYmICFzY3JvbGxlZFRvSW5pdGlhbEl0ZW0yICYmICFzY3JvbGxTY2hlZHVsZWQ7XG4gICAgICAgIH0pLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShpbml0aWFsVG9wTW9zdEl0ZW1JbmRleClcbiAgICAgICksXG4gICAgICAoWywgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgyXSkgPT4ge1xuICAgICAgICBoYW5kbGVOZXh0KHNjcm9sbFRhcmdldFJlYWNoZWQsICgpID0+IHtcbiAgICAgICAgICBwdWJsaXNoKGluaXRpYWxJdGVtRmluYWxMb2NhdGlvblJlYWNoZWQsIHRydWUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2tpcEZyYW1lcygzLCAoKSA9PiB7XG4gICAgICAgICAgaGFuZGxlTmV4dChzY3JvbGxUb3AsICgpID0+IHtcbiAgICAgICAgICAgIHB1Ymxpc2goc2Nyb2xsZWRUb0luaXRpYWxJdGVtLCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwdWJsaXNoKHNjcm9sbFRvSW5kZXgsIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4Mik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNjcm9sbGVkVG9Jbml0aWFsSXRlbSxcbiAgICAgIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4LFxuICAgICAgaW5pdGlhbEl0ZW1GaW5hbExvY2F0aW9uUmVhY2hlZFxuICAgIH07XG4gIH0sXG4gIHR1cChzaXplU3lzdGVtLCBkb21JT1N5c3RlbSwgc2Nyb2xsVG9JbmRleFN5c3RlbSwgcHJvcHNSZWFkeVN5c3RlbSksXG4gIHsgc2luZ2xldG9uOiB0cnVlIH1cbik7XG5mdW5jdGlvbiBub3JtYWxpemVGb2xsb3dPdXRwdXQoZm9sbG93KSB7XG4gIGlmICghZm9sbG93KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiBmb2xsb3cgPT09IFwic21vb3RoXCIgPyBcInNtb290aFwiIDogXCJhdXRvXCI7XG59XG5jb25zdCBiZWhhdmlvckZyb21Gb2xsb3dPdXRwdXQgPSAoZm9sbG93LCBpc0F0Qm90dG9tKSA9PiB7XG4gIGlmICh0eXBlb2YgZm9sbG93ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXR1cm4gbm9ybWFsaXplRm9sbG93T3V0cHV0KGZvbGxvdyhpc0F0Qm90dG9tKSk7XG4gIH1cbiAgcmV0dXJuIGlzQXRCb3R0b20gJiYgbm9ybWFsaXplRm9sbG93T3V0cHV0KGZvbGxvdyk7XG59O1xuY29uc3QgZm9sbG93T3V0cHV0U3lzdGVtID0gc3lzdGVtKFxuICAoW1xuICAgIHsgdG90YWxDb3VudCwgbGlzdFJlZnJlc2ggfSxcbiAgICB7IGlzQXRCb3R0b20sIGF0Qm90dG9tU3RhdGUgfSxcbiAgICB7IHNjcm9sbFRvSW5kZXggfSxcbiAgICB7IHNjcm9sbGVkVG9Jbml0aWFsSXRlbSB9LFxuICAgIHsgcHJvcHNSZWFkeSwgZGlkTW91bnQgfSxcbiAgICB7IGxvZyB9LFxuICAgIHsgc2Nyb2xsaW5nSW5Qcm9ncmVzcyB9XG4gIF0pID0+IHtcbiAgICBjb25zdCBmb2xsb3dPdXRwdXQgPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgY29uc3QgYXV0b3Njcm9sbFRvQm90dG9tID0gc3RyZWFtKCk7XG4gICAgbGV0IHBlbmRpbmdTY3JvbGxIYW5kbGUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIHNjcm9sbFRvQm90dG9tKGZvbGxvd091dHB1dEJlaGF2aW9yKSB7XG4gICAgICBwdWJsaXNoKHNjcm9sbFRvSW5kZXgsIHtcbiAgICAgICAgaW5kZXg6IFwiTEFTVFwiLFxuICAgICAgICBhbGlnbjogXCJlbmRcIixcbiAgICAgICAgYmVoYXZpb3I6IGZvbGxvd091dHB1dEJlaGF2aW9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgc3Vic2NyaWJlKFxuICAgICAgcGlwZShcbiAgICAgICAgY29tYmluZUxhdGVzdChwaXBlKGR1Yyh0b3RhbENvdW50KSwgc2tpcCgxKSksIGRpZE1vdW50KSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oZHVjKGZvbGxvd091dHB1dCksIGlzQXRCb3R0b20sIHNjcm9sbGVkVG9Jbml0aWFsSXRlbSwgc2Nyb2xsaW5nSW5Qcm9ncmVzcyksXG4gICAgICAgIG1hcCgoW1t0b3RhbENvdW50MiwgZGlkTW91bnQyXSwgZm9sbG93T3V0cHV0MiwgaXNBdEJvdHRvbTIsIHNjcm9sbGVkVG9Jbml0aWFsSXRlbTIsIHNjcm9sbGluZ0luUHJvZ3Jlc3MyXSkgPT4ge1xuICAgICAgICAgIGxldCBzaG91bGRGb2xsb3cgPSBkaWRNb3VudDIgJiYgc2Nyb2xsZWRUb0luaXRpYWxJdGVtMjtcbiAgICAgICAgICBsZXQgZm9sbG93T3V0cHV0QmVoYXZpb3IgPSBcImF1dG9cIjtcbiAgICAgICAgICBpZiAoc2hvdWxkRm9sbG93KSB7XG4gICAgICAgICAgICBmb2xsb3dPdXRwdXRCZWhhdmlvciA9IGJlaGF2aW9yRnJvbUZvbGxvd091dHB1dChmb2xsb3dPdXRwdXQyLCBpc0F0Qm90dG9tMiB8fCBzY3JvbGxpbmdJblByb2dyZXNzMik7XG4gICAgICAgICAgICBzaG91bGRGb2xsb3cgPSBzaG91bGRGb2xsb3cgJiYgISFmb2xsb3dPdXRwdXRCZWhhdmlvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHsgdG90YWxDb3VudDogdG90YWxDb3VudDIsIHNob3VsZEZvbGxvdywgZm9sbG93T3V0cHV0QmVoYXZpb3IgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGZpbHRlcigoeyBzaG91bGRGb2xsb3cgfSkgPT4gc2hvdWxkRm9sbG93KVxuICAgICAgKSxcbiAgICAgICh7IHRvdGFsQ291bnQ6IHRvdGFsQ291bnQyLCBmb2xsb3dPdXRwdXRCZWhhdmlvciB9KSA9PiB7XG4gICAgICAgIGlmIChwZW5kaW5nU2Nyb2xsSGFuZGxlKSB7XG4gICAgICAgICAgcGVuZGluZ1Njcm9sbEhhbmRsZSgpO1xuICAgICAgICAgIHBlbmRpbmdTY3JvbGxIYW5kbGUgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHBlbmRpbmdTY3JvbGxIYW5kbGUgPSBoYW5kbGVOZXh0KGxpc3RSZWZyZXNoLCAoKSA9PiB7XG4gICAgICAgICAgZ2V0VmFsdWUobG9nKShcImZvbGxvd2luZyBvdXRwdXQgdG8gXCIsIHsgdG90YWxDb3VudDogdG90YWxDb3VudDIgfSwgTG9nTGV2ZWwuREVCVUcpO1xuICAgICAgICAgIHNjcm9sbFRvQm90dG9tKGZvbGxvd091dHB1dEJlaGF2aW9yKTtcbiAgICAgICAgICBwZW5kaW5nU2Nyb2xsSGFuZGxlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgKTtcbiAgICBmdW5jdGlvbiB0cmFwTmV4dFNpemVJbmNyZWFzZShmb2xsb3dPdXRwdXQyKSB7XG4gICAgICBjb25zdCBjYW5jZWwgPSBoYW5kbGVOZXh0KGF0Qm90dG9tU3RhdGUsIChzdGF0ZSkgPT4ge1xuICAgICAgICBpZiAoZm9sbG93T3V0cHV0MiAmJiAhc3RhdGUuYXRCb3R0b20gJiYgc3RhdGUubm90QXRCb3R0b21CZWNhdXNlID09PSBcIlNJWkVfSU5DUkVBU0VEXCIgJiYgIXBlbmRpbmdTY3JvbGxIYW5kbGUpIHtcbiAgICAgICAgICBnZXRWYWx1ZShsb2cpKFwic2Nyb2xsaW5nIHRvIGJvdHRvbSBkdWUgdG8gaW5jcmVhc2VkIHNpemVcIiwge30sIExvZ0xldmVsLkRFQlVHKTtcbiAgICAgICAgICBzY3JvbGxUb0JvdHRvbShcImF1dG9cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2V0VGltZW91dChjYW5jZWwsIDEwMCk7XG4gICAgfVxuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoZHVjKGZvbGxvd091dHB1dCksIHRvdGFsQ291bnQsIHByb3BzUmVhZHkpLFxuICAgICAgICBmaWx0ZXIoKFtmb2xsb3csICwgcmVhZHldKSA9PiBmb2xsb3cgJiYgcmVhZHkpLFxuICAgICAgICBzY2FuKFxuICAgICAgICAgICh7IHZhbHVlIH0sIFssIG5leHRdKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyByZWZyZXNoZWQ6IHZhbHVlID09PSBuZXh0LCB2YWx1ZTogbmV4dCB9O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgeyByZWZyZXNoZWQ6IGZhbHNlLCB2YWx1ZTogMCB9XG4gICAgICAgICksXG4gICAgICAgIGZpbHRlcigoeyByZWZyZXNoZWQgfSkgPT4gcmVmcmVzaGVkKSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oZm9sbG93T3V0cHV0LCB0b3RhbENvdW50KVxuICAgICAgKSxcbiAgICAgIChbLCBmb2xsb3dPdXRwdXQyXSkgPT4ge1xuICAgICAgICBpZiAoZ2V0VmFsdWUoc2Nyb2xsZWRUb0luaXRpYWxJdGVtKSkge1xuICAgICAgICAgIHRyYXBOZXh0U2l6ZUluY3JlYXNlKGZvbGxvd091dHB1dDIgIT09IGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gICAgc3Vic2NyaWJlKGF1dG9zY3JvbGxUb0JvdHRvbSwgKCkgPT4ge1xuICAgICAgdHJhcE5leHRTaXplSW5jcmVhc2UoZ2V0VmFsdWUoZm9sbG93T3V0cHV0KSAhPT0gZmFsc2UpO1xuICAgIH0pO1xuICAgIHN1YnNjcmliZShjb21iaW5lTGF0ZXN0KGR1Yyhmb2xsb3dPdXRwdXQpLCBhdEJvdHRvbVN0YXRlKSwgKFtmb2xsb3dPdXRwdXQyLCBzdGF0ZV0pID0+IHtcbiAgICAgIGlmIChmb2xsb3dPdXRwdXQyICYmICFzdGF0ZS5hdEJvdHRvbSAmJiBzdGF0ZS5ub3RBdEJvdHRvbUJlY2F1c2UgPT09IFwiVklFV1BPUlRfSEVJR0hUX0RFQ1JFQVNJTkdcIikge1xuICAgICAgICBzY3JvbGxUb0JvdHRvbShcImF1dG9cIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHsgZm9sbG93T3V0cHV0LCBhdXRvc2Nyb2xsVG9Cb3R0b20gfTtcbiAgfSxcbiAgdHVwKHNpemVTeXN0ZW0sIHN0YXRlRmxhZ3NTeXN0ZW0sIHNjcm9sbFRvSW5kZXhTeXN0ZW0sIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4U3lzdGVtLCBwcm9wc1JlYWR5U3lzdGVtLCBsb2dnZXJTeXN0ZW0sIGRvbUlPU3lzdGVtKVxuKTtcbmZ1bmN0aW9uIGdyb3VwQ291bnRzVG9JbmRpY2VzQW5kQ291bnQoY291bnRzKSB7XG4gIHJldHVybiBjb3VudHMucmVkdWNlKFxuICAgIChhY2MsIGdyb3VwQ291bnQpID0+IHtcbiAgICAgIGFjYy5ncm91cEluZGljZXMucHVzaChhY2MudG90YWxDb3VudCk7XG4gICAgICBhY2MudG90YWxDb3VudCArPSBncm91cENvdW50ICsgMTtcbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSxcbiAgICB7XG4gICAgICB0b3RhbENvdW50OiAwLFxuICAgICAgZ3JvdXBJbmRpY2VzOiBbXVxuICAgIH1cbiAgKTtcbn1cbmNvbnN0IGdyb3VwZWRMaXN0U3lzdGVtID0gc3lzdGVtKChbeyB0b3RhbENvdW50LCBncm91cEluZGljZXMsIHNpemVzIH0sIHsgc2Nyb2xsVG9wLCBoZWFkZXJIZWlnaHQgfV0pID0+IHtcbiAgY29uc3QgZ3JvdXBDb3VudHMgPSBzdHJlYW0oKTtcbiAgY29uc3QgdG9wSXRlbXNJbmRleGVzID0gc3RyZWFtKCk7XG4gIGNvbnN0IGdyb3VwSW5kaWNlc0FuZENvdW50ID0gc3RyZWFtRnJvbUVtaXR0ZXIocGlwZShncm91cENvdW50cywgbWFwKGdyb3VwQ291bnRzVG9JbmRpY2VzQW5kQ291bnQpKSk7XG4gIGNvbm5lY3QoXG4gICAgcGlwZShcbiAgICAgIGdyb3VwSW5kaWNlc0FuZENvdW50LFxuICAgICAgbWFwKCh2YWx1ZSkgPT4gdmFsdWUudG90YWxDb3VudClcbiAgICApLFxuICAgIHRvdGFsQ291bnRcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgZ3JvdXBJbmRpY2VzQW5kQ291bnQsXG4gICAgICBtYXAoKHZhbHVlKSA9PiB2YWx1ZS5ncm91cEluZGljZXMpXG4gICAgKSxcbiAgICBncm91cEluZGljZXNcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgY29tYmluZUxhdGVzdChzY3JvbGxUb3AsIHNpemVzLCBoZWFkZXJIZWlnaHQpLFxuICAgICAgZmlsdGVyKChbXywgc2l6ZXMyXSkgPT4gaGFzR3JvdXBzKHNpemVzMikpLFxuICAgICAgbWFwKChbc2Nyb2xsVG9wMiwgc3RhdGUsIGhlYWRlckhlaWdodDJdKSA9PiBmaW5kTWF4S2V5VmFsdWUoc3RhdGUuZ3JvdXBPZmZzZXRUcmVlLCBNYXRoLm1heChzY3JvbGxUb3AyIC0gaGVhZGVySGVpZ2h0MiwgMCksIFwidlwiKVswXSksXG4gICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgbWFwKChpbmRleCkgPT4gW2luZGV4XSlcbiAgICApLFxuICAgIHRvcEl0ZW1zSW5kZXhlc1xuICApO1xuICByZXR1cm4geyBncm91cENvdW50cywgdG9wSXRlbXNJbmRleGVzIH07XG59LCB0dXAoc2l6ZVN5c3RlbSwgZG9tSU9TeXN0ZW0pKTtcbmZ1bmN0aW9uIHR1cGxlQ29tcGFyYXRvcihwcmV2LCBjdXJyZW50KSB7XG4gIHJldHVybiAhIShwcmV2ICYmIHByZXZbMF0gPT09IGN1cnJlbnRbMF0gJiYgcHJldlsxXSA9PT0gY3VycmVudFsxXSk7XG59XG5mdW5jdGlvbiByYW5nZUNvbXBhcmF0b3IocHJldiwgbmV4dCkge1xuICByZXR1cm4gISEocHJldiAmJiBwcmV2LnN0YXJ0SW5kZXggPT09IG5leHQuc3RhcnRJbmRleCAmJiBwcmV2LmVuZEluZGV4ID09PSBuZXh0LmVuZEluZGV4KTtcbn1cbmNvbnN0IFRPUCA9IFwidG9wXCI7XG5jb25zdCBCT1RUT00gPSBcImJvdHRvbVwiO1xuY29uc3QgTk9ORSA9IFwibm9uZVwiO1xuZnVuY3Rpb24gZ2V0T3ZlcnNjYW4ob3ZlcnNjYW4sIGVuZCwgZGlyZWN0aW9uKSB7XG4gIGlmICh0eXBlb2Ygb3ZlcnNjYW4gPT09IFwibnVtYmVyXCIpIHtcbiAgICByZXR1cm4gZGlyZWN0aW9uID09PSBVUCAmJiBlbmQgPT09IFRPUCB8fCBkaXJlY3Rpb24gPT09IERPV04gJiYgZW5kID09PSBCT1RUT00gPyBvdmVyc2NhbiA6IDA7XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRpcmVjdGlvbiA9PT0gVVApIHtcbiAgICAgIHJldHVybiBlbmQgPT09IFRPUCA/IG92ZXJzY2FuLm1haW4gOiBvdmVyc2Nhbi5yZXZlcnNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZW5kID09PSBCT1RUT00gPyBvdmVyc2Nhbi5tYWluIDogb3ZlcnNjYW4ucmV2ZXJzZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIGdldFZpZXdwb3J0SW5jcmVhc2UodmFsdWUsIGVuZCkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiID8gdmFsdWUgOiB2YWx1ZVtlbmRdIHx8IDA7XG59XG5jb25zdCBzaXplUmFuZ2VTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbeyBzY3JvbGxUb3AsIHZpZXdwb3J0SGVpZ2h0LCBkZXZpYXRpb24sIGhlYWRlckhlaWdodCwgZml4ZWRIZWFkZXJIZWlnaHQgfV0pID0+IHtcbiAgICBjb25zdCBsaXN0Qm91bmRhcnkgPSBzdHJlYW0oKTtcbiAgICBjb25zdCB0b3BMaXN0SGVpZ2h0ID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gICAgY29uc3QgaW5jcmVhc2VWaWV3cG9ydEJ5ID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gICAgY29uc3Qgb3ZlcnNjYW4gPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCB2aXNpYmxlUmFuZ2UgPSBzdGF0ZWZ1bFN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgY29tYmluZUxhdGVzdChcbiAgICAgICAgICBkdWMoc2Nyb2xsVG9wKSxcbiAgICAgICAgICBkdWModmlld3BvcnRIZWlnaHQpLFxuICAgICAgICAgIGR1YyhoZWFkZXJIZWlnaHQpLFxuICAgICAgICAgIGR1YyhsaXN0Qm91bmRhcnksIHR1cGxlQ29tcGFyYXRvciksXG4gICAgICAgICAgZHVjKG92ZXJzY2FuKSxcbiAgICAgICAgICBkdWModG9wTGlzdEhlaWdodCksXG4gICAgICAgICAgZHVjKGZpeGVkSGVhZGVySGVpZ2h0KSxcbiAgICAgICAgICBkdWMoZGV2aWF0aW9uKSxcbiAgICAgICAgICBkdWMoaW5jcmVhc2VWaWV3cG9ydEJ5KVxuICAgICAgICApLFxuICAgICAgICBtYXAoXG4gICAgICAgICAgKFtcbiAgICAgICAgICAgIHNjcm9sbFRvcDIsXG4gICAgICAgICAgICB2aWV3cG9ydEhlaWdodDIsXG4gICAgICAgICAgICBoZWFkZXJIZWlnaHQyLFxuICAgICAgICAgICAgW2xpc3RUb3AsIGxpc3RCb3R0b21dLFxuICAgICAgICAgICAgb3ZlcnNjYW4yLFxuICAgICAgICAgICAgdG9wTGlzdEhlaWdodDIsXG4gICAgICAgICAgICBmaXhlZEhlYWRlckhlaWdodDIsXG4gICAgICAgICAgICBkZXZpYXRpb24yLFxuICAgICAgICAgICAgaW5jcmVhc2VWaWV3cG9ydEJ5MlxuICAgICAgICAgIF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHRvcCA9IHNjcm9sbFRvcDIgLSBkZXZpYXRpb24yO1xuICAgICAgICAgICAgY29uc3Qgc3RpY2t5SGVhZGVySGVpZ2h0ID0gdG9wTGlzdEhlaWdodDIgKyBmaXhlZEhlYWRlckhlaWdodDI7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJWaXNpYmxlID0gTWF0aC5tYXgoaGVhZGVySGVpZ2h0MiAtIHRvcCwgMCk7XG4gICAgICAgICAgICBsZXQgZGlyZWN0aW9uID0gTk9ORTtcbiAgICAgICAgICAgIGNvbnN0IHRvcFZpZXdwb3J0QWRkaXRpb24gPSBnZXRWaWV3cG9ydEluY3JlYXNlKGluY3JlYXNlVmlld3BvcnRCeTIsIFRPUCk7XG4gICAgICAgICAgICBjb25zdCBib3R0b21WaWV3cG9ydEFkZGl0aW9uID0gZ2V0Vmlld3BvcnRJbmNyZWFzZShpbmNyZWFzZVZpZXdwb3J0QnkyLCBCT1RUT00pO1xuICAgICAgICAgICAgbGlzdFRvcCAtPSBkZXZpYXRpb24yO1xuICAgICAgICAgICAgbGlzdFRvcCArPSBoZWFkZXJIZWlnaHQyICsgZml4ZWRIZWFkZXJIZWlnaHQyO1xuICAgICAgICAgICAgbGlzdEJvdHRvbSArPSBoZWFkZXJIZWlnaHQyICsgZml4ZWRIZWFkZXJIZWlnaHQyO1xuICAgICAgICAgICAgbGlzdEJvdHRvbSAtPSBkZXZpYXRpb24yO1xuICAgICAgICAgICAgaWYgKGxpc3RUb3AgPiBzY3JvbGxUb3AyICsgc3RpY2t5SGVhZGVySGVpZ2h0IC0gdG9wVmlld3BvcnRBZGRpdGlvbikge1xuICAgICAgICAgICAgICBkaXJlY3Rpb24gPSBVUDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChsaXN0Qm90dG9tIDwgc2Nyb2xsVG9wMiAtIGhlYWRlclZpc2libGUgKyB2aWV3cG9ydEhlaWdodDIgKyBib3R0b21WaWV3cG9ydEFkZGl0aW9uKSB7XG4gICAgICAgICAgICAgIGRpcmVjdGlvbiA9IERPV047XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlyZWN0aW9uICE9PSBOT05FKSB7XG4gICAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgTWF0aC5tYXgodG9wIC0gaGVhZGVySGVpZ2h0MiAtIGdldE92ZXJzY2FuKG92ZXJzY2FuMiwgVE9QLCBkaXJlY3Rpb24pIC0gdG9wVmlld3BvcnRBZGRpdGlvbiwgMCksXG4gICAgICAgICAgICAgICAgdG9wIC0gaGVhZGVyVmlzaWJsZSAtIGZpeGVkSGVhZGVySGVpZ2h0MiArIHZpZXdwb3J0SGVpZ2h0MiArIGdldE92ZXJzY2FuKG92ZXJzY2FuMiwgQk9UVE9NLCBkaXJlY3Rpb24pICsgYm90dG9tVmlld3BvcnRBZGRpdGlvblxuICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgfVxuICAgICAgICApLFxuICAgICAgICBmaWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPSBudWxsKSxcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQodHVwbGVDb21wYXJhdG9yKVxuICAgICAgKSxcbiAgICAgIFswLCAwXVxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGlucHV0XG4gICAgICBsaXN0Qm91bmRhcnksXG4gICAgICBvdmVyc2NhbixcbiAgICAgIHRvcExpc3RIZWlnaHQsXG4gICAgICBpbmNyZWFzZVZpZXdwb3J0QnksXG4gICAgICAvLyBvdXRwdXRcbiAgICAgIHZpc2libGVSYW5nZVxuICAgIH07XG4gIH0sXG4gIHR1cChkb21JT1N5c3RlbSksXG4gIHsgc2luZ2xldG9uOiB0cnVlIH1cbik7XG5mdW5jdGlvbiBwcm9iZUl0ZW1TZXQoaW5kZXgsIHNpemVzLCBkYXRhKSB7XG4gIGlmIChoYXNHcm91cHMoc2l6ZXMpKSB7XG4gICAgY29uc3QgaXRlbUluZGV4ID0gb3JpZ2luYWxJbmRleEZyb21JdGVtSW5kZXgoaW5kZXgsIHNpemVzKTtcbiAgICBjb25zdCBncm91cEluZGV4ID0gZmluZE1heEtleVZhbHVlKHNpemVzLmdyb3VwT2Zmc2V0VHJlZSwgaXRlbUluZGV4KVswXTtcbiAgICByZXR1cm4gW1xuICAgICAgeyBpbmRleDogZ3JvdXBJbmRleCwgc2l6ZTogMCwgb2Zmc2V0OiAwIH0sXG4gICAgICB7IGluZGV4OiBpdGVtSW5kZXgsIHNpemU6IDAsIG9mZnNldDogMCwgZGF0YTogZGF0YSAmJiBkYXRhWzBdIH1cbiAgICBdO1xuICB9XG4gIHJldHVybiBbeyBpbmRleCwgc2l6ZTogMCwgb2Zmc2V0OiAwLCBkYXRhOiBkYXRhICYmIGRhdGFbMF0gfV07XG59XG5jb25zdCBFTVBUWV9MSVNUX1NUQVRFID0ge1xuICBpdGVtczogW10sXG4gIHRvcEl0ZW1zOiBbXSxcbiAgb2Zmc2V0VG9wOiAwLFxuICBvZmZzZXRCb3R0b206IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICB0b3BMaXN0SGVpZ2h0OiAwLFxuICB0b3RhbENvdW50OiAwLFxuICBmaXJzdEl0ZW1JbmRleDogMFxufTtcbmZ1bmN0aW9uIHRyYW5zcG9zZUl0ZW1zKGl0ZW1zLCBzaXplcywgZmlyc3RJdGVtSW5kZXgpIHtcbiAgaWYgKGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoIWhhc0dyb3VwcyhzaXplcykpIHtcbiAgICByZXR1cm4gaXRlbXMubWFwKChpdGVtKSA9PiAoeyAuLi5pdGVtLCBpbmRleDogaXRlbS5pbmRleCArIGZpcnN0SXRlbUluZGV4LCBvcmlnaW5hbEluZGV4OiBpdGVtLmluZGV4IH0pKTtcbiAgfVxuICBjb25zdCBzdGFydEluZGV4ID0gaXRlbXNbMF0uaW5kZXg7XG4gIGNvbnN0IGVuZEluZGV4ID0gaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV0uaW5kZXg7XG4gIGNvbnN0IHRyYW5zcG9zZWRJdGVtcyA9IFtdO1xuICBjb25zdCBncm91cFJhbmdlcyA9IHJhbmdlc1dpdGhpbihzaXplcy5ncm91cE9mZnNldFRyZWUsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KTtcbiAgbGV0IGN1cnJlbnRSYW5nZSA9IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRHcm91cEluZGV4ID0gMDtcbiAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgaWYgKCFjdXJyZW50UmFuZ2UgfHwgY3VycmVudFJhbmdlLmVuZCA8IGl0ZW0uaW5kZXgpIHtcbiAgICAgIGN1cnJlbnRSYW5nZSA9IGdyb3VwUmFuZ2VzLnNoaWZ0KCk7XG4gICAgICBjdXJyZW50R3JvdXBJbmRleCA9IHNpemVzLmdyb3VwSW5kaWNlcy5pbmRleE9mKGN1cnJlbnRSYW5nZS5zdGFydCk7XG4gICAgfVxuICAgIGxldCB0cmFuc3Bvc2VkSXRlbTtcbiAgICBpZiAoaXRlbS5pbmRleCA9PT0gY3VycmVudFJhbmdlLnN0YXJ0KSB7XG4gICAgICB0cmFuc3Bvc2VkSXRlbSA9IHtcbiAgICAgICAgdHlwZTogXCJncm91cFwiLFxuICAgICAgICBpbmRleDogY3VycmVudEdyb3VwSW5kZXhcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyYW5zcG9zZWRJdGVtID0ge1xuICAgICAgICBpbmRleDogaXRlbS5pbmRleCAtIChjdXJyZW50R3JvdXBJbmRleCArIDEpICsgZmlyc3RJdGVtSW5kZXgsXG4gICAgICAgIGdyb3VwSW5kZXg6IGN1cnJlbnRHcm91cEluZGV4XG4gICAgICB9O1xuICAgIH1cbiAgICB0cmFuc3Bvc2VkSXRlbXMucHVzaCh7XG4gICAgICAuLi50cmFuc3Bvc2VkSXRlbSxcbiAgICAgIHNpemU6IGl0ZW0uc2l6ZSxcbiAgICAgIG9mZnNldDogaXRlbS5vZmZzZXQsXG4gICAgICBvcmlnaW5hbEluZGV4OiBpdGVtLmluZGV4LFxuICAgICAgZGF0YTogaXRlbS5kYXRhXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHRyYW5zcG9zZWRJdGVtcztcbn1cbmZ1bmN0aW9uIGJ1aWxkTGlzdFN0YXRlKGl0ZW1zLCB0b3BJdGVtcywgdG90YWxDb3VudCwgZ2FwLCBzaXplcywgZmlyc3RJdGVtSW5kZXgpIHtcbiAgY29uc3QgeyBsYXN0U2l6ZSwgbGFzdE9mZnNldCwgbGFzdEluZGV4IH0gPSBzaXplcztcbiAgbGV0IG9mZnNldFRvcCA9IDA7XG4gIGxldCBib3R0b20gPSAwO1xuICBpZiAoaXRlbXMubGVuZ3RoID4gMCkge1xuICAgIG9mZnNldFRvcCA9IGl0ZW1zWzBdLm9mZnNldDtcbiAgICBjb25zdCBsYXN0SXRlbSA9IGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdO1xuICAgIGJvdHRvbSA9IGxhc3RJdGVtLm9mZnNldCArIGxhc3RJdGVtLnNpemU7XG4gIH1cbiAgY29uc3QgaXRlbUNvdW50ID0gdG90YWxDb3VudCAtIGxhc3RJbmRleDtcbiAgY29uc3QgdG90YWwgPSBsYXN0T2Zmc2V0ICsgaXRlbUNvdW50ICogbGFzdFNpemUgKyAoaXRlbUNvdW50IC0gMSkgKiBnYXA7XG4gIGNvbnN0IHRvcCA9IG9mZnNldFRvcDtcbiAgY29uc3Qgb2Zmc2V0Qm90dG9tID0gdG90YWwgLSBib3R0b207XG4gIHJldHVybiB7XG4gICAgaXRlbXM6IHRyYW5zcG9zZUl0ZW1zKGl0ZW1zLCBzaXplcywgZmlyc3RJdGVtSW5kZXgpLFxuICAgIHRvcEl0ZW1zOiB0cmFuc3Bvc2VJdGVtcyh0b3BJdGVtcywgc2l6ZXMsIGZpcnN0SXRlbUluZGV4KSxcbiAgICB0b3BMaXN0SGVpZ2h0OiB0b3BJdGVtcy5yZWR1Y2UoKGhlaWdodCwgaXRlbSkgPT4gaXRlbS5zaXplICsgaGVpZ2h0LCAwKSxcbiAgICBvZmZzZXRUb3AsXG4gICAgb2Zmc2V0Qm90dG9tLFxuICAgIHRvcCxcbiAgICBib3R0b20sXG4gICAgdG90YWxDb3VudCxcbiAgICBmaXJzdEl0ZW1JbmRleFxuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRMaXN0U3RhdGVGcm9tSXRlbUNvdW50KGl0ZW1Db3VudCwgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgsIHNpemVzLCBmaXJzdEl0ZW1JbmRleCwgZ2FwLCBkYXRhKSB7XG4gIGxldCBpbmNsdWRlZEdyb3Vwc0NvdW50ID0gMDtcbiAgaWYgKHNpemVzLmdyb3VwSW5kaWNlcy5sZW5ndGggPiAwKSB7XG4gICAgZm9yIChjb25zdCBpbmRleCBvZiBzaXplcy5ncm91cEluZGljZXMpIHtcbiAgICAgIGlmIChpbmRleCAtIGluY2x1ZGVkR3JvdXBzQ291bnQgPj0gaXRlbUNvdW50KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgaW5jbHVkZWRHcm91cHNDb3VudCsrO1xuICAgIH1cbiAgfVxuICBjb25zdCBhZGp1c3RlZENvdW50ID0gaXRlbUNvdW50ICsgaW5jbHVkZWRHcm91cHNDb3VudDtcbiAgY29uc3QgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXhOdW1iZXIgPSBnZXRJbml0aWFsVG9wTW9zdEl0ZW1JbmRleE51bWJlcihpbml0aWFsVG9wTW9zdEl0ZW1JbmRleCwgYWRqdXN0ZWRDb3VudCk7XG4gIGNvbnN0IGl0ZW1zID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogYWRqdXN0ZWRDb3VudCB9KS5tYXAoKF8sIGluZGV4KSA9PiAoe1xuICAgIGluZGV4OiBpbmRleCArIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4TnVtYmVyLFxuICAgIHNpemU6IDAsXG4gICAgb2Zmc2V0OiAwLFxuICAgIGRhdGE6IGRhdGFbaW5kZXggKyBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleE51bWJlcl1cbiAgfSkpO1xuICByZXR1cm4gYnVpbGRMaXN0U3RhdGUoaXRlbXMsIFtdLCBhZGp1c3RlZENvdW50LCBnYXAsIHNpemVzLCBmaXJzdEl0ZW1JbmRleCk7XG59XG5jb25zdCBsaXN0U3RhdGVTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbXG4gICAgeyBzaXplcywgdG90YWxDb3VudCwgZGF0YSwgZmlyc3RJdGVtSW5kZXgsIGdhcCB9LFxuICAgIGdyb3VwZWRMaXN0U3lzdGVtMixcbiAgICB7IHZpc2libGVSYW5nZSwgbGlzdEJvdW5kYXJ5LCB0b3BMaXN0SGVpZ2h0OiByYW5nZVRvcExpc3RIZWlnaHQgfSxcbiAgICB7IHNjcm9sbGVkVG9Jbml0aWFsSXRlbSwgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXggfSxcbiAgICB7IHRvcExpc3RIZWlnaHQgfSxcbiAgICBzdGF0ZUZsYWdzLFxuICAgIHsgZGlkTW91bnQgfSxcbiAgICB7IHJlY2FsY0luUHJvZ3Jlc3MgfVxuICBdKSA9PiB7XG4gICAgY29uc3QgdG9wSXRlbXNJbmRleGVzID0gc3RhdGVmdWxTdHJlYW0oW10pO1xuICAgIGNvbnN0IGluaXRpYWxJdGVtQ291bnQgPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBpdGVtc1JlbmRlcmVkID0gc3RyZWFtKCk7XG4gICAgY29ubmVjdChncm91cGVkTGlzdFN5c3RlbTIudG9wSXRlbXNJbmRleGVzLCB0b3BJdGVtc0luZGV4ZXMpO1xuICAgIGNvbnN0IGxpc3RTdGF0ZSA9IHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KFxuICAgICAgICAgIGRpZE1vdW50LFxuICAgICAgICAgIHJlY2FsY0luUHJvZ3Jlc3MsXG4gICAgICAgICAgZHVjKHZpc2libGVSYW5nZSwgdHVwbGVDb21wYXJhdG9yKSxcbiAgICAgICAgICBkdWModG90YWxDb3VudCksXG4gICAgICAgICAgZHVjKHNpemVzKSxcbiAgICAgICAgICBkdWMoaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgpLFxuICAgICAgICAgIHNjcm9sbGVkVG9Jbml0aWFsSXRlbSxcbiAgICAgICAgICBkdWModG9wSXRlbXNJbmRleGVzKSxcbiAgICAgICAgICBkdWMoZmlyc3RJdGVtSW5kZXgpLFxuICAgICAgICAgIGR1YyhnYXApLFxuICAgICAgICAgIGRhdGFcbiAgICAgICAgKSxcbiAgICAgICAgZmlsdGVyKChbbW91bnQsIHJlY2FsY0luUHJvZ3Jlc3MyLCAsIHRvdGFsQ291bnQyLCAsICwgLCAsICwgLCBkYXRhMl0pID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRhQ2hhbmdlSW5Qcm9ncmVzcyA9IGRhdGEyICYmIGRhdGEyLmxlbmd0aCAhPT0gdG90YWxDb3VudDI7XG4gICAgICAgICAgcmV0dXJuIG1vdW50ICYmICFyZWNhbGNJblByb2dyZXNzMiAmJiAhZGF0YUNoYW5nZUluUHJvZ3Jlc3M7XG4gICAgICAgIH0pLFxuICAgICAgICBtYXAoXG4gICAgICAgICAgKFtcbiAgICAgICAgICAgICxcbiAgICAgICAgICAgICxcbiAgICAgICAgICAgIFtzdGFydE9mZnNldCwgZW5kT2Zmc2V0XSxcbiAgICAgICAgICAgIHRvdGFsQ291bnQyLFxuICAgICAgICAgICAgc2l6ZXMyLFxuICAgICAgICAgICAgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgyLFxuICAgICAgICAgICAgc2Nyb2xsZWRUb0luaXRpYWxJdGVtMixcbiAgICAgICAgICAgIHRvcEl0ZW1zSW5kZXhlczIsXG4gICAgICAgICAgICBmaXJzdEl0ZW1JbmRleDIsXG4gICAgICAgICAgICBnYXAyLFxuICAgICAgICAgICAgZGF0YTJcbiAgICAgICAgICBdKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzaXplc1ZhbHVlID0gc2l6ZXMyO1xuICAgICAgICAgICAgY29uc3QgeyBzaXplVHJlZSwgb2Zmc2V0VHJlZSB9ID0gc2l6ZXNWYWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IGluaXRpYWxJdGVtQ291bnRWYWx1ZSA9IGdldFZhbHVlKGluaXRpYWxJdGVtQ291bnQpO1xuICAgICAgICAgICAgaWYgKHRvdGFsQ291bnQyID09PSAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLkVNUFRZX0xJU1RfU1RBVEUsIHRvdGFsQ291bnQ6IHRvdGFsQ291bnQyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoc3RhcnRPZmZzZXQgPT09IDAgJiYgZW5kT2Zmc2V0ID09PSAwKSB7XG4gICAgICAgICAgICAgIGlmIChpbml0aWFsSXRlbUNvdW50VmFsdWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5FTVBUWV9MSVNUX1NUQVRFLCB0b3RhbENvdW50OiB0b3RhbENvdW50MiB9O1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBidWlsZExpc3RTdGF0ZUZyb21JdGVtQ291bnQoaW5pdGlhbEl0ZW1Db3VudFZhbHVlLCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDIsIHNpemVzMiwgZmlyc3RJdGVtSW5kZXgyLCBnYXAyLCBkYXRhMiB8fCBbXSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChlbXB0eShzaXplVHJlZSkpIHtcbiAgICAgICAgICAgICAgaWYgKGluaXRpYWxJdGVtQ291bnRWYWx1ZSA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCBzdGF0ZSA9IGJ1aWxkTGlzdFN0YXRlKFxuICAgICAgICAgICAgICAgIHByb2JlSXRlbVNldChnZXRJbml0aWFsVG9wTW9zdEl0ZW1JbmRleE51bWJlcihpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDIsIHRvdGFsQ291bnQyKSwgc2l6ZXNWYWx1ZSwgZGF0YTIpLFxuICAgICAgICAgICAgICAgIFtdLFxuICAgICAgICAgICAgICAgIHRvdGFsQ291bnQyLFxuICAgICAgICAgICAgICAgIGdhcDIsXG4gICAgICAgICAgICAgICAgc2l6ZXNWYWx1ZSxcbiAgICAgICAgICAgICAgICBmaXJzdEl0ZW1JbmRleDJcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdG9wSXRlbXMgPSBbXTtcbiAgICAgICAgICAgIGlmICh0b3BJdGVtc0luZGV4ZXMyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IHRvcEl0ZW1zSW5kZXhlczJbMF07XG4gICAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gdG9wSXRlbXNJbmRleGVzMlt0b3BJdGVtc0luZGV4ZXMyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgICAgICAgICAgZm9yIChjb25zdCByYW5nZSBvZiByYW5nZXNXaXRoaW4oc2l6ZVRyZWUsIHN0YXJ0SW5kZXgsIGVuZEluZGV4KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSByYW5nZS52YWx1ZTtcbiAgICAgICAgICAgICAgICBjb25zdCByYW5nZVN0YXJ0SW5kZXggPSBNYXRoLm1heChyYW5nZS5zdGFydCwgc3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgY29uc3QgcmFuZ2VFbmRJbmRleCA9IE1hdGgubWluKHJhbmdlLmVuZCwgZW5kSW5kZXgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSByYW5nZVN0YXJ0SW5kZXg7IGkgPD0gcmFuZ2VFbmRJbmRleDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICB0b3BJdGVtcy5wdXNoKHsgaW5kZXg6IGksIHNpemUsIG9mZnNldCwgZGF0YTogZGF0YTIgJiYgZGF0YTJbaV0gfSk7XG4gICAgICAgICAgICAgICAgICBvZmZzZXQgKz0gc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghc2Nyb2xsZWRUb0luaXRpYWxJdGVtMikge1xuICAgICAgICAgICAgICByZXR1cm4gYnVpbGRMaXN0U3RhdGUoW10sIHRvcEl0ZW1zLCB0b3RhbENvdW50MiwgZ2FwMiwgc2l6ZXNWYWx1ZSwgZmlyc3RJdGVtSW5kZXgyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG1pblN0YXJ0SW5kZXggPSB0b3BJdGVtc0luZGV4ZXMyLmxlbmd0aCA+IDAgPyB0b3BJdGVtc0luZGV4ZXMyW3RvcEl0ZW1zSW5kZXhlczIubGVuZ3RoIC0gMV0gKyAxIDogMDtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldFBvaW50UmFuZ2VzID0gcmFuZ2VzV2l0aGluT2Zmc2V0cyhvZmZzZXRUcmVlLCBzdGFydE9mZnNldCwgZW5kT2Zmc2V0LCBtaW5TdGFydEluZGV4KTtcbiAgICAgICAgICAgIGlmIChvZmZzZXRQb2ludFJhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtYXhJbmRleCA9IHRvdGFsQ291bnQyIC0gMTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gdGFwKFtdLCAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcmFuZ2Ugb2Ygb2Zmc2V0UG9pbnRSYW5nZXMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwb2ludCA9IHJhbmdlLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBvZmZzZXQgPSBwb2ludC5vZmZzZXQ7XG4gICAgICAgICAgICAgICAgbGV0IHJhbmdlU3RhcnRJbmRleCA9IHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSBwb2ludC5zaXplO1xuICAgICAgICAgICAgICAgIGlmIChwb2ludC5vZmZzZXQgPCBzdGFydE9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgcmFuZ2VTdGFydEluZGV4ICs9IE1hdGguZmxvb3IoKHN0YXJ0T2Zmc2V0IC0gcG9pbnQub2Zmc2V0ICsgZ2FwMikgLyAoc2l6ZSArIGdhcDIpKTtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1Db3VudCA9IHJhbmdlU3RhcnRJbmRleCAtIHJhbmdlLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IGl0ZW1Db3VudCAqIHNpemUgKyBpdGVtQ291bnQgKiBnYXAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VTdGFydEluZGV4IDwgbWluU3RhcnRJbmRleCkge1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IChtaW5TdGFydEluZGV4IC0gcmFuZ2VTdGFydEluZGV4KSAqIHNpemU7XG4gICAgICAgICAgICAgICAgICByYW5nZVN0YXJ0SW5kZXggPSBtaW5TdGFydEluZGV4O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IE1hdGgubWluKHJhbmdlLmVuZCwgbWF4SW5kZXgpO1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSByYW5nZVN0YXJ0SW5kZXg7IGkgPD0gZW5kSW5kZXg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgaWYgKG9mZnNldCA+PSBlbmRPZmZzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXN1bHQucHVzaCh7IGluZGV4OiBpLCBzaXplLCBvZmZzZXQsIGRhdGE6IGRhdGEyICYmIGRhdGEyW2ldIH0pO1xuICAgICAgICAgICAgICAgICAgb2Zmc2V0ICs9IHNpemUgKyBnYXAyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gYnVpbGRMaXN0U3RhdGUoaXRlbXMsIHRvcEl0ZW1zLCB0b3RhbENvdW50MiwgZ2FwMiwgc2l6ZXNWYWx1ZSwgZmlyc3RJdGVtSW5kZXgyKTtcbiAgICAgICAgICB9XG4gICAgICAgICksXG4gICAgICAgIC8vQHRzLWV4cGVjdC1lcnJvciBmaWx0ZXIgbmVlZHMgdG8gYmUgZml4ZWRcbiAgICAgICAgZmlsdGVyKCh2YWx1ZSkgPT4gdmFsdWUgIT09IG51bGwpLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApLFxuICAgICAgRU1QVFlfTElTVF9TVEFURVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGZpbHRlcihpc0RlZmluZWQpLFxuICAgICAgICBtYXAoKGRhdGEyKSA9PiBkYXRhMiA9PSBudWxsID8gdm9pZCAwIDogZGF0YTIubGVuZ3RoKVxuICAgICAgKSxcbiAgICAgIHRvdGFsQ291bnRcbiAgICApO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBsaXN0U3RhdGUsXG4gICAgICAgIG1hcCgodmFsdWUpID0+IHZhbHVlLnRvcExpc3RIZWlnaHQpXG4gICAgICApLFxuICAgICAgdG9wTGlzdEhlaWdodFxuICAgICk7XG4gICAgY29ubmVjdCh0b3BMaXN0SGVpZ2h0LCByYW5nZVRvcExpc3RIZWlnaHQpO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBsaXN0U3RhdGUsXG4gICAgICAgIG1hcCgoc3RhdGUpID0+IFtzdGF0ZS50b3AsIHN0YXRlLmJvdHRvbV0pXG4gICAgICApLFxuICAgICAgbGlzdEJvdW5kYXJ5XG4gICAgKTtcbiAgICBjb25uZWN0KFxuICAgICAgcGlwZShcbiAgICAgICAgbGlzdFN0YXRlLFxuICAgICAgICBtYXAoKHN0YXRlKSA9PiBzdGF0ZS5pdGVtcylcbiAgICAgICksXG4gICAgICBpdGVtc1JlbmRlcmVkXG4gICAgKTtcbiAgICBjb25zdCBlbmRSZWFjaGVkID0gc3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBsaXN0U3RhdGUsXG4gICAgICAgIGZpbHRlcigoeyBpdGVtcyB9KSA9PiBpdGVtcy5sZW5ndGggPiAwKSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20odG90YWxDb3VudCwgZGF0YSksXG4gICAgICAgIGZpbHRlcigoW3sgaXRlbXMgfSwgdG90YWxDb3VudDJdKSA9PiBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5vcmlnaW5hbEluZGV4ID09PSB0b3RhbENvdW50MiAtIDEpLFxuICAgICAgICBtYXAoKFssIHRvdGFsQ291bnQyLCBkYXRhMl0pID0+IFt0b3RhbENvdW50MiAtIDEsIGRhdGEyXSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKHR1cGxlQ29tcGFyYXRvciksXG4gICAgICAgIG1hcCgoW2NvdW50XSkgPT4gY291bnQpXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zdCBzdGFydFJlYWNoZWQgPSBzdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGxpc3RTdGF0ZSxcbiAgICAgICAgdGhyb3R0bGVUaW1lKDIwMCksXG4gICAgICAgIGZpbHRlcigoeyBpdGVtcywgdG9wSXRlbXMgfSkgPT4ge1xuICAgICAgICAgIHJldHVybiBpdGVtcy5sZW5ndGggPiAwICYmIGl0ZW1zWzBdLm9yaWdpbmFsSW5kZXggPT09IHRvcEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgoeyBpdGVtcyB9KSA9PiBpdGVtc1swXS5pbmRleCksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICAgIClcbiAgICApO1xuICAgIGNvbnN0IHJhbmdlQ2hhbmdlZCA9IHN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgbGlzdFN0YXRlLFxuICAgICAgICBmaWx0ZXIoKHsgaXRlbXMgfSkgPT4gaXRlbXMubGVuZ3RoID4gMCksXG4gICAgICAgIG1hcCgoeyBpdGVtcyB9KSA9PiB7XG4gICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSAwO1xuICAgICAgICAgIGxldCBlbmRJbmRleCA9IGl0ZW1zLmxlbmd0aCAtIDE7XG4gICAgICAgICAgd2hpbGUgKGl0ZW1zW3N0YXJ0SW5kZXhdLnR5cGUgPT09IFwiZ3JvdXBcIiAmJiBzdGFydEluZGV4IDwgZW5kSW5kZXgpIHtcbiAgICAgICAgICAgIHN0YXJ0SW5kZXgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgd2hpbGUgKGl0ZW1zW2VuZEluZGV4XS50eXBlID09PSBcImdyb3VwXCIgJiYgZW5kSW5kZXggPiBzdGFydEluZGV4KSB7XG4gICAgICAgICAgICBlbmRJbmRleC0tO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhcnRJbmRleDogaXRlbXNbc3RhcnRJbmRleF0uaW5kZXgsXG4gICAgICAgICAgICBlbmRJbmRleDogaXRlbXNbZW5kSW5kZXhdLmluZGV4XG4gICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKHJhbmdlQ29tcGFyYXRvcilcbiAgICAgIClcbiAgICApO1xuICAgIHJldHVybiB7IGxpc3RTdGF0ZSwgdG9wSXRlbXNJbmRleGVzLCBlbmRSZWFjaGVkLCBzdGFydFJlYWNoZWQsIHJhbmdlQ2hhbmdlZCwgaXRlbXNSZW5kZXJlZCwgaW5pdGlhbEl0ZW1Db3VudCwgLi4uc3RhdGVGbGFncyB9O1xuICB9LFxuICB0dXAoXG4gICAgc2l6ZVN5c3RlbSxcbiAgICBncm91cGVkTGlzdFN5c3RlbSxcbiAgICBzaXplUmFuZ2VTeXN0ZW0sXG4gICAgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXhTeXN0ZW0sXG4gICAgc2Nyb2xsVG9JbmRleFN5c3RlbSxcbiAgICBzdGF0ZUZsYWdzU3lzdGVtLFxuICAgIHByb3BzUmVhZHlTeXN0ZW0sXG4gICAgcmVjYWxjU3lzdGVtXG4gICksXG4gIHsgc2luZ2xldG9uOiB0cnVlIH1cbik7XG5jb25zdCBpbml0aWFsSXRlbUNvdW50U3lzdGVtID0gc3lzdGVtKFxuICAoW3sgc2l6ZXMsIGZpcnN0SXRlbUluZGV4LCBkYXRhLCBnYXAgfSwgeyBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleCB9LCB7IGluaXRpYWxJdGVtQ291bnQsIGxpc3RTdGF0ZSB9LCB7IGRpZE1vdW50IH1dKSA9PiB7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGRpZE1vdW50LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShpbml0aWFsSXRlbUNvdW50KSxcbiAgICAgICAgZmlsdGVyKChbLCBjb3VudF0pID0+IGNvdW50ICE9PSAwKSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgsIHNpemVzLCBmaXJzdEl0ZW1JbmRleCwgZ2FwLCBkYXRhKSxcbiAgICAgICAgbWFwKChbWywgY291bnRdLCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleFZhbHVlLCBzaXplczIsIGZpcnN0SXRlbUluZGV4MiwgZ2FwMiwgZGF0YTIgPSBbXV0pID0+IHtcbiAgICAgICAgICByZXR1cm4gYnVpbGRMaXN0U3RhdGVGcm9tSXRlbUNvdW50KGNvdW50LCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleFZhbHVlLCBzaXplczIsIGZpcnN0SXRlbUluZGV4MiwgZ2FwMiwgZGF0YTIpO1xuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIGxpc3RTdGF0ZVxuICAgICk7XG4gICAgcmV0dXJuIHt9O1xuICB9LFxuICB0dXAoc2l6ZVN5c3RlbSwgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXhTeXN0ZW0sIGxpc3RTdGF0ZVN5c3RlbSwgcHJvcHNSZWFkeVN5c3RlbSksXG4gIHsgc2luZ2xldG9uOiB0cnVlIH1cbik7XG5jb25zdCBzY3JvbGxTZWVrU3lzdGVtID0gc3lzdGVtKFxuICAoW3sgc2Nyb2xsVmVsb2NpdHkgfV0pID0+IHtcbiAgICBjb25zdCBpc1NlZWtpbmcgPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgY29uc3QgcmFuZ2VDaGFuZ2VkID0gc3RyZWFtKCk7XG4gICAgY29uc3Qgc2Nyb2xsU2Vla0NvbmZpZ3VyYXRpb24gPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIHNjcm9sbFZlbG9jaXR5LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzY3JvbGxTZWVrQ29uZmlndXJhdGlvbiwgaXNTZWVraW5nLCByYW5nZUNoYW5nZWQpLFxuICAgICAgICBmaWx0ZXIoKFtfLCBjb25maWddKSA9PiAhIWNvbmZpZyksXG4gICAgICAgIG1hcCgoW3NwZWVkLCBjb25maWcsIGlzU2Vla2luZzIsIHJhbmdlXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgZXhpdCwgZW50ZXIgfSA9IGNvbmZpZztcbiAgICAgICAgICBpZiAoaXNTZWVraW5nMikge1xuICAgICAgICAgICAgaWYgKGV4aXQoc3BlZWQsIHJhbmdlKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChlbnRlcihzcGVlZCwgcmFuZ2UpKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaXNTZWVraW5nMjtcbiAgICAgICAgfSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICAgICksXG4gICAgICBpc1NlZWtpbmdcbiAgICApO1xuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoY29tYmluZUxhdGVzdChpc1NlZWtpbmcsIHNjcm9sbFZlbG9jaXR5LCByYW5nZUNoYW5nZWQpLCB3aXRoTGF0ZXN0RnJvbShzY3JvbGxTZWVrQ29uZmlndXJhdGlvbikpLFxuICAgICAgKFtbaXNTZWVraW5nMiwgdmVsb2NpdHksIHJhbmdlXSwgY29uZmlnXSkgPT4gaXNTZWVraW5nMiAmJiBjb25maWcgJiYgY29uZmlnLmNoYW5nZSAmJiBjb25maWcuY2hhbmdlKHZlbG9jaXR5LCByYW5nZSlcbiAgICApO1xuICAgIHJldHVybiB7IGlzU2Vla2luZywgc2Nyb2xsU2Vla0NvbmZpZ3VyYXRpb24sIHNjcm9sbFZlbG9jaXR5LCBzY3JvbGxTZWVrUmFuZ2VDaGFuZ2VkOiByYW5nZUNoYW5nZWQgfTtcbiAgfSxcbiAgdHVwKHN0YXRlRmxhZ3NTeXN0ZW0pLFxuICB7IHNpbmdsZXRvbjogdHJ1ZSB9XG4pO1xuY29uc3QgdG9wSXRlbUNvdW50U3lzdGVtID0gc3lzdGVtKChbeyB0b3BJdGVtc0luZGV4ZXMgfV0pID0+IHtcbiAgY29uc3QgdG9wSXRlbUNvdW50ID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gIGNvbm5lY3QoXG4gICAgcGlwZShcbiAgICAgIHRvcEl0ZW1Db3VudCxcbiAgICAgIGZpbHRlcigobGVuZ3RoKSA9PiBsZW5ndGggPiAwKSxcbiAgICAgIG1hcCgobGVuZ3RoKSA9PiBBcnJheS5mcm9tKHsgbGVuZ3RoIH0pLm1hcCgoXywgaW5kZXgpID0+IGluZGV4KSlcbiAgICApLFxuICAgIHRvcEl0ZW1zSW5kZXhlc1xuICApO1xuICByZXR1cm4geyB0b3BJdGVtQ291bnQgfTtcbn0sIHR1cChsaXN0U3RhdGVTeXN0ZW0pKTtcbmNvbnN0IHRvdGFsTGlzdEhlaWdodFN5c3RlbSA9IHN5c3RlbShcbiAgKFt7IGZvb3RlckhlaWdodCwgaGVhZGVySGVpZ2h0LCBmaXhlZEhlYWRlckhlaWdodCwgZml4ZWRGb290ZXJIZWlnaHQgfSwgeyBsaXN0U3RhdGUgfV0pID0+IHtcbiAgICBjb25zdCB0b3RhbExpc3RIZWlnaHRDaGFuZ2VkID0gc3RyZWFtKCk7XG4gICAgY29uc3QgdG90YWxMaXN0SGVpZ2h0ID0gc3RhdGVmdWxTdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoZm9vdGVySGVpZ2h0LCBmaXhlZEZvb3RlckhlaWdodCwgaGVhZGVySGVpZ2h0LCBmaXhlZEhlYWRlckhlaWdodCwgbGlzdFN0YXRlKSxcbiAgICAgICAgbWFwKChbZm9vdGVySGVpZ2h0MiwgZml4ZWRGb290ZXJIZWlnaHQyLCBoZWFkZXJIZWlnaHQyLCBmaXhlZEhlYWRlckhlaWdodDIsIGxpc3RTdGF0ZTJdKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGZvb3RlckhlaWdodDIgKyBmaXhlZEZvb3RlckhlaWdodDIgKyBoZWFkZXJIZWlnaHQyICsgZml4ZWRIZWFkZXJIZWlnaHQyICsgbGlzdFN0YXRlMi5vZmZzZXRCb3R0b20gKyBsaXN0U3RhdGUyLmJvdHRvbTtcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICAwXG4gICAgKTtcbiAgICBjb25uZWN0KGR1Yyh0b3RhbExpc3RIZWlnaHQpLCB0b3RhbExpc3RIZWlnaHRDaGFuZ2VkKTtcbiAgICByZXR1cm4geyB0b3RhbExpc3RIZWlnaHQsIHRvdGFsTGlzdEhlaWdodENoYW5nZWQgfTtcbiAgfSxcbiAgdHVwKGRvbUlPU3lzdGVtLCBsaXN0U3RhdGVTeXN0ZW0pLFxuICB7IHNpbmdsZXRvbjogdHJ1ZSB9XG4pO1xuZnVuY3Rpb24gc2ltcGxlTWVtb2l6ZShmdW5jKSB7XG4gIGxldCBjYWxsZWQgPSBmYWxzZTtcbiAgbGV0IHJlc3VsdDtcbiAgcmV0dXJuICgpID0+IHtcbiAgICBpZiAoIWNhbGxlZCkge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIHJlc3VsdCA9IGZ1bmMoKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcbn1cbmNvbnN0IGlzTW9iaWxlU2FmYXJpID0gc2ltcGxlTWVtb2l6ZSgoKSA9PiB7XG4gIHJldHVybiAvaVAoYWR8b2R8aG9uZSkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmIC9XZWJLaXQvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpO1xufSk7XG5jb25zdCB1cHdhcmRTY3JvbGxGaXhTeXN0ZW0gPSBzeXN0ZW0oXG4gIChbXG4gICAgeyBzY3JvbGxCeSwgc2Nyb2xsVG9wLCBkZXZpYXRpb24sIHNjcm9sbGluZ0luUHJvZ3Jlc3MgfSxcbiAgICB7IGlzU2Nyb2xsaW5nLCBpc0F0Qm90dG9tLCBzY3JvbGxEaXJlY3Rpb24sIGxhc3RKdW1wRHVlVG9JdGVtUmVzaXplIH0sXG4gICAgeyBsaXN0U3RhdGUgfSxcbiAgICB7IGJlZm9yZVVuc2hpZnRXaXRoLCBzaGlmdFdpdGhPZmZzZXQsIHNpemVzLCBnYXAgfSxcbiAgICB7IGxvZyB9LFxuICAgIHsgcmVjYWxjSW5Qcm9ncmVzcyB9XG4gIF0pID0+IHtcbiAgICBjb25zdCBkZXZpYXRpb25PZmZzZXQgPSBzdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGxpc3RTdGF0ZSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20obGFzdEp1bXBEdWVUb0l0ZW1SZXNpemUpLFxuICAgICAgICBzY2FuKFxuICAgICAgICAgIChbLCBwcmV2SXRlbXMsIHByZXZUb3RhbENvdW50LCBwcmV2VG90YWxIZWlnaHRdLCBbeyBpdGVtcywgdG90YWxDb3VudCwgYm90dG9tLCBvZmZzZXRCb3R0b20gfSwgbGFzdEp1bXBEdWVUb0l0ZW1SZXNpemUyXSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdG90YWxIZWlnaHQgPSBib3R0b20gKyBvZmZzZXRCb3R0b207XG4gICAgICAgICAgICBsZXQgbmV3RGV2ID0gMDtcbiAgICAgICAgICAgIGlmIChwcmV2VG90YWxDb3VudCA9PT0gdG90YWxDb3VudCkge1xuICAgICAgICAgICAgICBpZiAocHJldkl0ZW1zLmxlbmd0aCA+IDAgJiYgaXRlbXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGF0U3RhcnQgPSBpdGVtc1swXS5vcmlnaW5hbEluZGV4ID09PSAwICYmIHByZXZJdGVtc1swXS5vcmlnaW5hbEluZGV4ID09PSAwO1xuICAgICAgICAgICAgICAgIGlmICghYXRTdGFydCkge1xuICAgICAgICAgICAgICAgICAgbmV3RGV2ID0gdG90YWxIZWlnaHQgLSBwcmV2VG90YWxIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICBpZiAobmV3RGV2ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld0RldiArPSBsYXN0SnVtcER1ZVRvSXRlbVJlc2l6ZTI7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW25ld0RldiwgaXRlbXMsIHRvdGFsQ291bnQsIHRvdGFsSGVpZ2h0XTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIFswLCBbXSwgMCwgMF1cbiAgICAgICAgKSxcbiAgICAgICAgZmlsdGVyKChbYW1vdW50XSkgPT4gYW1vdW50ICE9PSAwKSxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oc2Nyb2xsVG9wLCBzY3JvbGxEaXJlY3Rpb24sIHNjcm9sbGluZ0luUHJvZ3Jlc3MsIGlzQXRCb3R0b20sIGxvZywgcmVjYWxjSW5Qcm9ncmVzcyksXG4gICAgICAgIGZpbHRlcigoWywgc2Nyb2xsVG9wMiwgc2Nyb2xsRGlyZWN0aW9uMiwgc2Nyb2xsaW5nSW5Qcm9ncmVzczIsICwgLCByZWNhbGNJblByb2dyZXNzMl0pID0+IHtcbiAgICAgICAgICByZXR1cm4gIXJlY2FsY0luUHJvZ3Jlc3MyICYmICFzY3JvbGxpbmdJblByb2dyZXNzMiAmJiBzY3JvbGxUb3AyICE9PSAwICYmIHNjcm9sbERpcmVjdGlvbjIgPT09IFVQO1xuICAgICAgICB9KSxcbiAgICAgICAgbWFwKChbW2Ftb3VudF0sICwgLCAsICwgbG9nMl0pID0+IHtcbiAgICAgICAgICBsb2cyKFwiVXB3YXJkIHNjcm9sbGluZyBjb21wZW5zYXRpb25cIiwgeyBhbW91bnQgfSwgTG9nTGV2ZWwuREVCVUcpO1xuICAgICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgICBmdW5jdGlvbiBzY3JvbGxCeVdpdGgob2Zmc2V0KSB7XG4gICAgICBpZiAob2Zmc2V0ID4gMCkge1xuICAgICAgICBwdWJsaXNoKHNjcm9sbEJ5LCB7IHRvcDogLW9mZnNldCwgYmVoYXZpb3I6IFwiYXV0b1wiIH0pO1xuICAgICAgICBwdWJsaXNoKGRldmlhdGlvbiwgMCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwdWJsaXNoKGRldmlhdGlvbiwgMCk7XG4gICAgICAgIHB1Ymxpc2goc2Nyb2xsQnksIHsgdG9wOiAtb2Zmc2V0LCBiZWhhdmlvcjogXCJhdXRvXCIgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHN1YnNjcmliZShwaXBlKGRldmlhdGlvbk9mZnNldCwgd2l0aExhdGVzdEZyb20oZGV2aWF0aW9uLCBpc1Njcm9sbGluZykpLCAoW29mZnNldCwgZGV2aWF0aW9uQW1vdW50LCBpc1Njcm9sbGluZzJdKSA9PiB7XG4gICAgICBpZiAoaXNTY3JvbGxpbmcyICYmIGlzTW9iaWxlU2FmYXJpKCkpIHtcbiAgICAgICAgcHVibGlzaChkZXZpYXRpb24sIGRldmlhdGlvbkFtb3VudCAtIG9mZnNldCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzY3JvbGxCeVdpdGgoLW9mZnNldCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc3Vic2NyaWJlKFxuICAgICAgcGlwZShcbiAgICAgICAgY29tYmluZUxhdGVzdChzdGF0ZWZ1bFN0cmVhbUZyb21FbWl0dGVyKGlzU2Nyb2xsaW5nLCBmYWxzZSksIGRldmlhdGlvbiwgcmVjYWxjSW5Qcm9ncmVzcyksXG4gICAgICAgIGZpbHRlcigoW2lzLCBkZXZpYXRpb24yLCByZWNhbGNdKSA9PiAhaXMgJiYgIXJlY2FsYyAmJiBkZXZpYXRpb24yICE9PSAwKSxcbiAgICAgICAgbWFwKChbXywgZGV2aWF0aW9uMl0pID0+IGRldmlhdGlvbjIpLFxuICAgICAgICB0aHJvdHRsZVRpbWUoMSlcbiAgICAgICksXG4gICAgICBzY3JvbGxCeVdpdGhcbiAgICApO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBzaGlmdFdpdGhPZmZzZXQsXG4gICAgICAgIG1hcCgob2Zmc2V0KSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHsgdG9wOiAtb2Zmc2V0IH07XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgc2Nyb2xsQnlcbiAgICApO1xuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoXG4gICAgICAgIGJlZm9yZVVuc2hpZnRXaXRoLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzaXplcywgZ2FwKSxcbiAgICAgICAgbWFwKChbb2Zmc2V0LCB7IGxhc3RTaXplOiBkZWZhdWx0SXRlbVNpemUsIGdyb3VwSW5kaWNlcywgc2l6ZVRyZWUgfSwgZ2FwMl0pID0+IHtcbiAgICAgICAgICBmdW5jdGlvbiBnZXRJdGVtT2Zmc2V0KGl0ZW1Db3VudCkge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1Db3VudCAqIChkZWZhdWx0SXRlbVNpemUgKyBnYXAyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGdyb3VwSW5kaWNlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBnZXRJdGVtT2Zmc2V0KG9mZnNldCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxldCBhbW91bnQgPSAwO1xuICAgICAgICAgICAgY29uc3QgZGVmYXVsdEdyb3VwU2l6ZSA9IGZpbmQoc2l6ZVRyZWUsIDApO1xuICAgICAgICAgICAgbGV0IHJlY29nbml6ZWRPZmZzZXRJdGVtcyA9IDA7XG4gICAgICAgICAgICBsZXQgZ3JvdXBJbmRleCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAocmVjb2duaXplZE9mZnNldEl0ZW1zIDwgb2Zmc2V0KSB7XG4gICAgICAgICAgICAgIHJlY29nbml6ZWRPZmZzZXRJdGVtcysrO1xuICAgICAgICAgICAgICBhbW91bnQgKz0gZGVmYXVsdEdyb3VwU2l6ZTtcbiAgICAgICAgICAgICAgbGV0IGdyb3VwSXRlbUNvdW50ID0gZ3JvdXBJbmRpY2VzLmxlbmd0aCA9PT0gZ3JvdXBJbmRleCArIDEgPyBJbmZpbml0eSA6IGdyb3VwSW5kaWNlc1tncm91cEluZGV4ICsgMV0gLSBncm91cEluZGljZXNbZ3JvdXBJbmRleF0gLSAxO1xuICAgICAgICAgICAgICBpZiAocmVjb2duaXplZE9mZnNldEl0ZW1zICsgZ3JvdXBJdGVtQ291bnQgPiBvZmZzZXQpIHtcbiAgICAgICAgICAgICAgICBhbW91bnQgLT0gZGVmYXVsdEdyb3VwU2l6ZTtcbiAgICAgICAgICAgICAgICBncm91cEl0ZW1Db3VudCA9IG9mZnNldCAtIHJlY29nbml6ZWRPZmZzZXRJdGVtcyArIDE7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmVjb2duaXplZE9mZnNldEl0ZW1zICs9IGdyb3VwSXRlbUNvdW50O1xuICAgICAgICAgICAgICBhbW91bnQgKz0gZ2V0SXRlbU9mZnNldChncm91cEl0ZW1Db3VudCk7XG4gICAgICAgICAgICAgIGdyb3VwSW5kZXgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhbW91bnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIChvZmZzZXQpID0+IHtcbiAgICAgICAgcHVibGlzaChkZXZpYXRpb24sIG9mZnNldCk7XG4gICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZSgoKSA9PiB7XG4gICAgICAgICAgcHVibGlzaChzY3JvbGxCeSwgeyB0b3A6IG9mZnNldCB9KTtcbiAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgcHVibGlzaChkZXZpYXRpb24sIDApO1xuICAgICAgICAgICAgcHVibGlzaChyZWNhbGNJblByb2dyZXNzLCBmYWxzZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuIHsgZGV2aWF0aW9uIH07XG4gIH0sXG4gIHR1cChkb21JT1N5c3RlbSwgc3RhdGVGbGFnc1N5c3RlbSwgbGlzdFN0YXRlU3lzdGVtLCBzaXplU3lzdGVtLCBsb2dnZXJTeXN0ZW0sIHJlY2FsY1N5c3RlbSlcbik7XG5jb25zdCBpbml0aWFsU2Nyb2xsVG9wU3lzdGVtID0gc3lzdGVtKFxuICAoW3sgZGlkTW91bnQgfSwgeyBzY3JvbGxUbyB9LCB7IGxpc3RTdGF0ZSB9XSkgPT4ge1xuICAgIGNvbnN0IGluaXRpYWxTY3JvbGxUb3AgPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBzdWJzY3JpYmUoXG4gICAgICBwaXBlKFxuICAgICAgICBkaWRNb3VudCxcbiAgICAgICAgd2l0aExhdGVzdEZyb20oaW5pdGlhbFNjcm9sbFRvcCksXG4gICAgICAgIGZpbHRlcigoWywgb2Zmc2V0XSkgPT4gb2Zmc2V0ICE9PSAwKSxcbiAgICAgICAgbWFwKChbLCBvZmZzZXRdKSA9PiAoeyB0b3A6IG9mZnNldCB9KSlcbiAgICAgICksXG4gICAgICAobG9jYXRpb24pID0+IHtcbiAgICAgICAgaGFuZGxlTmV4dChcbiAgICAgICAgICBwaXBlKFxuICAgICAgICAgICAgbGlzdFN0YXRlLFxuICAgICAgICAgICAgc2tpcCgxKSxcbiAgICAgICAgICAgIGZpbHRlcigoc3RhdGUpID0+IHN0YXRlLml0ZW1zLmxlbmd0aCA+IDEpXG4gICAgICAgICAgKSxcbiAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKCkgPT4ge1xuICAgICAgICAgICAgICBwdWJsaXNoKHNjcm9sbFRvLCBsb2NhdGlvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgaW5pdGlhbFNjcm9sbFRvcFxuICAgIH07XG4gIH0sXG4gIHR1cChwcm9wc1JlYWR5U3lzdGVtLCBkb21JT1N5c3RlbSwgbGlzdFN0YXRlU3lzdGVtKSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmNvbnN0IGFsaWduVG9Cb3R0b21TeXN0ZW0gPSBzeXN0ZW0oXG4gIChbeyB2aWV3cG9ydEhlaWdodCB9LCB7IHRvdGFsTGlzdEhlaWdodCB9XSkgPT4ge1xuICAgIGNvbnN0IGFsaWduVG9Cb3R0b20gPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgY29uc3QgcGFkZGluZ1RvcEFkZGl0aW9uID0gc3RhdGVmdWxTdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoYWxpZ25Ub0JvdHRvbSwgdmlld3BvcnRIZWlnaHQsIHRvdGFsTGlzdEhlaWdodCksXG4gICAgICAgIGZpbHRlcigoW2VuYWJsZWRdKSA9PiBlbmFibGVkKSxcbiAgICAgICAgbWFwKChbLCB2aWV3cG9ydEhlaWdodDIsIHRvdGFsTGlzdEhlaWdodDJdKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIHZpZXdwb3J0SGVpZ2h0MiAtIHRvdGFsTGlzdEhlaWdodDIpO1xuICAgICAgICB9KSxcbiAgICAgICAgdGhyb3R0bGVUaW1lKDApLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApLFxuICAgICAgMFxuICAgICk7XG4gICAgcmV0dXJuIHsgYWxpZ25Ub0JvdHRvbSwgcGFkZGluZ1RvcEFkZGl0aW9uIH07XG4gIH0sXG4gIHR1cChkb21JT1N5c3RlbSwgdG90YWxMaXN0SGVpZ2h0U3lzdGVtKSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmNvbnN0IHdpbmRvd1Njcm9sbGVyU3lzdGVtID0gc3lzdGVtKChbeyBzY3JvbGxUbywgc2Nyb2xsQ29udGFpbmVyU3RhdGUgfV0pID0+IHtcbiAgY29uc3Qgd2luZG93U2Nyb2xsQ29udGFpbmVyU3RhdGUgPSBzdHJlYW0oKTtcbiAgY29uc3Qgd2luZG93Vmlld3BvcnRSZWN0ID0gc3RyZWFtKCk7XG4gIGNvbnN0IHdpbmRvd1Njcm9sbFRvID0gc3RyZWFtKCk7XG4gIGNvbnN0IHVzZVdpbmRvd1Njcm9sbCA9IHN0YXRlZnVsU3RyZWFtKGZhbHNlKTtcbiAgY29uc3QgY3VzdG9tU2Nyb2xsUGFyZW50ID0gc3RhdGVmdWxTdHJlYW0odm9pZCAwKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgY29tYmluZUxhdGVzdCh3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSwgd2luZG93Vmlld3BvcnRSZWN0KSxcbiAgICAgIG1hcCgoW3sgdmlld3BvcnRIZWlnaHQsIHNjcm9sbFRvcDogd2luZG93U2Nyb2xsVG9wLCBzY3JvbGxIZWlnaHQgfSwgeyBvZmZzZXRUb3AgfV0pID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzY3JvbGxUb3A6IE1hdGgubWF4KDAsIHdpbmRvd1Njcm9sbFRvcCAtIG9mZnNldFRvcCksXG4gICAgICAgICAgc2Nyb2xsSGVpZ2h0LFxuICAgICAgICAgIHZpZXdwb3J0SGVpZ2h0XG4gICAgICAgIH07XG4gICAgICB9KVxuICAgICksXG4gICAgc2Nyb2xsQ29udGFpbmVyU3RhdGVcbiAgKTtcbiAgY29ubmVjdChcbiAgICBwaXBlKFxuICAgICAgc2Nyb2xsVG8sXG4gICAgICB3aXRoTGF0ZXN0RnJvbSh3aW5kb3dWaWV3cG9ydFJlY3QpLFxuICAgICAgbWFwKChbc2Nyb2xsVG8yLCB7IG9mZnNldFRvcCB9XSkgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIC4uLnNjcm9sbFRvMixcbiAgICAgICAgICB0b3A6IHNjcm9sbFRvMi50b3AgKyBvZmZzZXRUb3BcbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgKSxcbiAgICB3aW5kb3dTY3JvbGxUb1xuICApO1xuICByZXR1cm4ge1xuICAgIC8vIGNvbmZpZ1xuICAgIHVzZVdpbmRvd1Njcm9sbCxcbiAgICBjdXN0b21TY3JvbGxQYXJlbnQsXG4gICAgLy8gaW5wdXRcbiAgICB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSxcbiAgICB3aW5kb3dWaWV3cG9ydFJlY3QsXG4gICAgLy8gc2lnbmFsc1xuICAgIHdpbmRvd1Njcm9sbFRvXG4gIH07XG59LCB0dXAoZG9tSU9TeXN0ZW0pKTtcbmNvbnN0IGRlZmF1bHRDYWxjdWxhdGVWaWV3TG9jYXRpb24gPSAoe1xuICBpdGVtVG9wOiBpdGVtVG9wMixcbiAgaXRlbUJvdHRvbSxcbiAgdmlld3BvcnRUb3AsXG4gIHZpZXdwb3J0Qm90dG9tLFxuICBsb2NhdGlvblBhcmFtczogeyBiZWhhdmlvciwgYWxpZ24sIC4uLnJlc3QgfVxufSkgPT4ge1xuICBpZiAoaXRlbVRvcDIgPCB2aWV3cG9ydFRvcCkge1xuICAgIHJldHVybiB7IC4uLnJlc3QsIGJlaGF2aW9yLCBhbGlnbjogYWxpZ24gIT0gbnVsbCA/IGFsaWduIDogXCJzdGFydFwiIH07XG4gIH1cbiAgaWYgKGl0ZW1Cb3R0b20gPiB2aWV3cG9ydEJvdHRvbSkge1xuICAgIHJldHVybiB7IC4uLnJlc3QsIGJlaGF2aW9yLCBhbGlnbjogYWxpZ24gIT0gbnVsbCA/IGFsaWduIDogXCJlbmRcIiB9O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbmNvbnN0IHNjcm9sbEludG9WaWV3U3lzdGVtID0gc3lzdGVtKFxuICAoW1xuICAgIHsgc2l6ZXMsIHRvdGFsQ291bnQsIGdhcCB9LFxuICAgIHsgc2Nyb2xsVG9wLCB2aWV3cG9ydEhlaWdodCwgaGVhZGVySGVpZ2h0LCBmaXhlZEhlYWRlckhlaWdodCwgZml4ZWRGb290ZXJIZWlnaHQsIHNjcm9sbGluZ0luUHJvZ3Jlc3MgfSxcbiAgICB7IHNjcm9sbFRvSW5kZXggfVxuICBdKSA9PiB7XG4gICAgY29uc3Qgc2Nyb2xsSW50b1ZpZXcgPSBzdHJlYW0oKTtcbiAgICBjb25uZWN0KFxuICAgICAgcGlwZShcbiAgICAgICAgc2Nyb2xsSW50b1ZpZXcsXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHNpemVzLCB2aWV3cG9ydEhlaWdodCwgdG90YWxDb3VudCwgaGVhZGVySGVpZ2h0LCBmaXhlZEhlYWRlckhlaWdodCwgZml4ZWRGb290ZXJIZWlnaHQsIHNjcm9sbFRvcCksXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKGdhcCksXG4gICAgICAgIG1hcCgoW1t2aWV3TG9jYXRpb24sIHNpemVzMiwgdmlld3BvcnRIZWlnaHQyLCB0b3RhbENvdW50MiwgaGVhZGVySGVpZ2h0MiwgZml4ZWRIZWFkZXJIZWlnaHQyLCBmaXhlZEZvb3RlckhlaWdodDIsIHNjcm9sbFRvcDJdLCBnYXAyXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgZG9uZSwgYmVoYXZpb3IsIGFsaWduLCBjYWxjdWxhdGVWaWV3TG9jYXRpb24gPSBkZWZhdWx0Q2FsY3VsYXRlVmlld0xvY2F0aW9uLCAuLi5yZXN0IH0gPSB2aWV3TG9jYXRpb247XG4gICAgICAgICAgY29uc3QgYWN0dWFsSW5kZXggPSBvcmlnaW5hbEluZGV4RnJvbUxvY2F0aW9uKHZpZXdMb2NhdGlvbiwgc2l6ZXMyLCB0b3RhbENvdW50MiAtIDEpO1xuICAgICAgICAgIGNvbnN0IGl0ZW1Ub3AyID0gb2Zmc2V0T2YoYWN0dWFsSW5kZXgsIHNpemVzMi5vZmZzZXRUcmVlLCBnYXAyKSArIGhlYWRlckhlaWdodDIgKyBmaXhlZEhlYWRlckhlaWdodDI7XG4gICAgICAgICAgY29uc3QgaXRlbUJvdHRvbSA9IGl0ZW1Ub3AyICsgZmluZE1heEtleVZhbHVlKHNpemVzMi5zaXplVHJlZSwgYWN0dWFsSW5kZXgpWzFdO1xuICAgICAgICAgIGNvbnN0IHZpZXdwb3J0VG9wID0gc2Nyb2xsVG9wMiArIGZpeGVkSGVhZGVySGVpZ2h0MjtcbiAgICAgICAgICBjb25zdCB2aWV3cG9ydEJvdHRvbSA9IHNjcm9sbFRvcDIgKyB2aWV3cG9ydEhlaWdodDIgLSBmaXhlZEZvb3RlckhlaWdodDI7XG4gICAgICAgICAgY29uc3QgbG9jYXRpb24gPSBjYWxjdWxhdGVWaWV3TG9jYXRpb24oe1xuICAgICAgICAgICAgaXRlbVRvcDogaXRlbVRvcDIsXG4gICAgICAgICAgICBpdGVtQm90dG9tLFxuICAgICAgICAgICAgdmlld3BvcnRUb3AsXG4gICAgICAgICAgICB2aWV3cG9ydEJvdHRvbSxcbiAgICAgICAgICAgIGxvY2F0aW9uUGFyYW1zOiB7IGJlaGF2aW9yLCBhbGlnbiwgLi4ucmVzdCB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKGxvY2F0aW9uKSB7XG4gICAgICAgICAgICBkb25lICYmIGhhbmRsZU5leHQoXG4gICAgICAgICAgICAgIHBpcGUoXG4gICAgICAgICAgICAgICAgc2Nyb2xsaW5nSW5Qcm9ncmVzcyxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSA9PT0gZmFsc2UpLFxuICAgICAgICAgICAgICAgIC8vIHNraXBzIHRoZSBpbml0aWFsIHB1Ymxpc2ggb2YgZmFsc2UsIGFuZCB0aGUgY2xlYW51cCBjYWxsLlxuICAgICAgICAgICAgICAgIC8vIGJ1dCBpZiBzY3JvbGxpbmdJblByb2dyZXNzIGlzIHRydWUsIHdlIHNraXAgdGhlIGluaXRpYWwgcHVibGlzaC5cbiAgICAgICAgICAgICAgICBza2lwKGdldFZhbHVlKHNjcm9sbGluZ0luUHJvZ3Jlc3MpID8gMSA6IDIpXG4gICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgIGRvbmVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvbmUgJiYgZG9uZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbG9jYXRpb247XG4gICAgICAgIH0pLFxuICAgICAgICBmaWx0ZXIoKHZhbHVlKSA9PiB2YWx1ZSAhPT0gbnVsbClcbiAgICAgICksXG4gICAgICBzY3JvbGxUb0luZGV4XG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgc2Nyb2xsSW50b1ZpZXdcbiAgICB9O1xuICB9LFxuICB0dXAoc2l6ZVN5c3RlbSwgZG9tSU9TeXN0ZW0sIHNjcm9sbFRvSW5kZXhTeXN0ZW0sIGxpc3RTdGF0ZVN5c3RlbSwgbG9nZ2VyU3lzdGVtKSxcbiAgeyBzaW5nbGV0b246IHRydWUgfVxuKTtcbmNvbnN0IHN0YXRlTG9hZFN5c3RlbSA9IHN5c3RlbShcbiAgKFtcbiAgICB7IHNpemVzLCBzaXplUmFuZ2VzIH0sXG4gICAgeyBzY3JvbGxUb3AgfSxcbiAgICB7IGluaXRpYWxUb3BNb3N0SXRlbUluZGV4IH0sXG4gICAgeyBkaWRNb3VudCB9LFxuICAgIHsgdXNlV2luZG93U2Nyb2xsLCB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSwgd2luZG93Vmlld3BvcnRSZWN0IH1cbiAgXSkgPT4ge1xuICAgIGNvbnN0IGdldFN0YXRlID0gc3RyZWFtKCk7XG4gICAgY29uc3QgcmVzdG9yZVN0YXRlRnJvbSA9IHN0YXRlZnVsU3RyZWFtKHZvaWQgMCk7XG4gICAgY29uc3Qgc3RhdGVmdWxXaW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSA9IHN0YXRlZnVsU3RyZWFtKG51bGwpO1xuICAgIGNvbnN0IHN0YXRlZnVsV2luZG93Vmlld3BvcnRSZWN0ID0gc3RhdGVmdWxTdHJlYW0obnVsbCk7XG4gICAgY29ubmVjdCh3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSwgc3RhdGVmdWxXaW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSk7XG4gICAgY29ubmVjdCh3aW5kb3dWaWV3cG9ydFJlY3QsIHN0YXRlZnVsV2luZG93Vmlld3BvcnRSZWN0KTtcbiAgICBzdWJzY3JpYmUoXG4gICAgICBwaXBlKGdldFN0YXRlLCB3aXRoTGF0ZXN0RnJvbShzaXplcywgc2Nyb2xsVG9wLCB1c2VXaW5kb3dTY3JvbGwsIHN0YXRlZnVsV2luZG93U2Nyb2xsQ29udGFpbmVyU3RhdGUsIHN0YXRlZnVsV2luZG93Vmlld3BvcnRSZWN0KSksXG4gICAgICAoW2NhbGxiYWNrLCBzaXplczIsIHNjcm9sbFRvcDIsIHVzZVdpbmRvd1Njcm9sbDIsIHdpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlMiwgd2luZG93Vmlld3BvcnRSZWN0Ml0pID0+IHtcbiAgICAgICAgY29uc3QgcmFuZ2VzID0gc2l6ZVRyZWVUb1JhbmdlcyhzaXplczIuc2l6ZVRyZWUpO1xuICAgICAgICBpZiAodXNlV2luZG93U2Nyb2xsMiAmJiB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZTIgIT09IG51bGwgJiYgd2luZG93Vmlld3BvcnRSZWN0MiAhPT0gbnVsbCkge1xuICAgICAgICAgIHNjcm9sbFRvcDIgPSB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZTIuc2Nyb2xsVG9wIC0gd2luZG93Vmlld3BvcnRSZWN0Mi5vZmZzZXRUb3A7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2soeyByYW5nZXMsIHNjcm9sbFRvcDogc2Nyb2xsVG9wMiB9KTtcbiAgICAgIH1cbiAgICApO1xuICAgIGNvbm5lY3QocGlwZShyZXN0b3JlU3RhdGVGcm9tLCBmaWx0ZXIoaXNEZWZpbmVkKSwgbWFwKGxvY2F0aW9uRnJvbVNuYXBzaG90KSksIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4KTtcbiAgICBjb25uZWN0KFxuICAgICAgcGlwZShcbiAgICAgICAgZGlkTW91bnQsXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHJlc3RvcmVTdGF0ZUZyb20pLFxuICAgICAgICBmaWx0ZXIoKFssIHN0YXRlXSkgPT4gc3RhdGUgIT09IHZvaWQgMCksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKCksXG4gICAgICAgIG1hcCgoWywgc25hcHNob3RdKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHNuYXBzaG90LnJhbmdlcztcbiAgICAgICAgfSlcbiAgICAgICksXG4gICAgICBzaXplUmFuZ2VzXG4gICAgKTtcbiAgICByZXR1cm4ge1xuICAgICAgZ2V0U3RhdGUsXG4gICAgICByZXN0b3JlU3RhdGVGcm9tXG4gICAgfTtcbiAgfSxcbiAgdHVwKHNpemVTeXN0ZW0sIGRvbUlPU3lzdGVtLCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleFN5c3RlbSwgcHJvcHNSZWFkeVN5c3RlbSwgd2luZG93U2Nyb2xsZXJTeXN0ZW0pXG4pO1xuZnVuY3Rpb24gbG9jYXRpb25Gcm9tU25hcHNob3Qoc25hcHNob3QpIHtcbiAgcmV0dXJuIHsgb2Zmc2V0OiBzbmFwc2hvdC5zY3JvbGxUb3AsIGluZGV4OiAwLCBhbGlnbjogXCJzdGFydFwiIH07XG59XG5jb25zdCBmZWF0dXJlR3JvdXAxU3lzdGVtID0gc3lzdGVtKFxuICAoW1xuICAgIHNpemVSYW5nZSxcbiAgICBpbml0aWFsSXRlbUNvdW50LFxuICAgIHByb3BzUmVhZHksXG4gICAgc2Nyb2xsU2VlayxcbiAgICB0b3RhbExpc3RIZWlnaHQsXG4gICAgaW5pdGlhbFNjcm9sbFRvcFN5c3RlbTIsXG4gICAgYWxpZ25Ub0JvdHRvbSxcbiAgICB3aW5kb3dTY3JvbGxlcixcbiAgICBzY3JvbGxJbnRvVmlldyxcbiAgICBsb2dnZXJcbiAgXSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5zaXplUmFuZ2UsXG4gICAgICAuLi5pbml0aWFsSXRlbUNvdW50LFxuICAgICAgLi4ucHJvcHNSZWFkeSxcbiAgICAgIC4uLnNjcm9sbFNlZWssXG4gICAgICAuLi50b3RhbExpc3RIZWlnaHQsXG4gICAgICAuLi5pbml0aWFsU2Nyb2xsVG9wU3lzdGVtMixcbiAgICAgIC4uLmFsaWduVG9Cb3R0b20sXG4gICAgICAuLi53aW5kb3dTY3JvbGxlcixcbiAgICAgIC4uLnNjcm9sbEludG9WaWV3LFxuICAgICAgLi4ubG9nZ2VyXG4gICAgfTtcbiAgfSxcbiAgdHVwKFxuICAgIHNpemVSYW5nZVN5c3RlbSxcbiAgICBpbml0aWFsSXRlbUNvdW50U3lzdGVtLFxuICAgIHByb3BzUmVhZHlTeXN0ZW0sXG4gICAgc2Nyb2xsU2Vla1N5c3RlbSxcbiAgICB0b3RhbExpc3RIZWlnaHRTeXN0ZW0sXG4gICAgaW5pdGlhbFNjcm9sbFRvcFN5c3RlbSxcbiAgICBhbGlnblRvQm90dG9tU3lzdGVtLFxuICAgIHdpbmRvd1Njcm9sbGVyU3lzdGVtLFxuICAgIHNjcm9sbEludG9WaWV3U3lzdGVtLFxuICAgIGxvZ2dlclN5c3RlbVxuICApXG4pO1xuY29uc3QgbGlzdFN5c3RlbSA9IHN5c3RlbShcbiAgKFtcbiAgICB7XG4gICAgICB0b3RhbENvdW50LFxuICAgICAgc2l6ZVJhbmdlcyxcbiAgICAgIGZpeGVkSXRlbVNpemUsXG4gICAgICBkZWZhdWx0SXRlbVNpemUsXG4gICAgICB0cmFja0l0ZW1TaXplcyxcbiAgICAgIGl0ZW1TaXplLFxuICAgICAgZGF0YSxcbiAgICAgIGZpcnN0SXRlbUluZGV4LFxuICAgICAgZ3JvdXBJbmRpY2VzLFxuICAgICAgc3RhdGVmdWxUb3RhbENvdW50LFxuICAgICAgZ2FwLFxuICAgICAgc2l6ZXNcbiAgICB9LFxuICAgIHsgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgsIHNjcm9sbGVkVG9Jbml0aWFsSXRlbSwgaW5pdGlhbEl0ZW1GaW5hbExvY2F0aW9uUmVhY2hlZCB9LFxuICAgIGRvbUlPLFxuICAgIHN0YXRlTG9hZCxcbiAgICBmb2xsb3dPdXRwdXQsXG4gICAgeyBsaXN0U3RhdGUsIHRvcEl0ZW1zSW5kZXhlcywgLi4uZmxhZ3MgfSxcbiAgICB7IHNjcm9sbFRvSW5kZXggfSxcbiAgICBfLFxuICAgIHsgdG9wSXRlbUNvdW50IH0sXG4gICAgeyBncm91cENvdW50cyB9LFxuICAgIGZlYXR1cmVHcm91cDFcbiAgXSkgPT4ge1xuICAgIGNvbm5lY3QoZmxhZ3MucmFuZ2VDaGFuZ2VkLCBmZWF0dXJlR3JvdXAxLnNjcm9sbFNlZWtSYW5nZUNoYW5nZWQpO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBmZWF0dXJlR3JvdXAxLndpbmRvd1ZpZXdwb3J0UmVjdCxcbiAgICAgICAgbWFwKCh2YWx1ZSkgPT4gdmFsdWUudmlzaWJsZUhlaWdodClcbiAgICAgICksXG4gICAgICBkb21JTy52aWV3cG9ydEhlaWdodFxuICAgICk7XG4gICAgcmV0dXJuIHtcbiAgICAgIC8vIGlucHV0XG4gICAgICB0b3RhbENvdW50LFxuICAgICAgZGF0YSxcbiAgICAgIGZpcnN0SXRlbUluZGV4LFxuICAgICAgc2l6ZVJhbmdlcyxcbiAgICAgIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4LFxuICAgICAgc2Nyb2xsZWRUb0luaXRpYWxJdGVtLFxuICAgICAgaW5pdGlhbEl0ZW1GaW5hbExvY2F0aW9uUmVhY2hlZCxcbiAgICAgIHRvcEl0ZW1zSW5kZXhlcyxcbiAgICAgIHRvcEl0ZW1Db3VudCxcbiAgICAgIGdyb3VwQ291bnRzLFxuICAgICAgZml4ZWRJdGVtSGVpZ2h0OiBmaXhlZEl0ZW1TaXplLFxuICAgICAgZGVmYXVsdEl0ZW1IZWlnaHQ6IGRlZmF1bHRJdGVtU2l6ZSxcbiAgICAgIGdhcCxcbiAgICAgIC4uLmZvbGxvd091dHB1dCxcbiAgICAgIC8vIG91dHB1dFxuICAgICAgc3RhdGVmdWxUb3RhbENvdW50LFxuICAgICAgbGlzdFN0YXRlLFxuICAgICAgc2Nyb2xsVG9JbmRleCxcbiAgICAgIHRyYWNrSXRlbVNpemVzLFxuICAgICAgaXRlbVNpemUsXG4gICAgICBncm91cEluZGljZXMsXG4gICAgICAvLyBleHBvcnRlZCBmcm9tIHN0YXRlRmxhZ3NTeXN0ZW1cbiAgICAgIC4uLmZsYWdzLFxuICAgICAgLy8gdGhlIGJhZyBvZiBJTyBmcm9tIGZlYXR1cmVHcm91cDFTeXN0ZW1cbiAgICAgIC4uLmZlYXR1cmVHcm91cDEsXG4gICAgICAuLi5kb21JTyxcbiAgICAgIHNpemVzLFxuICAgICAgLi4uc3RhdGVMb2FkXG4gICAgfTtcbiAgfSxcbiAgdHVwKFxuICAgIHNpemVTeXN0ZW0sXG4gICAgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXhTeXN0ZW0sXG4gICAgZG9tSU9TeXN0ZW0sXG4gICAgc3RhdGVMb2FkU3lzdGVtLFxuICAgIGZvbGxvd091dHB1dFN5c3RlbSxcbiAgICBsaXN0U3RhdGVTeXN0ZW0sXG4gICAgc2Nyb2xsVG9JbmRleFN5c3RlbSxcbiAgICB1cHdhcmRTY3JvbGxGaXhTeXN0ZW0sXG4gICAgdG9wSXRlbUNvdW50U3lzdGVtLFxuICAgIGdyb3VwZWRMaXN0U3lzdGVtLFxuICAgIGZlYXR1cmVHcm91cDFTeXN0ZW1cbiAgKVxuKTtcbmNvbnN0IFdFQktJVF9TVElDS1kgPSBcIi13ZWJraXQtc3RpY2t5XCI7XG5jb25zdCBTVElDS1kgPSBcInN0aWNreVwiO1xuY29uc3QgcG9zaXRpb25TdGlja3lDc3NWYWx1ZSA9IHNpbXBsZU1lbW9pemUoKCkgPT4ge1xuICBpZiAodHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgcmV0dXJuIFNUSUNLWTtcbiAgfVxuICBjb25zdCBub2RlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgbm9kZS5zdHlsZS5wb3NpdGlvbiA9IFdFQktJVF9TVElDS1k7XG4gIHJldHVybiBub2RlLnN0eWxlLnBvc2l0aW9uID09PSBXRUJLSVRfU1RJQ0tZID8gV0VCS0lUX1NUSUNLWSA6IFNUSUNLWTtcbn0pO1xuZnVuY3Rpb24gdXNlV2luZG93Vmlld3BvcnRSZWN0UmVmKGNhbGxiYWNrLCBjdXN0b21TY3JvbGxQYXJlbnQpIHtcbiAgY29uc3Qgdmlld3BvcnRJbmZvID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICBjb25zdCBjYWxjdWxhdGVJbmZvID0gUmVhY3QudXNlQ2FsbGJhY2soXG4gICAgKGVsZW1lbnQpID0+IHtcbiAgICAgIGlmIChlbGVtZW50ID09PSBudWxsIHx8ICFlbGVtZW50Lm9mZnNldFBhcmVudCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIGNvbnN0IHZpc2libGVXaWR0aCA9IHJlY3Qud2lkdGg7XG4gICAgICBsZXQgdmlzaWJsZUhlaWdodCwgb2Zmc2V0VG9wO1xuICAgICAgaWYgKGN1c3RvbVNjcm9sbFBhcmVudCkge1xuICAgICAgICBjb25zdCBjdXN0b21TY3JvbGxQYXJlbnRSZWN0ID0gY3VzdG9tU2Nyb2xsUGFyZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBkZWx0YVRvcCA9IHJlY3QudG9wIC0gY3VzdG9tU2Nyb2xsUGFyZW50UmVjdC50b3A7XG4gICAgICAgIHZpc2libGVIZWlnaHQgPSBjdXN0b21TY3JvbGxQYXJlbnRSZWN0LmhlaWdodCAtIE1hdGgubWF4KDAsIGRlbHRhVG9wKTtcbiAgICAgICAgb2Zmc2V0VG9wID0gZGVsdGFUb3AgKyBjdXN0b21TY3JvbGxQYXJlbnQuc2Nyb2xsVG9wO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmlzaWJsZUhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodCAtIE1hdGgubWF4KDAsIHJlY3QudG9wKTtcbiAgICAgICAgb2Zmc2V0VG9wID0gcmVjdC50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQ7XG4gICAgICB9XG4gICAgICB2aWV3cG9ydEluZm8uY3VycmVudCA9IHtcbiAgICAgICAgb2Zmc2V0VG9wLFxuICAgICAgICB2aXNpYmxlSGVpZ2h0LFxuICAgICAgICB2aXNpYmxlV2lkdGhcbiAgICAgIH07XG4gICAgICBjYWxsYmFjayh2aWV3cG9ydEluZm8uY3VycmVudCk7XG4gICAgfSxcbiAgICBbY2FsbGJhY2ssIGN1c3RvbVNjcm9sbFBhcmVudF1cbiAgKTtcbiAgY29uc3QgeyBjYWxsYmFja1JlZiwgcmVmIH0gPSB1c2VTaXplV2l0aEVsUmVmKGNhbGN1bGF0ZUluZm8pO1xuICBjb25zdCBzY3JvbGxBbmRSZXNpemVFdmVudEhhbmRsZXIgPSBSZWFjdC51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgY2FsY3VsYXRlSW5mbyhyZWYuY3VycmVudCk7XG4gIH0sIFtjYWxjdWxhdGVJbmZvLCByZWZdKTtcbiAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICBpZiAoY3VzdG9tU2Nyb2xsUGFyZW50KSB7XG4gICAgICBjdXN0b21TY3JvbGxQYXJlbnQuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxBbmRSZXNpemVFdmVudEhhbmRsZXIpO1xuICAgICAgY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgUmVzaXplT2JzZXJ2ZXIoKCkgPT4ge1xuICAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoc2Nyb2xsQW5kUmVzaXplRXZlbnRIYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgICAgb2JzZXJ2ZXIub2JzZXJ2ZShjdXN0b21TY3JvbGxQYXJlbnQpO1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgY3VzdG9tU2Nyb2xsUGFyZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgc2Nyb2xsQW5kUmVzaXplRXZlbnRIYW5kbGVyKTtcbiAgICAgICAgb2JzZXJ2ZXIudW5vYnNlcnZlKGN1c3RvbVNjcm9sbFBhcmVudCk7XG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBzY3JvbGxBbmRSZXNpemVFdmVudEhhbmRsZXIpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgc2Nyb2xsQW5kUmVzaXplRXZlbnRIYW5kbGVyKTtcbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHNjcm9sbEFuZFJlc2l6ZUV2ZW50SGFuZGxlcik7XG4gICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsIHNjcm9sbEFuZFJlc2l6ZUV2ZW50SGFuZGxlcik7XG4gICAgICB9O1xuICAgIH1cbiAgfSwgW3Njcm9sbEFuZFJlc2l6ZUV2ZW50SGFuZGxlciwgY3VzdG9tU2Nyb2xsUGFyZW50XSk7XG4gIHJldHVybiBjYWxsYmFja1JlZjtcbn1cbmNvbnN0IFZpcnR1b3NvTW9ja0NvbnRleHQgPSBSZWFjdC5jcmVhdGVDb250ZXh0KHZvaWQgMCk7XG5jb25zdCBWaXJ0dW9zb0dyaWRNb2NrQ29udGV4dCA9IFJlYWN0LmNyZWF0ZUNvbnRleHQodm9pZCAwKTtcbmZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZTtcbn1cbmNvbnN0IGxpc3RDb21wb25lbnRQcm9wc1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW0oKCkgPT4ge1xuICBjb25zdCBpdGVtQ29udGVudCA9IHN0YXRlZnVsU3RyZWFtKChpbmRleCkgPT4gYEl0ZW0gJHtpbmRleH1gKTtcbiAgY29uc3QgY29udGV4dCA9IHN0YXRlZnVsU3RyZWFtKG51bGwpO1xuICBjb25zdCBncm91cENvbnRlbnQgPSBzdGF0ZWZ1bFN0cmVhbSgoaW5kZXgpID0+IGBHcm91cCAke2luZGV4fWApO1xuICBjb25zdCBjb21wb25lbnRzID0gc3RhdGVmdWxTdHJlYW0oe30pO1xuICBjb25zdCBjb21wdXRlSXRlbUtleSA9IHN0YXRlZnVsU3RyZWFtKGlkZW50aXR5KTtcbiAgY29uc3QgaGVhZGVyRm9vdGVyVGFnID0gc3RhdGVmdWxTdHJlYW0oXCJkaXZcIik7XG4gIGNvbnN0IHNjcm9sbGVyUmVmID0gc3RhdGVmdWxTdHJlYW0obm9vcCk7XG4gIGNvbnN0IGRpc3RpbmN0UHJvcCA9IChwcm9wTmFtZSwgZGVmYXVsdFZhbHVlID0gbnVsbCkgPT4ge1xuICAgIHJldHVybiBzdGF0ZWZ1bFN0cmVhbUZyb21FbWl0dGVyKFxuICAgICAgcGlwZShcbiAgICAgICAgY29tcG9uZW50cyxcbiAgICAgICAgbWFwKChjb21wb25lbnRzMikgPT4gY29tcG9uZW50czJbcHJvcE5hbWVdKSxcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICAgKSxcbiAgICAgIGRlZmF1bHRWYWx1ZVxuICAgICk7XG4gIH07XG4gIHJldHVybiB7XG4gICAgY29udGV4dCxcbiAgICBpdGVtQ29udGVudCxcbiAgICBncm91cENvbnRlbnQsXG4gICAgY29tcG9uZW50cyxcbiAgICBjb21wdXRlSXRlbUtleSxcbiAgICBoZWFkZXJGb290ZXJUYWcsXG4gICAgc2Nyb2xsZXJSZWYsXG4gICAgRm9vdGVyQ29tcG9uZW50OiBkaXN0aW5jdFByb3AoXCJGb290ZXJcIiksXG4gICAgSGVhZGVyQ29tcG9uZW50OiBkaXN0aW5jdFByb3AoXCJIZWFkZXJcIiksXG4gICAgVG9wSXRlbUxpc3RDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIlRvcEl0ZW1MaXN0XCIpLFxuICAgIExpc3RDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIkxpc3RcIiwgXCJkaXZcIiksXG4gICAgSXRlbUNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiSXRlbVwiLCBcImRpdlwiKSxcbiAgICBHcm91cENvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiR3JvdXBcIiwgXCJkaXZcIiksXG4gICAgU2Nyb2xsZXJDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIlNjcm9sbGVyXCIsIFwiZGl2XCIpLFxuICAgIEVtcHR5UGxhY2Vob2xkZXI6IGRpc3RpbmN0UHJvcChcIkVtcHR5UGxhY2Vob2xkZXJcIiksXG4gICAgU2Nyb2xsU2Vla1BsYWNlaG9sZGVyOiBkaXN0aW5jdFByb3AoXCJTY3JvbGxTZWVrUGxhY2Vob2xkZXJcIilcbiAgfTtcbn0pO1xuY29uc3QgY29tYmluZWRTeXN0ZW0kMiA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW0oKFtsaXN0U3lzdGVtMiwgcHJvcHNTeXN0ZW1dKSA9PiB7XG4gIHJldHVybiB7IC4uLmxpc3RTeXN0ZW0yLCAuLi5wcm9wc1N5c3RlbSB9O1xufSwgdHVwKGxpc3RTeXN0ZW0sIGxpc3RDb21wb25lbnRQcm9wc1N5c3RlbSkpO1xuY29uc3QgRGVmYXVsdFNjcm9sbFNlZWtQbGFjZWhvbGRlciQxID0gKHsgaGVpZ2h0IH0pID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgc3R5bGU6IHsgaGVpZ2h0IH0gfSk7XG5jb25zdCBHUk9VUF9TVFlMRSA9IHsgcG9zaXRpb246IHBvc2l0aW9uU3RpY2t5Q3NzVmFsdWUoKSwgekluZGV4OiAxLCBvdmVyZmxvd0FuY2hvcjogXCJub25lXCIgfTtcbmNvbnN0IElURU1fU1RZTEUkMSA9IHsgb3ZlcmZsb3dBbmNob3I6IFwibm9uZVwiIH07XG5jb25zdCBJdGVtcyQxID0gLyogQF9fUFVSRV9fICovIFJlYWN0Lm1lbW8oZnVuY3Rpb24gVmlydHVvc29JdGVtcyh7IHNob3dUb3BMaXN0ID0gZmFsc2UgfSkge1xuICBjb25zdCBsaXN0U3RhdGUgPSB1c2VFbWl0dGVyVmFsdWUkMihcImxpc3RTdGF0ZVwiKTtcbiAgY29uc3Qgc2l6ZVJhbmdlcyA9IHVzZVB1Ymxpc2hlciQyKFwic2l6ZVJhbmdlc1wiKTtcbiAgY29uc3QgdXNlV2luZG93U2Nyb2xsID0gdXNlRW1pdHRlclZhbHVlJDIoXCJ1c2VXaW5kb3dTY3JvbGxcIik7XG4gIGNvbnN0IGN1c3RvbVNjcm9sbFBhcmVudCA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiY3VzdG9tU2Nyb2xsUGFyZW50XCIpO1xuICBjb25zdCB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrID0gdXNlUHVibGlzaGVyJDIoXCJ3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZVwiKTtcbiAgY29uc3QgX3Njcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2sgPSB1c2VQdWJsaXNoZXIkMihcInNjcm9sbENvbnRhaW5lclN0YXRlXCIpO1xuICBjb25zdCBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrID0gY3VzdG9tU2Nyb2xsUGFyZW50IHx8IHVzZVdpbmRvd1Njcm9sbCA/IHdpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2sgOiBfc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjaztcbiAgY29uc3QgaXRlbUNvbnRlbnQgPSB1c2VFbWl0dGVyVmFsdWUkMihcIml0ZW1Db250ZW50XCIpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRW1pdHRlclZhbHVlJDIoXCJjb250ZXh0XCIpO1xuICBjb25zdCBncm91cENvbnRlbnQgPSB1c2VFbWl0dGVyVmFsdWUkMihcImdyb3VwQ29udGVudFwiKTtcbiAgY29uc3QgdHJhY2tJdGVtU2l6ZXMgPSB1c2VFbWl0dGVyVmFsdWUkMihcInRyYWNrSXRlbVNpemVzXCIpO1xuICBjb25zdCBpdGVtU2l6ZSA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiaXRlbVNpemVcIik7XG4gIGNvbnN0IGxvZyA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwibG9nXCIpO1xuICBjb25zdCBsaXN0R2FwID0gdXNlUHVibGlzaGVyJDIoXCJnYXBcIik7XG4gIGNvbnN0IHsgY2FsbGJhY2tSZWYgfSA9IHVzZUNoYW5nZWRMaXN0Q29udGVudHNTaXplcyhcbiAgICBzaXplUmFuZ2VzLFxuICAgIGl0ZW1TaXplLFxuICAgIHRyYWNrSXRlbVNpemVzLFxuICAgIHNob3dUb3BMaXN0ID8gbm9vcCA6IHNjcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2ssXG4gICAgbG9nLFxuICAgIGxpc3RHYXAsXG4gICAgY3VzdG9tU2Nyb2xsUGFyZW50XG4gICk7XG4gIGNvbnN0IFtkZXZpYXRpb24sIHNldERldmlhdGlvbl0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgdXNlRW1pdHRlciQyKFwiZGV2aWF0aW9uXCIsICh2YWx1ZSkgPT4ge1xuICAgIGlmIChkZXZpYXRpb24gIT09IHZhbHVlKSB7XG4gICAgICBzZXREZXZpYXRpb24odmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IEVtcHR5UGxhY2Vob2xkZXIgPSB1c2VFbWl0dGVyVmFsdWUkMihcIkVtcHR5UGxhY2Vob2xkZXJcIik7XG4gIGNvbnN0IFNjcm9sbFNlZWtQbGFjZWhvbGRlciA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiU2Nyb2xsU2Vla1BsYWNlaG9sZGVyXCIpIHx8IERlZmF1bHRTY3JvbGxTZWVrUGxhY2Vob2xkZXIkMTtcbiAgY29uc3QgTGlzdENvbXBvbmVudCA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiTGlzdENvbXBvbmVudFwiKTtcbiAgY29uc3QgSXRlbUNvbXBvbmVudCA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiSXRlbUNvbXBvbmVudFwiKTtcbiAgY29uc3QgR3JvdXBDb21wb25lbnQgPSB1c2VFbWl0dGVyVmFsdWUkMihcIkdyb3VwQ29tcG9uZW50XCIpO1xuICBjb25zdCBjb21wdXRlSXRlbUtleSA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiY29tcHV0ZUl0ZW1LZXlcIik7XG4gIGNvbnN0IGlzU2Vla2luZyA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiaXNTZWVraW5nXCIpO1xuICBjb25zdCBoYXNHcm91cHMyID0gdXNlRW1pdHRlclZhbHVlJDIoXCJncm91cEluZGljZXNcIikubGVuZ3RoID4gMDtcbiAgY29uc3QgYWxpZ25Ub0JvdHRvbSA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiYWxpZ25Ub0JvdHRvbVwiKTtcbiAgY29uc3QgaW5pdGlhbEl0ZW1GaW5hbExvY2F0aW9uUmVhY2hlZCA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiaW5pdGlhbEl0ZW1GaW5hbExvY2F0aW9uUmVhY2hlZFwiKTtcbiAgY29uc3QgY29udGFpbmVyU3R5bGUgPSBzaG93VG9wTGlzdCA/IHt9IDoge1xuICAgIGJveFNpemluZzogXCJib3JkZXItYm94XCIsXG4gICAgcGFkZGluZ1RvcDogbGlzdFN0YXRlLm9mZnNldFRvcCxcbiAgICBwYWRkaW5nQm90dG9tOiBsaXN0U3RhdGUub2Zmc2V0Qm90dG9tLFxuICAgIG1hcmdpblRvcDogZGV2aWF0aW9uICE9PSAwID8gZGV2aWF0aW9uIDogYWxpZ25Ub0JvdHRvbSA/IFwiYXV0b1wiIDogMCxcbiAgICAuLi5pbml0aWFsSXRlbUZpbmFsTG9jYXRpb25SZWFjaGVkID8ge30gOiB7IHZpc2liaWxpdHk6IFwiaGlkZGVuXCIgfVxuICB9O1xuICBpZiAoIXNob3dUb3BMaXN0ICYmIGxpc3RTdGF0ZS50b3RhbENvdW50ID09PSAwICYmIEVtcHR5UGxhY2Vob2xkZXIpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChFbXB0eVBsYWNlaG9sZGVyLCBjb250ZXh0UHJvcElmTm90RG9tRWxlbWVudChFbXB0eVBsYWNlaG9sZGVyLCBjb250ZXh0KSk7XG4gIH1cbiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgTGlzdENvbXBvbmVudCxcbiAgICB7XG4gICAgICAuLi5jb250ZXh0UHJvcElmTm90RG9tRWxlbWVudChMaXN0Q29tcG9uZW50LCBjb250ZXh0KSxcbiAgICAgIHJlZjogY2FsbGJhY2tSZWYsXG4gICAgICBzdHlsZTogY29udGFpbmVyU3R5bGUsXG4gICAgICBcImRhdGEtdGVzdC1pZFwiOiBzaG93VG9wTGlzdCA/IFwidmlydHVvc28tdG9wLWl0ZW0tbGlzdFwiIDogXCJ2aXJ0dW9zby1pdGVtLWxpc3RcIlxuICAgIH0sXG4gICAgKHNob3dUb3BMaXN0ID8gbGlzdFN0YXRlLnRvcEl0ZW1zIDogbGlzdFN0YXRlLml0ZW1zKS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgIGNvbnN0IGluZGV4ID0gaXRlbS5vcmlnaW5hbEluZGV4O1xuICAgICAgY29uc3Qga2V5ID0gY29tcHV0ZUl0ZW1LZXkoaW5kZXggKyBsaXN0U3RhdGUuZmlyc3RJdGVtSW5kZXgsIGl0ZW0uZGF0YSwgY29udGV4dCk7XG4gICAgICBpZiAoaXNTZWVraW5nKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFNjcm9sbFNlZWtQbGFjZWhvbGRlciwge1xuICAgICAgICAgIC4uLmNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KFNjcm9sbFNlZWtQbGFjZWhvbGRlciwgY29udGV4dCksXG4gICAgICAgICAga2V5LFxuICAgICAgICAgIGluZGV4OiBpdGVtLmluZGV4LFxuICAgICAgICAgIGhlaWdodDogaXRlbS5zaXplLFxuICAgICAgICAgIHR5cGU6IGl0ZW0udHlwZSB8fCBcIml0ZW1cIixcbiAgICAgICAgICAuLi5pdGVtLnR5cGUgPT09IFwiZ3JvdXBcIiA/IHt9IDogeyBncm91cEluZGV4OiBpdGVtLmdyb3VwSW5kZXggfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwiZ3JvdXBcIikge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICBHcm91cENvbXBvbmVudCxcbiAgICAgICAgICB7XG4gICAgICAgICAgICAuLi5jb250ZXh0UHJvcElmTm90RG9tRWxlbWVudChHcm91cENvbXBvbmVudCwgY29udGV4dCksXG4gICAgICAgICAgICBrZXksXG4gICAgICAgICAgICBcImRhdGEtaW5kZXhcIjogaW5kZXgsXG4gICAgICAgICAgICBcImRhdGEta25vd24tc2l6ZVwiOiBpdGVtLnNpemUsXG4gICAgICAgICAgICBcImRhdGEtaXRlbS1pbmRleFwiOiBpdGVtLmluZGV4LFxuICAgICAgICAgICAgc3R5bGU6IEdST1VQX1NUWUxFXG4gICAgICAgICAgfSxcbiAgICAgICAgICBncm91cENvbnRlbnQoaXRlbS5pbmRleCwgY29udGV4dClcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgIEl0ZW1Db21wb25lbnQsXG4gICAgICAgICAge1xuICAgICAgICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoSXRlbUNvbXBvbmVudCwgY29udGV4dCksXG4gICAgICAgICAgICAuLi5pdGVtUHJvcElmTm90RG9tRWxlbWVudChJdGVtQ29tcG9uZW50LCBpdGVtLmRhdGEpLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICAgICAgXCJkYXRhLWtub3duLXNpemVcIjogaXRlbS5zaXplLFxuICAgICAgICAgICAgXCJkYXRhLWl0ZW0taW5kZXhcIjogaXRlbS5pbmRleCxcbiAgICAgICAgICAgIFwiZGF0YS1pdGVtLWdyb3VwLWluZGV4XCI6IGl0ZW0uZ3JvdXBJbmRleCxcbiAgICAgICAgICAgIHN0eWxlOiBJVEVNX1NUWUxFJDFcbiAgICAgICAgICB9LFxuICAgICAgICAgIGhhc0dyb3VwczIgPyBpdGVtQ29udGVudChpdGVtLmluZGV4LCBpdGVtLmdyb3VwSW5kZXgsIGl0ZW0uZGF0YSwgY29udGV4dCkgOiBpdGVtQ29udGVudChpdGVtLmluZGV4LCBpdGVtLmRhdGEsIGNvbnRleHQpXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSlcbiAgKTtcbn0pO1xuY29uc3Qgc2Nyb2xsZXJTdHlsZSA9IHtcbiAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgb3V0bGluZTogXCJub25lXCIsXG4gIG92ZXJmbG93WTogXCJhdXRvXCIsXG4gIHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsXG4gIFdlYmtpdE92ZXJmbG93U2Nyb2xsaW5nOiBcInRvdWNoXCJcbn07XG5jb25zdCB2aWV3cG9ydFN0eWxlID0gKGFsaWduVG9Cb3R0b20pID0+ICh7XG4gIHdpZHRoOiBcIjEwMCVcIixcbiAgaGVpZ2h0OiBcIjEwMCVcIixcbiAgcG9zaXRpb246IFwiYWJzb2x1dGVcIixcbiAgdG9wOiAwLFxuICAuLi5hbGlnblRvQm90dG9tID8geyBkaXNwbGF5OiBcImZsZXhcIiwgZmxleERpcmVjdGlvbjogXCJjb2x1bW5cIiB9IDoge31cbn0pO1xuY29uc3QgdG9wSXRlbUxpc3RTdHlsZSA9IHtcbiAgd2lkdGg6IFwiMTAwJVwiLFxuICBwb3NpdGlvbjogcG9zaXRpb25TdGlja3lDc3NWYWx1ZSgpLFxuICB0b3A6IDAsXG4gIHpJbmRleDogMVxufTtcbmZ1bmN0aW9uIGNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KGVsZW1lbnQsIGNvbnRleHQpIHtcbiAgaWYgKHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICByZXR1cm4geyBjb250ZXh0IH07XG59XG5mdW5jdGlvbiBpdGVtUHJvcElmTm90RG9tRWxlbWVudChlbGVtZW50LCBpdGVtKSB7XG4gIHJldHVybiB7IGl0ZW06IHR5cGVvZiBlbGVtZW50ID09PSBcInN0cmluZ1wiID8gdm9pZCAwIDogaXRlbSB9O1xufVxuY29uc3QgSGVhZGVyJDEgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QubWVtbyhmdW5jdGlvbiBWaXJ0dW9zb0hlYWRlcigpIHtcbiAgY29uc3QgSGVhZGVyMiA9IHVzZUVtaXR0ZXJWYWx1ZSQyKFwiSGVhZGVyQ29tcG9uZW50XCIpO1xuICBjb25zdCBoZWFkZXJIZWlnaHQgPSB1c2VQdWJsaXNoZXIkMihcImhlYWRlckhlaWdodFwiKTtcbiAgY29uc3QgaGVhZGVyRm9vdGVyVGFnID0gdXNlRW1pdHRlclZhbHVlJDIoXCJoZWFkZXJGb290ZXJUYWdcIik7XG4gIGNvbnN0IHJlZiA9IHVzZVNpemUoKGVsKSA9PiBoZWFkZXJIZWlnaHQoY29ycmVjdEl0ZW1TaXplKGVsLCBcImhlaWdodFwiKSkpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRW1pdHRlclZhbHVlJDIoXCJjb250ZXh0XCIpO1xuICByZXR1cm4gSGVhZGVyMiA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoaGVhZGVyRm9vdGVyVGFnLCB7IHJlZiB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KEhlYWRlcjIsIGNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KEhlYWRlcjIsIGNvbnRleHQpKSkgOiBudWxsO1xufSk7XG5jb25zdCBGb290ZXIkMSA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5tZW1vKGZ1bmN0aW9uIFZpcnR1b3NvRm9vdGVyKCkge1xuICBjb25zdCBGb290ZXIyID0gdXNlRW1pdHRlclZhbHVlJDIoXCJGb290ZXJDb21wb25lbnRcIik7XG4gIGNvbnN0IGZvb3RlckhlaWdodCA9IHVzZVB1Ymxpc2hlciQyKFwiZm9vdGVySGVpZ2h0XCIpO1xuICBjb25zdCBoZWFkZXJGb290ZXJUYWcgPSB1c2VFbWl0dGVyVmFsdWUkMihcImhlYWRlckZvb3RlclRhZ1wiKTtcbiAgY29uc3QgcmVmID0gdXNlU2l6ZSgoZWwpID0+IGZvb3RlckhlaWdodChjb3JyZWN0SXRlbVNpemUoZWwsIFwiaGVpZ2h0XCIpKSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VFbWl0dGVyVmFsdWUkMihcImNvbnRleHRcIik7XG4gIHJldHVybiBGb290ZXIyID8gUmVhY3QuY3JlYXRlRWxlbWVudChoZWFkZXJGb290ZXJUYWcsIHsgcmVmIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9vdGVyMiwgY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoRm9vdGVyMiwgY29udGV4dCkpKSA6IG51bGw7XG59KTtcbmZ1bmN0aW9uIGJ1aWxkU2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlcjIsIHVzZUVtaXR0ZXI6IHVzZUVtaXR0ZXIyLCB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZTIgfSkge1xuICBjb25zdCBTY3JvbGxlcjIgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIFZpcnR1b3NvU2Nyb2xsZXIoeyBzdHlsZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrID0gdXNlUHVibGlzaGVyMihcInNjcm9sbENvbnRhaW5lclN0YXRlXCIpO1xuICAgIGNvbnN0IFNjcm9sbGVyQ29tcG9uZW50ID0gdXNlRW1pdHRlclZhbHVlMihcIlNjcm9sbGVyQ29tcG9uZW50XCIpO1xuICAgIGNvbnN0IHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQgPSB1c2VQdWJsaXNoZXIyKFwic21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZFwiKTtcbiAgICBjb25zdCBzY3JvbGxlclJlZkNhbGxiYWNrID0gdXNlRW1pdHRlclZhbHVlMihcInNjcm9sbGVyUmVmXCIpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB1c2VFbWl0dGVyVmFsdWUyKFwiY29udGV4dFwiKTtcbiAgICBjb25zdCB7IHNjcm9sbGVyUmVmLCBzY3JvbGxCeUNhbGxiYWNrLCBzY3JvbGxUb0NhbGxiYWNrIH0gPSB1c2VTY3JvbGxUb3AoXG4gICAgICBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrLFxuICAgICAgc21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZCxcbiAgICAgIFNjcm9sbGVyQ29tcG9uZW50LFxuICAgICAgc2Nyb2xsZXJSZWZDYWxsYmFja1xuICAgICk7XG4gICAgdXNlRW1pdHRlcjIoXCJzY3JvbGxUb1wiLCBzY3JvbGxUb0NhbGxiYWNrKTtcbiAgICB1c2VFbWl0dGVyMihcInNjcm9sbEJ5XCIsIHNjcm9sbEJ5Q2FsbGJhY2spO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgU2Nyb2xsZXJDb21wb25lbnQsXG4gICAgICB7XG4gICAgICAgIHJlZjogc2Nyb2xsZXJSZWYsXG4gICAgICAgIHN0eWxlOiB7IC4uLnNjcm9sbGVyU3R5bGUsIC4uLnN0eWxlIH0sXG4gICAgICAgIFwiZGF0YS10ZXN0LWlkXCI6IFwidmlydHVvc28tc2Nyb2xsZXJcIixcbiAgICAgICAgXCJkYXRhLXZpcnR1b3NvLXNjcm9sbGVyXCI6IHRydWUsXG4gICAgICAgIHRhYkluZGV4OiAwLFxuICAgICAgICAuLi5wcm9wcyxcbiAgICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoU2Nyb2xsZXJDb21wb25lbnQsIGNvbnRleHQpXG4gICAgICB9LFxuICAgICAgY2hpbGRyZW5cbiAgICApO1xuICB9KTtcbiAgcmV0dXJuIFNjcm9sbGVyMjtcbn1cbmZ1bmN0aW9uIGJ1aWxkV2luZG93U2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlcjIsIHVzZUVtaXR0ZXI6IHVzZUVtaXR0ZXIyLCB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZTIgfSkge1xuICBjb25zdCBTY3JvbGxlcjIgPSBSZWFjdC5tZW1vKGZ1bmN0aW9uIFZpcnR1b3NvV2luZG93U2Nyb2xsZXIoeyBzdHlsZSwgY2hpbGRyZW4sIC4uLnByb3BzIH0pIHtcbiAgICBjb25zdCBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrID0gdXNlUHVibGlzaGVyMihcIndpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlXCIpO1xuICAgIGNvbnN0IFNjcm9sbGVyQ29tcG9uZW50ID0gdXNlRW1pdHRlclZhbHVlMihcIlNjcm9sbGVyQ29tcG9uZW50XCIpO1xuICAgIGNvbnN0IHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQgPSB1c2VQdWJsaXNoZXIyKFwic21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZFwiKTtcbiAgICBjb25zdCB0b3RhbExpc3RIZWlnaHQgPSB1c2VFbWl0dGVyVmFsdWUyKFwidG90YWxMaXN0SGVpZ2h0XCIpO1xuICAgIGNvbnN0IGRldmlhdGlvbiA9IHVzZUVtaXR0ZXJWYWx1ZTIoXCJkZXZpYXRpb25cIik7XG4gICAgY29uc3QgY3VzdG9tU2Nyb2xsUGFyZW50ID0gdXNlRW1pdHRlclZhbHVlMihcImN1c3RvbVNjcm9sbFBhcmVudFwiKTtcbiAgICBjb25zdCBjb250ZXh0ID0gdXNlRW1pdHRlclZhbHVlMihcImNvbnRleHRcIik7XG4gICAgY29uc3QgeyBzY3JvbGxlclJlZiwgc2Nyb2xsQnlDYWxsYmFjaywgc2Nyb2xsVG9DYWxsYmFjayB9ID0gdXNlU2Nyb2xsVG9wKFxuICAgICAgc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjayxcbiAgICAgIHNtb290aFNjcm9sbFRhcmdldFJlYWNoZWQsXG4gICAgICBTY3JvbGxlckNvbXBvbmVudCxcbiAgICAgIG5vb3AsXG4gICAgICBjdXN0b21TY3JvbGxQYXJlbnRcbiAgICApO1xuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QkMSgoKSA9PiB7XG4gICAgICBzY3JvbGxlclJlZi5jdXJyZW50ID0gY3VzdG9tU2Nyb2xsUGFyZW50ID8gY3VzdG9tU2Nyb2xsUGFyZW50IDogd2luZG93O1xuICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgc2Nyb2xsZXJSZWYuY3VycmVudCA9IG51bGw7XG4gICAgICB9O1xuICAgIH0sIFtzY3JvbGxlclJlZiwgY3VzdG9tU2Nyb2xsUGFyZW50XSk7XG4gICAgdXNlRW1pdHRlcjIoXCJ3aW5kb3dTY3JvbGxUb1wiLCBzY3JvbGxUb0NhbGxiYWNrKTtcbiAgICB1c2VFbWl0dGVyMihcInNjcm9sbEJ5XCIsIHNjcm9sbEJ5Q2FsbGJhY2spO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgU2Nyb2xsZXJDb21wb25lbnQsXG4gICAgICB7XG4gICAgICAgIHN0eWxlOiB7IHBvc2l0aW9uOiBcInJlbGF0aXZlXCIsIC4uLnN0eWxlLCAuLi50b3RhbExpc3RIZWlnaHQgIT09IDAgPyB7IGhlaWdodDogdG90YWxMaXN0SGVpZ2h0ICsgZGV2aWF0aW9uIH0gOiB7fSB9LFxuICAgICAgICBcImRhdGEtdmlydHVvc28tc2Nyb2xsZXJcIjogdHJ1ZSxcbiAgICAgICAgLi4ucHJvcHMsXG4gICAgICAgIC4uLmNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KFNjcm9sbGVyQ29tcG9uZW50LCBjb250ZXh0KVxuICAgICAgfSxcbiAgICAgIGNoaWxkcmVuXG4gICAgKTtcbiAgfSk7XG4gIHJldHVybiBTY3JvbGxlcjI7XG59XG5jb25zdCBWaWV3cG9ydCQyID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xuICBjb25zdCBjdHggPSBSZWFjdC51c2VDb250ZXh0KFZpcnR1b3NvTW9ja0NvbnRleHQpO1xuICBjb25zdCB2aWV3cG9ydEhlaWdodCA9IHVzZVB1Ymxpc2hlciQyKFwidmlld3BvcnRIZWlnaHRcIik7XG4gIGNvbnN0IGZpeGVkSXRlbUhlaWdodCA9IHVzZVB1Ymxpc2hlciQyKFwiZml4ZWRJdGVtSGVpZ2h0XCIpO1xuICBjb25zdCBhbGlnblRvQm90dG9tID0gdXNlRW1pdHRlclZhbHVlJDIoXCJhbGlnblRvQm90dG9tXCIpO1xuICBjb25zdCB2aWV3cG9ydFJlZiA9IHVzZVNpemUoY29tcG9zZSh2aWV3cG9ydEhlaWdodCwgKGVsKSA9PiBjb3JyZWN0SXRlbVNpemUoZWwsIFwiaGVpZ2h0XCIpKSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN0eCkge1xuICAgICAgdmlld3BvcnRIZWlnaHQoY3R4LnZpZXdwb3J0SGVpZ2h0KTtcbiAgICAgIGZpeGVkSXRlbUhlaWdodChjdHguaXRlbUhlaWdodCk7XG4gICAgfVxuICB9LCBbY3R4LCB2aWV3cG9ydEhlaWdodCwgZml4ZWRJdGVtSGVpZ2h0XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB2aWV3cG9ydFN0eWxlKGFsaWduVG9Cb3R0b20pLCByZWY6IHZpZXdwb3J0UmVmLCBcImRhdGEtdmlld3BvcnQtdHlwZVwiOiBcImVsZW1lbnRcIiB9LCBjaGlsZHJlbik7XG59O1xuY29uc3QgV2luZG93Vmlld3BvcnQkMiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChWaXJ0dW9zb01vY2tDb250ZXh0KTtcbiAgY29uc3Qgd2luZG93Vmlld3BvcnRSZWN0ID0gdXNlUHVibGlzaGVyJDIoXCJ3aW5kb3dWaWV3cG9ydFJlY3RcIik7XG4gIGNvbnN0IGZpeGVkSXRlbUhlaWdodCA9IHVzZVB1Ymxpc2hlciQyKFwiZml4ZWRJdGVtSGVpZ2h0XCIpO1xuICBjb25zdCBjdXN0b21TY3JvbGxQYXJlbnQgPSB1c2VFbWl0dGVyVmFsdWUkMihcImN1c3RvbVNjcm9sbFBhcmVudFwiKTtcbiAgY29uc3Qgdmlld3BvcnRSZWYgPSB1c2VXaW5kb3dWaWV3cG9ydFJlY3RSZWYod2luZG93Vmlld3BvcnRSZWN0LCBjdXN0b21TY3JvbGxQYXJlbnQpO1xuICBjb25zdCBhbGlnblRvQm90dG9tID0gdXNlRW1pdHRlclZhbHVlJDIoXCJhbGlnblRvQm90dG9tXCIpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGZpeGVkSXRlbUhlaWdodChjdHguaXRlbUhlaWdodCk7XG4gICAgICB3aW5kb3dWaWV3cG9ydFJlY3QoeyBvZmZzZXRUb3A6IDAsIHZpc2libGVIZWlnaHQ6IGN0eC52aWV3cG9ydEhlaWdodCwgdmlzaWJsZVdpZHRoOiAxMDAgfSk7XG4gICAgfVxuICB9LCBbY3R4LCB3aW5kb3dWaWV3cG9ydFJlY3QsIGZpeGVkSXRlbUhlaWdodF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHZpZXdwb3J0UmVmLCBzdHlsZTogdmlld3BvcnRTdHlsZShhbGlnblRvQm90dG9tKSwgXCJkYXRhLXZpZXdwb3J0LXR5cGVcIjogXCJ3aW5kb3dcIiB9LCBjaGlsZHJlbik7XG59O1xuY29uc3QgVG9wSXRlbUxpc3RDb250YWluZXIgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IFRvcEl0ZW1MaXN0ID0gdXNlRW1pdHRlclZhbHVlJDIoXCJUb3BJdGVtTGlzdENvbXBvbmVudFwiKSB8fCBcImRpdlwiO1xuICBjb25zdCBoZWFkZXJIZWlnaHQgPSB1c2VFbWl0dGVyVmFsdWUkMihcImhlYWRlckhlaWdodFwiKTtcbiAgY29uc3Qgc3R5bGUgPSB7IC4uLnRvcEl0ZW1MaXN0U3R5bGUsIG1hcmdpblRvcDogYCR7aGVhZGVySGVpZ2h0fXB4YCB9O1xuICBjb25zdCBjb250ZXh0ID0gdXNlRW1pdHRlclZhbHVlJDIoXCJjb250ZXh0XCIpO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChUb3BJdGVtTGlzdCwgeyBzdHlsZSwgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoVG9wSXRlbUxpc3QsIGNvbnRleHQpIH0sIGNoaWxkcmVuKTtcbn07XG5jb25zdCBMaXN0Um9vdCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5tZW1vKGZ1bmN0aW9uIFZpcnR1b3NvUm9vdChwcm9wcykge1xuICBjb25zdCB1c2VXaW5kb3dTY3JvbGwgPSB1c2VFbWl0dGVyVmFsdWUkMihcInVzZVdpbmRvd1Njcm9sbFwiKTtcbiAgY29uc3Qgc2hvd1RvcExpc3QgPSB1c2VFbWl0dGVyVmFsdWUkMihcInRvcEl0ZW1zSW5kZXhlc1wiKS5sZW5ndGggPiAwO1xuICBjb25zdCBjdXN0b21TY3JvbGxQYXJlbnQgPSB1c2VFbWl0dGVyVmFsdWUkMihcImN1c3RvbVNjcm9sbFBhcmVudFwiKTtcbiAgY29uc3QgVGhlU2Nyb2xsZXIgPSBjdXN0b21TY3JvbGxQYXJlbnQgfHwgdXNlV2luZG93U2Nyb2xsID8gV2luZG93U2Nyb2xsZXIkMiA6IFNjcm9sbGVyJDI7XG4gIGNvbnN0IFRoZVZpZXdwb3J0ID0gY3VzdG9tU2Nyb2xsUGFyZW50IHx8IHVzZVdpbmRvd1Njcm9sbCA/IFdpbmRvd1ZpZXdwb3J0JDIgOiBWaWV3cG9ydCQyO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVGhlU2Nyb2xsZXIsIHsgLi4ucHJvcHMgfSwgc2hvd1RvcExpc3QgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoVG9wSXRlbUxpc3RDb250YWluZXIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1zJDEsIHsgc2hvd1RvcExpc3Q6IHRydWUgfSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChUaGVWaWV3cG9ydCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyJDEsIG51bGwpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChJdGVtcyQxLCBudWxsKSwgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9vdGVyJDEsIG51bGwpKSk7XG59KTtcbmNvbnN0IHtcbiAgQ29tcG9uZW50OiBMaXN0LFxuICB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlciQyLFxuICB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZSQyLFxuICB1c2VFbWl0dGVyOiB1c2VFbWl0dGVyJDJcbn0gPSAvKiBAX19QVVJFX18gKi8gc3lzdGVtVG9Db21wb25lbnQoXG4gIGNvbWJpbmVkU3lzdGVtJDIsXG4gIHtcbiAgICByZXF1aXJlZDoge30sXG4gICAgb3B0aW9uYWw6IHtcbiAgICAgIHJlc3RvcmVTdGF0ZUZyb206IFwicmVzdG9yZVN0YXRlRnJvbVwiLFxuICAgICAgY29udGV4dDogXCJjb250ZXh0XCIsXG4gICAgICBmb2xsb3dPdXRwdXQ6IFwiZm9sbG93T3V0cHV0XCIsXG4gICAgICBpdGVtQ29udGVudDogXCJpdGVtQ29udGVudFwiLFxuICAgICAgZ3JvdXBDb250ZW50OiBcImdyb3VwQ29udGVudFwiLFxuICAgICAgb3ZlcnNjYW46IFwib3ZlcnNjYW5cIixcbiAgICAgIGluY3JlYXNlVmlld3BvcnRCeTogXCJpbmNyZWFzZVZpZXdwb3J0QnlcIixcbiAgICAgIHRvdGFsQ291bnQ6IFwidG90YWxDb3VudFwiLFxuICAgICAgZ3JvdXBDb3VudHM6IFwiZ3JvdXBDb3VudHNcIixcbiAgICAgIHRvcEl0ZW1Db3VudDogXCJ0b3BJdGVtQ291bnRcIixcbiAgICAgIGZpcnN0SXRlbUluZGV4OiBcImZpcnN0SXRlbUluZGV4XCIsXG4gICAgICBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDogXCJpbml0aWFsVG9wTW9zdEl0ZW1JbmRleFwiLFxuICAgICAgY29tcG9uZW50czogXCJjb21wb25lbnRzXCIsXG4gICAgICBhdEJvdHRvbVRocmVzaG9sZDogXCJhdEJvdHRvbVRocmVzaG9sZFwiLFxuICAgICAgYXRUb3BUaHJlc2hvbGQ6IFwiYXRUb3BUaHJlc2hvbGRcIixcbiAgICAgIGNvbXB1dGVJdGVtS2V5OiBcImNvbXB1dGVJdGVtS2V5XCIsXG4gICAgICBkZWZhdWx0SXRlbUhlaWdodDogXCJkZWZhdWx0SXRlbUhlaWdodFwiLFxuICAgICAgZml4ZWRJdGVtSGVpZ2h0OiBcImZpeGVkSXRlbUhlaWdodFwiLFxuICAgICAgaXRlbVNpemU6IFwiaXRlbVNpemVcIixcbiAgICAgIHNjcm9sbFNlZWtDb25maWd1cmF0aW9uOiBcInNjcm9sbFNlZWtDb25maWd1cmF0aW9uXCIsXG4gICAgICBoZWFkZXJGb290ZXJUYWc6IFwiaGVhZGVyRm9vdGVyVGFnXCIsXG4gICAgICBkYXRhOiBcImRhdGFcIixcbiAgICAgIGluaXRpYWxJdGVtQ291bnQ6IFwiaW5pdGlhbEl0ZW1Db3VudFwiLFxuICAgICAgaW5pdGlhbFNjcm9sbFRvcDogXCJpbml0aWFsU2Nyb2xsVG9wXCIsXG4gICAgICBhbGlnblRvQm90dG9tOiBcImFsaWduVG9Cb3R0b21cIixcbiAgICAgIHVzZVdpbmRvd1Njcm9sbDogXCJ1c2VXaW5kb3dTY3JvbGxcIixcbiAgICAgIGN1c3RvbVNjcm9sbFBhcmVudDogXCJjdXN0b21TY3JvbGxQYXJlbnRcIixcbiAgICAgIHNjcm9sbGVyUmVmOiBcInNjcm9sbGVyUmVmXCIsXG4gICAgICBsb2dMZXZlbDogXCJsb2dMZXZlbFwiXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICBzY3JvbGxUb0luZGV4OiBcInNjcm9sbFRvSW5kZXhcIixcbiAgICAgIHNjcm9sbEludG9WaWV3OiBcInNjcm9sbEludG9WaWV3XCIsXG4gICAgICBzY3JvbGxUbzogXCJzY3JvbGxUb1wiLFxuICAgICAgc2Nyb2xsQnk6IFwic2Nyb2xsQnlcIixcbiAgICAgIGF1dG9zY3JvbGxUb0JvdHRvbTogXCJhdXRvc2Nyb2xsVG9Cb3R0b21cIixcbiAgICAgIGdldFN0YXRlOiBcImdldFN0YXRlXCJcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgaXNTY3JvbGxpbmc6IFwiaXNTY3JvbGxpbmdcIixcbiAgICAgIGVuZFJlYWNoZWQ6IFwiZW5kUmVhY2hlZFwiLFxuICAgICAgc3RhcnRSZWFjaGVkOiBcInN0YXJ0UmVhY2hlZFwiLFxuICAgICAgcmFuZ2VDaGFuZ2VkOiBcInJhbmdlQ2hhbmdlZFwiLFxuICAgICAgYXRCb3R0b21TdGF0ZUNoYW5nZTogXCJhdEJvdHRvbVN0YXRlQ2hhbmdlXCIsXG4gICAgICBhdFRvcFN0YXRlQ2hhbmdlOiBcImF0VG9wU3RhdGVDaGFuZ2VcIixcbiAgICAgIHRvdGFsTGlzdEhlaWdodENoYW5nZWQ6IFwidG90YWxMaXN0SGVpZ2h0Q2hhbmdlZFwiLFxuICAgICAgaXRlbXNSZW5kZXJlZDogXCJpdGVtc1JlbmRlcmVkXCIsXG4gICAgICBncm91cEluZGljZXM6IFwiZ3JvdXBJbmRpY2VzXCJcbiAgICB9XG4gIH0sXG4gIExpc3RSb290XG4pO1xuY29uc3QgU2Nyb2xsZXIkMiA9IC8qIEBfX1BVUkVfXyAqLyBidWlsZFNjcm9sbGVyKHsgdXNlUHVibGlzaGVyOiB1c2VQdWJsaXNoZXIkMiwgdXNlRW1pdHRlclZhbHVlOiB1c2VFbWl0dGVyVmFsdWUkMiwgdXNlRW1pdHRlcjogdXNlRW1pdHRlciQyIH0pO1xuY29uc3QgV2luZG93U2Nyb2xsZXIkMiA9IC8qIEBfX1BVUkVfXyAqLyBidWlsZFdpbmRvd1Njcm9sbGVyKHsgdXNlUHVibGlzaGVyOiB1c2VQdWJsaXNoZXIkMiwgdXNlRW1pdHRlclZhbHVlOiB1c2VFbWl0dGVyVmFsdWUkMiwgdXNlRW1pdHRlcjogdXNlRW1pdHRlciQyIH0pO1xuY29uc3QgVmlydHVvc28gPSBMaXN0O1xuY29uc3QgR3JvdXBlZFZpcnR1b3NvID0gTGlzdDtcbmNvbnN0IElOSVRJQUxfR1JJRF9TVEFURSA9IHtcbiAgaXRlbXM6IFtdLFxuICBvZmZzZXRCb3R0b206IDAsXG4gIG9mZnNldFRvcDogMCxcbiAgdG9wOiAwLFxuICBib3R0b206IDAsXG4gIGl0ZW1IZWlnaHQ6IDAsXG4gIGl0ZW1XaWR0aDogMFxufTtcbmNvbnN0IFBST0JFX0dSSURfU1RBVEUgPSB7XG4gIGl0ZW1zOiBbeyBpbmRleDogMCB9XSxcbiAgb2Zmc2V0Qm90dG9tOiAwLFxuICBvZmZzZXRUb3A6IDAsXG4gIHRvcDogMCxcbiAgYm90dG9tOiAwLFxuICBpdGVtSGVpZ2h0OiAwLFxuICBpdGVtV2lkdGg6IDBcbn07XG5jb25zdCB7IHJvdW5kLCBjZWlsLCBmbG9vciwgbWluLCBtYXggfSA9IE1hdGg7XG5mdW5jdGlvbiBidWlsZFByb2JlR3JpZFN0YXRlKGl0ZW1zKSB7XG4gIHJldHVybiB7XG4gICAgLi4uUFJPQkVfR1JJRF9TVEFURSxcbiAgICBpdGVtc1xuICB9O1xufVxuZnVuY3Rpb24gYnVpbGRJdGVtcyhzdGFydEluZGV4LCBlbmRJbmRleCwgZGF0YSkge1xuICByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogZW5kSW5kZXggLSBzdGFydEluZGV4ICsgMSB9KS5tYXAoKF8sIGkpID0+IHtcbiAgICBjb25zdCBkYXRhSXRlbSA9IGRhdGEgPT09IG51bGwgPyBudWxsIDogZGF0YVtpICsgc3RhcnRJbmRleF07XG4gICAgcmV0dXJuIHsgaW5kZXg6IGkgKyBzdGFydEluZGV4LCBkYXRhOiBkYXRhSXRlbSB9O1xuICB9KTtcbn1cbmZ1bmN0aW9uIGdhcENvbXBhcmF0b3IocHJldiwgbmV4dCkge1xuICByZXR1cm4gcHJldiAmJiBwcmV2LmNvbHVtbiA9PT0gbmV4dC5jb2x1bW4gJiYgcHJldi5yb3cgPT09IG5leHQucm93O1xufVxuZnVuY3Rpb24gZGltZW5zaW9uQ29tcGFyYXRvcihwcmV2LCBuZXh0KSB7XG4gIHJldHVybiBwcmV2ICYmIHByZXYud2lkdGggPT09IG5leHQud2lkdGggJiYgcHJldi5oZWlnaHQgPT09IG5leHQuaGVpZ2h0O1xufVxuY29uc3QgZ3JpZFN5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW0oXG4gIChbXG4gICAgeyBvdmVyc2NhbiwgdmlzaWJsZVJhbmdlLCBsaXN0Qm91bmRhcnkgfSxcbiAgICB7IHNjcm9sbFRvcCwgdmlld3BvcnRIZWlnaHQsIHNjcm9sbEJ5LCBzY3JvbGxUbywgc21vb3RoU2Nyb2xsVGFyZ2V0UmVhY2hlZCwgc2Nyb2xsQ29udGFpbmVyU3RhdGUsIGZvb3RlckhlaWdodCwgaGVhZGVySGVpZ2h0IH0sXG4gICAgc3RhdGVGbGFncyxcbiAgICBzY3JvbGxTZWVrLFxuICAgIHsgcHJvcHNSZWFkeSwgZGlkTW91bnQgfSxcbiAgICB7IHdpbmRvd1ZpZXdwb3J0UmVjdCwgdXNlV2luZG93U2Nyb2xsLCBjdXN0b21TY3JvbGxQYXJlbnQsIHdpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlLCB3aW5kb3dTY3JvbGxUbyB9LFxuICAgIGxvZ1xuICBdKSA9PiB7XG4gICAgY29uc3QgdG90YWxDb3VudCA9IHN0YXRlZnVsU3RyZWFtKDApO1xuICAgIGNvbnN0IGluaXRpYWxJdGVtQ291bnQgPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBncmlkU3RhdGUgPSBzdGF0ZWZ1bFN0cmVhbShJTklUSUFMX0dSSURfU1RBVEUpO1xuICAgIGNvbnN0IHZpZXdwb3J0RGltZW5zaW9ucyA9IHN0YXRlZnVsU3RyZWFtKHsgaGVpZ2h0OiAwLCB3aWR0aDogMCB9KTtcbiAgICBjb25zdCBpdGVtRGltZW5zaW9ucyA9IHN0YXRlZnVsU3RyZWFtKHsgaGVpZ2h0OiAwLCB3aWR0aDogMCB9KTtcbiAgICBjb25zdCBzY3JvbGxUb0luZGV4ID0gc3RyZWFtKCk7XG4gICAgY29uc3Qgc2Nyb2xsSGVpZ2h0ID0gc3RyZWFtKCk7XG4gICAgY29uc3QgZGV2aWF0aW9uID0gc3RhdGVmdWxTdHJlYW0oMCk7XG4gICAgY29uc3QgZGF0YSA9IHN0YXRlZnVsU3RyZWFtKG51bGwpO1xuICAgIGNvbnN0IGdhcCA9IHN0YXRlZnVsU3RyZWFtKHsgcm93OiAwLCBjb2x1bW46IDAgfSk7XG4gICAgY29uc3Qgc3RhdGVDaGFuZ2VkID0gc3RyZWFtKCk7XG4gICAgY29uc3QgcmVzdG9yZVN0YXRlRnJvbSA9IHN0cmVhbSgpO1xuICAgIGNvbnN0IHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MgPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgY29uc3QgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXggPSBzdGF0ZWZ1bFN0cmVhbSgwKTtcbiAgICBjb25zdCBzY3JvbGxlZFRvSW5pdGlhbEl0ZW0gPSBzdGF0ZWZ1bFN0cmVhbSh0cnVlKTtcbiAgICBjb25zdCBzY3JvbGxTY2hlZHVsZWQgPSBzdGF0ZWZ1bFN0cmVhbShmYWxzZSk7XG4gICAgc3Vic2NyaWJlKFxuICAgICAgcGlwZShcbiAgICAgICAgZGlkTW91bnQsXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKGluaXRpYWxUb3BNb3N0SXRlbUluZGV4KSxcbiAgICAgICAgZmlsdGVyKChbXywgbG9jYXRpb25dKSA9PiAhIWxvY2F0aW9uKVxuICAgICAgKSxcbiAgICAgICgpID0+IHtcbiAgICAgICAgcHVibGlzaChzY3JvbGxlZFRvSW5pdGlhbEl0ZW0sIGZhbHNlKTtcbiAgICAgICAgcHVibGlzaChpbml0aWFsSXRlbUNvdW50LCAwKTtcbiAgICAgIH1cbiAgICApO1xuICAgIHN1YnNjcmliZShcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoZGlkTW91bnQsIHNjcm9sbGVkVG9Jbml0aWFsSXRlbSwgaXRlbURpbWVuc2lvbnMsIHZpZXdwb3J0RGltZW5zaW9ucywgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgsIHNjcm9sbFNjaGVkdWxlZCksXG4gICAgICAgIGZpbHRlcigoW2RpZE1vdW50Miwgc2Nyb2xsZWRUb0luaXRpYWxJdGVtMiwgaXRlbURpbWVuc2lvbnMyLCB2aWV3cG9ydERpbWVuc2lvbnMyLCAsIHNjcm9sbFNjaGVkdWxlZDJdKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGRpZE1vdW50MiAmJiAhc2Nyb2xsZWRUb0luaXRpYWxJdGVtMiAmJiBpdGVtRGltZW5zaW9uczIuaGVpZ2h0ICE9PSAwICYmIHZpZXdwb3J0RGltZW5zaW9uczIuaGVpZ2h0ICE9PSAwICYmICFzY3JvbGxTY2hlZHVsZWQyO1xuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIChbLCAsICwgLCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDJdKSA9PiB7XG4gICAgICAgIHB1Ymxpc2goc2Nyb2xsU2NoZWR1bGVkLCB0cnVlKTtcbiAgICAgICAgc2tpcEZyYW1lcygxLCAoKSA9PiB7XG4gICAgICAgICAgcHVibGlzaChzY3JvbGxUb0luZGV4LCBpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDIpO1xuICAgICAgICB9KTtcbiAgICAgICAgaGFuZGxlTmV4dChwaXBlKHNjcm9sbFRvcCksICgpID0+IHtcbiAgICAgICAgICBwdWJsaXNoKGxpc3RCb3VuZGFyeSwgWzAsIDBdKTtcbiAgICAgICAgICBwdWJsaXNoKHNjcm9sbGVkVG9Jbml0aWFsSXRlbSwgdHJ1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIHJlc3RvcmVTdGF0ZUZyb20sXG4gICAgICAgIGZpbHRlcigodmFsdWUpID0+IHZhbHVlICE9PSB2b2lkIDAgJiYgdmFsdWUgIT09IG51bGwgJiYgdmFsdWUuc2Nyb2xsVG9wID4gMCksXG4gICAgICAgIG1hcFRvKDApXG4gICAgICApLFxuICAgICAgaW5pdGlhbEl0ZW1Db3VudFxuICAgICk7XG4gICAgc3Vic2NyaWJlKFxuICAgICAgcGlwZShcbiAgICAgICAgZGlkTW91bnQsXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHJlc3RvcmVTdGF0ZUZyb20pLFxuICAgICAgICBmaWx0ZXIoKFssIHNuYXBzaG90XSkgPT4gc25hcHNob3QgIT09IHZvaWQgMCAmJiBzbmFwc2hvdCAhPT0gbnVsbClcbiAgICAgICksXG4gICAgICAoWywgc25hcHNob3RdKSA9PiB7XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcHVibGlzaCh2aWV3cG9ydERpbWVuc2lvbnMsIHNuYXBzaG90LnZpZXdwb3J0KSwgcHVibGlzaChpdGVtRGltZW5zaW9ucywgc25hcHNob3QgPT0gbnVsbCA/IHZvaWQgMCA6IHNuYXBzaG90Lml0ZW0pO1xuICAgICAgICBwdWJsaXNoKGdhcCwgc25hcHNob3QuZ2FwKTtcbiAgICAgICAgaWYgKHNuYXBzaG90LnNjcm9sbFRvcCA+IDApIHtcbiAgICAgICAgICBwdWJsaXNoKHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MsIHRydWUpO1xuICAgICAgICAgIGhhbmRsZU5leHQocGlwZShzY3JvbGxUb3AsIHNraXAoMSkpLCAoX3ZhbHVlKSA9PiB7XG4gICAgICAgICAgICBwdWJsaXNoKHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MsIGZhbHNlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBwdWJsaXNoKHNjcm9sbFRvLCB7IHRvcDogc25hcHNob3Quc2Nyb2xsVG9wIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgICBjb25uZWN0KFxuICAgICAgcGlwZShcbiAgICAgICAgdmlld3BvcnREaW1lbnNpb25zLFxuICAgICAgICBtYXAoKHsgaGVpZ2h0IH0pID0+IGhlaWdodClcbiAgICAgICksXG4gICAgICB2aWV3cG9ydEhlaWdodFxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoXG4gICAgICAgICAgZHVjKHZpZXdwb3J0RGltZW5zaW9ucywgZGltZW5zaW9uQ29tcGFyYXRvciksXG4gICAgICAgICAgZHVjKGl0ZW1EaW1lbnNpb25zLCBkaW1lbnNpb25Db21wYXJhdG9yKSxcbiAgICAgICAgICBkdWMoZ2FwLCAocHJldiwgbmV4dCkgPT4gcHJldiAmJiBwcmV2LmNvbHVtbiA9PT0gbmV4dC5jb2x1bW4gJiYgcHJldi5yb3cgPT09IG5leHQucm93KSxcbiAgICAgICAgICBkdWMoc2Nyb2xsVG9wKVxuICAgICAgICApLFxuICAgICAgICBtYXAoKFt2aWV3cG9ydCwgaXRlbSwgZ2FwMiwgc2Nyb2xsVG9wMl0pID0+ICh7XG4gICAgICAgICAgdmlld3BvcnQsXG4gICAgICAgICAgaXRlbSxcbiAgICAgICAgICBnYXA6IGdhcDIsXG4gICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxUb3AyXG4gICAgICAgIH0pKVxuICAgICAgKSxcbiAgICAgIHN0YXRlQ2hhbmdlZFxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbWJpbmVMYXRlc3QoXG4gICAgICAgICAgZHVjKHRvdGFsQ291bnQpLFxuICAgICAgICAgIHZpc2libGVSYW5nZSxcbiAgICAgICAgICBkdWMoZ2FwLCBnYXBDb21wYXJhdG9yKSxcbiAgICAgICAgICBkdWMoaXRlbURpbWVuc2lvbnMsIGRpbWVuc2lvbkNvbXBhcmF0b3IpLFxuICAgICAgICAgIGR1Yyh2aWV3cG9ydERpbWVuc2lvbnMsIGRpbWVuc2lvbkNvbXBhcmF0b3IpLFxuICAgICAgICAgIGR1YyhkYXRhKSxcbiAgICAgICAgICBkdWMoaW5pdGlhbEl0ZW1Db3VudCksXG4gICAgICAgICAgZHVjKHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MpLFxuICAgICAgICAgIGR1YyhzY3JvbGxlZFRvSW5pdGlhbEl0ZW0pLFxuICAgICAgICAgIGR1Yyhpbml0aWFsVG9wTW9zdEl0ZW1JbmRleClcbiAgICAgICAgKSxcbiAgICAgICAgZmlsdGVyKChbLCAsICwgLCAsICwgLCBzdGF0ZVJlc3RvcmVJblByb2dyZXNzMl0pID0+IHtcbiAgICAgICAgICByZXR1cm4gIXN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MyO1xuICAgICAgICB9KSxcbiAgICAgICAgbWFwKFxuICAgICAgICAgIChbXG4gICAgICAgICAgICB0b3RhbENvdW50MixcbiAgICAgICAgICAgIFtzdGFydE9mZnNldCwgZW5kT2Zmc2V0XSxcbiAgICAgICAgICAgIGdhcDIsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgdmlld3BvcnQsXG4gICAgICAgICAgICBkYXRhMixcbiAgICAgICAgICAgIGluaXRpYWxJdGVtQ291bnQyLFxuICAgICAgICAgICAgLFxuICAgICAgICAgICAgc2Nyb2xsZWRUb0luaXRpYWxJdGVtMixcbiAgICAgICAgICAgIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4MlxuICAgICAgICAgIF0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgcm93OiByb3dHYXAsIGNvbHVtbjogY29sdW1uR2FwIH0gPSBnYXAyO1xuICAgICAgICAgICAgY29uc3QgeyBoZWlnaHQ6IGl0ZW1IZWlnaHQsIHdpZHRoOiBpdGVtV2lkdGggfSA9IGl0ZW07XG4gICAgICAgICAgICBjb25zdCB7IHdpZHRoOiB2aWV3cG9ydFdpZHRoIH0gPSB2aWV3cG9ydDtcbiAgICAgICAgICAgIGlmIChpbml0aWFsSXRlbUNvdW50MiA9PT0gMCAmJiAodG90YWxDb3VudDIgPT09IDAgfHwgdmlld3BvcnRXaWR0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIElOSVRJQUxfR1JJRF9TVEFURTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpdGVtV2lkdGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29uc3Qgc3RhcnRJbmRleDIgPSBnZXRJbml0aWFsVG9wTW9zdEl0ZW1JbmRleE51bWJlcihpbml0aWFsVG9wTW9zdEl0ZW1JbmRleDIsIHRvdGFsQ291bnQyKTtcbiAgICAgICAgICAgICAgY29uc3QgZW5kSW5kZXgyID0gc3RhcnRJbmRleDIgPT09IDAgPyBNYXRoLm1heChpbml0aWFsSXRlbUNvdW50MiAtIDEsIDApIDogc3RhcnRJbmRleDI7XG4gICAgICAgICAgICAgIHJldHVybiBidWlsZFByb2JlR3JpZFN0YXRlKGJ1aWxkSXRlbXMoc3RhcnRJbmRleDIsIGVuZEluZGV4MiwgZGF0YTIpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBlclJvdyA9IGl0ZW1zUGVyUm93KHZpZXdwb3J0V2lkdGgsIGl0ZW1XaWR0aCwgY29sdW1uR2FwKTtcbiAgICAgICAgICAgIGxldCBzdGFydEluZGV4O1xuICAgICAgICAgICAgbGV0IGVuZEluZGV4O1xuICAgICAgICAgICAgaWYgKCFzY3JvbGxlZFRvSW5pdGlhbEl0ZW0yKSB7XG4gICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgICAgICAgICBlbmRJbmRleCA9IC0xO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzdGFydE9mZnNldCA9PT0gMCAmJiBlbmRPZmZzZXQgPT09IDAgJiYgaW5pdGlhbEl0ZW1Db3VudDIgPiAwKSB7XG4gICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSAwO1xuICAgICAgICAgICAgICBlbmRJbmRleCA9IGluaXRpYWxJdGVtQ291bnQyIC0gMTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBwZXJSb3cgKiBmbG9vcigoc3RhcnRPZmZzZXQgKyByb3dHYXApIC8gKGl0ZW1IZWlnaHQgKyByb3dHYXApKTtcbiAgICAgICAgICAgICAgZW5kSW5kZXggPSBwZXJSb3cgKiBjZWlsKChlbmRPZmZzZXQgKyByb3dHYXApIC8gKGl0ZW1IZWlnaHQgKyByb3dHYXApKSAtIDE7XG4gICAgICAgICAgICAgIGVuZEluZGV4ID0gbWluKHRvdGFsQ291bnQyIC0gMSwgbWF4KGVuZEluZGV4LCBwZXJSb3cgLSAxKSk7XG4gICAgICAgICAgICAgIHN0YXJ0SW5kZXggPSBtaW4oZW5kSW5kZXgsIG1heCgwLCBzdGFydEluZGV4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBpdGVtcyA9IGJ1aWxkSXRlbXMoc3RhcnRJbmRleCwgZW5kSW5kZXgsIGRhdGEyKTtcbiAgICAgICAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IGdyaWRMYXlvdXQodmlld3BvcnQsIGdhcDIsIGl0ZW0sIGl0ZW1zKTtcbiAgICAgICAgICAgIGNvbnN0IHJvd0NvdW50ID0gY2VpbCh0b3RhbENvdW50MiAvIHBlclJvdyk7XG4gICAgICAgICAgICBjb25zdCB0b3RhbEhlaWdodCA9IHJvd0NvdW50ICogaXRlbUhlaWdodCArIChyb3dDb3VudCAtIDEpICogcm93R2FwO1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0Qm90dG9tID0gdG90YWxIZWlnaHQgLSBib3R0b207XG4gICAgICAgICAgICByZXR1cm4geyBpdGVtcywgb2Zmc2V0VG9wOiB0b3AsIG9mZnNldEJvdHRvbSwgdG9wLCBib3R0b20sIGl0ZW1IZWlnaHQsIGl0ZW1XaWR0aCB9O1xuICAgICAgICAgIH1cbiAgICAgICAgKVxuICAgICAgKSxcbiAgICAgIGdyaWRTdGF0ZVxuICAgICk7XG4gICAgY29ubmVjdChcbiAgICAgIHBpcGUoXG4gICAgICAgIGRhdGEsXG4gICAgICAgIGZpbHRlcigoZGF0YTIpID0+IGRhdGEyICE9PSBudWxsKSxcbiAgICAgICAgbWFwKChkYXRhMikgPT4gZGF0YTIubGVuZ3RoKVxuICAgICAgKSxcbiAgICAgIHRvdGFsQ291bnRcbiAgICApO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBjb21iaW5lTGF0ZXN0KHZpZXdwb3J0RGltZW5zaW9ucywgaXRlbURpbWVuc2lvbnMsIGdyaWRTdGF0ZSwgZ2FwKSxcbiAgICAgICAgZmlsdGVyKChbdmlld3BvcnREaW1lbnNpb25zMiwgaXRlbURpbWVuc2lvbnMyLCB7IGl0ZW1zIH1dKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIGl0ZW1zLmxlbmd0aCA+IDAgJiYgaXRlbURpbWVuc2lvbnMyLmhlaWdodCAhPT0gMCAmJiB2aWV3cG9ydERpbWVuc2lvbnMyLmhlaWdodCAhPT0gMDtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgoW3ZpZXdwb3J0RGltZW5zaW9uczIsIGl0ZW1EaW1lbnNpb25zMiwgeyBpdGVtcyB9LCBnYXAyXSkgPT4ge1xuICAgICAgICAgIGNvbnN0IHsgdG9wLCBib3R0b20gfSA9IGdyaWRMYXlvdXQodmlld3BvcnREaW1lbnNpb25zMiwgZ2FwMiwgaXRlbURpbWVuc2lvbnMyLCBpdGVtcyk7XG4gICAgICAgICAgcmV0dXJuIFt0b3AsIGJvdHRvbV07XG4gICAgICAgIH0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCh0dXBsZUNvbXBhcmF0b3IpXG4gICAgICApLFxuICAgICAgbGlzdEJvdW5kYXJ5XG4gICAgKTtcbiAgICBjb25zdCBoYXNTY3JvbGxlZCA9IHN0YXRlZnVsU3RyZWFtKGZhbHNlKTtcbiAgICBjb25uZWN0KFxuICAgICAgcGlwZShcbiAgICAgICAgc2Nyb2xsVG9wLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShoYXNTY3JvbGxlZCksXG4gICAgICAgIG1hcCgoW3Njcm9sbFRvcDIsIGhhc1Njcm9sbGVkMl0pID0+IHtcbiAgICAgICAgICByZXR1cm4gaGFzU2Nyb2xsZWQyIHx8IHNjcm9sbFRvcDIgIT09IDA7XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgaGFzU2Nyb2xsZWRcbiAgICApO1xuICAgIGNvbnN0IGVuZFJlYWNoZWQgPSBzdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGR1YyhncmlkU3RhdGUpLFxuICAgICAgICBmaWx0ZXIoKHsgaXRlbXMgfSkgPT4gaXRlbXMubGVuZ3RoID4gMCksXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKHRvdGFsQ291bnQsIGhhc1Njcm9sbGVkKSxcbiAgICAgICAgZmlsdGVyKChbeyBpdGVtcyB9LCB0b3RhbENvdW50MiwgaGFzU2Nyb2xsZWQyXSkgPT4gaGFzU2Nyb2xsZWQyICYmIGl0ZW1zW2l0ZW1zLmxlbmd0aCAtIDFdLmluZGV4ID09PSB0b3RhbENvdW50MiAtIDEpLFxuICAgICAgICBtYXAoKFssIHRvdGFsQ291bnQyXSkgPT4gdG90YWxDb3VudDIgLSAxKSxcbiAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICAgKVxuICAgICk7XG4gICAgY29uc3Qgc3RhcnRSZWFjaGVkID0gc3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBkdWMoZ3JpZFN0YXRlKSxcbiAgICAgICAgZmlsdGVyKCh7IGl0ZW1zIH0pID0+IHtcbiAgICAgICAgICByZXR1cm4gaXRlbXMubGVuZ3RoID4gMCAmJiBpdGVtc1swXS5pbmRleCA9PT0gMDtcbiAgICAgICAgfSksXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgIG1hcFRvKDApLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApXG4gICAgKTtcbiAgICBjb25zdCByYW5nZUNoYW5nZWQgPSBzdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGR1YyhncmlkU3RhdGUpLFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShzdGF0ZVJlc3RvcmVJblByb2dyZXNzKSxcbiAgICAgICAgZmlsdGVyKChbeyBpdGVtcyB9LCBzdGF0ZVJlc3RvcmVJblByb2dyZXNzMl0pID0+IGl0ZW1zLmxlbmd0aCA+IDAgJiYgIXN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MyKSxcbiAgICAgICAgbWFwKChbeyBpdGVtcyB9XSkgPT4ge1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydEluZGV4OiBpdGVtc1swXS5pbmRleCxcbiAgICAgICAgICAgIGVuZEluZGV4OiBpdGVtc1tpdGVtcy5sZW5ndGggLSAxXS5pbmRleFxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZChyYW5nZUNvbXBhcmF0b3IpLFxuICAgICAgICB0aHJvdHRsZVRpbWUoMClcbiAgICAgIClcbiAgICApO1xuICAgIGNvbm5lY3QocmFuZ2VDaGFuZ2VkLCBzY3JvbGxTZWVrLnNjcm9sbFNlZWtSYW5nZUNoYW5nZWQpO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICBzY3JvbGxUb0luZGV4LFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbSh2aWV3cG9ydERpbWVuc2lvbnMsIGl0ZW1EaW1lbnNpb25zLCB0b3RhbENvdW50LCBnYXApLFxuICAgICAgICBtYXAoKFtsb2NhdGlvbiwgdmlld3BvcnREaW1lbnNpb25zMiwgaXRlbURpbWVuc2lvbnMyLCB0b3RhbENvdW50MiwgZ2FwMl0pID0+IHtcbiAgICAgICAgICBjb25zdCBub3JtYWxMb2NhdGlvbiA9IG5vcm1hbGl6ZUluZGV4TG9jYXRpb24obG9jYXRpb24pO1xuICAgICAgICAgIGNvbnN0IHsgYWxpZ24sIGJlaGF2aW9yLCBvZmZzZXQgfSA9IG5vcm1hbExvY2F0aW9uO1xuICAgICAgICAgIGxldCBpbmRleCA9IG5vcm1hbExvY2F0aW9uLmluZGV4O1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gXCJMQVNUXCIpIHtcbiAgICAgICAgICAgIGluZGV4ID0gdG90YWxDb3VudDIgLSAxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbmRleCA9IG1heCgwLCBpbmRleCwgbWluKHRvdGFsQ291bnQyIC0gMSwgaW5kZXgpKTtcbiAgICAgICAgICBsZXQgdG9wID0gaXRlbVRvcCh2aWV3cG9ydERpbWVuc2lvbnMyLCBnYXAyLCBpdGVtRGltZW5zaW9uczIsIGluZGV4KTtcbiAgICAgICAgICBpZiAoYWxpZ24gPT09IFwiZW5kXCIpIHtcbiAgICAgICAgICAgIHRvcCA9IHJvdW5kKHRvcCAtIHZpZXdwb3J0RGltZW5zaW9uczIuaGVpZ2h0ICsgaXRlbURpbWVuc2lvbnMyLmhlaWdodCk7XG4gICAgICAgICAgfSBlbHNlIGlmIChhbGlnbiA9PT0gXCJjZW50ZXJcIikge1xuICAgICAgICAgICAgdG9wID0gcm91bmQodG9wIC0gdmlld3BvcnREaW1lbnNpb25zMi5oZWlnaHQgLyAyICsgaXRlbURpbWVuc2lvbnMyLmhlaWdodCAvIDIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAob2Zmc2V0KSB7XG4gICAgICAgICAgICB0b3AgKz0gb2Zmc2V0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4geyB0b3AsIGJlaGF2aW9yIH07XG4gICAgICAgIH0pXG4gICAgICApLFxuICAgICAgc2Nyb2xsVG9cbiAgICApO1xuICAgIGNvbnN0IHRvdGFsTGlzdEhlaWdodCA9IHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBncmlkU3RhdGUsXG4gICAgICAgIG1hcCgoZ3JpZFN0YXRlMikgPT4ge1xuICAgICAgICAgIHJldHVybiBncmlkU3RhdGUyLm9mZnNldEJvdHRvbSArIGdyaWRTdGF0ZTIuYm90dG9tO1xuICAgICAgICB9KVxuICAgICAgKSxcbiAgICAgIDBcbiAgICApO1xuICAgIGNvbm5lY3QoXG4gICAgICBwaXBlKFxuICAgICAgICB3aW5kb3dWaWV3cG9ydFJlY3QsXG4gICAgICAgIG1hcCgodmlld3BvcnRJbmZvKSA9PiAoeyB3aWR0aDogdmlld3BvcnRJbmZvLnZpc2libGVXaWR0aCwgaGVpZ2h0OiB2aWV3cG9ydEluZm8udmlzaWJsZUhlaWdodCB9KSlcbiAgICAgICksXG4gICAgICB2aWV3cG9ydERpbWVuc2lvbnNcbiAgICApO1xuICAgIHJldHVybiB7XG4gICAgICAvLyBpbnB1dFxuICAgICAgZGF0YSxcbiAgICAgIHRvdGFsQ291bnQsXG4gICAgICB2aWV3cG9ydERpbWVuc2lvbnMsXG4gICAgICBpdGVtRGltZW5zaW9ucyxcbiAgICAgIHNjcm9sbFRvcCxcbiAgICAgIHNjcm9sbEhlaWdodCxcbiAgICAgIG92ZXJzY2FuLFxuICAgICAgc2Nyb2xsQnksXG4gICAgICBzY3JvbGxUbyxcbiAgICAgIHNjcm9sbFRvSW5kZXgsXG4gICAgICBzbW9vdGhTY3JvbGxUYXJnZXRSZWFjaGVkLFxuICAgICAgd2luZG93Vmlld3BvcnRSZWN0LFxuICAgICAgd2luZG93U2Nyb2xsVG8sXG4gICAgICB1c2VXaW5kb3dTY3JvbGwsXG4gICAgICBjdXN0b21TY3JvbGxQYXJlbnQsXG4gICAgICB3aW5kb3dTY3JvbGxDb250YWluZXJTdGF0ZSxcbiAgICAgIGRldmlhdGlvbixcbiAgICAgIHNjcm9sbENvbnRhaW5lclN0YXRlLFxuICAgICAgZm9vdGVySGVpZ2h0LFxuICAgICAgaGVhZGVySGVpZ2h0LFxuICAgICAgaW5pdGlhbEl0ZW1Db3VudCxcbiAgICAgIGdhcCxcbiAgICAgIHJlc3RvcmVTdGF0ZUZyb20sXG4gICAgICAuLi5zY3JvbGxTZWVrLFxuICAgICAgaW5pdGlhbFRvcE1vc3RJdGVtSW5kZXgsXG4gICAgICAvLyBvdXRwdXRcbiAgICAgIGdyaWRTdGF0ZSxcbiAgICAgIHRvdGFsTGlzdEhlaWdodCxcbiAgICAgIC4uLnN0YXRlRmxhZ3MsXG4gICAgICBzdGFydFJlYWNoZWQsXG4gICAgICBlbmRSZWFjaGVkLFxuICAgICAgcmFuZ2VDaGFuZ2VkLFxuICAgICAgc3RhdGVDaGFuZ2VkLFxuICAgICAgcHJvcHNSZWFkeSxcbiAgICAgIHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MsXG4gICAgICAuLi5sb2dcbiAgICB9O1xuICB9LFxuICB0dXAoc2l6ZVJhbmdlU3lzdGVtLCBkb21JT1N5c3RlbSwgc3RhdGVGbGFnc1N5c3RlbSwgc2Nyb2xsU2Vla1N5c3RlbSwgcHJvcHNSZWFkeVN5c3RlbSwgd2luZG93U2Nyb2xsZXJTeXN0ZW0sIGxvZ2dlclN5c3RlbSlcbik7XG5mdW5jdGlvbiBncmlkTGF5b3V0KHZpZXdwb3J0LCBnYXAsIGl0ZW0sIGl0ZW1zKSB7XG4gIGNvbnN0IHsgaGVpZ2h0OiBpdGVtSGVpZ2h0IH0gPSBpdGVtO1xuICBpZiAoaXRlbUhlaWdodCA9PT0gdm9pZCAwIHx8IGl0ZW1zLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7IHRvcDogMCwgYm90dG9tOiAwIH07XG4gIH1cbiAgY29uc3QgdG9wID0gaXRlbVRvcCh2aWV3cG9ydCwgZ2FwLCBpdGVtLCBpdGVtc1swXS5pbmRleCk7XG4gIGNvbnN0IGJvdHRvbSA9IGl0ZW1Ub3Aodmlld3BvcnQsIGdhcCwgaXRlbSwgaXRlbXNbaXRlbXMubGVuZ3RoIC0gMV0uaW5kZXgpICsgaXRlbUhlaWdodDtcbiAgcmV0dXJuIHsgdG9wLCBib3R0b20gfTtcbn1cbmZ1bmN0aW9uIGl0ZW1Ub3Aodmlld3BvcnQsIGdhcCwgaXRlbSwgaW5kZXgpIHtcbiAgY29uc3QgcGVyUm93ID0gaXRlbXNQZXJSb3codmlld3BvcnQud2lkdGgsIGl0ZW0ud2lkdGgsIGdhcC5jb2x1bW4pO1xuICBjb25zdCByb3dDb3VudCA9IGZsb29yKGluZGV4IC8gcGVyUm93KTtcbiAgY29uc3QgdG9wID0gcm93Q291bnQgKiBpdGVtLmhlaWdodCArIG1heCgwLCByb3dDb3VudCAtIDEpICogZ2FwLnJvdztcbiAgcmV0dXJuIHRvcCA+IDAgPyB0b3AgKyBnYXAucm93IDogdG9wO1xufVxuZnVuY3Rpb24gaXRlbXNQZXJSb3codmlld3BvcnRXaWR0aCwgaXRlbVdpZHRoLCBnYXApIHtcbiAgcmV0dXJuIG1heCgxLCBmbG9vcigodmlld3BvcnRXaWR0aCArIGdhcCkgLyAoZmxvb3IoaXRlbVdpZHRoKSArIGdhcCkpKTtcbn1cbmNvbnN0IGdyaWRDb21wb25lbnRQcm9wc1N5c3RlbSA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW0oKCkgPT4ge1xuICBjb25zdCBpdGVtQ29udGVudCA9IHN0YXRlZnVsU3RyZWFtKChpbmRleCkgPT4gYEl0ZW0gJHtpbmRleH1gKTtcbiAgY29uc3QgY29tcG9uZW50cyA9IHN0YXRlZnVsU3RyZWFtKHt9KTtcbiAgY29uc3QgY29udGV4dCA9IHN0YXRlZnVsU3RyZWFtKG51bGwpO1xuICBjb25zdCBpdGVtQ2xhc3NOYW1lID0gc3RhdGVmdWxTdHJlYW0oXCJ2aXJ0dW9zby1ncmlkLWl0ZW1cIik7XG4gIGNvbnN0IGxpc3RDbGFzc05hbWUgPSBzdGF0ZWZ1bFN0cmVhbShcInZpcnR1b3NvLWdyaWQtbGlzdFwiKTtcbiAgY29uc3QgY29tcHV0ZUl0ZW1LZXkgPSBzdGF0ZWZ1bFN0cmVhbShpZGVudGl0eSk7XG4gIGNvbnN0IGhlYWRlckZvb3RlclRhZyA9IHN0YXRlZnVsU3RyZWFtKFwiZGl2XCIpO1xuICBjb25zdCBzY3JvbGxlclJlZiA9IHN0YXRlZnVsU3RyZWFtKG5vb3ApO1xuICBjb25zdCBkaXN0aW5jdFByb3AgPSAocHJvcE5hbWUsIGRlZmF1bHRWYWx1ZSA9IG51bGwpID0+IHtcbiAgICByZXR1cm4gc3RhdGVmdWxTdHJlYW1Gcm9tRW1pdHRlcihcbiAgICAgIHBpcGUoXG4gICAgICAgIGNvbXBvbmVudHMsXG4gICAgICAgIG1hcCgoY29tcG9uZW50czIpID0+IGNvbXBvbmVudHMyW3Byb3BOYW1lXSksXG4gICAgICAgIGRpc3RpbmN0VW50aWxDaGFuZ2VkKClcbiAgICAgICksXG4gICAgICBkZWZhdWx0VmFsdWVcbiAgICApO1xuICB9O1xuICByZXR1cm4ge1xuICAgIGNvbnRleHQsXG4gICAgaXRlbUNvbnRlbnQsXG4gICAgY29tcG9uZW50cyxcbiAgICBjb21wdXRlSXRlbUtleSxcbiAgICBpdGVtQ2xhc3NOYW1lLFxuICAgIGxpc3RDbGFzc05hbWUsXG4gICAgaGVhZGVyRm9vdGVyVGFnLFxuICAgIHNjcm9sbGVyUmVmLFxuICAgIEZvb3RlckNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiRm9vdGVyXCIpLFxuICAgIEhlYWRlckNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiSGVhZGVyXCIpLFxuICAgIExpc3RDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIkxpc3RcIiwgXCJkaXZcIiksXG4gICAgSXRlbUNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiSXRlbVwiLCBcImRpdlwiKSxcbiAgICBTY3JvbGxlckNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiU2Nyb2xsZXJcIiwgXCJkaXZcIiksXG4gICAgU2Nyb2xsU2Vla1BsYWNlaG9sZGVyOiBkaXN0aW5jdFByb3AoXCJTY3JvbGxTZWVrUGxhY2Vob2xkZXJcIiwgXCJkaXZcIilcbiAgfTtcbn0pO1xuY29uc3QgY29tYmluZWRTeXN0ZW0kMSA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW0oKFtncmlkU3lzdGVtMiwgZ3JpZENvbXBvbmVudFByb3BzU3lzdGVtMl0pID0+IHtcbiAgcmV0dXJuIHsgLi4uZ3JpZFN5c3RlbTIsIC4uLmdyaWRDb21wb25lbnRQcm9wc1N5c3RlbTIgfTtcbn0sIHR1cChncmlkU3lzdGVtLCBncmlkQ29tcG9uZW50UHJvcHNTeXN0ZW0pKTtcbmNvbnN0IEdyaWRJdGVtcyA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5tZW1vKGZ1bmN0aW9uIEdyaWRJdGVtczIoKSB7XG4gIGNvbnN0IGdyaWRTdGF0ZSA9IHVzZUVtaXR0ZXJWYWx1ZSQxKFwiZ3JpZFN0YXRlXCIpO1xuICBjb25zdCBsaXN0Q2xhc3NOYW1lID0gdXNlRW1pdHRlclZhbHVlJDEoXCJsaXN0Q2xhc3NOYW1lXCIpO1xuICBjb25zdCBpdGVtQ2xhc3NOYW1lID0gdXNlRW1pdHRlclZhbHVlJDEoXCJpdGVtQ2xhc3NOYW1lXCIpO1xuICBjb25zdCBpdGVtQ29udGVudCA9IHVzZUVtaXR0ZXJWYWx1ZSQxKFwiaXRlbUNvbnRlbnRcIik7XG4gIGNvbnN0IGNvbXB1dGVJdGVtS2V5ID0gdXNlRW1pdHRlclZhbHVlJDEoXCJjb21wdXRlSXRlbUtleVwiKTtcbiAgY29uc3QgaXNTZWVraW5nID0gdXNlRW1pdHRlclZhbHVlJDEoXCJpc1NlZWtpbmdcIik7XG4gIGNvbnN0IHNjcm9sbEhlaWdodENhbGxiYWNrID0gdXNlUHVibGlzaGVyJDEoXCJzY3JvbGxIZWlnaHRcIik7XG4gIGNvbnN0IEl0ZW1Db21wb25lbnQgPSB1c2VFbWl0dGVyVmFsdWUkMShcIkl0ZW1Db21wb25lbnRcIik7XG4gIGNvbnN0IExpc3RDb21wb25lbnQgPSB1c2VFbWl0dGVyVmFsdWUkMShcIkxpc3RDb21wb25lbnRcIik7XG4gIGNvbnN0IFNjcm9sbFNlZWtQbGFjZWhvbGRlciA9IHVzZUVtaXR0ZXJWYWx1ZSQxKFwiU2Nyb2xsU2Vla1BsYWNlaG9sZGVyXCIpO1xuICBjb25zdCBjb250ZXh0ID0gdXNlRW1pdHRlclZhbHVlJDEoXCJjb250ZXh0XCIpO1xuICBjb25zdCBpdGVtRGltZW5zaW9ucyA9IHVzZVB1Ymxpc2hlciQxKFwiaXRlbURpbWVuc2lvbnNcIik7XG4gIGNvbnN0IGdyaWRHYXAgPSB1c2VQdWJsaXNoZXIkMShcImdhcFwiKTtcbiAgY29uc3QgbG9nID0gdXNlRW1pdHRlclZhbHVlJDEoXCJsb2dcIik7XG4gIGNvbnN0IHN0YXRlUmVzdG9yZUluUHJvZ3Jlc3MgPSB1c2VFbWl0dGVyVmFsdWUkMShcInN0YXRlUmVzdG9yZUluUHJvZ3Jlc3NcIik7XG4gIGNvbnN0IGxpc3RSZWYgPSB1c2VTaXplKChlbCkgPT4ge1xuICAgIGNvbnN0IHNjcm9sbEhlaWdodCA9IGVsLnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5zY3JvbGxIZWlnaHQ7XG4gICAgc2Nyb2xsSGVpZ2h0Q2FsbGJhY2soc2Nyb2xsSGVpZ2h0KTtcbiAgICBjb25zdCBmaXJzdEl0ZW0gPSBlbC5maXJzdENoaWxkO1xuICAgIGlmIChmaXJzdEl0ZW0pIHtcbiAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gZmlyc3RJdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgaXRlbURpbWVuc2lvbnMoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgIH1cbiAgICBncmlkR2FwKHtcbiAgICAgIHJvdzogcmVzb2x2ZUdhcFZhbHVlKFwicm93LWdhcFwiLCBnZXRDb21wdXRlZFN0eWxlKGVsKS5yb3dHYXAsIGxvZyksXG4gICAgICBjb2x1bW46IHJlc29sdmVHYXBWYWx1ZShcImNvbHVtbi1nYXBcIiwgZ2V0Q29tcHV0ZWRTdHlsZShlbCkuY29sdW1uR2FwLCBsb2cpXG4gICAgfSk7XG4gIH0pO1xuICBpZiAoc3RhdGVSZXN0b3JlSW5Qcm9ncmVzcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIExpc3RDb21wb25lbnQsXG4gICAge1xuICAgICAgcmVmOiBsaXN0UmVmLFxuICAgICAgY2xhc3NOYW1lOiBsaXN0Q2xhc3NOYW1lLFxuICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoTGlzdENvbXBvbmVudCwgY29udGV4dCksXG4gICAgICBzdHlsZTogeyBwYWRkaW5nVG9wOiBncmlkU3RhdGUub2Zmc2V0VG9wLCBwYWRkaW5nQm90dG9tOiBncmlkU3RhdGUub2Zmc2V0Qm90dG9tIH0sXG4gICAgICBcImRhdGEtdGVzdC1pZFwiOiBcInZpcnR1b3NvLWl0ZW0tbGlzdFwiXG4gICAgfSxcbiAgICBncmlkU3RhdGUuaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBrZXkgPSBjb21wdXRlSXRlbUtleShpdGVtLmluZGV4LCBpdGVtLmRhdGEsIGNvbnRleHQpO1xuICAgICAgcmV0dXJuIGlzU2Vla2luZyA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoU2Nyb2xsU2Vla1BsYWNlaG9sZGVyLCB7XG4gICAgICAgIGtleSxcbiAgICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoU2Nyb2xsU2Vla1BsYWNlaG9sZGVyLCBjb250ZXh0KSxcbiAgICAgICAgaW5kZXg6IGl0ZW0uaW5kZXgsXG4gICAgICAgIGhlaWdodDogZ3JpZFN0YXRlLml0ZW1IZWlnaHQsXG4gICAgICAgIHdpZHRoOiBncmlkU3RhdGUuaXRlbVdpZHRoXG4gICAgICB9KSA6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgIEl0ZW1Db21wb25lbnQsXG4gICAgICAgIHsgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoSXRlbUNvbXBvbmVudCwgY29udGV4dCksIGNsYXNzTmFtZTogaXRlbUNsYXNzTmFtZSwgXCJkYXRhLWluZGV4XCI6IGl0ZW0uaW5kZXgsIGtleSB9LFxuICAgICAgICBpdGVtQ29udGVudChpdGVtLmluZGV4LCBpdGVtLmRhdGEsIGNvbnRleHQpXG4gICAgICApO1xuICAgIH0pXG4gICk7XG59KTtcbmNvbnN0IEhlYWRlciA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gVmlydHVvc29IZWFkZXIyKCkge1xuICBjb25zdCBIZWFkZXIyID0gdXNlRW1pdHRlclZhbHVlJDEoXCJIZWFkZXJDb21wb25lbnRcIik7XG4gIGNvbnN0IGhlYWRlckhlaWdodCA9IHVzZVB1Ymxpc2hlciQxKFwiaGVhZGVySGVpZ2h0XCIpO1xuICBjb25zdCBoZWFkZXJGb290ZXJUYWcgPSB1c2VFbWl0dGVyVmFsdWUkMShcImhlYWRlckZvb3RlclRhZ1wiKTtcbiAgY29uc3QgcmVmID0gdXNlU2l6ZSgoZWwpID0+IGhlYWRlckhlaWdodChjb3JyZWN0SXRlbVNpemUoZWwsIFwiaGVpZ2h0XCIpKSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VFbWl0dGVyVmFsdWUkMShcImNvbnRleHRcIik7XG4gIHJldHVybiBIZWFkZXIyID8gUmVhY3QuY3JlYXRlRWxlbWVudChoZWFkZXJGb290ZXJUYWcsIHsgcmVmIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoSGVhZGVyMiwgY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoSGVhZGVyMiwgY29udGV4dCkpKSA6IG51bGw7XG59KTtcbmNvbnN0IEZvb3RlciA9IFJlYWN0Lm1lbW8oZnVuY3Rpb24gVmlydHVvc29HcmlkRm9vdGVyKCkge1xuICBjb25zdCBGb290ZXIyID0gdXNlRW1pdHRlclZhbHVlJDEoXCJGb290ZXJDb21wb25lbnRcIik7XG4gIGNvbnN0IGZvb3RlckhlaWdodCA9IHVzZVB1Ymxpc2hlciQxKFwiZm9vdGVySGVpZ2h0XCIpO1xuICBjb25zdCBoZWFkZXJGb290ZXJUYWcgPSB1c2VFbWl0dGVyVmFsdWUkMShcImhlYWRlckZvb3RlclRhZ1wiKTtcbiAgY29uc3QgcmVmID0gdXNlU2l6ZSgoZWwpID0+IGZvb3RlckhlaWdodChjb3JyZWN0SXRlbVNpemUoZWwsIFwiaGVpZ2h0XCIpKSk7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VFbWl0dGVyVmFsdWUkMShcImNvbnRleHRcIik7XG4gIHJldHVybiBGb290ZXIyID8gUmVhY3QuY3JlYXRlRWxlbWVudChoZWFkZXJGb290ZXJUYWcsIHsgcmVmIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRm9vdGVyMiwgY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoRm9vdGVyMiwgY29udGV4dCkpKSA6IG51bGw7XG59KTtcbmNvbnN0IFZpZXdwb3J0JDEgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoVmlydHVvc29HcmlkTW9ja0NvbnRleHQpO1xuICBjb25zdCBpdGVtRGltZW5zaW9ucyA9IHVzZVB1Ymxpc2hlciQxKFwiaXRlbURpbWVuc2lvbnNcIik7XG4gIGNvbnN0IHZpZXdwb3J0RGltZW5zaW9ucyA9IHVzZVB1Ymxpc2hlciQxKFwidmlld3BvcnREaW1lbnNpb25zXCIpO1xuICBjb25zdCB2aWV3cG9ydFJlZiA9IHVzZVNpemUoKGVsKSA9PiB7XG4gICAgdmlld3BvcnREaW1lbnNpb25zKGVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKTtcbiAgfSk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN0eCkge1xuICAgICAgdmlld3BvcnREaW1lbnNpb25zKHsgaGVpZ2h0OiBjdHgudmlld3BvcnRIZWlnaHQsIHdpZHRoOiBjdHgudmlld3BvcnRXaWR0aCB9KTtcbiAgICAgIGl0ZW1EaW1lbnNpb25zKHsgaGVpZ2h0OiBjdHguaXRlbUhlaWdodCwgd2lkdGg6IGN0eC5pdGVtV2lkdGggfSk7XG4gICAgfVxuICB9LCBbY3R4LCB2aWV3cG9ydERpbWVuc2lvbnMsIGl0ZW1EaW1lbnNpb25zXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IHN0eWxlOiB2aWV3cG9ydFN0eWxlKGZhbHNlKSwgcmVmOiB2aWV3cG9ydFJlZiB9LCBjaGlsZHJlbik7XG59O1xuY29uc3QgV2luZG93Vmlld3BvcnQkMSA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChWaXJ0dW9zb0dyaWRNb2NrQ29udGV4dCk7XG4gIGNvbnN0IHdpbmRvd1ZpZXdwb3J0UmVjdCA9IHVzZVB1Ymxpc2hlciQxKFwid2luZG93Vmlld3BvcnRSZWN0XCIpO1xuICBjb25zdCBpdGVtRGltZW5zaW9ucyA9IHVzZVB1Ymxpc2hlciQxKFwiaXRlbURpbWVuc2lvbnNcIik7XG4gIGNvbnN0IGN1c3RvbVNjcm9sbFBhcmVudCA9IHVzZUVtaXR0ZXJWYWx1ZSQxKFwiY3VzdG9tU2Nyb2xsUGFyZW50XCIpO1xuICBjb25zdCB2aWV3cG9ydFJlZiA9IHVzZVdpbmRvd1ZpZXdwb3J0UmVjdFJlZih3aW5kb3dWaWV3cG9ydFJlY3QsIGN1c3RvbVNjcm9sbFBhcmVudCk7XG4gIFJlYWN0LnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKGN0eCkge1xuICAgICAgaXRlbURpbWVuc2lvbnMoeyBoZWlnaHQ6IGN0eC5pdGVtSGVpZ2h0LCB3aWR0aDogY3R4Lml0ZW1XaWR0aCB9KTtcbiAgICAgIHdpbmRvd1ZpZXdwb3J0UmVjdCh7IG9mZnNldFRvcDogMCwgdmlzaWJsZUhlaWdodDogY3R4LnZpZXdwb3J0SGVpZ2h0LCB2aXNpYmxlV2lkdGg6IGN0eC52aWV3cG9ydFdpZHRoIH0pO1xuICAgIH1cbiAgfSwgW2N0eCwgd2luZG93Vmlld3BvcnRSZWN0LCBpdGVtRGltZW5zaW9uc10pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHZpZXdwb3J0UmVmLCBzdHlsZTogdmlld3BvcnRTdHlsZShmYWxzZSkgfSwgY2hpbGRyZW4pO1xufTtcbmNvbnN0IEdyaWRSb290ID0gLyogQF9fUFVSRV9fICovIFJlYWN0Lm1lbW8oZnVuY3Rpb24gR3JpZFJvb3QyKHsgLi4ucHJvcHMgfSkge1xuICBjb25zdCB1c2VXaW5kb3dTY3JvbGwgPSB1c2VFbWl0dGVyVmFsdWUkMShcInVzZVdpbmRvd1Njcm9sbFwiKTtcbiAgY29uc3QgY3VzdG9tU2Nyb2xsUGFyZW50ID0gdXNlRW1pdHRlclZhbHVlJDEoXCJjdXN0b21TY3JvbGxQYXJlbnRcIik7XG4gIGNvbnN0IFRoZVNjcm9sbGVyID0gY3VzdG9tU2Nyb2xsUGFyZW50IHx8IHVzZVdpbmRvd1Njcm9sbCA/IFdpbmRvd1Njcm9sbGVyJDEgOiBTY3JvbGxlciQxO1xuICBjb25zdCBUaGVWaWV3cG9ydCA9IGN1c3RvbVNjcm9sbFBhcmVudCB8fCB1c2VXaW5kb3dTY3JvbGwgPyBXaW5kb3dWaWV3cG9ydCQxIDogVmlld3BvcnQkMTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZVNjcm9sbGVyLCB7IC4uLnByb3BzIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZVZpZXdwb3J0LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChIZWFkZXIsIG51bGwpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChHcmlkSXRlbXMsIG51bGwpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChGb290ZXIsIG51bGwpKSk7XG59KTtcbmNvbnN0IHtcbiAgQ29tcG9uZW50OiBHcmlkLFxuICB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlciQxLFxuICB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZSQxLFxuICB1c2VFbWl0dGVyOiB1c2VFbWl0dGVyJDFcbn0gPSAvKiBAX19QVVJFX18gKi8gc3lzdGVtVG9Db21wb25lbnQoXG4gIGNvbWJpbmVkU3lzdGVtJDEsXG4gIHtcbiAgICBvcHRpb25hbDoge1xuICAgICAgY29udGV4dDogXCJjb250ZXh0XCIsXG4gICAgICB0b3RhbENvdW50OiBcInRvdGFsQ291bnRcIixcbiAgICAgIG92ZXJzY2FuOiBcIm92ZXJzY2FuXCIsXG4gICAgICBpdGVtQ29udGVudDogXCJpdGVtQ29udGVudFwiLFxuICAgICAgY29tcG9uZW50czogXCJjb21wb25lbnRzXCIsXG4gICAgICBjb21wdXRlSXRlbUtleTogXCJjb21wdXRlSXRlbUtleVwiLFxuICAgICAgZGF0YTogXCJkYXRhXCIsXG4gICAgICBpbml0aWFsSXRlbUNvdW50OiBcImluaXRpYWxJdGVtQ291bnRcIixcbiAgICAgIHNjcm9sbFNlZWtDb25maWd1cmF0aW9uOiBcInNjcm9sbFNlZWtDb25maWd1cmF0aW9uXCIsXG4gICAgICBoZWFkZXJGb290ZXJUYWc6IFwiaGVhZGVyRm9vdGVyVGFnXCIsXG4gICAgICBsaXN0Q2xhc3NOYW1lOiBcImxpc3RDbGFzc05hbWVcIixcbiAgICAgIGl0ZW1DbGFzc05hbWU6IFwiaXRlbUNsYXNzTmFtZVwiLFxuICAgICAgdXNlV2luZG93U2Nyb2xsOiBcInVzZVdpbmRvd1Njcm9sbFwiLFxuICAgICAgY3VzdG9tU2Nyb2xsUGFyZW50OiBcImN1c3RvbVNjcm9sbFBhcmVudFwiLFxuICAgICAgc2Nyb2xsZXJSZWY6IFwic2Nyb2xsZXJSZWZcIixcbiAgICAgIGxvZ0xldmVsOiBcImxvZ0xldmVsXCIsXG4gICAgICByZXN0b3JlU3RhdGVGcm9tOiBcInJlc3RvcmVTdGF0ZUZyb21cIixcbiAgICAgIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4OiBcImluaXRpYWxUb3BNb3N0SXRlbUluZGV4XCJcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIHNjcm9sbFRvOiBcInNjcm9sbFRvXCIsXG4gICAgICBzY3JvbGxCeTogXCJzY3JvbGxCeVwiLFxuICAgICAgc2Nyb2xsVG9JbmRleDogXCJzY3JvbGxUb0luZGV4XCJcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgaXNTY3JvbGxpbmc6IFwiaXNTY3JvbGxpbmdcIixcbiAgICAgIGVuZFJlYWNoZWQ6IFwiZW5kUmVhY2hlZFwiLFxuICAgICAgc3RhcnRSZWFjaGVkOiBcInN0YXJ0UmVhY2hlZFwiLFxuICAgICAgcmFuZ2VDaGFuZ2VkOiBcInJhbmdlQ2hhbmdlZFwiLFxuICAgICAgYXRCb3R0b21TdGF0ZUNoYW5nZTogXCJhdEJvdHRvbVN0YXRlQ2hhbmdlXCIsXG4gICAgICBhdFRvcFN0YXRlQ2hhbmdlOiBcImF0VG9wU3RhdGVDaGFuZ2VcIixcbiAgICAgIHN0YXRlQ2hhbmdlZDogXCJzdGF0ZUNoYW5nZWRcIlxuICAgIH1cbiAgfSxcbiAgR3JpZFJvb3Rcbik7XG5jb25zdCBTY3JvbGxlciQxID0gLyogQF9fUFVSRV9fICovIGJ1aWxkU2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlciQxLCB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZSQxLCB1c2VFbWl0dGVyOiB1c2VFbWl0dGVyJDEgfSk7XG5jb25zdCBXaW5kb3dTY3JvbGxlciQxID0gLyogQF9fUFVSRV9fICovIGJ1aWxkV2luZG93U2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXI6IHVzZVB1Ymxpc2hlciQxLCB1c2VFbWl0dGVyVmFsdWU6IHVzZUVtaXR0ZXJWYWx1ZSQxLCB1c2VFbWl0dGVyOiB1c2VFbWl0dGVyJDEgfSk7XG5mdW5jdGlvbiByZXNvbHZlR2FwVmFsdWUocHJvcGVydHksIHZhbHVlLCBsb2cpIHtcbiAgaWYgKHZhbHVlICE9PSBcIm5vcm1hbFwiICYmICEodmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLmVuZHNXaXRoKFwicHhcIikpKSB7XG4gICAgbG9nKGAke3Byb3BlcnR5fSB3YXMgbm90IHJlc29sdmVkIHRvIHBpeGVsIHZhbHVlIGNvcnJlY3RseWAsIHZhbHVlLCBMb2dMZXZlbC5XQVJOKTtcbiAgfVxuICBpZiAodmFsdWUgPT09IFwibm9ybWFsXCIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICByZXR1cm4gcGFyc2VJbnQodmFsdWUgIT0gbnVsbCA/IHZhbHVlIDogXCIwXCIsIDEwKTtcbn1cbmNvbnN0IFZpcnR1b3NvR3JpZCA9IEdyaWQ7XG5jb25zdCB0YWJsZUNvbXBvbmVudFByb3BzU3lzdGVtID0gLyogQF9fUFVSRV9fICovIHN5c3RlbSgoKSA9PiB7XG4gIGNvbnN0IGl0ZW1Db250ZW50ID0gc3RhdGVmdWxTdHJlYW0oKGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIFwiSXRlbSAkXCIsIGluZGV4KSk7XG4gIGNvbnN0IGNvbnRleHQgPSBzdGF0ZWZ1bFN0cmVhbShudWxsKTtcbiAgY29uc3QgZml4ZWRIZWFkZXJDb250ZW50ID0gc3RhdGVmdWxTdHJlYW0obnVsbCk7XG4gIGNvbnN0IGZpeGVkRm9vdGVyQ29udGVudCA9IHN0YXRlZnVsU3RyZWFtKG51bGwpO1xuICBjb25zdCBjb21wb25lbnRzID0gc3RhdGVmdWxTdHJlYW0oe30pO1xuICBjb25zdCBjb21wdXRlSXRlbUtleSA9IHN0YXRlZnVsU3RyZWFtKGlkZW50aXR5KTtcbiAgY29uc3Qgc2Nyb2xsZXJSZWYgPSBzdGF0ZWZ1bFN0cmVhbShub29wKTtcbiAgY29uc3QgZGlzdGluY3RQcm9wID0gKHByb3BOYW1lLCBkZWZhdWx0VmFsdWUgPSBudWxsKSA9PiB7XG4gICAgcmV0dXJuIHN0YXRlZnVsU3RyZWFtRnJvbUVtaXR0ZXIoXG4gICAgICBwaXBlKFxuICAgICAgICBjb21wb25lbnRzLFxuICAgICAgICBtYXAoKGNvbXBvbmVudHMyKSA9PiBjb21wb25lbnRzMltwcm9wTmFtZV0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICApLFxuICAgICAgZGVmYXVsdFZhbHVlXG4gICAgKTtcbiAgfTtcbiAgcmV0dXJuIHtcbiAgICBjb250ZXh0LFxuICAgIGl0ZW1Db250ZW50LFxuICAgIGZpeGVkSGVhZGVyQ29udGVudCxcbiAgICBmaXhlZEZvb3RlckNvbnRlbnQsXG4gICAgY29tcG9uZW50cyxcbiAgICBjb21wdXRlSXRlbUtleSxcbiAgICBzY3JvbGxlclJlZixcbiAgICBUYWJsZUNvbXBvbmVudDogZGlzdGluY3RQcm9wKFwiVGFibGVcIiwgXCJ0YWJsZVwiKSxcbiAgICBUYWJsZUhlYWRDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIlRhYmxlSGVhZFwiLCBcInRoZWFkXCIpLFxuICAgIFRhYmxlRm9vdGVyQ29tcG9uZW50OiBkaXN0aW5jdFByb3AoXCJUYWJsZUZvb3RcIiwgXCJ0Zm9vdFwiKSxcbiAgICBUYWJsZUJvZHlDb21wb25lbnQ6IGRpc3RpbmN0UHJvcChcIlRhYmxlQm9keVwiLCBcInRib2R5XCIpLFxuICAgIFRhYmxlUm93Q29tcG9uZW50OiBkaXN0aW5jdFByb3AoXCJUYWJsZVJvd1wiLCBcInRyXCIpLFxuICAgIFNjcm9sbGVyQ29tcG9uZW50OiBkaXN0aW5jdFByb3AoXCJTY3JvbGxlclwiLCBcImRpdlwiKSxcbiAgICBFbXB0eVBsYWNlaG9sZGVyOiBkaXN0aW5jdFByb3AoXCJFbXB0eVBsYWNlaG9sZGVyXCIpLFxuICAgIFNjcm9sbFNlZWtQbGFjZWhvbGRlcjogZGlzdGluY3RQcm9wKFwiU2Nyb2xsU2Vla1BsYWNlaG9sZGVyXCIpLFxuICAgIEZpbGxlclJvdzogZGlzdGluY3RQcm9wKFwiRmlsbGVyUm93XCIpXG4gIH07XG59KTtcbmNvbnN0IGNvbWJpbmVkU3lzdGVtID0gLyogQF9fUFVSRV9fICovIHN5c3RlbSgoW2xpc3RTeXN0ZW0yLCBwcm9wc1N5c3RlbV0pID0+IHtcbiAgcmV0dXJuIHsgLi4ubGlzdFN5c3RlbTIsIC4uLnByb3BzU3lzdGVtIH07XG59LCB0dXAobGlzdFN5c3RlbSwgdGFibGVDb21wb25lbnRQcm9wc1N5c3RlbSkpO1xuY29uc3QgRGVmYXVsdFNjcm9sbFNlZWtQbGFjZWhvbGRlciA9ICh7IGhlaWdodCB9KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcInRyXCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgeyBzdHlsZTogeyBoZWlnaHQgfSB9KSk7XG5jb25zdCBEZWZhdWx0RmlsbGVyUm93ID0gKHsgaGVpZ2h0IH0pID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCB7IHN0eWxlOiB7IGhlaWdodCwgcGFkZGluZzogMCwgYm9yZGVyOiAwIH0gfSkpO1xuY29uc3QgSVRFTV9TVFlMRSA9IHsgb3ZlcmZsb3dBbmNob3I6IFwibm9uZVwiIH07XG5jb25zdCBJdGVtcyA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5tZW1vKGZ1bmN0aW9uIFZpcnR1b3NvSXRlbXMyKCkge1xuICBjb25zdCBsaXN0U3RhdGUgPSB1c2VFbWl0dGVyVmFsdWUoXCJsaXN0U3RhdGVcIik7XG4gIGNvbnN0IHNpemVSYW5nZXMgPSB1c2VQdWJsaXNoZXIoXCJzaXplUmFuZ2VzXCIpO1xuICBjb25zdCB1c2VXaW5kb3dTY3JvbGwgPSB1c2VFbWl0dGVyVmFsdWUoXCJ1c2VXaW5kb3dTY3JvbGxcIik7XG4gIGNvbnN0IGN1c3RvbVNjcm9sbFBhcmVudCA9IHVzZUVtaXR0ZXJWYWx1ZShcImN1c3RvbVNjcm9sbFBhcmVudFwiKTtcbiAgY29uc3Qgd2luZG93U2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjayA9IHVzZVB1Ymxpc2hlcihcIndpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlXCIpO1xuICBjb25zdCBfc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjayA9IHVzZVB1Ymxpc2hlcihcInNjcm9sbENvbnRhaW5lclN0YXRlXCIpO1xuICBjb25zdCBzY3JvbGxDb250YWluZXJTdGF0ZUNhbGxiYWNrID0gY3VzdG9tU2Nyb2xsUGFyZW50IHx8IHVzZVdpbmRvd1Njcm9sbCA/IHdpbmRvd1Njcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2sgOiBfc2Nyb2xsQ29udGFpbmVyU3RhdGVDYWxsYmFjaztcbiAgY29uc3QgaXRlbUNvbnRlbnQgPSB1c2VFbWl0dGVyVmFsdWUoXCJpdGVtQ29udGVudFwiKTtcbiAgY29uc3QgdHJhY2tJdGVtU2l6ZXMgPSB1c2VFbWl0dGVyVmFsdWUoXCJ0cmFja0l0ZW1TaXplc1wiKTtcbiAgY29uc3QgaXRlbVNpemUgPSB1c2VFbWl0dGVyVmFsdWUoXCJpdGVtU2l6ZVwiKTtcbiAgY29uc3QgbG9nID0gdXNlRW1pdHRlclZhbHVlKFwibG9nXCIpO1xuICBjb25zdCB7IGNhbGxiYWNrUmVmLCByZWYgfSA9IHVzZUNoYW5nZWRMaXN0Q29udGVudHNTaXplcyhcbiAgICBzaXplUmFuZ2VzLFxuICAgIGl0ZW1TaXplLFxuICAgIHRyYWNrSXRlbVNpemVzLFxuICAgIHNjcm9sbENvbnRhaW5lclN0YXRlQ2FsbGJhY2ssXG4gICAgbG9nLFxuICAgIHZvaWQgMCxcbiAgICBjdXN0b21TY3JvbGxQYXJlbnRcbiAgKTtcbiAgY29uc3QgW2RldmlhdGlvbiwgc2V0RGV2aWF0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKDApO1xuICB1c2VFbWl0dGVyKFwiZGV2aWF0aW9uXCIsICh2YWx1ZSkgPT4ge1xuICAgIGlmIChkZXZpYXRpb24gIT09IHZhbHVlKSB7XG4gICAgICByZWYuY3VycmVudC5zdHlsZS5tYXJnaW5Ub3AgPSBgJHt2YWx1ZX1weGA7XG4gICAgICBzZXREZXZpYXRpb24odmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIGNvbnN0IEVtcHR5UGxhY2Vob2xkZXIgPSB1c2VFbWl0dGVyVmFsdWUoXCJFbXB0eVBsYWNlaG9sZGVyXCIpO1xuICBjb25zdCBTY3JvbGxTZWVrUGxhY2Vob2xkZXIgPSB1c2VFbWl0dGVyVmFsdWUoXCJTY3JvbGxTZWVrUGxhY2Vob2xkZXJcIikgfHwgRGVmYXVsdFNjcm9sbFNlZWtQbGFjZWhvbGRlcjtcbiAgY29uc3QgRmlsbGVyUm93ID0gdXNlRW1pdHRlclZhbHVlKFwiRmlsbGVyUm93XCIpIHx8IERlZmF1bHRGaWxsZXJSb3c7XG4gIGNvbnN0IFRhYmxlQm9keUNvbXBvbmVudCA9IHVzZUVtaXR0ZXJWYWx1ZShcIlRhYmxlQm9keUNvbXBvbmVudFwiKTtcbiAgY29uc3QgVGFibGVSb3dDb21wb25lbnQgPSB1c2VFbWl0dGVyVmFsdWUoXCJUYWJsZVJvd0NvbXBvbmVudFwiKTtcbiAgY29uc3QgY29tcHV0ZUl0ZW1LZXkgPSB1c2VFbWl0dGVyVmFsdWUoXCJjb21wdXRlSXRlbUtleVwiKTtcbiAgY29uc3QgaXNTZWVraW5nID0gdXNlRW1pdHRlclZhbHVlKFwiaXNTZWVraW5nXCIpO1xuICBjb25zdCBwYWRkaW5nVG9wQWRkaXRpb24gPSB1c2VFbWl0dGVyVmFsdWUoXCJwYWRkaW5nVG9wQWRkaXRpb25cIik7XG4gIGNvbnN0IGZpcnN0SXRlbUluZGV4ID0gdXNlRW1pdHRlclZhbHVlKFwiZmlyc3RJdGVtSW5kZXhcIik7XG4gIGNvbnN0IHN0YXRlZnVsVG90YWxDb3VudCA9IHVzZUVtaXR0ZXJWYWx1ZShcInN0YXRlZnVsVG90YWxDb3VudFwiKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUVtaXR0ZXJWYWx1ZShcImNvbnRleHRcIik7XG4gIGlmIChzdGF0ZWZ1bFRvdGFsQ291bnQgPT09IDAgJiYgRW1wdHlQbGFjZWhvbGRlcikge1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEVtcHR5UGxhY2Vob2xkZXIsIGNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KEVtcHR5UGxhY2Vob2xkZXIsIGNvbnRleHQpKTtcbiAgfVxuICBjb25zdCBwYWRkaW5nVG9wID0gbGlzdFN0YXRlLm9mZnNldFRvcCArIHBhZGRpbmdUb3BBZGRpdGlvbiArIGRldmlhdGlvbjtcbiAgY29uc3QgcGFkZGluZ0JvdHRvbSA9IGxpc3RTdGF0ZS5vZmZzZXRCb3R0b207XG4gIGNvbnN0IHBhZGRpbmdUb3BFbCA9IHBhZGRpbmdUb3AgPiAwID8gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoRmlsbGVyUm93LCB7IGhlaWdodDogcGFkZGluZ1RvcCwga2V5OiBcInBhZGRpbmctdG9wXCIsIGNvbnRleHQgfSkgOiBudWxsO1xuICBjb25zdCBwYWRkaW5nQm90dG9tRWwgPSBwYWRkaW5nQm90dG9tID4gMCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KEZpbGxlclJvdywgeyBoZWlnaHQ6IHBhZGRpbmdCb3R0b20sIGtleTogXCJwYWRkaW5nLWJvdHRvbVwiLCBjb250ZXh0IH0pIDogbnVsbDtcbiAgY29uc3QgaXRlbXMgPSBsaXN0U3RhdGUuaXRlbXMubWFwKChpdGVtKSA9PiB7XG4gICAgY29uc3QgaW5kZXggPSBpdGVtLm9yaWdpbmFsSW5kZXg7XG4gICAgY29uc3Qga2V5ID0gY29tcHV0ZUl0ZW1LZXkoaW5kZXggKyBmaXJzdEl0ZW1JbmRleCwgaXRlbS5kYXRhLCBjb250ZXh0KTtcbiAgICBpZiAoaXNTZWVraW5nKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChTY3JvbGxTZWVrUGxhY2Vob2xkZXIsIHtcbiAgICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoU2Nyb2xsU2Vla1BsYWNlaG9sZGVyLCBjb250ZXh0KSxcbiAgICAgICAga2V5LFxuICAgICAgICBpbmRleDogaXRlbS5pbmRleCxcbiAgICAgICAgaGVpZ2h0OiBpdGVtLnNpemUsXG4gICAgICAgIHR5cGU6IGl0ZW0udHlwZSB8fCBcIml0ZW1cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgVGFibGVSb3dDb21wb25lbnQsXG4gICAgICB7XG4gICAgICAgIC4uLmNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KFRhYmxlUm93Q29tcG9uZW50LCBjb250ZXh0KSxcbiAgICAgICAgLi4uaXRlbVByb3BJZk5vdERvbUVsZW1lbnQoVGFibGVSb3dDb21wb25lbnQsIGl0ZW0uZGF0YSksXG4gICAgICAgIGtleSxcbiAgICAgICAgXCJkYXRhLWluZGV4XCI6IGluZGV4LFxuICAgICAgICBcImRhdGEta25vd24tc2l6ZVwiOiBpdGVtLnNpemUsXG4gICAgICAgIFwiZGF0YS1pdGVtLWluZGV4XCI6IGl0ZW0uaW5kZXgsXG4gICAgICAgIHN0eWxlOiBJVEVNX1NUWUxFXG4gICAgICB9LFxuICAgICAgaXRlbUNvbnRlbnQoaXRlbS5pbmRleCwgaXRlbS5kYXRhLCBjb250ZXh0KVxuICAgICk7XG4gIH0pO1xuICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICBUYWJsZUJvZHlDb21wb25lbnQsXG4gICAgeyByZWY6IGNhbGxiYWNrUmVmLCBcImRhdGEtdGVzdC1pZFwiOiBcInZpcnR1b3NvLWl0ZW0tbGlzdFwiLCAuLi5jb250ZXh0UHJvcElmTm90RG9tRWxlbWVudChUYWJsZUJvZHlDb21wb25lbnQsIGNvbnRleHQpIH0sXG4gICAgW3BhZGRpbmdUb3BFbCwgLi4uaXRlbXMsIHBhZGRpbmdCb3R0b21FbF1cbiAgKTtcbn0pO1xuY29uc3QgVmlld3BvcnQgPSAoeyBjaGlsZHJlbiB9KSA9PiB7XG4gIGNvbnN0IGN0eCA9IFJlYWN0LnVzZUNvbnRleHQoVmlydHVvc29Nb2NrQ29udGV4dCk7XG4gIGNvbnN0IHZpZXdwb3J0SGVpZ2h0ID0gdXNlUHVibGlzaGVyKFwidmlld3BvcnRIZWlnaHRcIik7XG4gIGNvbnN0IGZpeGVkSXRlbUhlaWdodCA9IHVzZVB1Ymxpc2hlcihcImZpeGVkSXRlbUhlaWdodFwiKTtcbiAgY29uc3Qgdmlld3BvcnRSZWYgPSB1c2VTaXplKGNvbXBvc2Uodmlld3BvcnRIZWlnaHQsIChlbCkgPT4gY29ycmVjdEl0ZW1TaXplKGVsLCBcImhlaWdodFwiKSkpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdHgpIHtcbiAgICAgIHZpZXdwb3J0SGVpZ2h0KGN0eC52aWV3cG9ydEhlaWdodCk7XG4gICAgICBmaXhlZEl0ZW1IZWlnaHQoY3R4Lml0ZW1IZWlnaHQpO1xuICAgIH1cbiAgfSwgW2N0eCwgdmlld3BvcnRIZWlnaHQsIGZpeGVkSXRlbUhlaWdodF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyBzdHlsZTogdmlld3BvcnRTdHlsZShmYWxzZSksIHJlZjogdmlld3BvcnRSZWYsIFwiZGF0YS12aWV3cG9ydC10eXBlXCI6IFwiZWxlbWVudFwiIH0sIGNoaWxkcmVuKTtcbn07XG5jb25zdCBXaW5kb3dWaWV3cG9ydCA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgY3R4ID0gUmVhY3QudXNlQ29udGV4dChWaXJ0dW9zb01vY2tDb250ZXh0KTtcbiAgY29uc3Qgd2luZG93Vmlld3BvcnRSZWN0ID0gdXNlUHVibGlzaGVyKFwid2luZG93Vmlld3BvcnRSZWN0XCIpO1xuICBjb25zdCBmaXhlZEl0ZW1IZWlnaHQgPSB1c2VQdWJsaXNoZXIoXCJmaXhlZEl0ZW1IZWlnaHRcIik7XG4gIGNvbnN0IGN1c3RvbVNjcm9sbFBhcmVudCA9IHVzZUVtaXR0ZXJWYWx1ZShcImN1c3RvbVNjcm9sbFBhcmVudFwiKTtcbiAgY29uc3Qgdmlld3BvcnRSZWYgPSB1c2VXaW5kb3dWaWV3cG9ydFJlY3RSZWYod2luZG93Vmlld3BvcnRSZWN0LCBjdXN0b21TY3JvbGxQYXJlbnQpO1xuICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmIChjdHgpIHtcbiAgICAgIGZpeGVkSXRlbUhlaWdodChjdHguaXRlbUhlaWdodCk7XG4gICAgICB3aW5kb3dWaWV3cG9ydFJlY3QoeyBvZmZzZXRUb3A6IDAsIHZpc2libGVIZWlnaHQ6IGN0eC52aWV3cG9ydEhlaWdodCwgdmlzaWJsZVdpZHRoOiAxMDAgfSk7XG4gICAgfVxuICB9LCBbY3R4LCB3aW5kb3dWaWV3cG9ydFJlY3QsIGZpeGVkSXRlbUhlaWdodF0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgeyByZWY6IHZpZXdwb3J0UmVmLCBzdHlsZTogdmlld3BvcnRTdHlsZShmYWxzZSksIFwiZGF0YS12aWV3cG9ydC10eXBlXCI6IFwid2luZG93XCIgfSwgY2hpbGRyZW4pO1xufTtcbmNvbnN0IFRhYmxlUm9vdCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5tZW1vKGZ1bmN0aW9uIFRhYmxlVmlydHVvc29Sb290KHByb3BzKSB7XG4gIGNvbnN0IHVzZVdpbmRvd1Njcm9sbCA9IHVzZUVtaXR0ZXJWYWx1ZShcInVzZVdpbmRvd1Njcm9sbFwiKTtcbiAgY29uc3QgY3VzdG9tU2Nyb2xsUGFyZW50ID0gdXNlRW1pdHRlclZhbHVlKFwiY3VzdG9tU2Nyb2xsUGFyZW50XCIpO1xuICBjb25zdCBmaXhlZEhlYWRlckhlaWdodCA9IHVzZVB1Ymxpc2hlcihcImZpeGVkSGVhZGVySGVpZ2h0XCIpO1xuICBjb25zdCBmaXhlZEZvb3RlckhlaWdodCA9IHVzZVB1Ymxpc2hlcihcImZpeGVkRm9vdGVySGVpZ2h0XCIpO1xuICBjb25zdCBmaXhlZEhlYWRlckNvbnRlbnQgPSB1c2VFbWl0dGVyVmFsdWUoXCJmaXhlZEhlYWRlckNvbnRlbnRcIik7XG4gIGNvbnN0IGZpeGVkRm9vdGVyQ29udGVudCA9IHVzZUVtaXR0ZXJWYWx1ZShcImZpeGVkRm9vdGVyQ29udGVudFwiKTtcbiAgY29uc3QgY29udGV4dCA9IHVzZUVtaXR0ZXJWYWx1ZShcImNvbnRleHRcIik7XG4gIGNvbnN0IHRoZWFkUmVmID0gdXNlU2l6ZShjb21wb3NlKGZpeGVkSGVhZGVySGVpZ2h0LCAoZWwpID0+IGNvcnJlY3RJdGVtU2l6ZShlbCwgXCJoZWlnaHRcIikpKTtcbiAgY29uc3QgdGZvb3RSZWYgPSB1c2VTaXplKGNvbXBvc2UoZml4ZWRGb290ZXJIZWlnaHQsIChlbCkgPT4gY29ycmVjdEl0ZW1TaXplKGVsLCBcImhlaWdodFwiKSkpO1xuICBjb25zdCBUaGVTY3JvbGxlciA9IGN1c3RvbVNjcm9sbFBhcmVudCB8fCB1c2VXaW5kb3dTY3JvbGwgPyBXaW5kb3dTY3JvbGxlciA6IFNjcm9sbGVyO1xuICBjb25zdCBUaGVWaWV3cG9ydCA9IGN1c3RvbVNjcm9sbFBhcmVudCB8fCB1c2VXaW5kb3dTY3JvbGwgPyBXaW5kb3dWaWV3cG9ydCA6IFZpZXdwb3J0O1xuICBjb25zdCBUaGVUYWJsZSA9IHVzZUVtaXR0ZXJWYWx1ZShcIlRhYmxlQ29tcG9uZW50XCIpO1xuICBjb25zdCBUaGVUSGVhZCA9IHVzZUVtaXR0ZXJWYWx1ZShcIlRhYmxlSGVhZENvbXBvbmVudFwiKTtcbiAgY29uc3QgVGhlVEZvb3QgPSB1c2VFbWl0dGVyVmFsdWUoXCJUYWJsZUZvb3RlckNvbXBvbmVudFwiKTtcbiAgY29uc3QgdGhlSGVhZCA9IGZpeGVkSGVhZGVyQ29udGVudCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgVGhlVEhlYWQsXG4gICAge1xuICAgICAga2V5OiBcIlRhYmxlSGVhZFwiLFxuICAgICAgc3R5bGU6IHsgekluZGV4OiAyLCBwb3NpdGlvbjogXCJzdGlja3lcIiwgdG9wOiAwIH0sXG4gICAgICByZWY6IHRoZWFkUmVmLFxuICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoVGhlVEhlYWQsIGNvbnRleHQpXG4gICAgfSxcbiAgICBmaXhlZEhlYWRlckNvbnRlbnQoKVxuICApIDogbnVsbDtcbiAgY29uc3QgdGhlRm9vdCA9IGZpeGVkRm9vdGVyQ29udGVudCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgVGhlVEZvb3QsXG4gICAge1xuICAgICAga2V5OiBcIlRhYmxlRm9vdFwiLFxuICAgICAgc3R5bGU6IHsgekluZGV4OiAxLCBwb3NpdGlvbjogXCJzdGlja3lcIiwgYm90dG9tOiAwIH0sXG4gICAgICByZWY6IHRmb290UmVmLFxuICAgICAgLi4uY29udGV4dFByb3BJZk5vdERvbUVsZW1lbnQoVGhlVEZvb3QsIGNvbnRleHQpXG4gICAgfSxcbiAgICBmaXhlZEZvb3RlckNvbnRlbnQoKVxuICApIDogbnVsbDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZVNjcm9sbGVyLCB7IC4uLnByb3BzIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFRoZVZpZXdwb3J0LCBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgIFRoZVRhYmxlLFxuICAgIHsgc3R5bGU6IHsgYm9yZGVyU3BhY2luZzogMCwgb3ZlcmZsb3dBbmNob3I6IFwibm9uZVwiIH0sIC4uLmNvbnRleHRQcm9wSWZOb3REb21FbGVtZW50KFRoZVRhYmxlLCBjb250ZXh0KSB9LFxuICAgIFt0aGVIZWFkLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChJdGVtcywgeyBrZXk6IFwiVGFibGVCb2R5XCIgfSksIHRoZUZvb3RdXG4gICkpKTtcbn0pO1xuY29uc3Qge1xuICBDb21wb25lbnQ6IFRhYmxlLFxuICB1c2VQdWJsaXNoZXIsXG4gIHVzZUVtaXR0ZXJWYWx1ZSxcbiAgdXNlRW1pdHRlclxufSA9IC8qIEBfX1BVUkVfXyAqLyBzeXN0ZW1Ub0NvbXBvbmVudChcbiAgY29tYmluZWRTeXN0ZW0sXG4gIHtcbiAgICByZXF1aXJlZDoge30sXG4gICAgb3B0aW9uYWw6IHtcbiAgICAgIHJlc3RvcmVTdGF0ZUZyb206IFwicmVzdG9yZVN0YXRlRnJvbVwiLFxuICAgICAgY29udGV4dDogXCJjb250ZXh0XCIsXG4gICAgICBmb2xsb3dPdXRwdXQ6IFwiZm9sbG93T3V0cHV0XCIsXG4gICAgICBmaXJzdEl0ZW1JbmRleDogXCJmaXJzdEl0ZW1JbmRleFwiLFxuICAgICAgaXRlbUNvbnRlbnQ6IFwiaXRlbUNvbnRlbnRcIixcbiAgICAgIGZpeGVkSGVhZGVyQ29udGVudDogXCJmaXhlZEhlYWRlckNvbnRlbnRcIixcbiAgICAgIGZpeGVkRm9vdGVyQ29udGVudDogXCJmaXhlZEZvb3RlckNvbnRlbnRcIixcbiAgICAgIG92ZXJzY2FuOiBcIm92ZXJzY2FuXCIsXG4gICAgICBpbmNyZWFzZVZpZXdwb3J0Qnk6IFwiaW5jcmVhc2VWaWV3cG9ydEJ5XCIsXG4gICAgICB0b3RhbENvdW50OiBcInRvdGFsQ291bnRcIixcbiAgICAgIHRvcEl0ZW1Db3VudDogXCJ0b3BJdGVtQ291bnRcIixcbiAgICAgIGluaXRpYWxUb3BNb3N0SXRlbUluZGV4OiBcImluaXRpYWxUb3BNb3N0SXRlbUluZGV4XCIsXG4gICAgICBjb21wb25lbnRzOiBcImNvbXBvbmVudHNcIixcbiAgICAgIGdyb3VwQ291bnRzOiBcImdyb3VwQ291bnRzXCIsXG4gICAgICBhdEJvdHRvbVRocmVzaG9sZDogXCJhdEJvdHRvbVRocmVzaG9sZFwiLFxuICAgICAgYXRUb3BUaHJlc2hvbGQ6IFwiYXRUb3BUaHJlc2hvbGRcIixcbiAgICAgIGNvbXB1dGVJdGVtS2V5OiBcImNvbXB1dGVJdGVtS2V5XCIsXG4gICAgICBkZWZhdWx0SXRlbUhlaWdodDogXCJkZWZhdWx0SXRlbUhlaWdodFwiLFxuICAgICAgZml4ZWRJdGVtSGVpZ2h0OiBcImZpeGVkSXRlbUhlaWdodFwiLFxuICAgICAgaXRlbVNpemU6IFwiaXRlbVNpemVcIixcbiAgICAgIHNjcm9sbFNlZWtDb25maWd1cmF0aW9uOiBcInNjcm9sbFNlZWtDb25maWd1cmF0aW9uXCIsXG4gICAgICBkYXRhOiBcImRhdGFcIixcbiAgICAgIGluaXRpYWxJdGVtQ291bnQ6IFwiaW5pdGlhbEl0ZW1Db3VudFwiLFxuICAgICAgaW5pdGlhbFNjcm9sbFRvcDogXCJpbml0aWFsU2Nyb2xsVG9wXCIsXG4gICAgICBhbGlnblRvQm90dG9tOiBcImFsaWduVG9Cb3R0b21cIixcbiAgICAgIHVzZVdpbmRvd1Njcm9sbDogXCJ1c2VXaW5kb3dTY3JvbGxcIixcbiAgICAgIGN1c3RvbVNjcm9sbFBhcmVudDogXCJjdXN0b21TY3JvbGxQYXJlbnRcIixcbiAgICAgIHNjcm9sbGVyUmVmOiBcInNjcm9sbGVyUmVmXCIsXG4gICAgICBsb2dMZXZlbDogXCJsb2dMZXZlbFwiXG4gICAgfSxcbiAgICBtZXRob2RzOiB7XG4gICAgICBzY3JvbGxUb0luZGV4OiBcInNjcm9sbFRvSW5kZXhcIixcbiAgICAgIHNjcm9sbEludG9WaWV3OiBcInNjcm9sbEludG9WaWV3XCIsXG4gICAgICBzY3JvbGxUbzogXCJzY3JvbGxUb1wiLFxuICAgICAgc2Nyb2xsQnk6IFwic2Nyb2xsQnlcIixcbiAgICAgIGdldFN0YXRlOiBcImdldFN0YXRlXCJcbiAgICB9LFxuICAgIGV2ZW50czoge1xuICAgICAgaXNTY3JvbGxpbmc6IFwiaXNTY3JvbGxpbmdcIixcbiAgICAgIGVuZFJlYWNoZWQ6IFwiZW5kUmVhY2hlZFwiLFxuICAgICAgc3RhcnRSZWFjaGVkOiBcInN0YXJ0UmVhY2hlZFwiLFxuICAgICAgcmFuZ2VDaGFuZ2VkOiBcInJhbmdlQ2hhbmdlZFwiLFxuICAgICAgYXRCb3R0b21TdGF0ZUNoYW5nZTogXCJhdEJvdHRvbVN0YXRlQ2hhbmdlXCIsXG4gICAgICBhdFRvcFN0YXRlQ2hhbmdlOiBcImF0VG9wU3RhdGVDaGFuZ2VcIixcbiAgICAgIHRvdGFsTGlzdEhlaWdodENoYW5nZWQ6IFwidG90YWxMaXN0SGVpZ2h0Q2hhbmdlZFwiLFxuICAgICAgaXRlbXNSZW5kZXJlZDogXCJpdGVtc1JlbmRlcmVkXCIsXG4gICAgICBncm91cEluZGljZXM6IFwiZ3JvdXBJbmRpY2VzXCJcbiAgICB9XG4gIH0sXG4gIFRhYmxlUm9vdFxuKTtcbmNvbnN0IFNjcm9sbGVyID0gLyogQF9fUFVSRV9fICovIGJ1aWxkU2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXIsIHVzZUVtaXR0ZXJWYWx1ZSwgdXNlRW1pdHRlciB9KTtcbmNvbnN0IFdpbmRvd1Njcm9sbGVyID0gLyogQF9fUFVSRV9fICovIGJ1aWxkV2luZG93U2Nyb2xsZXIoeyB1c2VQdWJsaXNoZXIsIHVzZUVtaXR0ZXJWYWx1ZSwgdXNlRW1pdHRlciB9KTtcbmNvbnN0IFRhYmxlVmlydHVvc28gPSBUYWJsZTtcbmV4cG9ydCB7XG4gIEdyb3VwZWRWaXJ0dW9zbyxcbiAgTG9nTGV2ZWwsXG4gIFRhYmxlVmlydHVvc28sXG4gIFZpcnR1b3NvLFxuICBWaXJ0dW9zb0dyaWQsXG4gIFZpcnR1b3NvR3JpZE1vY2tDb250ZXh0LFxuICBWaXJ0dW9zb01vY2tDb250ZXh0XG59O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/react-virtuoso/dist/index.mjs\n"));

/***/ }),

/***/ "(app-pages-browser)/./components.json":
/*!*************************!*\
  !*** ./components.json ***!
  \*************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

"use strict";
module.exports = JSON.parse('{"$schema":"https://ui.shadcn.com/schema.json","style":"default","rsc":true,"tsx":true,"tailwind":{"config":"tailwind.config.ts","css":"app/globals.css","baseColor":"slate","cssVariables":true,"prefix":""},"aliases":{"components":"@/components","utils":"@/lib/utils"}}');

/***/ })

});